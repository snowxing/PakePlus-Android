import{d as T,r as g,o as V,w as Q,g as m,a as r,y as $,i as t,ad as u,ae as D,J as w,F as L,h as p,c as S,D as E,m as x,an as J,E as U,C as O,ap as K,bA as W,L as X,M as R,v as G,aD as H,a6 as Y,aU as Z,b as h,H as ee,aq as te,bB as se,ar as ne}from"./index-5kp1FiRg.js";import{b as le,i as ae,e as oe}from"./learningMaterials-UVGlHBHD.js";/* empty css              */import{q as ie}from"./config-BiPkORWZ.js";const re={class:""},ue={key:0,class:"selection mt-10px p-15px bg-white"},de={key:0,class:"my-10px"},ce={class:"text-blue-400"},me={class:"time mt-15px flex justify-between"},ve={class:"text-center flex-1"},fe={class:"text-16px text-green-600 font-bold"},we={class:"text-center border-l-1 border-r-1 border-gray-200 flex-1"},ge={class:"text-16px text-green-600 font-bold"},ye={class:"text-center flex-1"},he={class:"text-16px text-red-600 font-bold"},pe={key:1,class:"analysis mt-10px p-15px bg-white"},xe={class:"text-14px text-gray-700"},Ae=T({__name:"q-analysis",props:{id:{},selectedAnswer:{},correctAnswer:{}},setup(e){const d=e,s=g({}),c=g("0"),n=g(Date.now());return V(()=>{d.id&&le({id:d.id}).then(a=>{s.value=a})}),Q(()=>d.selectedAnswer,a=>{a&&(c.value=((Date.now()-n.value)/1e3).toFixed(),n.value=Date.now())}),(a,o)=>(r(),m("div",re,[e.selectedAnswer?(r(),m("div",ue,[t("div",{class:D([e.selectedAnswer===e.correctAnswer?"text-green-600":"text-red-600","font-bold"])},u(e.correctAnswer===e.selectedAnswer?"正确":"错误"),3),e.selectedAnswer?(r(),m("div",de,[o[0]||(o[0]=w(" 正确答案是",-1)),t("span",ce,u(" ".concat(e.correctAnswer)),1),o[1]||(o[1]=w("， 你的答案是",-1)),t("span",{class:D(e.selectedAnswer?"text-red-600":"text-gray-600")},u(" ".concat(e.selectedAnswer||"未作答")),3)])):$("",!0),t("div",me,[t("div",ve,[o[2]||(o[2]=t("h5",{class:"text-12px text-gray-600"}," 个人答题用时 ",-1)),t("p",fe,u(c.value),1)]),t("div",we,[o[3]||(o[3]=t("h5",{class:"text-12px text-gray-600"}," 全企业正确率 ",-1)),t("p",ge,u(s.value.accuracy)+"% ",1)]),t("div",ye,[o[4]||(o[4]=t("h5",{class:"text-12px text-gray-600"}," 易错题 ",-1)),t("p",he,u(s.value.fallible),1)])])])):$("",!0),e.selectedAnswer?(r(),m("div",pe,[o[5]||(o[5]=t("h5",{class:"text-red-600 font-bold mb-10px"}," 解析 ",-1)),t("p",xe,u(s.value.analysis),1)])):$("",!0)]))}}),be=T({__name:"q-radio",props:{id:{},showAnalysis:{type:Boolean},insertQuestionLog:{},correctAnswer:{},selectedAnswer:{},fieldNames:{},options:{}},emits:["updateAnswer"],setup(e,{emit:d}){const s=e,c=d,n=g(null);Q(()=>s.options,o=>{n.value=s.selectedAnswer||null}),Q(()=>s.selectedAnswer,o=>{s.insertQuestionLog&&s.selectedAnswer===null&&(n.value=null)});function a(){c("updateAnswer",n.value),!s.showAnalysis&&(s.insertQuestionLog?ae(W({qid:s.insertQuestionLog.id,etp_id:s.insertQuestionLog.etp_id,this_answer:n.value,eid:s.insertQuestionLog.insertQuestion,status:n.value===s.correctAnswer?1:0})).then(()=>{}):s.correctAnswer&&(s.correctAnswer===n.value?X("回答正确"):R("回答错误")))}return(o,k)=>{const b=K,f=O,q=J,y=E,A=Ae;return r(),m(L,null,[p(y,null,{default:x(()=>[p(q,{modelValue:n.value,"onUpdate:modelValue":k[0]||(k[0]=v=>n.value=v),onChange:a},{default:x(()=>[(r(!0),m(L,null,U(e.options,(v,i)=>(r(),S(f,{key:i},{default:x(()=>[p(b,{"checked-color":!e.insertQuestionLog&&e.correctAnswer&&n.value&&e.correctAnswer!==n.value?"var(--van-danger-color)":"var(--van-radio-checked-icon-color)",class:"radio-cell",name:e.fieldNames.value?v[e.fieldNames.value]:v.value},{default:x(()=>[w(u(e.fieldNames.value?v[e.fieldNames.value]:v.value)+". "+u(e.fieldNames.label?v[e.fieldNames.label]:v.label),1)]),_:2},1032,["checked-color","name"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1}),e.showAnalysis?(r(),S(A,{key:0,id:e.id,"selected-answer":n.value,"correct-answer":e.correctAnswer},null,8,["id","selected-answer","correct-answer"])):$("",!0)],64)}}}),_e=G(be,[["__scopeId","data-v-56fe5d42"]]),$e={style:{display:"flex","align-items":"center",gap:"6px","font-size":"16px"}},ke={style:{color:"red","font-weight":"bold"}},qe=T({__name:"q-countdownTimer",props:{minutes:{}},emits:["timeup","update"],setup(e,{expose:d,emit:s}){const c=e,n=s,a=g(c.minutes*60);let o=null;function k(y){f(),a.value=(y||c.minutes)*60,b()}function b(){o||(o=setInterval(()=>{a.value>0?a.value--:(f(),n("timeup"))},1e3))}function f(){o&&(clearInterval(o),o=null)}const q=H(()=>{const y=Math.floor(a.value/3600),A=Math.floor(a.value%3600/60),v=a.value%60,i=l=>l.toString().padStart(2,"0");return y>0?"".concat(i(y),":").concat(i(A),":").concat(i(v)):"".concat(i(A),":").concat(i(v))});return d({getValue:()=>a.value,start:b,init:k,stop:f}),V(b),Y(f),(y,A)=>(r(),m("div",$e,[A[0]||(A[0]=t("span",null,"还剩",-1)),t("span",ke,u(q.value),1)]))}}),Ne={class:"question-container"},Ce={key:0,class:"no-questions"},Qe={key:0,class:"pagination"},Le={style:{"font-weight":"700"}},Te={class:"question"},Be={class:"question-title"},De={key:0},Se={class:"navigation-buttons"},Ve={class:"question-card"},Me={class:"content"},ze=["onClick"],Fe={class:"footer"},Ie=T({__name:"q-list",props:{showAnalysis:{type:Boolean},showPagination:{type:Boolean},showAnswerSheet:{type:Boolean},insertQuestionLog:{},submitParams:{},data:{},fieldNames:{}},setup(e){const d=e,s=g([...d.data]),c=g(!1);Q(()=>d.data,i=>{s.value=[...i]},{immediate:!0});const n=g(0),a=H(()=>s.value[n.value]);function o(i){var l;s.value[n.value][((l=d.fieldNames)==null?void 0:l.selectedAnswer)||"selectedAnswer"]=i}function k(){n.value>0&&n.value--}function b(){n.value<s.value.length-1&&n.value++}const f=g();function q(){var i;s.value=s.value.map(l=>{var C;return{...l,[((C=d.fieldNames)==null?void 0:C.selectedAnswer)||"selectedAnswer"]:null}}),(i=f.value)==null||i.init()}function y(){var i;oe(Object.assign(d.submitParams,{pay_minute:Math.round((180-((i=f.value)==null?void 0:i.getValue()))/60)})).then(l=>{l.status==="error"&&R(l.msg)})}function A(){f.value&&se({title:"",message:"如果解决方法是丑陋的，那就肯定还有更好的解决方法，只是还没有发现而已。"}).then(()=>{y()}).catch(()=>{})}function v(){ne({title:"标题",message:"代码是写出来给人看的，附带能在机器上运行。"}).then(()=>{y()})}return(i,l)=>{var M,z,F,I;const C=_e,N=ee,j=te;return r(),m("div",Ne,[s.value.length===0?(r(),m("div",Ce," 没有题目 ")):(r(),m(L,{key:1},[e.showPagination?(r(),m("div",Qe,[t("span",null,[t("span",Le,u(n.value+1),1),l[2]||(l[2]=w("/ ",-1)),t("span",null,u(s.value.length),1)]),p(qe,{ref_key:"timerRef",ref:f,minutes:3,onTimeup:v},null,512)])):$("",!0),t("div",Te,[t("div",Be,[Z(i.$slots,"title",{rows:{...h(a),index:n.value}},()=>{var _;return[t("span",null,[w("("+u(n.value+1)+"). ",1),t("span",null,"["+u(h(ie)(h(a).qtype))+"]",1),w(" "+u(h(a)[((_=e.fieldNames)==null?void 0:_.title)||"title"]),1)])]},!0)]),h(a)[((M=e.fieldNames)==null?void 0:M.children)||"children"]?(r(),m("div",De,[p(C,{id:h(a).id,"show-analysis":e.showAnalysis,"insert-question-log":e.insertQuestionLog?{...h(a),insertQuestion:e.insertQuestionLog}:null,"selected-answer":h(a)[((z=e.fieldNames)==null?void 0:z.selectedAnswer)||"selectedAnswer"],"correct-answer":h(a)[((F=e.fieldNames)==null?void 0:F.correctAnswer)||"correctAnswer"],options:h(a)[((I=e.fieldNames)==null?void 0:I.children)||"children"],"field-names":e.fieldNames,onUpdateAnswer:o},null,8,["id","show-analysis","insert-question-log","selected-answer","correct-answer","options","field-names"])])):$("",!0)]),t("div",Se,[p(N,{size:"small",type:"default",disabled:n.value===0,onClick:k},{default:x(()=>[...l[3]||(l[3]=[w(" 上一题 ",-1)])]),_:1},8,["disabled"]),e.showAnswerSheet?(r(),S(N,{key:0,size:"small",hairline:"",plain:"",type:"primary",onClick:l[0]||(l[0]=_=>c.value=!0)},{default:x(()=>[...l[4]||(l[4]=[w(" 答题卡 ",-1)])]),_:1})):$("",!0),p(N,{size:"small",type:"primary",disabled:n.value===s.value.length-1,onClick:b},{default:x(()=>[...l[5]||(l[5]=[w(" 下一题 ",-1)])]),_:1},8,["disabled"])])],64)),p(j,{show:c.value,"onUpdate:show":l[1]||(l[1]=_=>c.value=_),position:"bottom",style:{height:"60%"}},{default:x(()=>[t("div",Ve,[l[8]||(l[8]=t("div",{class:"header"},[t("div",{class:"label"},[t("div",null,"未做"),t("div",{class:"circle"})]),t("div",{class:"label"},[t("div",null,"已做"),t("div",{class:"circle selected"})])],-1)),t("div",Me,[(r(!0),m(L,null,U(s.value,(_,B)=>{var P;return r(),m("div",{key:B,class:"item"},[t("div",{class:D([{selected:_[((P=e.fieldNames)==null?void 0:P.selectedAnswer)||"selectedAnswer"]},"circle circle"]),onClick:Pe=>n.value=B},u(B+1),11,ze)])}),128))]),t("div",Fe,[p(N,{size:"small",type:"primary",onClick:q},{default:x(()=>[...l[6]||(l[6]=[w(" 重新开始 ",-1)])]),_:1}),p(N,{size:"small",type:"primary",onClick:A},{default:x(()=>[...l[7]||(l[7]=[w(" 交卷 ",-1)])]),_:1})])])]),_:1},8,["show"])])}}}),je=G(Ie,[["__scopeId","data-v-d1952877"]]);function Ee(e=""){const d=g(""),s=g(e),c=()=>document.querySelector("#navbar").querySelector(".van-ellipsis");V(()=>{d.value=c().innerHTML});function n(a){c().innerHTML=a}return n(s.value),{title:s,setTitle:n}}export{je as _,Ee as u};
