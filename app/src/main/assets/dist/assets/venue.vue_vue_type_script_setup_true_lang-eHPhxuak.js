import{d,k as h,r as g,c as m,a as f,m as s,h as w,au as l,b as t,i as y,ad as b,_ as j}from"./index-5kp1FiRg.js";import{g as v}from"./healthRecord-nYYKLBYx.js";import{_ as k}from"./SearchForm.vue_vue_type_script_setup_true_lang-DetJ7zG1.js";import{c as z}from"./config-BiPkORWZ.js";const B=d({__name:"venue",setup(D){async function o({pageNum:e,form:a}){const _=new FormData;_.append("page",e),_.append("page_size",a.page_size),_.append("set_etp_id",a.set_etp_id),_.append("cat_id",a.cat_id),_.append("name",a.name),_.append("search",JSON.stringify({zhi_ye_wei_hai_yin_su:a.wei_hai}));const i=await v(_);return{total:Number(i.count),data:i.data}}const{routerPush:u}=h(),n=g({page_size:30,cat_id:8,name:"",gang_wei:""}),c=[{icon:"search",key:"search"}];function p(e){const a=[{label:"公司",value:e.etp_id_name},{label:"部门",value:e.bu_men},{label:"岗位",value:e.gang_wei},{label:"职业危害因素",value:e.zhi_ye_wei_hai_yin_su},{label:"职业接触限值(数值+单位)",value:e.zhi_ye_jie_chu_xian_zhi_shu_zhi_dan_wei},{label:"检测结果（数值+单位）",value:e.jian_ce_jie_guo_shu_zhi_dan_wei},{label:"结果判断",value:e.jie_guo_pan_ding},{label:"检测机构",value:e.jian_ce_ji_gou},{label:"下次检测时间",value:e.jian_ce_shi_jian},{label:"备注",value:e.bei_zhu}];u("siteDetail",{detail:JSON.stringify(a)})}const r=[{title:"职业危害因素",key:"zhi_ye_wei_hai_yin_su",width:"25%"},{title:"检测机构",key:"jian_ce_ji_gou",width:"20%"},{title:"检测结果",key:"jian_ce_jie_guo_shu_zhi_dan_wei",width:"20%"},{title:"下次检测时间",key:"xia_ci_jian_ce_shi_jian",width:"25%"}];return(e,a)=>{const _=j;return f(),m(_,{form:t(n),"onUpdate:form":a[1]||(a[1]=i=>l(n)?n.value=i:null),columns:r,request:o,floating:c,onOnRowClick:p},{"cell-special":s(({row:i})=>[y("div",null,b(t(z).trans("equipment_type",i.special)),1)]),searchForm:s(()=>[w(k,{form:t(n),"onUpdate:form":a[0]||(a[0]=i=>l(n)?n.value=i:null),dataKey:{wei_hai:"wei_hai"}},null,8,["form"])]),_:1},8,["form"])}}});export{B as _};
