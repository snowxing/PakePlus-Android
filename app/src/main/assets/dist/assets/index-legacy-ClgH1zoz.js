System.register(["./useTabsListener-legacy-BqsF0NKt.js","./index-legacy-CK9unWWd.js","./index-legacy-Bv-nUzTo.js","./riskStats-legacy-D3_bMWgn.js","./install-legacy-BpR_-QHD.js","./install-legacy-DLtSJaar.js","./install-legacy-NwM8Ok8V.js","./install-legacy-CxeYzW-1.js","./createSeriesDataSimply-legacy-BROSo_wZ.js","./install-legacy-B99kKqGh.js","./install-legacy-CjFeFKKo.js"],function(e,t){"use strict";var a,l,s,n,i,r,o,c,d,u,v,p,f,m,b,y,h,g,_,w,k,z;return{setters:[e=>{a=e.u},e=>{l=e.v,s=e.r,n=e.o,i=e.aj,r=e.aC,o=e.g,c=e.a,d=e.y,u=e.i,v=e.h,p=e.m,f=e.J,m=e.a$,b=e.d,y=e.c,h=e.b,g=e.e},null,e=>{_=e.g,w=e.a,k=e.b},e=>{z=e.e},null,null,null,null,null,null],execute:function(){const t={class:"stats-card"},S={key:0,class:"loading-container"},j=l({__name:"DepartmentStats",setup(e){s("");const a=s(!0),l=s(null);s(null);let b=null;const y=s({season:[],set_etp_id:"",level:""}),h=()=>{b?.resize()},g=e=>{const t={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,bottom:10,data:e.map(e=>e.title)},series:[{name:"部门风险数量",type:"pie",radius:"70%",avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold"}},labelLine:{show:!1},data:e.map(e=>({value:e.value,name:e.title}))}]};b.setOption(t)};return n(async()=>{await i(),(async()=>{try{a.value=!0;const e=await _(y.value);b=z(l.value),g(e)}catch(e){console.error("获取部门风险数据失败:",e)}finally{a.value=!1}})()}),r(()=>{b&&(b.dispose(),b=null),window.removeEventListener("resize",h)}),(e,s)=>{const n=m;return c(),o("div",t,[a.value?(c(),o("div",S,[v(n,{size:"24px"},{default:p(()=>[...s[0]||(s[0]=[f("图表加载中...",-1)])]),_:1})])):d("",!0),u("div",{ref_key:"pieChartRef",ref:l,class:"chart-container"},null,512)])}}},[["__scopeId","data-v-d5b601f6"]]),L={class:"stats-card"},C={key:0,class:"loading-container"},R=l({__name:"AreaStats",setup(e){s("");const t=s(!0),a=s(null),l=s(null);let i=null;const b=s({season:[],set_etp_id:"",level:""}),y=()=>{i?.resize()},h=e=>{const t={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,bottom:10,data:e.map(e=>e.title)},series:[{name:"区域风险数量",type:"pie",radius:"70%",avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold"}},labelLine:{show:!1},data:e.map(e=>({value:e.value,name:e.title}))}]};i.setOption(t)};return n(()=>{(async()=>{try{t.value=!0;const e=await w(b.value);i=z(a.value),h(e)}catch(e){console.error("获取区域风险数据失败:",e)}finally{t.value=!1}})()}),r(()=>{i&&(i.dispose(),i=null),window.removeEventListener("resize",y)}),(e,s)=>{const n=m;return c(),o("div",L,[t.value?(c(),o("div",C,[v(n,{size:"24px"},{default:p(()=>[...s[0]||(s[0]=[f("图表加载中...",-1)])]),_:1})])):d("",!0),u("div",{ref_key:"pieChartRef",ref:a,class:"chart-container"},null,512),u("div",{ref_key:"barChartRef",ref:l,class:"chart-container"},null,512)])}}},[["__scopeId","data-v-ad847d4c"]]),x={class:"stats-card"},W={key:0,class:"loading-container"},O=l({__name:"RiskLevelStats",setup(e){s("");const t=s(!0),a=s(null),l=s(null);let i=null,b=null;const y=[{id:1,name:"重大风险"},{id:2,name:"较大风险"},{id:3,name:"一般风险"},{id:4,name:"低风险"}],h=s({season:[],set_etp_id:""}),g=()=>{i?.resize(),b?.resize()},_=e=>{const t={tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,bottom:10,data:e.map(e=>{const t=y.find(t=>t.id==e.title);return t?t.name:e.title})},series:[{name:"风险分级",type:"pie",radius:"70%",avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"18",fontWeight:"bold"}},labelLine:{show:!1},data:e.map(e=>{const t=y.find(t=>t.id==e.title);return{value:e.value,name:t?t.name:e.title}})}]};i.setOption(t)};return n(()=>{i&&i.dispose(),b&&b.dispose(),i=z(a.value),b=z(l.value),window.addEventListener("resize",g),(async()=>{try{t.value=!0;const e=await k(h.value);_(e)}catch(e){console.error("获取风险分级数据失败:",e)}finally{t.value=!1}})()}),r(()=>{i&&(i.dispose(),i=null),b&&(b.dispose(),b=null),window.removeEventListener("resize",g)}),(e,s)=>{const n=m;return c(),o("div",x,[t.value?(c(),o("div",W,[v(n,{size:"24px"},{default:p(()=>[...s[0]||(s[0]=[f("图表加载中...",-1)])]),_:1})])):d("",!0),u("div",{ref_key:"pieChartRef",ref:a,class:"chart-container"},null,512),u("div",{ref_key:"barChartRef",ref:l,class:"chart-container"},null,512)])}}},[["__scopeId","data-v-4b219c8b"]]),I={class:"flex-center h-[100vh] w-100% items-center relative"},E=b({__name:"index",setup(e){const t=s("department-stats");return a("riskStats-click-tab",e=>{t.value=e.name}),(e,a)=>(c(),o("div",I,["department-stats"===h(t)?(c(),y(j,{key:0})):"area-stats"===h(t)?(c(),y(R,{key:1})):"level-stats"===h(t)?(c(),y(O,{key:2})):d("",!0)]))}});"function"==typeof g&&g(E),e("default",l(E,[["__scopeId","data-v-1781ba7c"]]))}}});
