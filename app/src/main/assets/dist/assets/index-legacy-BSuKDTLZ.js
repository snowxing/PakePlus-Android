System.register(["./useTabsListener-legacy-BqsF0NKt.js","./index-legacy-CK9unWWd.js","./ViolationRecord-legacy-DIy-9cUt.js","./index-legacy-DKq8HLyK.js","./config-legacy-CMljs_xA.js","./MedicalExaminationRecord-legacy-BeCXZCDu.js"],function(e,t){"use strict";var a,l,n,u,i,s,o,r,c,m,v,_,d,p,f,y,b,g,h,k,j,N,w,x,C,R,I,M,U,V,q,E,O,S,z,D,F;return{setters:[e=>{a=e.u},e=>{l=e.aB,n=e.d,u=e.r,i=e.o,s=e.g,o=e.a,r=e.h,c=e.y,m=e.m,v=e.C,_=e.b,d=e.i,p=e.F,f=e.E,y=e.D,b=e.j,g=e.bm,h=e.bn,k=e.bo,j=e.bp,N=e.c,w=e.l,x=e.w,C=e.G,R=e.U,I=e.k,M=e.au,U=e.ad,V=e._,q=e.aD,E=e.aE,O=e.e},e=>{S=e.g},e=>{z=e.a},e=>{D=e.c},e=>{F=e.g}],execute:function(){const t={class:"flex flex-wrap gap-10"},H=["src","onClick"],K=["src"],L=n({__name:"basicInfo",setup(e){const a=u({}),n=u("");function N(){const e=b().userInfo?.id;(async function(e){return l.get("/enbase/staff_get",{params:e})})({id:e}).then(e=>{a.value=e||{}})}function w(e){return h.find(t=>t.value===e)?.label||"-"}function x(e){return k.find(t=>t.value===e)?.label||"-"}function C(e){return j.find(t=>t.id===e)?.name||"未知"}function R(){n.value=""}return i(()=>{N()}),(e,l)=>{const u=v,i=y;return o(),s("div",null,[r(i,null,{default:m(()=>{return[r(u,{title:"姓名：",value:_(a).name||"-"},null,8,["value"]),r(u,{title:"性别：",value:(e=_(a).gender,g.find(t=>t.value===e)?.label||"女")},null,8,["value"]),r(u,{title:"年龄：",value:_(a).age||"-"},null,8,["value"]),r(u,{title:"联系方式：",value:_(a).contact||"-"},null,8,["value"]),r(u,{title:"学历：",value:C(_(a).edu_name)||"-"},null,8,["value"]),r(u,{title:"婚姻：",value:w(_(a).marriage)||"-"},null,8,["value"]),r(u,{title:"身份证号：",value:_(a).card_id||"-"},null,8,["value"]),r(u,{title:"籍贯：",value:_(a).nation||"-"},null,8,["value"]),r(u,{title:"状态：",value:x(_(a).staff_status)||"-"},null,8,["value"]),r(u,{title:"嗜好：",value:_(a).hobby||"-"},null,8,["value"]),r(u,{title:"企业：",value:_(a).company_obj?.name||"-"},null,8,["value"]),r(u,{title:"部门：",value:_(a).department_obj?.name||"-"},null,8,["value"]),r(u,{title:"岗位：",value:_(a).post_obj?.name||"-"},null,8,["value"]),r(u,{title:"备注：",value:_(a).note||"-"},null,8,["value"]),r(u,{title:"头像：",class:"!items-start"},{value:m(()=>[d("div",t,[(o(!0),s(p,null,f(_(a).photo&&_(a).photo.split(","),(e,t)=>(o(),s("image",{key:t,src:e,class:"h-140 w-140",onClick:t=>{return a=e,void(n.value=a);var a}},null,8,H))),128))])]),_:1})];var e}),_:1}),_(n).length>0?(o(),s("div",{key:0,class:"bg-black inset-0 fixed z-100",onClick:R},[d("image",{src:_(n),mode:"aspectFill",class:"h-full w-full"},null,8,K)])):c("",!0)])}}}),B=n({__name:"MyCertificate",setup(e){const t=u([]),a=u("");function n(){const{id:e}=b().userInfo;(async function(e){return l.get("/enbase/staff_cert_list",{params:e})})({main_id:e,type:1}).then(e=>{t.value=e.data||[]})}return i(()=>{n(),console.warn("MyCertificate mounted",a)}),(e,a)=>{const l=v,n=y;return o(),s("div",null,[(o(!0),s(p,null,f(_(t),(e,t)=>(o(),N(n,{key:t,inset:!0,class:"!mt-16"},{default:m(()=>[r(l,{title:"姓名：",value:e.main_name},null,8,["value"]),r(l,{title:"证书名称：",value:e.cert_name,class:"[&_.van-cell__value]:max-w-[70%]"},null,8,["value"]),r(l,{title:"证书编号：",value:e.no},null,8,["value"]),r(l,{title:"证书类型：",value:e.cert_name},null,8,["value"]),r(l,{title:"颁发机构：",value:e.mechanism_name,class:"[&_.van-cell__value]:max-w-[70%]"},null,8,["value"]),r(l,{title:"发证日期：",value:e.certification_time},null,8,["value"]),r(l,{title:"到期日期：",value:e.expire_time},null,8,["value"]),r(l,{title:"管理专员：",value:e.receive_name},null,8,["value"]),r(l,{title:"复审日期：",value:e.retrial_time},null,8,["value"]),r(l,{title:"到期安排：",value:e.content},null,8,["value"])]),_:2},1024))),128))])}}}),G=n({__name:"ViolationRecordSearch",props:{form:{default:()=>({})},dataKey:{default:{year:"implement_year",obj_id:"obj_id"}}},emits:["update:form"],setup(e,{emit:t}){const a=e,l=t,n=u([]),c=u([{text:"进行中",value:1},{text:"已完成",value:2}]),m=w({...a.form});return x(m,e=>{l("update:form",e)},{deep:!0}),x(()=>a.form,e=>{Object.assign(m,e)},{deep:!0,immediate:!0}),i(()=>{z({is_node:"0",id:"914682",deep:1,enbase:1}).then(e=>{n.value=e.map(e=>({text:e.title,value:e.node_id}))})}),(e,t)=>{const a=C,l=R;return o(),s(p,null,[r(a,{modelValue:_(m).name,"onUpdate:modelValue":t[0]||(t[0]=e=>_(m).name=e),type:"text",name:"text",label:"",placeholder:"请输入名称"},null,8,["modelValue"]),r(l,{value:_(m).violation_type,"onUpdate:value":t[1]||(t[1]=e=>_(m).violation_type=e),columns:n.value,label:"",placeholder:"请选择违章类型"},null,8,["value","columns"]),r(l,{value:_(m).status,"onUpdate:value":t[2]||(t[2]=e=>_(m).status=e),placeholder:"状态",columns:c.value},null,8,["value","columns"])],64)}}}),J=n({__name:"ViolationRecord",setup(e){b();const{routerPush:t}=I(),a=u({name:"",start_date:"",end_state:"",status:"",violation_type:""}),l=[{title:"违章名称",className:"three",key:"violation_event",uname:"",type:"selection"},{title:"违章类型",className:"three",key:"treeselect_8",uname:"",type:"selection"},{title:"违章地点",className:"three",key:"violation_place",uname:"",type:"selection"},{title:"状态",className:"three",key:"status",uname:"violationRecords",type:"selection"}],n=[{icon:"search",key:"search"}];async function i({pageNum:e}={pageNum:1}){const t={page:e,...a.value},l=await S(t);return{total:Number(l.count)||0,data:l.data||[]}}function s(e){const a=[{label:"事件名称",value:e.violation_event},{label:"违章类型",value:e.treeselect_8},{label:"违章地点",value:e.violation_place},{label:"违章时间",value:e.violation_time},{label:"违章人",value:e.uid_user_name},{label:"处理人",value:e.violation_personnel_user_name},{label:"违章人",value:e.violation_personnel_user_name},{label:"所属部门",value:e.violation_personnel_department_id_depart_name.length>0?e.violation_personnel_department_id_depart_name:"-"},{label:"处理人",value:e.uid_user_name},{label:"违章罚款",value:e.punishment_amount},{label:"处理状态",value:D.trans("job_status_list",e.process_status)}];t("institutionalizedDetail",{detail:JSON.stringify(a)})}return(e,t)=>{const u=V;return o(),N(u,{columns:l,request:i,onOnRowClick:s,floating:n,form:_(a),"onUpdate:form":t[1]||(t[1]=e=>M(a)?a.value=e:null)},{"cell-status":m(({row:e})=>[d("div",null,U(e?.statusObj?.label||""),1)]),searchForm:m(()=>[r(G,{form:_(a),"onUpdate:form":t[0]||(t[0]=e=>M(a)?a.value=e:null)},null,8,["form"])]),_:1},8,["form"])}}}),P=n({__name:"MedicalExaminationRecord",setup(e){const t=b(),a=[{title:"姓名",className:"three",key:"xing_ming",width:80,uname:"",type:"selection"},{title:"岗位",className:"three",key:"gang_wei",width:80,uname:"",type:"selection"},{title:"日期",className:"three",key:"jian_cha_ri_qi",uname:"",width:100,type:"selection"},{title:"检查结论",className:"three",key:"jian_cha_jie_lun",width:100,type:"selection"},{title:"检查机构",className:"three",key:"jian-cha-ji-gou",width:100,type:"selection"}];async function l({pageNum:e}={pageNum:1}){const a={page:e,vio_uid:t.userInfo?.id},l=await F(a);return{total:Number(l.count)||0,data:l.data||[]}}return(e,t)=>{const n=V;return o(),N(n,{columns:a,request:l})}}}),T=n({__name:"MedicalHistory",setup(e){const t=b(),a=[{title:"疾病名称",key:"illness_name"},{title:"诊断时间",key:"diagnosis_date"},{title:"诊断医院",key:"hospital_name"}];async function n({pageNum:e}={pageNum:1}){const a={page:e,staff_id:t.userInfo?.id},n=await function(e){return l.get("/job/medical_history_list",{params:e})}(a);return{total:Number(n.count)||0,data:n.data||[]}}return(e,t)=>{const l=V;return o(),N(l,{columns:a,request:n})}}}),A=n({__name:"EmploymentHistory",setup(e){const t=b(),a=[{title:"起始时间",key:"start_date"},{title:"终止时间",key:"end_date"},{title:"工作单位",key:"company_name"}];async function n({pageNum:e}={pageNum:1}){const a={page:e,staff_id:t.userInfo?.id},n=await function(e){return l.get("/job/career_history_list",{params:e})}(a);return{total:Number(n.count)||0,data:n.data||[]}}return(e,t)=>{const l=V;return o(),N(l,{columns:a,request:n})}}}),Q={class:"flex-center h-[100vh] w-100% items-center"},W=e("default",n({__name:"index",setup(e){const t=u("basic");a("person-click-tab",e=>{t.value=e.name});const l=q(()=>({basic:L,cert:B,violation:J,tijian:P,bingshi:T,timing:A})),n=q(()=>l.value[t.value]||null);return(e,t)=>(o(),s("div",Q,[(o(),N(E(n.value)))]))}}));"function"==typeof O&&O(W)}}});
