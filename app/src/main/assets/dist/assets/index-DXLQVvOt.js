import{d as f,l as g,w,c as k,a as _,b as d,G as x,r as p,g as y,h as i,_ as T,m as v,aq as P,x as $,z as B,e as h}from"./index-5kp1FiRg.js";import C from"./detail-ew4YeckH.js";import{g as F}from"./baoyangManagement-Bkj08ZRC.js";import{u as L}from"./useTabsListener-CnvSNM1v.js";import"./Detail-CBGWh8FM.js";/* empty css                                                               */const U=f({__name:"PlanListSearchForm",props:{form:{}},emits:["update:form"],setup(c,{emit:l}){const n=c,o=l,r=g({...n.form});return w(r,m=>{o("update:form",m)},{deep:!0}),(m,a)=>{const e=x;return _(),k(e,{modelValue:d(r).evaluate,"onUpdate:modelValue":a[0]||(a[0]=t=>d(r).evaluate=t),type:"text",name:"text",label:"评定项目",placeholder:"请输入评定项目"},null,8,["modelValue"])}}}),V=f({__name:"PlanList",setup(c){async function l({pageNum:e,form:t}){const u=await F({page:e,check:1,...t});return{total:Number(u.count),data:u.data}}const n=[{title:"演练名称",key:"drill_name",width:"40%",align:"center"},{title:"地点",key:"area_name",width:"20%"},{title:"组织部门",key:"department",width:"18%",align:"right"},{title:"计划时间",key:"year",width:"22%",align:"right",render:(e,t)=>"".concat(t.year).concat(t.month)}],o=p(!1),r=p([]);function m(e){o.value=!0,r.value=[{label:"演练名称",value:e.drill_name},{label:"组织部门",value:e.department},{label:"负责人",value:e.staff},{label:"状态",value:e.drill_type},{label:"演练地点",value:e.area_name},{label:"计划时间",value:e.year+e.month},{label:"备注",value:e.remarks,renderType:"list"},{label:"演练记录",value:e.files_summingup,renderType:"files"},{label:"演练总结",value:e.files_allsummingup,renderType:"files"},{label:"演练评估",value:e.files_pingsummingup,renderType:"files"},{label:"附件",value:e.files,renderType:"files"}]}const a=p({evaluate:""});return(e,t)=>{const u=T,b=P;return _(),y("div",null,[i(u,{form:a.value,"onUpdate:form":t[1]||(t[1]=s=>a.value=s),columns:n,request:l,floating:[{icon:"search",key:"search"}],onOnRowClick:m},{searchForm:v(()=>[i(U,{form:a.value,"onUpdate:form":t[0]||(t[0]=s=>a.value=s)},null,8,["form"])]),_:1},8,["form"]),i(b,{show:o.value,"onUpdate:show":t[2]||(t[2]=s=>o.value=s),position:"bottom",style:{height:"70%"}},{default:v(()=>[i(C,{items:r.value},null,8,["items"])]),_:1},8,["show"])])}}}),D={class:"flex-center h-[100vh] w-100% items-center"},q=f({__name:"index",setup(c){const l=p("");return L("emergencyPlan-click-tab",n=>{l.value=n.name}),(n,o)=>(_(),y("div",D,[$(i(V,null,null,512),[[B,l.value==="1"]])]))}});typeof h=="function"&&h(q);export{q as default};
