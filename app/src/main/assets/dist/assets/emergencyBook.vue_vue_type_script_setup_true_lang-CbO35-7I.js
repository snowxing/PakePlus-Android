import{d as _,l as b,w as p,o as k,g as y,a as g,h as c,G as v,F as x,k as V,r as w,c as C,m as F,au as d,b as f,_ as h,ba as B}from"./index-5kp1FiRg.js";const R=_({__name:"bookSearchForm",props:{form:{default:{}}},emits:["update:form"],setup(i,{emit:m}){const r=i,a=m,o=b({...r.form});return p(o,n=>{a("update:form",n)},{deep:!0}),p(()=>r.form,n=>{Object.assign(o,n)},{deep:!0,immediate:!0}),k(()=>{}),(n,l)=>{const e=v;return g(),y(x,null,[c(e,{modelValue:o.organization_name,"onUpdate:modelValue":l[0]||(l[0]=t=>o.organization_name=t),type:"text",name:"text",label:"",placeholder:"请输入机构名称"},null,8,["modelValue"]),c(e,{modelValue:o.person,"onUpdate:modelValue":l[1]||(l[1]=t=>o.person=t),type:"text",name:"text",label:"",placeholder:"请输入联系人"},null,8,["modelValue"])],64)}}}),z=_({__name:"emergencyBook",setup(i){async function m({pageNum:e,form:t}){const s=await B({page:e,...t});return{total:Number(s.count),data:s.data}}const{routerPush:r}=V(),a=w({organization_name:"",person:"",set_etp_id:""}),o=[{icon:"search",key:"search"}];function n(e){const t=[{label:"机构名称",value:e.name},{label:"联系人",value:e.person},{label:"联系方式",value:e.contact},{label:"值班电话",value:e.tel},{label:"备注",value:e.note},{label:"附件",value:e.files,renderType:"image"}];r("emergencyDetail",{detail:JSON.stringify(t)})}const l=[{title:"机构名称",key:"name"},{title:"联系人",key:"person"},{title:"联系方式",key:"contact"}];return(e,t)=>{const s=h;return g(),C(s,{form:f(a),"onUpdate:form":t[1]||(t[1]=u=>d(a)?a.value=u:null),columns:l,request:m,floating:o,onOnRowClick:n},{searchForm:F(()=>[c(R,{form:f(a),"onUpdate:form":t[0]||(t[0]=u=>d(a)?a.value=u:null)},null,8,["form"])]),_:1},8,["form"])}}});export{z as _};
