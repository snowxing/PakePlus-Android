System.register(["./inline-px-to-vw-legacy-DxHvyUMc.js","./index-legacy-CK9unWWd.js","./toNumber-legacy-BjkS-s7X.js"],function(e,r){"use strict";var s,l,a,o,d,i,t,n,m,u,c,p,g,f,w,v,y,h,V,k,x,b,P;return{setters:[e=>{s=e.v,l=e._},e=>{a=e.d,o=e.a7,d=e.f,i=e.j,t=e.r,n=e.l,m=e.aD,u=e.g,c=e.a,p=e.h,g=e.m,f=e.i,w=e.G,v=e.b,y=e.H,h=e.J,V=e.ad,k=e.a2,x=e.av,b=e.bc,P=e.e},null],execute:function(){const r={class:"m-x-a text-center w-7xl"},$={class:"rounded-3xl overflow-hidden"},E={class:"mt-16 rounded-3xl overflow-hidden"},_={class:"mt-16 rounded-3xl overflow-hidden"},C={class:"mt-16 rounded-3xl overflow-hidden"},q={class:"mt-16 rounded-3xl overflow-hidden"},M={class:"mt-16"},S=e("default",a({__name:"index",setup(e){const{t:a}=o(),P=d(),S=i(),U=t(!1),j=n({email:"",code:"",nickname:"",password:"",confirmPassword:""}),N=n({email:[{required:!0,message:a("register.pleaseEnterEmail")}],code:[{required:!0,message:a("register.pleaseEnterCode")}],nickname:[{required:!0,message:a("register.pleaseEnterNickname")}],password:[{required:!0,message:a("register.pleaseEnterPassword")}],confirmPassword:[{required:!0,message:a("register.pleaseEnterConfirmPassword")},{required:!0,validator:e=>e===j.password,message:a("register.passwordsDoNotMatch")}]});async function D(){try{U.value=!0,0===(await S.register()).code&&(b({type:"success",message:a("register.registerSuccess")}),P.push({name:"login"}))}finally{U.value=!1}}const z=t(!1),G=m(()=>z.value?a("register.gettingCode"):a("register.getCode"));async function H(){if(!j.email)return void b({type:"warning",message:a("register.pleaseEnterEmail")});z.value=!0;const e=await S.getCode();0===e.code&&b({type:"success",message:`${a("register.sendCodeSuccess")}: ${e.result}`}),z.value=!1}return(e,a)=>{const o=w,d=y,i=k,t=l;return c(),u("div",r,[p(i,{model:v(j),rules:v(N),"validate-trigger":"onSubmit",onSubmit:D},{default:g(()=>[f("div",$,[p(o,{modelValue:v(j).email,"onUpdate:modelValue":a[0]||(a[0]=e=>v(j).email=e),modelModifiers:{trim:!0},rules:v(N).email,name:"email",placeholder:e.$t("register.email")},null,8,["modelValue","rules","placeholder"])]),f("div",E,[p(o,{modelValue:v(j).code,"onUpdate:modelValue":a[1]||(a[1]=e=>v(j).code=e),modelModifiers:{trim:!0},rules:v(N).code,name:"code",placeholder:e.$t("register.code")},{button:g(()=>[p(d,{size:"small",type:"primary",plain:"",onClick:H},{default:g(()=>[h(V(v(G)),1)]),_:1})]),_:1},8,["modelValue","rules","placeholder"])]),f("div",_,[p(o,{modelValue:v(j).nickname,"onUpdate:modelValue":a[2]||(a[2]=e=>v(j).nickname=e),modelModifiers:{trim:!0},rules:v(N).nickname,name:"nickname",placeholder:e.$t("register.nickname")},null,8,["modelValue","rules","placeholder"])]),f("div",C,[p(o,{modelValue:v(j).password,"onUpdate:modelValue":a[3]||(a[3]=e=>v(j).password=e),modelModifiers:{trim:!0},type:"password",rules:v(N).password,name:"password",placeholder:e.$t("register.password")},null,8,["modelValue","rules","placeholder"])]),f("div",q,[p(o,{modelValue:v(j).confirmPassword,"onUpdate:modelValue":a[4]||(a[4]=e=>v(j).confirmPassword=e),modelModifiers:{trim:!0},type:"password",rules:v(N).confirmPassword,name:"confirmPassword",placeholder:e.$t("register.comfirmPassword")},null,8,["modelValue","rules","placeholder"])]),f("div",M,[p(d,{loading:v(U),type:"primary","native-type":"submit",round:"",block:""},{default:g(()=>[h(V(e.$t("register.confirm")),1)]),_:1},8,["loading"])])]),_:1},8,["model","rules"]),p(t,{to:"login",block:"",style:x({"margin-top":v(s)(8)})},{default:g(()=>[h(V(e.$t("register.backToLogin")),1)]),_:1},8,["style"])])}}}));"function"==typeof P&&P(S)}}});
