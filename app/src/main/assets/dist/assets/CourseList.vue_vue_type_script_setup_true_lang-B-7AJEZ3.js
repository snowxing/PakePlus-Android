import{d as h,c as g,a as v,C as y,m as c,i as s,h as f,ad as n,J as k,H as x,p as b,v as B,k as D,u as R,r as w,_ as N,b3 as Y}from"./index-5kp1FiRg.js";import{g as S}from"./trainingClassList-BlPv_jAa.js";import{_ as V}from"./SearchForm.vue_vue_type_script_setup_true_lang-CfpoZqJH.js";const $={class:"title"},q={class:"index"},I={class:"name"},L={class:"meta"},M={class:"editor"},P={class:"date"},T={class:"right"},U={class:"price"},j=h({__name:"CourseRowComponent",props:{index:{},title:{},main_teacher:{},start_time:{},end_time:{},buy_status_cn:{},is_charge:{}},emits:["right-click"],setup(t,{emit:a}){const _=a;function m(){_("right-click")}function l(o){return b(o).format("YYYY-MM-DD")}return(o,u)=>{const p=x,e=y;return v(),g(e,{class:"course-cell",border:!1},{title:c(()=>[s("div",$,[s("span",q,n(t.index)+".",1),s("span",I,n(t.title),1)]),s("div",L,[s("div",M," 编制人: "+n(t.main_teacher),1),s("div",P,n(l(t.start_time))+" 至 "+n(l(t.end_time)),1)])]),value:c(()=>[s("div",T,[s("div",U,n(t.is_charge.toString()==="1"?"收费":"免费"),1),f(p,{type:"primary",size:"small",onClick:m},{default:c(()=>[...u[0]||(u[0]=[k(n("学习"),-1)])]),_:1})])]),_:1})}}}),z=B(j,[["__scopeId","data-v-4c0446b1"]]),E=h({__name:"CourseList",props:{course_type:{}},setup(t){const a=t,{routerPush:_}=D(),m=R();async function l({pageNum:e,form:i}){const d=await S({page:e,...m.query,...a.course_type?{course_type:a.course_type}:{},...i});return{total:Number(d.count||0),data:d.data||[]}}const o=w({is_open:1});function u(e){a.course_type==="8"?_("videoBankDetail",{id:e.id,classId:e.class_id||""}):a.course_type==="9"&&_("textBankDetail",{id:e.id})}const p=[{icon:"search",key:"search"}];return(e,i)=>{const d=N;return v(),g(d,{form:o.value,"onUpdate:form":i[1]||(i[1]=r=>o.value=r),request:l,floating:p},{row:c(({item:r,index:C})=>[f(z,Y({index:C+1},r,{onRightClick:F=>u(r)}),null,16,["index","onRightClick"])]),searchForm:c(()=>[f(V,{form:o.value,"onUpdate:form":i[0]||(i[0]=r=>o.value=r)},null,8,["form"])]),_:1},8,["form"])}}});export{E as _};
