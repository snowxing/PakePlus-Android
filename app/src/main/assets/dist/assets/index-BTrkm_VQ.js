import{u as b,E as v}from"./useSystemTheme-lyMPqukv.js";import{o as W,p as z,q as C,u as L}from"./trainingStatistics-Dmh4PdZ9.js";import{d as p,r as c,j as x,o as w,g as d,a as m,i as o,h as l,b as _,v as A,ad as y,_ as $,x as h,z as f,e as k}from"./index-5kp1FiRg.js";import{u as D,i as I,a as T,b as E,c as P,d as S}from"./install-CoVyZzHx.js";import{i as N}from"./install-BO7C1UUT.js";import{i as j}from"./install-8Xh6dgN5.js";import{u as q}from"./useTabsListener-CnvSNM1v.js";const B=p({__name:"WeakKnowledgePoints",setup(g){b(),D([I,N,T,E,P,S]);const t=c({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},xAxis:{type:"category",axisLabel:{rotate:45,fontWeight:"bold"},data:[]},yAxis:{type:"value"},series:[{data:Array.from({length:7}).fill(0).map(s=>0),type:"bar"}]}),{userInfo:n}=x();function r(){W({set_etp_id:n.etp_id}).then(s=>{t.value.xAxis.data=s.data.subject_list,t.value.series[0].data=s.data.mistake_num})}return w(()=>{r()}),(s,e)=>(m(),d("div",null,[e[0]||(e[0]=o("div",{class:"title"}," 薄弱知识点 ",-1)),l(_(v),{class:"chart",option:t.value,autoresize:""},null,8,["option"])]))}}),O=A(B,[["__scopeId","data-v-e915a3c1"]]),K=p({__name:"CorrectTrend",setup(g){b(),D([I,j,T,E,P,S]);const t=c({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},xAxis:{type:"category",axisLabel:{rotate:45,fontWeight:"bold"},data:[]},yAxis:{type:"value"},series:[{data:Array.from({length:7}).fill(0).map(e=>0),type:"line"}]}),n=c({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},xAxis:{type:"category",axisLabel:{rotate:45,fontWeight:"bold"},data:[]},yAxis:{type:"value"},series:[{data:Array.from({length:7}).fill(0).map(e=>0),type:"line"}]}),{userInfo:r}=x();function s(){z({set_etp_id:r.etp_id}).then(e=>{t.value.xAxis.data=e.data.time_list,n.value.xAxis.data=e.data.time_list,t.value.series[0].data=e.data.answer_number,n.value.series[0].data=e.data.accuracy})}return w(()=>{s()}),(e,i)=>(m(),d("div",null,[i[0]||(i[0]=o("div",{class:"title"}," 7天答题数 ",-1)),l(_(v),{class:"chart",option:t.value,autoresize:""},null,8,["option"]),i[1]||(i[1]=o("div",{class:"title"}," 7天正确数 ",-1)),l(_(v),{class:"chart",option:n.value,autoresize:""},null,8,["option"])]))}}),V=A(K,[["__scopeId","data-v-48f61e1b"]]),M=p({__name:"Exam",setup(g){const t=c({}),{userInfo:n}=x();async function r({pageNum:e,form:i}){var u;const a=await C({page:e,set_etp_id:n.etp_id});return t.value=a.data.base,{total:Number((u=a.data.rank)==null?void 0:u.length),data:a.data.rank}}const s=[{title:"考试名称",key:"exam_tile",width:"20%",align:"center"},{title:"成绩",key:"this_score",width:"10%"},{title:"考试排名",key:"rank_all",width:"16%",align:"right"},{title:"部门排名",key:"rank_department",width:"16%",align:"right"},{title:"企业排名",key:"rank_entprise",width:"16%",align:"right"},{title:"考试时间",key:"time",width:"16%",align:"right"}];return(e,i)=>{const a=$;return m(),d("div",null,[o("div",null,[o("span",null,"考试次数："+y(t.value.times),1),o("span",null,"及格率："+y(t.value.accuracy),1)]),l(a,{columns:s,request:r})])}}}),U=p({__name:"Training",setup(g){const t=c({}),{userInfo:n}=x();async function r({pageNum:e,form:i}){var u;const a=await L({page:e,set_etp_id:n.etp_id});return t.value=a.data.base,{total:Number((u=a.data.rank)==null?void 0:u.length),data:a.data.rank}}const s=[{title:"培训名称",key:"course_name",width:"20%",align:"center"},{title:"成绩",key:"this_score",width:"10%"},{title:"考试排名",key:"rank_all",width:"16%",align:"right"},{title:"部门排名",key:"rank_department",width:"16%",align:"right"},{title:"企业排名",key:"rank_entprise",width:"16%",align:"right"},{title:"培训时间",key:"time",width:"16%",align:"right"}];return(e,i)=>{const a=$;return m(),d("div",null,[o("div",null,[o("span",null,"培训学时："+y(t.value.durations),1),o("span",null,"培训次数："+y(t.value.times),1)]),l(a,{columns:s,request:r})])}}}),F={class:"flex-center h-[100vh] w-100% items-center"},G=p({__name:"index",setup(g){const t=c("1");return q("learningStatistics-click-tab",n=>{t.value=n.name}),(n,r)=>{const s=U,e=M,i=V,a=O;return m(),d("div",F,[h(l(s,null,null,512),[[f,_(t)==="1"]]),h(l(e,null,null,512),[[f,_(t)==="2"]]),h(l(i,null,null,512),[[f,_(t)==="3"]]),h(l(a,null,null,512),[[f,_(t)==="4"]])])}}});typeof k=="function"&&k(G);export{G as default};
