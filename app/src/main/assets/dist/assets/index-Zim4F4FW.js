import{u as x,_ as b}from"./useMetaTitle-BT2w5RJu.js";import{d as C,u as S,r as o,j as V,o as A,O as J,g as O,a as v,h as y,c as B,y as D,m,J as _,ad as l,C as T,i as f,b as j,e as q}from"./index-5kp1FiRg.js";import{d as h}from"./learningMaterials-UVGlHBHD.js";import{q as M}from"./config-BiPkORWZ.js";/* empty css              */const R={class:""},E={style:{color:"var(--van-danger-color)"}},I=C({__name:"index",setup(L){const e=S(),{setTitle:N}=x(),i=o({}),u=o([]),r=o({}),{userInfo:p}=V(),n=o({cover_file:"",file:""}),d=o(Number(e.query.course_type)!==9),w=!!e.query.showAnalysis;return A(()=>{e.query&&(N(e.query.type_cn||e.query.title),d.value?(r.value={id:e.query.obj_id,class_id:0,trainid:e.query.course_type,course_id:e.query.course_id,set_etp_id:p.etp_id,course_type:e.query.course_type||8},h(r.value).then(t=>{var a;t.status==="ok"&&(n.value=t.data,u.value=(a=JSON.parse(t.data.prevent_leave_set||"[]"))==null?void 0:a.map(s=>({...s,items:JSON.parse(s.items)})))}),i.value=e.query):(r.value={id:e.query.courseware_ids,course_id:e.query.id,set_etp_id:p.etp_id},h(r.value).then(t=>{var a;i.value=e.query,t.status==="ok"&&(u.value=(a=JSON.parse(t.data.prevent_leave_set||"[]"))==null?void 0:a.map(s=>({...s,items:JSON.parse(s.items)})))})))}),console.log("videoData",n),(t,a)=>{const s=T,g=J("video-player"),k=b;return v(),O("div",R,[y(s,null,{title:m(()=>[_(l(i.value.name),1)]),_:1}),d.value?(v(),B(g,{key:0,src:n.value.file,poster:n.value.cover_file,controls:"",loop:!0,volume:.6,style:{width:"100%",height:"300px"},autoplay:""},null,8,["src","poster"])):D("",!0),y(k,{data:u.value,"show-analysis":w,"field-names":{title:"question",children:"items",value:"label",label:"title",correctAnswer:"answer",selectedAnswer:"selectedAnswer"}},{title:m(({rows:c})=>[f("span",null,[_(l(c.index+1)+". ",1),f("span",E,"["+l(j(M)(c.qtype))+"]",1),_(l(c.question),1)])]),_:1},8,["data"])])}}});typeof q=="function"&&q(I);export{I as default};
