import{aB as h,d as y,r as k,l as w,w as d,o as x,g as q,a as g,h as p,G as C,U as F,F as B,k as U,c as V,m as _,au as f,b as m,i as R,ad as N,_ as O,e as v}from"./index-5kp1FiRg.js";import{c as b}from"./config-BiPkORWZ.js";async function D(r){return h.get("/Enequipment/check_list",{params:r})}const E=y({__name:"inspectionSearchForm",props:{form:{default:{}}},emits:["update:form"],setup(r,{emit:c}){const i=r,n=c,u=k([]),o=w({...i.form});return d(o,t=>{n("update:form",t)},{deep:!0}),d(()=>i.form,t=>{Object.assign(o,t)},{deep:!0,immediate:!0}),x(()=>{u.value=b.get("equipment_type").map(t=>({text:t.name,value:t.id}))}),(t,e)=>{const l=C,s=F;return g(),q(B,null,[p(l,{modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=a=>o.name=a),type:"text",name:"text",placeholder:"请输入设备名称"},null,8,["modelValue"]),p(s,{value:o.type,"onUpdate:value":e[1]||(e[1]=a=>o.type=a),columns:u.value,placeholder:"请选择设备类型"},null,8,["value","columns"])],64)}}}),L=y({__name:"inspectionManagement",props:{type:{}},setup(r){async function c({pageNum:e,form:l}){const s=await D({...l,page:e});return{total:Number(s.count),data:s.data}}const{routerPush:i}=U(),n=k({id:"",type:"",name:"",equipment_id:0}),u=[{icon:"search",key:"search"}];function o(e){e.name,e.code,e.location,e.input_4,e.input_5,e.date_8,e.exec_id_name,e.verify_id_name,i("task-process",{transid:e.process_inst_id,appid:0})}const t=[{title:"设备名称",key:"name",width:"30%"},{title:"设备类别",key:"special",width:"30%"},{title:"校验时间",key:"check_date",width:"20%"}];return(e,l)=>{const s=O;return g(),V(s,{form:m(n),"onUpdate:form":l[1]||(l[1]=a=>f(n)?n.value=a:null),columns:t,request:c,floating:u,onOnRowClick:o},{"cell-special":_(({row:a})=>[R("div",null,N(m(b).trans("equipment_type",a.special)),1)]),searchForm:_(()=>[p(E,{form:m(n),"onUpdate:form":l[0]||(l[0]=a=>f(n)?n.value=a:null)},null,8,["form"])]),_:1},8,["form"])}}});typeof v=="function"&&v(L);export{L as default};
