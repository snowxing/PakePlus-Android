System.register(["./useTabsListener-legacy-BqsF0NKt.js","./index-legacy-CK9unWWd.js","./config-legacy-CMljs_xA.js"],function(e,l){"use strict";var t,a,s,n,c,o,p,r,i,x,d,u,m,f,y,v,_,g,h,k,b,w,N,U,V,j,q,C,F,R,S,L,O;return{setters:[e=>{t=e.u},e=>{a=e.d,s=e.j,n=e.r,c=e.l,o=e.w,p=e.o,r=e.g,i=e.a,x=e.F,d=e.h,u=e.G,m=e.U,f=e.m,y=e.au,v=e.b,_=e.H,g=e.J,h=e.i,k=e.av,b=e.aw,w=e.ad,N=e._,U=e.E,V=e.aq,j=e.ax,q=e.ay,C=e.c,F=e.az,R=e.aA,S=e.y,L=e.e},e=>{O=e.c}],execute:function(){const l=[{title:"名称",key:"name",width:"40%"},{title:"风险等级",key:"level_name"},{title:"管控措施",key:"info",width:65}],z=a({__name:"SearchForm",props:{form:{default:{}}},emits:["update:form"],setup(e,{emit:l}){const t=e,a=l;s();const f=n([]);n([]),n([]),n({label:"title",value:"node_id",children:"child"});const y=c({...t.form});return o(y,e=>{a("update:form",e)},{deep:!0}),o(()=>t.form,e=>{Object.assign(y,e)},{deep:!0,immediate:!0}),p(()=>{f.value=O.get("risk_type").map(e=>({text:e.name,value:e.id}))}),(e,l)=>{const t=u,a=m;return i(),r(x,null,[d(t,{modelValue:y.name,"onUpdate:modelValue":l[0]||(l[0]=e=>y.name=e),type:"text",name:"text",placeholder:"请输入名称"},null,8,["modelValue"]),d(a,{value:y.level_id,"onUpdate:value":l[1]||(l[1]=e=>y.level_id=e),placeholder:"风险级别",columns:f.value},null,8,["value","columns"])],64)}}}),J={class:"p-[10px] relative"},A={class:"pr-[4px] h-[calc(100%-50px)] overflow-y-auto"},I={class:"text-[14px] text-blue-500 mb-[2px] pl-[2px]"},D={class:"gap-2 grid grid-cols-2"},E={class:"flex flex-col"},G={class:"text-[14px]"},H={class:"flex flex-col"},K={class:"text-[14px]"},T={class:"flex flex-col"},W={class:"text-[14px]"},B={class:"flex flex-col"},M={class:"text-[14px]"},P={class:"flex flex-col"},Q={class:"text-[14px]"},X={class:"flex flex-col"},Y={class:"text-[14px]"},Z={class:"flex flex-col"},$={class:"text-[14px]"},ee={class:"flex flex-col"},le={class:"text-[14px]"},te={class:"flex flex-col"},ae={class:"text-[14px]"},se={class:"flex flex-col"},ne={class:"text-[14px]"},ce={class:"flex flex-col"},oe={class:"text-[14px]"},pe={__name:"DeviceList",setup(e){const t=n({name:"",level_id:""});async function a({pageNum:e}={pageNum:1}){const l={page:e,doc_type:1,sign:2,...t.value},a=await j(l);return{total:Number(a.count)||0,data:a.data||[]}}const s=n(!1),c=n({});return(e,n)=>{const o=_,p=N,u=V;return i(),r(x,null,[d(p,{form:v(t),"onUpdate:form":n[1]||(n[1]=e=>y(t)?t.value=e:null),columns:v(l),request:a,floating:[{icon:"search",key:"search"}]},{"cell-level_name":f(({row:e})=>[h("div",{class:"text-12 text-white px-2 py-1 rounded",style:k({color:v(b)[e.level_id]?.color||"#ccc"})},w(v(b)[e.level_id]?.label),5)]),"cell-info":f(({row:e})=>[d(o,{type:"primary",size:"small",onClick:l=>function(e){c.value=JSON.parse(e.policy),s.value=!0}(e)},{default:f(()=>[...n[4]||(n[4]=[g(" 详情 ",-1)])]),_:1},8,["onClick"])]),searchForm:f(()=>[d(z,{form:v(t),"onUpdate:form":n[0]||(n[0]=e=>y(t)?t.value=e:null)},null,8,["form"])]),_:1},8,["form","columns"]),d(u,{show:v(s),"onUpdate:show":n[3]||(n[3]=e=>y(s)?s.value=e:null),position:"bottom",round:"",style:{height:"80%"}},{default:f(()=>[h("div",J,[n[17]||(n[17]=h("div",{class:"text-[16px] font-bold mb-[4px] bg-white top-0 sticky"}," 管控措施 ",-1)),h("div",A,[(i(!0),r(x,null,U(v(c),(e,l)=>(i(),r("div",{key:l,class:"mb-[6px]"},[h("div",I," 检查项目："+w(e.task_step),1),(i(!0),r(x,null,U(e.policy,(e,l)=>(i(),r("div",{key:l,class:"mb-[4px] p-[2px] border border-gray-300 rounded-lg"},[h("div",D,[h("div",E,[n[5]||(n[5]=h("span",{class:"text-[14px] text-gray-500"},"危险源",-1)),h("span",G,w(e.risk_name_id),1)]),h("div",H,[n[6]||(n[6]=h("span",{class:"text-[14px] text-gray-500"},"风险值",-1)),h("span",K,w(e.level_num),1)]),h("div",T,[n[7]||(n[7]=h("span",{class:"text-[14px] text-gray-500"},"风险等级",-1)),h("span",W,w(e.level_id),1)]),h("div",B,[n[8]||(n[8]=h("span",{class:"text-[14px] text-gray-500"},"主要后果",-1)),h("span",M,w(e.main_res),1)]),h("div",P,[n[9]||(n[9]=h("span",{class:"text-[14px] text-gray-500"},"工程措施",-1)),h("span",Q,w(e.project_policy),1)]),h("div",X,[n[10]||(n[10]=h("span",{class:"text-[14px] text-gray-500"},"教育培训措施",-1)),h("span",Y,w(e.stardard),1)]),h("div",Z,[n[11]||(n[11]=h("span",{class:"text-[14px] text-gray-500"},"管理措施",-1)),h("span",$,w(e.policy),1)]),h("div",ee,[n[12]||(n[12]=h("span",{class:"text-[14px] text-gray-500"},"个人安全措施",-1)),h("span",le,w(e.safe_policy),1)]),h("div",te,[n[13]||(n[13]=h("span",{class:"text-[14px] text-gray-500"},"应急处置措施",-1)),h("span",ae,w(e.emergency_policy),1)]),h("div",se,[n[14]||(n[14]=h("span",{class:"text-[14px] text-gray-500"},"管控层级",-1)),h("span",ne,w(e.control_name),1)]),h("div",ce,[n[15]||(n[15]=h("span",{class:"text-[14px] text-gray-500"},"检查频次",-1)),h("span",oe,w(e.frequency),1)])])]))),128))]))),128))]),d(o,{block:"",type:"primary",class:"mt-4",onClick:n[2]||(n[2]=e=>s.value=!1)},{default:f(()=>[...n[16]||(n[16]=[g(" 关闭 ",-1)])]),_:1})])]),_:1},8,["show"])],64)}}},re={class:"p-[10px] relative"},ie={class:"pr-[4px] h-[calc(100%-50px)] overflow-y-auto"},xe={class:"text-[14px] text-blue-500 mb-[2px] pl-[2px]"},de={class:"gap-2 grid grid-cols-2"},ue={class:"flex flex-col"},me={class:"text-[14px]"},fe={class:"flex flex-col"},ye={class:"text-[14px]"},ve={class:"flex flex-col"},_e={class:"text-[14px]"},ge={class:"flex flex-col"},he={class:"text-[14px]"},ke={class:"flex flex-col"},be={class:"text-[14px]"},we={class:"flex flex-col"},Ne={class:"text-[14px]"},Ue={class:"flex flex-col"},Ve={class:"text-[14px]"},je={class:"flex flex-col"},qe={class:"text-[14px]"},Ce={class:"flex flex-col"},Fe={class:"text-[14px]"},Re={class:"flex flex-col"},Se={class:"text-[14px]"},Le={class:"flex flex-col"},Oe={class:"text-[14px]"},ze={__name:"WorkActiveList",setup(e){const t=n({name:"",level_id:""});async function a({pageNum:e}={pageNum:1}){const l={page:e,doc_type:4,sign:2,...t.value},a=await j(l);return{total:Number(a.count)||0,data:a.data||[]}}const s=n(!1),c=n({});return q(()=>{a()}),(e,n)=>{const o=_,p=N,u=V;return i(),r(x,null,[d(p,{form:v(t),"onUpdate:form":n[1]||(n[1]=e=>y(t)?t.value=e:null),columns:v(l),request:a,floating:[{icon:"search",key:"search"}]},{"cell-level_name":f(({row:e})=>[h("div",{class:"text-12 text-white px-2 py-1 rounded",style:k({color:v(b)[e.level_id]?.color||"#ccc"})},w(v(b)[e.level_id]?.label||e.level_id),5)]),"cell-info":f(({row:e})=>[d(o,{type:"primary",size:"small",onClick:l=>function(e){c.value=JSON.parse(e.policy),s.value=!0}(e)},{default:f(()=>[...n[4]||(n[4]=[g(" 详情 ",-1)])]),_:1},8,["onClick"])]),searchForm:f(()=>[d(z,{form:v(t),"onUpdate:form":n[0]||(n[0]=e=>y(t)?t.value=e:null)},null,8,["form"])]),_:1},8,["form","columns"]),d(u,{show:v(s),"onUpdate:show":n[3]||(n[3]=e=>y(s)?s.value=e:null),position:"bottom",round:"",style:{height:"80%"}},{default:f(()=>[h("div",re,[n[17]||(n[17]=h("div",{class:"text-[16px] font-bold mb-[4px] bg-white top-0 sticky"}," 管控措施 ",-1)),h("div",ie,[(i(!0),r(x,null,U(v(c),(e,l)=>(i(),r("div",{key:l,class:"mb-[6px]"},[h("div",xe," 检查项目："+w(e.task_step),1),(i(!0),r(x,null,U(e.policy,(e,l)=>(i(),r("div",{key:l,class:"mb-[4px] p-[2px] border border-gray-300 rounded-lg"},[h("div",de,[h("div",ue,[n[5]||(n[5]=h("span",{class:"text-[14px] text-gray-500"},"危险源",-1)),h("span",me,w(e.risk_name_id),1)]),h("div",fe,[n[6]||(n[6]=h("span",{class:"text-[14px] text-gray-500"},"风险值",-1)),h("span",ye,w(e.level_num),1)]),h("div",ve,[n[7]||(n[7]=h("span",{class:"text-[14px] text-gray-500"},"风险等级",-1)),h("span",_e,w(e.level_id),1)]),h("div",ge,[n[8]||(n[8]=h("span",{class:"text-[14px] text-gray-500"},"主要后果",-1)),h("span",he,w(e.main_res),1)]),h("div",ke,[n[9]||(n[9]=h("span",{class:"text-[14px] text-gray-500"},"工程措施",-1)),h("span",be,w(e.project_policy),1)]),h("div",we,[n[10]||(n[10]=h("span",{class:"text-[14px] text-gray-500"},"教育培训措施",-1)),h("span",Ne,w(e.stardard),1)]),h("div",Ue,[n[11]||(n[11]=h("span",{class:"text-[14px] text-gray-500"},"管理措施",-1)),h("span",Ve,w(e.policy),1)]),h("div",je,[n[12]||(n[12]=h("span",{class:"text-[14px] text-gray-500"},"个人安全措施",-1)),h("span",qe,w(e.safe_policy),1)]),h("div",Ce,[n[13]||(n[13]=h("span",{class:"text-[14px] text-gray-500"},"应急处置措施",-1)),h("span",Fe,w(e.emergency_policy),1)]),h("div",Re,[n[14]||(n[14]=h("span",{class:"text-[14px] text-gray-500"},"管控层级",-1)),h("span",Se,w(e.control_name),1)]),h("div",Le,[n[15]||(n[15]=h("span",{class:"text-[14px] text-gray-500"},"检查频次",-1)),h("span",Oe,w(e.frequency),1)])])]))),128))]))),128))]),d(o,{block:"",type:"primary",class:"mt-4",onClick:n[2]||(n[2]=e=>s.value=!1)},{default:f(()=>[...n[16]||(n[16]=[g(" 关闭 ",-1)])]),_:1})])]),_:1},8,["show"])],64)}}},Je=a({__name:"RegionInspectSearch",props:{form:{default:{}}},emits:["update:form"],setup(e,{emit:l}){const t=e,a=l;s(),n([]),n([]),n([]),n({label:"title",value:"node_id",children:"child"});const m=c({...t.form});return o(m,e=>{a("update:form",e)},{deep:!0}),o(()=>t.form,e=>{Object.assign(m,e)},{deep:!0,immediate:!0}),p(()=>{}),(e,l)=>{const t=u;return i(),r(x,null,[d(t,{modelValue:m.name,"onUpdate:modelValue":l[0]||(l[0]=e=>m.name=e),type:"text",name:"text",placeholder:"请输入名称"},null,8,["modelValue"]),d(t,{modelValue:m.staff_name,"onUpdate:modelValue":l[1]||(l[1]=e=>m.staff_name=e),type:"text",name:"text",placeholder:"请输入责任人"},null,8,["modelValue"])],64)}}}),Ae={__name:"RegionInspectList",setup(e){const l=n({page:1,page_size:30,code:"",name:"",staff_name:""}),t=n([{title:"名称",key:"name",width:"40%"},{title:"标识编码",key:"code",width:"30%"},{title:"责任人",key:"staff_name",width:"30%"}]);async function a({pageNum:e}={pageNum:1}){const t={page:e,...l.value},a=await F(t);return{total:Number(a.count)||0,data:a.data||[]}}return(e,s)=>{const n=N;return i(),C(n,{form:v(l),"onUpdate:form":s[1]||(s[1]=e=>y(l)?l.value=e:null),columns:v(t),request:a,floating:[{icon:"search",key:"search"}]},{"cell-level_name":f(({row:e})=>[h("div",{class:"text-12 text-white px-2 py-1 rounded",style:k({color:v(b)[e.level_id]?.color||"#ccc"})},w(v(b)[e.level_id]?.label),5)]),searchForm:f(()=>[d(Je,{form:v(l),"onUpdate:form":s[0]||(s[0]=e=>y(l)?l.value=e:null)},null,8,["form"])]),_:1},8,["form","columns"])}}},Ie=a({__name:"RiskRankSearch",props:{form:{default:{}}},emits:["update:form"],setup(e,{emit:l}){const t=e,a=l;s();const r=n([]);n([]),n([]),n({label:"title",value:"node_id",children:"child"});const x=c({...t.form});return o(x,e=>{a("update:form",e)},{deep:!0}),o(()=>t.form,e=>{Object.assign(x,e)},{deep:!0,immediate:!0}),p(()=>{r.value=O.get("risk_type").map(e=>({text:e.name,value:e.id}))}),(e,l)=>{const t=u;return i(),C(t,{modelValue:x.name,"onUpdate:modelValue":l[0]||(l[0]=e=>x.name=e),type:"text",name:"text",placeholder:"请输入名称"},null,8,["modelValue"])}}}),De={__name:"RiskRank",setup(e){const l=n({name:""}),t=[{title:"名称",className:"three",key:"name",uname:"",width:180,type:"selection"},{title:"风险源",className:"three",key:"risk",width:120,uname:"",type:"selection"},{title:"不合格数",className:"three",key:"num",width:100,uname:"",type:"selection"}];async function a({pageNum:e}={pageNum:1}){const t={page:e,...l.value},a=await R(t);return{total:Number(a.count)||0,data:a.data||[]}}return(e,s)=>{const n=N;return i(),C(n,{columns:t,request:a,form:v(l),"onUpdate:form":s[1]||(s[1]=e=>y(l)?l.value=e:null),floating:[{icon:"search",key:"search"}]},{searchForm:f(()=>[d(Ie,{form:v(l),"onUpdate:form":s[0]||(s[0]=e=>y(l)?l.value=e:null)},null,8,["form"])]),_:1},8,["form"])}}},Ee={class:"flex-center h-[100vh] w-100% items-center relative"},Ge=e("default",a({__name:"index",setup(e){const l=n("dynamic-riskrank");return t("dynamic-click-tab",e=>{l.value=e.name}),(e,t)=>(i(),r("div",Ee,["dynamic-devicelist"===v(l)?(i(),C(pe,{key:0})):"dynamic-worklist"===v(l)?(i(),C(ze,{key:1})):"dynamic-arealist"===v(l)?(i(),C(Ae,{key:2})):"dynamic-riskrank"===v(l)?(i(),C(De,{key:3})):S("",!0)]))}}));"function"==typeof L&&L(Ge)}}});
