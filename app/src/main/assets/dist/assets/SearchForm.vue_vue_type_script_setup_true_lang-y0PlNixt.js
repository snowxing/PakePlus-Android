import{d as g,j as F,l as V,w as d,r as i,o as k,g as x,a as w,h as m,b as a,G as S,$ as U,F as j}from"./index-5kp1FiRg.js";import{a as y}from"./index-BpTLWCN6.js";const D=g({__name:"SearchForm",props:{form:{}},emits:["update:form"],setup(p,{emit:c}){const s=p,u=c,_=F(),e=V({...s.form});d(e,t=>{u("update:form",t)},{deep:!0}),d(()=>s.form,t=>{Object.assign(e,t)},{deep:!0,immediate:!0});const l=i([]),f=i({label:"title",value:"node_id",children:"child"});async function h(){const{etp_id:t}=_.userInfo,o=await y({id:t,deep:2,enbase:1,is_node:1});l.value=[{title:"全部",node_id:"all",child:o||[]}]}return k(()=>{h()}),(t,o)=>{const v=S,b=U;return w(),x(j,null,[m(v,{modelValue:a(e).k,"onUpdate:modelValue":o[0]||(o[0]=n=>a(e).k=n),type:"text",name:"text",label:"",placeholder:"工号/姓名"},null,8,["modelValue"]),m(b,{"model-value":a(e).department_id,options:l.value,"field-names":f.value,placeholder:"请选择部门","onUpdate:modelValue":o[1]||(o[1]=n=>{var r;return a(e).department_id=(r=n==null?void 0:n[0])==null?void 0:r.value})},null,8,["model-value","options","field-names"])],64)}}});export{D as _};
