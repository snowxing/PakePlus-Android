System.register(["./useTabsListener-legacy-BqsF0NKt.js","./index-legacy-CK9unWWd.js","./config-legacy-CMljs_xA.js"],function(e,t){"use strict";var a,n,l,s,r,u,o,c,i,m,p,d,y,f,_,b,v,h,k,g;return{setters:[e=>{a=e.u},e=>{n=e.aB,l=e.d,s=e.r,r=e.l,u=e.w,o=e.o,c=e.c,i=e.a,m=e.G,p=e.k,d=e._,y=e.b,f=e.au,_=e.m,b=e.h,v=e.g,h=e.y,k=e.e},e=>{g=e.c}],execute:function(){const t=l({__name:"SearchForm",props:{form:{default:{}},dataKey:{}},emits:["update:form"],setup(e,{emit:t}){const a=e,n=t;s([]),s([]);const l=r({...a.form});return u(l,e=>{n("update:form",e)},{deep:!0}),o(()=>{}),(e,t)=>{const a=m;return i(),c(a,{modelValue:l.name,"onUpdate:modelValue":t[0]||(t[0]=e=>l.name=e),type:"text",name:"text",placeholder:"请输入单位名称"},null,8,["modelValue"])}}}),w=l({__name:"list",props:{type:{}},setup(e){const a=e;async function l({pageNum:e,form:t}){const l=await async function(e){return n.get("/enpartner/related_parties_list?",{params:e})}({page:e,...t,business_type:a.type});return{total:Number(l.count),data:l.data}}const{routerPush:r}=p(),u=s({name:"",type:"0",project:"",department_id:"",staff_id:"",set_etp_id:"",business_type:""}),o=[{icon:"search",key:"search"}];function m(e){const t=[{label:"单位名称",value:e.company_name},{label:"责任人",value:e.staff},{label:"工号",value:e.account.slice(4)},{label:"业务类型",value:g.trans("business_type",e.business_type)},{label:"主要业务",value:e.main_business},{label:"入厂时间",value:e.start_date},{label:"合同期限",value:e.contract_term},{label:"对接部门",value:e.department},{label:"备注",value:e.remarks},{label:"附件",value:e.files.split(","),renderType:"image"}];r("siteDetail",{detail:JSON.stringify(t)})}const v=[{title:"单位名称",key:"company_name",width:"35%"},{title:"主要业务",key:"main_business",width:"30%"},{title:"合同期限",key:"contract_term",width:"20%"}];return(e,a)=>{const n=d;return i(),c(n,{form:y(u),"onUpdate:form":a[1]||(a[1]=e=>f(u)?u.value=e:null),columns:v,request:l,floating:o,onOnRowClick:m},{searchForm:_(()=>[b(t,{form:y(u),"onUpdate:form":a[0]||(a[0]=e=>f(u)?u.value=e:null)},null,8,["form"])]),_:1},8,["form"])}}}),x={class:"flex-center h-[100vh] w-100% items-center"},j=e("default",l({__name:"index",setup(e){const t=s("");return a("stakeholder-tab",e=>{t.value=e.name}),(e,a)=>(i(),v("div",x,["stakeholder"===t.value?(i(),c(w,{key:0,type:"0"})):h("",!0),"contractor"===t.value?(i(),c(w,{key:1,type:"1"})):h("",!0),"supplier"===t.value?(i(),c(w,{key:2,type:"2"})):h("",!0),"operator"===t.value?(i(),c(w,{key:3,type:"3"})):h("",!0)]))}}));"function"==typeof k&&k(j)}}});
