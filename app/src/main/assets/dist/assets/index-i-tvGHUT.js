import{d as i,l as x,w as g,r as f,o as y,aW as b,c as B,a as v,b as u,U as C,g as U,h as _,m as c,C as E,i as a,ad as o,_ as F,v as N,e as m}from"./index-5kp1FiRg.js";import{k as S}from"./improve-DL5FWc6v.js";const q=i({__name:"SafeSearchForm",props:{form:{}},emits:["update:form"],setup(d,{emit:p}){const s=d,r=p,t=x({...s.form});g(t,l=>{r("update:form",l)},{deep:!0});const n=f([]);return y(()=>{b.department().then(l=>{n.value=l.map(e=>({...e,text:e.title,value:e.id}))})}),(l,e)=>{const k=C;return v(),B(k,{value:u(t).dept_id,"onUpdate:value":e[0]||(e[0]=w=>u(t).dept_id=w),columns:u(n),label:"部门",placeholder:"请选择查询内容"},null,8,["value","columns"])}}}),A={class:"custom-title"},D={class:"row-item"},I={class:"row-item"},M={class:"row-item"},h=i({__name:"index",setup(d){async function p({pageNum:r,form:t}){const n=await S({page:r,...t});return{total:Number(n.count),data:n.data}}const s=f({dept_id:"",etp_id:""});return(r,t)=>{const n=E,l=F;return v(),U("div",null,[_(l,{form:s.value,"onUpdate:form":t[1]||(t[1]=e=>s.value=e),request:p,floating:[{icon:"search",key:"search"}]},{searchForm:c(()=>[_(q,{form:s.value,"onUpdate:form":t[0]||(t[0]=e=>s.value=e)},null,8,["form"])]),row:c(({item:e})=>[_(n,null,{title:c(()=>[a("span",A,o(e.company),1)]),label:c(()=>[a("div",D,[a("span",null,o(e.department),1),a("span",null,o(e.position),1),a("span",null,o(e.real_name),1)]),a("div",I,[a("span",null,o(e.year)+"年",1),a("span",null,o(e.quarter)+"季度",1),a("span",null,o(e.month)+"月",1)]),a("div",M,[a("span",null,"任务考核: "+o(e.task_num)+"/"+o(e.task_score),1),a("span",null,"责任制考核: "+o(e.score),1)])]),_:2},1024)]),_:1},8,["form"])])}}});typeof m=="function"&&m(h);const $=N(h,[["__scopeId","data-v-006ae501"]]);export{$ as default};
