System.register(["./Detail-legacy-Hfctf5Uv.js","./trainingStatistics-legacy-CFpwUBwl.js","./index-legacy-CK9unWWd.js","./index-legacy-HpZR7LHJ.js","./useSystemTheme-legacy-DCvxHL70.js","./install-legacy-CjFeFKKo.js","./install-legacy-BpR_-QHD.js","./install-legacy-NwM8Ok8V.js","./Detail.vue_vue_type_style_index_0_scoped_de43671c_lang-legacy-CnvmjJHj.js","./createSeriesDataSimply-legacy-BROSo_wZ.js"],function(e,a){"use strict";var t,l,s,i,n,u,c,d,r,o,v,m,p,y,h,b,g,_,f,x,k,w,j,D,S,C,q,N,z,L,I,A,B,G,J,R,T,E,F,H,P,Q,U;return{setters:[e=>{t=e.D},e=>{l=e.r,s=e.f,i=e.h,n=e.i,u=e.j,c=e.k,d=e.l,r=e.s,o=e.m,v=e.n},e=>{m=e.d,p=e.r,y=e.aL,h=e.g,b=e.a,g=e.h,_=e.i,f=e.b,x=e.ao,k=e.m,w=e.J,j=e.ad,D=e.aq,S=e.y,C=e._,q=e.H,N=e.v,z=e.w,L=e.c,I=e.ae,A=e.o,B=e.e},null,e=>{G=e.u,J=e.E},e=>{R=e.i},e=>{T=e.u,E=e.i,F=e.a,H=e.b,P=e.c,Q=e.d},e=>{U=e.i},null,null],execute:function(){const a={class:"title center"},W={class:"body"},Z={class:"title border-buttom"},$={key:0},K={key:1},M={key:2},O=N(m({__name:"GaugeChart",props:{type:{},data:{}},setup(e){const t=e,l={safe:{title:"安全指数",value:()=>t.data?.save_fraction/10||0,getData:async({pageNum:e,form:a})=>{const l=t.data?.base_doc||[];return{total:l.length,data:l}}},risk:{title:"风险指标",value:()=>t.data?.risk_fraction.actual/5||0,getData:async({pageNum:e,form:a})=>({total:0,data:[]}),riskGetData:async({pageNum:e,form:a})=>({total:0,data:[]})},base:{title:"基础指标",value:()=>t.data?.base_fraction/4||0,getData:async({pageNum:e,form:a})=>{const l=t.data?.base_doc||[];return{total:l.length,data:l}}}}[t.type];G(),T([E,R,F,H,P,Q]);const s=p({tooltip:{trigger:"item",formatter:"{b} : {c} %"},series:[{name:l.title,type:"gauge",data:[{value:l.value(),name:l.title}],radius:"80%",center:["50%","50%"],min:0,max:100,splitNumber:5,axisLine:{lineStyle:{width:10,color:[[.2,"#62c87f"],[.8,"#5d9cec"],[1,"#f15755"]]}},axisTick:{length:13,lineStyle:{color:"auto"}},splitLine:{length:18,lineStyle:{color:"auto"}},axisLabel:{color:"#666"},detail:{formatter:"{value}%",fontSize:24,offsetCenter:[0,"85%"]},title:{fontSize:12,color:"#999",offsetCenter:[0,"55%"]},pointer:{width:3}}]}),i=p(!1);function n(){i.value=!0}async function u({pageNum:e,form:a}){return{total:2,data:[{evaluate:"未整改的隐患",num:t.data?.risk_total||0,fraction:t.data?.risk_deduct||0},{evaluate:"未完成的检查",num:t.data?.check_total||0,fraction:t.data?.check_deduct||0}]}}const c=p([{title:"扣分明细",key:"evaluate",width:"50%",align:"center"},{title:"数量",key:"num",width:"20%"},{title:"扣分值",key:"fraction",width:"30%"}]),d=p([...c.value,{title:"操作",key:"active",width:"30%",render:()=>y(q,{plain:!0,hairline:!0,type:"primary",size:"mini"},"查看")}]);return(t,r)=>{const o=x,v=C,m=D;return b(),h("div",null,[g(f(J),{class:"chart",option:s.value,autoresize:""},null,8,["option"]),_("div",a,[g(o,{type:"primary",size:"large",onClick:n},{default:k(()=>[w(j(f(l).title),1)]),_:1})]),g(m,{show:i.value,"onUpdate:show":r[0]||(r[0]=e=>i.value=e),position:"bottom",style:{height:"50%"}},{default:k(()=>[_("div",W,[_("div",Z,j(f(l).title)+"扣分明细 ",1),"safe"===e.type?(b(),h("div",$,[r[1]||(r[1]=_("div",{class:"title pd"}," 基础指标 ",-1)),g(v,{"show-index":!1,columns:c.value,request:f(l).getData},null,8,["columns","request"]),r[2]||(r[2]=_("div",{class:"title pd"}," 风险指标 ",-1)),g(v,{"show-index":!1,columns:c.value,request:u},null,8,["columns"])])):"risk"===e.type?(b(),h("div",K,[r[3]||(r[3]=_("div",{class:"title pd"}," 风险指标 ",-1)),g(v,{"show-index":!1,columns:d.value,request:u},null,8,["columns"])])):"base"===e.type?(b(),h("div",M,[r[4]||(r[4]=_("div",{class:"title pd"}," 基础指标 ",-1)),g(v,{"show-index":!1,columns:c.value,request:f(l).getData},null,8,["columns","request"])])):S("",!0)])]),_:1},8,["show"])])}}}),[["__scopeId","data-v-94392c6c"]]),V=m({__name:"DangerBarChart",props:{data:{},class:{}},setup(e){const a=e;G(),T([E,U,F,H,P,Q]);const t=p({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},xAxis:{type:"category",axisLabel:{rotate:45,fontWeight:"bold"},data:[]},yAxis:{type:"value"},series:[{data:[],type:"bar"}]});return z(()=>a.data,e=>{t.value.xAxis.data=e?.x||[],t.value.series[0].data=e?.value||[]},{}),(e,l)=>(b(),L(f(J),{class:I({[a.class]:!0}),option:t.value,autoresize:""},null,8,["class","option"]))}}),X=N(m({__name:"RegionBarChart",setup(e){const a=p({});return A(()=>{l({}).then(e=>{a.value=e})}),(e,t)=>(b(),h("div",null,[t[0]||(t[0]=_("div",{class:"title"}," 隐患对比分析（地区/板块） ",-1)),g(V,{class:"chart",data:a.value},null,8,["data"])]))}}),[["__scopeId","data-v-be4ea3b4"]]),Y=N(m({__name:"CompanyBarChart",setup(e){const a=p({});return A(()=>{s({}).then(e=>{a.value=e})}),(e,t)=>(b(),h("div",null,[t[0]||(t[0]=_("div",{class:"title"}," 隐患对比分析（公司） ",-1)),g(V,{class:"chart",data:a.value},null,8,["data"])]))}}),[["__scopeId","data-v-bbc61de3"]]),ee={class:"flex-center h-[100vh] w-100% items-center"},ae={class:"card"},te={class:"card"},le={class:"card"},se={class:"card"},ie={class:"title between"},ne=m({__name:"index",setup(e){const a=p(),l=p([]),s=p([]),m=p([]),y=p([]),f=p([]),x=p([]),k=p({items:[],last_time:""});return A(()=>{i({}).then(e=>{a.value=e}),n({}).then(e=>{l.value=[{label:"总数(个)",value:e[0]},{label:"重大风险",value:e[1]},{label:"较大风险",value:e[2]},{label:"一般风险",value:e[3]},{label:"低风险",value:e[4]}]}),u({}).then(e=>{n({}).then(e=>{s.value=[{label:"总数(个)",value:e[0]},{label:"重大",value:e[1]},{label:"较大",value:e[2]},{label:"一般风险",value:e[3]}]})}),c({}).then(e=>{m.value=[{label:"超纳期",value:e.exceed},{label:"整改中",value:e.not},{label:"已整改",value:e.finish}]}),d({}).then(e=>{y.value=[{label:"总数(个)",value:e[0]},{label:"一级",value:e[1]},{label:"二级",value:e[2]},{label:"三级",value:e[3]},{label:"四级",value:e[3]}]}),r({}).then(e=>{f.value=[{label:"投入计划(万元)",value:e.plan_num},{label:"投入实施(万元)",value:e.num}]}),o({}).then(e=>{x.value=[{label:"培训计划",value:e.plan},{label:"培训实施",value:e.implement}]}),v({}).then(e=>{k.value={items:[{label:"演练计划",value:e.plan},{label:"演练实施",value:e.implement}],last_time:e.last_time}})}),(e,i)=>{const n=t;return b(),h("div",ee,[_("div",ae,[g(O,{type:"safe",data:a.value},null,8,["data"]),g(O,{type:"risk",data:a.value},null,8,["data"]),g(O,{type:"base",data:a.value},null,8,["data"])]),_("div",te,[g(X)]),_("div",le,[g(Y)]),_("div",se,[i[1]||(i[1]=_("div",{class:"title"}," 风险源统计 ",-1)),g(n,{items:l.value},null,8,["items"]),i[2]||(i[2]=_("div",{class:"title"}," 隐患等级统计 ",-1)),g(n,{items:s.value},null,8,["items"]),i[3]||(i[3]=_("div",{class:"title"}," 隐患整改统计 ",-1)),g(n,{items:m.value},null,8,["items"]),i[4]||(i[4]=_("div",{class:"title"}," 事故统计 ",-1)),g(n,{items:y.value},null,8,["items"]),i[5]||(i[5]=_("div",{class:"title"}," 安全投入 ",-1)),g(n,{items:f.value},null,8,["items"]),i[6]||(i[6]=_("div",{class:"title"}," 安全培训 ",-1)),g(n,{items:x.value},null,8,["items"]),_("div",ie,[i[0]||(i[0]=_("span",null,"应急管理",-1)),_("span",null,j(k.value.last_time),1)]),g(n,{items:k.value.items},null,8,["items"])])])}}});"function"==typeof B&&B(ne),e("default",N(ne,[["__scopeId","data-v-83ae12a1"]]))}}});
