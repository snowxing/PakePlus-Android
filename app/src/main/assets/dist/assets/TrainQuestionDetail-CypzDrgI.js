import{d as N,u as j,r as p,o as T,l as U,g as f,a as c,i as s,h as o,ad as r,F as v,E as A,m as u,J as h,H as E,a2 as G,D as M,G as S,b as m,aq as H,bA as I,M as J,c as L,a9 as O,e as g}from"./index-5kp1FiRg.js";import{_ as P}from"./v-uploader.vue_vue_type_script_setup_true_lang-C6PQErmB.js";import{j as Q,k as R}from"./trainingClassList-BlPv_jAa.js";const $={class:""},z={style:{"text-align":"center","font-weight":"700"}},K={style:{"text-align":"center"}},W={style:{margin:"16px"}},X=N({__name:"TrainQuestionDetail",setup(Y){const y=j(),a=p({});T(()=>{Q(y.query).then(l=>{a.value=l.data})});const i=p(!1),e=U({});function b(){e.content="",e.attachment=[]}function w(){var l;R(I(Object.assign({},e,{question_id:Number(a.value.id),attachment:(l=e.attachment||[])==null?void 0:l.map(t=>t.url).join(",")}))).then(()=>{}).catch(t=>{J(t.message||"提交失败")}).finally(()=>{i.value=!1,e.content="",e.attachment=[]})}function k(){i.value=!0}return(l,t)=>{var _;const x=O,d=E,V=S,F=P,q=M,B=G,C=H;return c(),f(v,null,[s("div",$,[s("div",z,r(a.value.title),1),s("div",K,r(a.value.name)+" "+r(a.value.created_at),1),s("div",null,r(a.value.content),1),(c(!0),f(v,null,A((_=a.value.attachment)==null?void 0:_.split(","),(n,D)=>(c(),L(x,{key:D,width:"100%",src:n},null,8,["src"]))),128)),s("div",null,[o(d,{type:"primary",block:"",onClick:k},{default:u(()=>[...t[3]||(t[3]=[h(" 回复 ",-1)])]),_:1})])]),o(C,{show:i.value,"onUpdate:show":t[2]||(t[2]=n=>i.value=n),position:"bottom",style:{height:"70%"},onClose:b},{default:u(()=>[o(B,{onSubmit:w},{default:u(()=>[o(q,{inset:""},{default:u(()=>[o(V,{modelValue:m(e).content,"onUpdate:modelValue":t[0]||(t[0]=n=>m(e).content=n),rows:"8",type:"textarea",name:"title",placeholder:"填写答案",rules:[{required:!0,message:"请填写答案"}]},null,8,["modelValue"]),o(F,{modelValue:m(e).attachment,"onUpdate:modelValue":t[1]||(t[1]=n=>m(e).attachment=n),multiple:!0,"max-count":5},null,8,["modelValue"])]),_:1}),s("div",W,[o(d,{round:"",block:"",type:"primary","native-type":"submit"},{default:u(()=>[...t[4]||(t[4]=[h(" 提交 ",-1)])]),_:1})])]),_:1})]),_:1},8,["show"])],64)}}});typeof g=="function"&&g(X);export{X as default};
