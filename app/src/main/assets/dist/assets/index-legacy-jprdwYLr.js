System.register(["./useTabsListener-legacy-BqsF0NKt.js","./index-legacy-CK9unWWd.js","./trainingLedger-legacy-x9_g24dU.js","./index-legacy-DKq8HLyK.js","./config-legacy-CMljs_xA.js"],function(e,t){"use strict";var a,l,n,s,u,i,o,d,r,c,m,p,f,v,x,g,_,b,y,w,h,j,k,V,U,N,T,L,C,Y,F,S,$,D;return{setters:[e=>{a=e.u},e=>{l=e.d,n=e.j,s=e.r,u=e.l,i=e.w,o=e.o,d=e.aW,r=e.g,c=e.a,m=e.F,p=e.h,f=e.T,v=e.U,x=e.b,g=e.G,_=e.B,b=e.k,y=e.m,w=e.au,h=e.aY,j=e.aZ,k=e.i,V=e.ad,U=e.b0,N=e._,T=e.aB,L=e.aD,C=e.c,Y=e.aE,F=e.e},e=>{S=e.a},e=>{$=e.g},e=>{D=e.c}],execute:function(){const t=l({__name:"ledgerSearchForm",props:{form:{default:{}}},emits:["update:form"],setup(e,{emit:t}){const a=e,l=t;n();const b=s([]);s([]);const y=s([]),w=D.get("workflow_status_list").map(e=>({text:e.name,value:e.id}));s({label:"title",value:"node_id",children:"child"});const h=u({...a.form});return i(h,e=>{l("update:form",e)},{deep:!0}),o(async()=>{!async function(){const e=await $();b.value=e.data||[]}(),y.value=(await d.TRAINING_TYPE()).map(e=>({text:e.title,value:e.id}))}),(e,t)=>{const a=f,l=v,n=g,s=_;return c(),r(m,null,[p(a,{"model-value":h.set_etp_id,"form-create-inject":{options:b.value},placeholder:"请选择公司","onUpdate:modelValue":t[0]||(t[0]=e=>h.set_etp_id=e)},null,8,["model-value","form-create-inject"]),p(l,{value:h.type,"onUpdate:value":t[1]||(t[1]=e=>h.type=e),columns:y.value,placeholder:"请选择培训类型"},null,8,["value","columns"]),p(l,{value:h.status,"onUpdate:value":t[2]||(t[2]=e=>h.status=e),columns:x(w),placeholder:"请选择培训状态"},null,8,["value","columns"]),p(n,{modelValue:h.name,"onUpdate:modelValue":t[3]||(t[3]=e=>h.name=e),type:"text",name:"text",placeholder:"请输入培训项目"},null,8,["modelValue"]),p(s,{"model-value":h.year,format:"YYYY",placeholder:"请选择年度","onUpdate:modelValue":t[4]||(t[4]=e=>e&&(h.year=e))},null,8,["model-value"])],64)}}}),P={class:"todo-list"},q=["data-index","data-id"],B={class:"flex flex-col w-full"},E={class:"flex w-full items-center justify-between"},G={class:"text-14px font-bold"},I={class:"text-13px text-gray-600 mb-10px mt-15px"},J={class:"mr-15px"},O={class:"text-13px flex w-full items-center justify-between"},A={class:"text-gray-500"},K={class:"text-13px flex w-full items-center justify-between"},M={class:"text-gray-500"},R={class:"text-13px flex w-full items-center justify-between"},W={class:"text-gray-500"},Z=["onClick"],z=l({__name:"TrainingLedger",setup(e){const{routerPush:a}=b(),l=s({set_etp_id:"",type:0,status:"",name:"",is_online:""}),n=[{icon:"search",key:"search"}];async function u({pageNum:e}){const{...t}=l.value,a=await S({page:e,...t})||{};return{total:Number(a.count||0),data:a.data||[]}}return(e,s)=>{const i=j,o=h,d=N;return c(),r("div",P,[p(d,{form:x(l),"onUpdate:form":s[1]||(s[1]=e=>w(l)?l.value=e:null),request:u,floating:n},{row:y(({item:e,index:t})=>[(c(),r("div",{key:t,class:"item mx-15px mt-15px p-10px rounded-10px bg-white","data-index":t,"data-id":e.id},[p(o,null,{default:y(()=>[p(i,{span:"18",onClick:t=>function(e){const t=[{value:e.category,label:"培训类型"},{value:e.name,label:"培训名称"},{value:e.target,label:"培训主题"},{value:e.subject,label:"培训科目"},{value:e.start_time,label:"培训时间"},{value:e.location,label:"培训地点"},{value:e.department,label:"组织部门"},{value:e.responsible,label:"责任人"},{value:e.status_name,label:"培训状态"},{value:e.input_content,label:"培训内容"},{value:e.is_online,label:"培训方式"}];a("eduDetail",{detail:JSON.stringify(t)})}(e)},{default:y(()=>[k("div",B,[k("div",E,[k("div",G,V(e.name),1)]),k("div",I,[k("span",J,V(e.target),1)]),k("div",O,[k("div",A,V(e.category),1)]),k("div",K,[k("div",M,V(e.is_online),1)]),k("div",R,[k("div",W,V(e.start_time),1)])])]),_:2},1032,["onClick"]),p(i,{span:"6",class:"items-center !flex"},{default:y(()=>[k("div",{class:"text-13px text-white rounded-10px bg-blue-600 flex h-25px w-90% cursor-pointer items-center justify-center",onClick:U(t=>function(e){console.warn("item",e),a("scoreList",{id:e.id})}(e),["stop"])}," 学员名单 ",8,Z)]),_:2},1024)]),_:2},1024)],8,q))]),searchForm:y(()=>[p(t,{form:x(l),"onUpdate:form":s[0]||(s[0]=e=>w(l)?l.value=e:null)},null,8,["form"])]),_:1},8,["form"])])}}}),H=l({__name:"SearchForm",props:{form:{default:{}}},emits:["update:form"],setup(e,{emit:t}){const a=e,l=t;n();const d=s([]),v=u({...a.form});return i(v,e=>{l("update:form",e)},{deep:!0}),o(()=>{!async function(){const e=await $();d.value=e.data||[]}()}),(e,t)=>{const a=f,l=_,n=g;return c(),r(m,null,[p(a,{"model-value":v.set_etp_id,"form-create-inject":{options:d.value},placeholder:"请选择公司","onUpdate:modelValue":t[0]||(t[0]=e=>v.set_etp_id=e)},null,8,["model-value","form-create-inject"]),p(l,{modelValue:v.begin,"onUpdate:modelValue":t[1]||(t[1]=e=>v.begin=e),label:"开始时间"},null,8,["modelValue"]),p(l,{modelValue:v.end,"onUpdate:modelValue":t[2]||(t[2]=e=>v.end=e),label:"结束时间"},null,8,["modelValue"]),p(n,{modelValue:v.name,"onUpdate:modelValue":t[3]||(t[3]=e=>v.name=e),type:"text",name:"text",placeholder:"请输入培训项目"},null,8,["modelValue"])],64)}}}),Q={class:"todo-list"},X=["data-index","data-id"],ee={class:"flex flex-col w-full"},te={class:"flex w-full items-center justify-between"},ae={class:"text-14px font-bold"},le={class:"text-13px flex w-full items-center justify-between"},ne={class:"text-gray-500"},se={class:"text-13px flex w-full items-center justify-between"},ue={class:"text-gray-500"},ie=l({__name:"TrainingTasks",setup(e){const{routerPush:t}=b(),a=s({type:5,name:"",begin:"",end:"",set_etp_id:""}),l=[{icon:"search",key:"search"}];async function n({pageNum:e}){const t=await(l={page:e,...a.value},T.get("/task/delay_list",{params:l}))||{};var l;return{total:Number(t.count||0),data:t.data||[]}}return(e,s)=>{const u=j,i=h,o=N;return c(),r("div",Q,[p(o,{form:x(a),"onUpdate:form":s[1]||(s[1]=e=>w(a)?a.value=e:null),request:n,floating:l},{row:y(({item:e,index:a})=>[(c(),r("div",{key:a,class:"item mx-15px mt-15px p-10px rounded-10px bg-white","data-index":a,"data-id":e.id},[p(i,null,{default:y(()=>[p(u,{span:"18",onClick:a=>function(e){const a=[{value:e.app_name,label:"名称"},{value:e.title,label:"任务类型"},{value:`${e.begin_date}至${e.end_date}`,label:"时间起止"},{value:e.user_name,label:"接收人"},{value:e.send_time,label:"发送时间"}];t("eduDetail",{detail:JSON.stringify(a)})}(e)},{default:y(()=>[k("div",ee,[k("div",te,[k("div",ae,V(e.title),1)]),k("div",le,[k("div",ne,V(e.app_name),1)]),k("div",se,[k("div",ue,V(`${e.begin_date} 至 ${e.end_date}`),1)])])]),_:2},1032,["onClick"])]),_:2},1024)],8,X))]),searchForm:y(()=>[p(H,{form:x(a),"onUpdate:form":s[0]||(s[0]=e=>w(a)?a.value=e:null)},null,8,["form"])]),_:1},8,["form"])])}}}),oe={class:"flex-center h-[100vh] w-100% items-center"},de=e("default",l({__name:"index",setup(e){const t=s("trainingLedger");a("training-manage",e=>{t.value=e.name});const l=L(()=>({trainingLedger:z,trainingTasks:ie})),n=L(()=>l.value[t.value]||null);return(e,t)=>(c(),r("div",oe,[(c(),C(Y(n.value)))]))}}));"function"==typeof F&&F(de)}}});
