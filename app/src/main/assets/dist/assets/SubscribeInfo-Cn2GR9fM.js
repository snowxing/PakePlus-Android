import{d as k,f as w,u as j,l as q,r as i,o as N,Y as S,g as B,a as C,i as _,h as d,m as p,D,G as I,b as o,U as T,$,H as h,J as F,a2 as G,bC as L,bA as O,L as P,ag as R,v as A,e as c}from"./index-5kp1FiRg.js";import{f as E,t as H}from"./information-CGEsnMWk.js";const J={class:""},M={style:{margin:"16px"}},b=k({__name:"SubscribeInfo",setup(Y){const y=w(),u=j(),e=q({cert_id:u.query.cert_id,obj_type:u.query.obj_type,obj_id:u.query.obj_id,city_code:"",real_name:"",mobile:"",card_id:"",gender:"",age:"",nation:"",address:"",emergency_contact:"",edu:"",work_years:"",sick_log:"",pay_money:""}),V=i([{value:"1",label:"小学"},{value:"2",label:"初中"},{value:"3",label:"高中"},{value:"4",label:"大专"},{value:"5",label:"本科"},{value:"6",label:"研究生"},{value:"7",label:"博士"}].map(a=>({value:a.value,label:a.label,text:a.label}))),v=i([{value:"1",label:"男"},{value:"2",label:"女"}].map(a=>({value:a.value,label:a.label,text:a.label}))),r=i([]);N(()=>{u.query&&S({id:u.query.id}).then(a=>{e.edu=a.edu,e.real_name=a.name,e.age=a.age,e.mobile=a.contact,e.pay_money=a.price,e.gender=a.gender}).catch(a=>{console.error(a)}),E().then(a=>{r.value=a.children})});function f(){var l;const a=Object.assign({},e);if((l=e.city_code)!=null&&l.length){const t=e.city_code[0],s=t==null?void 0:t.value,m=L(r.value,s,null);a.city_code="".concat(m.value,",").concat(s)}H(O(a)).then(t=>{P(t.message||"提交成功"),setTimeout(()=>{y.go(-1)},500)}).catch(t=>{R(t.message||"提交失败")})}return(a,l)=>{const t=I,s=T,m=$,g=D,U=h,x=G;return C(),B("div",J,[_("div",null,[d(x,{onSubmit:f},{default:p(()=>[d(g,{inset:""},{default:p(()=>[d(t,{modelValue:o(e).real_name,"onUpdate:modelValue":l[0]||(l[0]=n=>o(e).real_name=n),name:"real_name",label:"姓名",placeholder:"姓名"},null,8,["modelValue"]),d(t,{modelValue:o(e).age,"onUpdate:modelValue":l[1]||(l[1]=n=>o(e).age=n),type:"digit",name:"age",label:"年龄",placeholder:"年龄"},null,8,["modelValue"]),d(t,{modelValue:o(e).address,"onUpdate:modelValue":l[2]||(l[2]=n=>o(e).address=n),type:"textarea",name:"address",label:"籍贯",placeholder:"籍贯"},null,8,["modelValue"]),d(t,{modelValue:o(e).mobile,"onUpdate:modelValue":l[3]||(l[3]=n=>o(e).mobile=n),type:"tel",name:"mobile",label:"手机号",placeholder:"手机号"},null,8,["modelValue"]),d(t,{modelValue:o(e).nation,"onUpdate:modelValue":l[4]||(l[4]=n=>o(e).nation=n),type:"textarea",name:"nation",label:"通讯地址",placeholder:"通讯地址"},null,8,["modelValue"]),d(t,{modelValue:o(e).pay_money,"onUpdate:modelValue":l[5]||(l[5]=n=>o(e).pay_money=n),type:"number",name:"pay_money",label:"缴费金额",placeholder:"缴费金额"},null,8,["modelValue"]),d(t,{modelValue:o(e).work_years,"onUpdate:modelValue":l[6]||(l[6]=n=>o(e).work_years=n),type:"number",name:"work_years",label:"工作年限",placeholder:"工作年限"},null,8,["modelValue"]),d(t,{modelValue:o(e).card_id,"onUpdate:modelValue":l[7]||(l[7]=n=>o(e).card_id=n),name:"card_id",label:"身份证号码",placeholder:"身份证号码"},null,8,["modelValue"]),d(s,{modelValue:o(e).edu,"onUpdate:modelValue":l[8]||(l[8]=n=>o(e).edu=n),columns:V.value,name:"edu",label:"学历",placeholder:"学历"},null,8,["modelValue","columns"]),d(s,{modelValue:o(e).gender,"onUpdate:modelValue":l[9]||(l[9]=n=>o(e).gender=n),columns:v.value,name:"gender",label:"性别",placeholder:"性别"},null,8,["modelValue","columns"]),d(m,{modelValue:o(e).city_code,"onUpdate:modelValue":l[10]||(l[10]=n=>o(e).city_code=n),"is-area":!0,"field-names":{label:"label",value:"value",children:"children"},options:r.value,name:"city_code",label:"地区",placeholder:"地区"},null,8,["modelValue","options"])]),_:1}),_("div",M,[d(U,{round:"",block:"",type:"primary","native-type":"submit"},{default:p(()=>[...l[11]||(l[11]=[F(" 提交 ",-1)])]),_:1})])]),_:1})])])}}});typeof c=="function"&&c(b);const Q=A(b,[["__scopeId","data-v-6ba4556e"]]);export{Q as default};
