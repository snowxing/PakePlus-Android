System.register(["./v-form-create.vue_vue_type_script_setup_true_lang-legacy-BVnY5qJj.js","./index-legacy-CK9unWWd.js","./utils-legacy-czBmcPGK.js"],function(e,a){"use strict";var r,t,s,i,n,u,o,d,p,c,y,m,f,l,_,q,v,g,h,k;return{setters:[e=>{r=e._},e=>{t=e.d,s=e.u,i=e.r,n=e.w,u=e.o,o=e.aG,d=e.g,p=e.a,c=e.E,y=e.b,m=e.F,f=e.S,l=e.bP,_=e.bQ,q=e.bR,v=e.M,g=e.c,h=e.e},e=>{k=e.c}],execute:function(){const a=e("default",t({__name:"index",setup(e){const a=s(),t=i({forms:[],action:void 0}),h=i(0);async function b(){if(a.query.formJson){const e=a.query.formJson,r=Array.isArray(e)?e[0]:e;t.value={forms:[{title:"决策会议",formid:"formid",inputs:r?JSON.parse(r).forms:[]}],action:a.query.action},f.set("process-params",{app_id:a.query.app_id})}else if(a.query.viewtask)l({transid:a.query.tid}).then(e=>{t.value=e});else if(0===Number(a.query.task_id)){const e={app_id:a.query.app_id,tid:a.query.tid||0,hid:0,rid:0,nid:0,param:a.query.param,fid:a.query.fid||0};_(e).then(a=>{t.value=a,f.set("process-params",{app_id:a.app_id,task_id:0,isadmin:a.isadmin,formJson:a,startDataParams:e})})}else q(a.query).then(e=>{t.value=e,f.set("process-params",{...a.query,task_id:e.taskid,app_id:e.app_id})}).catch(e=>{v(e)})}return n(()=>a.query,()=>{h.value&&b(),h.value+=1},{immediate:!0}),u(()=>{"9"===a.query.app_id&&o(),b()}),(e,a)=>{const s=r;return p(!0),d(m,null,c(y(t).forms,(e,a)=>(p(),g(s,{key:`${y(h)}-${e.id||a}`,action:y(t).action,json:e,convert:y(k),expand:a===y(t)?.forms?.length-1},null,8,["action","json","convert","expand"]))),128)}}}));"function"==typeof h&&h(a)}}});
