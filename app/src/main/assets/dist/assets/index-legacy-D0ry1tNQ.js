System.register(["./useTabsListener-legacy-BqsF0NKt.js","./index-legacy-CK9unWWd.js","./workRequest-legacy-Dre7fj1V.js","./useTabs-legacy-Cjc33zz1.js"],function(e,t){"use strict";var a,s,l,r,i,n,c,u,o,p,d,m,h,y,b,v,k,f,w,x,g,_,N,T;return{setters:[e=>{a=e.u},e=>{s=e.d,l=e.k,r=e.u,i=e.r,n=e.c,c=e.a,u=e.m,o=e.i,p=e.g,d=e.ad,m=e.bB,h=e._,y=e.h,b=e.H,v=e.J,k=e.aD,f=e.o,w=e.aE,x=e.e},e=>{g=e.a,_=e.g,N=e.b},e=>{T=e.u}],execute:function(){const t={class:"text-12px"},C={class:"text-12px"},q={class:"juify-around flex w-full"},j=["onClick"],D=["onClick"],P=["onClick"],K={key:1,class:"three color-gray mr-10px text-center"},R=s({__name:"PersonalTemplate",setup(e){const{routerPush:a}=l(),s=r(),y=[{title:"名称",className:"three",key:"name",uname:"",width:80,type:"selection"},{title:"状态",className:"three",key:"private",uname:"",width:80,editable:!1,searchable:!1},{title:"发布时间",className:"three",key:"created_at",uname:"",width:100,editable:!1,searchable:!1},{title:"操作",className:"three",key:"action",uname:"",width:150,editable:!1,searchable:!1}];async function b({pageNum:e}={pageNum:1}){const t={page:e,formid:13,tpl:1,...s.query||{}},a=await _(t);return{total:Number(a.count)||0,data:a.data||[]}}const v=i(null);return(e,s)=>{const l=h;return c(),n(l,{ref_key:"listRef",ref:v,columns:y,request:b},{"cell-private":u(({row:e})=>[o("div",t,d(1===Number(e.private)?"私有":"公开"),1)]),"cell-created_at":u(({row:e})=>[o("div",C,d(e.created_at?.split(" ")?.[0]||""),1)]),"cell-action":u(({row:e})=>[o("div",q,[o("div",{class:"three mr-10px",style:{"text-align":"center",color:"rgb(41, 121, 255)"},onClick:t=>{var s;a("task-process",{task_id:0,tid:(s=e).id,app_id:s.appid,fid:s.fid})}}," 调用 ",8,j),o("div",{class:"three color-red mr-10px text-center",onClick:t=>function(e){const t=1===Number(e.private)?0:1,a=new FormData;a.append("id",e.id),a.append("type","publish"),a.append("private",String(t)),g(a).then(()=>{e.private=String(t)})}(e)},d(1===Number(e.private)?"公开":"私有"),9,D),"1"===e.isme&&1===Number(e.private)?(c(),p("div",{key:0,class:"three color-red text-center",onClick:t=>{return a=e,void m({title:"请确认是否删除模板，不可恢复！！"}).then(()=>{a.id;const e=new FormData;e.append("id",a.id),e.append("type","del"),g(e).then(()=>{v.value.loadData(!0)})});var a}}," 删除 ",8,P)):(c(),p("div",K," 删除 "))])]),_:1},512)}}}),S={class:"text-12px"},F=s({__name:"PublicTemplate",setup(e){const{routerPush:t}=l(),a=[{title:"名称",className:"three",key:"note",uname:"",width:"25%",type:"selection"},{title:"使用说明",className:"three",key:"name",uname:"",width:"50%",editable:!1,searchable:!1},{title:"操作",className:"three",key:"action",uname:"",width:80,editable:!1,searchable:!1}],s=[{status:0,name:"进行中"},{status:1,name:"完成"},{status:2,name:"中止"}];async function r({pageNum:e}={pageNum:1}){const t={page:e,tpl:1,formid:13},a=await N(t);return{total:Number(a.count)||0,data:a.data||[]}}return(e,l)=>{const i=b,p=h;return c(),n(p,{columns:a,request:r},{"cell-status":u(({row:e})=>[o("div",S,d(s.find(t=>t.status===e.status)?.name||""),1)]),"cell-action":u(({row:e})=>[y(i,{type:"primary",class:"text-12px",size:"small",onClick:a=>{t("task-process",{task_id:0,app_id:8,fid:e.id})}},{default:u(()=>[...l[0]||(l[0]=[v(" 调用 ",-1)])]),_:1},8,["onClick"])]),_:1})}}}),z={class:"flex-center h-[100vh] w-100% items-center"},A=e("default",s({__name:"index",setup(e){const t=r(),s=i("");a("workRequest-tab",e=>{s.value=e.name});const l=k(()=>({publicTemplate:F,personalTemplate:R})),u=k(()=>l.value[s.value]||null),{setTabs:o}=T();return f(()=>{setTimeout(()=>{o([{title:"公共模板",name:"publicTemplate"},{title:"个人模板",name:"personalTemplate"}],t.query.actionKey||"publicTemplate")},0)}),(e,t)=>(c(),p("div",z,[(c(),n(w(u.value)))]))}}));"function"==typeof x&&x(A)}}});
