System.register(["./install-legacy-BpR_-QHD.js"],function(t,e){"use strict";var n,o,i,r,a,s,u,l,c,d,p,f,h,g,v,m,x,y,_,b,M,C,A,w,T,S,I,O,k,R,P,D,L,V,z,E,B,Z,N,W,H,F,j,U,G,Y,X,q,$,J,K,Q,tt,et,nt,ot;return{setters:[t=>{n=t.ej,o=t.bt,i=t._,r=t.a1,a=t.A,s=t.T,u=t.bA,l=t.bk,c=t.ad,d=t.co,p=t.bQ,f=t.bw,h=t.U,g=t.g,v=t.h,m=t.az,x=t.e1,y=t.e0,_=t.ek,b=t.aJ,M=t.b$,C=t.aT,A=t.el,w=t.c9,T=t.bF,S=t.bK,I=t.z,O=t.cW,k=t.em,R=t.en,P=t.eo,D=t.bB,L=t.c0,V=t.a3,z=t.a4,E=t.a$,B=t.dT,Z=t.Z,N=t.di,W=t.c4,H=t.ep,F=t.eq,j=t.al,U=t.dr,G=t.dU,Y=t.er,X=t.es,q=t.F,$=t.aM,J=t.ac,K=t.v,Q=t.s,tt=t.et,et=t.eu,nt=t.ev,ot=t.u}],execute:function(){t({a:Kt,b:$t,d:function(t){var e=t.ecModel,n={infoList:[],infoMap:M()};return t.eachTargetAxis(function(t,o){var i=e.getComponent(ne(t),o);if(i){var r=i.getCoordSysModel();if(r){var a=r.uid,s=n.infoMap.get(a);s||(s={model:r,axisModels:[]},n.infoList.push(s),n.infoMap.set(a,s)),s.axisModels.push(i)}}}),n},f:ge,g:ne,h:function(t){t.registerComponentModel(be),t.registerComponentView(Me),ye("saveAsImage",Ce),ye("magicType",Te),ye("dataView",De),ye("dataZoom",Qe),ye("restore",Be),ot(ve)},i:function(t,e){return!!it(t)[e]},m:Jt,o:at,r:ye,s:st});var e="\0_ec_interaction_mutex";function it(t){return t[e]||(t[e]={})}n({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},o);var rt={axisPointer:1,tooltip:1,brush:1};function at(t,e,n){var o=e.getComponentByElement(t.topTarget),i=o&&o.coordinateSystem;return o&&o!==n&&!rt.hasOwnProperty(o.mainType)&&i&&i.model!==n}function st(t,e,n,o,i,r){t=t||0;var a=n[1]-n[0];if(null!=i&&(i=lt(i,[0,a])),null!=r&&(r=Math.max(r,null!=i?i:0)),"all"===o){var s=Math.abs(e[1]-e[0]);s=lt(s,[0,a]),i=r=lt(s,[i,r]),o=0}e[0]=lt(e[0],n),e[1]=lt(e[1],n);var u=ut(e,o);e[o]+=t;var l,c=i||0,d=n.slice();return u.sign<0?d[0]+=c:d[1]-=c,e[o]=lt(e[o],d),l=ut(e,o),null!=i&&(l.sign!==u.sign||l.span<i)&&(e[1-o]=e[o]+u.sign*i),l=ut(e,o),null!=r&&l.span>r&&(e[1-o]=e[o]+l.sign*r),e}function ut(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function lt(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var ct=!0,dt=Math.min,pt=Math.max,ft=Math.pow,ht="globalPan",gt={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},vt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},mt={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},xt=0,yt=t("B",function(t){function e(e){var n=t.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=e,n.group=new r,n._uid="brushController_"+xt++,a(Gt,function(t,e){this._handlers[e]=s(t,this)},n),n}return i(e,t),e.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},e.prototype._doEnableBrush=function(t){var e=this._zr;this._enableGlobalPan||function(t,e,n){it(t)[e]=n}(e,ht,this._uid),a(this._handlers,function(t,n){e.on(n,t)}),this._brushType=t.brushType,this._brushOption=u(l(mt),t,!0)},e.prototype._doDisableBrush=function(){var t=this._zr;!function(t,e,n){var o=it(t);o[e]===n&&(o[e]=null)}(t,ht,this._uid),a(this._handlers,function(e,n){t.off(n,e)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(t){if(t&&t.length){var e=this._panels={};a(t,function(t){e[t.panelId]=l(t)})}else this._panels=null;return this},e.prototype.mount=function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=e.getLocalTransform(),this},e.prototype.updateCovers=function(t){t=c(t,function(t){return u(l(mt),t,!0)});var e=this._covers,n=this._covers=[],o=this,i=this._creatingCover;return new d(e,t,function(t,e){return r(t.__brushOption,e)},r).add(a).update(a).remove(function(t){e[t]!==i&&o.group.remove(e[t])}).execute(),this;function r(t,e){return(null!=t.id?t.id:"\0-brush-index-"+e)+"-"+t.brushType}function a(r,a){var s=t[r];if(null!=a&&e[a]===i)n[r]=e[a];else{var u=n[r]=null!=a?(e[a].__brushOption=s,e[a]):bt(o,_t(o,s));At(o,u)}}},e.prototype.unmount=function(){return this.enableBrush(!1),It(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(p));function _t(t,e){var n=Xt[e.brushType].createCover(t,e);return n.__brushOption=e,Ct(n,e),t.group.add(n),n}function bt(t,e){var n=wt(e);return n.endCreating&&(n.endCreating(t,e),Ct(e,e.__brushOption)),e}function Mt(t,e){var n=e.__brushOption;wt(e).updateCoverShape(t,e,n.range,n)}function Ct(t,e){var n=e.z;null==n&&(n=1e4),t.traverse(function(t){t.z=n,t.z2=n})}function At(t,e){wt(e).updateCommon(t,e),Mt(t,e)}function wt(t){return Xt[t.__brushOption.brushType]}function Tt(t,e,n){var o,i=t._panels;if(!i)return ct;var r=t._transform;return a(i,function(t){t.isTargetByCursor(e,n,r)&&(o=t)}),o}function St(t,e){var n=t._panels;if(!n)return ct;var o=e.__brushOption.panelId;return null!=o?n[o]:ct}function It(t){var e=t._covers,n=e.length;return a(e,function(e){t.group.remove(e)},t),e.length=0,!!n}function Ot(t,e){var n=c(t._covers,function(t){var e=t.__brushOption,n=l(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger("brush",{areas:n,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function kt(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function Rt(t,e,n,o){var i=new r;return i.add(new m({name:"main",style:Vt(n),silent:!0,draggable:!0,cursor:"move",drift:h(Bt,t,e,i,["n","s","w","e"]),ondragend:h(Ot,e,{isEnd:!0})})),a(o,function(n){i.add(new m({name:n.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:h(Bt,t,e,i,n),ondragend:h(Ot,e,{isEnd:!0})}))}),i}function Pt(t,e,n,o){var i=o.brushStyle.lineWidth||0,r=pt(i,6),a=n[0][0],s=n[1][0],u=a-i/2,l=s-i/2,c=n[0][1],d=n[1][1],p=c-r+i/2,f=d-r+i/2,h=c-a,g=d-s,v=h+i,m=g+i;Lt(t,e,"main",a,s,h,g),o.transformable&&(Lt(t,e,"w",u,l,r,m),Lt(t,e,"e",p,l,r,m),Lt(t,e,"n",u,l,v,r),Lt(t,e,"s",u,f,v,r),Lt(t,e,"nw",u,l,r,r),Lt(t,e,"ne",p,l,r,r),Lt(t,e,"sw",u,f,r,r),Lt(t,e,"se",p,f,r,r))}function Dt(t,e){var n=e.__brushOption,o=n.transformable,i=e.childAt(0);i.useStyle(Vt(n)),i.attr({silent:!o,cursor:o?"move":"default"}),a([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(n){var i=e.childOfName(n.join("")),r=1===n.length?Et(t,n[0]):function(t,e){var n=[Et(t,e[0]),Et(t,e[1])];return("e"===n[0]||"w"===n[0])&&n.reverse(),n.join("")}(t,n);i&&i.attr({silent:!o,invisible:!o,cursor:o?vt[r]+"-resize":null})})}function Lt(t,e,n,o,i,r,a){var s,u,l,c,d,p=e.childOfName(n);p&&p.setShape((s=Wt(t,e,[[o,i],[o+r,i+a]]),u=dt(s[0][0],s[1][0]),l=dt(s[0][1],s[1][1]),c=pt(s[0][0],s[1][0]),d=pt(s[0][1],s[1][1]),{x:u,y:l,width:c-u,height:d-l}))}function Vt(t){return v({strokeNoScale:!0},t.brushStyle)}function zt(t,e,n,o){var i=[dt(t,n),dt(e,o)],r=[pt(t,n),pt(e,o)];return[[i[0],r[0]],[i[1],r[1]]]}function Et(t,e){var n=x({w:"left",e:"right",n:"top",s:"bottom"}[e],function(t){return y(t.group)}(t));return{left:"w",right:"e",top:"n",bottom:"s"}[n]}function Bt(t,e,n,o,i,r){var s=n.__brushOption,u=t.toRectRange(s.range),l=Nt(e,i,r);a(o,function(t){var e=gt[t];u[e[0]][e[1]]+=l[e[0]]}),s.range=t.fromRectRange(zt(u[0][0],u[1][0],u[0][1],u[1][1])),At(e,n),Ot(e,{isEnd:!1})}function Zt(t,e,n,o){var i=e.__brushOption.range,r=Nt(t,n,o);a(i,function(t){t[0]+=r[0],t[1]+=r[1]}),At(t,e),Ot(t,{isEnd:!1})}function Nt(t,e,n){var o=t.group,i=o.transformCoordToLocal(e,n),r=o.transformCoordToLocal(0,0);return[i[0]-r[0],i[1]-r[1]]}function Wt(t,e,n){var o=St(t,e);return o&&o!==ct?o.clipPath(n,t._transform):l(n)}function Ht(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Ft(t,e,n){return t.childOfName("main").contain(e,n)}function jt(t,e,n,o){var i,r=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(n.slice()),function(t){var e=t._track;if(!e.length)return!1;var n=e[e.length-1],o=e[0],i=n[0]-o[0],r=n[1]-o[1];return ft(i*i+r*r,.5)>6}(t)||r){if(a&&!r){"single"===s.brushMode&&It(t);var u=l(s);u.brushType=Ut(u.brushType,a),u.panelId=a===ct?null:a.panelId,r=t._creatingCover=_t(t,u),t._covers.push(r)}if(r){var c=Xt[Ut(t._brushType,a)];r.__brushOption.range=c.getCreatingRange(Wt(t,r,t._track)),o&&(bt(t,r),c.updateCommon(t,r)),Mt(t,r),i={isEnd:o}}}else o&&"single"===s.brushMode&&s.removeOnClick&&Tt(t,e,n)&&It(t)&&(i={isEnd:o,removeOnClick:!0});return i}function Ut(t,e){return"auto"===t?e.defaultBrushType:t}var Gt={mousedown:function(t){if(this._dragging)Yt(this,t);else if(!t.target||!t.target.draggable){Ht(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=Tt(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,n=t.offsetY,o=this.group.transformCoordToLocal(e,n);if(function(t,e,n){if(t._brushType&&!function(t,e,n){var o=t._zr;return e<0||e>o.getWidth()||n<0||n>o.getHeight()}(t,e.offsetX,e.offsetY)){var o=t._zr,i=t._covers,r=Tt(t,e,n);if(!t._dragging)for(var a=0;a<i.length;a++){var s=i[a].__brushOption;if(r&&(r===ct||s.panelId===r.panelId)&&Xt[s.brushType].contain(i[a],n[0],n[1]))return}r&&o.setCursorStyle("crosshair")}}(this,t,o),this._dragging){Ht(t);var i=jt(this,t,o,!1);i&&Ot(this,i)}},mouseup:function(t){Yt(this,t)}};function Yt(t,e){if(t._dragging){Ht(e);var n=e.offsetX,o=e.offsetY,i=t.group.transformCoordToLocal(n,o),r=jt(t,e,i,!0);t._dragging=!1,t._track=[],t._creatingCover=null,r&&Ot(t,r)}}var Xt={lineX:qt(0),lineY:qt(1),rect:{createCover:function(t,e){function n(t){return t}return Rt({toRectRange:n,fromRectRange:n},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=kt(t);return zt(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,n,o){Pt(t,e,n,o)},updateCommon:Dt,contain:Ft},polygon:{createCover:function(t,e){var n=new r;return n.add(new g({name:"main",style:Vt(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new f({name:"main",draggable:!0,drift:h(Zt,t,e),ondragend:h(Ot,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,o){e.childAt(0).setShape({points:Wt(t,e,n)})},updateCommon:Dt,contain:Ft}};function qt(t){return{createCover:function(e,n){return Rt({toRectRange:function(e){var n=[e,[0,100]];return t&&n.reverse(),n},fromRectRange:function(e){return e[t]}},e,n,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var n=kt(e);return[dt(n[0][t],n[1][t]),pt(n[0][t],n[1][t])]},updateCoverShape:function(e,n,o,i){var r,a=St(e,n);if(a!==ct&&a.getLinearBrushOtherExtent)r=a.getLinearBrushOtherExtent(t);else{var s=e._zr;r=[0,[s.getWidth(),s.getHeight()][1-t]]}var u=[o,r];t&&u.reverse(),Pt(e,n,u,i)},updateCommon:Dt,contain:Ft}}function $t(t){return t=Qt(t),function(e){return _(e,t)}}function Jt(t,e){return t=Qt(t),function(n){var o=null!=e?e:n,i=o?t.width:t.height,r=o?t.x:t.y;return[r,r+(i||0)]}}function Kt(t,e,n){var o=Qt(t);return function(t,i){return o.contain(i[0],i[1])&&!at(t,e,n)}}function Qt(t){return b.create(t)}var te=["x","y","radius","angle","single"],ee=["cartesian2d","polar","singleAxis"];function ne(t){return t+"Axis"}function oe(t,e){var n,o=M(),i=[],r=M();t.eachComponent({mainType:"dataZoom",query:e},function(t){r.get(t.uid)||s(t)});do{n=!1,t.eachComponent("dataZoom",a)}while(n);function a(t){!r.get(t.uid)&&function(t){var e=!1;return t.eachTargetAxis(function(t,n){var i=o.get(t);i&&i[n]&&(e=!0)}),e}(t)&&(s(t),n=!0)}function s(t){r.set(t.uid,!0),i.push(t),t.eachTargetAxis(function(t,e){(o.get(t)||o.set(t,[]))[e]=!0})}return i}var ie=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),re=t("D",function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._autoThrottle=!0,n._noTarget=!0,n._rangePropMode=["percent","percent"],n}return i(e,t),e.prototype.init=function(t,e,n){var o=ae(t);this.settledOption=o,this.mergeDefaultAndTheme(t,n),this._doInit(o)},e.prototype.mergeOption=function(t){var e=ae(t);u(this.option,t,!0),u(this.settledOption,e,!0),this._doInit(e)},e.prototype._doInit=function(t){var e=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var n=this.settledOption;a([["start","startValue"],["end","endValue"]],function(t,o){"value"===this._rangePropMode[o]&&(e[t[0]]=n[t[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var t=this.get("orient",!0),e=this._targetAxisInfoMap=M();this._fillSpecifiedTargetAxis(e)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(e,this._orient)),this._noTarget=!0,e.each(function(t){t.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(t){var e=!1;return a(te,function(n){var o=this.getReferringComponents(ne(n),A);if(o.specified){e=!0;var i=new ie;a(o.models,function(t){i.add(t.componentIndex)}),t.set(n,i)}},this),e},e.prototype._fillAutoTargetAxisByOrient=function(t,e){var n=this.ecModel,o=!0;if(o){var i="vertical"===e?"y":"x";r(n.findComponents({mainType:i+"Axis"}),i)}function r(e,n){var i=e[0];if(i){var r=new ie;if(r.add(i.componentIndex),t.set(n,r),o=!1,"x"===n||"y"===n){var s=i.getReferringComponents("grid",w).models[0];s&&a(e,function(t){i.componentIndex!==t.componentIndex&&s===t.getReferringComponents("grid",w).models[0]&&r.add(t.componentIndex)})}}}o&&r(n.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===e}}),"single"),o&&a(te,function(e){if(o){var i=n.findComponents({mainType:ne(e),filter:function(t){return"category"===t.get("type",!0)}});if(i[0]){var r=new ie;r.add(i[0].componentIndex),t.set(e,r),o=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(e){!t&&(t=e)},this),"y"===t?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(t){var e=this._rangePropMode,n=this.get("rangeMode");a([["start","startValue"],["end","endValue"]],function(o,i){var r=null!=t[o[0]],a=null!=t[o[1]];r&&!a?e[i]="percent":!r&&a?e[i]="value":n?e[i]=n[i]:r&&(e[i]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(e,n){null==t&&(t=this.ecModel.getComponent(ne(e),n))},this),t},e.prototype.eachTargetAxis=function(t,e){this._targetAxisInfoMap.each(function(n,o){a(n.indexList,function(n){t.call(e,o,n)})})},e.prototype.getAxisProxy=function(t,e){var n=this.getAxisModel(t,e);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(t,e){var n=this._targetAxisInfoMap.get(t);if(n&&n.indexMap[e])return this.ecModel.getComponent(ne(t),e)},e.prototype.setRawRange=function(t){var e=this.option,n=this.settledOption;a([["start","startValue"],["end","endValue"]],function(o){null==t[o[0]]&&null==t[o[1]]||(e[o[0]]=n[o[0]]=t[o[0]],e[o[1]]=n[o[1]]=t[o[1]])},this),this._updateRangeUse(t)},e.prototype.setCalculatedRange=function(t){var e=this.option;a(["start","startValue","end","endValue"],function(n){e[n]=t[n]})},e.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},e.prototype.getValueRange=function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},e.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var e,n=this._targetAxisInfoMap.keys(),o=0;o<n.length;o++)for(var i=n[o],r=this._targetAxisInfoMap.get(i),a=0;a<r.indexList.length;a++){var s=this.getAxisProxy(i,r.indexList[a]);if(s.hostedBy(this))return s;e||(e=s)}return e},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(T));function ae(t){var e={};return a(["start","end","startValue","endValue","throttle"],function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}),e}var se=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return i(e,t),e.type="dataZoom.select",e}(re),ue=t("e",function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return i(e,t),e.prototype.render=function(t,e,n,o){this.dataZoomModel=t,this.ecModel=e,this.api=n},e.type="dataZoom",e}(S)),le=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return i(e,t),e.type="dataZoom.select",e}(ue),ce=a,de=O,pe=function(){function t(t,e,n,o){this._dimName=t,this._axisIndex=e,this.ecModel=o,this._dataZoomModel=n}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(function(t){var e=t.get("coordinateSystem");return C(ee,e)>=0}(e)){var n=ne(this._dimName),o=e.getReferringComponents(n,w).models[0];o&&this._axisIndex===o.componentIndex&&t.push(e)}},this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return l(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var e,n=this._dataExtent,o=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),r=[0,100],a=[],s=[];ce(["start","end"],function(u,l){var c=t[u],d=t[u+"Value"];"percent"===i[l]?(null==c&&(c=r[l]),d=o.parse(I(c,r,n))):(e=!0,d=null==d?n[l]:o.parse(d),c=I(d,n,r)),s[l]=null==d||isNaN(d)?n[l]:d,a[l]=null==c||isNaN(c)?r[l]:c}),de(s),de(a);var u=this._minMaxSpan;function l(t,e,n,i,r){var a=r?"Span":"ValueSpan";st(0,t,n,"all",u["min"+a],u["max"+a]);for(var s=0;s<2;s++)e[s]=I(t[s],n,i,!0),r&&(e[s]=o.parse(e[s]))}return e?l(s,a,n,r,!1):l(a,s,r,n,!0),{valueWindow:s,percentWindow:a}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function(t,e,n){var o=[1/0,-1/0];ce(n,function(t){R(o,t.getData(),e)});var i=t.getAxisModel(),r=P(i.axis.scale,i,o).calculate();return[r.min,r.max]}(this,this._dimName,e),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var n=this._dimName,o=this.getTargetSeriesModels(),i=t.get("filterMode"),r=this._valueWindow;"none"!==i&&ce(o,function(t){var e=t.getData(),o=e.mapDimensionsAll(n);if(o.length){if("weakFilter"===i){var a=e.getStore(),s=c(o,function(t){return e.getDimensionIndex(t)},e);e.filterSelf(function(t){for(var e,n,i,u=0;u<o.length;u++){var l=a.get(s[u],t),c=!isNaN(l),d=l<r[0],p=l>r[1];if(c&&!d&&!p)return!0;c&&(i=!0),d&&(e=!0),p&&(n=!0)}return i&&e&&n})}else ce(o,function(n){if("empty"===i)t.setData(e=e.map(n,function(t){return function(t){return t>=r[0]&&t<=r[1]}(t)?t:NaN}));else{var o={};o[n]=r,e.selectRange(o)}});ce(o,function(t){e.setApproximateExtent(r,t)})}})}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,n=this._dataExtent;ce(["min","max"],function(o){var i=e.get(o+"Span"),r=e.get(o+"ValueSpan");null!=r&&(r=this.getAxisModel().axis.scale.parse(r)),null!=r?i=I(n[0]+r,n,[0,100],!0):null!=i&&(r=I(i,[0,100],n,!0)-n[0]),t[o+"Span"]=i,t[o+"ValueSpan"]=r},this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,n=this._valueWindow;if(e){var o=k(n,[0,500]);o=Math.min(o,20);var i=t.axis.scale.rawExtentInfo;0!==e[0]&&i.setDeterminedMinMax("min",+n[0].toFixed(o)),100!==e[1]&&i.setDeterminedMinMax("max",+n[1].toFixed(o)),i.freeze()}},t}(),fe={getTargetSeries:function(t){function e(e){t.eachComponent("dataZoom",function(n){n.eachTargetAxis(function(o,i){var r=t.getComponent(ne(o),i);e(o,i,r,n)})})}e(function(t,e,n,o){n.__dzAxisProxy=null});var n=[];e(function(e,o,i,r){i.__dzAxisProxy||(i.__dzAxisProxy=new pe(e,o,r,t),n.push(i.__dzAxisProxy))});var o=M();return a(n,function(t){a(t.getTargetSeriesModels(),function(t){o.set(t.uid,t)})}),o},overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(e,n){t.getAxisProxy(e,n).reset(t)}),t.eachTargetAxis(function(n,o){t.getAxisProxy(n,o).filterData(t,e)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy();if(e){var n=e.getDataPercentWindow(),o=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:o[0],endValue:o[1]})}})}},he=!1;function ge(t){he||(he=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,fe),function(t){t.registerAction("dataZoom",function(t,e){var n=oe(e,t);a(n,function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function ve(t){t.registerComponentModel(se),t.registerComponentView(le),ge(t)}var me=t("T",function(){}),xe={};function ye(t,e){xe[t]=e}function _e(t){return xe[t]}var be=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return i(e,t),e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;a(this.option.feature,function(t,n){var o=_e(n);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),u(t,o.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(T),Me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(t,e,n,o){var i=this.group;if(i.removeAll(),t.get("show")){var r=+t.get("itemSize"),u="vertical"===t.get("orient"),l=t.get("feature")||{},c=this._features||(this._features={}),p=[];a(l,function(t,e){p.push(e)}),new d(this._featureNames||[],p).add(f).update(f).remove(h(f,null)).execute(),this._featureNames=p,H(i,t,n),i.add(F(i.getBoundingRect(),t)),u||i.eachChild(function(t){var e=t.__title,o=t.ensureState("emphasis"),a=o.textConfig||(o.textConfig={}),s=t.getTextContent(),u=s&&s.ensureState("emphasis");if(u&&!j(u)&&e){var l=u.style||(u.style={}),c=U(e,Z.makeFont(l)),d=t.x+i.x,p=!1;t.y+i.y+r+c.height>n.getHeight()&&(a.position="top",p=!0);var f=p?-5-c.height:r+10;d+c.width/2>n.getWidth()?(a.position=["100%",f],l.align="right"):d-c.width/2<0&&(a.position=[0,f],l.align="left")}})}function f(d,f){var h,g=p[d],v=p[f],m=l[g],x=new D(m,t,t.ecModel);if(o&&null!=o.newTitle&&o.featureName===g&&(m.title=o.newTitle),g&&!v){if(function(t){return 0===t.indexOf("my")}(g))h={onclick:x.option.onclick,featureName:g};else{var y=_e(g);if(!y)return;h=new y}c[g]=h}else if(!(h=c[v]))return;h.uid=L("toolbox-feature"),h.model=x,h.ecModel=e,h.api=n;var _=h instanceof me;g||!v?!x.get("show")||_&&h.unusable?_&&h.remove&&h.remove(e,n):(function(o,l,c){var d,p,f=o.getModel("iconStyle"),h=o.getModel(["emphasis","iconStyle"]),g=l instanceof me&&l.getIcons?l.getIcons():o.get("icon"),v=o.get("title")||{};E(g)?(d={})[c]=g:d=g,E(v)?(p={})[c]=v:p=v;var m=o.iconPaths={};a(d,function(a,c){var d=B(a,{},{x:-r/2,y:-r/2,width:r,height:r});d.setStyle(f.getItemStyle()),d.ensureState("emphasis").style=h.getItemStyle();var g=new Z({style:{text:p[c],align:h.get("textAlign"),borderRadius:h.get("textBorderRadius"),padding:h.get("textPadding"),fill:null,font:N({fontStyle:h.get("textFontStyle"),fontFamily:h.get("textFontFamily"),fontSize:h.get("textFontSize"),fontWeight:h.get("textFontWeight")},e)},ignore:!0});d.setTextContent(g),W({el:d,componentModel:t,itemName:c,formatterParamsExtra:{title:p[c]}}),d.__title=p[c],d.on("mouseover",function(){var e=h.getItemStyle(),o=u?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";g.setStyle({fill:h.get("textFill")||e.fill||e.stroke||"#000",backgroundColor:h.get("textBackgroundColor")}),d.setTextConfig({position:h.get("textPosition")||o}),g.ignore=!t.get("showTitle"),n.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==o.get(["iconStatus",c])&&n.leaveEmphasis(this),g.hide()}),("emphasis"===o.get(["iconStatus",c])?V:z)(d),i.add(d),d.on("click",s(l.onclick,l,e,n,c)),m[c]=d})}(x,h,g),x.setIconStatus=function(t,e){var n=this.option,o=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,o[t]&&("emphasis"===e?V:z)(o[t])},h instanceof me&&h.render&&h.render(x,e,n,o)):_&&h.dispose&&h.dispose(e,n)}},e.prototype.updateView=function(t,e,n,o){a(this._features,function(t){t instanceof me&&t.updateView&&t.updateView(t.model,e,n,o)})},e.prototype.remove=function(t,e){a(this._features,function(n){n instanceof me&&n.remove&&n.remove(t,e)}),this.group.removeAll()},e.prototype.dispose=function(t,e){a(this._features,function(n){n instanceof me&&n.dispose&&n.dispose(t,e)})},e.type="toolbox",e}(S),Ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onclick=function(t,e){var n=this.model,o=n.get("name")||t.get("title.0.text")||"echarts",i="svg"===e.getZr().painter.getType(),r=i?"svg":n.get("type",!0)||"png",a=e.getConnectedDataURL({type:r,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),s=G.browser;if("function"!=typeof MouseEvent||!s.newEdge&&(s.ie||s.edge))if(window.navigator.msSaveOrOpenBlob||i){var u=a.split(","),l=u[0].indexOf("base64")>-1,c=i?decodeURIComponent(u[1]):u[1];l&&(c=window.atob(c));var d=o+"."+r;if(window.navigator.msSaveOrOpenBlob){for(var p=c.length,f=new Uint8Array(p);p--;)f[p]=c.charCodeAt(p);var h=new Blob([f]);window.navigator.msSaveOrOpenBlob(h,d)}else{var g=document.createElement("iframe");document.body.appendChild(g);var v=g.contentWindow,m=v.document;m.open("image/svg+xml","replace"),m.write(c),m.close(),v.focus(),m.execCommand("SaveAs",!0,d),document.body.removeChild(g)}}else{var x=n.get("lang"),y='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(x&&x[0]||"")+'" /></body>',_=window.open();_.document.write(y),_.document.title=o}else{var b=document.createElement("a");b.download=o+"."+r,b.target="_blank",b.href=a;var M=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});b.dispatchEvent(M)}},e.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},e}(me),Ae="__ec_magicType_stack__",we=[["line","bar"],["stack"]],Te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return a(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n},e.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},e.prototype.onclick=function(t,e,n){var o=this.model,i=o.get(["seriesIndex",n]);if(Se[n]){var r,s={series:[]};a(we,function(t){C(t,n)>=0&&a(t,function(t){o.setIconStatus(t,"normal")})}),o.setIconStatus(n,"emphasis"),t.eachComponent({mainType:"series",query:null==i?null:{seriesIndex:i}},function(t){var e=t.subType,i=t.id,r=Se[n](e,i,t,o);r&&(v(r,t.option),s.series.push(r));var a=t.coordinateSystem;if(a&&"cartesian2d"===a.type&&("line"===n||"bar"===n)){var u=a.getAxesByScale("ordinal")[0];if(u){var l=u.dim+"Axis",c=t.getReferringComponents(l,w).models[0].componentIndex;s[l]=s[l]||[];for(var d=0;d<=c;d++)s[l][c]=s[l][c]||{};s[l][c].boundaryGap="bar"===n}}});var l=n;"stack"===n&&(r=u({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",n])&&(l="tiled")),e.dispatchAction({type:"changeMagicType",currentType:l,newOption:s,newTitle:r,featureName:"magicType"})}},e}(me),Se={line:function(t,e,n,o){if("bar"===t)return u({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get(["option","line"])||{},!0)},bar:function(t,e,n,o){if("line"===t)return u({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},o.get(["option","bar"])||{},!0)},stack:function(t,e,n,o){var i=n.get("stack")===Ae;if("line"===t||"bar"===t)return o.setIconStatus("stack",i?"normal":"emphasis"),u({id:e,stack:i?"":Ae},o.get(["option","stack"])||{},!0)}};n({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});var Ie=new Array(60).join("-"),Oe="\t";function ke(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var Re=new RegExp("[\t]+","g");function Pe(t,e){var n=t.split(new RegExp("\n*"+Ie+"\n*","g")),o={series:[]};return a(n,function(t,n){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(Oe)>=0)return!0}(t)){var i=function(t){for(var e=t.split(/\n+/g),n=ke(e.shift()).split(Re),o=[],i=c(n,function(t){return{name:t,data:[]}}),r=0;r<e.length;r++){var a=ke(e[r]).split(Re);o.push(a.shift());for(var s=0;s<a.length;s++)i[s]&&(i[s].data[r]=a[s])}return{series:i,categories:o}}(t),r=e[n],a=r.axisDim+"Axis";r&&(o[a]=o[a]||[],o[a][r.axisIndex]={data:i.categories},o.series=o.series.concat(i.series))}else i=function(t){for(var e=t.split(/\n+/g),n=ke(e.shift()),o=[],i=0;i<e.length;i++){var r=ke(e[i]);if(r){var a=r.split(Re),s="",u=void 0,l=!1;isNaN(a[0])?(l=!0,s=a[0],a=a.slice(1),o[i]={name:s,value:[]},u=o[i].value):u=o[i]=[];for(var c=0;c<a.length;c++)u.push(+a[c]);1===u.length&&(l?o[i].value=u[0]:o[i]=u[0])}}return{name:n,data:o}}(t),o.series.push(i)}),o}var De=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onclick=function(t,e){setTimeout(function(){e.dispatchAction({type:"hideTip"})});var n=e.getDom(),o=this.model;this._dom&&n.removeChild(this._dom);var i=document.createElement("div");i.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",i.style.backgroundColor=o.get("backgroundColor")||"#fff";var r=document.createElement("h4"),s=o.get("lang")||[];r.innerHTML=s[0]||o.get("title"),r.style.cssText="margin:10px 20px",r.style.color=o.get("textColor");var u=document.createElement("div"),l=document.createElement("textarea");u.style.cssText="overflow:auto";var d=o.get("optionToContent"),p=o.get("contentToOption"),f=function(t){var e,n,o,i=function(t){var e={},n=[],o=[];return t.eachRawSeries(function(t){var i=t.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)n.push(t);else{var r=i.getBaseAxis();if("category"===r.type){var a=r.dim+"_"+r.index;e[a]||(e[a]={categoryAxis:r,valueAxis:i.getOtherAxis(r),series:[]},o.push({axisDim:r.dim,axisIndex:r.index})),e[a].series.push(t)}else n.push(t)}}),{seriesGroupByCategoryAxis:e,other:n,meta:o}}(t);return{value:$([(n=i.seriesGroupByCategoryAxis,o=[],a(n,function(t,e){var n=t.categoryAxis,i=t.valueAxis.dim,r=[" "].concat(c(t.series,function(t){return t.name})),s=[n.model.getCategories()];a(t.series,function(t){var e=t.getRawData();s.push(t.getRawData().mapArray(e.mapDimension(i),function(t){return t}))});for(var u=[r.join(Oe)],l=0;l<s[0].length;l++){for(var d=[],p=0;p<s.length;p++)d.push(s[p][l]);u.push(d.join(Oe))}o.push(u.join("\n"))}),o.join("\n\n"+Ie+"\n\n")),(e=i.other,c(e,function(t){var e=t.getRawData(),n=[t.name],o=[];return e.each(e.dimensions,function(){for(var t=arguments.length,i=arguments[t-1],r=e.getName(i),a=0;a<t-1;a++)o[a]=arguments[a];n.push((r?r+Oe:"")+o.join(Oe))}),n.join("\n")}).join("\n\n"+Ie+"\n\n"))],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+Ie+"\n\n"),meta:i.meta}}(t);if(j(d)){var h=d(e.getOption());E(h)?u.innerHTML=h:Y(h)&&u.appendChild(h)}else{l.readOnly=o.get("readOnly");var g=l.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=o.get("textColor"),g.borderColor=o.get("textareaBorderColor"),g.backgroundColor=o.get("textareaColor"),l.value=f.value,u.appendChild(l)}var v=f.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var x="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),_=document.createElement("div");x+=";background-color:"+o.get("buttonColor"),x+=";color:"+o.get("buttonTextColor");var b=this;function M(){n.removeChild(i),b._dom=null}X(y,"click",M),X(_,"click",function(){if(null==p&&null!=d||null!=p&&null==d)M();else{var t;try{t=j(p)?p(u,e.getOption()):Pe(l.value,v)}catch(n){throw M(),new Error("Data view format error "+n)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),M()}}),y.innerHTML=s[1],_.innerHTML=s[2],_.style.cssText=y.style.cssText=x,!o.get("readOnly")&&m.appendChild(_),m.appendChild(y),i.appendChild(r),i.appendChild(u),i.appendChild(m),u.style.height=n.clientHeight-80+"px",n.appendChild(i),this._dom=i},e.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},e.prototype.dispose=function(t,e){this.remove(t,e)},e.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},e}(me);function Le(t,e){return c(t,function(t,n){var o=e&&e[n];if(J(o)&&!K(o)){J(t)&&!K(t)||(t={value:t});var i=null!=o.name&&null==t.name;return t=v(t,o),i&&delete t.name,t}return t})}n({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var n=[];a(t.newOption.series,function(t){var o=e.getSeriesByName(t.name)[0];if(o){var i=o.get("data");n.push({name:t.name,data:Le(t.data,i)})}else n.push(q({type:"scatter"},t))}),e.mergeOption(v({series:n},t.newOption))});var Ve=a,ze=Q();function Ee(t){var e=ze(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var Be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onclick=function(t,e){!function(t){ze(t).snapshots=null}(t),e.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},e}(me);n({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var Ze=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Ne=t("c",function(){function t(t,e,n){var o=this;this._targetInfoList=[];var i=He(e,t);a(Fe,function(t,e){(!n||!n.include||C(n.include,e)>=0)&&t(i,o._targetInfoList)})}return t.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(t,e,n){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var o=Ge[t.brushType](0,n,e);t.__rangeOffset={offset:Xe[t.brushType](o.values,t.range,[1,1]),xyMinMax:o.xyMinMax}}}),t},t.prototype.matchOutputRanges=function(t,e,n){a(t,function(t){var o=this.findTargetInfo(t,e);o&&!0!==o&&a(o.coordSyses,function(o){var i=Ge[t.brushType](1,o,t.range,!0);n(t,i.values,o,e)})},this)},t.prototype.setInputRanges=function(t,e){a(t,function(t){var n,o,i,r,a,s=this.findTargetInfo(t,e);if(t.range=t.range||[],s&&!0!==s){t.panelId=s.panelId;var u=Ge[t.brushType](0,s.coordSys,t.coordRange),l=t.__rangeOffset;t.range=l?Xe[t.brushType](u.values,l.offset,(n=u.xyMinMax,o=l.xyMinMax,i=$e(n),r=$e(o),a=[i[0]/r[0],i[1]/r[1]],isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a)):u.values}},this)},t.prototype.makePanelOpts=function(t,e){return c(this._targetInfoList,function(n){var o=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:e?e(n):null,clipPath:$t(o),isTargetByCursor:Kt(o,t,n.coordSysModel),getLinearBrushOtherExtent:Jt(o)}})},t.prototype.controlSeries=function(t,e,n){var o=this.findTargetInfo(t,n);return!0===o||o&&C(o.coordSyses,e.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,e){for(var n=this._targetInfoList,o=He(e,t),i=0;i<n.length;i++){var r=n[i],a=t.panelId;if(a){if(r.panelId===a)return r}else for(var s=0;s<je.length;s++)if(je[s](o,r))return r}return!0},t}());function We(t){return t[0]>t[1]&&t.reverse(),t}function He(t,e){return tt(t,e,{includeMainTypes:Ze})}var Fe={grid:function(t,e){var n=t.xAxisModels,o=t.yAxisModels,i=t.gridModels,r=M(),s={},u={};(n||o||i)&&(a(n,function(t){var e=t.axis.grid.model;r.set(e.id,e),s[e.id]=!0}),a(o,function(t){var e=t.axis.grid.model;r.set(e.id,e),u[e.id]=!0}),a(i,function(t){r.set(t.id,t),s[t.id]=!0,u[t.id]=!0}),r.each(function(t){var i=t.coordinateSystem,r=[];a(i.getCartesians(),function(t,e){(C(n,t.getAxis("x").model)>=0||C(o,t.getAxis("y").model)>=0)&&r.push(t)}),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:r[0],coordSyses:r,getPanelRect:Ue.grid,xAxisDeclared:s[t.id],yAxisDeclared:u[t.id]})}))},geo:function(t,e){a(t.geoModels,function(t){var n=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:Ue.geo})})}},je=[function(t,e){var n=t.xAxisModel,o=t.yAxisModel,i=t.gridModel;return!i&&n&&(i=n.axis.grid.model),!i&&o&&(i=o.axis.grid.model),i&&i===e.gridModel},function(t,e){var n=t.geoModel;return n&&n===e.geoModel}],Ue={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(y(t)),e}},Ge={lineX:h(Ye,0),lineY:h(Ye,1),rect:function(t,e,n,o){var i=t?e.pointToData([n[0][0],n[1][0]],o):e.dataToPoint([n[0][0],n[1][0]],o),r=t?e.pointToData([n[0][1],n[1][1]],o):e.dataToPoint([n[0][1],n[1][1]],o),a=[We([i[0],r[0]]),We([i[1],r[1]])];return{values:a,xyMinMax:a}},polygon:function(t,e,n,o){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:c(n,function(n){var r=t?e.pointToData(n,o):e.dataToPoint(n,o);return i[0][0]=Math.min(i[0][0],r[0]),i[1][0]=Math.min(i[1][0],r[1]),i[0][1]=Math.max(i[0][1],r[0]),i[1][1]=Math.max(i[1][1],r[1]),r}),xyMinMax:i}}};function Ye(t,e,n,o){var i=n.getAxis(["x","y"][t]),r=We(c([0,1],function(t){return e?i.coordToData(i.toLocalCoord(o[t]),!0):i.toGlobalCoord(i.dataToCoord(o[t]))})),a=[];return a[t]=r,a[1-t]=[NaN,NaN],{values:r,xyMinMax:a}}var Xe={lineX:h(qe,0),lineY:h(qe,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,e,n){return c(t,function(t,o){return[t[0]-n[0]*e[o][0],t[1]-n[1]*e[o][1]]})}};function qe(t,e,n,o){return[e[0]-o[t]*n[0],e[1]-o[t]*n[1]]}function $e(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var Je=a,Ke=nt("toolbox-dataZoom_"),Qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.render=function(t,e,n,o){this._brushController||(this._brushController=new yt(n.getZr()),this._brushController.on("brush",s(this._onBrush,this)).mount()),function(t,e,n,o,i){var r=n._isZoomActive;o&&"takeGlobalCursor"===o.type&&(r="dataZoomSelect"===o.key&&o.dataZoomSelectActive),n._isZoomActive=r,t.setIconStatus("zoom",r?"emphasis":"normal");var a=new Ne(en(t),e,{include:["grid"]}),s=a.makePanelOpts(i,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"});n._brushController.setPanels(s).enableBrush(!(!r||!s.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,e,this,o,n),function(t,e){t.setIconStatus("back",function(t){return Ee(t).length}(e)>1?"emphasis":"normal")}(t,e)},e.prototype.onclick=function(t,e,n){tn[n].call(this)},e.prototype.remove=function(t,e){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(t,e){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(t){var e=t.areas;if(t.isEnd&&e.length){var n={},o=this.ecModel;this._brushController.updateCovers([]),new Ne(en(this.model),o,{include:["grid"]}).matchOutputRanges(e,o,function(t,e,n){if("cartesian2d"===n.type){var o=t.brushType;"rect"===o?(i("x",n,e[0]),i("y",n,e[1])):i({lineX:"x",lineY:"y"}[o],n,e)}}),function(t,e){var n=Ee(t);Ve(e,function(e,o){for(var i=n.length-1;i>=0&&!n[i][o];i--);if(i<0){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:o})[0];if(r){var a=r.getPercentRange();n[0][o]={dataZoomId:o,start:a[0],end:a[1]}}}}),n.push(e)}(o,n),this._dispatchZoomAction(n)}function i(t,e,i){var r=e.getAxis(t),a=r.model,s=function(t,e,n){var o;return n.eachComponent({mainType:"dataZoom",subType:"select"},function(n){n.getAxisModel(t,e.componentIndex)&&(o=n)}),o}(t,a,o),u=s.findRepresentativeAxisProxy(a).getMinMaxSpan();null==u.minValueSpan&&null==u.maxValueSpan||(i=st(0,i.slice(),r.scale.getExtent(),0,u.minValueSpan,u.maxValueSpan)),s&&(n[s.id]={dataZoomId:s.id,startValue:i[0],endValue:i[1]})}},e.prototype._dispatchZoomAction=function(t){var e=[];Je(t,function(t,n){e.push(l(t))}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},e.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},e}(me),tn={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var e=Ee(t),n=e[e.length-1];e.length>1&&e.pop();var o={};return Ve(n,function(t,n){for(var i=e.length-1;i>=0;i--)if(t=e[i][n]){o[n]=t;break}}),o}(this.ecModel))}};function en(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==e.xAxisIndex&&null==e.xAxisId&&(e.xAxisIndex="all"),null==e.yAxisIndex&&null==e.yAxisId&&(e.yAxisIndex="all"),e}et("dataZoom",function(t){var e=t.getComponent("toolbox",0),n=["feature","dataZoom"];if(e&&null!=e.get(n)){var o=e.getModel(n),i=[],r=en(o),a=tt(t,r);return Je(a.xAxisModels,function(t){return s(t,"xAxis","xAxisIndex")}),Je(a.yAxisModels,function(t){return s(t,"yAxis","yAxisIndex")}),i}function s(t,e,n){var r=t.componentIndex,a={type:"select",$fromToolbox:!0,filterMode:o.get("filterMode",!0)||"filter",id:Ke+e+r};a[n]=r,i.push(a)}})}}});
