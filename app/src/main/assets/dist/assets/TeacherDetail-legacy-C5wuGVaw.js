System.register(["./index-legacy-CK9unWWd.js","./trainingClassList-legacy-DcG04OPt.js"],function(e,a){"use strict";var t,l,s,u,n,i,r,c,o,d,m,v,p,h,f,g,y,_,V,w,b,q,U,j,D,I,S,C,H,Y,k,x,M;return{setters:[e=>{t=e.d,l=e.r,s=e.w,u=e.g,n=e.a,i=e.i,r=e.F,c=e.E,o=e.h,d=e.G,m=e.ac,v=e.H,p=e.m,h=e.J,f=e.aj,g=e.ae,y=e.ad,_=e.p,V=e.v,w=e.u,b=e.j,q=e.o,U=e.a9,j=e.C,D=e.D,I=e.b,S=e.aq,C=e.bp,H=e.bA,Y=e.e},e=>{k=e.l,x=e.w,M=e.p}],execute:function(){const a={class:"chat-box"},N={class:"message-list"},O={class:"message-meta"},T={class:"time"},A={class:"message-content"},E={class:"chat-input"},F=V(t({__name:"v-chat",props:{currentUserId:{},currentUserName:{},modelValue:{}},emits:["update:modelValue","send"],setup(e,{emit:t}){const V=e,w=t,b=l([...V.modelValue||[]]),q=l("");function U(){if(!q.value.trim())return;const e={type:V.currentUserId,user:V.currentUserName,message:q.value,time:Date.now()};b.value.push(e),w("update:modelValue",b.value),w("send",e),q.value="",f(()=>j())}function j(){const e=document.querySelector(".message-list");e&&(e.scrollTop=e.scrollHeight)}return s(()=>V.modelValue,e=>{b.value=[...e].sort((e,a)=>_(e.time).valueOf()-_(a.time).valueOf()),f(()=>j())},{deep:!0}),(e,t)=>{const l=d,s=v;return n(),u("div",a,[i("div",N,[(n(!0),u(r,null,c(b.value,e=>{return n(),u("div",{key:e.time,class:g(["message",[1!==e.type?"mine":"other"]])},[i("div",O,[i("div",null,y(e.user),1),i("div",T,y((a=e.time,_(a).format("YYYY-MM-DD HH:mm:ss"))),1)]),i("div",A,y(e.message),1)],2);var a}),128))]),i("div",E,[o(l,{modelValue:q.value,"onUpdate:modelValue":t[0]||(t[0]=e=>q.value=e),placeholder:"输入消息...",clearable:"",onKeyup:m(U,["enter"])},null,8,["modelValue"]),o(s,{type:"primary",onClick:U},{default:p(()=>[...t[1]||(t[1]=[h(" 发送 ",-1)])]),_:1})])])}}}),[["__scopeId","data-v-a8451aaa"]]),G={class:"left-image-right-card"},J={class:"layout-container"},K={class:"left-image"},L={class:"right-card"},z={class:"content"},B={class:"content"},P={class:"message-section"},Q=t({__name:"TeacherDetail",setup(e){const a=l(!1),t=l({}),s=w(),{userInfo:c}=b(),d=l([]);function m(){x({teacher_id:s.query.id,student_id:c.id}).then(e=>{d.value=e})}function f(e){M(H({teacher_id:s.query.id,message:e.message})).then(()=>{m()})}return q(()=>{k({id:s.query.id}).then(e=>{t.value=e.data}),m()}),(e,l)=>{const s=U,m=j,g=D,_=v,V=F,w=S;return n(),u(r,null,[i("div",G,[i("div",J,[i("div",K,[o(s,{src:t.value.cert_file,fit:"cover",radius:"8",class:"teacher-image"},null,8,["src"])]),i("div",L,[o(g,{class:"info-card"},{default:p(()=>{return[o(m,{title:"姓名",value:t.value.name},null,8,["value"]),o(m,{title:"专业",value:t.value.major},null,8,["value"]),o(m,{title:"学历",value:(e=t.value.edu,e?C.find(a=>a.id.toString()===e.toString())?.name:"-")},null,8,["value"])];var e}),_:1})])]),l[4]||(l[4]=i("h3",{title:"个人简介",class:"section-title"}," 个人简介 ",-1)),i("div",z,y(t.value.swq_desc),1),l[5]||(l[5]=i("h3",{title:"个人著作",class:"section-title"}," 个人著作 ",-1)),i("div",B,y(t.value.swq_literate),1),l[6]||(l[6]=i("h3",{title:"资质证书",class:"section-title"}," 资质证书 ",-1)),o(s,{src:t.value.photo,class:"teacher-image"},null,8,["src"]),i("div",P,[o(_,{type:"primary",onClick:l[0]||(l[0]=e=>a.value=!0)},{default:p(()=>[...l[3]||(l[3]=[h(" 在线留言 ",-1)])]),_:1})])]),o(w,{show:a.value,"onUpdate:show":l[2]||(l[2]=e=>a.value=e),position:"bottom",style:{height:"80%"}},{default:p(()=>[o(V,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),"current-user-name":I(c).name,"current-user-id":1,onSend:f},null,8,["modelValue","current-user-name"])]),_:1},8,["show"])],64)}}});"function"==typeof Y&&Y(Q),e("default",V(Q,[["__scopeId","data-v-f383bda7"]]))}}});
