System.register(["./index-legacy-CK9unWWd.js","./detail-legacy-CpAOJIgJ.js","./accident-legacy-DUrK_x9m.js","./map-legacy-C2cxRvx1.js","./useTabsListener-legacy-BqsF0NKt.js","./Detail-legacy-Hfctf5Uv.js","./Detail.vue_vue_type_style_index_0_scoped_de43671c_lang-legacy-CnvmjJHj.js"],function(e,l){"use strict";var t,a,n,u,o,i,r,s,c,d,m,p,v,_,f,y,h,b,g,w,j,x;return{setters:[e=>{t=e.d,a=e.l,n=e.w,u=e.g,o=e.a,i=e.F,r=e.h,s=e.G,c=e.b,d=e.B,m=e.r,p=e._,v=e.m,_=e.aq,f=e.x,y=e.z,h=e.v,b=e.e},e=>{g=e.default},e=>{w=e.b},e=>{j=e.t},e=>{x=e.u},null,null],execute:function(){const l=t({__name:"AccidentSearchForm",props:{form:{}},emits:["update:form"],setup(e,{emit:l}){const t=l,m=a({...e.form});return n(m,e=>{t("update:form",e)},{deep:!0}),(e,l)=>{const t=s,a=d;return o(),u(i,null,[r(t,{modelValue:c(m).name,"onUpdate:modelValue":l[0]||(l[0]=e=>c(m).name=e),type:"text",name:"text",label:"事故名称",placeholder:"请输入事故名称"},null,8,["modelValue"]),r(a,{modelValue:c(m).date,"onUpdate:modelValue":l[1]||(l[1]=e=>c(m).date=e),format:"YYYY-MM-DD",label:"发生时间",placeholder:"请选择"},null,8,["modelValue"])],64)}}}),k=t({__name:"AccidentList",setup(e){async function t({pageNum:e,form:l}){const t=await w({page:e,...l});return{total:Number(t.count),data:t.data}}function a(e){const l=j.find(l=>+l.value===+e);return l?l.label:e}const n=[{title:"事发部门",key:"input_dept",width:"20%",align:"center"},{title:"事故地点",key:"input_location",width:"22%"},{title:"伤害程度",key:"select_injury_level",width:"20%",align:"center"},{title:"完成时间",key:"date_completion_time",width:"25%",align:"right"}],i=m(!1),s=m([]);function c(e){i.value=!0,s.value=[{label:"事故/事件名称",value:e.name},{label:"事故部门",value:e.department},{label:"发生时间",value:e.happen_date},{label:"人员伤害类型",value:{5:"无伤",1:"轻微伤",2:"轻伤",3:"重伤",4:"死亡"}[e.hurt_type]},{label:"直接经济损失(万元)",value:e.loss},{label:"事故/事件等级",value:e.level},{label:"事故/事件类型",value:a(e.accident_type)},{label:"备注",value:e.remarks},{label:"附件",value:e.files?JSON.parse(e.files).join(""):"",renderType:"list"}]}const d=m({name:"",date:""});return(e,a)=>{const m=p,f=_;return o(),u("div",null,[r(m,{form:d.value,"onUpdate:form":a[1]||(a[1]=e=>d.value=e),columns:n,request:t,onOnRowClick:c},{searchForm:v(()=>[r(l,{form:d.value,"onUpdate:form":a[0]||(a[0]=e=>d.value=e)},null,8,["form"])]),_:1},8,["form"]),r(f,{show:i.value,"onUpdate:show":a[2]||(a[2]=e=>i.value=e),position:"bottom",style:{height:"70%"}},{default:v(()=>[r(g,{items:s.value},null,8,["items"])]),_:1},8,["show"])])}}}),V={class:"flex-center h-[100vh] w-100% items-center"},U=t({__name:"index",setup(e){const l=m("");return x("accidentList-click-tab",e=>{l.value=e.name}),(e,t)=>(o(),u("div",V,[f(r(k,null,null,512),[[y,"1"===l.value]])]))}});"function"==typeof b&&b(U),e("default",h(U,[["__scopeId","data-v-e70f9118"]]))}}});
