import{aB as b,d,l as k,w as y,o as h,c as f,a as v,G as g,k as w,r as x,m,h as C,au as p,b as _,i as R,ad as V,_ as B}from"./index-5kp1FiRg.js";async function F(o){return b.get("/enemergency/event_list",{params:o})}const N=d({__name:"SearchForm",props:{form:{default:{}}},emits:["update:form"],setup(o,{emit:c}){const i=o,a=c,t=k({...i.form});return y(t,s=>{a("update:form",s)},{deep:!0}),h(()=>{}),(s,r)=>{const e=g;return v(),f(e,{modelValue:t.name,"onUpdate:modelValue":r[0]||(r[0]=l=>t.name=l),type:"text",name:"text",label:"",placeholder:"请输入事件名称"},null,8,["modelValue"])}}}),$=d({__name:"dispositionRecords",setup(o){async function c({pageNum:e,form:l}){const u=await F({page:e,...l});return{total:Number(u.count),data:u.data}}const{routerPush:i}=w(),a=x({name:"",location:"",set_etp_id:"",status:"",when:""}),t=[{icon:"search",key:"search"}];function s(e){e.etp_id_name,e.name,e.location,e.when,e.em_plan,e.department,e.uid_user_name,e.risk_name_all,e.risk_policy_all,e.uid_user_name,e.note,e.files.split(","),i("task-process",{taskid:"",transid:e.process_inst_id,appid:0})}const r=[{title:"事件名称",key:"name"},{title:"发生地点",key:"location"},{title:"责任人",key:"uid_user_name"}];return(e,l)=>{const u=B;return v(),f(u,{form:_(a),"onUpdate:form":l[1]||(l[1]=n=>p(a)?a.value=n:null),columns:r,request:c,floating:t,onOnRowClick:s},{"cell-month":m(({row:n})=>[R("div",null,V("".concat(n.year).concat(n.month)),1)]),searchForm:m(()=>[C(N,{form:_(a),"onUpdate:form":l[0]||(l[0]=n=>p(a)?a.value=n:null)},null,8,["form"])]),_:1},8,["form"])}}});export{$ as _};
