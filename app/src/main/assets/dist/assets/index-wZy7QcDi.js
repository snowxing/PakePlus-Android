import{d as p,l as v,w as b,c as d,a as _,G as k,b as c,k as y,r as g,m as h,h as w,_ as x,e as f}from"./index-5kp1FiRg.js";import{g as C}from"./index-DpOfbo4u.js";const F=p({__name:"SearchForm",props:{form:{default:()=>({})}},emits:["update:form"],setup(m,{emit:s}){const u=m,a=s,o=v({...u.form});return b(o,l=>{a("update:form",l)},{deep:!0}),(l,n)=>{const e=k;return _(),d(e,{modelValue:c(o).name,"onUpdate:modelValue":n[0]||(n[0]=t=>c(o).name=t),type:"text",name:"text",label:"规程名称",placeholder:"请输入规程名称"},null,8,["modelValue"])}}}),V=p({__name:"index",setup(m){async function s({pageNum:e,form:t}){const r=await C({page:e,...t});return{total:Number(r.count),data:r.data}}const{routerPush:u}=y(),a=g({name:""}),o=[{icon:"search",key:"search"}];function l(e){const t=[{label:"名称",value:e.name},{label:"类别",value:e.category},{label:"发布部门",value:e.authority},{label:"文号",value:e.no},{label:"颁布日期",value:e.issue_date},{label:"生效日期",value:e.work_date},{label:"最新修订日期",value:e.revision_date},{label:"附件",value:e.files,renderType:"image"},{label:"备注",value:e.note}];u("institutionalizedDetail",{detail:JSON.stringify(t)})}const n=[{title:"规程名称",key:"name"},{title:"发布部门",key:"authority"}];return(e,t)=>{const r=x;return _(),d(r,{columns:n,request:s,form:a.value,"onUpdate:form":t[1]||(t[1]=i=>a.value=i),floating:o,onOnRowClick:l},{searchForm:h(()=>[w(F,{form:a.value,"onUpdate:form":t[0]||(t[0]=i=>a.value=i)},null,8,["form"])]),_:1},8,["form"])}}});typeof f=="function"&&f(V);export{V as default};
