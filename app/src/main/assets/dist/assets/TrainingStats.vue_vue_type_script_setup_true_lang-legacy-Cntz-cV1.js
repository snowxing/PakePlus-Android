System.register(["./index-legacy-CK9unWWd.js","./trainingStatistics-legacy-CFpwUBwl.js","./index-legacy-Mn1LqAOU.js","./index-legacy-Bv-nUzTo.js","./install-legacy-BpR_-QHD.js"],function(e,t){"use strict";var a,s,i,r,l,n,c,o,d,u,p,v,h,y,m,g,w,x,_,b,k,L,C,A,E;return{setters:[e=>{a=e.d,s=e.c,i=e.a,r=e._,l=e.r,n=e.aD,c=e.o,o=e.a6,d=e.w,u=e.g,p=e.h,v=e.i,h=e.C,y=e.b,m=e.aj,g=e.b5,w=e.v,x=e.F},e=>{_=e.g,b=e.a,k=e.b,L=e.c,C=e.d,A=e.e},null,null,e=>{E=e.e}],execute:function(){e("a",a({__name:"DeptRank",setup(e){const t=[{title:"年度",key:"year",width:"25%"},{title:"部门名称",key:"department_name",width:"25%"},{title:"平均成绩",key:"average_score",width:"25%"},{title:"全厂排名",key:"plant_ranking",width:"25%"}];async function a({pageNum:e}={pageNum:1}){const t={page:e},a=await _(t);return{total:Number(a.count)||0,data:a||[]}}return(e,l)=>{const n=r;return i(),s(n,{columns:t,request:a})}}}));const t={class:"chart-container"},f={class:"chart-wrapper"},S=w(a({__name:"PassRateChart",setup(e){const a=l();let r=null;const w=l({categories:[],series:[]}),x=l({}),_=()=>{if(!r)return;const e={color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],tooltip:{trigger:"axis"},legend:{show:!1},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:w.value.categories,axisLine:{lineStyle:{color:"#ccc"}},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed"}}},series:w.value.series.map(e=>({name:e.name,type:"line",data:e.data,smooth:!0,lineStyle:{width:2},symbol:"circle",symbolSize:6,itemStyle:{borderWidth:1}}))};r.setOption(e)},k=()=>{r?.resize()},L=n(()=>w.value.series.length>0||w.value.categories.length>0),C=async()=>{try{const e=await b(x.value);e.data&&(w.value={categories:e.data.map(e=>e.name),series:[{name:"及格率",data:e.data.map(e=>e.ratio)}]},m(()=>{!r&&L.value?a.value&&(r&&r.dispose(),r=E(a.value),_()):_()}))}catch(e){console.error("获取数据失败:",e)}};return c(()=>{C(),window.addEventListener("resize",k)}),o(()=>{window.removeEventListener("resize",k),r&&r.dispose()}),d(w,()=>{_()},{deep:!0}),(e,r)=>{const l=h,n=g;return i(),u("div",t,[p(l,{title:"及格率统计",class:"title-cell"}),v("div",f,[y(L)?(i(),u("div",{key:0,ref_key:"chartDom",ref:a,class:"chart",style:{height:"250px"}},null,512)):(i(),s(n,{key:1,description:"暂无数据",class:"empty-state"}))])])}}}),[["__scopeId","data-v-5c67f80a"]]),F={class:"chart-container"},z={class:"chart-content"},D=w(a({__name:"FullScoreRate",setup(e){const t=l(null),a=l(null),r=l({categories:[],series:[]}),w=l({}),x=l({color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],legend:{show:!1},xAxis:{axisLine:{lineStyle:{color:"#ccc"}},axisTick:{alignWithLabel:!0}},yAxis:{axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed"}}},series:[{type:"line",lineStyle:{width:2},symbol:"circle",symbolSize:6,itemStyle:{borderWidth:1}}]}),_=n(()=>r.value.series.length>0||r.value.categories.length>0),b=()=>{if(!a.value)return;const e={...x.value,xAxis:{...x.value.xAxis,type:"category",data:r.value.categories},series:r.value.series.map(e=>({...x.value.series[0],name:e.name,data:e.data}))};a.value.setOption(e)},L=()=>{a.value?.resize()},C=async()=>{try{const e=await k(w.value);"ok"===e.status&&(r.value={categories:e.data.map(e=>e.name),series:e.data.map(t=>({name:t.name,data:e.data.map(e=>e.ratio)}))},m(()=>{!a.value&&_.value?t.value&&(a.value&&a.value.dispose(),a.value=E(t.value),b()):b()}))}catch(e){console.error("数据加载失败:",e)}};return c(()=>{C(),window.addEventListener("resize",L)}),o(()=>{window.removeEventListener("resize",L),a.value?.dispose()}),d(r,()=>{b()},{deep:!0}),(e,a)=>{const r=h,l=g;return i(),u("div",F,[p(r,{title:"满分率统计",class:"title-cell"}),v("div",z,[y(_)?(i(),u("div",{key:0,ref_key:"chartDom",ref:t,class:"chart",style:{height:"250px"}},null,512)):(i(),s(l,{key:1,description:"暂无数据",class:"empty-state"}))])])}}}),[["__scopeId","data-v-202bc7b6"]]),B={class:"chart-container"},W={class:"chart-wrapper"},T=w(a({__name:"perCapitaPerMonthChart",setup(e){const t=l();let a=null;const r=l({categories:[],series:[]}),y=l({}),w=()=>{if(!a)return;const e={color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],tooltip:{trigger:"axis"},legend:{show:!1},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:r.value.categories,axisLine:{lineStyle:{color:"#ccc"}},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed"}}},series:r.value.series.map(e=>({name:e.name,type:"line",data:e.data,smooth:!0,lineStyle:{width:2},symbol:"circle",symbolSize:6,itemStyle:{borderWidth:1}}))};a.setOption(e)},x=()=>{a?.resize()},_=n(()=>r.value.categories.length>0),b=async()=>{try{const e=await L(y.value);e.data&&"ok"===e.status&&(r.value={categories:e.data.map(e=>e.month+"月"),series:[{name:"学习时长",data:e.data.map(e=>e.study_minutes)}]},m(()=>{!a&&_.value?t.value&&(a&&a.dispose(),a=E(t.value),w()):w()}))}catch(e){console.error("获取数据失败:",e)}};return c(()=>{b(),window.addEventListener("resize",x)}),o(()=>{window.removeEventListener("resize",x),a&&a.dispose()}),d(r,()=>{w()},{deep:!0}),(e,a)=>{const r=h,l=g;return i(),u("div",B,[p(r,{title:"每月人均学习时长统计(小时)",class:"title-cell"}),v("div",W,[_.value?(i(),u("div",{key:0,ref_key:"chartDom",ref:t,class:"chart",style:{height:"250px"}},null,512)):(i(),s(l,{key:1,description:"暂无数据",class:"empty-state"}))])])}}}),[["__scopeId","data-v-38e13ce9"]]),O={class:"chart-container"},j={class:"chart-wrapper"},I=w(a({__name:"participationRateStatisticsChart",setup(e){const t=l();let a=null;const r=l({categories:[],series:[]}),w=l({}),x=()=>{if(!a)return;const e={color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],tooltip:{trigger:"axis"},legend:{show:!1},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:r.value.categories,axisLine:{lineStyle:{color:"#ccc"}},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",min:0,max:100,axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed"}}},series:r.value.series.map(e=>({name:e.name,type:"line",data:e.data,smooth:!0,lineStyle:{width:2},symbol:"circle",symbolSize:6,itemStyle:{borderWidth:1}}))};a.setOption(e)},_=()=>{a?.resize()},b=n(()=>r.value.series.length>0||r.value.categories.length>0),k=async()=>{try{const e=await C(w.value);e.data&&"ok"===e.status&&(r.value={categories:e.data.map(e=>e.name),series:[{name:"参与率",data:e.data.map(e=>e.ratio)}]},m(()=>{!a&&b.value?t.value&&(a&&a.dispose(),a=E(t.value),x()):x()}))}catch(e){console.error("获取数据失败:",e)}};return c(()=>{k(),window.addEventListener("resize",_)}),o(()=>{window.removeEventListener("resize",_),a&&a.dispose()}),d(r,()=>{x()},{deep:!0}),(e,a)=>{const r=h,l=g;return i(),u("div",O,[p(r,{title:"参与率统计",class:"title-cell"}),v("div",j,[y(b)?(i(),u("div",{key:0,ref_key:"chartDom",ref:t,class:"chart",style:{height:"250px"}},null,512)):(i(),s(l,{key:1,description:"暂无数据",class:"empty-state"}))])])}}}),[["__scopeId","data-v-ed8de6c0"]]),R={class:"chart-container"},N={class:"chart-wrapper"},P=w(a({__name:"distributionChart",setup(e){const t=l();let a=null;const r=l({series:[]}),y=l({}),w=()=>{if(!a)return;const e={color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",data:r.value.series[0]?.data.map(e=>e.name)||[]},series:[{name:"及格率分布",type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:"16",fontWeight:"bold"}},labelLine:{show:!1},data:r.value.series[0]?.data||[]}]};a.setOption(e)},x=()=>{a?.resize()},_=n(()=>r.value.series.length>0&&r.value.series[0]?.data?.length>0),b=async()=>{try{const e=await A(y.value);e.data&&"ok"===e.status&&(r.value={series:[{data:e.data.map(e=>({name:1==e.is_pass?"及格":"不及格",value:e.ratio}))}]},m(()=>{!a&&_.value?t.value&&(a&&a.dispose(),a=E(t.value),w()):w()}))}catch(e){console.error("获取数据失败:",e)}};return c(()=>{b(),window.addEventListener("resize",x)}),o(()=>{window.removeEventListener("resize",x),a&&a.dispose()}),d(r,()=>{w()},{deep:!0}),(e,a)=>{const r=h,l=g;return i(),u("div",R,[p(r,{title:"及格率分布率统计",class:"title-cell"}),v("div",N,[_.value?(i(),u("div",{key:0,ref_key:"chartDom",ref:t,class:"chart",style:{height:"250px"}},null,512)):(i(),s(l,{key:1,description:"暂无数据",class:"empty-state"}))])])}}}),[["__scopeId","data-v-07eebc52"]]),q={class:"chart-container"},G={class:"chart-wrapper"},M=w(a({__name:"departmentRankingChart",setup(e){const t=l();let a=null;const r=l({categories:[],series:[]}),y=l({page:1,page_size:1e4}),w=()=>{if(!a)return;const e={color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],tooltip:{trigger:"axis"},legend:{show:!0},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",data:r.value.categories,axisLine:{lineStyle:{color:"#ccc"}},axisTick:{alignWithLabel:!0}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed"}}},series:r.value.series.map(e=>({name:e.name,type:"bar",data:e.data,barWidth:"30%",itemStyle:{borderRadius:[3,3,0,0]}}))};a.setOption(e)},x=()=>{a?.resize()},b=n(()=>r.value.series.length>0||r.value.categories.length>0),k=async()=>{try{const e=await _(y.value);e&&(r.value={categories:e.map(e=>e.department_name),series:[{name:"平均成绩",data:e.map(e=>e.average_score)},{name:"全厂排名",data:e.map(e=>e.plant_ranking)}]},m(()=>{!a&&b.value?t.value&&(a&&a.dispose(),a=E(t.value),w()):w()}))}catch(e){console.error("获取数据失败:",e)}};return c(()=>{k(),window.addEventListener("resize",x)}),o(()=>{window.removeEventListener("resize",x),a&&a.dispose()}),d(r,()=>{w()},{deep:!0}),(e,a)=>{const r=h,l=g;return i(),u("div",q,[p(r,{title:"部门排名",class:"title-cell"}),v("div",G,[b.value?(i(),u("div",{key:0,ref_key:"chartDom",ref:t,class:"chart",style:{height:"250px"}},null,512)):(i(),s(l,{key:1,description:"暂无数据",class:"empty-state"}))])])}}}),[["__scopeId","data-v-452adb19"]]);e("_",a({__name:"TrainingStats",setup:e=>(e,t)=>(i(),u(x,null,[p(S),p(D),p(I),p(P),p(T),p(M)],64))}))}}});
