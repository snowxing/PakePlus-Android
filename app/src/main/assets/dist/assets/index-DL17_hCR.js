import{d as f,l as v,w as k,c as d,a as _,G as b,b as m,k as y,r as h,m as g,h as x,_ as w,e as p}from"./index-5kp1FiRg.js";import{d as C}from"./index-DpOfbo4u.js";const F=f({__name:"SearchForm",props:{form:{default:()=>({})}},emits:["update:form"],setup(i,{emit:r}){const u=i,a=r,o=v({...u.form});return k(o,l=>{a("update:form",l)},{deep:!0}),(l,n)=>{const e=b;return _(),d(e,{modelValue:m(o).value,"onUpdate:modelValue":n[0]||(n[0]=t=>m(o).value=t),type:"text",name:"text",label:"名称",placeholder:"请输入名称"},null,8,["modelValue"])}}}),V=f({__name:"index",setup(i){async function r({pageNum:e,form:t}){const s=await C({page:e,...t});return{total:Number(s.count),data:s.data}}const{routerPush:u}=y(),a=h({field:"name",value:""}),o=[{icon:"search",key:"search"}];function l(e){const t=[{value:e.name,label:"名称"},{value:e.no,label:"编号"},{value:e.tech_type,label:"工艺类型"},{value:e.optimize,label:"工艺优化"},{value:e.design,label:"工艺设计"},{value:e.staff_name,label:"负责人"}];u("institutionalizedDetail",{detail:JSON.stringify(t)})}const n=[{title:"工艺名称",key:"name"},{title:"工艺优化",key:"optimize"},{title:"工艺类型",key:"tech_type"}];return(e,t)=>{const s=w;return _(),d(s,{columns:n,request:r,form:a.value,"onUpdate:form":t[1]||(t[1]=c=>a.value=c),floating:o,onOnRowClick:l},{searchForm:g(()=>[x(F,{form:a.value,"onUpdate:form":t[0]||(t[0]=c=>a.value=c)},null,8,["form"])]),_:1},8,["form"])}}});typeof p=="function"&&p(V);export{V as default};
