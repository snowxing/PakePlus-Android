System.register(["./index-legacy-CK9unWWd.js","./useTabsListener-legacy-BqsF0NKt.js","./index-legacy-HpZR7LHJ.js","./useTaskProcessClick-legacy-7x_YjoZR.js","./utils-legacy-czBmcPGK.js"],function(e,t){"use strict";var n,a,l,o,s,u,r,i,c,d,m,p,f,_,y,v,g,h,b,x,w,k,C,F,U,D,T,N,Y,M,O,j,L,R,V,$,q,H,z,G,S,E,I,J,K,B,P;return{setters:[e=>{n=e.d,a=e.aD,l=e.p,o=e.g,s=e.a,u=e.bF,r=e.bG,i=e.ad,c=e.c,d=e.C,m=e.b,p=e.m,f=e.i,_=e.y,y=e.ae,v=e.h,g=e.ao,h=e.J,b=e.v,x=e.r,w=e.F,k=e.G,C=e.bH,F=e.l,U=e.w,D=e.o,T=e.bI,N=e.U,Y=e._,M=e.au,O=e.b3,j=e.bJ,L=e.bK,R=e.bL,V=e.bM,$=e.bN,q=e.j,H=e.aG,z=e.aj,G=e.ay,S=e.x,E=e.z,I=e.e},e=>{J=e.u},null,e=>{K=e.u},e=>{B=e.f,P=e.g}],execute:function(){const t=n({name:"TimeDisplay",__name:"TimeDisplay",props:{time:{},format:{}},setup(e){const t=e,n=a(()=>{if(!t.time)return"--";const e=l(t.time);return e.isValid()?e.format(t.format||"YYYY-MM-DD HH:mm:ss"):"--"});return(e,t)=>(s(),o("span",u(r(e.$attrs)),i(n.value),17))}}),A={class:"index"},Q={class:"title"},W={style:{"font-size":"15px","font-weight":"bold"}},X={style:{"font-size":"13px",color:"#666"}},Z={class:"label"},ee={key:1,class:"last"},te=b(n({__name:"RowComponent",props:{index:{},type:{},typeText:{},title:{},node_name:{},send_user_name:{},app_name:{},created_at:{},customType:{},id:{},process_inst_id:{}},setup(e){const n=e,{handleRowClick:a}=K();return(l,u)=>{const r=g,b=t,x=d;return s(),c(x,{clickable:!0,border:!1,class:"row",onClick:u[0]||(u[0]=()=>m(a)({key:"detail"},n))},{icon:p(()=>[f("div",A,[f("span",null,i(e.index),1)])]),title:p(()=>[f("div",Q,[f("span",W,i(e.title),1),f("span",X,i(e.app_name),1)])]),label:p(()=>[f("div",Z,[f("div",{class:y([e.customType?"label-child last-child-full-width":"label-child last-child-width"])},[v(r,{type:e.type,round:""},{default:p(()=>[h(i(e.node_name),1)]),_:1},8,["type"]),f("span",null,i(e.send_user_name),1),e.customType?_("",!0):(s(),c(b,{key:0,class:"last",time:e.created_at,format:"MM-DD HH:mm"},null,8,["time"])),e.customType?(s(),o("span",ee,i(e.customType),1)):_("",!0)],2),e.customType?_("",!0):(s(),c(r,{key:0,type:e.type,round:""},{default:p(()=>[h(i(e.typeText),1)]),_:1},8,["type"]))])]),_:1})}}}),[["__scopeId","data-v-704f38a6"]]),ne=n({__name:"v-picker",props:{label:{},placeholder:{},readonly:{type:Boolean}},emits:["update:value"],setup(e,{emit:t}){const n=t,a=x(""),u=x(!1),r=e=>l(e).format("MM/DD");function i(e){const[t,o]=e;u.value=!1,a.value=`${r(t)} - ${r(o)}`,n("update:value",[l(t).format("YYYY-MM-DD"),l(o).format("YYYY-MM-DD")])}return(t,n)=>{const l=k,r=C;return s(),o(w,null,[v(l,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),class:y({"van-field-readonly":e.readonly}),"is-link":"",readonly:"",label:e.label,placeholder:e.placeholder,onClick:n[1]||(n[1]=e=>u.value=!0)},null,8,["modelValue","class","label","placeholder"]),v(r,{show:u.value,"onUpdate:show":n[2]||(n[2]=e=>u.value=e),"min-date":new Date(2e3,0,1),type:"range",onConfirm:i},null,8,["show","min-date"])],64)}}}),ae=n({__name:"SearchForm",props:{form:{}},emits:["update:form"],setup(e,{emit:t}){const n=e,a=t,l=[{label:"全部",value:0},{label:"待处理",value:1},{label:"已完成",value:2}].map(e=>({text:e.label,value:e.value})),u=F({...n.form});U(u,e=>{a("update:form",e)},{deep:!0});const r=x([]);return D(()=>{T({_cache:!0}).then(e=>{const t=[];e.forEach(e=>{e.app_list.forEach(e=>{t.push({value:e.id,text:e.name})})}),r.value=t})}),(e,t)=>{const n=N,a=k,i=ne;return s(),o(w,null,[v(n,{value:m(u).status,"onUpdate:value":t[0]||(t[0]=e=>m(u).status=e),columns:m(l),label:"任务状态",placeholder:"请选择任务状态"},null,8,["value","columns"]),v(n,{value:m(u).type,"onUpdate:value":t[1]||(t[1]=e=>m(u).type=e),columns:r.value,label:"任务类型",placeholder:"请选择任务类型"},null,8,["value","columns"]),v(a,{modelValue:m(u).sender,"onUpdate:modelValue":t[2]||(t[2]=e=>m(u).sender=e),type:"text",name:"text",label:"发送人",placeholder:"发送人"},null,8,["modelValue"]),v(i,{value:m(u).start,"onUpdate:value":t[3]||(t[3]=e=>m(u).start=e),label:"时间",placeholder:"请选择时间"},null,8,["value"])],64)}}}),le={class:"todo-list"},oe=n({__name:"ToDoList",setup(e){const{handleRowClick:t}=K();async function n({pageNum:e,form:t}){const n=await j({page:e,status:-1,...P(t)});return{total:Number(n.count),data:n.list}}const a=x({status:"",type:"",sender:"",start:"",end:""});return(e,l)=>{const u=te,r=Y;return s(),o("div",le,[v(r,{form:m(a),"onUpdate:form":l[1]||(l[1]=e=>M(a)?a.value=e:null),request:n,floating:m(B),onOnFloatingClick:m(t)},{row:p(({item:e,index:t})=>[v(u,O({type:"warning",index:t+1},e,{"type-text":"进度"}),null,16,["index"])]),searchForm:p(()=>[v(ae,{form:m(a),"onUpdate:form":l[0]||(l[0]=e=>M(a)?a.value=e:null)},null,8,["form"])]),_:1},8,["form","floating","onOnFloatingClick"])])}}}),se=n({__name:"SendList",setup(e){const{handleRowClick:t}=K();async function n({pageNum:e,form:t}){const n=await L({page:e,status:0,del:0,...P(t)});return{total:Number(n.count),data:n.list}}const a=x({status:"",type:"",sender:"",start:"",end:""});return(e,l)=>{const o=te,u=Y;return s(),c(u,{form:m(a),"onUpdate:form":l[1]||(l[1]=e=>M(a)?a.value=e:null),request:n,floating:m(B),onOnFloatingClick:m(t)},{row:p(({item:e,index:t})=>[v(o,O({type:"0"===e.process_status?"warning":"success",index:t+1},e,{"type-text":"进度"}),null,16,["type","index"])]),searchForm:p(()=>[v(ae,{form:m(a),"onUpdate:form":l[0]||(l[0]=e=>M(a)?a.value=e:null)},null,8,["form"])]),_:1},8,["form","floating","onOnFloatingClick"])}}}),ue=n({__name:"FinishedList",setup(e){const{handleRowClick:t}=K();async function n({pageNum:e,form:t}){const n=await R({page:e,status:-1,...P(t)});return{total:Number(n.count),data:n.list}}const a=x({status:"",type:"",sender:"",start:"",end:""});return(e,l)=>{const o=te,u=Y;return s(),c(u,{form:m(a),"onUpdate:form":l[1]||(l[1]=e=>M(a)?a.value=e:null),request:n,floating:m(B),onOnFloatingClick:m(t)},{row:p(({item:e,index:t})=>[v(o,O({type:"success",index:t+1},e,{"type-text":"进度"}),null,16,["index"])]),searchForm:p(()=>[v(ae,{form:m(a),"onUpdate:form":l[0]||(l[0]=e=>M(a)?a.value=e:null)},null,8,["form"])]),_:1},8,["form","floating","onOnFloatingClick"])}}}),re=n({__name:"NoticeList",setup(e){const{handleRowClick:t}=K();async function n({pageNum:e,form:t}){const n=await V({page:e,status:0,del:0,...P(t)});return{total:Number(n.count),data:n.list}}const a=x({status:"",type:"",sender:"",start:"",end:""});return(e,l)=>{const o=te,u=Y;return s(),c(u,{form:m(a),"onUpdate:form":l[1]||(l[1]=e=>M(a)?a.value=e:null),request:n,floating:m(B),onOnFloatingClick:m(t)},{row:p(({item:e,index:t})=>[v(o,O({type:"0"===e.process_status?"warning":"success",index:t+1},e,{"type-text":"进度",send_user_name:e.user_name}),null,16,["type","index","send_user_name"])]),searchForm:p(()=>[v(ae,{form:m(a),"onUpdate:form":l[0]||(l[0]=e=>M(a)?a.value=e:null)},null,8,["form"])]),_:1},8,["form","floating","onOnFloatingClick"])}}}),ie=n({__name:"TimingList",setup(e){const{handleRowClick:t}=K();async function n({pageNum:e,form:t}){const n=await $({page:e,page_size:20,type:4,...P(t)});return{total:Number(n.count),data:n.data}}const a=x({status:"",type:"",sender:"",start:"",end:""});return(e,l)=>{const o=te,u=Y;return s(),c(u,{form:m(a),"onUpdate:form":l[1]||(l[1]=e=>M(a)?a.value=e:null),request:n,floating:m(B),onOnFloatingClick:m(t)},{row:p(({item:e,index:t})=>[v(o,O({type:"success",index:t+1},e,{"custom-type":e.user_name,created_at:e.user_name,node_name:`${e.begin_date}~${e.end_date}`,send_user_name:e.send_time}),null,16,["index","custom-type","created_at","node_name","send_user_name"])]),searchForm:p(()=>[v(ae,{form:m(a),"onUpdate:form":l[0]||(l[0]=e=>M(a)?a.value=e:null)},null,8,["form"])]),_:1},8,["form","floating","onOnFloatingClick"])}}}),ce={class:"flex-center h-[100vh] w-100% items-center"},de=e("default",n({__name:"index",setup(e){const t=x("todo");return q(),J("task-click-tab",e=>{t.value=e.name}),D(()=>{H(),z(()=>{t.value="todo"})}),G(()=>{H()}),(e,n)=>(s(),o("div",ce,[S(v(ue,null,null,512),[[E,"finished"===m(t)]]),S(v(oe,null,null,512),[[E,"todo"===m(t)]]),S(v(se,null,null,512),[[E,"send"===m(t)]]),S(v(re,null,null,512),[[E,"notice"===m(t)]]),S(v(ie,null,null,512),[[E,"timing"===m(t)]])]))}}));"function"==typeof I&&I(de)}}});
