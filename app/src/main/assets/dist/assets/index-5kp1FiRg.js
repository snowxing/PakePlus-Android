const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BF7ladqQ.js","./index-E_81j0RR.js","./pageScene-BTjC96xq.js","./index-BnAxE7ht.js","./AccSearchForm.vue_vue_type_script_setup_true_lang-Dhb4mZkZ.js","./config-BiPkORWZ.js","./index-BpTLWCN6.js","./useSystemTheme-lyMPqukv.js","./install-CoVyZzHx.js","./install-DOWDe9Pp.js","./createSeriesDataSimply-BFEE_GIw.js","./install-8Xh6dgN5.js","./install-BO7C1UUT.js","./useTabsListener-CnvSNM1v.js","./EnvAdd-CnOlDWds.js","./InvsetAddPanel-BplJkTKN.js","./EnvDetail-2ANFjm9T.js","./InvsetDetailPanel.vue_vue_type_script_setup_true_lang-B2TR9DXG.js","./Detail-CBGWh8FM.js","./SafeAdd-CQaOGXcM.js","./SafeDetail-CskdfjwU.js","./index-KkdHDOS8.js","./MedicalExaminationRecord-DUQi2oY_.js","./information-CGEsnMWk.js","./AccountabilityDetail-vDRV6bUv.js","./TargetDetail-HYfThN4c.js","./index-Bo0bOGhw.js","./PlanDetail-B1f2Vzim.js","./index-BV7oxsXb.js","./PlanDetail-BDz0-69P.js","./basicDetail-D1cuIAsC.js","./index-O2EMMAW_.js","./SearchForm.vue_vue_type_script_setup_true_lang-y0PlNixt.js","./EmployeeDetail-Cursvl7u.js","./SearchForm-jmqwJ-do.js","./index-hHK35Aeb.js","./SearchForm.vue_vue_type_script_setup_true_lang-CeXXaBgy.js","./index-BoZVn_Zl.js","./index-TruDplm-.js","./index-1VOhhtK2.js","./install-QPGF1BwB.js","./install-neqUmNW9.js","./toNumber-CHkHQ8jj.js","./detail-BbA1XcDS.js","./index-duW1GLNz.js","./index-Y0WWCCPK.js","./HazardListSearchForm.vue_vue_type_script_setup_true_lang--1PMZZa9.js","./index-CK6k1iCx.js","./index-B9A0yQFE.js","./keyControlMeasures-CHju10qt.js","./detail-C6pF57Fv.js","./index-DCyslSWA.js","./index-BKF-KW-6.js","./riskStats-Dzm-5IK9.js","./index-BWQmO9Ru.js","./eduDetail-0dKSyXAv.js","./index-BR_wsLzF.js","./examinationManagement-BquIePsd.js","./index-BuvSw-y1.js","./index-CKaXuArZ.js","./sc-DWVefK2E.js","./index-DWDlrhTh.js","./learningMaterials-UVGlHBHD.js","./SearchForm.vue_vue_type_script_setup_true_lang-CfpoZqJH.js","./index-JWpJLD19.js","./CourseList.vue_vue_type_script_setup_true_lang-B-7AJEZ3.js","./trainingClassList-BlPv_jAa.js","./questionList-DeV00lJh.js","./textAnswerQuestion-DraI2qm3.js","./index-ChbN46Um.js","./detail-CkvUdT6c.js","./index-DLruRDXj.js","./videosDetail-CSB1Aj6Q.js","./index-BLUKI5yF.js","./trainingLedger-BE-H7NAp.js","./index-B205f_FP.js","./index-CCBPGyWI.js","./index-DwfEE61p.js","./SearchForm.vue_vue_type_script_setup_true_lang-CYW76ZBj.js","./SearchForm-B9FjRt8W.js","./index-DnufGb-m.js","./TrainingStats.vue_vue_type_script_setup_true_lang-_OkmIaZ9.js","./trainingStatistics-Dmh4PdZ9.js","./detail-CEIVGTAQ.js","./drillPlanList-NucbrwXF.js","./baoyangManagement-Bkj08ZRC.js","./index-Czd8iRKi.js","./drillRecord.vue_vue_type_script_setup_true_lang-ECtWt_BL.js","./drillRectification.vue_vue_type_script_setup_true_lang-z0u1xRdu.js","./drillRecord-BLzbmkdn.js","./drillRectification-BPg4GipQ.js","./index-nP4XYj6B.js","./emergencyPlan.vue_vue_type_script_setup_true_lang-TAPlxz76.js","./emergencyTeam.vue_vue_type_script_setup_true_lang-DhhlCgS9.js","./emergencyMaterials.vue_vue_type_script_setup_true_lang-DMfr_5fF.js","./evacuation.vue_vue_type_script_setup_true_lang-CgZDcGL5.js","./emergencyBook.vue_vue_type_script_setup_true_lang-CbO35-7I.js","./eventHandling.vue_vue_type_script_setup_true_lang-CM059sX5.js","./emergencyBook-U7fA3SN0.js","./emergencyMaterials-nNgqA6Y8.js","./emergencyPlan-QTcJmcXO.js","./emergencyTeam-zf8xMMrx.js","./evacuation-gOz3Sf0d.js","./eventHandling-D5WouLRD.js","./index-DLuayGwV.js","./dispositionRecords.vue_vue_type_script_setup_true_lang-DDR3u9i5.js","./dispositionRecords-CRi3kXPo.js","./index-C_wxc6Bs.js","./inline-px-to-vw-fKV0BGSA.js","./administrativeRegulations-B0PG3Ztn.js","./list.vue_vue_type_script_setup_true_lang-BJoz5fyT.js","./index-DpOfbo4u.js","./applicableRegulations-IucuZHLY.js","./dataKnowledge-CRTZbHXu.js","./decisionMakingMeetings-mmqnip-f.js","./departmentalRegulations-i3zVI1uH.js","./detail-ew4YeckH.js","./index-D3ZNj7ce.js","./industryStandards-nE12kLN5.js","./localRegulations-BIMj2_vt.js","./localStandards-BOytNbG4.js","./nationalLaw-Ch_plVi8.js","./nationalStandards-Bwoi_740.js","./normativeDocuments-BCpXS5dJ.js","./index-wZy7QcDi.js","./index-DL17_hCR.js","./index-BlqFOYXs.js","./ViolationRecord-DAgy-Ljm.js","./workRequest-DyiUB1zZ.js","./index-CiPoXqHH.js","./login-CLb8_qLw.js","./index_back-CNV79_Ji.js","./index-C8hDnp3u.js","./useTaskProcessClick-D9hNHbDn.js","./index2-Dq9ypSc6.js","./v-form-create.vue_vue_type_script_setup_true_lang-ByjVgJF_.js","./index-CARVOdoR.js","./index-Z0gBGYh1.js","./index-BrWia1PG.js","./index-BI0izBjG.js","./index-BWcqVjID.js","./index-vRBURVIm.js","./default-avatar-BqfGImNU.js","./index-C7ZsE4IQ.js","./register-COih_78z.js","./v-uploader.vue_vue_type_script_setup_true_lang-C6PQErmB.js","./index-BvUq4Fc5.js","./index-CU2sE9H-.js","./cloneDeep-DZmAQtLi.js","./index-DHdxdLUd.js","./index-D94vuKg8.js","./accident-mBQzO3bB.js","./map-CcCcE9hR.js","./index-D3S26JLN.js","./index-BXNKBYsm.js","./index-DXLQVvOt.js","./index-inQ74pJw.js","./index-CGCQbOoP.js","./index-BXbxSY15.js","./improve-DL5FWc6v.js","./index-B3K3-Lya.js","./index-i-tvGHUT.js","./index-C85IwnPa.js","./useTabs-ByRrlohf.js","./index-DGDrShjP.js","./index-Zim4F4FW.js","./useMetaTitle-BT2w5RJu.js","./index-x3x6nCiT.js","./CourseDetail-G4d8Vfd5.js","./Examination-92RQAeDW.js","./SubscribeInfo-Cn2GR9fM.js","./index-CEdS82Jr.js","./index-DdMkdcd3.js","./index-BTrkm_VQ.js","./index-BeuVdj5M.js","./zaxt-mLl0kBcl.js","./index-b8Rd9RVD.js","./index-CGj5hsQc.js","./index-5cOugafM.js","./TrainCourseList.vue_vue_type_script_setup_true_lang-xnyLpYpU.js","./TrainQuestionDetail-CypzDrgI.js","./index-B7Bmemou.js","./TeacherDetail-B7PX9mNL.js","./index-nnwf0-Ui.js","./baoyangPlan.vue_vue_type_script_setup_true_lang-CafDYVGG.js","./SearchForm.vue_vue_type_script_setup_true_lang-DzAflG6W.js","./baoyangLedger.vue_vue_type_script_setup_true_lang-BGqg77oU.js","./baoyangLedger-Cd926KJZ.js","./baoyangPlan-g3xMNKgW.js","./detail-B5nSzOlf.js","./index-B5wuLGgH.js","./occupation.vue_vue_type_script_setup_true_lang-Bv37OjkX.js","./healthRecord-nYYKLBYx.js","./SearchForm.vue_vue_type_script_setup_true_lang-DetJ7zG1.js","./venue.vue_vue_type_script_setup_true_lang-eHPhxuak.js","./occupation-Cm6UvqLv.js","./venue-BbNarxn5.js","./index-DyPOF5fV.js","./projectManagement-Dldudrka.js","./deviceList.vue_vue_type_script_setup_true_lang-Bd8C4aTY.js","./equipmentLedger-D42jtka8.js","./deviceList-CZyqp30b.js","./healthRecord-C7hE1O_4.js","./inspectionManagement-3gqUFmmo.js","./maintenanceManagement-Cr4OKF7x.js","./index-Co8-mZbQ.js","./threeSimultaneous.vue_vue_type_script_setup_true_lang-DRaaZXAa.js","./threeSimultaneous-bbe0hcbK.js","./index-Lf2yTVVq.js","./hazardLedger.vue_vue_type_script_setup_true_lang-BIr-ljLK.js","./SearchForm.vue_vue_type_script_setup_true_lang-NNpuA64h.js","./declarationLedger.vue_vue_type_script_setup_true_lang-CHn0vkzI.js","./declarationLedger-CAHcF8hc.js","./hazardLedger-8HmGBEcH.js","./index-CKsq6Qn7.js","./index-BYaArO0X.js","./utils-MExYihyT.js","./index-OywTzcLZ.js","./index-CFicP3yz.js","./peixunban-DuvKcckb.js","./home-BTpOKz1c.js","./scxx-DfSJCLxo.js","./index-DBqolwzk.js","./SearchForm.vue_vue_type_script_setup_true_lang-B5FnzM3x.js","./SearchForm-Bi7oB8E0.js","./index-DGNBVpwE.js","./index-B1MR0GZf.js"])))=>i.map(i=>d[i]);
var BN=Object.defineProperty;var FN=(e,t,n)=>t in e?BN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var aA=(e,t,n)=>FN(e,typeof t!="symbol"?t+"":t,n);function Vce(){import.meta.url,import("_").catch(()=>1),(async function*(){})().next()}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yy(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Yt={},Fl=[],Br=()=>{},iw=()=>!1,Mp=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ky=e=>e.startsWith("onUpdate:"),Qn=Object.assign,Xy=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},$N=Object.prototype.hasOwnProperty,Ft=(e,t)=>$N.call(e,t),st=Array.isArray,$l=e=>Ed(e)==="[object Map]",rw=e=>Ed(e)==="[object Set]",UN=e=>Ed(e)==="[object RegExp]",ft=e=>typeof e=="function",Xt=e=>typeof e=="string",ma=e=>typeof e=="symbol",Qt=e=>e!==null&&typeof e=="object",sw=e=>(Qt(e)||ft(e))&&ft(e.then)&&ft(e.catch),aw=Object.prototype.toString,Ed=e=>aw.call(e),VN=e=>Ed(e).slice(8,-1),ow=e=>Ed(e)==="[object Object]",Qy=e=>Xt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Lc=Yy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Np=e=>{const t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},jN=/-\w/g,cr=Np(e=>e.replace(jN,t=>t.slice(1).toUpperCase())),HN=/\B([A-Z])/g,ga=Np(e=>e.replace(HN,"-$1").toLowerCase()),Bp=Np(e=>e.charAt(0).toUpperCase()+e.slice(1)),mg=Np(e=>e?"on".concat(Bp(e)):""),Ka=(e,t)=>!Object.is(e,t),Ul=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},lw=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},Jy=e=>{const t=parseFloat(e);return isNaN(t)?e:t},zN=e=>{const t=Xt(e)?Number(e):NaN;return isNaN(t)?e:t};let oA;const Fp=()=>oA||(oA=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xs(e){if(st(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=Xt(i)?YN(i):xs(i);if(r)for(const s in r)t[s]=r[s]}return t}else if(Xt(e)||Qt(e))return e}const qN=/;(?![^(]*\))/g,WN=/:([^]+)/,GN=/\/\*[^]*?\*\//g;function YN(e){const t={};return e.replace(GN,"").split(qN).forEach(n=>{if(n){const i=n.split(WN);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function KN(e){if(!e)return"";if(Xt(e))return e;let t="";for(const n in e){const i=e[n];if(Xt(i)||typeof i=="number"){const r=n.startsWith("--")?n:ga(n);t+="".concat(r,":").concat(i,";")}}return t}function Vt(e){let t="";if(Xt(e))t=e;else if(st(e))for(let n=0;n<e.length;n++){const i=Vt(e[n]);i&&(t+=i+" ")}else if(Qt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function jce(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Xt(t)&&(e.class=Vt(t)),n&&(e.style=xs(n)),e}const XN="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",QN=Yy(XN);function uw(e){return!!e||e===""}const cw=e=>!!(e&&e.__v_isRef===!0),Sn=e=>Xt(e)?e:e==null?"":st(e)||Qt(e)&&(e.toString===aw||!ft(e.toString))?cw(e)?Sn(e.value):JSON.stringify(e,dw,2):String(e),dw=(e,t)=>cw(t)?dw(e,t.value):$l(t)?{["Map(".concat(t.size,")")]:[...t.entries()].reduce((n,[i,r],s)=>(n[gg(i,s)+" =>"]=r,n),{})}:rw(t)?{["Set(".concat(t.size,")")]:[...t.values()].map(n=>gg(n))}:ma(t)?gg(t):Qt(t)&&!st(t)&&!ow(t)?String(t):t,gg=(e,t="")=>{var n;return ma(e)?"Symbol(".concat((n=e.description)!=null?n:t,")"):e};/**
* @vue/reactivity v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ai;class fw{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ai,!t&&ai&&(this.index=(ai.scopes||(ai.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ai;try{return ai=this,t()}finally{ai=n}}}on(){++this._on===1&&(this.prevScope=ai,ai=this)}off(){this._on>0&&--this._on===0&&(ai=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Zy(e){return new fw(e)}function e_(){return ai}function hw(e,t=!1){ai&&ai.cleanups.push(e)}let en;const vg=new WeakSet;class pw{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ai&&ai.active&&ai.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vg.has(this)&&(vg.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||gw(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,lA(this),vw(this);const t=en,n=Fr;en=this,Fr=!0;try{return this.fn()}finally{yw(this),en=t,Fr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)i_(t);this.deps=this.depsTail=void 0,lA(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vg.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){e0(this)&&this.run()}get dirty(){return e0(this)}}let mw=0,Mc,Nc;function gw(e,t=!1){if(e.flags|=8,t){e.next=Nc,Nc=e;return}e.next=Mc,Mc=e}function t_(){mw++}function n_(){if(--mw>0)return;if(Nc){let t=Nc;for(Nc=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Mc;){let t=Mc;for(Mc=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function vw(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function yw(e){let t,n=e.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),i_(i),JN(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}e.deps=t,e.depsTail=n}function e0(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(_w(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function _w(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===ed)||(e.globalVersion=ed,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!e0(e))))return;e.flags|=2;const t=e.dep,n=en,i=Fr;en=e,Fr=!0;try{vw(e);const r=e.fn(e._value);(t.version===0||Ka(r,e._value))&&(e.flags|=128,e._value=r,t.version++)}catch(r){throw t.version++,r}finally{en=n,Fr=i,yw(e),e.flags&=-3}}function i_(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let s=n.computed.deps;s;s=s.nextDep)i_(s,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function JN(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Fr=!0;const bw=[];function la(){bw.push(Fr),Fr=!1}function ua(){const e=bw.pop();Fr=e===void 0?!0:e}function lA(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=en;en=void 0;try{t()}finally{en=n}}}let ed=0;class ZN{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class $p{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!en||!Fr||en===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==en)n=this.activeLink=new ZN(en,this),en.deps?(n.prevDep=en.depsTail,en.depsTail.nextDep=n,en.depsTail=n):en.deps=en.depsTail=n,Tw(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=en.depsTail,n.nextDep=void 0,en.depsTail.nextDep=n,en.depsTail=n,en.deps===n&&(en.deps=i)}return n}trigger(t){this.version++,ed++,this.notify(t)}notify(t){t_();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{n_()}}}function Tw(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)Tw(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Lh=new WeakMap,Lo=Symbol(""),t0=Symbol(""),td=Symbol("");function li(e,t,n){if(Fr&&en){let i=Lh.get(e);i||Lh.set(e,i=new Map);let r=i.get(n);r||(i.set(n,r=new $p),r.map=i,r.key=n),r.track()}}function Ys(e,t,n,i,r,s){const a=Lh.get(e);if(!a){ed++;return}const o=l=>{l&&l.trigger()};if(t_(),t==="clear")a.forEach(o);else{const l=st(e),u=l&&Qy(n);if(l&&n==="length"){const c=Number(i);a.forEach((d,f)=>{(f==="length"||f===td||!ma(f)&&f>=c)&&o(d)})}else switch((n!==void 0||a.has(void 0))&&o(a.get(n)),u&&o(a.get(td)),t){case"add":l?u&&o(a.get("length")):(o(a.get(Lo)),$l(e)&&o(a.get(t0)));break;case"delete":l||(o(a.get(Lo)),$l(e)&&o(a.get(t0)));break;case"set":$l(e)&&o(a.get(Lo));break}}n_()}function eB(e,t){const n=Lh.get(e);return n&&n.get(t)}function ul(e){const t=kt(e);return t===e?t:(li(t,"iterate",td),or(e)?t:t.map(ei))}function Up(e){return li(e=kt(e),"iterate",td),e}const tB={__proto__:null,[Symbol.iterator](){return yg(this,Symbol.iterator,ei)},concat(...e){return ul(this).concat(...e.map(t=>st(t)?ul(t):t))},entries(){return yg(this,"entries",e=>(e[1]=ei(e[1]),e))},every(e,t){return Ms(this,"every",e,t,void 0,arguments)},filter(e,t){return Ms(this,"filter",e,t,n=>n.map(ei),arguments)},find(e,t){return Ms(this,"find",e,t,ei,arguments)},findIndex(e,t){return Ms(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ms(this,"findLast",e,t,ei,arguments)},findLastIndex(e,t){return Ms(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ms(this,"forEach",e,t,void 0,arguments)},includes(...e){return _g(this,"includes",e)},indexOf(...e){return _g(this,"indexOf",e)},join(e){return ul(this).join(e)},lastIndexOf(...e){return _g(this,"lastIndexOf",e)},map(e,t){return Ms(this,"map",e,t,void 0,arguments)},pop(){return ac(this,"pop")},push(...e){return ac(this,"push",e)},reduce(e,...t){return uA(this,"reduce",e,t)},reduceRight(e,...t){return uA(this,"reduceRight",e,t)},shift(){return ac(this,"shift")},some(e,t){return Ms(this,"some",e,t,void 0,arguments)},splice(...e){return ac(this,"splice",e)},toReversed(){return ul(this).toReversed()},toSorted(e){return ul(this).toSorted(e)},toSpliced(...e){return ul(this).toSpliced(...e)},unshift(...e){return ac(this,"unshift",e)},values(){return yg(this,"values",ei)}};function yg(e,t,n){const i=Up(e),r=i[t]();return i!==e&&!or(e)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.done||(s.value=n(s.value)),s}),r}const nB=Array.prototype;function Ms(e,t,n,i,r,s){const a=Up(e),o=a!==e&&!or(e),l=a[t];if(l!==nB[t]){const d=l.apply(e,s);return o?ei(d):d}let u=n;a!==e&&(o?u=function(d,f){return n.call(this,ei(d),f,e)}:n.length>2&&(u=function(d,f){return n.call(this,d,f,e)}));const c=l.call(a,u,i);return o&&r?r(c):c}function uA(e,t,n,i){const r=Up(e);let s=n;return r!==e&&(or(e)?n.length>3&&(s=function(a,o,l){return n.call(this,a,o,l,e)}):s=function(a,o,l){return n.call(this,a,ei(o),l,e)}),r[t](s,...i)}function _g(e,t,n){const i=kt(e);li(i,"iterate",td);const r=i[t](...n);return(r===-1||r===!1)&&a_(n[0])?(n[0]=kt(n[0]),i[t](...n)):r}function ac(e,t,n=[]){la(),t_();const i=kt(e)[t].apply(e,n);return n_(),ua(),i}const iB=Yy("__proto__,__v_isRef,__isVue"),Aw=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ma));function rB(e){ma(e)||(e=String(e));const t=kt(this);return li(t,"has",e),t.hasOwnProperty(e)}class Sw{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?pB:ww:s?Cw:Ew).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const a=st(t);if(!r){let l;if(a&&(l=tB[n]))return l;if(n==="hasOwnProperty")return rB}const o=Reflect.get(t,n,xt(t)?t:i);if((ma(n)?Aw.has(n):iB(n))||(r||li(t,"get",n),s))return o;if(xt(o)){const l=a&&Qy(n)?o:o.value;return r&&Qt(l)?tu(l):l}return Qt(o)?r?tu(o):vt(o):o}}class xw extends Sw{constructor(t=!1){super(!1,t)}set(t,n,i,r){let s=t[n];if(!this._isShallow){const l=Qa(s);if(!or(i)&&!Qa(i)&&(s=kt(s),i=kt(i)),!st(t)&&xt(s)&&!xt(i))return l||(s.value=i),!0}const a=st(t)&&Qy(n)?Number(n)<t.length:Ft(t,n),o=Reflect.set(t,n,i,xt(t)?t:r);return t===kt(r)&&(a?Ka(i,s)&&Ys(t,"set",n,i):Ys(t,"add",n,i)),o}deleteProperty(t,n){const i=Ft(t,n);t[n];const r=Reflect.deleteProperty(t,n);return r&&i&&Ys(t,"delete",n,void 0),r}has(t,n){const i=Reflect.has(t,n);return(!ma(n)||!Aw.has(n))&&li(t,"has",n),i}ownKeys(t){return li(t,"iterate",st(t)?"length":Lo),Reflect.ownKeys(t)}}class sB extends Sw{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const aB=new xw,oB=new sB,lB=new xw(!0);const n0=e=>e,xf=e=>Reflect.getPrototypeOf(e);function uB(e,t,n){return function(...i){const r=this.__v_raw,s=kt(r),a=$l(s),o=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=r[e](...i),c=n?n0:t?Mh:ei;return!t&&li(s,"iterate",l?t0:Lo),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:o?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function Ef(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function cB(e,t){const n={get(r){const s=this.__v_raw,a=kt(s),o=kt(r);e||(Ka(r,o)&&li(a,"get",r),li(a,"get",o));const{has:l}=xf(a),u=t?n0:e?Mh:ei;if(l.call(a,r))return u(s.get(r));if(l.call(a,o))return u(s.get(o));s!==a&&s.get(r)},get size(){const r=this.__v_raw;return!e&&li(kt(r),"iterate",Lo),r.size},has(r){const s=this.__v_raw,a=kt(s),o=kt(r);return e||(Ka(r,o)&&li(a,"has",r),li(a,"has",o)),r===o?s.has(r):s.has(r)||s.has(o)},forEach(r,s){const a=this,o=a.__v_raw,l=kt(o),u=t?n0:e?Mh:ei;return!e&&li(l,"iterate",Lo),o.forEach((c,d)=>r.call(s,u(c),u(d),a))}};return Qn(n,e?{add:Ef("add"),set:Ef("set"),delete:Ef("delete"),clear:Ef("clear")}:{add(r){!t&&!or(r)&&!Qa(r)&&(r=kt(r));const s=kt(this);return xf(s).has.call(s,r)||(s.add(r),Ys(s,"add",r,r)),this},set(r,s){!t&&!or(s)&&!Qa(s)&&(s=kt(s));const a=kt(this),{has:o,get:l}=xf(a);let u=o.call(a,r);u||(r=kt(r),u=o.call(a,r));const c=l.call(a,r);return a.set(r,s),u?Ka(s,c)&&Ys(a,"set",r,s):Ys(a,"add",r,s),this},delete(r){const s=kt(this),{has:a,get:o}=xf(s);let l=a.call(s,r);l||(r=kt(r),l=a.call(s,r)),o&&o.call(s,r);const u=s.delete(r);return l&&Ys(s,"delete",r,void 0),u},clear(){const r=kt(this),s=r.size!==0,a=r.clear();return s&&Ys(r,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=uB(r,e,t)}),n}function r_(e,t){const n=cB(e,t);return(i,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Ft(n,r)&&r in i?n:i,r,s)}const dB={get:r_(!1,!1)},fB={get:r_(!1,!0)},hB={get:r_(!0,!1)};const Ew=new WeakMap,Cw=new WeakMap,ww=new WeakMap,pB=new WeakMap;function mB(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gB(e){return e.__v_skip||!Object.isExtensible(e)?0:mB(VN(e))}function vt(e){return Qa(e)?e:s_(e,!1,aB,dB,Ew)}function Dw(e){return s_(e,!1,lB,fB,Cw)}function tu(e){return s_(e,!0,oB,hB,ww)}function s_(e,t,n,i,r){if(!Qt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=gB(e);if(s===0)return e;const a=r.get(e);if(a)return a;const o=new Proxy(e,s===2?i:n);return r.set(e,o),o}function na(e){return Qa(e)?na(e.__v_raw):!!(e&&e.__v_isReactive)}function Qa(e){return!!(e&&e.__v_isReadonly)}function or(e){return!!(e&&e.__v_isShallow)}function a_(e){return e?!!e.__v_raw:!1}function kt(e){const t=e&&e.__v_raw;return t?kt(t):e}function Lr(e){return!Ft(e,"__v_skip")&&Object.isExtensible(e)&&lw(e,"__v_skip",!0),e}const ei=e=>Qt(e)?vt(e):e,Mh=e=>Qt(e)?tu(e):e;function xt(e){return e?e.__v_isRef===!0:!1}function ie(e){return kw(e,!1)}function Ts(e){return kw(e,!0)}function kw(e,t){return xt(e)?e:new vB(e,t)}class vB{constructor(t,n){this.dep=new $p,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:kt(t),this._value=n?t:ei(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||or(t)||Qa(t);t=i?t:kt(t),Ka(t,n)&&(this._rawValue=t,this._value=i?t:ei(t),this.dep.trigger())}}function Ge(e){return xt(e)?e.value:e}function ia(e){return ft(e)?e():Ge(e)}const yB={get:(e,t,n)=>t==="__v_raw"?e:Ge(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return xt(r)&&!xt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Ow(e){return na(e)?e:new Proxy(e,yB)}class _B{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new $p,{get:i,set:r}=t(n.track.bind(n),n.trigger.bind(n));this._get=i,this._set=r}get value(){return this._value=this._get()}set value(t){this._set(t)}}function bB(e){return new _B(e)}function i0(e){const t=st(e)?new Array(e.length):{};for(const n in e)t[n]=Iw(e,n);return t}class TB{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return eB(kt(this._object),this._key)}}class AB{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function xn(e,t,n){return xt(e)?e:ft(e)?new AB(e):Qt(e)&&arguments.length>1?Iw(e,t,n):ie(e)}function Iw(e,t,n){const i=e[t];return xt(i)?i:new TB(e,t,n)}class SB{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new $p(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ed-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&en!==this)return gw(this,!0),!0}get value(){const t=this.dep.track();return _w(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function xB(e,t,n=!1){let i,r;return ft(e)?i=e:(i=e.get,r=e.set),new SB(i,r,n)}const Cf={},Nh=new WeakMap;let Co;function EB(e,t=!1,n=Co){if(n){let i=Nh.get(n);i||Nh.set(n,i=[]),i.push(e)}}function CB(e,t,n=Yt){const{immediate:i,deep:r,once:s,scheduler:a,augmentJob:o,call:l}=n,u=A=>r?A:or(A)||r===!1||r===0?Ks(A,1):Ks(A);let c,d,f,h,m=!1,p=!1;if(xt(e)?(d=()=>e.value,m=or(e)):na(e)?(d=()=>u(e),m=!0):st(e)?(p=!0,m=e.some(A=>na(A)||or(A)),d=()=>e.map(A=>{if(xt(A))return A.value;if(na(A))return u(A);if(ft(A))return l?l(A,2):A()})):ft(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){la();try{f()}finally{ua()}}const A=Co;Co=c;try{return l?l(e,3,[h]):e(h)}finally{Co=A}}:d=Br,t&&r){const A=d,T=r===!0?1/0:r;d=()=>Ks(A(),T)}const g=e_(),_=()=>{c.stop(),g&&g.active&&Xy(g.effects,c)};if(s&&t){const A=t;t=(...T)=>{A(...T),_()}}let y=p?new Array(e.length).fill(Cf):Cf;const b=A=>{if(!(!(c.flags&1)||!c.dirty&&!A))if(t){const T=c.run();if(r||m||(p?T.some((k,O)=>Ka(k,y[O])):Ka(T,y))){f&&f();const k=Co;Co=c;try{const O=[T,y===Cf?void 0:p&&y[0]===Cf?[]:y,h];y=T,l?l(t,3,O):t(...O)}finally{Co=k}}}else c.run()};return o&&o(b),c=new pw(d),c.scheduler=a?()=>a(b,!1):b,h=A=>EB(A,!1,c),f=c.onStop=()=>{const A=Nh.get(c);if(A){if(l)l(A,4);else for(const T of A)T();Nh.delete(c)}},t?i?b(!0):y=c.run():a?a(b.bind(null,!0),!0):c.run(),_.pause=c.pause.bind(c),_.resume=c.resume.bind(c),_.stop=_,_}function Ks(e,t=1/0,n){if(t<=0||!Qt(e)||e.__v_skip||(n=n||new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,xt(e))Ks(e.value,t,n);else if(st(e))for(let i=0;i<e.length;i++)Ks(e[i],t,n);else if(rw(e)||$l(e))e.forEach(i=>{Ks(i,t,n)});else if(ow(e)){for(const i in e)Ks(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Ks(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Cd(e,t,n,i){try{return i?e(...i):e()}catch(r){wd(r,t,n)}}function qr(e,t,n,i){if(ft(e)){const r=Cd(e,t,n,i);return r&&sw(r)&&r.catch(s=>{wd(s,t,n)}),r}if(st(e)){const r=[];for(let s=0;s<e.length;s++)r.push(qr(e[s],t,n,i));return r}}function wd(e,t,n,i=!0){const r=t?t.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Yt;if(t){let o=t.parent;const l=t.proxy,u="https://vuejs.org/error-reference/#runtime-".concat(n);for(;o;){const c=o.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](e,l,u)===!1)return}o=o.parent}if(s){la(),Cd(s,null,10,[e,l,u]),ua();return}}wB(e,n,r,i,a)}function wB(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}const wi=[];let ds=-1;const Vl=[];let ja=null,Dl=0;const Pw=Promise.resolve();let Bh=null;function Ke(e){const t=Bh||Pw;return e?t.then(this?e.bind(this):e):t}function DB(e){let t=ds+1,n=wi.length;for(;t<n;){const i=t+n>>>1,r=wi[i],s=nd(r);s<e||s===e&&r.flags&2?t=i+1:n=i}return t}function o_(e){if(!(e.flags&1)){const t=nd(e),n=wi[wi.length-1];!n||!(e.flags&2)&&t>=nd(n)?wi.push(e):wi.splice(DB(t),0,e),e.flags|=1,Rw()}}function Rw(){Bh||(Bh=Pw.then(Mw))}function kB(e){st(e)?Vl.push(...e):ja&&e.id===-1?ja.splice(Dl+1,0,e):e.flags&1||(Vl.push(e),e.flags|=1),Rw()}function cA(e,t,n=ds+1){for(;n<wi.length;n++){const i=wi[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;wi.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Lw(e){if(Vl.length){const t=[...new Set(Vl)].sort((n,i)=>nd(n)-nd(i));if(Vl.length=0,ja){ja.push(...t);return}for(ja=t,Dl=0;Dl<ja.length;Dl++){const n=ja[Dl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ja=null,Dl=0}}const nd=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Mw(e){try{for(ds=0;ds<wi.length;ds++){const t=wi[ds];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Cd(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;ds<wi.length;ds++){const t=wi[ds];t&&(t.flags&=-2)}ds=-1,wi.length=0,Lw(),Bh=null,(wi.length||Vl.length)&&Mw()}}let ni=null,Nw=null;function Fh(e){const t=ni;return ni=e,Nw=e&&e.type.__scopeId||null,t}function Ze(e,t=ni,n){if(!t||e._n)return e;const i=(...r)=>{i._d&&qh(-1);const s=Fh(t);let a;try{a=e(...r)}finally{Fh(s),i._d&&qh(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function un(e,t){if(ni===null)return e;const n=Wp(ni),i=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[s,a,o,l=Yt]=t[r];s&&(ft(s)&&(s={mounted:s,updated:s}),s.deep&&Ks(a),i.push({dir:s,instance:n,value:a,oldValue:void 0,arg:o,modifiers:l}))}return e}function go(e,t,n,i){const r=e.dirs,s=t&&t.dirs;for(let a=0;a<r.length;a++){const o=r[a];s&&(o.oldValue=s[a].value);let l=o.dir[i];l&&(la(),qr(l,n,8,[e.el,o,e,t]),ua())}}const Bw=Symbol("_vte"),Fw=e=>e.__isTeleport,Bc=e=>e&&(e.disabled||e.disabled===""),dA=e=>e&&(e.defer||e.defer===""),fA=e=>typeof SVGElement<"u"&&e instanceof SVGElement,hA=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,r0=(e,t)=>{const n=e&&e.to;return Xt(n)?t?t(n):null:n},$w={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,s,a,o,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:m,createText:p,createComment:g}}=u,_=Bc(t.props);let{shapeFlag:y,children:b,dynamicChildren:A}=t;if(e==null){const T=t.el=p(""),k=t.anchor=p("");h(T,n,i),h(k,n,i);const O=(w,D)=>{y&16&&c(b,w,D,r,s,a,o,l)},I=()=>{const w=t.target=r0(t.props,m),D=Uw(w,t,p,h);w&&(a!=="svg"&&fA(w)?a="svg":a!=="mathml"&&hA(w)&&(a="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(w),_||(O(w,D),hh(t,!1)))};_&&(O(n,k),hh(t,!0)),dA(t.props)?(t.el.__isMounted=!1,Fn(()=>{I(),delete t.el.__isMounted},s)):I()}else{if(dA(t.props)&&e.el.__isMounted===!1){Fn(()=>{$w.process(e,t,n,i,r,s,a,o,l,u)},s);return}t.el=e.el,t.targetStart=e.targetStart;const T=t.anchor=e.anchor,k=t.target=e.target,O=t.targetAnchor=e.targetAnchor,I=Bc(e.props),w=I?n:k,D=I?T:O;if(a==="svg"||fA(k)?a="svg":(a==="mathml"||hA(k))&&(a="mathml"),A?(f(e.dynamicChildren,A,w,r,s,a,o),h_(e,t,!0)):l||d(e,t,w,D,r,s,a,o,!1),_)I?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):wf(t,n,T,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const R=t.target=r0(t.props,m);R&&wf(t,R,null,u,0)}else I&&wf(t,k,O,u,1);hh(t,_)}},remove(e,t,n,{um:i,o:{remove:r}},s){const{shapeFlag:a,children:o,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=e;if(d&&(r(u),r(c)),s&&r(l),a&16){const h=s||!Bc(f);for(let m=0;m<o.length;m++){const p=o[m];i(p,t,n,h,!!p.dynamicChildren)}}},move:wf,hydrate:OB};function wf(e,t,n,{o:{insert:i},m:r},s=2){s===0&&i(e.targetAnchor,t,n);const{el:a,anchor:o,shapeFlag:l,children:u,props:c}=e,d=s===2;if(d&&i(a,t,n),(!d||Bc(c))&&l&16)for(let f=0;f<u.length;f++)r(u[f],t,n,2);d&&i(o,t,n)}function OB(e,t,n,i,r,s,{o:{nextSibling:a,parentNode:o,querySelector:l,insert:u,createText:c}},d){function f(p,g,_,y){g.anchor=d(a(p),g,o(p),n,i,r,s),g.targetStart=_,g.targetAnchor=y}const h=t.target=r0(t.props,l),m=Bc(t.props);if(h){const p=h._lpa||h.firstChild;if(t.shapeFlag&16)if(m)f(e,t,p,p&&a(p));else{t.anchor=a(e);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}}g=a(g)}t.targetAnchor||Uw(h,t,c,u),d(p&&a(p),t,h,n,i,r,s)}hh(t,m)}else m&&t.shapeFlag&16&&f(e,t,e,a(e));return t.anchor&&a(t.anchor)}const va=$w;function hh(e,t){const n=e.ctx;if(n&&n.ut){let i,r;for(t?(i=e.el,r=e.anchor):(i=e.targetStart,r=e.targetAnchor);i&&i!==r;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function Uw(e,t,n,i){const r=t.targetStart=n(""),s=t.targetAnchor=n("");return r[Bw]=s,e&&(i(r,e),i(s,e)),s}const Gs=Symbol("_leaveCb"),Df=Symbol("_enterCb");function IB(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Et(()=>{e.isMounted=!0}),Oi(()=>{e.isUnmounting=!0}),e}const Zi=[Function,Array],Vw={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Zi,onEnter:Zi,onAfterEnter:Zi,onEnterCancelled:Zi,onBeforeLeave:Zi,onLeave:Zi,onAfterLeave:Zi,onLeaveCancelled:Zi,onBeforeAppear:Zi,onAppear:Zi,onAfterAppear:Zi,onAppearCancelled:Zi},jw=e=>{const t=e.subTree;return t.component?jw(t.component):t},PB={name:"BaseTransition",props:Vw,setup(e,{slots:t}){const n=mn(),i=IB();return()=>{const r=t.default&&qw(t.default(),!0);if(!r||!r.length)return;const s=Hw(r),a=kt(e),{mode:o}=a;if(i.isLeaving)return bg(s);const l=pA(s);if(!l)return bg(s);let u=s0(l,a,i,n,d=>u=d);l.type!==$n&&nu(l,u);let c=n.subTree&&pA(n.subTree);if(c&&c.type!==$n&&!Ga(c,l)&&jw(n).type!==$n){let d=s0(c,a,i,n);if(nu(c,d),o==="out-in"&&l.type!==$n)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,c=void 0},bg(s);o==="in-out"&&l.type!==$n?d.delayLeave=(f,h,m)=>{const p=zw(i,c);p[String(c.key)]=c,f[Gs]=()=>{h(),f[Gs]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{m(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return s}}};function Hw(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==$n){t=n;break}}return t}const RB=PB;function zw(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function s0(e,t,n,i,r){const{appear:s,mode:a,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:m,onLeaveCancelled:p,onBeforeAppear:g,onAppear:_,onAfterAppear:y,onAppearCancelled:b}=t,A=String(e.key),T=zw(n,e),k=(w,D)=>{w&&qr(w,i,9,D)},O=(w,D)=>{const R=D[1];k(w,D),st(w)?w.every(L=>L.length<=1)&&R():w.length<=1&&R()},I={mode:a,persisted:o,beforeEnter(w){let D=l;if(!n.isMounted)if(s)D=g||l;else return;w[Gs]&&w[Gs](!0);const R=T[A];R&&Ga(e,R)&&R.el[Gs]&&R.el[Gs](),k(D,[w])},enter(w){let D=u,R=c,L=d;if(!n.isMounted)if(s)D=_||u,R=y||c,L=b||d;else return;let B=!1;const N=w[Df]=$=>{B||(B=!0,$?k(L,[w]):k(R,[w]),I.delayedLeave&&I.delayedLeave(),w[Df]=void 0)};D?O(D,[w,N]):N()},leave(w,D){const R=String(e.key);if(w[Df]&&w[Df](!0),n.isUnmounting)return D();k(f,[w]);let L=!1;const B=w[Gs]=N=>{L||(L=!0,D(),N?k(p,[w]):k(m,[w]),w[Gs]=void 0,T[R]===e&&delete T[R])};T[R]=e,h?O(h,[w,B]):B()},clone(w){const D=s0(w,t,n,i,r);return r&&r(D),D}};return I}function bg(e){if(Dd(e))return e=ca(e),e.children=null,e}function pA(e){if(!Dd(e))return Fw(e.type)&&e.children?Hw(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ft(n.default))return n.default()}}function nu(e,t){e.shapeFlag&6&&e.component?(e.transition=t,nu(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qw(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let a=e[s];const o=n==null?a.key:String(n)+String(a.key!=null?a.key:s);a.type===ct?(a.patchFlag&128&&r++,i=i.concat(qw(a.children,t,o))):(t||a.type!==$n)&&i.push(o!=null?ca(a,{key:o}):a)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function Se(e,t){return ft(e)?Qn({name:e.name},t,{setup:e}):e}function l_(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const $h=new WeakMap;function Fc(e,t,n,i,r=!1){if(st(e)){e.forEach((m,p)=>Fc(m,t&&(st(t)?t[p]:t),n,i,r));return}if(Mo(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Fc(e,t,n,i.component.subTree);return}const s=i.shapeFlag&4?Wp(i.component):i.el,a=r?null:s,{i:o,r:l}=e,u=t&&t.r,c=o.refs===Yt?o.refs={}:o.refs,d=o.setupState,f=kt(d),h=d===Yt?iw:m=>Ft(f,m);if(u!=null&&u!==l){if(mA(t),Xt(u))c[u]=null,h(u)&&(d[u]=null);else if(xt(u)){u.value=null;const m=t;m.k&&(c[m.k]=null)}}if(ft(l))Cd(l,o,12,[a,c]);else{const m=Xt(l),p=xt(l);if(m||p){const g=()=>{if(e.f){const _=m?h(l)?d[l]:c[l]:l.value;if(r)st(_)&&Xy(_,s);else if(st(_))_.includes(s)||_.push(s);else if(m)c[l]=[s],h(l)&&(d[l]=c[l]);else{const y=[s];l.value=y,e.k&&(c[e.k]=y)}}else m?(c[l]=a,h(l)&&(d[l]=a)):p&&(l.value=a,e.k&&(c[e.k]=a))};if(a){const _=()=>{g(),$h.delete(e)};_.id=-1,$h.set(e,_),Fn(_,n)}else mA(e),g()}}}function mA(e){const t=$h.get(e);t&&(t.flags|=8,$h.delete(e))}const gA=e=>e.nodeType===8;Fp().requestIdleCallback;Fp().cancelIdleCallback;function LB(e,t){if(gA(e)&&e.data==="["){let n=1,i=e.nextSibling;for(;i;){if(i.nodeType===1){if(t(i)===!1)break}else if(gA(i))if(i.data==="]"){if(--n===0)break}else i.data==="["&&n++;i=i.nextSibling}}else t(e)}const Mo=e=>!!e.type.__asyncLoader;function Hce(e){ft(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:i,delay:r=200,hydrate:s,timeout:a,suspensible:o=!0,onError:l}=e;let u=null,c,d=0;const f=()=>(d++,u=null,h()),h=()=>{let m;return u||(m=u=t().catch(p=>{if(p=p instanceof Error?p:new Error(String(p)),l)return new Promise((g,_)=>{l(p,()=>g(f()),()=>_(p),d+1)});throw p}).then(p=>m!==u&&u?u:(p&&(p.__esModule||p[Symbol.toStringTag]==="Module")&&(p=p.default),c=p,p)))};return Se({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(m,p,g){let _=!1;(p.bu||(p.bu=[])).push(()=>_=!0);const y=()=>{_||g()},b=s?()=>{const A=s(y,T=>LB(m,T));A&&(p.bum||(p.bum=[])).push(A)}:y;c?b():h().then(()=>!p.isUnmounted&&b())},get __asyncResolved(){return c},setup(){const m=ti;if(l_(m),c)return()=>kf(c,m);const p=b=>{u=null,wd(b,m,13,!i)};if(o&&m.suspense||iu)return h().then(b=>()=>kf(b,m)).catch(b=>(p(b),()=>i?x(i,{error:b}):null));const g=ie(!1),_=ie(),y=ie(!!r);return r&&setTimeout(()=>{y.value=!1},r),a!=null&&setTimeout(()=>{if(!g.value&&!_.value){const b=new Error("Async component timed out after ".concat(a,"ms."));p(b),_.value=b}},a),h().then(()=>{g.value=!0,m.parent&&Dd(m.parent.vnode)&&m.parent.update()}).catch(b=>{p(b),_.value=b}),()=>{if(g.value&&c)return kf(c,m);if(_.value&&i)return x(i,{error:_.value});if(n&&!y.value)return kf(n,m)}}})}function kf(e,t){const{ref:n,props:i,children:r,ce:s}=t.vnode,a=x(e,i,r);return a.ref=n,a.ce=s,delete t.vnode.ce,a}const Dd=e=>e.type.__isKeepAlive,MB={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=mn(),i=n.ctx;if(!i.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const r=new Map,s=new Set;let a=null;const o=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=i,f=d("div");i.activate=(y,b,A,T,k)=>{const O=y.component;u(y,b,A,0,o),l(O.vnode,y,b,A,O,o,T,y.slotScopeIds,k),Fn(()=>{O.isDeactivated=!1,O.a&&Ul(O.a);const I=y.props&&y.props.onVnodeMounted;I&&rr(I,O.parent,y)},o)},i.deactivate=y=>{const b=y.component;Hh(b.m),Hh(b.a),u(y,f,null,1,o),Fn(()=>{b.da&&Ul(b.da);const A=y.props&&y.props.onVnodeUnmounted;A&&rr(A,b.parent,y),b.isDeactivated=!0},o)};function h(y){Tg(y),c(y,n,o,!0)}function m(y){r.forEach((b,A)=>{const T=d0(b.type);T&&!y(T)&&p(A)})}function p(y){const b=r.get(y);b&&(!a||!Ga(b,a))?h(b):a&&Tg(a),r.delete(y),s.delete(y)}De(()=>[e.include,e.exclude],([y,b])=>{y&&m(A=>kc(y,A)),b&&m(A=>!kc(b,A))},{flush:"post",deep:!0});let g=null;const _=()=>{g!=null&&(zh(n.subTree.type)?Fn(()=>{r.set(g,Of(n.subTree))},n.subTree.suspense):r.set(g,Of(n.subTree)))};return Et(_),Hp(_),Oi(()=>{r.forEach(y=>{const{subTree:b,suspense:A}=n,T=Of(b);if(y.type===T.type&&y.key===T.key){Tg(T);const k=T.component.da;k&&Fn(k,A);return}h(y)})}),()=>{if(g=null,!t.default)return a=null;const y=t.default(),b=y[0];if(y.length>1)return a=null,y;if(!Wr(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return a=null,b;let A=Of(b);if(A.type===$n)return a=null,A;const T=A.type,k=d0(Mo(A)?A.type.__asyncResolved||{}:T),{include:O,exclude:I,max:w}=e;if(O&&(!k||!kc(O,k))||I&&k&&kc(I,k))return A.shapeFlag&=-257,a=A,b;const D=A.key==null?T:A.key,R=r.get(D);return A.el&&(A=ca(A),b.shapeFlag&128&&(b.ssContent=A)),g=D,R?(A.el=R.el,A.component=R.component,A.transition&&nu(A,A.transition),A.shapeFlag|=512,s.delete(D),s.add(D)):(s.add(D),w&&s.size>parseInt(w,10)&&p(s.values().next().value)),A.shapeFlag|=256,a=A,zh(b.type)?b:A}}},NB=MB;function kc(e,t){return st(e)?e.some(n=>kc(n,t)):Xt(e)?e.split(",").includes(t):UN(e)?(e.lastIndex=0,e.test(t)):!1}function gr(e,t){Ww(e,"a",t)}function vr(e,t){Ww(e,"da",t)}function Ww(e,t,n=ti){const i=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Vp(t,i,n),n){let r=n.parent;for(;r&&r.parent;)Dd(r.parent.vnode)&&BB(i,t,n,r),r=r.parent}}function BB(e,t,n,i){const r=Vp(t,e,i,!0);Xr(()=>{Xy(i[t],r)},n)}function Tg(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Of(e){return e.shapeFlag&128?e.ssContent:e}function Vp(e,t,n=ti,i=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...a)=>{la();const o=kd(n),l=qr(t,n,e,a);return o(),ua(),l});return i?r.unshift(s):r.push(s),s}}const ya=e=>(t,n=ti)=>{(!iu||e==="sp")&&Vp(e,(...i)=>t(...i),n)},jp=ya("bm"),Et=ya("m"),Gw=ya("bu"),Hp=ya("u"),Oi=ya("bum"),Xr=ya("um"),FB=ya("sp"),$B=ya("rtg"),UB=ya("rtc");function VB(e,t=ti){Vp("ec",e,t)}const u_="components",jB="directives";function Kt(e,t){return c_(u_,e,!0,t)||e}const Yw=Symbol.for("v-ndc");function Kw(e){return Xt(e)?c_(u_,e,!1)||e:e||Yw}function Uh(e){return c_(jB,e)}function c_(e,t,n=!0,i=!1){const r=ni||ti;if(r){const s=r.type;if(e===u_){const o=d0(s,!1);if(o&&(o===t||o===cr(t)||o===Bp(cr(t))))return s}const a=vA(r[e]||s[e],t)||vA(r.appContext[e],t);return!a&&i?s:a}}function vA(e,t){return e&&(e[t]||e[cr(t)]||e[Bp(cr(t))])}function Pr(e,t,n,i){let r;const s=n,a=st(e);if(a||Xt(e)){const o=a&&na(e);let l=!1,u=!1;o&&(l=!or(e),u=Qa(e),e=Up(e)),r=new Array(e.length);for(let c=0,d=e.length;c<d;c++)r[c]=t(l?u?Mh(ei(e[c])):ei(e[c]):e[c],c,void 0,s)}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,s)}else if(Qt(e))if(e[Symbol.iterator])r=Array.from(e,(o,l)=>t(o,l,void 0,s));else{const o=Object.keys(e);r=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const c=o[l];r[l]=t(e[c],c,l,s)}}else r=[];return r}function Vh(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(st(i))for(let r=0;r<i.length;r++)e[i[r].name]=i[r].fn;else i&&(e[i.name]=i.key?(...r)=>{const s=i.fn(...r);return s&&(s.key=i.key),s}:i.fn)}return e}function oi(e,t,n={},i,r){if(ni.ce||ni.parent&&Mo(ni.parent)&&ni.parent.ce){const u=Object.keys(n).length>0;return t!=="default"&&(n.name=t),je(),wt(ct,null,[x("slot",n,i&&i())],u?-2:64)}let s=e[t];s&&s._c&&(s._d=!1),je();const a=s&&Xw(s(n)),o=n.key||a&&a.key,l=wt(ct,{key:(o&&!ma(o)?o:"_".concat(t))+(!a&&i?"_fb":"")},a||(i?i():[]),a&&e._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function Xw(e){return e.some(t=>Wr(t)?!(t.type===$n||t.type===ct&&!Xw(t.children)):!0)?e:null}const a0=e=>e?h2(e)?Wp(e):a0(e.parent):null,$c=Qn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>a0(e.parent),$root:e=>a0(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Jw(e),$forceUpdate:e=>e.f||(e.f=()=>{o_(e.update)}),$nextTick:e=>e.n||(e.n=Ke.bind(e.proxy)),$watch:e=>u3.bind(e)}),Ag=(e,t)=>e!==Yt&&!e.__isScriptSetup&&Ft(e,t),HB={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:a,type:o,appContext:l}=e;let u;if(t[0]!=="$"){const h=a[t];if(h!==void 0)switch(h){case 1:return i[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(Ag(i,t))return a[t]=1,i[t];if(r!==Yt&&Ft(r,t))return a[t]=2,r[t];if((u=e.propsOptions[0])&&Ft(u,t))return a[t]=3,s[t];if(n!==Yt&&Ft(n,t))return a[t]=4,n[t];o0&&(a[t]=0)}}const c=$c[t];let d,f;if(c)return t==="$attrs"&&li(e.attrs,"get",""),c(e);if((d=o.__cssModules)&&(d=d[t]))return d;if(n!==Yt&&Ft(n,t))return a[t]=4,n[t];if(f=l.config.globalProperties,Ft(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:r,ctx:s}=e;return Ag(r,t)?(r[t]=n,!0):i!==Yt&&Ft(i,t)?(i[t]=n,!0):Ft(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:r,propsOptions:s,type:a}},o){let l,u;return!!(n[o]||e!==Yt&&o[0]!=="$"&&Ft(e,o)||Ag(t,o)||(l=s[0])&&Ft(l,o)||Ft(i,o)||Ft($c,o)||Ft(r.config.globalProperties,o)||(u=a.__cssModules)&&u[o])},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ft(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function yA(e){return st(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let o0=!0;function zB(e){const t=Jw(e),n=e.proxy,i=e.ctx;o0=!1,t.beforeCreate&&_A(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:a,watch:o,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:m,activated:p,deactivated:g,beforeDestroy:_,beforeUnmount:y,destroyed:b,unmounted:A,render:T,renderTracked:k,renderTriggered:O,errorCaptured:I,serverPrefetch:w,expose:D,inheritAttrs:R,components:L,directives:B,filters:N}=t;if(u&&qB(u,i,null),a)for(const V in a){const U=a[V];ft(U)&&(i[V]=U.bind(n))}if(r){const V=r.call(n,n);Qt(V)&&(e.data=vt(V))}if(o0=!0,s)for(const V in s){const U=s[V],Y=ft(U)?U.bind(n,n):ft(U.get)?U.get.bind(n,n):Br,ne=!ft(U)&&ft(U.set)?U.set.bind(n):Br,z=fe({get:Y,set:ne});Object.defineProperty(i,V,{enumerable:!0,configurable:!0,get:()=>z.value,set:W=>z.value=W})}if(o)for(const V in o)Qw(o[V],i,n,V);if(l){const V=ft(l)?l.call(n):l;Reflect.ownKeys(V).forEach(U=>{$r(U,V[U])})}c&&_A(c,e,"c");function F(V,U){st(U)?U.forEach(Y=>V(Y.bind(n))):U&&V(U.bind(n))}if(F(jp,d),F(Et,f),F(Gw,h),F(Hp,m),F(gr,p),F(vr,g),F(VB,I),F(UB,k),F($B,O),F(Oi,y),F(Xr,A),F(FB,w),st(D))if(D.length){const V=e.exposed||(e.exposed={});D.forEach(U=>{Object.defineProperty(V,U,{get:()=>n[U],set:Y=>n[U]=Y,enumerable:!0})})}else e.exposed||(e.exposed={});T&&e.render===Br&&(e.render=T),R!=null&&(e.inheritAttrs=R),L&&(e.components=L),B&&(e.directives=B),w&&l_(e)}function qB(e,t,n=Br){st(e)&&(e=l0(e));for(const i in e){const r=e[i];let s;Qt(r)?"default"in r?s=En(r.from||i,r.default,!0):s=En(r.from||i):s=En(r),xt(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[i]=s}}function _A(e,t,n){qr(st(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Qw(e,t,n,i){let r=i.includes(".")?u2(n,i):()=>n[i];if(Xt(e)){const s=t[e];ft(s)&&De(r,s)}else if(ft(e))De(r,e.bind(n));else if(Qt(e))if(st(e))e.forEach(s=>Qw(s,t,n,i));else{const s=ft(e.handler)?e.handler.bind(n):t[e.handler];ft(s)&&De(r,s,e)}}function Jw(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,o=s.get(t);let l;return o?l=o:!r.length&&!n&&!i?l=t:(l={},r.length&&r.forEach(u=>jh(l,u,a,!0)),jh(l,t,a)),Qt(t)&&s.set(t,l),l}function jh(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&jh(e,s,n,!0),r&&r.forEach(a=>jh(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const o=WB[a]||n&&n[a];e[a]=o?o(e[a],t[a]):t[a]}return e}const WB={data:bA,props:TA,emits:TA,methods:Oc,computed:Oc,beforeCreate:Ei,created:Ei,beforeMount:Ei,mounted:Ei,beforeUpdate:Ei,updated:Ei,beforeDestroy:Ei,beforeUnmount:Ei,destroyed:Ei,unmounted:Ei,activated:Ei,deactivated:Ei,errorCaptured:Ei,serverPrefetch:Ei,components:Oc,directives:Oc,watch:YB,provide:bA,inject:GB};function bA(e,t){return t?e?function(){return Qn(ft(e)?e.call(this,this):e,ft(t)?t.call(this,this):t)}:t:e}function GB(e,t){return Oc(l0(e),l0(t))}function l0(e){if(st(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ei(e,t){return e?[...new Set([].concat(e,t))]:t}function Oc(e,t){return e?Qn(Object.create(null),e,t):t}function TA(e,t){return e?st(e)&&st(t)?[...new Set([...e,...t])]:Qn(Object.create(null),yA(e),yA(t!=null?t:{})):t}function YB(e,t){if(!e)return t;if(!t)return e;const n=Qn(Object.create(null),e);for(const i in t)n[i]=Ei(e[i],t[i]);return n}function Zw(){return{app:null,config:{isNativeTag:iw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let KB=0;function XB(e,t){return function(i,r=null){ft(i)||(i=Qn({},i)),r!=null&&!Qt(r)&&(r=null);const s=Zw(),a=new WeakSet,o=[];let l=!1;const u=s.app={_uid:KB++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:k3,get config(){return s.config},set config(c){},use(c,...d){return a.has(c)||(c&&ft(c.install)?(a.add(c),c.install(u,...d)):ft(c)&&(a.add(c),c(u,...d))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,d){return d?(s.components[c]=d,u):s.components[c]},directive(c,d){return d?(s.directives[c]=d,u):s.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||x(i,r);return h.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),e(h,c,f),l=!0,u._container=c,c.__vue_app__=u,Wp(h.component)}},onUnmount(c){o.push(c)},unmount(){l&&(qr(o,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,d){return s.provides[c]=d,u},runWithContext(c){const d=No;No=u;try{return c()}finally{No=d}}};return u}}let No=null;function $r(e,t){if(ti){let n=ti.provides;const i=ti.parent&&ti.parent.provides;i===n&&(n=ti.provides=Object.create(i)),n[e]=t}}function En(e,t,n=!1){const i=mn();if(i||No){let r=No?No._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&ft(t)?t.call(i&&i.proxy):t}}function zp(){return!!(mn()||No)}const e2={},t2=()=>Object.create(e2),n2=e=>Object.getPrototypeOf(e)===e2;function QB(e,t,n,i=!1){const r={},s=t2();e.propsDefaults=Object.create(null),i2(e,t,r,s);for(const a in e.propsOptions[0])a in r||(r[a]=void 0);n?e.props=i?r:Dw(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function JB(e,t,n,i){const{props:r,attrs:s,vnode:{patchFlag:a}}=e,o=kt(r),[l]=e.propsOptions;let u=!1;if((i||a>0)&&!(a&16)){if(a&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(qp(e.emitsOptions,f))continue;const h=t[f];if(l)if(Ft(s,f))h!==s[f]&&(s[f]=h,u=!0);else{const m=cr(f);r[m]=u0(l,o,m,h,e,!1)}else h!==s[f]&&(s[f]=h,u=!0)}}}else{i2(e,t,r,s)&&(u=!0);let c;for(const d in o)(!t||!Ft(t,d)&&((c=ga(d))===d||!Ft(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(r[d]=u0(l,o,d,void 0,e,!0)):delete r[d]);if(s!==o)for(const d in s)(!t||!Ft(t,d))&&(delete s[d],u=!0)}u&&Ys(e.attrs,"set","")}function i2(e,t,n,i){const[r,s]=e.propsOptions;let a=!1,o;if(t)for(let l in t){if(Lc(l))continue;const u=t[l];let c;r&&Ft(r,c=cr(l))?!s||!s.includes(c)?n[c]=u:(o||(o={}))[c]=u:qp(e.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,a=!0)}if(s){const l=kt(n),u=o||Yt;for(let c=0;c<s.length;c++){const d=s[c];n[d]=u0(r,l,d,u[d],e,!Ft(u,d))}}return a}function u0(e,t,n,i,r,s){const a=e[n];if(a!=null){const o=Ft(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&ft(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const c=kd(r);i=u[n]=l.call(null,t),c()}}else i=l;r.ce&&r.ce._setProp(n,i)}a[0]&&(s&&!o?i=!1:a[1]&&(i===""||i===ga(n))&&(i=!0))}return i}const ZB=new WeakMap;function r2(e,t,n=!1){const i=n?ZB:t.propsCache,r=i.get(e);if(r)return r;const s=e.props,a={},o=[];let l=!1;if(!ft(e)){const c=d=>{l=!0;const[f,h]=r2(d,t,!0);Qn(a,f),h&&o.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return Qt(e)&&i.set(e,Fl),Fl;if(st(s))for(let c=0;c<s.length;c++){const d=cr(s[c]);AA(d)&&(a[d]=Yt)}else if(s)for(const c in s){const d=cr(c);if(AA(d)){const f=s[c],h=a[d]=st(f)||ft(f)?{type:f}:Qn({},f),m=h.type;let p=!1,g=!0;if(st(m))for(let _=0;_<m.length;++_){const y=m[_],b=ft(y)&&y.name;if(b==="Boolean"){p=!0;break}else b==="String"&&(g=!1)}else p=ft(m)&&m.name==="Boolean";h[0]=p,h[1]=g,(p||Ft(h,"default"))&&o.push(d)}}const u=[a,o];return Qt(e)&&i.set(e,u),u}function AA(e){return e[0]!=="$"&&!Lc(e)}const d_=e=>e==="_"||e==="_ctx"||e==="$stable",f_=e=>st(e)?e.map(ms):[ms(e)],e3=(e,t,n)=>{if(t._n)return t;const i=Ze((...r)=>f_(t(...r)),n);return i._c=!1,i},s2=(e,t,n)=>{const i=e._ctx;for(const r in e){if(d_(r))continue;const s=e[r];if(ft(s))t[r]=e3(r,s,i);else if(s!=null){const a=f_(s);t[r]=()=>a}}},a2=(e,t)=>{const n=f_(t);e.slots.default=()=>n},o2=(e,t,n)=>{for(const i in t)(n||!d_(i))&&(e[i]=t[i])},t3=(e,t,n)=>{const i=e.slots=t2();if(e.vnode.shapeFlag&32){const r=t._;r?(o2(i,t,n),n&&lw(i,"_",r,!0)):s2(t,i)}else t&&a2(e,t)},n3=(e,t,n)=>{const{vnode:i,slots:r}=e;let s=!0,a=Yt;if(i.shapeFlag&32){const o=t._;o?n&&o===1?s=!1:o2(r,t,n):(s=!t.$stable,s2(t,r)),a=t}else t&&(a2(e,t),a={default:1});if(s)for(const o in r)!d_(o)&&a[o]==null&&delete r[o]},Fn=v3;function i3(e){return r3(e)}function r3(e,t){const n=Fp();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:a,createText:o,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=Br,insertStaticContent:m}=e,p=(H,K,se,_e=null,Ae=null,Ce=null,Q=void 0,te=null,ce=!!K.dynamicChildren)=>{if(H===K)return;H&&!Ga(H,K)&&(_e=q(H),W(H,Ae,Ce,!0),H=null),K.patchFlag===-2&&(ce=!1,K.dynamicChildren=null);const{type:me,ref:Ne,shapeFlag:Pe}=K;switch(me){case Su:g(H,K,se,_e);break;case $n:_(H,K,se,_e);break;case ph:H==null&&y(K,se,_e,Q);break;case ct:L(H,K,se,_e,Ae,Ce,Q,te,ce);break;default:Pe&1?T(H,K,se,_e,Ae,Ce,Q,te,ce):Pe&6?B(H,K,se,_e,Ae,Ce,Q,te,ce):(Pe&64||Pe&128)&&me.process(H,K,se,_e,Ae,Ce,Q,te,ce,Z)}Ne!=null&&Ae?Fc(Ne,H&&H.ref,Ce,K||H,!K):Ne==null&&H&&H.ref!=null&&Fc(H.ref,null,Ce,H,!0)},g=(H,K,se,_e)=>{if(H==null)i(K.el=o(K.children),se,_e);else{const Ae=K.el=H.el;K.children!==H.children&&u(Ae,K.children)}},_=(H,K,se,_e)=>{H==null?i(K.el=l(K.children||""),se,_e):K.el=H.el},y=(H,K,se,_e)=>{[H.el,H.anchor]=m(H.children,K,se,_e,H.el,H.anchor)},b=({el:H,anchor:K},se,_e)=>{let Ae;for(;H&&H!==K;)Ae=f(H),i(H,se,_e),H=Ae;i(K,se,_e)},A=({el:H,anchor:K})=>{let se;for(;H&&H!==K;)se=f(H),r(H),H=se;r(K)},T=(H,K,se,_e,Ae,Ce,Q,te,ce)=>{if(K.type==="svg"?Q="svg":K.type==="math"&&(Q="mathml"),H==null)k(K,se,_e,Ae,Ce,Q,te,ce);else{const me=H.el&&H.el._isVueCE?H.el:null;try{me&&me._beginPatch(),w(H,K,Ae,Ce,Q,te,ce)}finally{me&&me._endPatch()}}},k=(H,K,se,_e,Ae,Ce,Q,te)=>{let ce,me;const{props:Ne,shapeFlag:Pe,transition:pe,dirs:xe}=H;if(ce=H.el=a(H.type,Ce,Ne&&Ne.is,Ne),Pe&8?c(ce,H.children):Pe&16&&I(H.children,ce,null,_e,Ae,Sg(H,Ce),Q,te),xe&&go(H,null,_e,"created"),O(ce,H,H.scopeId,Q,_e),Ne){for(const Xe in Ne)Xe!=="value"&&!Lc(Xe)&&s(ce,Xe,null,Ne[Xe],Ce,_e);"value"in Ne&&s(ce,"value",null,Ne.value,Ce),(me=Ne.onVnodeBeforeMount)&&rr(me,_e,H)}xe&&go(H,null,_e,"beforeMount");const We=s3(Ae,pe);We&&pe.beforeEnter(ce),i(ce,K,se),((me=Ne&&Ne.onVnodeMounted)||We||xe)&&Fn(()=>{me&&rr(me,_e,H),We&&pe.enter(ce),xe&&go(H,null,_e,"mounted")},Ae)},O=(H,K,se,_e,Ae)=>{if(se&&h(H,se),_e)for(let Ce=0;Ce<_e.length;Ce++)h(H,_e[Ce]);if(Ae){let Ce=Ae.subTree;if(K===Ce||zh(Ce.type)&&(Ce.ssContent===K||Ce.ssFallback===K)){const Q=Ae.vnode;O(H,Q,Q.scopeId,Q.slotScopeIds,Ae.parent)}}},I=(H,K,se,_e,Ae,Ce,Q,te,ce=0)=>{for(let me=ce;me<H.length;me++){const Ne=H[me]=te?Ha(H[me]):ms(H[me]);p(null,Ne,K,se,_e,Ae,Ce,Q,te)}},w=(H,K,se,_e,Ae,Ce,Q)=>{const te=K.el=H.el;let{patchFlag:ce,dynamicChildren:me,dirs:Ne}=K;ce|=H.patchFlag&16;const Pe=H.props||Yt,pe=K.props||Yt;let xe;if(se&&vo(se,!1),(xe=pe.onVnodeBeforeUpdate)&&rr(xe,se,K,H),Ne&&go(K,H,se,"beforeUpdate"),se&&vo(se,!0),(Pe.innerHTML&&pe.innerHTML==null||Pe.textContent&&pe.textContent==null)&&c(te,""),me?D(H.dynamicChildren,me,te,se,_e,Sg(K,Ae),Ce):Q||U(H,K,te,null,se,_e,Sg(K,Ae),Ce,!1),ce>0){if(ce&16)R(te,Pe,pe,se,Ae);else if(ce&2&&Pe.class!==pe.class&&s(te,"class",null,pe.class,Ae),ce&4&&s(te,"style",Pe.style,pe.style,Ae),ce&8){const We=K.dynamicProps;for(let Xe=0;Xe<We.length;Xe++){const ht=We[Xe],sn=Pe[ht],Wt=pe[ht];(Wt!==sn||ht==="value")&&s(te,ht,sn,Wt,Ae,se)}}ce&1&&H.children!==K.children&&c(te,K.children)}else!Q&&me==null&&R(te,Pe,pe,se,Ae);((xe=pe.onVnodeUpdated)||Ne)&&Fn(()=>{xe&&rr(xe,se,K,H),Ne&&go(K,H,se,"updated")},_e)},D=(H,K,se,_e,Ae,Ce,Q)=>{for(let te=0;te<K.length;te++){const ce=H[te],me=K[te],Ne=ce.el&&(ce.type===ct||!Ga(ce,me)||ce.shapeFlag&198)?d(ce.el):se;p(ce,me,Ne,null,_e,Ae,Ce,Q,!0)}},R=(H,K,se,_e,Ae)=>{if(K!==se){if(K!==Yt)for(const Ce in K)!Lc(Ce)&&!(Ce in se)&&s(H,Ce,K[Ce],null,Ae,_e);for(const Ce in se){if(Lc(Ce))continue;const Q=se[Ce],te=K[Ce];Q!==te&&Ce!=="value"&&s(H,Ce,te,Q,Ae,_e)}"value"in se&&s(H,"value",K.value,se.value,Ae)}},L=(H,K,se,_e,Ae,Ce,Q,te,ce)=>{const me=K.el=H?H.el:o(""),Ne=K.anchor=H?H.anchor:o("");let{patchFlag:Pe,dynamicChildren:pe,slotScopeIds:xe}=K;xe&&(te=te?te.concat(xe):xe),H==null?(i(me,se,_e),i(Ne,se,_e),I(K.children||[],se,Ne,Ae,Ce,Q,te,ce)):Pe>0&&Pe&64&&pe&&H.dynamicChildren?(D(H.dynamicChildren,pe,se,Ae,Ce,Q,te),(K.key!=null||Ae&&K===Ae.subTree)&&h_(H,K,!0)):U(H,K,se,Ne,Ae,Ce,Q,te,ce)},B=(H,K,se,_e,Ae,Ce,Q,te,ce)=>{K.slotScopeIds=te,H==null?K.shapeFlag&512?Ae.ctx.activate(K,se,_e,Q,ce):N(K,se,_e,Ae,Ce,Q,ce):$(H,K,ce)},N=(H,K,se,_e,Ae,Ce,Q)=>{const te=H.component=S3(H,_e,Ae);if(Dd(H)&&(te.ctx.renderer=Z),x3(te,!1,Q),te.asyncDep){if(Ae&&Ae.registerDep(te,F,Q),!H.el){const ce=te.subTree=x($n);_(null,ce,K,se),H.placeholder=ce.el}}else F(te,H,K,se,Ae,Ce,Q)},$=(H,K,se)=>{const _e=K.component=H.component;if(m3(H,K,se))if(_e.asyncDep&&!_e.asyncResolved){V(_e,K,se);return}else _e.next=K,_e.update();else K.el=H.el,_e.vnode=K},F=(H,K,se,_e,Ae,Ce,Q)=>{const te=()=>{if(H.isMounted){let{next:Pe,bu:pe,u:xe,parent:We,vnode:Xe}=H;{const yt=l2(H);if(yt){Pe&&(Pe.el=Xe.el,V(H,Pe,Q)),yt.asyncDep.then(()=>{H.isUnmounted||te()});return}}let ht=Pe,sn;vo(H,!1),Pe?(Pe.el=Xe.el,V(H,Pe,Q)):Pe=Xe,pe&&Ul(pe),(sn=Pe.props&&Pe.props.onVnodeBeforeUpdate)&&rr(sn,We,Pe,Xe),vo(H,!0);const Wt=SA(H),Nn=H.subTree;H.subTree=Wt,p(Nn,Wt,d(Nn.el),q(Nn),H,Ae,Ce),Pe.el=Wt.el,ht===null&&g3(H,Wt.el),xe&&Fn(xe,Ae),(sn=Pe.props&&Pe.props.onVnodeUpdated)&&Fn(()=>rr(sn,We,Pe,Xe),Ae)}else{let Pe;const{el:pe,props:xe}=K,{bm:We,m:Xe,parent:ht,root:sn,type:Wt}=H,Nn=Mo(K);vo(H,!1),We&&Ul(We),!Nn&&(Pe=xe&&xe.onVnodeBeforeMount)&&rr(Pe,ht,K),vo(H,!0);{sn.ce&&sn.ce._def.shadowRoot!==!1&&sn.ce._injectChildStyle(Wt);const yt=H.subTree=SA(H);p(null,yt,se,_e,H,Ae,Ce),K.el=yt.el}if(Xe&&Fn(Xe,Ae),!Nn&&(Pe=xe&&xe.onVnodeMounted)){const yt=K;Fn(()=>rr(Pe,ht,yt),Ae)}(K.shapeFlag&256||ht&&Mo(ht.vnode)&&ht.vnode.shapeFlag&256)&&H.a&&Fn(H.a,Ae),H.isMounted=!0,K=se=_e=null}};H.scope.on();const ce=H.effect=new pw(te);H.scope.off();const me=H.update=ce.run.bind(ce),Ne=H.job=ce.runIfDirty.bind(ce);Ne.i=H,Ne.id=H.uid,ce.scheduler=()=>o_(Ne),vo(H,!0),me()},V=(H,K,se)=>{K.component=H;const _e=H.vnode.props;H.vnode=K,H.next=null,JB(H,K.props,_e,se),n3(H,K.children,se),la(),cA(H),ua()},U=(H,K,se,_e,Ae,Ce,Q,te,ce=!1)=>{const me=H&&H.children,Ne=H?H.shapeFlag:0,Pe=K.children,{patchFlag:pe,shapeFlag:xe}=K;if(pe>0){if(pe&128){ne(me,Pe,se,_e,Ae,Ce,Q,te,ce);return}else if(pe&256){Y(me,Pe,se,_e,Ae,Ce,Q,te,ce);return}}xe&8?(Ne&16&&ke(me,Ae,Ce),Pe!==me&&c(se,Pe)):Ne&16?xe&16?ne(me,Pe,se,_e,Ae,Ce,Q,te,ce):ke(me,Ae,Ce,!0):(Ne&8&&c(se,""),xe&16&&I(Pe,se,_e,Ae,Ce,Q,te,ce))},Y=(H,K,se,_e,Ae,Ce,Q,te,ce)=>{H=H||Fl,K=K||Fl;const me=H.length,Ne=K.length,Pe=Math.min(me,Ne);let pe;for(pe=0;pe<Pe;pe++){const xe=K[pe]=ce?Ha(K[pe]):ms(K[pe]);p(H[pe],xe,se,null,Ae,Ce,Q,te,ce)}me>Ne?ke(H,Ae,Ce,!0,!1,Pe):I(K,se,_e,Ae,Ce,Q,te,ce,Pe)},ne=(H,K,se,_e,Ae,Ce,Q,te,ce)=>{let me=0;const Ne=K.length;let Pe=H.length-1,pe=Ne-1;for(;me<=Pe&&me<=pe;){const xe=H[me],We=K[me]=ce?Ha(K[me]):ms(K[me]);if(Ga(xe,We))p(xe,We,se,null,Ae,Ce,Q,te,ce);else break;me++}for(;me<=Pe&&me<=pe;){const xe=H[Pe],We=K[pe]=ce?Ha(K[pe]):ms(K[pe]);if(Ga(xe,We))p(xe,We,se,null,Ae,Ce,Q,te,ce);else break;Pe--,pe--}if(me>Pe){if(me<=pe){const xe=pe+1,We=xe<Ne?K[xe].el:_e;for(;me<=pe;)p(null,K[me]=ce?Ha(K[me]):ms(K[me]),se,We,Ae,Ce,Q,te,ce),me++}}else if(me>pe)for(;me<=Pe;)W(H[me],Ae,Ce,!0),me++;else{const xe=me,We=me,Xe=new Map;for(me=We;me<=pe;me++){const jn=K[me]=ce?Ha(K[me]):ms(K[me]);jn.key!=null&&Xe.set(jn.key,me)}let ht,sn=0;const Wt=pe-We+1;let Nn=!1,yt=0;const Tr=new Array(Wt);for(me=0;me<Wt;me++)Tr[me]=0;for(me=xe;me<=Pe;me++){const jn=H[me];if(sn>=Wt){W(jn,Ae,Ce,!0);continue}let yi;if(jn.key!=null)yi=Xe.get(jn.key);else for(ht=We;ht<=pe;ht++)if(Tr[ht-We]===0&&Ga(jn,K[ht])){yi=ht;break}yi===void 0?W(jn,Ae,Ce,!0):(Tr[yi-We]=me+1,yi>=yt?yt=yi:Nn=!0,p(jn,K[yi],se,null,Ae,Ce,Q,te,ce),sn++)}const ts=Nn?a3(Tr):Fl;for(ht=ts.length-1,me=Wt-1;me>=0;me--){const jn=We+me,yi=K[jn],Ca=K[jn+1],Ar=jn+1<Ne?Ca.el||Ca.placeholder:_e;Tr[me]===0?p(null,yi,se,Ar,Ae,Ce,Q,te,ce):Nn&&(ht<0||me!==ts[ht]?z(yi,se,Ar,2):ht--)}}},z=(H,K,se,_e,Ae=null)=>{const{el:Ce,type:Q,transition:te,children:ce,shapeFlag:me}=H;if(me&6){z(H.component.subTree,K,se,_e);return}if(me&128){H.suspense.move(K,se,_e);return}if(me&64){Q.move(H,K,se,Z);return}if(Q===ct){i(Ce,K,se);for(let Pe=0;Pe<ce.length;Pe++)z(ce[Pe],K,se,_e);i(H.anchor,K,se);return}if(Q===ph){b(H,K,se);return}if(_e!==2&&me&1&&te)if(_e===0)te.beforeEnter(Ce),i(Ce,K,se),Fn(()=>te.enter(Ce),Ae);else{const{leave:Pe,delayLeave:pe,afterLeave:xe}=te,We=()=>{H.ctx.isUnmounted?r(Ce):i(Ce,K,se)},Xe=()=>{Ce._isLeaving&&Ce[Gs](!0),Pe(Ce,()=>{We(),xe&&xe()})};pe?pe(Ce,We,Xe):Xe()}else i(Ce,K,se)},W=(H,K,se,_e=!1,Ae=!1)=>{const{type:Ce,props:Q,ref:te,children:ce,dynamicChildren:me,shapeFlag:Ne,patchFlag:Pe,dirs:pe,cacheIndex:xe}=H;if(Pe===-2&&(Ae=!1),te!=null&&(la(),Fc(te,null,se,H,!0),ua()),xe!=null&&(K.renderCache[xe]=void 0),Ne&256){K.ctx.deactivate(H);return}const We=Ne&1&&pe,Xe=!Mo(H);let ht;if(Xe&&(ht=Q&&Q.onVnodeBeforeUnmount)&&rr(ht,K,H),Ne&6)ae(H.component,se,_e);else{if(Ne&128){H.suspense.unmount(se,_e);return}We&&go(H,null,K,"beforeUnmount"),Ne&64?H.type.remove(H,K,se,Z,_e):me&&!me.hasOnce&&(Ce!==ct||Pe>0&&Pe&64)?ke(me,K,se,!1,!0):(Ce===ct&&Pe&384||!Ae&&Ne&16)&&ke(ce,K,se),_e&&le(H)}(Xe&&(ht=Q&&Q.onVnodeUnmounted)||We)&&Fn(()=>{ht&&rr(ht,K,H),We&&go(H,null,K,"unmounted")},se)},le=H=>{const{type:K,el:se,anchor:_e,transition:Ae}=H;if(K===ct){ye(se,_e);return}if(K===ph){A(H);return}const Ce=()=>{r(se),Ae&&!Ae.persisted&&Ae.afterLeave&&Ae.afterLeave()};if(H.shapeFlag&1&&Ae&&!Ae.persisted){const{leave:Q,delayLeave:te}=Ae,ce=()=>Q(se,Ce);te?te(H.el,Ce,ce):ce()}else Ce()},ye=(H,K)=>{let se;for(;H!==K;)se=f(H),r(H),H=se;r(K)},ae=(H,K,se)=>{const{bum:_e,scope:Ae,job:Ce,subTree:Q,um:te,m:ce,a:me}=H;Hh(ce),Hh(me),_e&&Ul(_e),Ae.stop(),Ce&&(Ce.flags|=8,W(Q,H,K,se)),te&&Fn(te,K),Fn(()=>{H.isUnmounted=!0},K)},ke=(H,K,se,_e=!1,Ae=!1,Ce=0)=>{for(let Q=Ce;Q<H.length;Q++)W(H[Q],K,se,_e,Ae)},q=H=>{if(H.shapeFlag&6)return q(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const K=f(H.anchor||H.el),se=K&&K[Bw];return se?f(se):K};let ve=!1;const X=(H,K,se)=>{H==null?K._vnode&&W(K._vnode,null,null,!0):p(K._vnode||null,H,K,null,null,null,se),K._vnode=H,ve||(ve=!0,cA(),Lw(),ve=!1)},Z={p,um:W,m:z,r:le,mt:N,mc:I,pc:U,pbc:D,n:q,o:e};return{render:X,hydrate:void 0,createApp:XB(X)}}function Sg({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function vo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function s3(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function h_(e,t,n=!1){const i=e.children,r=t.children;if(st(i)&&st(r))for(let s=0;s<i.length;s++){const a=i[s];let o=r[s];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[s]=Ha(r[s]),o.el=a.el),!n&&o.patchFlag!==-2&&h_(a,o)),o.type===Su&&o.patchFlag!==-1&&(o.el=a.el),o.type===$n&&!o.el&&(o.el=a.el)}}function a3(e){const t=e.slice(),n=[0];let i,r,s,a,o;const l=e.length;for(i=0;i<l;i++){const u=e[i];if(u!==0){if(r=n[n.length-1],e[r]<u){t[i]=r,n.push(i);continue}for(s=0,a=n.length-1;s<a;)o=s+a>>1,e[n[o]]<u?s=o+1:a=o;u<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,a=n[s-1];s-- >0;)n[s]=a,a=t[a];return n}function l2(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:l2(t)}function Hh(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const o3=Symbol.for("v-scx"),l3=()=>En(o3);function _a(e,t){return p_(e,null,t)}function De(e,t,n){return p_(e,t,n)}function p_(e,t,n=Yt){const{immediate:i,deep:r,flush:s,once:a}=n,o=Qn({},n),l=t&&i||!t&&s!=="post";let u;if(iu){if(s==="sync"){const h=l3();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=Br,h.resume=Br,h.pause=Br,h}}const c=ti;o.call=(h,m,p)=>qr(h,c,m,p);let d=!1;s==="post"?o.scheduler=h=>{Fn(h,c&&c.suspense)}:s!=="sync"&&(d=!0,o.scheduler=(h,m)=>{m?h():o_(h)}),o.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=CB(e,t,o);return iu&&(u?u.push(f):l&&f()),f}function u3(e,t,n){const i=this.proxy,r=Xt(e)?e.includes(".")?u2(i,e):()=>i[e]:e.bind(i,i);let s;ft(t)?s=t:(s=t.handler,n=t);const a=kd(this),o=p_(r,s.bind(i),n);return a(),o}function u2(e,t){const n=t.split(".");return()=>{let i=e;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const c3=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e["".concat(t,"Modifiers")]||e["".concat(cr(t),"Modifiers")]||e["".concat(ga(t),"Modifiers")];function d3(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Yt;let r=n;const s=t.startsWith("update:"),a=s&&c3(i,t.slice(7));a&&(a.trim&&(r=n.map(c=>Xt(c)?c.trim():c)),a.number&&(r=n.map(Jy)));let o,l=i[o=mg(t)]||i[o=mg(cr(t))];!l&&s&&(l=i[o=mg(ga(t))]),l&&qr(l,e,6,r);const u=i[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,qr(u,e,6,r)}}const f3=new WeakMap;function c2(e,t,n=!1){const i=n?f3:t.emitsCache,r=i.get(e);if(r!==void 0)return r;const s=e.emits;let a={},o=!1;if(!ft(e)){const l=u=>{const c=c2(u,t,!0);c&&(o=!0,Qn(a,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!o?(Qt(e)&&i.set(e,null),null):(st(s)?s.forEach(l=>a[l]=null):Qn(a,s),Qt(e)&&i.set(e,a),a)}function qp(e,t){return!e||!Mp(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ft(e,t[0].toLowerCase()+t.slice(1))||Ft(e,ga(t))||Ft(e,t))}function SA(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:a,attrs:o,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:m,inheritAttrs:p}=e,g=Fh(e);let _,y;try{if(n.shapeFlag&4){const A=r||i,T=A;_=ms(u.call(T,A,c,d,h,f,m)),y=o}else{const A=t;_=ms(A.length>1?A(d,{attrs:o,slots:a,emit:l}):A(d,null)),y=t.props?o:h3(o)}}catch(A){Uc.length=0,wd(A,e,1),_=x($n)}let b=_;if(y&&p!==!1){const A=Object.keys(y),{shapeFlag:T}=b;A.length&&T&7&&(s&&A.some(Ky)&&(y=p3(y,s)),b=ca(b,y,!1,!0))}return n.dirs&&(b=ca(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&nu(b,n.transition),_=b,Fh(g),_}const h3=e=>{let t;for(const n in e)(n==="class"||n==="style"||Mp(n))&&((t||(t={}))[n]=e[n]);return t},p3=(e,t)=>{const n={};for(const i in e)(!Ky(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function m3(e,t,n){const{props:i,children:r,component:s}=e,{props:a,children:o,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?xA(i,a,u):!!a;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(a[f]!==i[f]&&!qp(u,f))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?xA(i,a,u):!0:!!a;return!1}function xA(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!qp(n,s))return!0}return!1}function g3({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const zh=e=>e.__isSuspense;function v3(e,t){t&&t.pendingBranch?st(e)?t.effects.push(...e):t.effects.push(e):kB(e)}const ct=Symbol.for("v-fgt"),Su=Symbol.for("v-txt"),$n=Symbol.for("v-cmt"),ph=Symbol.for("v-stc"),Uc=[];let qi=null;function je(e=!1){Uc.push(qi=e?null:[])}function y3(){Uc.pop(),qi=Uc[Uc.length-1]||null}let id=1;function qh(e,t=!1){id+=e,e<0&&qi&&t&&(qi.hasOnce=!0)}function d2(e){return e.dynamicChildren=id>0?qi||Fl:null,y3(),id>0&&qi&&qi.push(e),e}function ot(e,t,n,i,r,s){return d2(dt(e,t,n,i,r,s,!0))}function wt(e,t,n,i,r){return d2(x(e,t,n,i,r,!0))}function Wr(e){return e?e.__v_isVNode===!0:!1}function Ga(e,t){return e.type===t.type&&e.key===t.key}const f2=({key:e})=>e!=null?e:null,mh=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Xt(e)||xt(e)||ft(e)?{i:ni,r:e,k:t,f:!!n}:e:null);function dt(e,t=null,n=null,i=0,r=null,s=e===ct?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&f2(t),ref:t&&mh(t),scopeId:Nw,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ni};return o?(m_(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Xt(n)?8:16),id>0&&!a&&qi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&qi.push(l),l}const x=_3;function _3(e,t=null,n=null,i=0,r=null,s=!1){if((!e||e===Yw)&&(e=$n),Wr(e)){const o=ca(e,t,!0);return n&&m_(o,n),id>0&&!s&&qi&&(o.shapeFlag&6?qi[qi.indexOf(e)]=o:qi.push(o)),o.patchFlag=-2,o}if(D3(e)&&(e=e.__vccOpts),t){t=b3(t);let{class:o,style:l}=t;o&&!Xt(o)&&(t.class=Vt(o)),Qt(l)&&(a_(l)&&!st(l)&&(l=Qn({},l)),t.style=xs(l))}const a=Xt(e)?1:zh(e)?128:Fw(e)?64:Qt(e)?4:ft(e)?2:0;return dt(e,t,n,i,r,a,s,!0)}function b3(e){return e?a_(e)||n2(e)?Qn({},e):e:null}function ca(e,t,n=!1,i=!1){const{props:r,ref:s,patchFlag:a,children:o,transition:l}=e,u=t?tt(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&f2(u),ref:t&&t.ref?n&&s?st(s)?s.concat(mh(t)):[s,mh(t)]:mh(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ct?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ca(e.ssContent),ssFallback:e.ssFallback&&ca(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&nu(c,l.clone(c)),c}function ci(e=" ",t=0){return x(Su,null,e,t)}function zce(e,t){const n=x(ph,null,e);return n.staticCount=t,n}function zt(e="",t=!1){return t?(je(),wt($n,null,e)):x($n,null,e)}function ms(e){return e==null||typeof e=="boolean"?x($n):st(e)?x(ct,null,e.slice()):Wr(e)?Ha(e):x(Su,null,String(e))}function Ha(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ca(e)}function m_(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(st(t))n=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),m_(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!n2(t)?t._ctx=ni:r===3&&ni&&(ni.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ft(t)?(t={default:t,_ctx:ni},n=32):(t=String(t),i&64?(n=16,t=[ci(t)]):n=8);e.children=t,e.shapeFlag|=n}function tt(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=Vt([t.class,i.class]));else if(r==="style")t.style=xs([t.style,i.style]);else if(Mp(r)){const s=t[r],a=i[r];a&&s!==a&&!(st(s)&&s.includes(a))&&(t[r]=s?[].concat(s,a):a)}else r!==""&&(t[r]=i[r])}return t}function rr(e,t,n,i=null){qr(e,t,7,[n,i])}const T3=Zw();let A3=0;function S3(e,t,n){const i=e.type,r=(t?t.appContext:e.appContext)||T3,s={uid:A3++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new fw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:r2(i,r),emitsOptions:c2(i,r),emit:null,emitted:null,propsDefaults:Yt,inheritAttrs:i.inheritAttrs,ctx:Yt,data:Yt,props:Yt,attrs:Yt,slots:Yt,refs:Yt,setupState:Yt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=d3.bind(null,s),e.ce&&e.ce(s),s}let ti=null;const mn=()=>ti||ni;let Wh,c0;{const e=Fp(),t=(n,i)=>{let r;return(r=e[n])||(r=e[n]=[]),r.push(i),s=>{r.length>1?r.forEach(a=>a(s)):r[0](s)}};Wh=t("__VUE_INSTANCE_SETTERS__",n=>ti=n),c0=t("__VUE_SSR_SETTERS__",n=>iu=n)}const kd=e=>{const t=ti;return Wh(e),e.scope.on(),()=>{e.scope.off(),Wh(t)}},EA=()=>{ti&&ti.scope.off(),Wh(null)};function h2(e){return e.vnode.shapeFlag&4}let iu=!1;function x3(e,t=!1,n=!1){t&&c0(t);const{props:i,children:r}=e.vnode,s=h2(e);QB(e,i,s,t),t3(e,r,n||t);const a=s?E3(e,t):void 0;return t&&c0(!1),a}function E3(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,HB);const{setup:i}=n;if(i){la();const r=e.setupContext=i.length>1?w3(e):null,s=kd(e),a=Cd(i,e,0,[e.props,r]),o=sw(a);if(ua(),s(),(o||e.sp)&&!Mo(e)&&l_(e),o){if(a.then(EA,EA),t)return a.then(l=>{CA(e,l)}).catch(l=>{wd(l,e,0)});e.asyncDep=a}else CA(e,a)}else p2(e)}function CA(e,t,n){ft(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Qt(t)&&(e.setupState=Ow(t)),p2(e)}function p2(e,t,n){const i=e.type;e.render||(e.render=i.render||Br);{const r=kd(e);la();try{zB(e)}finally{ua(),r()}}}const C3={get(e,t){return li(e,"get",""),e[t]}};function w3(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,C3),slots:e.slots,emit:e.emit,expose:t}}function Wp(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ow(Lr(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in $c)return $c[n](e)},has(t,n){return n in t||n in $c}})):e.proxy}function d0(e,t=!0){return ft(e)?e.displayName||e.name:e.name||t&&e.__name}function D3(e){return ft(e)&&"__vccOpts"in e}const fe=(e,t)=>xB(e,t,iu);function Es(e,t,n){try{qh(-1);const i=arguments.length;return i===2?Qt(t)&&!st(t)?Wr(t)?x(e,null,[t]):x(e,t):x(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Wr(n)&&(n=[n]),x(e,t,n))}finally{qh(1)}}const k3="3.5.24",O3=Br;/**
* @vue/runtime-dom v3.5.24
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let f0;const wA=typeof window<"u"&&window.trustedTypes;if(wA)try{f0=wA.createPolicy("vue",{createHTML:e=>e})}catch(e){}const m2=f0?e=>f0.createHTML(e):e=>e,I3="http://www.w3.org/2000/svg",P3="http://www.w3.org/1998/Math/MathML",qs=typeof document<"u"?document:null,DA=qs&&qs.createElement("template"),R3={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t==="svg"?qs.createElementNS(I3,e):t==="mathml"?qs.createElementNS(P3,e):n?qs.createElement(e,{is:n}):qs.createElement(e);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>qs.createTextNode(e),createComment:e=>qs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>qs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,s){const a=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{DA.innerHTML=m2(i==="svg"?"<svg>".concat(e,"</svg>"):i==="mathml"?"<math>".concat(e,"</math>"):e);const o=DA.content;if(i==="svg"||i==="mathml"){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Oa="transition",oc="animation",rd=Symbol("_vtc"),g2={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},L3=Qn({},Vw,g2),M3=e=>(e.displayName="Transition",e.props=L3,e),Od=M3((e,{slots:t})=>Es(RB,N3(e),t)),yo=(e,t=[])=>{st(e)?e.forEach(n=>n(...t)):e&&e(...t)},kA=e=>e?st(e)?e.some(t=>t.length>1):e.length>1:!1;function N3(e){const t={};for(const L in e)L in g2||(t[L]=e[L]);if(e.css===!1)return t;const{name:n="v",type:i,duration:r,enterFromClass:s="".concat(n,"-enter-from"),enterActiveClass:a="".concat(n,"-enter-active"),enterToClass:o="".concat(n,"-enter-to"),appearFromClass:l=s,appearActiveClass:u=a,appearToClass:c=o,leaveFromClass:d="".concat(n,"-leave-from"),leaveActiveClass:f="".concat(n,"-leave-active"),leaveToClass:h="".concat(n,"-leave-to")}=e,m=B3(r),p=m&&m[0],g=m&&m[1],{onBeforeEnter:_,onEnter:y,onEnterCancelled:b,onLeave:A,onLeaveCancelled:T,onBeforeAppear:k=_,onAppear:O=y,onAppearCancelled:I=b}=t,w=(L,B,N,$)=>{L._enterCancelled=$,_o(L,B?c:o),_o(L,B?u:a),N&&N()},D=(L,B)=>{L._isLeaving=!1,_o(L,d),_o(L,h),_o(L,f),B&&B()},R=L=>(B,N)=>{const $=L?O:y,F=()=>w(B,L,N);yo($,[B,F]),OA(()=>{_o(B,L?l:s),Ns(B,L?c:o),kA($)||IA(B,i,p,F)})};return Qn(t,{onBeforeEnter(L){yo(_,[L]),Ns(L,s),Ns(L,a)},onBeforeAppear(L){yo(k,[L]),Ns(L,l),Ns(L,u)},onEnter:R(!1),onAppear:R(!0),onLeave(L,B){L._isLeaving=!0;const N=()=>D(L,B);Ns(L,d),L._enterCancelled?(Ns(L,f),LA(L)):(LA(L),Ns(L,f)),OA(()=>{L._isLeaving&&(_o(L,d),Ns(L,h),kA(A)||IA(L,i,g,N))}),yo(A,[L,N])},onEnterCancelled(L){w(L,!1,void 0,!0),yo(b,[L])},onAppearCancelled(L){w(L,!0,void 0,!0),yo(I,[L])},onLeaveCancelled(L){D(L),yo(T,[L])}})}function B3(e){if(e==null)return null;if(Qt(e))return[xg(e.enter),xg(e.leave)];{const t=xg(e);return[t,t]}}function xg(e){return zN(e)}function Ns(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[rd]||(e[rd]=new Set)).add(t)}function _o(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[rd];n&&(n.delete(t),n.size||(e[rd]=void 0))}function OA(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let F3=0;function IA(e,t,n,i){const r=e._endId=++F3,s=()=>{r===e._endId&&i()};if(n!=null)return setTimeout(s,n);const{type:a,timeout:o,propCount:l}=$3(e,t);if(!a)return i();const u=a+"end";let c=0;const d=()=>{e.removeEventListener(u,f),s()},f=h=>{h.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},o+1),e.addEventListener(u,f)}function $3(e,t){const n=window.getComputedStyle(e),i=m=>(n[m]||"").split(", "),r=i("".concat(Oa,"Delay")),s=i("".concat(Oa,"Duration")),a=PA(r,s),o=i("".concat(oc,"Delay")),l=i("".concat(oc,"Duration")),u=PA(o,l);let c=null,d=0,f=0;t===Oa?a>0&&(c=Oa,d=a,f=s.length):t===oc?u>0&&(c=oc,d=u,f=l.length):(d=Math.max(a,u),c=d>0?a>u?Oa:oc:null,f=c?c===Oa?s.length:l.length:0);const h=c===Oa&&/\b(?:transform|all)(?:,|$)/.test(i("".concat(Oa,"Property")).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function PA(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>RA(n)+RA(e[i])))}function RA(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function LA(e){return(e?e.ownerDocument:document).body.offsetHeight}function U3(e,t,n){const i=e[rd];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Gh=Symbol("_vod"),v2=Symbol("_vsh"),On={name:"show",beforeMount(e,{value:t},{transition:n}){e[Gh]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):lc(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),lc(e,!0),i.enter(e)):i.leave(e,()=>{lc(e,!1)}):lc(e,t))},beforeUnmount(e,{value:t}){lc(e,t)}};function lc(e,t){e.style.display=t?e[Gh]:"none",e[v2]=!t}const V3=Symbol(""),j3=/(?:^|;)\s*display\s*:/;function H3(e,t,n){const i=e.style,r=Xt(n);let s=!1;if(n&&!r){if(t)if(Xt(t))for(const a of t.split(";")){const o=a.slice(0,a.indexOf(":")).trim();n[o]==null&&gh(i,o,"")}else for(const a in t)n[a]==null&&gh(i,a,"");for(const a in n)a==="display"&&(s=!0),gh(i,a,n[a])}else if(r){if(t!==n){const a=i[V3];a&&(n+=";"+a),i.cssText=n,s=j3.test(n)}}else t&&e.removeAttribute("style");Gh in e&&(e[Gh]=s?i.display:"",e[v2]&&(i.display="none"))}const MA=/\s*!important$/;function gh(e,t,n){if(st(n))n.forEach(i=>gh(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=z3(e,t);MA.test(n)?e.setProperty(ga(i),n.replace(MA,""),"important"):e[i]=n}}const NA=["Webkit","Moz","ms"],Eg={};function z3(e,t){const n=Eg[t];if(n)return n;let i=cr(t);if(i!=="filter"&&i in e)return Eg[t]=i;i=Bp(i);for(let r=0;r<NA.length;r++){const s=NA[r]+i;if(s in e)return Eg[t]=s}return t}const BA="http://www.w3.org/1999/xlink";function FA(e,t,n,i,r,s=QN(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(BA,t.slice(6,t.length)):e.setAttributeNS(BA,t,n):n==null||s&&!uw(n)?e.removeAttribute(t):e.setAttribute(t,s?"":ma(n)?String(n):n)}function $A(e,t,n,i,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?m2(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(o!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=uw(n):n==null&&o==="string"?(n="",a=!0):o==="number"&&(n=0,a=!0)}try{e[t]=n}catch(o){}a&&e.removeAttribute(r||t)}function kl(e,t,n,i){e.addEventListener(t,n,i)}function q3(e,t,n,i){e.removeEventListener(t,n,i)}const UA=Symbol("_vei");function W3(e,t,n,i,r=null){const s=e[UA]||(e[UA]={}),a=s[t];if(i&&a)a.value=i;else{const[o,l]=G3(t);if(i){const u=s[t]=X3(i,r);kl(e,o,u,l)}else a&&(q3(e,o,a,l),s[t]=void 0)}}const VA=/(?:Once|Passive|Capture)$/;function G3(e){let t;if(VA.test(e)){t={};let i;for(;i=e.match(VA);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ga(e.slice(2)),t]}let Cg=0;const Y3=Promise.resolve(),K3=()=>Cg||(Y3.then(()=>Cg=0),Cg=Date.now());function X3(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;qr(Q3(i,n.value),t,5,[i])};return n.value=e,n.attached=K3(),n}function Q3(e,t){if(st(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const jA=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,J3=(e,t,n,i,r,s)=>{const a=r==="svg";t==="class"?U3(e,i,a):t==="style"?H3(e,n,i):Mp(t)?Ky(t)||W3(e,t,n,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Z3(e,t,i,a))?($A(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&FA(e,t,i,a,s,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Xt(i))?$A(e,cr(t),i,s,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),FA(e,t,i,a))};function Z3(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&jA(t)&&ft(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&e.tagName==="IFRAME"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return jA(t)&&Xt(n)?!1:t in e}const HA=e=>{const t=e.props["onUpdate:modelValue"]||!1;return st(t)?n=>Ul(t,n):t};function eF(e){e.target.composing=!0}function zA(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const wg=Symbol("_assign");function qA(e,t,n){return t&&(e=e.trim()),n&&(e=Jy(e)),e}const tF={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[wg]=HA(r);const s=i||r.props&&r.props.type==="number";kl(e,t?"change":"input",a=>{a.target.composing||e[wg](qA(e.value,n,s))}),(n||s)&&kl(e,"change",()=>{e.value=qA(e.value,n,s)}),t||(kl(e,"compositionstart",eF),kl(e,"compositionend",zA),kl(e,"change",zA))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:s}},a){if(e[wg]=HA(a),e.composing)return;const o=(s||e.type==="number")&&!/^0\d/.test(e.value)?Jy(e.value):e.value,l=t==null?"":t;o!==l&&(document.activeElement===e&&e.type!=="range"&&(i&&t===n||r&&e.value.trim()===l)||(e.value=l))}},nF=["ctrl","shift","alt","meta"],iF={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>nF.some(n=>e["".concat(n,"Key")]&&!t.includes(n))},rF=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=((r,...s)=>{for(let a=0;a<t.length;a++){const o=iF[t[a]];if(o&&o(r,t))return}return e(r,...s)}))},sF={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},aF=(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=(r=>{if(!("key"in r))return;const s=ga(r.key);if(t.some(a=>a===s||sF[a]===s))return e(r)}))},oF=Qn({patchProp:J3},R3);let WA;function lF(){return WA||(WA=i3(oF))}const g_=((...e)=>{const t=lF().createApp(...e),{mount:n}=t;return t.mount=i=>{const r=cF(i);if(!r)return;const s=t._component;!ft(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const a=n(r,!1,uF(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t});function uF(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function cF(e){return Xt(e)?document.querySelector(e):e}function h0(){}const et=Object.assign,$i=typeof window<"u",dr=e=>e!==null&&typeof e=="object",Ot=e=>e!=null,ru=e=>typeof e=="function",v_=e=>dr(e)&&ru(e.then)&&ru(e.catch),sd=e=>Object.prototype.toString.call(e)==="[object Date]"&&!Number.isNaN(e.getTime());function y2(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const _2=e=>typeof e=="number"||/^\d+(\.\d+)?$/.test(e),dF=()=>$i?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function GA(e,t){const n=t.split(".");let i=e;return n.forEach(r=>{var s;i=dr(i)&&(s=i[r])!=null?s:""}),i}function Rt(e,t,n){return t.reduce((i,r)=>((!n||e[r]!==void 0)&&(i[r]=e[r]),i),{})}const As=(e,t)=>JSON.stringify(e)===JSON.stringify(t),Yh=e=>Array.isArray(e)?e:[e],fF=e=>e.reduce((t,n)=>t.concat(n),[]),pn=null,Fe=[Number,String],Le={type:Boolean,default:!0},Gn=e=>({type:e,required:!0}),cn=()=>({type:Array,default:()=>[]}),Un=e=>({type:Number,default:e}),qe=e=>({type:Fe,default:e}),Ue=e=>({type:String,default:e});var to=typeof window<"u";function di(e){return to?requestAnimationFrame(e):-1}function Gp(e){to&&cancelAnimationFrame(e)}function Ya(e){di(()=>di(e))}var hF=e=>e===window,YA=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),Lt=e=>{const t=Ge(e);if(hF(t)){const n=t.innerWidth,i=t.innerHeight;return YA(n,i)}return t!=null&&t.getBoundingClientRect?t.getBoundingClientRect():YA(0,0)};function pF(e=!1){const t=ie(e);return[t,(i=!t.value)=>{t.value=i}]}function ii(e){const t=En(e,null);if(t){const n=mn(),{link:i,unlink:r,internalChildren:s}=t;i(n),Xr(()=>r(n));const a=fe(()=>s.indexOf(n));return{parent:t,index:a}}return{parent:null,index:ie(-1)}}function mF(e){const t=[],n=i=>{Array.isArray(i)&&i.forEach(r=>{var s;Wr(r)&&(t.push(r),(s=r.component)!=null&&s.subTree&&(t.push(r.component.subTree),n(r.component.subTree.children)),r.children&&n(r.children))})};return n(e),t}var KA=(e,t)=>{const n=e.indexOf(t);return n===-1?e.findIndex(i=>t.key!==void 0&&t.key!==null&&i.type===t.type&&i.key===t.key):n};function gF(e,t,n){const i=mF(e.subTree.children);n.sort((s,a)=>KA(i,s.vnode)-KA(i,a.vnode));const r=n.map(s=>s.proxy);t.sort((s,a)=>{const o=r.indexOf(s),l=r.indexOf(a);return o-l})}function gi(e){const t=vt([]),n=vt([]),i=mn();return{children:t,linkChildren:s=>{$r(e,Object.assign({link:l=>{l.proxy&&(n.push(l),t.push(l.proxy),gF(i,t,n))},unlink:l=>{const u=n.indexOf(l);t.splice(u,1),n.splice(u,1)},children:t,internalChildren:n},s))}}}var p0=1e3,m0=60*p0,g0=60*m0,XA=24*g0;function vF(e){const t=Math.floor(e/XA),n=Math.floor(e%XA/g0),i=Math.floor(e%g0/m0),r=Math.floor(e%m0/p0),s=Math.floor(e%p0);return{total:e,days:t,hours:n,minutes:i,seconds:r,milliseconds:s}}function yF(e,t){return Math.floor(e/1e3)===Math.floor(t/1e3)}function _F(e){let t,n,i,r;const s=ie(e.time),a=fe(()=>vF(s.value)),o=()=>{i=!1,Gp(t)},l=()=>Math.max(n-Date.now(),0),u=p=>{var g,_;s.value=p,(g=e.onChange)==null||g.call(e,a.value),p===0&&(o(),(_=e.onFinish)==null||_.call(e))},c=()=>{t=di(()=>{i&&(u(l()),s.value>0&&c())})},d=()=>{t=di(()=>{if(i){const p=l();(!yF(p,s.value)||p===0)&&u(p),s.value>0&&d()}})},f=()=>{to&&(e.millisecond?c():d())},h=()=>{i||(n=Date.now()+s.value,i=!0,f())},m=(p=e.time)=>{o(),s.value=p};return Oi(o),gr(()=>{r&&(i=!0,r=!1,f())}),vr(()=>{i&&(o(),r=!0)}),{start:h,pause:o,reset:m,current:a}}function xu(e){let t;Et(()=>{e(),Ke(()=>{t=!0})}),gr(()=>{t&&e()})}function Cn(e,t,n={}){if(!to)return;const{target:i=window,passive:r=!1,capture:s=!1}=n;let a=!1,o;const l=d=>{if(a)return;const f=Ge(d);f&&!o&&(f.addEventListener(e,t,{capture:s,passive:r}),o=!0)},u=d=>{if(a)return;const f=Ge(d);f&&o&&(f.removeEventListener(e,t,s),o=!1)};Xr(()=>u(i)),vr(()=>u(i)),xu(()=>l(i));let c;return xt(i)&&(c=De(i,(d,f)=>{u(f),l(d)})),()=>{c==null||c(),u(i),a=!0}}function Yp(e,t,n={}){if(!to)return;const{eventName:i="click"}=n;Cn(i,s=>{(Array.isArray(e)?e:[e]).every(l=>{const u=Ge(l);return u&&!u.contains(s.target)})&&t(s)},{target:document})}var If,Dg;function bF(){if(!If&&(If=ie(0),Dg=ie(0),to)){const e=()=>{If.value=window.innerWidth,Dg.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:If,height:Dg}}var TF=/scroll|auto|overlay/i,b2=to?window:void 0;function AF(e){return e.tagName!=="HTML"&&e.tagName!=="BODY"&&e.nodeType===1}function y_(e,t=b2){let n=e;for(;n&&n!==t&&AF(n);){const{overflowY:i}=window.getComputedStyle(n);if(TF.test(i))return n;n=n.parentNode}return t}function Eu(e,t=b2){const n=ie();return Et(()=>{e.value&&(n.value=y_(e.value,t))}),n}var Pf;function SF(){if(!Pf&&(Pf=ie("visible"),to)){const e=()=>{Pf.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return Pf}var T2=Symbol("van-field");function no(e){const t=En(T2,null);t&&!t.customValue.value&&(t.customValue.value=e,De(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function da(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function Kh(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function Bo(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function ad(e){Kh(window,e),Kh(document.body,e)}function QA(e,t){if(e===window)return 0;const n=t?da(t):Bo();return Lt(e).top+n}const xF=dF();function A2(){xF&&ad(Bo())}const __=e=>e.stopPropagation();function rn(e,t){(typeof e.cancelable!="boolean"||e.cancelable)&&e.preventDefault(),t&&__(e)}function Ko(e){const t=Ge(e);if(!t)return!1;const n=window.getComputedStyle(t),i=n.display==="none",r=t.offsetParent===null&&n.position!=="fixed";return i||r}const{width:Ur,height:lr}=bF();function EF(e){const t=window.getComputedStyle(e);return t.transform!=="none"||t.perspective!=="none"||["transform","perspective","filter"].some(n=>(t.willChange||"").includes(n))}function CF(e){let t=e.parentElement;for(;t;){if(t&&t.tagName!=="HTML"&&t.tagName!=="BODY"&&EF(t))return t;t=t.parentElement}return null}function mt(e){if(Ot(e))return _2(e)?"".concat(e,"px"):String(e)}function ba(e){if(Ot(e)){if(Array.isArray(e))return{width:mt(e[0]),height:mt(e[1])};const t=mt(e);return{width:t,height:t}}}function Ta(e){const t={};return e!==void 0&&(t.zIndex=+e),t}let kg;function wF(){if(!kg){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;kg=parseFloat(t)}return kg}function DF(e){return e=e.replace(/rem/g,""),+e*wF()}function kF(e){return e=e.replace(/vw/g,""),+e*Ur.value/100}function OF(e){return e=e.replace(/vh/g,""),+e*lr.value/100}function b_(e){if(typeof e=="number")return e;if($i){if(e.includes("rem"))return DF(e);if(e.includes("vw"))return kF(e);if(e.includes("vh"))return OF(e)}return parseFloat(e)}const IF=/-(\w)/g,S2=e=>e.replace(IF,(t,n)=>n.toUpperCase()),PF=e=>e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"");function Rr(e,t=2){let n=e+"";for(;n.length<t;)n="0"+n;return n}const qn=(e,t,n)=>Math.min(Math.max(e,t),n);function JA(e,t,n){const i=e.indexOf(t);return i===-1?e:t==="-"&&i!==0?e.slice(0,i):e.slice(0,i+1)+e.slice(i).replace(n,"")}function v0(e,t=!0,n=!0){t?e=JA(e,".",/\./g):e=e.split(".")[0],n?e=JA(e,"-",/-/g):e=e.replace(/-/,"");const i=t?/[^-0-9.]/g:/[^-0-9]/g;return e.replace(i,"")}function x2(e,t){return Math.round((e+t)*1e10)/1e10}const{hasOwnProperty:RF}=Object.prototype;function LF(e,t,n){const i=t[n];Ot(i)&&(!RF.call(e,n)||!dr(i)?e[n]=i:e[n]=E2(Object(e[n]),i))}function E2(e,t){return Object.keys(t).forEach(n=>{LF(e,t,n)}),e}var C2={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(e,t)=>"".concat(e,"").concat(t,""),rangePrompt:e=>" ".concat(e," ")},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:e=>"".concat(e,""),condition:e=>"".concat(e,"")},vanCouponCell:{title:"",count:e=>"".concat(e,"")},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const ZA=ie("zh-CN"),e1=vt({"zh-CN":C2}),T_={messages(){return e1[ZA.value]},use(e,t){ZA.value=e,this.add({[e]:t})},add(e={}){E2(e1,e)}};var MF=T_;function NF(e){const t=S2(e)+".";return(n,...i)=>{const r=MF.messages(),s=GA(r,t+n)||GA(r,n);return ru(s)?s(...i):s}}function y0(e,t){return t?typeof t=="string"?" ".concat(e,"--").concat(t):Array.isArray(t)?t.reduce((n,i)=>n+y0(e,i),""):Object.keys(t).reduce((n,i)=>n+(t[i]?y0(e,i):""),""):""}function BF(e){return(t,n)=>(t&&typeof t!="string"&&(n=t,t=""),t=t?"".concat(e,"__").concat(t):e,"".concat(t).concat(y0(t,n)))}function Me(e){const t="van-".concat(e);return[t,BF(t),NF(t)]}const Aa="van-hairline",w2="".concat(Aa,"--top"),D2="".concat(Aa,"--left"),FF="".concat(Aa,"--right"),A_="".concat(Aa,"--bottom"),Vc="".concat(Aa,"--surround"),Kp="".concat(Aa,"--top-bottom"),$F="".concat(Aa,"-unset--top-bottom"),mi="van-haptics-feedback",k2=Symbol("van-form"),O2=500,t1=5;function io(e,{args:t=[],done:n,canceled:i,error:r}){if(e){const s=e.apply(null,t);v_(s)?s.then(a=>{a?n():i&&i()}).catch(r||h0):s?n():i&&i()}else n()}function $e(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(S2("-".concat(n)),e))},e}function Xh(e,t){return e.reduce((n,i)=>Math.abs(n-t)<Math.abs(i-t)?n:i)}const I2=Symbol();function Xp(e){const t=En(I2,null);t&&De(t,n=>{n&&e()})}const P2=(e,t)=>{const n=ie(),i=()=>{n.value=Lt(e).height};return Et(()=>{if(Ke(i),t)for(let r=1;r<=3;r++)setTimeout(i,100*r)}),Xp(()=>Ke(i)),De([Ur,lr],i),n};function Qp(e,t){const n=P2(e,!0);return i=>x("div",{class:t("placeholder"),style:{height:n.value?"".concat(n.value,"px"):void 0}},[i()])}const[R2,n1]=Me("action-bar"),S_=Symbol(R2),UF={placeholder:Boolean,safeAreaInsetBottom:Le};var VF=Se({name:R2,props:UF,setup(e,{slots:t}){const n=ie(),i=Qp(n,n1),{linkChildren:r}=gi(S_);r();const s=()=>{var a;return x("div",{ref:n,class:[n1(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(a=t.default)==null?void 0:a.call(t)])};return()=>e.placeholder?i(s):s()}});const L2=$e(VF);function Ct(e){const t=mn();t&&et(t.proxy,e)}const ro={to:[String,Object],url:String,replace:Boolean};function M2({to:e,url:t,replace:n,$router:i}){e&&i?i[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function nl(){const e=mn().proxy;return()=>M2(e)}const[jF,i1]=Me("badge"),HF={dot:Boolean,max:Fe,tag:Ue("div"),color:String,offset:Array,content:Fe,showZero:Le,position:Ue("top-right")};var zF=Se({name:jF,props:HF,setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:o,showZero:l}=e;return Ot(o)&&o!==""&&(l||o!==0&&o!=="0")},i=()=>{const{dot:o,max:l,content:u}=e;if(!o&&n())return t.content?t.content():Ot(l)&&_2(u)&&+u>+l?"".concat(l,"+"):u},r=o=>o.startsWith("-")?o.replace("-",""):"-".concat(o),s=fe(()=>{const o={background:e.color};if(e.offset){const[l,u]=e.offset,{position:c}=e,[d,f]=c.split("-");t.default?(typeof u=="number"?o[d]=mt(d==="top"?u:-u):o[d]=d==="top"?mt(u):r(u),typeof l=="number"?o[f]=mt(f==="left"?l:-l):o[f]=f==="left"?mt(l):r(l)):(o.marginTop=mt(u),o.marginLeft=mt(l))}return o}),a=()=>{if(n()||e.dot)return x("div",{class:i1([e.position,{dot:e.dot,fixed:!!t.default}]),style:s.value},[i()])};return()=>{if(t.default){const{tag:o}=e;return x(o,{class:i1("wrapper")},{default:()=>[t.default(),a()]})}return a()}}});const so=$e(zF);let N2=2e3;const qF=()=>++N2,WF=e=>{N2=e},[B2,GF]=Me("config-provider"),F2=Symbol(B2),YF={tag:Ue("div"),theme:Ue("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:Ue("local"),iconPrefix:String};function KF(e){return e.replace(/([a-zA-Z])(\d)/g,"$1-$2")}function XF(e){const t={};return Object.keys(e).forEach(n=>{const i=KF(PF(n));t["--van-".concat(i)]=e[n]}),t}function Rf(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(n=>{e[n]||document.documentElement.style.removeProperty(n)})}var QF=Se({name:B2,props:YF,setup(e,{slots:t}){const n=fe(()=>XF(et({},e.themeVars,e.theme==="dark"?e.themeVarsDark:e.themeVarsLight)));if($i){const i=()=>{document.documentElement.classList.add("van-theme-".concat(e.theme))},r=(s=e.theme)=>{document.documentElement.classList.remove("van-theme-".concat(s))};De(()=>e.theme,(s,a)=>{a&&r(a),i()},{immediate:!0}),gr(i),vr(r),Oi(r),De(n,(s,a)=>{e.themeVarsScope==="global"&&Rf(s,a)}),De(()=>e.themeVarsScope,(s,a)=>{a==="global"&&Rf({},n.value),s==="global"&&Rf(n.value,{})}),e.themeVarsScope==="global"&&Rf(n.value,{})}return $r(F2,e),_a(()=>{e.zIndex!==void 0&&WF(e.zIndex)}),()=>x(e.tag,{class:GF(),style:e.themeVarsScope==="local"?n.value:void 0},{default:()=>{var i;return[(i=t.default)==null?void 0:i.call(t)]}})}});const[JF,r1]=Me("icon"),ZF=e=>e==null?void 0:e.includes("/"),e4={dot:Boolean,tag:Ue("i"),name:String,size:Fe,badge:Fe,color:String,badgeProps:Object,classPrefix:String};var t4=Se({name:JF,props:e4,setup(e,{slots:t}){const n=En(F2,null),i=fe(()=>e.classPrefix||(n==null?void 0:n.iconPrefix)||r1());return()=>{const{tag:r,dot:s,name:a,size:o,badge:l,color:u}=e,c=ZF(a);return x(so,tt({dot:s,tag:r,class:[i.value,c?"":"".concat(i.value,"-").concat(a)],style:{color:u,fontSize:mt(o)},content:l},e.badgeProps),{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t),c&&x("img",{class:r1("image"),src:a},null)]}})}}});const pt=$e(t4);var n4=pt;const[i4,jc]=Me("loading"),r4=Array(12).fill(null).map((e,t)=>x("i",{class:jc("line",String(t+1))},null)),s4=x("svg",{class:jc("circular"),viewBox:"25 25 50 50"},[x("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),a4={size:Fe,type:Ue("circular"),color:String,vertical:Boolean,textSize:Fe,textColor:String};var o4=Se({name:i4,props:a4,setup(e,{slots:t}){const n=fe(()=>et({color:e.color},ba(e.size))),i=()=>{const s=e.type==="spinner"?r4:s4;return x("span",{class:jc("spinner",e.type),style:n.value},[t.icon?t.icon():s])},r=()=>{var s;if(t.default)return x("span",{class:jc("text"),style:{fontSize:mt(e.textSize),color:(s=e.textColor)!=null?s:e.color}},[t.default()])};return()=>{const{type:s,vertical:a}=e;return x("div",{class:jc([s,{vertical:a}]),"aria-live":"polite","aria-busy":!0},[i(),r()])}}});const yr=$e(o4),[l4,cl]=Me("button"),u4=et({},ro,{tag:Ue("button"),text:String,icon:String,type:Ue("default"),size:Ue("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Ue("button"),loadingSize:Fe,loadingText:String,loadingType:String,iconPosition:Ue("left")});var c4=Se({name:l4,props:u4,emits:["click"],setup(e,{emit:t,slots:n}){const i=nl(),r=()=>n.loading?n.loading():x(yr,{size:e.loadingSize,type:e.loadingType,class:cl("loading")},null),s=()=>{if(e.loading)return r();if(n.icon)return x("div",{class:cl("icon")},[n.icon()]);if(e.icon)return x(pt,{name:e.icon,class:cl("icon"),classPrefix:e.iconPrefix},null)},a=()=>{let u;if(e.loading?u=e.loadingText:u=n.default?n.default():e.text,u)return x("span",{class:cl("text")},[u])},o=()=>{const{color:u,plain:c}=e;if(u){const d={color:c?u:"white"};return c||(d.background=u),u.includes("gradient")?d.border=0:d.borderColor=u,d}},l=u=>{e.loading?rn(u):e.disabled||(t("click",u),i())};return()=>{const{tag:u,type:c,size:d,block:f,round:h,plain:m,square:p,loading:g,disabled:_,hairline:y,nativeType:b,iconPosition:A}=e,T=[cl([c,d,{plain:m,block:f,round:h,square:p,loading:g,disabled:_,hairline:y}]),{[Vc]:y}];return x(u,{type:b,class:T,style:o(),disabled:_,onClick:l},{default:()=>[x("div",{class:cl("content")},[A==="left"&&s(),a(),A==="right"&&s()])]})}}});const Mn=$e(c4),[d4,f4]=Me("action-bar-button"),h4=et({},ro,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var p4=Se({name:d4,props:h4,setup(e,{slots:t}){const n=nl(),{parent:i,index:r}=ii(S_),s=fe(()=>{if(i){const o=i.children[r.value-1];return!(o&&"isButton"in o)}}),a=fe(()=>{if(i){const o=i.children[r.value+1];return!(o&&"isButton"in o)}});return Ct({isButton:!0}),()=>{const{type:o,icon:l,text:u,color:c,loading:d,disabled:f}=e;return x(Mn,{class:f4([o,{last:a.value,first:s.value}]),size:"large",type:o,icon:l,color:c,loading:d,disabled:f,onClick:n},{default:()=>[t.default?t.default():u]})}}});const _0=$e(p4),[m4,Og]=Me("action-bar-icon"),g4=et({},ro,{dot:Boolean,text:String,icon:String,color:String,badge:Fe,iconClass:pn,badgeProps:Object,iconPrefix:String});var v4=Se({name:m4,props:g4,setup(e,{slots:t}){const n=nl();ii(S_);const i=()=>{const{dot:r,badge:s,icon:a,color:o,iconClass:l,badgeProps:u,iconPrefix:c}=e;return t.icon?x(so,tt({dot:r,class:Og("icon"),content:s},u),{default:t.icon}):x(pt,{tag:"div",dot:r,name:a,badge:s,color:o,class:[Og("icon"),l],badgeProps:u,classPrefix:c},null)};return()=>x("div",{role:"button",class:Og(),tabindex:0,onClick:n},[i(),t.default?t.default():e.text])}});const y4=$e(v4),Cu={show:Boolean,zIndex:Fe,overlay:Le,duration:Fe,teleport:[String,Object],lockScroll:Le,lazyRender:Le,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:pn,transitionAppear:Boolean,closeOnClickOverlay:Le},x_=Object.keys(Cu);function _4(e,t){return e>t?"horizontal":t>e?"vertical":""}function _r(){const e=ie(0),t=ie(0),n=ie(0),i=ie(0),r=ie(0),s=ie(0),a=ie(""),o=ie(!0),l=()=>a.value==="vertical",u=()=>a.value==="horizontal",c=()=>{n.value=0,i.value=0,r.value=0,s.value=0,a.value="",o.value=!0};return{move:h=>{const m=h.touches[0];n.value=(m.clientX<0?0:m.clientX)-e.value,i.value=m.clientY-t.value,r.value=Math.abs(n.value),s.value=Math.abs(i.value);const p=10;(!a.value||r.value<p&&s.value<p)&&(a.value=_4(r.value,s.value)),o.value&&(r.value>t1||s.value>t1)&&(o.value=!1)},start:h=>{c(),e.value=h.touches[0].clientX,t.value=h.touches[0].clientY},reset:c,startX:e,startY:t,deltaX:n,deltaY:i,offsetX:r,offsetY:s,direction:a,isVertical:l,isHorizontal:u,isTap:o}}let uc=0;const s1="van-overflow-hidden";function $2(e,t){const n=_r(),i="01",r="10",s=c=>{n.move(c);const d=n.deltaY.value>0?r:i,f=y_(c.target,e.value),{scrollHeight:h,offsetHeight:m,scrollTop:p}=f;let g="11";p===0?g=m>=h?"00":"01":p+m>=h&&(g="10"),g!=="11"&&n.isVertical()&&!(parseInt(g,2)&parseInt(d,2))&&rn(c,!0)},a=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",s,{passive:!1}),uc||document.body.classList.add(s1),uc++},o=()=>{uc&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",s),uc--,uc||document.body.classList.remove(s1))},l=()=>t()&&a(),u=()=>t()&&o();xu(l),vr(u),Oi(u),De(t,c=>{c?a():o()})}function E_(e){const t=ie(!1);return De(e,n=>{n&&(t.value=n)},{immediate:!0}),n=>()=>t.value?n():null}const Qh=()=>{var e;const{scopeId:t}=((e=mn())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[b4,T4]=Me("overlay"),A4={show:Boolean,zIndex:Fe,duration:Fe,className:pn,lockScroll:Le,lazyRender:Le,customStyle:Object,teleport:[String,Object]};var S4=Se({name:b4,inheritAttrs:!1,props:A4,setup(e,{attrs:t,slots:n}){const i=ie(),r=E_(()=>e.show||!e.lazyRender),s=o=>{e.lockScroll&&rn(o,!0)},a=r(()=>{var o;const l=et(Ta(e.zIndex),e.customStyle);return Ot(e.duration)&&(l.animationDuration="".concat(e.duration,"s")),un(x("div",tt({ref:i,style:l,class:[T4(),e.className]},t),[(o=n.default)==null?void 0:o.call(n)]),[[On,e.show]])});return Cn("touchmove",s,{target:i}),()=>{const o=x(Od,{name:"van-fade",appear:!0},{default:a});return e.teleport?x(va,{to:e.teleport},{default:()=>[o]}):o}}});const U2=$e(S4),x4=et({},Cu,{round:Boolean,position:Ue("center"),closeIcon:Ue("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Ue("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[E4,a1]=Me("popup");var C4=Se({name:E4,inheritAttrs:!1,props:x4,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:i}){let r,s;const a=ie(),o=ie(),l=E_(()=>e.show||!e.lazyRender),u=fe(()=>{const k={zIndex:a.value};if(Ot(e.duration)){const O=e.position==="center"?"animationDuration":"transitionDuration";k[O]="".concat(e.duration,"s")}return k}),c=()=>{r||(r=!0,a.value=e.zIndex!==void 0?+e.zIndex:qF(),t("open"))},d=()=>{r&&io(e.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},f=k=>{t("clickOverlay",k),e.closeOnClickOverlay&&d()},h=()=>{if(e.overlay){const k=et({show:e.show,class:e.overlayClass,zIndex:a.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},e.overlayProps);return x(U2,tt(k,Qh(),{onClick:f}),{default:i["overlay-content"]})}},m=k=>{t("clickCloseIcon",k),d()},p=()=>{if(e.closeable)return x(pt,{role:"button",tabindex:0,name:e.closeIcon,class:[a1("close-icon",e.closeIconPosition),mi],classPrefix:e.iconPrefix,onClick:m},null)};let g;const _=()=>{g&&clearTimeout(g),g=setTimeout(()=>{t("opened")})},y=()=>t("closed"),b=k=>t("keydown",k),A=l(()=>{var k;const{destroyOnClose:O,round:I,position:w,safeAreaInsetTop:D,safeAreaInsetBottom:R,show:L}=e;if(!(!L&&O))return un(x("div",tt({ref:o,style:u.value,role:"dialog",tabindex:0,class:[a1({round:I,[w]:w}),{"van-safe-area-top":D,"van-safe-area-bottom":R}],onKeydown:b},n,Qh()),[(k=i.default)==null?void 0:k.call(i),p()]),[[On,L]])}),T=()=>{const{position:k,transition:O,transitionAppear:I}=e,w=k==="center"?"van-fade":"van-popup-slide-".concat(k);return x(Od,{name:O||w,appear:I,onAfterEnter:_,onAfterLeave:y},{default:A})};return De(()=>e.show,k=>{k&&!r&&(c(),n.tabindex===0&&Ke(()=>{var O;(O=o.value)==null||O.focus()})),!k&&r&&(r=!1,t("close"))}),Ct({popupRef:o}),$2(o,()=>e.show&&e.lockScroll),Cn("popstate",()=>{e.closeOnPopstate&&(d(),s=!1)}),Et(()=>{e.show&&c()}),gr(()=>{s&&(t("update:show",!0),s=!1)}),vr(()=>{e.show&&e.teleport&&(d(),s=!0)}),$r(I2,()=>e.show),()=>e.teleport?x(va,{to:e.teleport},{default:()=>[h(),T()]}):x(ct,null,[h(),T()])}});const Jn=$e(C4),[w4,er]=Me("action-sheet"),D4=et({},Cu,{title:String,round:Le,actions:cn(),closeIcon:Ue("cross"),closeable:Le,cancelText:String,description:String,closeOnPopstate:Le,closeOnClickAction:Boolean,safeAreaInsetBottom:Le}),k4=[...x_,"round","closeOnPopstate","safeAreaInsetBottom"];var O4=Se({name:w4,props:D4,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:n}){const i=d=>n("update:show",d),r=()=>{i(!1),n("cancel")},s=()=>{if(e.title)return x("div",{class:er("header")},[e.title,e.closeable&&x(pt,{name:e.closeIcon,class:[er("close"),mi],onClick:r},null)])},a=()=>{if(t.cancel||e.cancelText)return[x("div",{class:er("gap")},null),x("button",{type:"button",class:er("cancel"),onClick:r},[t.cancel?t.cancel():e.cancelText])]},o=d=>{if(d.icon)return x(pt,{class:er("item-icon"),name:d.icon},null)},l=(d,f)=>d.loading?x(yr,{class:er("loading-icon")},null):t.action?t.action({action:d,index:f}):[x("span",{class:er("name")},[d.name]),d.subname&&x("div",{class:er("subname")},[d.subname])],u=(d,f)=>{const{color:h,loading:m,callback:p,disabled:g,className:_}=d,y=()=>{g||m||(p&&p(d),e.closeOnClickAction&&i(!1),Ke(()=>n("select",d,f)))};return x("button",{type:"button",style:{color:h},class:[er("item",{loading:m,disabled:g}),_],onClick:y},[o(d),l(d,f)])},c=()=>{if(e.description||t.description){const d=t.description?t.description():e.description;return x("div",{class:er("description")},[d])}};return()=>x(Jn,tt({class:er(),position:"bottom","onUpdate:show":i},Rt(e,k4)),{default:()=>{var d;return[s(),c(),x("div",{class:er("content")},[e.actions.map(u),(d=t.default)==null?void 0:d.call(t)]),a()]}})}});const V2=$e(O4),[I4,Xs,o1]=Me("picker"),j2=e=>e.find(t=>!t.disabled)||e[0];function P4(e,t){const n=e[0];if(n){if(Array.isArray(n))return"multiple";if(t.children in n)return"cascade"}return"default"}function vh(e,t){t=qn(t,0,e.length);for(let n=t;n<e.length;n++)if(!e[n].disabled)return n;for(let n=t-1;n>=0;n--)if(!e[n].disabled)return n;return 0}const l1=(e,t,n)=>t!==void 0&&e.some(i=>i[n.value]===t);function b0(e,t,n){const i=e.findIndex(s=>s[n.value]===t),r=vh(e,i);return e[r]}function R4(e,t,n){const i=[];let r={[t.children]:e},s=0;for(;r&&r[t.children];){const a=r[t.children],o=n.value[s];if(r=Ot(o)?b0(a,o,t):void 0,!r&&a.length){const l=j2(a)[t.value];r=b0(a,l,t)}s++,i.push(a)}return i}function L4(e){const{transform:t}=window.getComputedStyle(e),n=t.slice(7,t.length-1).split(", ")[5];return Number(n)}function M4(e){return et({text:"text",value:"value",children:"children"},e)}const u1=200,c1=300,N4=15,[H2,Ig]=Me("picker-column"),z2=Symbol(H2);var B4=Se({name:H2,props:{value:Fe,fields:Gn(Object),options:cn(),readonly:Boolean,allowHtml:Boolean,optionHeight:Gn(Number),swipeDuration:Gn(Fe),visibleOptionNum:Gn(Fe)},emits:["change","clickOption","scrollInto"],setup(e,{emit:t,slots:n}){let i,r,s,a,o;const l=ie(),u=ie(),c=ie(0),d=ie(0),f=_r(),h=()=>e.options.length,m=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,p=D=>{let R=vh(e.options,D);const L=-R*e.optionHeight,B=()=>{R>h()-1&&(R=vh(e.options,D));const N=e.options[R][e.fields.value];N!==e.value&&t("change",N)};i&&L!==c.value?o=B:B(),c.value=L},g=()=>e.readonly||!e.options.length,_=D=>{i||g()||(o=null,d.value=u1,p(D),t("clickOption",e.options[D]))},y=D=>qn(Math.round(-D/e.optionHeight),0,h()-1),b=fe(()=>y(c.value)),A=(D,R)=>{const L=Math.abs(D/R);D=c.value+L/.003*(D<0?-1:1);const B=y(D);d.value=+e.swipeDuration,p(B)},T=()=>{i=!1,d.value=0,o&&(o(),o=null)},k=D=>{if(!g()){if(f.start(D),i){const R=L4(u.value);c.value=Math.min(0,R-m())}d.value=0,r=c.value,s=Date.now(),a=r,o=null}},O=D=>{if(g())return;f.move(D),f.isVertical()&&(i=!0,rn(D,!0));const R=qn(r+f.deltaY.value,-(h()*e.optionHeight),e.optionHeight),L=y(R);L!==b.value&&t("scrollInto",e.options[L]),c.value=R;const B=Date.now();B-s>c1&&(s=B,a=R)},I=()=>{if(g())return;const D=c.value-a,R=Date.now()-s;if(R<c1&&Math.abs(D)>N4){A(D,R);return}const B=y(c.value);d.value=u1,p(B),setTimeout(()=>{i=!1},0)},w=()=>{const D={height:"".concat(e.optionHeight,"px")};return e.options.map((R,L)=>{const B=R[e.fields.text],{disabled:N}=R,$=R[e.fields.value],F={role:"button",style:D,tabindex:N?-1:0,class:[Ig("item",{disabled:N,selected:$===e.value}),R.className],onClick:()=>_(L)},V={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:B};return x("li",F,[n.option?n.option(R,L):x("div",V,null)])})};return ii(z2),Ct({stopMomentum:T}),_a(()=>{const D=i?Math.floor(-c.value/e.optionHeight):e.options.findIndex(B=>B[e.fields.value]===e.value),R=vh(e.options,D),L=-R*e.optionHeight;i&&R<D&&T(),c.value=L}),Cn("touchmove",O,{target:l}),()=>x("div",{ref:l,class:Ig(),onTouchstartPassive:k,onTouchend:I,onTouchcancel:I},[x("ul",{ref:u,style:{transform:"translate3d(0, ".concat(c.value+m(),"px, 0)"),transitionDuration:"".concat(d.value,"ms"),transitionProperty:d.value?"all":"none"},class:Ig("wrapper"),onTransitionend:T},[w()])])}});const[F4]=Me("picker-toolbar"),Jp={title:String,cancelButtonText:String,confirmButtonText:String},q2=["cancel","confirm","title","toolbar"],$4=Object.keys(Jp);var W2=Se({name:F4,props:Jp,emits:["confirm","cancel"],setup(e,{emit:t,slots:n}){const i=()=>{if(n.title)return n.title();if(e.title)return x("div",{class:[Xs("title"),"van-ellipsis"]},[e.title])},r=()=>t("cancel"),s=()=>t("confirm"),a=()=>{var l;const u=(l=e.cancelButtonText)!=null?l:o1("cancel");if(!(!n.cancel&&!u))return x("button",{type:"button",class:[Xs("cancel"),mi],onClick:r},[n.cancel?n.cancel():u])},o=()=>{var l;const u=(l=e.confirmButtonText)!=null?l:o1("confirm");if(!(!n.confirm&&!u))return x("button",{type:"button",class:[Xs("confirm"),mi],onClick:s},[n.confirm?n.confirm():u])};return()=>x("div",{class:Xs("toolbar")},[n.toolbar?n.toolbar():[a(),i(),o()]])}});const C_=(e,t)=>{const n=ie(e());return De(e,i=>{i!==n.value&&(n.value=i)}),De(n,i=>{i!==e()&&t(i)}),n};function U4(e,t,n){let i,r=0;const s=e.scrollLeft,a=n===0?1:Math.round(n*1e3/16);let o=s;function l(){Gp(i)}function u(){o+=(t-s)/a,e.scrollLeft=o,++r<a&&(i=di(u))}return u(),l}function V4(e,t,n,i){let r,s=da(e);const a=s<t,o=n===0?1:Math.round(n*1e3/16),l=(t-s)/o;function u(){Gp(r)}function c(){s+=l,(a&&s>t||!a&&s<t)&&(s=t),Kh(e,s),a&&s<t||!a&&s>t?r=di(c):i&&(r=di(i))}return c(),u}let j4=0;function wu(){const e=mn(),{name:t="unknown"}=(e==null?void 0:e.type)||{};return"".concat(t,"-").concat(++j4)}function Id(){const e=ie([]),t=[];return Gw(()=>{e.value=[]}),[e,i=>(t[i]||(t[i]=r=>{e.value[i]=r}),t[i])]}function G2(e,t){if(!$i||!window.IntersectionObserver)return;const n=new IntersectionObserver(s=>{t(s[0].intersectionRatio>0)},{root:document.body}),i=()=>{e.value&&n.observe(e.value)},r=()=>{e.value&&n.unobserve(e.value)};vr(r),Oi(r),xu(i)}const[H4,z4]=Me("sticky"),q4={zIndex:Fe,position:Ue("top"),container:Object,offsetTop:qe(0),offsetBottom:qe(0)};var W4=Se({name:H4,props:q4,emits:["scroll","change"],setup(e,{emit:t,slots:n}){const i=ie(),r=Eu(i),s=vt({fixed:!1,width:0,height:0,transform:0}),a=ie(!1),o=fe(()=>b_(e.position==="top"?e.offsetTop:e.offsetBottom)),l=fe(()=>{if(a.value)return;const{fixed:f,height:h,width:m}=s;if(f)return{width:"".concat(m,"px"),height:"".concat(h,"px")}}),u=fe(()=>{if(!s.fixed||a.value)return;const f=et(Ta(e.zIndex),{width:"".concat(s.width,"px"),height:"".concat(s.height,"px"),[e.position]:"".concat(o.value,"px")});return s.transform&&(f.transform="translate3d(0, ".concat(s.transform,"px, 0)")),f}),c=f=>t("scroll",{scrollTop:f,isFixed:s.fixed}),d=()=>{if(!i.value||Ko(i))return;const{container:f,position:h}=e,m=Lt(i),p=da(window);if(s.width=m.width,s.height=m.height,h==="top")if(f){const g=Lt(f),_=g.bottom-o.value-s.height;s.fixed=o.value>m.top&&g.bottom>0,s.transform=_<0?_:0}else s.fixed=o.value>m.top;else{const{clientHeight:g}=document.documentElement;if(f){const _=Lt(f),y=g-_.top-o.value-s.height;s.fixed=g-o.value<m.bottom&&g>_.top,s.transform=y<0?-y:0}else s.fixed=g-o.value<m.bottom}c(p)};return De(()=>s.fixed,f=>t("change",f)),Cn("scroll",d,{target:r,passive:!0}),G2(i,d),De([Ur,lr],()=>{!i.value||Ko(i)||!s.fixed||(a.value=!0,Ke(()=>{const f=Lt(i);s.width=f.width,s.height=f.height,a.value=!1}))}),()=>{var f;return x("div",{ref:i,style:l.value},[x("div",{class:z4({fixed:s.fixed&&!a.value}),style:u.value},[(f=n.default)==null?void 0:f.call(n)])])}}});const Zp=$e(W4),[Y2,Lf]=Me("swipe"),G4={loop:Le,width:Fe,height:Fe,vertical:Boolean,autoplay:qe(0),duration:qe(500),touchable:Le,lazyRender:Boolean,initialSwipe:qe(0),indicatorColor:String,showIndicators:Le,stopPropagation:Le},K2=Symbol(Y2);var Y4=Se({name:Y2,props:G4,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:n}){const i=ie(),r=ie(),s=vt({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let a=!1;const o=_r(),{children:l,linkChildren:u}=gi(K2),c=fe(()=>l.length),d=fe(()=>s[e.vertical?"height":"width"]),f=fe(()=>e.vertical?o.deltaY.value:o.deltaX.value),h=fe(()=>s.rect?(e.vertical?s.rect.height:s.rect.width)-d.value*c.value:0),m=fe(()=>d.value?Math.ceil(Math.abs(h.value)/d.value):c.value),p=fe(()=>c.value*d.value),g=fe(()=>(s.active+c.value)%c.value),_=fe(()=>{const z=e.vertical?"vertical":"horizontal";return o.direction.value===z}),y=fe(()=>{const z={transitionDuration:"".concat(s.swiping?0:e.duration,"ms"),transform:"translate".concat(e.vertical?"Y":"X","(").concat(+s.offset.toFixed(2),"px)")};if(d.value){const W=e.vertical?"height":"width",le=e.vertical?"width":"height";z[W]="".concat(p.value,"px"),z[le]=e[le]?"".concat(e[le],"px"):""}return z}),b=z=>{const{active:W}=s;return z?e.loop?qn(W+z,-1,c.value):qn(W+z,0,m.value):W},A=(z,W=0)=>{let le=z*d.value;e.loop||(le=Math.min(le,-h.value));let ye=W-le;return e.loop||(ye=qn(ye,h.value,0)),ye},T=({pace:z=0,offset:W=0,emitChange:le})=>{if(c.value<=1)return;const{active:ye}=s,ae=b(z),ke=A(ae,W);if(e.loop){if(l[0]&&ke!==h.value){const q=ke<h.value;l[0].setOffset(q?p.value:0)}if(l[c.value-1]&&ke!==0){const q=ke>0;l[c.value-1].setOffset(q?-p.value:0)}}s.active=ae,s.offset=ke,le&&ae!==ye&&t("change",g.value)},k=()=>{s.swiping=!0,s.active<=-1?T({pace:c.value}):s.active>=c.value&&T({pace:-c.value})},O=()=>{k(),o.reset(),Ya(()=>{s.swiping=!1,T({pace:-1,emitChange:!0})})},I=()=>{k(),o.reset(),Ya(()=>{s.swiping=!1,T({pace:1,emitChange:!0})})};let w;const D=()=>clearTimeout(w),R=()=>{D(),+e.autoplay>0&&c.value>1&&(w=setTimeout(()=>{I(),R()},+e.autoplay))},L=(z=+e.initialSwipe)=>{if(!i.value)return;const W=()=>{var le,ye;if(!Ko(i)){const ae={width:i.value.offsetWidth,height:i.value.offsetHeight};s.rect=ae,s.width=+((le=e.width)!=null?le:ae.width),s.height=+((ye=e.height)!=null?ye:ae.height)}c.value&&(z=Math.min(c.value-1,z),z===-1&&(z=c.value-1)),s.active=z,s.swiping=!0,s.offset=A(z),l.forEach(ae=>{ae.setOffset(0)}),R()};Ko(i)?Ke().then(W):W()},B=()=>L(s.active);let N;const $=z=>{!e.touchable||z.touches.length>1||(o.start(z),a=!1,N=Date.now(),D(),k())},F=z=>{e.touchable&&s.swiping&&(o.move(z),_.value&&(!e.loop&&(s.active===0&&f.value>0||s.active===c.value-1&&f.value<0)||(rn(z,e.stopPropagation),T({offset:f.value}),a||(t("dragStart",{index:g.value}),a=!0))))},V=()=>{if(!e.touchable||!s.swiping)return;const z=Date.now()-N,W=f.value/z;if((Math.abs(W)>.25||Math.abs(f.value)>d.value/2)&&_.value){const ye=e.vertical?o.offsetY.value:o.offsetX.value;let ae=0;e.loop?ae=ye>0?f.value>0?-1:1:0:ae=-Math[f.value>0?"ceil":"floor"](f.value/d.value),T({pace:ae,emitChange:!0})}else f.value&&T({pace:0});a=!1,s.swiping=!1,t("dragEnd",{index:g.value}),R()},U=(z,W={})=>{k(),o.reset(),Ya(()=>{let le;e.loop&&z===c.value?le=s.active===0?0:z:le=z%c.value,W.immediate?Ya(()=>{s.swiping=!1}):s.swiping=!1,T({pace:le-s.active,emitChange:!0})})},Y=(z,W)=>{const le=W===g.value,ye=le?{backgroundColor:e.indicatorColor}:void 0;return x("i",{style:ye,class:Lf("indicator",{active:le})},null)},ne=()=>{if(n.indicator)return n.indicator({active:g.value,total:c.value});if(e.showIndicators&&c.value>1)return x("div",{class:Lf("indicators",{vertical:e.vertical})},[Array(c.value).fill("").map(Y)])};return Ct({prev:O,next:I,state:s,resize:B,swipeTo:U}),u({size:d,props:e,count:c,activeIndicator:g}),De(()=>e.initialSwipe,z=>L(+z)),De(c,()=>L(s.active)),De(()=>e.autoplay,R),De([Ur,lr,()=>e.width,()=>e.height],B),De(SF(),z=>{z==="visible"?R():D()}),Et(L),gr(()=>L(s.active)),Xp(()=>L(s.active)),vr(D),Oi(D),Cn("touchmove",F,{target:r}),()=>{var z;return x("div",{ref:i,class:Lf()},[x("div",{ref:r,style:y.value,class:Lf("track",{vertical:e.vertical}),onTouchstartPassive:$,onTouchend:V,onTouchcancel:V},[(z=n.default)==null?void 0:z.call(n)]),ne()])}}});const w_=$e(Y4),[K4,d1]=Me("tabs");var X4=Se({name:K4,props:{count:Gn(Number),inited:Boolean,animated:Boolean,duration:Gn(Fe),swipeable:Boolean,lazyRender:Boolean,currentIndex:Gn(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const i=ie(),r=o=>t("change",o),s=()=>{var o;const l=(o=n.default)==null?void 0:o.call(n);return e.animated||e.swipeable?x(w_,{ref:i,loop:!1,class:d1("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[l]}):l},a=o=>{const l=i.value;l&&l.state.active!==o&&l.swipeTo(o,{immediate:!e.inited})};return De(()=>e.currentIndex,a),Et(()=>{a(e.currentIndex)}),Ct({swipeRef:i}),()=>x("div",{class:d1("content",{animated:e.animated||e.swipeable})},[s()])}});const[X2,Mf]=Me("tabs"),Q4={type:Ue("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:qe(0),duration:qe(.3),animated:Boolean,ellipsis:Le,swipeable:Boolean,scrollspy:Boolean,offsetTop:qe(0),background:String,lazyRender:Le,showHeader:Le,lineWidth:Fe,lineHeight:Fe,beforeChange:Function,swipeThreshold:qe(5),titleActiveColor:String,titleInactiveColor:String},Q2=Symbol(X2);var J4=Se({name:X2,props:Q4,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:n}){let i,r,s,a,o;const l=ie(),u=ie(),c=ie(),d=ie(),f=wu(),h=Eu(l),[m,p]=Id(),{children:g,linkChildren:_}=gi(Q2),y=vt({inited:!1,position:"",lineStyle:{},currentIndex:-1}),b=fe(()=>g.length>+e.swipeThreshold||!e.ellipsis||e.shrink),A=fe(()=>({borderColor:e.color,background:e.background})),T=(ae,ke)=>{var q;return(q=ae.name)!=null?q:ke},k=fe(()=>{const ae=g[y.currentIndex];if(ae)return T(ae,y.currentIndex)}),O=fe(()=>b_(e.offsetTop)),I=fe(()=>e.sticky?O.value+i:0),w=ae=>{const ke=u.value,q=m.value;if(!b.value||!ke||!q||!q[y.currentIndex])return;const ve=q[y.currentIndex].$el,X=ve.offsetLeft-(ke.offsetWidth-ve.offsetWidth)/2;a&&a(),a=U4(ke,X,ae?0:+e.duration)},D=()=>{const ae=y.inited;Ke(()=>{const ke=m.value;if(!ke||!ke[y.currentIndex]||e.type!=="line"||Ko(l.value))return;const q=ke[y.currentIndex].$el,{lineWidth:ve,lineHeight:X}=e,Z=q.offsetLeft+q.offsetWidth/2,he={width:mt(ve),backgroundColor:e.color,transform:"translateX(".concat(Z,"px) translateX(-50%)")};if(ae&&(he.transitionDuration="".concat(e.duration,"s")),Ot(X)){const H=mt(X);he.height=H,he.borderRadius=H}y.lineStyle=he})},R=ae=>{const ke=ae<y.currentIndex?-1:1;for(;ae>=0&&ae<g.length;){if(!g[ae].disabled)return ae;ae+=ke}},L=(ae,ke)=>{const q=R(ae);if(!Ot(q))return;const ve=g[q],X=T(ve,q),Z=y.currentIndex!==null;y.currentIndex!==q&&(y.currentIndex=q,ke||w(),D()),X!==e.active&&(t("update:active",X),Z&&t("change",X,ve.title)),s&&!e.scrollspy&&ad(Math.ceil(QA(l.value)-O.value))},B=(ae,ke)=>{const q=g.findIndex((ve,X)=>T(ve,X)===ae);L(q===-1?0:q,ke)},N=(ae=!1)=>{if(e.scrollspy){const ke=g[y.currentIndex].$el;if(ke&&h.value){const q=QA(ke,h.value)-I.value;r=!0,o&&o(),o=V4(h.value,q,ae?0:+e.duration,()=>{r=!1})}}},$=(ae,ke,q)=>{const{title:ve,disabled:X}=g[ke],Z=T(g[ke],ke);X||(io(e.beforeChange,{args:[Z],done:()=>{L(ke),N()}}),M2(ae)),t("clickTab",{name:Z,title:ve,event:q,disabled:X})},F=ae=>{s=ae.isFixed,t("scroll",ae)},V=ae=>{Ke(()=>{B(ae),N(!0)})},U=()=>{for(let ae=0;ae<g.length;ae++){const{top:ke}=Lt(g[ae].$el);if(ke>I.value)return ae===0?0:ae-1}return g.length-1},Y=()=>{if(e.scrollspy&&!r){const ae=U();L(ae)}},ne=()=>{if(e.type==="line"&&g.length)return x("div",{class:Mf("line"),style:y.lineStyle},null)},z=()=>{var ae,ke,q;const{type:ve,border:X,sticky:Z}=e,he=[x("div",{ref:Z?void 0:c,class:[Mf("wrap"),{[Kp]:ve==="line"&&X}]},[x("div",{ref:u,role:"tablist",class:Mf("nav",[ve,{shrink:e.shrink,complete:b.value}]),style:A.value,"aria-orientation":"horizontal"},[(ae=n["nav-left"])==null?void 0:ae.call(n),g.map(H=>H.renderTitle($)),ne(),(ke=n["nav-right"])==null?void 0:ke.call(n)])]),(q=n["nav-bottom"])==null?void 0:q.call(n)];return Z?x("div",{ref:c},[he]):he},W=()=>{D(),Ke(()=>{var ae,ke;w(!0),(ke=(ae=d.value)==null?void 0:ae.swipeRef.value)==null||ke.resize()})};De(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],D),De(Ur,W),De(()=>e.active,ae=>{ae!==k.value&&B(ae)}),De(()=>g.length,()=>{y.inited&&(B(e.active),D(),Ke(()=>{w(!0)}))});const le=()=>{B(e.active,!0),Ke(()=>{y.inited=!0,c.value&&(i=Lt(c.value).height),w(!0)})},ye=(ae,ke)=>t("rendered",ae,ke);return Ct({resize:W,scrollTo:V}),gr(D),Xp(D),xu(le),G2(l,D),Cn("scroll",Y,{target:h,passive:!0}),_({id:f,props:e,setLine:D,scrollable:b,onRendered:ye,currentName:k,setTitleRefs:p,scrollIntoView:w}),()=>x("div",{ref:l,class:Mf([e.type])},[e.showHeader?e.sticky?x(Zp,{container:l.value,offsetTop:O.value,onScroll:F},{default:()=>[z()]}):z():null,x(X4,{ref:d,count:g.length,inited:y.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:y.currentIndex,onChange:L},{default:()=>{var ae;return[(ae=n.default)==null?void 0:ae.call(n)]}})])}});const Z4=Symbol(),J2=Symbol(),Z2=()=>En(J2,null),e$=e=>{const t=Z2();$r(Z4,e),$r(J2,fe(()=>(t==null||t.value)&&e.value))},[t$,f1]=Me("tab"),n$=Se({name:t$,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:Fe,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:Le},setup(e,{slots:t}){const n=fe(()=>{const r={},{type:s,color:a,disabled:o,isActive:l,activeColor:u,inactiveColor:c}=e;a&&s==="card"&&(r.borderColor=a,o||(l?r.backgroundColor=a:r.color=a));const f=l?u:c;return f&&(r.color=f),r}),i=()=>{const r=x("span",{class:f1("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||Ot(e.badge)&&e.badge!==""?x(so,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[r]}):r};return()=>x("div",{id:e.id,role:"tab",class:[f1([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[i()])}}),[i$,r$]=Me("swipe-item");var s$=Se({name:i$,setup(e,{slots:t}){let n;const i=vt({offset:0,inited:!1,mounted:!1}),{parent:r,index:s}=ii(K2);if(!r)return;const a=fe(()=>{const u={},{vertical:c}=r.props;return r.size.value&&(u[c?"height":"width"]="".concat(r.size.value,"px")),i.offset&&(u.transform="translate".concat(c?"Y":"X","(").concat(i.offset,"px)")),u}),o=fe(()=>{const{loop:u,lazyRender:c}=r.props;if(!c||n)return!0;if(!i.mounted)return!1;const d=r.activeIndicator.value,f=r.count.value-1,h=d===0&&u?f:d-1,m=d===f&&u?0:d+1;return n=s.value===d||s.value===h||s.value===m,n}),l=u=>{i.offset=u};return Et(()=>{Ke(()=>{i.mounted=!0})}),Ct({setOffset:l}),()=>{var u;return x("div",{class:r$(),style:a.value},[o.value?(u=t.default)==null?void 0:u.call(t):null])}}});const D_=$e(s$),[a$,Pg]=Me("tab"),o$=et({},ro,{dot:Boolean,name:Fe,badge:Fe,title:String,disabled:Boolean,titleClass:pn,titleStyle:[String,Object],showZeroBadge:Le});var l$=Se({name:a$,props:o$,setup(e,{slots:t}){const n=wu(),i=ie(!1),r=mn(),{parent:s,index:a}=ii(Q2);if(!s)return;const o=()=>{var m;return(m=e.name)!=null?m:a.value},l=()=>{i.value=!0,s.props.lazyRender&&Ke(()=>{s.onRendered(o(),e.title)})},u=fe(()=>{const m=o()===s.currentName.value;return m&&!i.value&&l(),m}),c=ie(""),d=ie("");_a(()=>{const{titleClass:m,titleStyle:p}=e;c.value=m?Vt(m):"",d.value=p&&typeof p!="string"?KN(xs(p)):p});const f=m=>x(n$,tt({key:n,id:"".concat(s.id,"-").concat(a.value),ref:s.setTitleRefs(a.value),style:d.value,class:c.value,isActive:u.value,controls:n,scrollable:s.scrollable.value,activeColor:s.props.titleActiveColor,inactiveColor:s.props.titleInactiveColor,onClick:p=>m(r.proxy,a.value,p)},Rt(s.props,["type","color","shrink"]),Rt(e,["dot","badge","title","disabled","showZeroBadge"])),{title:t.title}),h=ie(!u.value);return De(u,m=>{m?h.value=!1:Ya(()=>{h.value=!0})}),De(()=>e.title,()=>{s.setLine(),s.scrollIntoView()}),e$(u),Ct({id:n,renderTitle:f}),()=>{var m;const p="".concat(s.id,"-").concat(a.value),{animated:g,swipeable:_,scrollspy:y,lazyRender:b}=s.props;if(!t.default&&!g)return;const A=y||u.value;if(g||_)return x(D_,{id:n,role:"tabpanel",class:Pg("panel-wrapper",{inactive:h.value}),tabindex:u.value?0:-1,"aria-hidden":!u.value,"aria-labelledby":p,"data-allow-mismatch":"attribute"},{default:()=>{var O;return[x("div",{class:Pg("panel")},[(O=t.default)==null?void 0:O.call(t)])]}});const k=i.value||y||!b?(m=t.default)==null?void 0:m.call(t):null;return un(x("div",{id:n,role:"tabpanel",class:Pg("panel"),tabindex:A?0:-1,"aria-labelledby":p,"data-allow-mismatch":"attribute"},[k]),[[On,A]])}}});const su=$e(l$),Pd=$e(J4),[eD,Rg]=Me("picker-group"),tD=Symbol(eD),u$=et({tabs:cn(),activeTab:qe(0),nextStepText:String,showToolbar:Le},Jp);var c$=Se({name:eD,props:u$,emits:["confirm","cancel","update:activeTab"],setup(e,{emit:t,slots:n}){const i=C_(()=>e.activeTab,u=>t("update:activeTab",u)),{children:r,linkChildren:s}=gi(tD);s();const a=()=>+i.value<e.tabs.length-1&&e.nextStepText,o=()=>{a()?i.value=+i.value+1:t("confirm",r.map(u=>u.confirm()))},l=()=>t("cancel");return()=>{var u,c;let d=(c=(u=n.default)==null?void 0:u.call(n))==null?void 0:c.filter(h=>h.type!==$n).map(h=>h.type===ct?h.children:h);d&&(d=fF(d));const f=a()?e.nextStepText:e.confirmButtonText;return x("div",{class:Rg()},[e.showToolbar?x(W2,{title:e.title,cancelButtonText:e.cancelButtonText,confirmButtonText:f,onConfirm:o,onCancel:l},Rt(n,q2)):null,x(Pd,{active:i.value,"onUpdate:active":h=>i.value=h,class:Rg("tabs"),shrink:!0,animated:!0,lazyRender:!1},{default:()=>[e.tabs.map((h,m)=>x(su,{title:h,titleClass:Rg("tab-title")},{default:()=>[d==null?void 0:d[m]]}))]})])}}});const em=et({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:qe(44),showToolbar:Le,swipeDuration:qe(1e3),visibleOptionNum:qe(6)},Jp),d$=et({},em,{columns:cn(),modelValue:cn(),toolbarPosition:Ue("top"),columnsFieldNames:Object});var f$=Se({name:I4,props:d$,emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:t,slots:n}){const i=ie(),r=ie(e.modelValue.slice(0)),{parent:s}=ii(tD),{children:a,linkChildren:o}=gi(z2);o();const l=fe(()=>M4(e.columnsFieldNames)),u=fe(()=>b_(e.optionHeight)),c=fe(()=>P4(e.columns,l.value)),d=fe(()=>{const{columns:L}=e;switch(c.value){case"multiple":return L;case"cascade":return R4(L,l.value,r);default:return[L]}}),f=fe(()=>d.value.some(L=>L.length)),h=fe(()=>d.value.map((L,B)=>b0(L,r.value[B],l.value))),m=fe(()=>d.value.map((L,B)=>L.findIndex(N=>N[l.value.value]===r.value[B]))),p=(L,B)=>{if(r.value[L]!==B){const N=r.value.slice(0);N[L]=B,r.value=N}},g=()=>({selectedValues:r.value.slice(0),selectedOptions:h.value,selectedIndexes:m.value}),_=(L,B)=>{p(B,L),c.value==="cascade"&&r.value.forEach((N,$)=>{const F=d.value[$];l1(F,N,l.value)||p($,F.length?F[0][l.value.value]:void 0)}),Ke(()=>{t("change",et({columnIndex:B},g()))})},y=(L,B)=>{const N={columnIndex:B,currentOption:L};t("clickOption",et(g(),N)),t("scrollInto",N)},b=()=>{a.forEach(B=>B.stopMomentum());const L=g();return Ke(()=>{const B=g();t("confirm",B)}),L},A=()=>t("cancel",g()),T=()=>d.value.map((L,B)=>x(B4,{value:r.value[B],fields:l.value,options:L,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:u.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:N=>_(N,B),onClickOption:N=>y(N,B),onScrollInto:N=>{t("scrollInto",{currentOption:N,columnIndex:B})}},{option:n.option})),k=L=>{if(f.value){const B={height:"".concat(u.value,"px")},N={backgroundSize:"100% ".concat((L-u.value)/2,"px")};return[x("div",{class:Xs("mask"),style:N},null),x("div",{class:[$F,Xs("frame")],style:B},null)]}},O=()=>{const L=u.value*+e.visibleOptionNum,B={height:"".concat(L,"px")};return!e.loading&&!f.value&&n.empty?n.empty():x("div",{ref:i,class:Xs("columns"),style:B},[T(),k(L)])},I=()=>{if(e.showToolbar&&!s)return x(W2,tt(Rt(e,$4),{onConfirm:b,onCancel:A}),Rt(n,q2))},w=L=>{L.forEach((B,N)=>{B.length&&!l1(B,r.value[N],l.value)&&p(N,j2(B)[l.value.value])})};De(d,L=>w(L),{immediate:!0});let D;return De(()=>e.modelValue,L=>{!As(L,r.value)&&!As(L,D)&&(r.value=L.slice(0),D=L.slice(0)),e.modelValue.length===0&&w(d.value)},{deep:!0}),De(r,L=>{As(L,e.modelValue)||(D=L.slice(0),t("update:modelValue",D))},{immediate:!0}),Cn("touchmove",rn,{target:i}),Ct({confirm:b,getSelectedOptions:()=>h.value}),()=>{var L,B;return x("div",{class:Xs()},[e.toolbarPosition==="top"?I():null,e.loading?x(yr,{class:Xs("loading")},null):null,(L=n["columns-top"])==null?void 0:L.call(n),O(),(B=n["columns-bottom"])==null?void 0:B.call(n),e.toolbarPosition==="bottom"?I():null])}}});const jl="000000",h$=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],nD=["title","loading","readonly","optionHeight","swipeDuration","visibleOptionNum","cancelButtonText","confirmButtonText"],Ia=(e="",t=jl,n=void 0)=>({text:e,value:t,children:n});function p$({areaList:e,columnsNum:t,columnsPlaceholder:n}){const{city_list:i={},county_list:r={},province_list:s={}}=e,a=+t>1,o=+t>2,l=()=>{if(a)return n.length>1?[Ia(n[1],jl,o?[]:void 0)]:[]},u=new Map;Object.keys(s).forEach(f=>{u.set(f.slice(0,2),Ia(s[f],f,l()))});const c=new Map;if(a){const f=()=>{if(o)return n.length>2?[Ia(n[2])]:[]};Object.keys(i).forEach(h=>{const m=Ia(i[h],h,f());c.set(h.slice(0,4),m);const p=u.get(h.slice(0,2));p&&p.children.push(m)})}o&&Object.keys(r).forEach(f=>{const h=c.get(f.slice(0,4));h&&h.children.push(Ia(r[f],f))});const d=Array.from(u.values());if(n.length){const f=o?[Ia(n[2])]:void 0,h=a?[Ia(n[1],jl,f)]:void 0;d.unshift(Ia(n[0],jl,h))}return d}const Rd=$e(f$),[m$,g$]=Me("area"),v$=et({},Rt(em,nD),{modelValue:String,columnsNum:qe(3),columnsPlaceholder:cn(),areaList:{type:Object,default:()=>({})}});var y$=Se({name:m$,props:v$,emits:["change","confirm","cancel","update:modelValue"],setup(e,{emit:t,slots:n}){const i=ie([]),r=ie(),s=fe(()=>p$(e)),a=(...u)=>t("change",...u),o=(...u)=>t("cancel",...u),l=(...u)=>t("confirm",...u);return De(i,u=>{const c=u.length?u[u.length-1]:"";c&&c!==e.modelValue&&t("update:modelValue",c)},{deep:!0}),De(()=>e.modelValue,u=>{if(u){const c=i.value.length?i.value[i.value.length-1]:"";u!==c&&(i.value=["".concat(u.slice(0,2),"0000"),"".concat(u.slice(0,4),"00"),u].slice(0,+e.columnsNum))}else i.value=[]},{immediate:!0}),Ct({confirm:()=>{var u;return(u=r.value)==null?void 0:u.confirm()},getSelectedOptions:()=>{var u;return((u=r.value)==null?void 0:u.getSelectedOptions())||[]}}),()=>x(Rd,tt({ref:r,modelValue:i.value,"onUpdate:modelValue":u=>i.value=u,class:g$(),columns:s.value,onChange:a,onCancel:o,onConfirm:l},Rt(e,nD)),Rt(n,h$))}});const iD=$e(y$),[_$,dl]=Me("cell"),tm={tag:Ue("div"),icon:String,size:String,title:Fe,value:Fe,label:Fe,center:Boolean,isLink:Boolean,border:Le,iconPrefix:String,valueClass:pn,labelClass:pn,titleClass:pn,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},b$=et({},tm,ro);var T$=Se({name:_$,props:b$,setup(e,{slots:t}){const n=nl(),i=()=>{if(t.label||Ot(e.label))return x("div",{class:[dl("label"),e.labelClass]},[t.label?t.label():e.label])},r=()=>{var l;if(t.title||Ot(e.title)){const u=(l=t.title)==null?void 0:l.call(t);return Array.isArray(u)&&u.length===0?void 0:x("div",{class:[dl("title"),e.titleClass],style:e.titleStyle},[u||x("span",null,[e.title]),i()])}},s=()=>{const l=t.value||t.default;if(l||Ot(e.value))return x("div",{class:[dl("value"),e.valueClass]},[l?l():x("span",null,[e.value])])},a=()=>{if(t.icon)return t.icon();if(e.icon)return x(pt,{name:e.icon,class:dl("left-icon"),classPrefix:e.iconPrefix},null)},o=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const l=e.arrowDirection&&e.arrowDirection!=="right"?"arrow-".concat(e.arrowDirection):"arrow";return x(pt,{name:l,class:dl("right-icon")},null)}};return()=>{var l;const{tag:u,size:c,center:d,border:f,isLink:h,required:m}=e,p=(l=e.clickable)!=null?l:h,g={center:d,required:!!m,clickable:p,borderless:!f};return c&&(g[c]=!!c),x(u,{class:dl(g),role:p?"button":void 0,tabindex:p?0:void 0,onClick:n},{default:()=>{var _;return[a(),r(),s(),o(),(_=t.extra)==null?void 0:_.call(t)]}})}}});const vi=$e(T$),[A$,S$]=Me("form"),x$={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:Fe,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:Le,showErrorMessage:Le,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var E$=Se({name:A$,props:x$,emits:["submit","failed"],setup(e,{emit:t,slots:n}){const{children:i,linkChildren:r}=gi(k2),s=g=>g?i.filter(_=>g.includes(_.name)):i,a=g=>new Promise((_,y)=>{const b=[];s(g).reduce((T,k)=>T.then(()=>{if(!b.length)return k.validate().then(O=>{O&&b.push(O)})}),Promise.resolve()).then(()=>{b.length?y(b):_()})}),o=g=>new Promise((_,y)=>{const b=s(g);Promise.all(b.map(A=>A.validate())).then(A=>{A=A.filter(Boolean),A.length?y(A):_()})}),l=g=>{const _=i.find(y=>y.name===g);return _?new Promise((y,b)=>{_.validate().then(A=>{A?b(A):y()})}):Promise.reject()},u=g=>typeof g=="string"?l(g):e.validateFirst?a(g):o(g),c=g=>{typeof g=="string"&&(g=[g]),s(g).forEach(y=>{y.resetValidation()})},d=()=>i.reduce((g,_)=>(g[_.name]=_.getValidationStatus(),g),{}),f=(g,_)=>{i.some(y=>y.name===g?(y.$el.scrollIntoView(_),!0):!1)},h=()=>i.reduce((g,_)=>(_.name!==void 0&&(g[_.name]=_.formValue.value),g),{}),m=()=>{const g=h();u().then(()=>t("submit",g)).catch(_=>{t("failed",{values:g,errors:_});const{scrollToError:y,scrollToErrorPosition:b}=e;y&&_[0].name&&f(_[0].name,b?{block:b}:void 0)})},p=g=>{rn(g),m()};return r({props:e}),Ct({submit:m,validate:u,getValues:h,scrollToField:f,resetValidation:c,getValidationStatus:d}),()=>{var g;return x("form",{class:S$(),onSubmit:p},[(g=n.default)==null?void 0:g.call(n)])}}});const nm=$e(E$);function rD(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function C$(e,t){if(rD(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function w$(e,t){return new Promise(n=>{const i=t.validator(e,t);if(v_(i)){i.then(n);return}n(i)})}function h1(e,t){const{message:n}=t;return ru(n)?n(e,t):n||""}function D$({target:e}){e.composing=!0}function p1({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function k$(e,t){const n=Bo();e.style.height="auto";let i=e.scrollHeight;if(dr(t)){const{maxHeight:r,minHeight:s}=t;r!==void 0&&(i=Math.min(i,r)),s!==void 0&&(i=Math.max(i,s))}i&&(e.style.height="".concat(i,"px"),ad(n))}function O$(e,t){return e==="number"&&(e="text",t!=null||(t="decimal")),e==="digit"&&(e="tel",t!=null||(t="numeric")),{type:e,inputmode:t}}function Bs(e){return[...e].length}function Lg(e,t){return[...e].slice(0,t).join("")}const[I$,tr]=Me("field"),k_={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:Fe,max:Number,min:Number,formatter:Function,clearIcon:Ue("clear"),modelValue:qe(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Ue("focus"),formatTrigger:Ue("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},P$=et({},tm,k_,{rows:Fe,type:Ue("text"),rules:Array,autosize:[Boolean,Object],labelWidth:Fe,labelClass:pn,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var R$=Se({name:I$,props:P$,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const i=wu(),r=vt({status:"unvalidated",focused:!1,validateMessage:""}),s=ie(),a=ie(),o=ie(),{parent:l}=ii(k2),u=()=>{var q;return String((q=e.modelValue)!=null?q:"")},c=q=>{if(Ot(e[q]))return e[q];if(l&&Ot(l.props[q]))return l.props[q]},d=fe(()=>{const q=c("readonly");if(e.clearable&&!q){const ve=u()!=="",X=e.clearTrigger==="always"||e.clearTrigger==="focus"&&r.focused;return ve&&X}return!1}),f=fe(()=>o.value&&n.input?o.value():e.modelValue),h=fe(()=>{var q;const ve=c("required");return ve==="auto"?(q=e.rules)==null?void 0:q.some(X=>X.required):ve}),m=q=>q.reduce((ve,X)=>ve.then(()=>{if(r.status==="failed")return;let{value:Z}=f;if(X.formatter&&(Z=X.formatter(Z,X)),!C$(Z,X)){r.status="failed",r.validateMessage=h1(Z,X);return}if(X.validator)return rD(Z)&&X.validateEmpty===!1?void 0:w$(Z,X).then(he=>{he&&typeof he=="string"?(r.status="failed",r.validateMessage=he):he===!1&&(r.status="failed",r.validateMessage=h1(Z,X))})}),Promise.resolve()),p=()=>{r.status="unvalidated",r.validateMessage=""},g=()=>t("endValidate",{status:r.status,message:r.validateMessage}),_=(q=e.rules)=>new Promise(ve=>{p(),q?(t("startValidate"),m(q).then(()=>{r.status==="failed"?(ve({name:e.name,message:r.validateMessage}),g()):(r.status="passed",ve(),g())})):ve()}),y=q=>{if(l&&e.rules){const{validateTrigger:ve}=l.props,X=Yh(ve).includes(q),Z=e.rules.filter(he=>he.trigger?Yh(he.trigger).includes(q):X);Z.length&&_(Z)}},b=q=>{var ve;const{maxlength:X}=e;if(Ot(X)&&Bs(q)>+X){const Z=u();if(Z&&Bs(Z)===+X)return Z;const he=(ve=s.value)==null?void 0:ve.selectionEnd;if(r.focused&&he){const H=[...q],K=H.length-+X;return H.splice(he-K,K),H.join("")}return Lg(q,+X)}return q},A=(q,ve="onChange")=>{var X,Z;const he=q;q=b(q);const H=Bs(he)-Bs(q);if(e.type==="number"||e.type==="digit"){const se=e.type==="number";if(q=v0(q,se,se),ve==="onBlur"&&q!==""&&(e.min!==void 0||e.max!==void 0)){const _e=qn(+q,(X=e.min)!=null?X:-1/0,(Z=e.max)!=null?Z:1/0);+q!==_e&&(q=_e.toString())}}let K=0;if(e.formatter&&ve===e.formatTrigger){const{formatter:se,maxlength:_e}=e;if(q=se(q),Ot(_e)&&Bs(q)>+_e&&(q=Lg(q,+_e)),s.value&&r.focused){const{selectionEnd:Ae}=s.value,Ce=Lg(he,Ae);K=Bs(se(Ce))-Bs(Ce)}}if(s.value&&s.value.value!==q)if(r.focused){let{selectionStart:se,selectionEnd:_e}=s.value;if(s.value.value=q,Ot(se)&&Ot(_e)){const Ae=Bs(q);H?(se-=H,_e-=H):K&&(se+=K,_e+=K),s.value.setSelectionRange(Math.min(se,Ae),Math.min(_e,Ae))}}else s.value.value=q;q!==e.modelValue&&t("update:modelValue",q)},T=q=>{q.target.composing||A(q.target.value)},k=()=>{var q;return(q=s.value)==null?void 0:q.blur()},O=()=>{var q;return(q=s.value)==null?void 0:q.focus()},I=()=>{const q=s.value;e.type==="textarea"&&e.autosize&&q&&k$(q,e.autosize)},w=q=>{r.focused=!0,t("focus",q),Ke(I),c("readonly")&&k()},D=q=>{r.focused=!1,A(u(),"onBlur"),t("blur",q),!c("readonly")&&(y("onBlur"),Ke(I),A2())},R=q=>t("clickInput",q),L=q=>t("clickLeftIcon",q),B=q=>t("clickRightIcon",q),N=q=>{rn(q),t("update:modelValue",""),t("clear",q)},$=fe(()=>{if(typeof e.error=="boolean")return e.error;if(l&&l.props.showError&&r.status==="failed")return!0}),F=fe(()=>{const q=c("labelWidth"),ve=c("labelAlign");if(q&&ve!=="top")return{width:mt(q)}}),V=q=>{q.keyCode===13&&(!(l&&l.props.submitOnEnter)&&e.type!=="textarea"&&rn(q),e.type==="search"&&k()),t("keypress",q)},U=()=>e.id||"".concat(i,"-input"),Y=()=>r.status,ne=()=>{const q=tr("control",[c("inputAlign"),{error:$.value,custom:!!n.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(n.input)return x("div",{class:q,onClick:R},[n.input()]);const ve={id:U(),ref:s,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:q,disabled:c("disabled"),readonly:c("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?"".concat(i,"-label"):void 0,"data-allow-mismatch":"attribute",onBlur:D,onFocus:w,onInput:T,onClick:R,onChange:p1,onKeypress:V,onCompositionend:p1,onCompositionstart:D$};return e.type==="textarea"?x("textarea",tt(ve,{inputmode:e.inputmode}),null):x("input",tt(O$(e.type,e.inputmode),ve),null)},z=()=>{const q=n["left-icon"];if(e.leftIcon||q)return x("div",{class:tr("left-icon"),onClick:L},[q?q():x(pt,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},W=()=>{const q=n["right-icon"];if(e.rightIcon||q)return x("div",{class:tr("right-icon"),onClick:B},[q?q():x(pt,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},le=()=>{if(e.showWordLimit&&e.maxlength){const q=Bs(u());return x("div",{class:tr("word-limit")},[x("span",{class:tr("word-num")},[q]),ci("/"),e.maxlength])}},ye=()=>{if(l&&l.props.showErrorMessage===!1)return;const q=e.errorMessage||r.validateMessage;if(q){const ve=n["error-message"],X=c("errorMessageAlign");return x("div",{class:tr("error-message",X)},[ve?ve({message:q}):q])}},ae=()=>{const q=c("labelWidth"),ve=c("labelAlign"),X=c("colon")?":":"";if(n.label)return[n.label(),X];if(e.label)return x("label",{id:"".concat(i,"-label"),for:n.input?void 0:U(),"data-allow-mismatch":"attribute",onClick:Z=>{rn(Z),O()},style:ve==="top"&&q?{width:mt(q)}:void 0},[e.label+X])},ke=()=>[x("div",{class:tr("body")},[ne(),d.value&&x(pt,{ref:a,name:e.clearIcon,class:tr("clear")},null),W(),n.button&&x("div",{class:tr("button")},[n.button()])]),le(),ye()];return Ct({blur:k,focus:O,validate:_,formValue:f,resetValidation:p,getValidationStatus:Y}),$r(T2,{customValue:o,resetValidation:p,validateWithTrigger:y}),De(()=>e.modelValue,()=>{A(u()),p(),y("onChange"),Ke(I)}),Et(()=>{A(u(),e.formatTrigger),Ke(I)}),Cn("touchstart",N,{target:fe(()=>{var q;return(q=a.value)==null?void 0:q.$el})}),()=>{const q=c("disabled"),ve=c("labelAlign"),X=z(),Z=()=>{const he=ae();return ve==="top"?[X,he].filter(Boolean):he||[]};return x(vi,{size:e.size,class:tr({error:$.value,disabled:q,["label-".concat(ve)]:ve}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:F.value,valueClass:tr("value"),titleClass:[tr("label",[ve,{required:h.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:X&&ve!=="top"?()=>X:null,title:Z,value:ke,extra:n.extra})}}});const Vn=$e(R$);let cc=0;function L$(e){e?(cc||document.body.classList.add("van-toast--unclickable"),cc++):cc&&(cc--,cc||document.body.classList.remove("van-toast--unclickable"))}const[M$,fl]=Me("toast"),N$=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],B$={icon:String,show:Boolean,type:Ue("text"),overlay:Boolean,message:Fe,iconSize:Fe,duration:Un(2e3),position:Ue("middle"),teleport:[String,Object],wordBreak:String,className:pn,iconPrefix:String,transition:Ue("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:pn,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:Fe};var sD=Se({name:M$,props:B$,emits:["update:show"],setup(e,{emit:t,slots:n}){let i,r=!1;const s=()=>{const d=e.show&&e.forbidClick;r!==d&&(r=d,L$(r))},a=d=>t("update:show",d),o=()=>{e.closeOnClick&&a(!1)},l=()=>clearTimeout(i),u=()=>{const{icon:d,type:f,iconSize:h,iconPrefix:m,loadingType:p}=e;if(d||f==="success"||f==="fail")return x(pt,{name:d||f,size:h,class:fl("icon"),classPrefix:m},null);if(f==="loading")return x(yr,{class:fl("loading"),size:h,type:p},null)},c=()=>{const{type:d,message:f}=e;if(n.message)return x("div",{class:fl("text")},[n.message()]);if(Ot(f)&&f!=="")return d==="html"?x("div",{key:0,class:fl("text"),innerHTML:String(f)},null):x("div",{class:fl("text")},[f])};return De(()=>[e.show,e.forbidClick],s),De(()=>[e.show,e.type,e.message,e.duration],()=>{l(),e.show&&e.duration>0&&(i=setTimeout(()=>{a(!1)},e.duration))}),Et(s),Xr(s),()=>x(Jn,tt({class:[fl([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:o,onClosed:l,"onUpdate:show":a},Rt(e,N$)),{default:()=>[u(),c()]})}});function im(){const e=vt({show:!1}),t=r=>{e.show=r},n=r=>{et(e,r,{transitionAppear:!0}),t(!0)},i=()=>t(!1);return Ct({open:n,close:i,toggle:t}),{open:n,close:i,state:e,toggle:t}}function rm(e){const t=g_(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}const F$={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Pl=[],$$=!1,m1=et({},F$);const U$=new Map;function aD(e){return dr(e)?e:{message:e}}function V$(){const{instance:e}=rm({setup(){const t=ie(""),{open:n,state:i,close:r,toggle:s}=im(),a=()=>{},o=()=>x(sD,tt(i,{onClosed:a,"onUpdate:show":s}),null);return De(t,l=>{i.message=l}),mn().render=o,{open:n,close:r,message:t}}});return e}function j$(){if(!Pl.length||$$){const e=V$();Pl.push(e)}return Pl[Pl.length-1]}function Ri(e={}){if(!$i)return{};const t=j$(),n=aD(e);return t.open(et({},m1,U$.get(n.type||m1.type),n)),t}const O_=e=>t=>Ri(et({type:e},aD(t))),qce=O_("loading"),H$=O_("success"),g1=O_("fail"),Wce=e=>{Pl.length&&Pl[0].close()},z$=$e(sD),[q$,Mg]=Me("switch"),W$={size:Fe,loading:Boolean,disabled:Boolean,modelValue:pn,activeColor:String,inactiveColor:String,activeValue:{type:pn,default:!0},inactiveValue:{type:pn,default:!1}};var G$=Se({name:q$,props:W$,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=()=>e.modelValue===e.activeValue,r=()=>{if(!e.disabled&&!e.loading){const a=i()?e.inactiveValue:e.activeValue;t("update:modelValue",a),t("change",a)}},s=()=>{if(e.loading){const a=i()?e.activeColor:e.inactiveColor;return x(yr,{class:Mg("loading"),color:a},null)}if(n.node)return n.node()};return no(()=>e.modelValue),()=>{var a;const{size:o,loading:l,disabled:u,activeColor:c,inactiveColor:d}=e,f=i(),h={fontSize:mt(o),backgroundColor:f?c:d};return x("div",{role:"switch",class:Mg({on:f,loading:l,disabled:u}),style:h,tabindex:u?void 0:0,"aria-checked":f,onClick:r},[x("div",{class:Mg("node")},[s()]),(a=n.background)==null?void 0:a.call(n)])}}});const I_=$e(G$),[Y$,v1]=Me("address-edit-detail"),y1=Me("address-edit")[2];var K$=Se({name:Y$,props:{show:Boolean,rows:Fe,value:String,rules:Array,focused:Boolean,maxlength:Fe,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","selectSearch"],setup(e,{emit:t}){const n=ie(),i=()=>e.focused&&e.searchResult&&e.showSearchResult,r=u=>{t("selectSearch",u),t("input","".concat(u.address||""," ").concat(u.name||"").trim())},s=()=>{if(!i())return;const{searchResult:u}=e;return u.map(c=>x(vi,{clickable:!0,key:(c.name||"")+(c.address||""),icon:"location-o",title:c.name,label:c.address,class:v1("search-item"),border:!1,onClick:()=>r(c)},null))},a=u=>t("blur",u),o=u=>t("focus",u),l=u=>t("input",u);return()=>{if(e.show)return x(ct,null,[x(Vn,{autosize:!0,clearable:!0,ref:n,class:v1(),rows:e.rows,type:"textarea",rules:e.rules,label:y1("addressDetail"),border:!i(),maxlength:e.maxlength,modelValue:e.value,placeholder:y1("addressDetail"),onBlur:a,onFocus:o,"onUpdate:modelValue":l},null),s()])}}});const[X$,hl,bi]=Me("address-edit"),oD={name:"",tel:"",city:"",county:"",province:"",areaCode:"",isDefault:!1,addressDetail:""},Q$={areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:Le,showDetail:Le,showDelete:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:Fe,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:qe(1),detailMaxlength:qe(200),areaColumnsPlaceholder:cn(),addressInfo:{type:Object,default:()=>et({},oD)},telValidator:{type:Function,default:y2}};var J$=Se({name:X$,props:Q$,emits:["save","focus","change","delete","clickArea","changeArea","changeDetail","selectSearch","changeDefault"],setup(e,{emit:t,slots:n}){const i=ie(),r=vt({}),s=ie(!1),a=ie(!1),o=fe(()=>dr(e.areaList)&&Object.keys(e.areaList).length),l=fe(()=>{const{province:k,city:O,county:I,areaCode:w}=r;if(w){const D=[k,O,I];return k&&k===O&&D.splice(1,1),D.filter(Boolean).join("/")}return""}),u=fe(()=>{var k;return((k=e.searchResult)==null?void 0:k.length)&&a.value}),c=k=>{a.value=k==="addressDetail",t("focus",k)},d=(k,O)=>{t("change",{key:k,value:O})},f=fe(()=>{const{validator:k,telValidator:O}=e,I=(w,D)=>({validator:R=>{if(k){const L=k(w,R);if(L)return L}return R?!0:D}});return{name:[I("name",bi("nameEmpty"))],tel:[I("tel",bi("telInvalid")),{validator:O,message:bi("telInvalid")}],areaCode:[I("areaCode",bi("areaEmpty"))],addressDetail:[I("addressDetail",bi("addressEmpty"))]}}),h=()=>t("save",r),m=k=>{r.addressDetail=k,t("changeDetail",k)},p=k=>{r.province=k[0].text,r.city=k[1].text,r.county=k[2].text},g=({selectedValues:k,selectedOptions:O})=>{k.some(I=>I===jl)?Ri(bi("areaEmpty")):(s.value=!1,p(O),t("changeArea",O))},_=()=>t("delete",r),y=k=>{r.areaCode=k||""},b=()=>{setTimeout(()=>{a.value=!1})},A=k=>{r.addressDetail=k},T=()=>{if(e.showSetDefault){const k={"right-icon":()=>x(I_,{modelValue:r.isDefault,"onUpdate:modelValue":O=>r.isDefault=O,onChange:O=>t("changeDefault",O)},null)};return un(x(vi,{center:!0,border:!1,title:bi("defaultAddress"),class:hl("default")},k),[[On,!u.value]])}};return Ct({setAreaCode:y,setAddressDetail:A}),De(()=>e.addressInfo,k=>{et(r,oD,k),Ke(()=>{var O;const I=(O=i.value)==null?void 0:O.getSelectedOptions();I&&I.every(w=>w&&w.value!==jl)&&p(I)})},{deep:!0,immediate:!0}),()=>{const{disableArea:k}=e;return x(nm,{class:hl(),onSubmit:h},{default:()=>{var O;return[x("div",{class:hl("fields")},[x(Vn,{modelValue:r.name,"onUpdate:modelValue":[I=>r.name=I,I=>d("name",I)],clearable:!0,label:bi("name"),rules:f.value.name,placeholder:bi("name"),onFocus:()=>c("name")},null),x(Vn,{modelValue:r.tel,"onUpdate:modelValue":[I=>r.tel=I,I=>d("tel",I)],clearable:!0,type:"tel",label:bi("tel"),rules:f.value.tel,maxlength:e.telMaxlength,placeholder:bi("tel"),onFocus:()=>c("tel")},null),un(x(Vn,{readonly:!0,label:bi("area"),"is-link":!k,modelValue:l.value,rules:e.showArea?f.value.areaCode:void 0,placeholder:e.areaPlaceholder||bi("area"),onFocus:()=>c("areaCode"),onClick:()=>{t("clickArea"),s.value=!k}},null),[[On,e.showArea]]),x(K$,{show:e.showDetail,rows:e.detailRows,rules:f.value.addressDetail,value:r.addressDetail,focused:a.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:b,onFocus:()=>c("addressDetail"),onInput:m,onSelectSearch:I=>t("selectSearch",I)},null),(O=n.default)==null?void 0:O.call(n)]),T(),un(x("div",{class:hl("buttons")},[x(Mn,{block:!0,round:!0,type:"primary",text:e.saveButtonText||bi("save"),class:hl("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&x(Mn,{block:!0,round:!0,class:hl("button"),loading:e.isDeleting,text:e.deleteButtonText||bi("delete"),onClick:_},null)]),[[On,!u.value]]),x(Jn,{show:s.value,"onUpdate:show":I=>s.value=I,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[x(iD,{modelValue:r.areaCode,"onUpdate:modelValue":I=>r.areaCode=I,ref:i,loading:!o.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:g,onCancel:()=>{s.value=!1}},null)]})]}})}}});const Z$=$e(J$),[lD,e8]=Me("radio-group"),t8={shape:String,disabled:Boolean,iconSize:Fe,direction:String,modelValue:pn,checkedColor:String},uD=Symbol(lD);var n8=Se({name:lD,props:t8,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:i}=gi(uD),r=s=>t("update:modelValue",s);return De(()=>e.modelValue,s=>t("change",s)),i({props:e,updateValue:r}),no(()=>e.modelValue),()=>{var s;return x("div",{class:e8([e.direction]),role:"radiogroup"},[(s=n.default)==null?void 0:s.call(n)])}}});const P_=$e(n8),[cD,i8]=Me("checkbox-group"),r8={max:Fe,shape:Ue("round"),disabled:Boolean,iconSize:Fe,direction:String,modelValue:cn(),checkedColor:String},dD=Symbol(cD);var s8=Se({name:cD,props:r8,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{children:i,linkChildren:r}=gi(dD),s=o=>t("update:modelValue",o),a=(o={})=>{typeof o=="boolean"&&(o={checked:o});const{checked:l,skipDisabled:u}=o,d=i.filter(f=>f.props.bindGroup?f.props.disabled&&u?f.checked.value:l!=null?l:!f.checked.value:!1).map(f=>f.name);s(d)};return De(()=>e.modelValue,o=>t("change",o)),Ct({toggleAll:a}),no(()=>e.modelValue),r({props:e,updateValue:s}),()=>{var o;return x("div",{class:i8([e.direction])},[(o=n.default)==null?void 0:o.call(n)])}}});const R_=$e(s8),[a8,_1]=Me("tag"),o8={size:String,mark:Boolean,show:Le,type:Ue("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var l8=Se({name:a8,props:o8,emits:["close"],setup(e,{slots:t,emit:n}){const i=a=>{a.stopPropagation(),n("close",a)},r=()=>e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},s=()=>{var a;const{type:o,mark:l,plain:u,round:c,size:d,closeable:f}=e,h={mark:l,plain:u,round:c};d&&(h[d]=d);const m=f&&x(pt,{name:"cross",class:[_1("close"),mi],onClick:i},null);return x("span",{style:r(),class:_1([h,o])},[(a=t.default)==null?void 0:a.call(t),m])};return()=>x(Od,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?s():null]})}});const sm=$e(l8),L_={name:pn,disabled:Boolean,iconSize:Fe,modelValue:pn,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var fD=Se({props:et({},L_,{bem:Gn(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:Le,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){const i=ie(),r=f=>{if(e.parent&&e.bindGroup)return e.parent.props[f]},s=fe(()=>{if(e.parent&&e.bindGroup){const f=r("disabled")||e.disabled;if(e.role==="checkbox"){const h=r("modelValue").length,m=r("max"),p=m&&h>=+m;return f||p&&!e.checked}return f}return e.disabled}),a=fe(()=>r("direction")),o=fe(()=>{const f=e.checkedColor||r("checkedColor");if(f&&(e.checked||e.indeterminate)&&!s.value)return{borderColor:f,backgroundColor:f}}),l=fe(()=>e.shape||r("shape")||"round"),u=f=>{const{target:h}=f,m=i.value,p=m===h||(m==null?void 0:m.contains(h));!s.value&&(p||!e.labelDisabled)&&t("toggle"),t("click",f)},c=()=>{var f,h;const{bem:m,checked:p,indeterminate:g}=e,_=e.iconSize||r("iconSize");return x("div",{ref:i,class:m("icon",[l.value,{disabled:s.value,checked:p,indeterminate:g}]),style:l.value!=="dot"?{fontSize:mt(_)}:{width:mt(_),height:mt(_),borderColor:(f=o.value)==null?void 0:f.borderColor}},[n.icon?n.icon({checked:p,disabled:s.value}):l.value!=="dot"?x(pt,{name:g?"minus":"success",style:o.value},null):x("div",{class:m("icon--dot__icon"),style:{backgroundColor:(h=o.value)==null?void 0:h.backgroundColor}},null)])},d=()=>{const{checked:f}=e;if(n.default)return x("span",{class:e.bem("label",[e.labelPosition,{disabled:s.value}])},[n.default({checked:f,disabled:s.value})])};return()=>{const f=e.labelPosition==="left"?[d(),c()]:[c(),d()];return x("div",{role:e.role,class:e.bem([{disabled:s.value,"label-disabled":e.labelDisabled},a.value]),tabindex:s.value?void 0:0,"aria-checked":e.checked,onClick:u},[f])}}});const u8=et({},L_,{shape:String}),[c8,d8]=Me("radio");var f8=Se({name:c8,props:u8,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:i}=ii(uD),r=()=>(i?i.props.modelValue:e.modelValue)===e.name,s=()=>{i?i.updateValue(e.name):t("update:modelValue",e.name)};return()=>x(fD,tt({bem:d8,role:"radio",parent:i,checked:r(),onToggle:s},e),Rt(n,["default","icon"]))}});const M_=$e(f8),[h8,p8]=Me("checkbox"),m8=et({},L_,{shape:String,bindGroup:Le,indeterminate:{type:Boolean,default:null}});var g8=Se({name:h8,props:m8,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:i}=ii(dD),r=o=>{const{name:l}=e,{max:u,modelValue:c}=i.props,d=c.slice();if(o)!(u&&d.length>=+u)&&!d.includes(l)&&(d.push(l),e.bindGroup&&i.updateValue(d));else{const f=d.indexOf(l);f!==-1&&(d.splice(f,1),e.bindGroup&&i.updateValue(d))}},s=fe(()=>i&&e.bindGroup?i.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),a=(o=!s.value)=>{i&&e.bindGroup?r(o):t("update:modelValue",o),e.indeterminate!==null&&t("change",o)};return De(()=>e.modelValue,o=>{e.indeterminate===null&&t("change",o)}),Ct({toggle:a,props:e,checked:s}),no(()=>e.modelValue),()=>x(fD,tt({bem:p8,role:"checkbox",parent:i,checked:s.value,onToggle:a},e),Rt(n,["default","icon"]))}});const Ld=$e(g8),[v8,pl]=Me("address-item");var y8=Se({name:v8,props:{address:Gn(Object),disabled:Boolean,switchable:Boolean,singleChoice:Boolean,defaultTagText:String,rightIcon:Ue("edit")},emits:["edit","click","select"],setup(e,{slots:t,emit:n}){const i=o=>{e.switchable&&n("select"),n("click",o)},r=()=>x(pt,{name:e.rightIcon,class:pl("edit"),onClick:o=>{o.stopPropagation(),n("edit"),n("click",o)}},null),s=()=>{if(t.tag)return t.tag(e.address);if(e.address.isDefault&&e.defaultTagText)return x(sm,{type:"primary",round:!0,class:pl("tag")},{default:()=>[e.defaultTagText]})},a=()=>{const{address:o,disabled:l,switchable:u,singleChoice:c}=e,d=[x("div",{class:pl("name")},["".concat(o.name," ").concat(o.tel),s()]),x("div",{class:pl("address")},[o.address])];return u&&!l?c?x(M_,{name:o.id,iconSize:18},{default:()=>[d]}):x(Ld,{name:o.id,iconSize:18},{default:()=>[d]}):d};return()=>{var o;const{disabled:l}=e;return x("div",{class:pl({disabled:l}),onClick:i},[x(vi,{border:!1,titleClass:pl("title")},{title:a,"right-icon":r}),(o=t.bottom)==null?void 0:o.call(t,et({},e.address,{disabled:l}))])}}});const[_8,Nf,b8]=Me("address-list"),T8={list:cn(),modelValue:[...Fe,Array],switchable:Le,disabledText:String,disabledList:cn(),showAddButton:Le,addButtonText:String,defaultTagText:String,rightIcon:Ue("edit")};var A8=Se({name:_8,props:T8,emits:["add","edit","select","clickItem","editDisabled","selectDisabled","update:modelValue"],setup(e,{slots:t,emit:n}){const i=fe(()=>!Array.isArray(e.modelValue)),r=(o,l,u)=>{const c=()=>n(u?"editDisabled":"edit",o,l),d=h=>n("clickItem",o,l,{event:h}),f=()=>{if(n(u?"selectDisabled":"select",o,l),!u)if(i.value)n("update:modelValue",o.id);else{const h=e.modelValue;h.includes(o.id)?n("update:modelValue",h.filter(m=>m!==o.id)):n("update:modelValue",[...h,o.id])}};return x(y8,{key:o.id,address:o,disabled:u,switchable:e.switchable,singleChoice:i.value,defaultTagText:e.defaultTagText,rightIcon:e.rightIcon,onEdit:c,onClick:d,onSelect:f},{bottom:t["item-bottom"],tag:t.tag})},s=(o,l)=>{if(o)return o.map((u,c)=>r(u,c,l))},a=()=>e.showAddButton?x("div",{class:[Nf("bottom"),"van-safe-area-bottom"]},[x(Mn,{round:!0,block:!0,type:"primary",text:e.addButtonText||b8("add"),class:Nf("add"),onClick:()=>n("add")},null)]):void 0;return()=>{var o,l;const u=s(e.list),c=s(e.disabledList,!0),d=e.disabledText&&x("div",{class:Nf("disabled-text")},[e.disabledText]);return x("div",{class:Nf()},[(o=t.top)==null?void 0:o.call(t),!i.value&&Array.isArray(e.modelValue)?x(R_,{modelValue:e.modelValue},{default:()=>[u]}):x(P_,{modelValue:e.modelValue},{default:()=>[u]}),d,c,(l=t.default)==null?void 0:l.call(t),a()])}}});const S8=$e(A8);function x8(e,t){let n=null,i=0;return function(...r){if(n)return;const s=Date.now()-i,a=()=>{i=Date.now(),n=!1,e.apply(this,r)};s>=t?a():n=setTimeout(a,t)}}const[E8,Ng]=Me("back-top"),C8={right:Fe,bottom:Fe,zIndex:Fe,target:[String,Object],offset:qe(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}};var w8=Se({name:E8,inheritAttrs:!1,props:C8,emits:["click"],setup(e,{emit:t,slots:n,attrs:i}){let r=!1;const s=ie(!1),a=ie(),o=ie(),l=fe(()=>et(Ta(e.zIndex),{right:mt(e.right),bottom:mt(e.bottom)})),u=h=>{var m;t("click",h),(m=o.value)==null||m.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},c=()=>{s.value=o.value?da(o.value)>=+e.offset:!1},d=()=>{const{target:h}=e;if(typeof h=="string"){const m=document.querySelector(h);if(m)return m}else return h},f=()=>{$i&&Ke(()=>{o.value=e.target?d():y_(a.value),c()})};return Cn("scroll",x8(c,100),{target:o}),Et(f),gr(()=>{r&&(s.value=!0,r=!1)}),vr(()=>{s.value&&e.teleport&&(s.value=!1,r=!0)}),De(()=>e.target,f),()=>{const h=x("div",tt({ref:e.teleport?void 0:a,class:Ng({active:s.value}),style:l.value,onClick:u},i),[n.default?n.default():x(pt,{name:"back-top",class:Ng("icon")},null)]);return e.teleport?[x("div",{ref:a,class:Ng("placeholder")},null),x(va,{to:e.teleport},{default:()=>[h]})]:h}}});const D8=$e(w8);var k8=(e,t,n)=>new Promise((i,r)=>{var s=l=>{try{o(n.next(l))}catch(u){r(u)}},a=l=>{try{o(n.throw(l))}catch(u){r(u)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,a);o((n=n.apply(e,t)).next())});const O8={top:qe(10),rows:qe(4),duration:qe(4e3),autoPlay:Le,delay:Un(300),modelValue:cn()},[I8,b1]=Me("barrage");var P8=Se({name:I8,props:O8,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const i=ie(),r=b1("item"),s=ie(0),a=[],o=(p,g=e.delay)=>{const _=document.createElement("span");return _.className=r,_.innerText=String(p),_.style.animationDuration="".concat(e.duration,"ms"),_.style.animationDelay="".concat(g,"ms"),_.style.animationName="van-barrage",_.style.animationTimingFunction="linear",_},l=ie(!0),u=ie(e.autoPlay),c=({id:p,text:g},_)=>{var y;const b=o(g,l.value?_*e.delay:void 0);!e.autoPlay&&u.value===!1&&(b.style.animationPlayState="paused"),(y=i.value)==null||y.append(b),s.value++;const A=(s.value-1)%+e.rows*b.offsetHeight+ +e.top;b.style.top="".concat(A,"px"),b.dataset.id=String(p),a.push(b),b.addEventListener("animationend",()=>{t("update:modelValue",[...e.modelValue].filter(T=>String(T.id)!==b.dataset.id))})},d=(p,g)=>{const _=new Map(g.map(y=>[y.id,y]));p.forEach((y,b)=>{_.has(y.id)?_.delete(y.id):c(y,b)}),_.forEach(y=>{const b=a.findIndex(A=>A.dataset.id===String(y.id));b>-1&&(a[b].remove(),a.splice(b,1))}),l.value=!1};De(()=>e.modelValue.slice(),(p,g)=>d(p!=null?p:[],g!=null?g:[]),{deep:!0});const f=ie({});return Et(()=>k8(null,null,function*(){var p;f.value["--move-distance"]="-".concat((p=i.value)==null?void 0:p.offsetWidth,"px"),yield Ke(),d(e.modelValue,[])})),Ct({play:()=>{u.value=!0,a.forEach(p=>{p.style.animationPlayState="running"})},pause:()=>{u.value=!1,a.forEach(p=>{p.style.animationPlayState="paused"})}}),()=>{var p;return x("div",{class:b1(),ref:i,style:f.value},[(p=n.default)==null?void 0:p.call(n)])}}});const R8=$e(P8),[L8,Tn,ra]=Me("calendar"),M8=e=>ra("monthTitle",e.getFullYear(),e.getMonth()+1);function Oo(e,t){const n=e.getFullYear(),i=t.getFullYear();if(n===i){const r=e.getMonth(),s=t.getMonth();return r===s?0:r>s?1:-1}return n>i?1:-1}function Pi(e,t){const n=Oo(e,t);if(n===0){const i=e.getDate(),r=t.getDate();return i===r?0:i>r?1:-1}return n}const au=e=>new Date(e),T1=e=>Array.isArray(e)?e.map(au):au(e);function N_(e,t){const n=au(e);return n.setDate(n.getDate()+t),n}function B_(e,t){const n=au(e);return n.setMonth(n.getMonth()+t),n.getDate()!==e.getDate()&&n.setDate(0),n}function hD(e,t){const n=au(e);return n.setFullYear(n.getFullYear()+t),n.getDate()!==e.getDate()&&n.setDate(0),n}const T0=e=>N_(e,-1),A0=e=>N_(e,1),A1=e=>B_(e,-1),S1=e=>B_(e,1),x1=e=>hD(e,-1),E1=e=>hD(e,1),Bf=()=>{const e=new Date;return e.setHours(0,0,0,0),e};function N8(e){const t=e[0].getTime();return(e[1].getTime()-t)/(1e3*60*60*24)+1}function B8(e,t=0){const n=new Date(e.getFullYear(),e.getMonth()+1,0),i=t+e.getDate()-1,r=t+n.getDate()-1;return Math.floor(i/7)===Math.floor(r/7)}const pD=et({},em,{modelValue:cn(),filter:Function,formatter:{type:Function,default:(e,t)=>t}}),mD=Object.keys(em);function F8(e,t){if(e<0)return[];const n=Array(e);let i=-1;for(;++i<e;)n[i]=t(i);return n}const gD=(e,t)=>32-new Date(e,t-1,32).getDate(),Hl=(e,t,n,i,r,s)=>{const a=F8(t-e+1,o=>{const l=Rr(e+o);return i(n,{text:l,value:l})});return r?r(n,a,s):a},vD=(e,t)=>e.map((n,i)=>{const r=t[i];if(r.length){const s=+r[0].value,a=+r[r.length-1].value;return Rr(qn(+n,s,a))}return n}),[$8]=Me("calendar-day");var U8=Se({name:$8,props:{item:Gn(Object),color:String,index:Number,offset:Un(0),rowHeight:String},emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:n}){const i=fe(()=>{const{item:u,index:c,color:d,offset:f,rowHeight:h}=e,m={height:h};if(u.type==="placeholder")return m.width="100%",m;if(c===0&&(m.marginLeft="".concat(100*f/7,"%")),d)switch(u.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":m.background=d;break;case"middle":m.color=d;break}return u.date&&B8(u.date,f)&&(m.marginBottom=0),m}),r=()=>{e.item.type!=="disabled"?t("click",e.item):t("clickDisabledDate",e.item)},s=()=>{const{topInfo:u}=e.item;if(u||n["top-info"])return x("div",{class:Tn("top-info")},[n["top-info"]?n["top-info"](e.item):u])},a=()=>{const{bottomInfo:u}=e.item;if(u||n["bottom-info"])return x("div",{class:Tn("bottom-info")},[n["bottom-info"]?n["bottom-info"](e.item):u])},o=()=>n.text?n.text(e.item):e.item.text,l=()=>{const{item:u,color:c,rowHeight:d}=e,{type:f}=u,h=[s(),o(),a()];return f==="selected"?x("div",{class:Tn("selected-day"),style:{width:d,height:d,background:c}},[h]):h};return()=>{const{type:u,className:c}=e.item;return u==="placeholder"?x("div",{class:Tn("day"),style:i.value},null):x("div",{role:"gridcell",style:i.value,class:[Tn("day",u),c],tabindex:u==="disabled"?void 0:-1,onClick:r},[l()])}}});const[V8]=Me("calendar-month"),j8={date:Gn(Date),type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:Fe,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var H8=Se({name:V8,props:j8,emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:n}){const[i,r]=pF(),s=ie(),a=ie(),o=P2(a),l=fe(()=>M8(e.date)),u=fe(()=>mt(e.rowHeight)),c=fe(()=>{const D=e.date.getDate(),L=(e.date.getDay()-D%7+8)%7;return e.firstDayOfWeek?(L+7-e.firstDayOfWeek)%7:L}),d=fe(()=>gD(e.date.getFullYear(),e.date.getMonth()+1)),f=fe(()=>i.value||!e.lazyRender),h=()=>l.value,m=D=>{const R=L=>e.currentDate.some(B=>Pi(B,L)===0);if(R(D)){const L=T0(D),B=A0(D),N=R(L),$=R(B);return N&&$?"multiple-middle":N?"end":$?"start":"multiple-selected"}return""},p=D=>{const[R,L]=e.currentDate;if(!R)return"";const B=Pi(D,R);if(!L)return B===0?"start":"";const N=Pi(D,L);return e.allowSameDay&&B===0&&N===0?"start-end":B===0?"start":N===0?"end":B>0&&N<0?"middle":""},g=D=>{const{type:R,minDate:L,maxDate:B,currentDate:N}=e;if(L&&Pi(D,L)<0||B&&Pi(D,B)>0)return"disabled";if(N===null)return"";if(Array.isArray(N)){if(R==="multiple")return m(D);if(R==="range")return p(D)}else if(R==="single")return Pi(D,N)===0?"selected":"";return""},_=D=>{if(e.type==="range"){if(D==="start"||D==="end")return ra(D);if(D==="start-end")return"".concat(ra("start"),"/").concat(ra("end"))}},y=()=>{if(e.showMonthTitle)return x("div",{class:Tn("month-title")},[n["month-title"]?n["month-title"]({date:e.date,text:l.value}):l.value])},b=()=>{if(e.showMark&&f.value)return x("div",{class:Tn("month-mark")},[e.date.getMonth()+1])},A=fe(()=>{const D=Math.ceil((d.value+c.value)/7);return Array(D).fill({type:"placeholder"})}),T=fe(()=>{const D=[],R=e.date.getFullYear(),L=e.date.getMonth();for(let B=1;B<=d.value;B++){const N=new Date(R,L,B),$=g(N);let F={date:N,type:$,text:B,bottomInfo:_($)};e.formatter&&(F=e.formatter(F)),D.push(F)}return D}),k=fe(()=>T.value.filter(D=>D.type==="disabled")),O=(D,R)=>{if(s.value){const L=Lt(s.value),B=A.value.length,$=(Math.ceil((R.getDate()+c.value)/7)-1)*L.height/B;Kh(D,L.top+$+D.scrollTop-Lt(D).top)}},I=(D,R)=>x(U8,{item:D,index:R,color:e.color,offset:c.value,rowHeight:u.value,onClick:L=>t("click",L),onClickDisabledDate:L=>t("clickDisabledDate",L)},Rt(n,["top-info","bottom-info","text"])),w=()=>x("div",{ref:s,role:"grid",class:Tn("days")},[b(),(f.value?T:A).value.map(I)]);return Ct({getTitle:h,getHeight:()=>o.value,setVisible:r,scrollToDate:O,disabledDays:k}),()=>x("div",{class:Tn("month"),ref:a},[y(),w()])}});const[z8]=Me("calendar-header");var q8=Se({name:z8,props:{date:Date,minDate:Date,maxDate:Date,title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number,switchMode:Ue("none")},emits:["clickSubtitle","panelChange"],setup(e,{slots:t,emit:n}){const i=fe(()=>e.date&&e.minDate&&Oo(A1(e.date),e.minDate)<0),r=fe(()=>e.date&&e.minDate&&Oo(x1(e.date),e.minDate)<0),s=fe(()=>e.date&&e.maxDate&&Oo(S1(e.date),e.maxDate)>0),a=fe(()=>e.date&&e.maxDate&&Oo(E1(e.date),e.maxDate)>0),o=()=>{if(e.showTitle){const h=e.title||ra("title"),m=t.title?t.title():h;return x("div",{class:Tn("header-title")},[m])}},l=h=>n("clickSubtitle",h),u=h=>n("panelChange",h),c=h=>{const m=e.switchMode==="year-month",p=t[h?"next-month":"prev-month"],g=t[h?"next-year":"prev-year"],_=h?s.value:i.value,y=h?a.value:r.value,b=h?"arrow":"arrow-left",A=h?"arrow-double-right":"arrow-double-left",T=()=>u((h?S1:A1)(e.date)),k=()=>u((h?E1:x1)(e.date)),O=x("view",{class:Tn("header-action",{disabled:_}),onClick:_?void 0:T},[p?p({disabled:_}):x(pt,{class:{[mi]:!_},name:b},null)]),I=m&&x("view",{class:Tn("header-action",{disabled:y}),onClick:y?void 0:k},[g?g({disabled:y}):x(pt,{class:{[mi]:!y},name:A},null)]);return h?[O,I]:[I,O]},d=()=>{if(e.showSubtitle){const h=t.subtitle?t.subtitle({date:e.date,text:e.subtitle}):e.subtitle,m=e.switchMode!=="none";return x("div",{class:Tn("header-subtitle",{"with-switch":m}),onClick:l},[m?[c(),x("div",{class:Tn("header-subtitle-text")},[h]),c(!0)]:h])}},f=()=>{const{firstDayOfWeek:h}=e,m=ra("weekdays"),p=[...m.slice(h,7),...m.slice(0,h)];return x("div",{class:Tn("weekdays")},[p.map(g=>x("span",{class:Tn("weekday")},[g]))])};return()=>x("div",{class:Tn("header")},[o(),d(),f()])}});const W8={show:Boolean,type:Ue("single"),switchMode:Ue("none"),title:String,color:String,round:Le,readonly:Boolean,poppable:Le,maxRange:qe(null),position:Ue("bottom"),teleport:[String,Object],showMark:Le,showTitle:Le,formatter:Function,rowHeight:Fe,confirmText:String,rangePrompt:String,lazyRender:Le,showConfirm:Le,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Le,closeOnPopstate:Le,showRangePrompt:Le,confirmDisabledText:String,closeOnClickOverlay:Le,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Le,minDate:{type:Date,validator:sd},maxDate:{type:Date,validator:sd},firstDayOfWeek:{type:Fe,default:0,validator:e=>e>=0&&e<=6}};var G8=Se({name:L8,props:W8,emits:["select","confirm","unselect","monthShow","overRange","update:show","clickSubtitle","clickDisabledDate","clickOverlay","panelChange"],setup(e,{emit:t,slots:n}){const i=fe(()=>e.switchMode!=="none"),r=fe(()=>!e.minDate&&!i.value?Bf():e.minDate),s=fe(()=>!e.maxDate&&!i.value?B_(Bf(),6):e.maxDate),a=(W,le=r.value,ye=s.value)=>le&&Pi(W,le)===-1?le:ye&&Pi(W,ye)===1?ye:W,o=(W=e.defaultDate)=>{const{type:le,allowSameDay:ye}=e;if(W===null)return W;const ae=Bf();if(le==="range"){Array.isArray(W)||(W=[]),W.length===1&&Pi(W[0],ae)===1&&(W=[]);const ke=r.value,q=s.value,ve=a(W[0]||ae,ke,q?ye?q:T0(q):void 0),X=a(W[1]||(ye?ae:A0(ae)),ke?ye?ke:A0(ke):void 0);return[ve,X]}return le==="multiple"?Array.isArray(W)?W.map(ke=>a(ke)):[a(ae)]:((!W||Array.isArray(W))&&(W=ae),a(W))},l=()=>{const W=Array.isArray(d.value)?d.value[0]:d.value;return W||a(Bf())};let u;const c=ie(),d=ie(o()),f=ie(l()),h=ie(),[m,p]=Id(),g=fe(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),_=fe(()=>{const W=[];if(!r.value||!s.value)return W;const le=new Date(r.value);le.setDate(1);do W.push(new Date(le)),le.setMonth(le.getMonth()+1);while(Oo(le,s.value)!==1);return W}),y=fe(()=>{if(d.value){if(e.type==="range")return!d.value[0]||!d.value[1];if(e.type==="multiple")return!d.value.length}return!d.value}),b=()=>d.value,A=()=>{const W=da(c.value),le=W+u,ye=_.value.map((X,Z)=>m.value[Z].getHeight()),ae=ye.reduce((X,Z)=>X+Z,0);if(le>ae&&W>0)return;let ke=0,q;const ve=[-1,-1];for(let X=0;X<_.value.length;X++){const Z=m.value[X];ke<=le&&ke+ye[X]>=W&&(ve[1]=X,q||(q=Z,ve[0]=X),m.value[X].showed||(m.value[X].showed=!0,t("monthShow",{date:Z.date,title:Z.getTitle()}))),ke+=ye[X]}_.value.forEach((X,Z)=>{const he=Z>=ve[0]-1&&Z<=ve[1]+1;m.value[Z].setVisible(he)}),q&&(h.value=q)},T=W=>{i.value?f.value=W:di(()=>{_.value.some((le,ye)=>Oo(le,W)===0?(c.value&&m.value[ye].scrollToDate(c.value,W),!0):!1),A()})},k=()=>{if(!(e.poppable&&!e.show))if(d.value){const W=e.type==="single"?d.value:d.value[0];sd(W)&&T(W)}else i.value||di(A)},O=()=>{e.poppable&&!e.show||(i.value||di(()=>{u=Math.floor(Lt(c).height)}),k())},I=(W=o())=>{d.value=W,k()},w=W=>{const{maxRange:le,rangePrompt:ye,showRangePrompt:ae}=e;return le&&N8(W)>+le?(ae&&Ri(ye||ra("rangePrompt",le)),t("overRange"),!1):!0},D=W=>{f.value=W,t("panelChange",{date:W})},R=()=>{var W;return t("confirm",(W=d.value)!=null?W:T1(d.value))},L=(W,le)=>{const ye=ae=>{d.value=ae,t("select",T1(ae))};if(le&&e.type==="range"&&!w(W)){ye([W[0],N_(W[0],+e.maxRange-1)]);return}ye(W),le&&!e.showConfirm&&R()},B=(W,le,ye)=>{var ae;return(ae=W.find(ke=>Pi(le,ke.date)===-1&&Pi(ke.date,ye)===-1))==null?void 0:ae.date},N=fe(()=>m.value.reduce((W,le)=>{var ye,ae;return W.push(...(ae=(ye=le.disabledDays)==null?void 0:ye.value)!=null?ae:[]),W},[])),$=W=>{if(e.readonly||!W.date)return;const{date:le}=W,{type:ye}=e;if(ye==="range"){if(!d.value){L([le]);return}const[ae,ke]=d.value;if(ae&&!ke){const q=Pi(le,ae);if(q===1){const ve=B(N.value,ae,le);if(ve){const X=T0(ve);Pi(ae,X)===-1?L([ae,X]):L([le])}else L([ae,le],!0)}else q===-1?L([le]):e.allowSameDay&&L([le,le],!0)}else L([le])}else if(ye==="multiple"){if(!d.value){L([le]);return}const ae=d.value,ke=ae.findIndex(q=>Pi(q,le)===0);if(ke!==-1){const[q]=ae.splice(ke,1);t("unselect",au(q))}else e.maxRange&&ae.length>=+e.maxRange?Ri(e.rangePrompt||ra("rangePrompt",e.maxRange)):L([...ae,le])}else L(le,!0)},F=W=>t("clickOverlay",W),V=W=>t("update:show",W),U=(W,le)=>{const ye=le!==0||!e.showSubtitle;return x(H8,tt({ref:i.value?h:p(le),date:W,currentDate:d.value,showMonthTitle:ye,firstDayOfWeek:g.value,lazyRender:i.value?!1:e.lazyRender,maxDate:s.value,minDate:r.value},Rt(e,["type","color","showMark","formatter","rowHeight","showSubtitle","allowSameDay"]),{onClick:$,onClickDisabledDate:ae=>t("clickDisabledDate",ae)}),Rt(n,["top-info","bottom-info","month-title","text"]))},Y=()=>{if(n.footer)return n.footer();if(e.showConfirm){const W=n["confirm-text"],le=y.value,ye=le?e.confirmDisabledText:e.confirmText;return x(Mn,{round:!0,block:!0,type:"primary",color:e.color,class:Tn("confirm"),disabled:le,nativeType:"button",onClick:R},{default:()=>[W?W({disabled:le}):ye||ra("confirm")]})}},ne=()=>x("div",{class:[Tn("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[Y()]),z=()=>{var W,le;return x("div",{class:Tn()},[x(q8,{date:(W=h.value)==null?void 0:W.date,maxDate:s.value,minDate:r.value,title:e.title,subtitle:(le=h.value)==null?void 0:le.getTitle(),showTitle:e.showTitle,showSubtitle:e.showSubtitle,switchMode:e.switchMode,firstDayOfWeek:g.value,onClickSubtitle:ye=>t("clickSubtitle",ye),onPanelChange:D},Rt(n,["title","subtitle","prev-month","prev-year","next-month","next-year"])),x("div",{ref:c,class:Tn("body"),onScroll:i.value?void 0:A},[i.value?U(f.value,0):_.value.map(U)]),ne()])};return De(()=>e.show,O),De(()=>[e.type,e.minDate,e.maxDate,e.switchMode],()=>I(o(d.value))),De(()=>e.defaultDate,W=>{I(W)}),Ct({reset:I,scrollToDate:T,getSelectedDate:b}),xu(O),()=>e.poppable?x(Jn,{show:e.show,class:Tn("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,onClickOverlay:F,"onUpdate:show":V},{default:z}):z()}});const Y8=$e(G8),[K8,ml]=Me("image"),X8={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:Fe,height:Fe,radius:Fe,lazyLoad:Boolean,iconSize:Fe,showError:Le,errorIcon:Ue("photo-fail"),iconPrefix:String,showLoading:Le,loadingIcon:Ue("photo"),crossorigin:String,referrerpolicy:String,decoding:String};var Q8=Se({name:K8,props:X8,emits:["load","error"],setup(e,{emit:t,slots:n}){const i=ie(!1),r=ie(!0),s=ie(),{$Lazyload:a}=mn().proxy,o=fe(()=>{const g={width:mt(e.width),height:mt(e.height)};return Ot(e.radius)&&(g.overflow="hidden",g.borderRadius=mt(e.radius)),g});De(()=>e.src,()=>{i.value=!1,r.value=!0});const l=g=>{r.value&&(r.value=!1,t("load",g))},u=()=>{const g=new Event("load");Object.defineProperty(g,"target",{value:s.value,enumerable:!0}),l(g)},c=g=>{i.value=!0,r.value=!1,t("error",g)},d=(g,_,y)=>y?y():x(pt,{name:g,size:e.iconSize,class:_,classPrefix:e.iconPrefix},null),f=()=>{if(r.value&&e.showLoading)return x("div",{class:ml("loading")},[d(e.loadingIcon,ml("loading-icon"),n.loading)]);if(i.value&&e.showError)return x("div",{class:ml("error")},[d(e.errorIcon,ml("error-icon"),n.error)])},h=()=>{if(i.value||!e.src)return;const g={alt:e.alt,class:ml("img"),decoding:e.decoding,style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?un(x("img",tt({ref:s},g),null),[[Uh("lazy"),e.src]]):x("img",tt({ref:s,src:e.src,onLoad:l,onError:c},g),null)},m=({el:g})=>{const _=()=>{g===s.value&&r.value&&u()};s.value?_():Ke(_)},p=({el:g})=>{g===s.value&&!i.value&&c()};return a&&$i&&(a.$on("loaded",m),a.$on("error",p),Oi(()=>{a.$off("loaded",m),a.$off("error",p)})),Et(()=>{Ke(()=>{var g;(g=s.value)!=null&&g.complete&&!e.lazyLoad&&u()})}),()=>{var g;return x("div",{class:ml({round:e.round,block:e.block}),style:o.value},[h(),f(),(g=n.default)==null?void 0:g.call(n)])}}});const am=$e(Q8),[J8,Ti]=Me("card"),Z8={tag:String,num:Fe,desc:String,thumb:String,title:String,price:Fe,centered:Boolean,lazyLoad:Boolean,currency:Ue(""),thumbLink:String,originPrice:Fe};var e5=Se({name:J8,props:Z8,emits:["clickThumb"],setup(e,{slots:t,emit:n}){const i=()=>{if(t.title)return t.title();if(e.title)return x("div",{class:[Ti("title"),"van-multi-ellipsis--l2"]},[e.title])},r=()=>{if(t.tag||e.tag)return x("div",{class:Ti("tag")},[t.tag?t.tag():x(sm,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},s=()=>t.thumb?t.thumb():x(am,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),a=()=>{if(t.thumb||e.thumb)return x("a",{href:e.thumbLink,class:Ti("thumb"),onClick:u=>n("clickThumb",u)},[s(),r()])},o=()=>{if(t.desc)return t.desc();if(e.desc)return x("div",{class:[Ti("desc"),"van-ellipsis"]},[e.desc])},l=()=>{const u=e.price.toString().split(".");return x("div",null,[x("span",{class:Ti("price-currency")},[e.currency]),x("span",{class:Ti("price-integer")},[u[0]]),u.length>1&&x(ct,null,[ci("."),x("span",{class:Ti("price-decimal")},[u[1]])])])};return()=>{var u,c,d;const f=t.num||Ot(e.num),h=t.price||Ot(e.price),m=t["origin-price"]||Ot(e.originPrice),p=f||h||m||t.bottom,g=h&&x("div",{class:Ti("price")},[t.price?t.price():l()]),_=m&&x("div",{class:Ti("origin-price")},[t["origin-price"]?t["origin-price"]():"".concat(e.currency," ").concat(e.originPrice)]),y=f&&x("div",{class:Ti("num")},[t.num?t.num():"x".concat(e.num)]),b=t.footer&&x("div",{class:Ti("footer")},[t.footer()]),A=p&&x("div",{class:Ti("bottom")},[(u=t["price-top"])==null?void 0:u.call(t),g,_,y,(c=t.bottom)==null?void 0:c.call(t)]);return x("div",{class:Ti()},[x("div",{class:Ti("header")},[a(),x("div",{class:Ti("content",{centered:e.centered})},[x("div",null,[i(),o(),(d=t.tags)==null?void 0:d.call(t)]),A])]),b])}}});const t5=$e(e5),[n5,Fs,i5]=Me("cascader"),r5={title:String,options:cn(),closeable:Le,swipeable:Le,closeIcon:Ue("cross"),showHeader:Le,modelValue:Fe,fieldNames:Object,placeholder:String,activeColor:String};var s5=Se({name:n5,props:r5,emits:["close","change","finish","clickTab","update:modelValue"],setup(e,{slots:t,emit:n}){const i=ie([]),r=ie(0),[s,a]=Id(),{text:o,value:l,children:u}=et({text:"text",value:"value",children:"children"},e.fieldNames),c=(T,k)=>{for(const O of T){if(O[l]===k)return[O];if(O[u]){const I=c(O[u],k);if(I)return[O,...I]}}},d=()=>{const{options:T,modelValue:k}=e;if(k!==void 0){const O=c(T,k);if(O){let I=T;i.value=O.map(w=>{const D={options:I,selected:w},R=I.find(L=>L[l]===w[l]);return R&&(I=R[u]),D}),I&&i.value.push({options:I,selected:null}),Ke(()=>{r.value=i.value.length-1});return}}i.value=[{options:T,selected:null}]},f=(T,k)=>{if(T.disabled)return;if(i.value[k].selected=T,i.value.length>k+1&&(i.value=i.value.slice(0,k+1)),T[u]){const w={options:T[u],selected:null};i.value[k+1]?i.value[k+1]=w:i.value.push(w),Ke(()=>{r.value++})}const O=i.value.map(w=>w.selected).filter(Boolean);n("update:modelValue",T[l]);const I={value:T[l],tabIndex:k,selectedOptions:O};n("change",I),T[u]||n("finish",I)},h=()=>n("close"),m=({name:T,title:k})=>n("clickTab",T,k),p=()=>e.showHeader?x("div",{class:Fs("header")},[x("h2",{class:Fs("title")},[t.title?t.title():e.title]),e.closeable?x(pt,{name:e.closeIcon,class:[Fs("close-icon"),mi],onClick:h},null):null]):null,g=(T,k,O)=>{const{disabled:I}=T,w=!!(k&&T[l]===k[l]),D=T.color||(w?e.activeColor:void 0),R=t.option?t.option({option:T,selected:w}):x("span",null,[T[o]]);return x("li",{ref:w?a(O):void 0,role:"menuitemradio",class:[Fs("option",{selected:w,disabled:I}),T.className],style:{color:D},tabindex:I?void 0:w?0:-1,"aria-checked":w,"aria-disabled":I||void 0,onClick:()=>f(T,O)},[R,w?x(pt,{name:"success",class:Fs("selected-icon")},null):null])},_=(T,k,O)=>x("ul",{role:"menu",class:Fs("options")},[T.map(I=>g(I,k,O))]),y=(T,k)=>{const{options:O,selected:I}=T,w=e.placeholder||i5("select"),D=I?I[o]:w;return x(su,{title:D,titleClass:Fs("tab",{unselected:!I})},{default:()=>{var R,L;return[(R=t["options-top"])==null?void 0:R.call(t,{tabIndex:k}),_(O,I,k),(L=t["options-bottom"])==null?void 0:L.call(t,{tabIndex:k})]}})},b=()=>x(Pd,{active:r.value,"onUpdate:active":T=>r.value=T,shrink:!0,animated:!0,class:Fs("tabs"),color:e.activeColor,swipeable:e.swipeable,onClickTab:m},{default:()=>[i.value.map(y)]}),A=T=>{const k=T.parentElement;k&&(k.scrollTop=T.offsetTop-(k.offsetHeight-T.offsetHeight)/2)};return d(),De(r,T=>{const k=s.value[T];k&&A(k)}),De(()=>e.options,d,{deep:!0}),De(()=>e.modelValue,T=>{T!==void 0&&i.value.map(O=>{var I;return(I=O.selected)==null?void 0:I[l]}).includes(T)||d()}),()=>x("div",{class:Fs()},[p(),b()])}});const yD=$e(s5),[a5,C1]=Me("cell-group"),o5={title:String,inset:Boolean,border:Le};var l5=Se({name:a5,inheritAttrs:!1,props:o5,setup(e,{slots:t,attrs:n}){const i=()=>{var s;return x("div",tt({class:[C1({inset:e.inset}),{[Kp]:e.border&&!e.inset}]},n,Qh()),[(s=t.default)==null?void 0:s.call(t)])},r=()=>x("div",{class:C1("title",{inset:e.inset})},[t.title?t.title():e.title]);return()=>e.title||t.title?x(ct,null,[r(),i()]):i()}});const _D=$e(l5),[u5,Ff]=Me("circle");let c5=0;const w1=e=>Math.min(Math.max(+e,0),100);function d5(e,t){const n=e?1:0;return"M ".concat(t/2," ").concat(t/2," m 0, -500 a 500, 500 0 1, ").concat(n," 0, 1000 a 500, 500 0 1, ").concat(n," 0, -1000")}const f5={text:String,size:Fe,fill:Ue("none"),rate:qe(100),speed:qe(0),color:[String,Object],clockwise:Le,layerColor:String,currentRate:Un(0),strokeWidth:qe(40),strokeLinecap:String,startPosition:Ue("top")};var h5=Se({name:u5,props:f5,emits:["update:currentRate"],setup(e,{emit:t,slots:n}){const i="van-circle-".concat(c5++),r=fe(()=>+e.strokeWidth+1e3),s=fe(()=>d5(e.clockwise,r.value)),a=fe(()=>{const f={top:0,right:90,bottom:180,left:270}[e.startPosition];if(f)return{transform:"rotate(".concat(f,"deg)")}});De(()=>e.rate,d=>{let f;const h=Date.now(),m=e.currentRate,p=w1(d),g=Math.abs((m-p)*1e3/+e.speed),_=()=>{const y=Date.now(),A=Math.min((y-h)/g,1)*(p-m)+m;t("update:currentRate",w1(parseFloat(A.toFixed(1)))),(p>m?A<p:A>p)&&(f=di(_))};e.speed?(f&&Gp(f),f=di(_)):t("update:currentRate",p)},{immediate:!0});const o=()=>{const{strokeWidth:f,currentRate:h,strokeLinecap:m}=e,p=3140*h/100,g=dr(e.color)?"url(#".concat(i,")"):e.color,_={stroke:g,strokeWidth:"".concat(+f+1,"px"),strokeLinecap:m,strokeDasharray:"".concat(p,"px 3140px")};return x("path",{d:s.value,style:_,class:Ff("hover"),stroke:g},null)},l=()=>{const d={fill:e.fill,stroke:e.layerColor,strokeWidth:"".concat(e.strokeWidth,"px")};return x("path",{class:Ff("layer"),style:d,d:s.value},null)},u=()=>{const{color:d}=e;if(!dr(d))return;const f=Object.keys(d).sort((h,m)=>parseFloat(h)-parseFloat(m)).map((h,m)=>x("stop",{key:m,offset:h,"stop-color":d[h]},null));return x("defs",null,[x("linearGradient",{id:i,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[f])])},c=()=>{if(n.default)return n.default();if(e.text)return x("div",{class:Ff("text")},[e.text])};return()=>x("div",{class:Ff(),style:ba(e.size)},[x("svg",{viewBox:"0 0 ".concat(r.value," ").concat(r.value),style:a.value},[u(),l(),o()]),c()])}});const p5=$e(h5),[bD,m5]=Me("row"),TD=Symbol(bD),g5={tag:Ue("div"),wrap:Le,align:String,gutter:{type:[String,Number,Array],default:0},justify:String};var v5=Se({name:bD,props:g5,setup(e,{slots:t}){const{children:n,linkChildren:i}=gi(TD),r=fe(()=>{const o=[[]];let l=0;return n.forEach((u,c)=>{l+=Number(u.span),l>24?(o.push([c]),l-=24):o[o.length-1].push(c)}),o}),s=fe(()=>{let o=0;Array.isArray(e.gutter)?o=Number(e.gutter[0])||0:o=Number(e.gutter);const l=[];return o&&r.value.forEach(u=>{const c=o*(u.length-1)/u.length;u.forEach((d,f)=>{if(f===0)l.push({right:c});else{const h=o-l[d-1].right,m=c-h;l.push({left:h,right:m})}})}),l}),a=fe(()=>{const{gutter:o}=e,l=[];if(Array.isArray(o)&&o.length>1){const u=Number(o[1])||0;if(u<=0)return l;r.value.forEach((c,d)=>{d!==r.value.length-1&&c.forEach(()=>{l.push({bottom:u})})})}return l});return i({spaces:s,verticalSpaces:a}),()=>{const{tag:o,wrap:l,align:u,justify:c}=e;return x(o,{class:m5({["align-".concat(u)]:u,["justify-".concat(c)]:c,nowrap:!l})},{default:()=>{var d;return[(d=t.default)==null?void 0:d.call(t)]}})}}});const[y5,_5]=Me("col"),b5={tag:Ue("div"),span:qe(0),offset:Fe};var T5=Se({name:y5,props:b5,setup(e,{slots:t}){const{parent:n,index:i}=ii(TD),r=fe(()=>{if(!n)return;const{spaces:s,verticalSpaces:a}=n;let o={};if(s&&s.value&&s.value[i.value]){const{left:u,right:c}=s.value[i.value];o={paddingLeft:u?"".concat(u,"px"):null,paddingRight:c?"".concat(c,"px"):null}}const{bottom:l}=a.value[i.value]||{};return et(o,{marginBottom:l?"".concat(l,"px"):null})});return()=>{const{tag:s,span:a,offset:o}=e;return x(s,{style:r.value,class:_5({[a]:a,["offset-".concat(o)]:o})},{default:()=>{var l;return[(l=t.default)==null?void 0:l.call(t)]}})}}});const AD=$e(T5),[SD,A5]=Me("collapse"),xD=Symbol(SD),S5={border:Le,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var x5=Se({name:SD,props:S5,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:i,children:r}=gi(xD),s=u=>{t("change",u),t("update:modelValue",u)},a=(u,c)=>{const{accordion:d,modelValue:f}=e;s(d?u===f?"":u:c?f.concat(u):f.filter(h=>h!==u))},o=(u={})=>{if(e.accordion)return;typeof u=="boolean"&&(u={expanded:u});const{expanded:c,skipDisabled:d}=u,h=r.filter(m=>m.disabled&&d?m.expanded.value:c!=null?c:!m.expanded.value).map(m=>m.itemName.value);s(h)},l=u=>{const{accordion:c,modelValue:d}=e;return c?d===u:d.includes(u)};return Ct({toggleAll:o}),i({toggle:a,isExpanded:l}),()=>{var u;return x("div",{class:[A5(),{[Kp]:e.border}]},[(u=n.default)==null?void 0:u.call(n)])}}});const ED=$e(x5),[E5,$f]=Me("collapse-item"),C5=["icon","title","value","label","right-icon"],w5=et({},tm,{name:Fe,isLink:Le,disabled:Boolean,readonly:Boolean,lazyRender:Le});var D5=Se({name:E5,props:w5,setup(e,{slots:t}){const n=ie(),i=ie(),{parent:r,index:s}=ii(xD);if(!r)return;const a=fe(()=>{var p;return(p=e.name)!=null?p:s.value}),o=fe(()=>r.isExpanded(a.value)),l=ie(o.value),u=E_(()=>l.value||!e.lazyRender),c=()=>{o.value?n.value&&(n.value.style.height=""):l.value=!1};De(o,(p,g)=>{if(g===null)return;p&&(l.value=!0),(p?Ke:di)(()=>{if(!i.value||!n.value)return;const{offsetHeight:y}=i.value;if(y){const b="".concat(y,"px");n.value.style.height=p?"0":b,Ya(()=>{n.value&&(n.value.style.height=p?b:"0")})}else c()})});const d=(p=!o.value)=>{r.toggle(a.value,p)},f=()=>{!e.disabled&&!e.readonly&&d()},h=()=>{const{border:p,disabled:g,readonly:_}=e,y=Rt(e,Object.keys(tm));return _&&(y.isLink=!1),(g||_)&&(y.clickable=!1),x(vi,tt({role:"button",class:$f("title",{disabled:g,expanded:o.value,borderless:!p}),"aria-expanded":String(o.value),onClick:f},y),Rt(t,C5))},m=u(()=>{var p;return un(x("div",{ref:n,class:$f("wrapper"),onTransitionend:c},[x("div",{ref:i,class:$f("content")},[(p=t.default)==null?void 0:p.call(t)])]),[[On,l.value]])});return Ct({toggle:d,expanded:o,itemName:a}),()=>x("div",{class:[$f({border:s.value&&e.border})]},[h(),m()])}});const CD=$e(D5),wD=$e(QF),[k5,D1,Bg]=Me("contact-card"),O5={tel:String,name:String,type:Ue("add"),addText:String,editable:Le};var I5=Se({name:k5,props:O5,emits:["click"],setup(e,{emit:t}){const n=r=>{e.editable&&t("click",r)},i=()=>e.type==="add"?e.addText||Bg("addContact"):[x("div",null,["".concat(Bg("name"),"").concat(e.name)]),x("div",null,["".concat(Bg("tel"),"").concat(e.tel)])];return()=>x(vi,{center:!0,icon:e.type==="edit"?"contact":"add-square",class:D1([e.type]),border:!1,isLink:e.editable,titleClass:D1("title"),onClick:n},{title:i})}});const P5=$e(I5),[R5,gl,Pa]=Me("contact-edit"),S0={tel:"",name:""},L5={isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>et({},S0)},telValidator:{type:Function,default:y2}};var M5=Se({name:R5,props:L5,emits:["save","delete","changeDefault"],setup(e,{emit:t}){const n=vt(et({},S0,e.contactInfo)),i=()=>{e.isSaving||t("save",n)},r=()=>t("delete",n),s=()=>x("div",{class:gl("buttons")},[x(Mn,{block:!0,round:!0,type:"primary",text:Pa("save"),class:gl("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&x(Mn,{block:!0,round:!0,text:Pa("delete"),class:gl("button"),loading:e.isDeleting,onClick:r},null)]),a=()=>x(I_,{modelValue:n.isDefault,"onUpdate:modelValue":l=>n.isDefault=l,onChange:l=>t("changeDefault",l)},null),o=()=>{if(e.showSetDefault)return x(vi,{title:e.setDefaultLabel,class:gl("switch-cell"),border:!1},{"right-icon":a})};return De(()=>e.contactInfo,l=>et(n,S0,l)),()=>x(nm,{class:gl(),onSubmit:i},{default:()=>[x("div",{class:gl("fields")},[x(Vn,{modelValue:n.name,"onUpdate:modelValue":l=>n.name=l,clearable:!0,label:Pa("name"),rules:[{required:!0,message:Pa("nameEmpty")}],maxlength:"30",placeholder:Pa("name")},null),x(Vn,{modelValue:n.tel,"onUpdate:modelValue":l=>n.tel=l,clearable:!0,type:"tel",label:Pa("tel"),rules:[{validator:e.telValidator,message:Pa("telInvalid")}],placeholder:Pa("tel")},null)]),o(),s()]})}});const N5=$e(M5),[B5,$s,F5]=Me("contact-list"),$5={list:Array,addText:String,modelValue:pn,defaultTagText:String};var U5=Se({name:B5,props:$5,emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){const n=(i,r)=>{const s=()=>{t("update:modelValue",i.id),t("select",i,r)},a=()=>x(M_,{class:$s("radio"),name:i.id,iconSize:18},null),o=()=>x(pt,{name:"edit",class:$s("edit"),onClick:u=>{u.stopPropagation(),t("edit",i,r)}},null),l=()=>{const u=["".concat(i.name,"").concat(i.tel)];return i.isDefault&&e.defaultTagText&&u.push(x(sm,{type:"primary",round:!0,class:$s("item-tag")},{default:()=>[e.defaultTagText]})),u};return x(vi,{key:i.id,isLink:!0,center:!0,class:$s("item"),titleClass:$s("item-title"),onClick:s},{icon:o,title:l,"right-icon":a})};return()=>x("div",{class:$s()},[x(P_,{modelValue:e.modelValue,class:$s("group")},{default:()=>[e.list&&e.list.map(n)]}),x("div",{class:[$s("bottom"),"van-safe-area-bottom"]},[x(Mn,{round:!0,block:!0,type:"primary",class:$s("add"),text:e.addText||F5("addContact"),onClick:()=>t("add")},null)])])}});const V5=$e(U5);function j5(e,t){const{days:n}=t;let{hours:i,minutes:r,seconds:s,milliseconds:a}=t;if(e.includes("DD")?e=e.replace("DD",Rr(n)):i+=n*24,e.includes("HH")?e=e.replace("HH",Rr(i)):r+=i*60,e.includes("mm")?e=e.replace("mm",Rr(r)):s+=r*60,e.includes("ss")?e=e.replace("ss",Rr(s)):a+=s*1e3,e.includes("S")){const o=Rr(a,3);e.includes("SSS")?e=e.replace("SSS",o):e.includes("SS")?e=e.replace("SS",o.slice(0,2)):e=e.replace("S",o.charAt(0))}return e}const[H5,z5]=Me("count-down"),q5={time:qe(0),format:Ue("HH:mm:ss"),autoStart:Le,millisecond:Boolean};var W5=Se({name:H5,props:q5,emits:["change","finish"],setup(e,{emit:t,slots:n}){const{start:i,pause:r,reset:s,current:a}=_F({time:+e.time,millisecond:e.millisecond,onChange:u=>t("change",u),onFinish:()=>t("finish")}),o=fe(()=>j5(e.format,a.value)),l=()=>{s(+e.time),e.autoStart&&i()};return De(()=>e.time,l,{immediate:!0}),Ct({start:i,pause:r,reset:l}),()=>x("div",{role:"timer",class:z5()},[n.default?n.default(a.value):o.value])}});const G5=$e(W5);function k1(e){const t=new Date(e*1e3);return"".concat(t.getFullYear(),".").concat(Rr(t.getMonth()+1),".").concat(Rr(t.getDate()))}const Y5=e=>(e/10).toFixed(e%10===0?0:1),O1=e=>(e/100).toFixed(e%100===0?0:e%10===0?1:2),[K5,ss,Fg]=Me("coupon");var X5=Se({name:K5,props:{chosen:Boolean,coupon:Gn(Object),disabled:Boolean,currency:Ue("")},setup(e){const t=fe(()=>{const{startAt:r,endAt:s}=e.coupon;return"".concat(k1(r)," - ").concat(k1(s))}),n=fe(()=>{const{coupon:r,currency:s}=e;if(r.valueDesc)return[r.valueDesc,x("span",null,[r.unitDesc||""])];if(r.denominations){const a=O1(r.denominations);return[x("span",null,[s])," ".concat(a)]}return r.discount?Fg("discount",Y5(r.discount)):""}),i=fe(()=>{const r=O1(e.coupon.originCondition||0);return r==="0"?Fg("unlimited"):Fg("condition",r)});return()=>{const{chosen:r,coupon:s,disabled:a}=e,o=a&&s.reason||s.description;return x("div",{class:ss({disabled:a})},[x("div",{class:ss("content")},[x("div",{class:ss("head")},[x("h2",{class:ss("amount")},[n.value]),x("p",{class:ss("condition")},[s.condition||i.value])]),x("div",{class:ss("body")},[x("p",{class:ss("name")},[s.name]),x("p",{class:ss("valid")},[t.value]),!a&&x(Ld,{class:ss("corner"),modelValue:r},null)])]),o&&x("p",{class:ss("description")},[o])])}}});const x0=$e(X5),[Q5,I1,E0]=Me("coupon-cell"),J5={title:String,border:Le,editable:Le,coupons:cn(),currency:Ue(""),chosenCoupon:{type:[Number,Array],default:-1}},Z5=e=>{const{value:t,denominations:n}=e;return Ot(t)?t:Ot(n)?n:0};function eU({coupons:e,chosenCoupon:t,currency:n}){let i=0,r=!1;return(Array.isArray(t)?t:[t]).forEach(s=>{const a=e[+s];a&&(r=!0,i+=Z5(a))}),r?"-".concat(n," ").concat((i/100).toFixed(2)):e.length===0?E0("noCoupon"):E0("count",e.length)}var tU=Se({name:Q5,props:J5,setup(e){return()=>{const t=Array.isArray(e.chosenCoupon)?e.chosenCoupon.length:e.coupons[+e.chosenCoupon];return x(vi,{class:I1(),value:eU(e),title:e.title||E0("title"),border:e.border,isLink:e.editable,valueClass:I1("value",{selected:t})},null)}}});const nU=$e(tU),[iU,Uf]=Me("empty"),rU={image:Ue("default"),imageSize:[Number,String,Array],description:String};var sU=Se({name:iU,props:rU,setup(e,{slots:t}){const n=()=>{const _=t.description?t.description():e.description;if(_)return x("p",{class:Uf("description")},[_])},i=()=>{if(t.default)return x("div",{class:Uf("bottom")},[t.default()])},r=wu(),s=_=>"".concat(r,"-").concat(_),a=_=>"url(#".concat(s(_),")"),o=(_,y,b)=>x("stop",{"stop-color":_,offset:"".concat(y,"%"),"stop-opacity":b},null),l=(_,y)=>[o(_,0),o(y,100)],u=_=>[x("defs",null,[x("radialGradient",{id:s(_),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)","data-allow-mismatch":"attribute"},[o("#EBEDF0",0),o("#F2F3F5",100,.3)])]),x("ellipse",{fill:a(_),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8","data-allow-mismatch":"attribute"},null)],c=()=>[x("defs",null,[x("linearGradient",{id:s("a"),x1:"64%",y1:"100%",x2:"64%","data-allow-mismatch":"attribute"},[o("#FFF",0,.5),o("#F2F3F5",100)])]),x("g",{opacity:".8","data-allow-mismatch":"children"},[x("path",{d:"M36 131V53H16v20H2v58h34z",fill:a("a")},null),x("path",{d:"M123 15h22v14h9v77h-31V15z",fill:a("a")},null)])],d=()=>[x("defs",null,[x("linearGradient",{id:s("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%","data-allow-mismatch":"attribute"},[o("#F2F3F5",0,.3),o("#F2F3F5",100)])]),x("g",{opacity:".8","data-allow-mismatch":"children"},[x("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:a("b")},null),x("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:a("b")},null)])],f=()=>x("svg",{viewBox:"0 0 160 160"},[x("defs",{"data-allow-mismatch":"children"},[x("linearGradient",{id:s(1),x1:"64%",y1:"100%",x2:"64%"},[o("#FFF",0,.5),o("#F2F3F5",100)]),x("linearGradient",{id:s(2),x1:"50%",x2:"50%",y2:"84%"},[o("#EBEDF0",0),o("#DCDEE0",100,0)]),x("linearGradient",{id:s(3),x1:"100%",x2:"100%",y2:"100%"},[l("#EAEDF0","#DCDEE0")]),x("radialGradient",{id:s(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[o("#EBEDF0",0),o("#FFF",100,0)])]),x("g",{fill:"none"},[c(),x("path",{fill:a(4),d:"M0 139h160v21H0z","data-allow-mismatch":"attribute"},null),x("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:a(2),"data-allow-mismatch":"attribute"},null),x("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7","data-allow-mismatch":"children"},[x("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:a(3)},null),x("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:a(3)},null),x("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:a(3)},null),x("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:a(3)},null)]),x("g",{transform:"translate(31 105)"},[x("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),x("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),x("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),h=()=>x("svg",{viewBox:"0 0 160 160"},[x("defs",{"data-allow-mismatch":"children"},[x("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:s(5)},[l("#F2F3F5","#DCDEE0")]),x("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:s(6)},[l("#EAEDF1","#DCDEE0")]),x("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:s(7)},[l("#EAEDF1","#DCDEE0")])]),c(),d(),x("g",{transform:"translate(36 50)",fill:"none"},[x("g",{transform:"translate(8)"},[x("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),x("rect",{fill:a(5),width:"64",height:"66",rx:"2","data-allow-mismatch":"attribute"},null),x("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),x("g",{transform:"translate(15 17)",fill:a(6),"data-allow-mismatch":"attribute"},[x("rect",{width:"34",height:"6",rx:"1"},null),x("path",{d:"M0 14h34v6H0z"},null),x("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),x("rect",{fill:a(7),y:"61",width:"88",height:"28",rx:"1","data-allow-mismatch":"attribute"},null),x("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),m=()=>x("svg",{viewBox:"0 0 160 160"},[x("defs",null,[x("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:s(8),"data-allow-mismatch":"attribute"},[l("#EAEDF1","#DCDEE0")])]),c(),d(),u("c"),x("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:a(8),"data-allow-mismatch":"attribute"},null)]),p=()=>x("svg",{viewBox:"0 0 160 160"},[x("defs",{"data-allow-mismatch":"children"},[x("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:s(9)},[l("#EEE","#D8D8D8")]),x("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:s(10)},[l("#F2F3F5","#DCDEE0")]),x("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:s(11)},[l("#F2F3F5","#DCDEE0")]),x("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:s(12)},[l("#FFF","#F7F8FA")])]),c(),d(),u("d"),x("g",{transform:"rotate(-45 113 -4)",fill:"none","data-allow-mismatch":"children"},[x("rect",{fill:a(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),x("rect",{fill:a(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),x("circle",{stroke:a(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),x("circle",{fill:a(12),cx:"27",cy:"27",r:"16"},null),x("path",{d:"M37 7c-8 0-15 5-16 12",stroke:a(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),g=()=>{var _;if(t.image)return t.image();const y={error:m,search:p,network:f,default:h};return((_=y[e.image])==null?void 0:_.call(y))||x("img",{src:e.image},null)};return()=>x("div",{class:Uf()},[x("div",{class:Uf("image"),style:ba(e.imageSize)},[g()]),n(),i()])}});const DD=$e(sU),[aU,as,vl]=Me("coupon-list"),oU={code:Ue(""),coupons:cn(),currency:Ue(""),showCount:Le,emptyImage:String,enabledTitle:String,disabledTitle:String,disabledCoupons:cn(),showExchangeBar:Le,showCloseButton:Le,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:Un(1),exchangeButtonText:String,displayedCouponIndex:Un(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean,chosenCoupon:{type:[Number,Array],default:-1}};var lU=Se({name:aU,props:oU,emits:["change","exchange","update:code"],setup(e,{emit:t,slots:n}){const[i,r]=Id(),s=ie(),a=ie(),o=ie(0),l=ie(0),u=ie(e.code),c=fe(()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!u.value||u.value.length<e.exchangeMinLength)),d=()=>{const b=Lt(s).height,A=Lt(a).height+44;l.value=(b>A?b:lr.value)-A},f=()=>{t("exchange",u.value),e.code||(u.value="")},h=y=>{Ke(()=>{var b;return(b=i.value[y])==null?void 0:b.scrollIntoView()})},m=()=>x(DD,{image:e.emptyImage},{default:()=>[x("p",{class:as("empty-tip")},[vl("noCoupon")])]}),p=()=>{if(e.showExchangeBar)return x("div",{ref:a,class:as("exchange-bar")},[x(Vn,{modelValue:u.value,"onUpdate:modelValue":y=>u.value=y,clearable:!0,border:!1,class:as("field"),placeholder:e.inputPlaceholder||vl("placeholder"),maxlength:"20"},null),x(Mn,{plain:!0,type:"primary",class:as("exchange"),text:e.exchangeButtonText||vl("exchange"),loading:e.exchangeButtonLoading,disabled:c.value,onClick:f},null)])},g=()=>{const{coupons:y,chosenCoupon:b}=e,A=e.showCount?" (".concat(y.length,")"):"",T=(e.enabledTitle||vl("enable"))+A,k=(O=[],I=0)=>O.includes(I)?O.filter(w=>w!==I):[...O,I];return x(su,{title:T},{default:()=>{var O;return[x("div",{class:as("list",{"with-bottom":e.showCloseButton}),style:{height:"".concat(l.value,"px")}},[y.map((I,w)=>x(x0,{key:I.id,ref:r(w),coupon:I,chosen:Array.isArray(b)?b.includes(w):w===b,currency:e.currency,onClick:()=>t("change",Array.isArray(b)?k(b,w):w)},null)),!y.length&&m(),(O=n["list-footer"])==null?void 0:O.call(n)])]}})},_=()=>{const{disabledCoupons:y}=e,b=e.showCount?" (".concat(y.length,")"):"",A=(e.disabledTitle||vl("disabled"))+b;return x(su,{title:A},{default:()=>{var T;return[x("div",{class:as("list",{"with-bottom":e.showCloseButton}),style:{height:"".concat(l.value,"px")}},[y.map(k=>x(x0,{disabled:!0,key:k.id,coupon:k,currency:e.currency},null)),!y.length&&m(),(T=n["disabled-list-footer"])==null?void 0:T.call(n)])]}})};return De(()=>e.code,y=>{u.value=y}),De(lr,d),De(u,y=>t("update:code",y)),De(()=>e.displayedCouponIndex,h),Et(()=>{d(),h(e.displayedCouponIndex)}),()=>x("div",{ref:s,class:as()},[p(),x(Pd,{active:o.value,"onUpdate:active":y=>o.value=y,class:as("tab")},{default:()=>[g(),_()]}),x("div",{class:as("bottom")},[n["list-button"]?n["list-button"]():un(x(Mn,{round:!0,block:!0,type:"primary",class:as("close"),text:e.closeButtonText||vl("close"),onClick:()=>t("change",Array.isArray(e.chosenCoupon)?[]:-1)},null),[[On,e.showCloseButton]])])])}});const uU=$e(lU),P1=new Date().getFullYear(),[cU]=Me("date-picker"),dU=et({},pD,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(P1-10,0,1),validator:sd},maxDate:{type:Date,default:()=>new Date(P1+10,11,31),validator:sd}});var fU=Se({name:cU,props:dU,emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=ie(e.modelValue),r=ie(!1),s=ie(),a=fe(()=>r.value?e.modelValue:i.value),o=T=>T===e.minDate.getFullYear(),l=T=>T===e.maxDate.getFullYear(),u=T=>T===e.minDate.getMonth()+1,c=T=>T===e.maxDate.getMonth()+1,d=T=>{const{minDate:k,columnsType:O}=e,I=O.indexOf(T),w=a.value[I];if(w)return+w;switch(T){case"year":return k.getFullYear();case"month":return k.getMonth()+1;case"day":return k.getDate()}},f=()=>{const T=e.minDate.getFullYear(),k=e.maxDate.getFullYear();return Hl(T,k,"year",e.formatter,e.filter,a.value)},h=()=>{const T=d("year"),k=o(T)?e.minDate.getMonth()+1:1,O=l(T)?e.maxDate.getMonth()+1:12;return Hl(k,O,"month",e.formatter,e.filter,a.value)},m=()=>{const T=d("year"),k=d("month"),O=o(T)&&u(k)?e.minDate.getDate():1,I=l(T)&&c(k)?e.maxDate.getDate():gD(T,k);return Hl(O,I,"day",e.formatter,e.filter,a.value)},p=()=>{var T;return(T=s.value)==null?void 0:T.confirm()},g=()=>i.value,_=fe(()=>e.columnsType.map(T=>{switch(T){case"year":return f();case"month":return h();case"day":return m();default:return[]}}));De(i,T=>{As(T,e.modelValue)||t("update:modelValue",T)}),De(()=>e.modelValue,(T,k)=>{r.value=As(k,i.value),T=vD(T,_.value),As(T,i.value)||(i.value=T),r.value=!1},{immediate:!0});const y=(...T)=>t("change",...T),b=(...T)=>t("cancel",...T),A=(...T)=>t("confirm",...T);return Ct({confirm:p,getSelectedDate:g}),()=>x(Rd,tt({ref:s,modelValue:i.value,"onUpdate:modelValue":T=>i.value=T,columns:_.value,onChange:y,onCancel:b,onConfirm:A},Rt(e,mD)),n)}});const kD=$e(fU),[hU,wr,Vf]=Me("dialog"),pU=et({},Cu,{title:String,theme:String,width:Fe,message:[String,Function],callback:Function,allowHtml:Boolean,className:pn,transition:Ue("van-dialog-bounce"),messageAlign:String,closeOnPopstate:Le,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:Le,closeOnClickOverlay:Boolean,keyboardEnabled:Le,destroyOnClose:Boolean}),mU=[...x_,"transition","closeOnPopstate","destroyOnClose"];var OD=Se({name:hU,props:pU,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const i=ie(),r=vt({confirm:!1,cancel:!1}),s=_=>t("update:show",_),a=_=>{var y;s(!1),(y=e.callback)==null||y.call(e,_)},o=_=>()=>{e.show&&(t(_),e.beforeClose?(r[_]=!0,io(e.beforeClose,{args:[_],done(){a(_),r[_]=!1},canceled(){r[_]=!1}})):a(_))},l=o("cancel"),u=o("confirm"),c=aF(_=>{var y,b;if(!e.keyboardEnabled||_.target!==((b=(y=i.value)==null?void 0:y.popupRef)==null?void 0:b.value))return;({Enter:e.showConfirmButton?u:h0,Escape:e.showCancelButton?l:h0})[_.key](),t("keydown",_)},["enter","esc"]),d=()=>{const _=n.title?n.title():e.title;if(_)return x("div",{class:wr("header",{isolated:!e.message&&!n.default})},[_])},f=_=>{const{message:y,allowHtml:b,messageAlign:A}=e,T=wr("message",{"has-title":_,[A]:A}),k=ru(y)?y():y;return b&&typeof k=="string"?x("div",{class:T,innerHTML:k},null):x("div",{class:T},[k])},h=()=>{if(n.default)return x("div",{class:wr("content")},[n.default()]);const{title:_,message:y,allowHtml:b}=e;if(y){const A=!!(_||n.title);return x("div",{key:b?1:0,class:wr("content",{isolated:!A})},[f(A)])}},m=()=>x("div",{class:[w2,wr("footer")]},[e.showCancelButton&&x(Mn,{size:"large",text:e.cancelButtonText||Vf("cancel"),class:wr("cancel"),style:{color:e.cancelButtonColor},loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:l},null),e.showConfirmButton&&x(Mn,{size:"large",text:e.confirmButtonText||Vf("confirm"),class:[wr("confirm"),{[D2]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]),p=()=>x(L2,{class:wr("footer")},{default:()=>[e.showCancelButton&&x(_0,{type:"warning",text:e.cancelButtonText||Vf("cancel"),class:wr("cancel"),color:e.cancelButtonColor,loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:l},null),e.showConfirmButton&&x(_0,{type:"danger",text:e.confirmButtonText||Vf("confirm"),class:wr("confirm"),color:e.confirmButtonColor,loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:u},null)]}),g=()=>n.footer?n.footer():e.theme==="round-button"?p():m();return()=>{const{width:_,title:y,theme:b,message:A,className:T}=e;return x(Jn,tt({ref:i,role:"dialog",class:[wr([b]),T],style:{width:mt(_)},tabindex:0,"aria-labelledby":y||A,onKeydown:c,"onUpdate:show":s},Rt(e,mU)),{default:()=>[d(),h(),g()]})}}});let C0;const gU={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1};let vU=et({},gU);function yU(){({instance:C0}=rm({setup(){const{state:t,toggle:n}=im();return()=>x(OD,tt(t,{"onUpdate:show":n}),null)}}))}function _U(e){return $i?new Promise((t,n)=>{C0||yU(),C0.open(et({},vU,e,{callback:i=>{(i==="confirm"?t:n)(i)}}))}):Promise.resolve(void 0)}const bU=e=>_U(et({showCancelButton:!0},e)),ID=$e(OD),[TU,AU]=Me("divider"),SU={dashed:Boolean,hairline:Le,vertical:Boolean,contentPosition:Ue("center")};var xU=Se({name:TU,props:SU,setup(e,{slots:t}){return()=>{var n;return x("div",{role:"separator",class:AU({dashed:e.dashed,hairline:e.hairline,vertical:e.vertical,["content-".concat(e.contentPosition)]:!!t.default&&!e.vertical})},[!e.vertical&&((n=t.default)==null?void 0:n.call(t))])}}});const EU=$e(xU),[PD,jf]=Me("dropdown-menu"),CU={overlay:Le,zIndex:Fe,duration:qe(.2),direction:Ue("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:Le,closeOnClickOverlay:Le,swipeThreshold:Fe},RD=Symbol(PD);var wU=Se({name:PD,props:CU,setup(e,{slots:t}){const n=wu(),i=ie(),r=ie(),s=ie(0),{children:a,linkChildren:o}=gi(RD),l=Eu(i),u=fe(()=>a.some(y=>y.state.showWrapper)),c=fe(()=>e.swipeThreshold&&a.length>+e.swipeThreshold),d=fe(()=>{if(u.value&&Ot(e.zIndex))return{zIndex:+e.zIndex+1}}),f=()=>{a.forEach(y=>{y.toggle(!1)})},h=()=>{e.closeOnClickOutside&&f()},m=()=>{if(r.value){const y=Lt(r);e.direction==="down"?s.value=y.bottom:s.value=lr.value-y.top}},p=()=>{u.value&&m()},g=y=>{a.forEach((b,A)=>{A===y?b.toggle():b.state.showPopup&&b.toggle(!1,{immediate:!0})})},_=(y,b)=>{const{showPopup:A}=y.state,{disabled:T,titleClass:k}=y;return x("div",{id:"".concat(n,"-").concat(b),role:"button",tabindex:T?void 0:0,"data-allow-mismatch":"attribute",class:[jf("item",{disabled:T,grow:c.value}),{[mi]:!T}],onClick:()=>{T||g(b)}},[x("span",{class:[jf("title",{down:A===(e.direction==="down"),active:A}),k],style:{color:A?e.activeColor:""}},[x("div",{class:"van-ellipsis"},[y.renderTitle()])])])};return Ct({close:f,opened:u}),o({id:n,props:e,offset:s,opened:u,updateOffset:m}),Yp(i,h),Cn("scroll",p,{target:l,passive:!0}),()=>{var y;return x("div",{ref:i,class:jf()},[x("div",{ref:r,style:d.value,class:jf("bar",{opened:u.value,scrollable:c.value})},[a.map(_)]),(y=t.default)==null?void 0:y.call(t)])}}});const[DU,Hf]=Me("dropdown-item"),kU={title:String,options:cn(),disabled:Boolean,teleport:[String,Object],lazyRender:Le,modelValue:pn,titleClass:pn};var OU=Se({name:DU,inheritAttrs:!1,props:kU,emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:n,attrs:i}){const r=vt({showPopup:!1,transition:!0,showWrapper:!1}),s=ie(),{parent:a,index:o}=ii(RD);if(!a)return;const l=y=>()=>t(y),u=l("open"),c=l("close"),d=l("opened"),f=()=>{r.showWrapper=!1,t("closed")},h=y=>{e.teleport&&y.stopPropagation()},m=(y=!r.showPopup,b={})=>{y!==r.showPopup&&(r.showPopup=y,r.transition=!b.immediate,y&&(a.updateOffset(),r.showWrapper=!0))},p=()=>{if(n.title)return n.title();if(e.title)return e.title;const y=e.options.find(b=>b.value===e.modelValue);return y?y.text:""},g=y=>{const{activeColor:b}=a.props,{disabled:A}=y,T=y.value===e.modelValue,k=()=>{A||(r.showPopup=!1,y.value!==e.modelValue&&(t("update:modelValue",y.value),t("change",y.value)))},O=()=>{if(T)return x(pt,{class:Hf("icon"),color:A?void 0:b,name:"success"},null)};return x(vi,{role:"menuitem",key:String(y.value),icon:y.icon,title:y.text,class:Hf("option",{active:T,disabled:A}),style:{color:T?b:""},tabindex:T?0:-1,clickable:!A,onClick:k},{value:O})},_=()=>{const{offset:y}=a,{autoLocate:b,zIndex:A,overlay:T,duration:k,direction:O,closeOnClickOverlay:I}=a.props,w=Ta(A);let D=y.value;if(b&&s.value){const R=CF(s.value);R&&(D-=Lt(R).top)}return O==="down"?w.top="".concat(D,"px"):w.bottom="".concat(D,"px"),un(x("div",tt({ref:s,style:w,class:Hf([O]),onClick:h},i),[x(Jn,{show:r.showPopup,"onUpdate:show":R=>r.showPopup=R,role:"menu",class:Hf("content"),overlay:T,overlayProps:{duration:r.transition&&!a.opened.value?k:0},position:O==="down"?"top":"bottom",duration:r.transition?k:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":"".concat(a.id,"-").concat(o.value),"data-allow-mismatch":"attribute",closeOnClickOverlay:I,onOpen:u,onClose:c,onOpened:d,onClosed:f},{default:()=>{var R;return[e.options.map(g),(R=n.default)==null?void 0:R.call(n)]}})]),[[On,r.showWrapper]])};return Ct({state:r,toggle:m,renderTitle:p}),()=>e.teleport?x(va,{to:e.teleport},{default:()=>[_()]}):_()}});const IU=$e(OU),PU=$e(wU),RU={gap:{type:[Number,Object],default:24},icon:String,axis:Ue("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[LU,R1]=Me("floating-bubble");var MU=Se({name:LU,inheritAttrs:!1,props:RU,emits:["click","update:offset","offsetChange"],setup(e,{slots:t,emit:n,attrs:i}){const r=ie(),s=ie({x:0,y:0,width:0,height:0}),a=fe(()=>dr(e.gap)?e.gap.x:e.gap),o=fe(()=>dr(e.gap)?e.gap.y:e.gap),l=fe(()=>({top:o.value,right:Ur.value-s.value.width-a.value,bottom:lr.value-s.value.height-o.value,left:a.value})),u=ie(!1);let c=!1;const d=fe(()=>{const T={},k=mt(s.value.x),O=mt(s.value.y);return T.transform="translate3d(".concat(k,", ").concat(O,", 0)"),(u.value||!c)&&(T.transition="none"),T}),f=()=>{if(!A.value)return;const{width:T,height:k}=Lt(r.value),{offset:O}=e;s.value={x:O?O.x:Ur.value-T-a.value,y:O?O.y:lr.value-k-o.value,width:T,height:k}},h=_r();let m=0,p=0;const g=T=>{h.start(T),u.value=!0,m=s.value.x,p=s.value.y};Cn("touchmove",T=>{if(T.preventDefault(),h.move(T),e.axis!=="lock"&&!h.isTap.value){if(e.axis==="x"||e.axis==="xy"){let O=m+h.deltaX.value;O<l.value.left&&(O=l.value.left),O>l.value.right&&(O=l.value.right),s.value.x=O}if(e.axis==="y"||e.axis==="xy"){let O=p+h.deltaY.value;O<l.value.top&&(O=l.value.top),O>l.value.bottom&&(O=l.value.bottom),s.value.y=O}const k=Rt(s.value,["x","y"]);n("update:offset",k)}},{target:r});const y=()=>{u.value=!1,Ke(()=>{if(e.magnetic==="x"){const T=Xh([l.value.left,l.value.right],s.value.x);s.value.x=T}if(e.magnetic==="y"){const T=Xh([l.value.top,l.value.bottom],s.value.y);s.value.y=T}if(!h.isTap.value){const T=Rt(s.value,["x","y"]);n("update:offset",T),(m!==T.x||p!==T.y)&&n("offsetChange",T)}})},b=T=>{h.isTap.value?n("click",T):T.stopPropagation()};Et(()=>{f(),Ke(()=>{c=!0})}),De([Ur,lr,a,o,()=>e.offset],f,{deep:!0});const A=ie(!0);return gr(()=>{A.value=!0}),vr(()=>{e.teleport&&(A.value=!1)}),()=>{const T=un(x("div",tt({class:R1(),ref:r,onTouchstartPassive:g,onTouchend:y,onTouchcancel:y,onClickCapture:b,style:d.value},i),[t.default?t.default():x(n4,{name:e.icon,class:R1("icon")},null)]),[[On,A.value]]);return e.teleport?x(va,{to:e.teleport},{default:()=>[T]}):T}}});const LD=$e(MU),NU={height:qe(0),anchors:cn(),duration:qe(.3),contentDraggable:Le,lockScroll:Boolean,safeAreaInsetBottom:Le},[BU,zf]=Me("floating-panel");var FU=Se({name:BU,props:NU,emits:["heightChange","update:height"],setup(e,{emit:t,slots:n}){const r=ie(),s=ie(),a=C_(()=>+e.height,b=>t("update:height",b)),o=fe(()=>{var b,A;return{min:(b=e.anchors[0])!=null?b:100,max:(A=e.anchors[e.anchors.length-1])!=null?A:Math.round(lr.value*.6)}}),l=fe(()=>e.anchors.length>=2?e.anchors:[o.value.min,o.value.max]),u=ie(!1),c=fe(()=>({height:mt(o.value.max),transform:"translateY(calc(100% + ".concat(mt(-a.value),"))"),transition:u.value?"none":"transform ".concat(e.duration,"s cubic-bezier(0.18, 0.89, 0.32, 1.28)")})),d=b=>{const A=Math.abs(b),{min:T,max:k}=o.value;return A>k?-(k+(A-k)*.2):A<T?-(T-(T-A)*.2):b};let f,h=-1;const m=_r(),p=b=>{m.start(b),u.value=!0,f=-a.value,h=-1},g=b=>{var A;m.move(b);const T=b.target;if(s.value===T||(A=s.value)!=null&&A.contains(T)){const{scrollTop:O}=s.value;if(h=Math.max(h,O),!e.contentDraggable)return;if(-f<o.value.max)rn(b,!0);else if(!(O<=0&&m.deltaY.value>0)||h>0)return}const k=m.deltaY.value+f;a.value=-d(k)},_=()=>{h=-1,u.value=!1,a.value=Xh(l.value,a.value),a.value!==-f&&t("heightChange",{height:a.value})};De(o,()=>{a.value=Xh(l.value,a.value)},{immediate:!0}),$2(r,()=>e.lockScroll||u.value),Cn("touchmove",g,{target:r});const y=()=>n.header?n.header():x("div",{class:zf("header")},[x("div",{class:zf("header-bar")},null)]);return()=>{var b;return x("div",{class:[zf(),{"van-safe-area-bottom":e.safeAreaInsetBottom}],ref:r,style:c.value,onTouchstartPassive:p,onTouchend:_,onTouchcancel:_},[y(),x("div",{class:zf("content"),ref:s},[(b=n.default)==null?void 0:b.call(n)])])}}});const $U=$e(FU),[MD,UU]=Me("grid"),VU={square:Boolean,center:Le,border:Le,gutter:Fe,reverse:Boolean,iconSize:Fe,direction:String,clickable:Boolean,columnNum:qe(4)},ND=Symbol(MD);var jU=Se({name:MD,props:VU,setup(e,{slots:t}){const{linkChildren:n}=gi(ND);return n({props:e}),()=>{var i;return x("div",{style:{paddingLeft:mt(e.gutter)},class:[UU(),{[w2]:e.border&&!e.gutter}]},[(i=t.default)==null?void 0:i.call(t)])}}});const HU=$e(jU),[zU,qf]=Me("grid-item"),qU=et({},ro,{dot:Boolean,text:String,icon:String,badge:Fe,iconColor:String,iconPrefix:String,badgeProps:Object});var WU=Se({name:zU,props:qU,setup(e,{slots:t}){const{parent:n,index:i}=ii(ND),r=nl();if(!n)return;const s=fe(()=>{const{square:c,gutter:d,columnNum:f}=n.props,h="".concat(100/+f,"%"),m={flexBasis:h};if(c)m.paddingTop=h;else if(d){const p=mt(d);m.paddingRight=p,i.value>=+f&&(m.marginTop=p)}return m}),a=fe(()=>{const{square:c,gutter:d}=n.props;if(c&&d){const f=mt(d);return{right:f,bottom:f,height:"auto"}}}),o=()=>{if(t.icon)return x(so,tt({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon});if(e.icon)return x(pt,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:qf("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},l=()=>{if(t.text)return t.text();if(e.text)return x("span",{class:qf("text")},[e.text])},u=()=>t.default?t.default():[o(),l()];return()=>{const{center:c,border:d,square:f,gutter:h,reverse:m,direction:p,clickable:g}=n.props,_=[qf("content",[p,{center:c,square:f,reverse:m,clickable:g,surround:d&&h}]),{[Aa]:d}];return x("div",{class:[qf({square:f})],style:s.value},[x("div",{role:g?"button":void 0,class:_,style:a.value,tabindex:g?0:void 0,onClick:r},[u()])])}}});const GU=$e(WU),[YU,L1]=Me("highlight"),KU={autoEscape:Le,caseSensitive:Boolean,highlightClass:String,highlightTag:Ue("span"),keywords:Gn([String,Array]),sourceString:Ue(""),tag:Ue("div"),unhighlightClass:String,unhighlightTag:Ue("span")};var XU=Se({name:YU,props:KU,setup(e){const t=fe(()=>{const{autoEscape:i,caseSensitive:r,keywords:s,sourceString:a}=e,o=r?"g":"gi";let u=(Array.isArray(s)?s:[s]).filter(d=>d).reduce((d,f)=>{i&&(f=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));const h=new RegExp(f,o);let m;for(;m=h.exec(a);){const p=m.index,g=h.lastIndex;if(p>=g){h.lastIndex++;continue}d.push({start:p,end:g,highlight:!0})}return d},[]);u=u.sort((d,f)=>d.start-f.start).reduce((d,f)=>{const h=d[d.length-1];if(!h||f.start>h.end){const m=h?h.end:0,p=f.start;m!==p&&d.push({start:m,end:p,highlight:!1}),d.push(f)}else h.end=Math.max(h.end,f.end);return d},[]);const c=u[u.length-1];return c||u.push({start:0,end:a.length,highlight:!1}),c&&c.end<a.length&&u.push({start:c.end,end:a.length,highlight:!1}),u}),n=()=>{const{sourceString:i,highlightClass:r,unhighlightClass:s,highlightTag:a,unhighlightTag:o}=e;return t.value.map(l=>{const{start:u,end:c,highlight:d}=l,f=i.slice(u,c);return d?x(a,{class:[L1("tag"),r]},{default:()=>[f]}):x(o,{class:s},{default:()=>[f]})})};return()=>{const{tag:i}=e;return x(i,{class:L1()},{default:()=>[n()]})}}});const QU=$e(XU),M1=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),JU=e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}),$g=Me("image-preview")[1],N1=2.6,ZU={src:String,show:Boolean,active:Number,minZoom:Gn(Fe),maxZoom:Gn(Fe),rootWidth:Gn(Number),rootHeight:Gn(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean};var eV=Se({props:ZU,emits:["scale","close","longPress"],setup(e,{emit:t,slots:n}){const i=vt({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),r=_r(),s=ie(),a=ie(),o=ie(!1),l=ie(!1);let u=0;const c=fe(()=>{const{scale:F,moveX:V,moveY:U,moving:Y,zooming:ne,initializing:z}=i,W={transitionDuration:ne||Y||z?"0s":".3s"};return(F!==1||l.value)&&(W.transform="matrix(".concat(F,", 0, 0, ").concat(F,", ").concat(V,", ").concat(U,")")),W}),d=fe(()=>{if(i.imageRatio){const{rootWidth:F,rootHeight:V}=e,U=o.value?V/i.imageRatio:F;return Math.max(0,(i.scale*U-F)/2)}return 0}),f=fe(()=>{if(i.imageRatio){const{rootWidth:F,rootHeight:V}=e,U=o.value?V:F*i.imageRatio;return Math.max(0,(i.scale*U-V)/2)}return 0}),h=(F,V)=>{var U;if(F=qn(F,+e.minZoom,+e.maxZoom+1),F!==i.scale){const Y=F/i.scale;if(i.scale=F,V){const ne=Lt((U=s.value)==null?void 0:U.$el),z={x:ne.width*.5,y:ne.height*.5},W=i.moveX-(V.x-ne.left-z.x)*(Y-1),le=i.moveY-(V.y-ne.top-z.y)*(Y-1);i.moveX=qn(W,-d.value,d.value),i.moveY=qn(le,-f.value,f.value)}else i.moveX=0,i.moveY=l.value?u:0;t("scale",{scale:F,index:e.active})}},m=()=>{h(1)},p=()=>{const F=i.scale>1?1:2;h(F,F===2||l.value?{x:r.startX.value,y:r.startY.value}:void 0)};let g,_,y,b,A,T,k,O,I=!1;const w=F=>{const{touches:V}=F;if(g=V.length,g===2&&e.disableZoom)return;const{offsetX:U}=r;r.start(F),_=i.moveX,y=i.moveY,O=Date.now(),I=!1,i.moving=g===1&&(i.scale!==1||l.value),i.zooming=g===2&&!U.value,i.zooming&&(b=i.scale,A=M1(V))},D=F=>{const{touches:V}=F;if(r.move(F),i.moving){const{deltaX:U,deltaY:Y}=r,ne=U.value+_,z=Y.value+y;if((e.vertical?r.isVertical()&&Math.abs(z)>f.value:r.isHorizontal()&&Math.abs(ne)>d.value)&&!I){i.moving=!1;return}I=!0,rn(F,!0),i.moveX=qn(ne,-d.value,d.value),i.moveY=qn(z,-f.value,f.value)}if(i.zooming&&(rn(F,!0),V.length===2)){const U=M1(V),Y=b*U/A;T=JU(V),h(Y,T)}},R=F=>{var V;const U=(V=a.value)==null?void 0:V.$el;if(!U)return;const Y=U.firstElementChild,ne=F.target===U,z=Y==null?void 0:Y.contains(F.target);!e.closeOnClickImage&&z||!e.closeOnClickOverlay&&ne||t("close")},L=F=>{if(g>1)return;const V=Date.now()-O,U=250;r.isTap.value&&(V<U?e.doubleScale?k?(clearTimeout(k),k=null,p()):k=setTimeout(()=>{R(F),k=null},U):R(F):V>O2&&t("longPress"))},B=F=>{let V=!1;if((i.moving||i.zooming)&&(V=!0,i.moving&&_===i.moveX&&y===i.moveY&&(V=!1),!F.touches.length)){i.zooming&&(i.moveX=qn(i.moveX,-d.value,d.value),i.moveY=qn(i.moveY,-f.value,f.value),i.zooming=!1),i.moving=!1,_=0,y=0,b=1,i.scale<1&&m();const U=+e.maxZoom;i.scale>U&&h(U,T)}rn(F,V),L(F),r.reset()},N=()=>{const{rootWidth:F,rootHeight:V}=e,U=V/F,{imageRatio:Y}=i;o.value=i.imageRatio>U&&Y<N1,l.value=i.imageRatio>U&&Y>=N1,l.value&&(u=(Y*F-V)/2,i.moveY=u,i.initializing=!0,di(()=>{i.initializing=!1})),m()},$=F=>{const{naturalWidth:V,naturalHeight:U}=F.target;i.imageRatio=U/V,N()};return De(()=>e.active,m),De(()=>e.show,F=>{F||m()}),De(()=>[e.rootWidth,e.rootHeight],N),Cn("touchmove",D,{target:fe(()=>{var F;return(F=a.value)==null?void 0:F.$el})}),Ct({resetScale:m}),()=>{const F={loading:()=>x(yr,{type:"spinner"},null)};return x(D_,{ref:a,class:$g("swipe-item"),onTouchstartPassive:w,onTouchend:B,onTouchcancel:B},{default:()=>[n.image?x("div",{class:$g("image-wrap")},[n.image({src:e.src,onLoad:$,style:c.value})]):x(am,{ref:s,src:e.src,fit:"contain",class:$g("image",{vertical:o.value}),style:c.value,onLoad:$},F)]})}}});const[tV,yl]=Me("image-preview"),nV=["show","teleport","transition","overlayStyle","closeOnPopstate"],iV={show:Boolean,loop:Le,images:cn(),minZoom:qe(1/3),maxZoom:qe(3),overlay:Le,vertical:Boolean,closeable:Boolean,showIndex:Le,className:pn,closeIcon:Ue("clear"),transition:String,beforeClose:Function,doubleScale:Le,overlayClass:pn,overlayStyle:Object,swipeDuration:qe(300),startPosition:qe(0),showIndicators:Boolean,closeOnPopstate:Le,closeOnClickImage:Le,closeOnClickOverlay:Le,closeIconPosition:Ue("top-right"),teleport:[String,Object]};var BD=Se({name:tV,props:iV,emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:t,slots:n}){const i=ie(),r=ie(),s=vt({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),a=()=>{if(i.value){const b=Lt(i.value.$el);s.rootWidth=b.width,s.rootHeight=b.height,i.value.resize()}},o=b=>t("scale",b),l=b=>t("update:show",b),u=()=>{io(e.beforeClose,{args:[s.active],done:()=>l(!1)})},c=b=>{b!==s.active&&(s.active=b,t("change",b))},d=()=>{if(e.showIndex)return x("div",{class:yl("index")},[n.index?n.index({index:s.active}):"".concat(s.active+1," / ").concat(e.images.length)])},f=()=>{if(n.cover)return x("div",{class:yl("cover")},[n.cover()])},h=()=>{s.disableZoom=!0},m=()=>{s.disableZoom=!1},p=()=>x(w_,{ref:i,lazyRender:!0,loop:e.loop,class:yl("swipe"),vertical:e.vertical,duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:c,onDragEnd:m,onDragStart:h},{default:()=>[e.images.map((b,A)=>x(eV,{ref:T=>{A===s.active&&(r.value=T)},src:b,show:e.show,active:s.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:s.rootWidth,rootHeight:s.rootHeight,disableZoom:s.disableZoom,doubleScale:e.doubleScale,closeOnClickImage:e.closeOnClickImage,closeOnClickOverlay:e.closeOnClickOverlay,vertical:e.vertical,onScale:o,onClose:u,onLongPress:()=>t("longPress",{index:A})},{image:n.image}))]}),g=()=>{if(e.closeable)return x(pt,{role:"button",name:e.closeIcon,class:[yl("close-icon",e.closeIconPosition),mi],onClick:u},null)},_=()=>t("closed"),y=(b,A)=>{var T;return(T=i.value)==null?void 0:T.swipeTo(b,A)};return Ct({resetScale:()=>{var b;(b=r.value)==null||b.resetScale()},swipeTo:y}),Et(a),De([Ur,lr],a),De(()=>e.startPosition,b=>c(+b)),De(()=>e.show,b=>{const{images:A,startPosition:T}=e;b?(c(+T),Ke(()=>{a(),y(+T,{immediate:!0})})):t("close",{index:s.active,url:A[s.active]})}),()=>x(Jn,tt({class:[yl(),e.className],overlayClass:[yl("overlay"),e.overlayClass],onClosed:_,"onUpdate:show":l},Rt(e,nV)),{default:()=>[g(),p(),d(),f()]})}});let yh;const rV={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"};function sV(){({instance:yh}=rm({setup(){const{state:e,toggle:t}=im(),n=()=>{e.images=[]};return()=>x(BD,tt(e,{onClosed:n,"onUpdate:show":t}),null)}}))}const aV=(e,t=0)=>{if($i)return yh||sV(),e=Array.isArray(e)?{images:e,startPosition:t}:e,yh.open(et({},rV,e)),yh},oV=$e(BD);function lV(){return Array(26).fill("").map((n,i)=>String.fromCharCode(65+i))}const[FD,Ug]=Me("index-bar"),uV={sticky:Le,zIndex:Fe,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Un(0),indexList:{type:Array,default:lV}},$D=Symbol(FD);var cV=Se({name:FD,props:uV,emits:["select","change"],setup(e,{emit:t,slots:n}){const i=ie(),r=ie(),s=ie(""),a=_r(),o=Eu(i),{children:l,linkChildren:u}=gi($D);let c;u({props:e});const d=fe(()=>{if(Ot(e.zIndex))return{zIndex:+e.zIndex+1}}),f=fe(()=>{if(e.highlightColor)return{color:e.highlightColor}}),h=(I,w)=>{for(let D=l.length-1;D>=0;D--){const R=D>0?w[D-1].height:0,L=e.sticky?R+e.stickyOffsetTop:0;if(I+L>=w[D].top)return D}return-1},m=I=>l.find(w=>String(w.index)===I),p=()=>{if(Ko(i))return;const{sticky:I,indexList:w}=e,D=da(o.value),R=Lt(o),L=l.map(N=>N.getRect(o.value,R));let B=-1;if(c){const N=m(c);if(N){const $=N.getRect(o.value,R);e.sticky&&e.stickyOffsetTop?B=h($.top-e.stickyOffsetTop,L):B=h($.top,L)}}else B=h(D,L);s.value=w[B],I&&l.forEach((N,$)=>{const{state:F,$el:V}=N;if($===B||$===B-1){const U=V.getBoundingClientRect();F.left=U.left,F.width=U.width}else F.left=null,F.width=null;if($===B)F.active=!0,F.top=Math.max(e.stickyOffsetTop,L[$].top-D)+R.top;else if($===B-1&&c===""){const U=L[B].top-D;F.active=U>0,F.top=U+R.top-L[$].height}else F.active=!1}),c=""},g=()=>{Ke(p)};Cn("scroll",p,{target:o,passive:!0}),Et(g),De(()=>e.indexList,g),De(s,I=>{I&&t("change",I)});const _=()=>e.indexList.map(I=>{const w=I===s.value;return x("span",{class:Ug("index",{active:w}),style:w?f.value:void 0,"data-index":I},[I])}),y=I=>{c=String(I);const w=m(c);if(w){const D=da(o.value),R=Lt(o),{offsetHeight:L}=document.documentElement;if(w.$el.scrollIntoView(),D===L-R.height){p();return}e.sticky&&e.stickyOffsetTop&&(Bo()===L-R.height?ad(Bo()):ad(Bo()-e.stickyOffsetTop)),t("select",w.index)}},b=I=>{const{index:w}=I.dataset;w&&y(w)},A=I=>{b(I.target)};let T;const k=I=>{if(a.move(I),a.isVertical()){rn(I);const{clientX:w,clientY:D}=I.touches[0],R=document.elementFromPoint(w,D);if(R){const{index:L}=R.dataset;L&&T!==L&&(T=L,b(R))}}},O=()=>x("div",{ref:r,class:Ug("sidebar"),style:d.value,onClick:A,onTouchstartPassive:a.start},[_()]);return Ct({scrollTo:y}),Cn("touchmove",k,{target:r}),()=>{var I;return x("div",{ref:i,class:Ug()},[e.teleport?x(va,{to:e.teleport},{default:()=>[O()]}):O(),(I=n.default)==null?void 0:I.call(n)])}}});const[dV,fV]=Me("index-anchor"),hV={index:Fe};var pV=Se({name:dV,props:hV,setup(e,{slots:t}){const n=vt({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),i=ie(),{parent:r}=ii($D);if(!r)return;const s=()=>n.active&&r.props.sticky,a=fe(()=>{const{zIndex:l,highlightColor:u}=r.props;if(s())return et(Ta(l),{left:n.left?"".concat(n.left,"px"):void 0,width:n.width?"".concat(n.width,"px"):void 0,transform:n.top?"translate3d(0, ".concat(n.top,"px, 0)"):void 0,color:u})});return Ct({state:n,getRect:(l,u)=>{const c=Lt(i);return n.rect.height=c.height,l===window||l===document.body?n.rect.top=c.top+Bo():n.rect.top=c.top+da(l)-u.top,n.rect}}),()=>{const l=s();return x("div",{ref:i,style:{height:l?"".concat(n.rect.height,"px"):void 0}},[x("div",{style:a.value,class:[fV({sticky:l}),{[A_]:l}]},[t.default?t.default():e.index])])}}});const mV=$e(pV),gV=$e(cV),[vV,_l,yV]=Me("list"),_V={error:Boolean,offset:qe(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:Ue("down"),loadingText:String,finishedText:String,immediateCheck:Le};var bV=Se({name:vV,props:_V,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const i=ie(e.loading),r=ie(),s=ie(),a=Z2(),o=Eu(r),l=fe(()=>e.scroller||o.value),u=()=>{Ke(()=>{if(i.value||e.finished||e.disabled||e.error||(a==null?void 0:a.value)===!1)return;const{direction:m}=e,p=+e.offset,g=Lt(l);if(!g.height||Ko(r))return;let _=!1;const y=Lt(s);m==="up"?_=g.top-y.top<=p:_=y.bottom-g.bottom<=p,_&&(i.value=!0,t("update:loading",!0),t("load"))})},c=()=>{if(e.finished){const m=n.finished?n.finished():e.finishedText;if(m)return x("div",{class:_l("finished-text")},[m])}},d=()=>{t("update:error",!1),u()},f=()=>{if(e.error){const m=n.error?n.error():e.errorText;if(m)return x("div",{role:"button",class:_l("error-text"),tabindex:0,onClick:d},[m])}},h=()=>{if(i.value&&!e.finished&&!e.disabled)return x("div",{class:_l("loading")},[n.loading?n.loading():x(yr,{class:_l("loading-icon")},{default:()=>[e.loadingText||yV("loading")]})])};return De(()=>[e.loading,e.finished,e.error],u),a&&De(a,m=>{m&&u()}),Hp(()=>{i.value=e.loading}),Et(()=>{e.immediateCheck&&u()}),Ct({check:u}),Cn("scroll",u,{target:l,passive:!0}),()=>{var m;const p=(m=n.default)==null?void 0:m.call(n),g=x("div",{ref:s,class:_l("placeholder")},null);return x("div",{ref:r,role:"feed",class:_l(),"aria-busy":i.value},[e.direction==="down"?p:g,h(),c(),f(),e.direction==="up"?p:g])}}});const F_=$e(bV),[TV,Us]=Me("nav-bar"),AV={title:String,fixed:Boolean,zIndex:Fe,border:Le,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:Le};var SV=Se({name:TV,props:AV,emits:["clickLeft","clickRight"],setup(e,{emit:t,slots:n}){const i=ie(),r=Qp(i,Us),s=c=>{e.leftDisabled||t("clickLeft",c)},a=c=>{e.rightDisabled||t("clickRight",c)},o=()=>n.left?n.left():[e.leftArrow&&x(pt,{class:Us("arrow"),name:"arrow-left"},null),e.leftText&&x("span",{class:Us("text")},[e.leftText])],l=()=>n.right?n.right():x("span",{class:Us("text")},[e.rightText]),u=()=>{const{title:c,fixed:d,border:f,zIndex:h}=e,m=Ta(h),p=e.leftArrow||e.leftText||n.left,g=e.rightText||n.right;return x("div",{ref:i,style:m,class:[Us({fixed:d}),{[A_]:f,"van-safe-area-top":e.safeAreaInsetTop}]},[x("div",{class:Us("content")},[p&&x("div",{class:[Us("left",{disabled:e.leftDisabled}),e.clickable&&!e.leftDisabled?mi:""],onClick:s},[o()]),x("div",{class:[Us("title"),"van-ellipsis"]},[n.title?n.title():c]),g&&x("div",{class:[Us("right",{disabled:e.rightDisabled}),e.clickable&&!e.rightDisabled?mi:""],onClick:a},[l()])])])};return()=>e.fixed&&e.placeholder?r(u):u()}});const UD=$e(SV),[xV,dc]=Me("notice-bar"),EV={text:String,mode:String,color:String,delay:qe(1),speed:qe(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var CV=Se({name:xV,props:EV,emits:["close","replay"],setup(e,{emit:t,slots:n}){let i=0,r=0,s;const a=ie(),o=ie(),l=vt({show:!0,offset:0,duration:0}),u=()=>{if(n["left-icon"])return n["left-icon"]();if(e.leftIcon)return x(pt,{class:dc("left-icon"),name:e.leftIcon},null)},c=()=>{if(e.mode==="closeable")return"cross";if(e.mode==="link")return"arrow"},d=g=>{e.mode==="closeable"&&(l.show=!1,t("close",g))},f=()=>{if(n["right-icon"])return n["right-icon"]();const g=c();if(g)return x(pt,{name:g,class:dc("right-icon"),onClick:d},null)},h=()=>{l.offset=i,l.duration=0,di(()=>{Ya(()=>{l.offset=-r,l.duration=(r+i)/+e.speed,t("replay")})})},m=()=>{const g=e.scrollable===!1&&!e.wrapable,_={transform:l.offset?"translateX(".concat(l.offset,"px)"):"",transitionDuration:"".concat(l.duration,"s")};return x("div",{ref:a,role:"marquee",class:dc("wrap")},[x("div",{ref:o,style:_,class:[dc("content"),{"van-ellipsis":g}],onTransitionend:h},[n.default?n.default():e.text])])},p=()=>{const{delay:g,speed:_,scrollable:y}=e,b=Ot(g)?+g*1e3:0;i=0,r=0,l.offset=0,l.duration=0,clearTimeout(s),s=setTimeout(()=>{if(!a.value||!o.value||y===!1)return;const A=Lt(a).width,T=Lt(o).width;(y||T>A)&&Ya(()=>{i=A,r=T,l.offset=-r,l.duration=r/+_})},b)};return Xp(p),xu(p),Cn("pageshow",p),Ct({reset:p}),De(()=>[e.text,e.scrollable],p),()=>{const{color:g,wrapable:_,background:y}=e;return un(x("div",{role:"alert",class:dc({wrapable:_}),style:{color:g,background:y}},[u(),m(),f()]),[[On,l.show]])}}});const wV=$e(CV),[DV,kV]=Me("notify"),OV=["lockScroll","position","show","teleport","zIndex"],IV=et({},Cu,{type:Ue("danger"),color:String,message:Fe,position:Ue("top"),className:pn,background:String,lockScroll:Boolean});var VD=Se({name:DV,props:IV,emits:["update:show"],setup(e,{emit:t,slots:n}){const i=r=>t("update:show",r);return()=>x(Jn,tt({class:[kV([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,duration:.2,"onUpdate:show":i},Rt(e,OV)),{default:()=>[n.default?n.default():e.message]})}});let B1,zl;const PV=e=>dr(e)?e:{message:e};function RV(){({instance:zl}=rm({setup(){const{state:e,toggle:t}=im();return()=>x(VD,tt(e,{"onUpdate:show":t}),null)}}))}const LV=()=>({type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0});let MV=LV();const NV=()=>{zl&&zl.toggle(!1)};function Xo(e){if($i)return zl||RV(),e=et({},MV,PV(e)),zl.open(e),clearTimeout(B1),e.duration>0&&(B1=setTimeout(NV,e.duration)),zl}const BV=$e(VD),[FV,Hc]=Me("key"),$V=x("svg",{class:Hc("collapse-icon"),viewBox:"0 0 30 24"},[x("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),UV=x("svg",{class:Hc("delete-icon"),viewBox:"0 0 32 22"},[x("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var Vg=Se({name:FV,props:{type:String,text:Fe,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){const i=ie(!1),r=_r(),s=u=>{r.start(u),i.value=!0},a=u=>{r.move(u),r.direction.value&&(i.value=!1)},o=u=>{i.value&&(n.default||rn(u),i.value=!1,t("press",e.text,e.type))},l=()=>{if(e.loading)return x(yr,{class:Hc("loading-icon")},null);const u=n.default?n.default():e.text;switch(e.type){case"delete":return u||UV;case"extra":return u||$V;default:return u}};return()=>x("div",{class:Hc("wrapper",{wider:e.wider}),onTouchstartPassive:s,onTouchmovePassive:a,onTouchend:o,onTouchcancel:o},[x("div",{role:"button",tabindex:0,class:Hc([e.color,{large:e.large,active:i.value,delete:e.type==="delete"}])},[l()])])}});const[VV,Ra]=Me("number-keyboard"),jV={show:Boolean,title:String,theme:Ue("default"),zIndex:Fe,teleport:[String,Object],maxlength:qe(1/0),modelValue:Ue(""),transition:Le,blurOnClose:Le,showDeleteKey:Le,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:Le,safeAreaInsetBottom:Le,extraKey:{type:[String,Array],default:""}};function HV(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e}var zV=Se({name:VV,inheritAttrs:!1,props:jV,emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n,attrs:i}){const r=ie(),s=()=>{const g=Array(9).fill("").map((_,y)=>({text:y+1}));return e.randomKeyOrder&&HV(g),g},a=()=>[...s(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}],o=()=>{const g=s(),{extraKey:_}=e,y=Array.isArray(_)?_:[_];return y.length===0?g.push({text:0,wider:!0}):y.length===1?g.push({text:0,wider:!0},{text:y[0],type:"extra"}):y.length===2&&g.push({text:y[0],type:"extra"},{text:0},{text:y[1],type:"extra"}),g},l=fe(()=>e.theme==="custom"?o():a()),u=()=>{e.show&&t("blur")},c=()=>{t("close"),e.blurOnClose&&u()},d=()=>t(e.show?"show":"hide"),f=(g,_)=>{if(g===""){_==="extra"&&u();return}const y=e.modelValue;_==="delete"?(t("delete"),t("update:modelValue",y.slice(0,y.length-1))):_==="close"?c():y.length<+e.maxlength&&(t("input",g),t("update:modelValue",y+g))},h=()=>{const{title:g,theme:_,closeButtonText:y}=e,b=n["title-left"],A=y&&_==="default";if(g||A||b)return x("div",{class:Ra("header")},[b&&x("span",{class:Ra("title-left")},[b()]),g&&x("h2",{class:Ra("title")},[g]),A&&x("button",{type:"button",class:[Ra("close"),mi],onClick:c},[y])])},m=()=>l.value.map(g=>{const _={};return g.type==="delete"&&(_.default=n.delete),g.type==="extra"&&(_.default=n["extra-key"]),x(Vg,{key:g.text,text:g.text,type:g.type,wider:g.wider,color:g.color,onPress:f},_)}),p=()=>{if(e.theme==="custom")return x("div",{class:Ra("sidebar")},[e.showDeleteKey&&x(Vg,{large:!0,text:e.deleteButtonText,type:"delete",onPress:f},{default:n.delete}),x(Vg,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:f},null)])};return De(()=>e.show,g=>{e.transition||t(g?"show":"hide")}),e.hideOnClickOutside&&Yp(r,u,{eventName:"touchstart"}),()=>{const g=h(),_=x(Od,{name:e.transition?"van-slide-up":""},{default:()=>[un(x("div",tt({ref:r,style:Ta(e.zIndex),class:Ra({unfit:!e.safeAreaInsetBottom,"with-title":!!g}),onAnimationend:d,onTouchstartPassive:__},i),[g,x("div",{class:Ra("body")},[x("div",{class:Ra("keys")},[m()]),p()])]),[[On,e.show]])]});return e.teleport?x(va,{to:e.teleport},{default:()=>[_]}):_}}});const qV=$e(zV),[WV,bl,F1]=Me("pagination"),jg=(e,t,n)=>({number:e,text:t,active:n}),GV={mode:Ue("multi"),prevText:String,nextText:String,pageCount:qe(0),modelValue:Un(0),totalItems:qe(0),showPageSize:qe(5),itemsPerPage:qe(10),forceEllipses:Boolean,showPrevButton:Le,showNextButton:Le};var YV=Se({name:WV,props:GV,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=fe(()=>{const{pageCount:c,totalItems:d,itemsPerPage:f}=e,h=+c||Math.ceil(+d/+f);return Math.max(1,h)}),r=fe(()=>{const c=[],d=i.value,f=+e.showPageSize,{modelValue:h,forceEllipses:m}=e;let p=1,g=d;const _=f<d;_&&(p=Math.max(h-Math.floor(f/2),1),g=p+f-1,g>d&&(g=d,p=g-f+1));for(let y=p;y<=g;y++){const b=jg(y,y,y===h);c.push(b)}if(_&&f>0&&m){if(p>1){const y=jg(p-1,"...");c.unshift(y)}if(g<d){const y=jg(g+1,"...");c.push(y)}}return c}),s=(c,d)=>{c=qn(c,1,i.value),e.modelValue!==c&&(t("update:modelValue",c),d&&t("change",c))};_a(()=>s(e.modelValue));const a=()=>x("li",{class:bl("page-desc")},[n.pageDesc?n.pageDesc():"".concat(e.modelValue,"/").concat(i.value)]),o=()=>{const{mode:c,modelValue:d,showPrevButton:f}=e;if(!f)return;const h=n["prev-text"],m=d===1;return x("li",{class:[bl("item",{disabled:m,border:c==="simple",prev:!0}),Vc]},[x("button",{type:"button",disabled:m,onClick:()=>s(d-1,!0)},[h?h():e.prevText||F1("prev")])])},l=()=>{const{mode:c,modelValue:d,showNextButton:f}=e;if(!f)return;const h=n["next-text"],m=d===i.value;return x("li",{class:[bl("item",{disabled:m,border:c==="simple",next:!0}),Vc]},[x("button",{type:"button",disabled:m,onClick:()=>s(d+1,!0)},[h?h():e.nextText||F1("next")])])},u=()=>r.value.map(c=>x("li",{class:[bl("item",{active:c.active,page:!0}),Vc]},[x("button",{type:"button","aria-current":c.active||void 0,onClick:()=>s(c.number,!0)},[n.page?n.page(c):c.text])]));return()=>x("nav",{role:"navigation",class:bl()},[x("ul",{class:bl("items")},[o(),e.mode==="simple"?a():u(),l()])])}});const KV=$e(YV),[XV,fc]=Me("password-input"),QV={info:String,mask:Le,value:Ue(""),gutter:Fe,length:qe(6),focused:Boolean,errorInfo:String};var JV=Se({name:XV,props:QV,emits:["focus"],setup(e,{emit:t}){const n=r=>{r.stopPropagation(),t("focus",r)},i=()=>{const r=[],{mask:s,value:a,gutter:o,focused:l}=e,u=+e.length;for(let c=0;c<u;c++){const d=a[c],f=c!==0&&!o,h=l&&c===a.length;let m;c!==0&&o&&(m={marginLeft:mt(o)}),r.push(x("li",{class:[{[D2]:f},fc("item",{focus:h})],style:m},[s?x("i",{style:{visibility:d?"visible":"hidden"}},null):d,h&&x("div",{class:fc("cursor")},null)]))}return r};return()=>{const r=e.errorInfo||e.info;return x("div",{class:fc()},[x("ul",{class:[fc("security"),{[Vc]:!e.gutter}],onTouchstartPassive:n},[i()]),r&&x("div",{class:fc(e.errorInfo?"error-info":"info")},[r])])}}});const ZV=$e(JV),jD=$e(c$);function Qr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function $_(e){var t=Qr(e).Element;return e instanceof t||e instanceof Element}function Vr(e){var t=Qr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function HD(e){if(typeof ShadowRoot>"u")return!1;var t=Qr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var ou=Math.round;function w0(){var e=navigator.userAgentData;return e!=null&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function e6(){return!/^((?!chrome|android).)*safari/i.test(w0())}function Jh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,s=1;t&&Vr(e)&&(r=e.offsetWidth>0&&ou(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&ou(i.height)/e.offsetHeight||1);var a=$_(e)?Qr(e):window,o=a.visualViewport,l=!e6()&&n,u=(i.left+(l&&o?o.offsetLeft:0))/r,c=(i.top+(l&&o?o.offsetTop:0))/s,d=i.width/r,f=i.height/s;return{width:d,height:f,top:c,right:u+d,bottom:c+f,left:u,x:u,y:c}}function zD(e){var t=Qr(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function t6(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function n6(e){return e===Qr(e)||!Vr(e)?zD(e):t6(e)}function fa(e){return e?(e.nodeName||"").toLowerCase():null}function om(e){return(($_(e)?e.ownerDocument:e.document)||window.document).documentElement}function i6(e){return Jh(om(e)).left+zD(e).scrollLeft}function ha(e){return Qr(e).getComputedStyle(e)}function U_(e){var t=ha(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function r6(e){var t=e.getBoundingClientRect(),n=ou(t.width)/e.offsetWidth||1,i=ou(t.height)/e.offsetHeight||1;return n!==1||i!==1}function s6(e,t,n){n===void 0&&(n=!1);var i=Vr(t),r=Vr(t)&&r6(t),s=om(t),a=Jh(e,r,n),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((fa(t)!=="body"||U_(s))&&(o=n6(t)),Vr(t)?(l=Jh(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=i6(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function a6(e){var t=Jh(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function V_(e){return fa(e)==="html"?e:e.assignedSlot||e.parentNode||(HD(e)?e.host:null)||om(e)}function qD(e){return["html","body","#document"].indexOf(fa(e))>=0?e.ownerDocument.body:Vr(e)&&U_(e)?e:qD(V_(e))}function _h(e,t){var n;t===void 0&&(t=[]);var i=qD(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),s=Qr(i),a=r?[s].concat(s.visualViewport||[],U_(i)?i:[]):i,o=t.concat(a);return r?o:o.concat(_h(V_(a)))}function o6(e){return["table","td","th"].indexOf(fa(e))>=0}function $1(e){return!Vr(e)||ha(e).position==="fixed"?null:e.offsetParent}function l6(e){var t=/firefox/i.test(w0()),n=/Trident/i.test(w0());if(n&&Vr(e)){var i=ha(e);if(i.position==="fixed")return null}var r=V_(e);for(HD(r)&&(r=r.host);Vr(r)&&["html","body"].indexOf(fa(r))<0;){var s=ha(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function WD(e){for(var t=Qr(e),n=$1(e);n&&o6(n)&&ha(n).position==="static";)n=$1(n);return n&&(fa(n)==="html"||fa(n)==="body"&&ha(n).position==="static")?t:n||l6(e)||t}var ql="top",Zh="bottom",od="right",Fo="left",GD="auto",u6=[ql,Zh,od,Fo],YD="start",ep="end",c6=[].concat(u6,[GD]).reduce(function(e,t){return e.concat([t,t+"-"+YD,t+"-"+ep])},[]),d6="beforeRead",f6="read",h6="afterRead",p6="beforeMain",m6="main",g6="afterMain",v6="beforeWrite",y6="write",_6="afterWrite",D0=[d6,f6,h6,p6,m6,g6,v6,y6,_6];function b6(e){var t=new Map,n=new Set,i=[];e.forEach(function(s){t.set(s.name,s)});function r(s){n.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!n.has(o)){var l=t.get(o);l&&r(l)}}),i.push(s)}return e.forEach(function(s){n.has(s.name)||r(s)}),i}function T6(e){var t=b6(e);return D0.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function A6(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function La(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return[].concat(n).reduce(function(r,s){return r.replace(/%s/,s)},e)}var bo='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',S6='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',U1=["name","enabled","phase","fn","effect","requires","options"];function x6(e){e.forEach(function(t){[].concat(Object.keys(t),U1).filter(function(n,i,r){return r.indexOf(n)===i}).forEach(function(n){switch(n){case"name":typeof t.name!="string"&&console.error(La(bo,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":typeof t.enabled!="boolean"&&console.error(La(bo,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":D0.indexOf(t.phase)<0&&console.error(La(bo,t.name,'"phase"',"either "+D0.join(", "),'"'+String(t.phase)+'"'));break;case"fn":typeof t.fn!="function"&&console.error(La(bo,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":t.effect!=null&&typeof t.effect!="function"&&console.error(La(bo,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":t.requires!=null&&!Array.isArray(t.requires)&&console.error(La(bo,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(La(bo,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+U1.map(function(i){return'"'+i+'"'}).join(", ")+'; but "'+n+'" was provided.')}t.requires&&t.requires.forEach(function(i){e.find(function(r){return r.name===i})==null&&console.error(La(S6,String(t.name),i,i))})})})}function E6(e,t){var n=new Set;return e.filter(function(i){var r=t(i);if(!n.has(r))return n.add(r),!0})}function lm(e){return e.split("-")[0]}function C6(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}function KD(e){return e.split("-")[1]}function w6(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function D6(e){var t=e.reference,n=e.element,i=e.placement,r=i?lm(i):null,s=i?KD(i):null,a=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2,l;switch(r){case ql:l={x:a,y:t.y-n.height};break;case Zh:l={x:a,y:t.y+t.height};break;case od:l={x:t.x+t.width,y:o};break;case Fo:l={x:t.x-n.width,y:o};break;default:l={x:t.x,y:t.y}}var u=r?w6(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case YD:l[u]=l[u]-(t[c]/2-n[c]/2);break;case ep:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}var V1="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",k6="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",j1={placement:"bottom",modifiers:[],strategy:"absolute"};function H1(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function O6(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,s=r===void 0?j1:r;return function(o,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},j1,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},d=[],f=!1,h={state:c,setOptions:function(_){var y=typeof _=="function"?_(c.options):_;p(),c.options=Object.assign({},s,c.options,y),c.scrollParents={reference:$_(o)?_h(o):o.contextElement?_h(o.contextElement):[],popper:_h(l)};var b=T6(C6([].concat(i,c.options.modifiers)));c.orderedModifiers=b.filter(function(R){return R.enabled});{var A=E6([].concat(b,c.options.modifiers),function(R){var L=R.name;return L});if(x6(A),lm(c.options.placement)===GD){var T=c.orderedModifiers.find(function(R){var L=R.name;return L==="flip"});T||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var k=ha(l),O=k.marginTop,I=k.marginRight,w=k.marginBottom,D=k.marginLeft;[O,I,w,D].some(function(R){return parseFloat(R)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return m(),h.update()},forceUpdate:function(){if(!f){var _=c.elements,y=_.reference,b=_.popper;if(!H1(y,b)){console.error(V1);return}c.rects={reference:s6(y,WD(b),c.options.strategy==="fixed"),popper:a6(b)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(R){return c.modifiersData[R.name]=Object.assign({},R.data)});for(var A=0,T=0;T<c.orderedModifiers.length;T++){if(A+=1,A>100){console.error(k6);break}if(c.reset===!0){c.reset=!1,T=-1;continue}var k=c.orderedModifiers[T],O=k.fn,I=k.options,w=I===void 0?{}:I,D=k.name;typeof O=="function"&&(c=O({state:c,options:w,name:D,instance:h})||c)}}},update:A6(function(){return new Promise(function(g){h.forceUpdate(),g(c)})}),destroy:function(){p(),f=!0}};if(!H1(o,l))return console.error(V1),h;h.setOptions(u).then(function(g){!f&&u.onFirstUpdate&&u.onFirstUpdate(g)});function m(){c.orderedModifiers.forEach(function(g){var _=g.name,y=g.options,b=y===void 0?{}:y,A=g.effect;if(typeof A=="function"){var T=A({state:c,name:_,instance:h,options:b}),k=function(){};d.push(T||k)}})}function p(){d.forEach(function(g){return g()}),d=[]}return h}}var Wf={passive:!0};function I6(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,s=r===void 0?!0:r,a=i.resize,o=a===void 0?!0:a,l=Qr(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Wf)}),o&&l.addEventListener("resize",n.update,Wf),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Wf)}),o&&l.removeEventListener("resize",n.update,Wf)}}var P6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:I6,data:{}};function R6(e){var t=e.state,n=e.name;t.modifiersData[n]=D6({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}var L6={name:"popperOffsets",enabled:!0,phase:"read",fn:R6,data:{}},M6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function N6(e){var t=e.x,n=e.y,i=window,r=i.devicePixelRatio||1;return{x:ou(t*r)/r||0,y:ou(n*r)/r||0}}function z1(e){var t,n=e.popper,i=e.popperRect,r=e.placement,s=e.variation,a=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,f=a.x,h=f===void 0?0:f,m=a.y,p=m===void 0?0:m,g=typeof c=="function"?c({x:h,y:p}):{x:h,y:p};h=g.x,p=g.y;var _=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=Fo,A=ql,T=window;if(u){var k=WD(n),O="clientHeight",I="clientWidth";if(k===Qr(n)&&(k=om(n),ha(k).position!=="static"&&o==="absolute"&&(O="scrollHeight",I="scrollWidth")),k=k,r===ql||(r===Fo||r===od)&&s===ep){A=Zh;var w=d&&k===T&&T.visualViewport?T.visualViewport.height:k[O];p-=w-i.height,p*=l?1:-1}if(r===Fo||(r===ql||r===Zh)&&s===ep){b=od;var D=d&&k===T&&T.visualViewport?T.visualViewport.width:k[I];h-=D-i.width,h*=l?1:-1}}var R=Object.assign({position:o},u&&M6),L=c===!0?N6({x:h,y:p}):{x:h,y:p};if(h=L.x,p=L.y,l){var B;return Object.assign({},R,(B={},B[A]=y?"0":"",B[b]=_?"0":"",B.transform=(T.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",B))}return Object.assign({},R,(t={},t[A]=y?p+"px":"",t[b]=_?h+"px":"",t.transform="",t))}function B6(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,s=n.adaptive,a=s===void 0?!0:s,o=n.roundOffsets,l=o===void 0?!0:o;{var u=ha(t.elements.popper).transitionProperty||"";a&&["transform","top","right","bottom","left"].some(function(d){return u.indexOf(d)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var c={placement:lm(t.placement),variation:KD(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,z1(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,z1(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var F6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:B6,data:{}};function $6(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},s=t.elements[n];!Vr(s)||!fa(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(a){var o=r[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function U6(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],s=t.attributes[i]||{},a=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),o=a.reduce(function(l,u){return l[u]="",l},{});!Vr(r)||!fa(r)||(Object.assign(r.style,o),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}var V6={name:"applyStyles",enabled:!0,phase:"write",fn:$6,effect:U6,requires:["computeStyles"]},j6=[P6,L6,F6,V6],H6=O6({defaultModifiers:j6});function z6(e,t,n){var i=lm(e),r=[Fo,ql].indexOf(i)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*r,[Fo,od].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}function q6(e){var t=e.state,n=e.options,i=e.name,r=n.offset,s=r===void 0?[0,0]:r,a=c6.reduce(function(c,d){return c[d]=z6(d,t.rects,s),c},{}),o=a[t.placement],l=o.x,u=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=a}var W6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:q6};const[G6,To]=Me("popover"),Y6=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],K6={show:Boolean,theme:Ue("light"),overlay:Boolean,actions:cn(),actionsDirection:Ue("vertical"),trigger:Ue("click"),duration:Fe,showArrow:Le,placement:Ue("bottom"),iconPrefix:String,overlayClass:pn,overlayStyle:Object,closeOnClickAction:Le,closeOnClickOverlay:Le,closeOnClickOutside:Le,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var X6=Se({name:G6,props:K6,emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:i}){let r;const s=ie(),a=ie(),o=ie(),l=C_(()=>e.show,y=>t("update:show",y)),u=()=>({placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},et({},W6,{options:{offset:e.offset}})]}),c=()=>a.value&&o.value?H6(a.value,o.value.popupRef.value,u()):null,d=()=>{Ke(()=>{l.value&&(r?r.setOptions(u()):(r=c(),$i&&(window.addEventListener("animationend",d),window.addEventListener("transitionend",d))))})},f=y=>{l.value=y},h=()=>{e.trigger==="click"&&(l.value=!l.value)},m=(y,b)=>{y.disabled||(t("select",y,b),e.closeOnClickAction&&(l.value=!1))},p=()=>{l.value&&e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&(l.value=!1)},g=(y,b)=>n.action?n.action({action:y,index:b}):[y.icon&&x(pt,{name:y.icon,classPrefix:e.iconPrefix,class:To("action-icon")},null),x("div",{class:[To("action-text"),{[A_]:e.actionsDirection==="vertical"}]},[y.text])],_=(y,b)=>{const{icon:A,color:T,disabled:k,className:O}=y;return x("div",{role:"menuitem",class:[To("action",{disabled:k,"with-icon":A}),{[FF]:e.actionsDirection==="horizontal"},O],style:{color:T},tabindex:k?void 0:0,"aria-disabled":k||void 0,onClick:()=>m(y,b)},[g(y,b)])};return Et(()=>{d(),_a(()=>{var y;s.value=(y=o.value)==null?void 0:y.popupRef.value})}),Oi(()=>{r&&($i&&(window.removeEventListener("animationend",d),window.removeEventListener("transitionend",d)),r.destroy(),r=null)}),De(()=>[l.value,e.offset,e.placement],d),Yp([a,s],p,{eventName:"touchstart"}),()=>{var y;return x(ct,null,[x("span",{ref:a,class:To("wrapper"),onClick:h},[(y=n.reference)==null?void 0:y.call(n)]),x(Jn,tt({ref:o,show:l.value,class:To([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":f},i,Qh(),Rt(e,Y6)),{default:()=>[e.showArrow&&x("div",{class:To("arrow")},null),x("div",{role:"menu",class:To("content",e.actionsDirection)},[n.default?n.default():e.actions.map(_)])]})])}}});const Q6=$e(X6),[J6,Hg]=Me("progress"),Z6={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:Le,pivotColor:String,trackColor:String,strokeWidth:Fe,percentage:{type:Fe,default:0,validator:e=>+e>=0&&+e<=100}};var ej=Se({name:J6,props:Z6,setup(e){const t=fe(()=>e.inactive?void 0:e.color),n=r=>Math.min(Math.max(+r,0),100),i=()=>{const{textColor:r,pivotText:s,pivotColor:a,percentage:o}=e,l=n(o),u=s!=null?s:"".concat(o,"%");if(e.showPivot&&u){const c={color:r,left:"".concat(l,"%"),transform:"translate(-".concat(l,"%,-50%)"),background:a||t.value};return x("span",{style:c,class:Hg("pivot",{inactive:e.inactive})},[u])}};return()=>{const{trackColor:r,percentage:s,strokeWidth:a}=e,o=n(s),l={background:r,height:mt(a)},u={width:"".concat(o,"%"),background:t.value};return x("div",{class:Hg(),style:l},[x("span",{class:Hg("portion",{inactive:e.inactive}),style:u},null),i()])}}});const tj=$e(ej),[nj,hc,ij]=Me("pull-refresh"),XD=50,rj=["pulling","loosing","success"],sj={disabled:Boolean,modelValue:Boolean,headHeight:qe(XD),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:Fe,successDuration:qe(500),animationDuration:qe(300)};var aj=Se({name:nj,props:sj,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let i;const r=ie(),s=ie(),a=Eu(r),o=vt({status:"normal",distance:0,duration:0}),l=_r(),u=()=>{if(e.headHeight!==XD)return{height:"".concat(e.headHeight,"px")}},c=()=>o.status!=="loading"&&o.status!=="success"&&!e.disabled,d=A=>{const T=+(e.pullDistance||e.headHeight);return A>T&&(A<T*2?A=T+(A-T)/2:A=T*1.5+(A-T*2)/4),Math.round(A)},f=(A,T)=>{const k=+(e.pullDistance||e.headHeight);o.distance=A,T?o.status="loading":A===0?o.status="normal":A<k?o.status="pulling":o.status="loosing",t("change",{status:o.status,distance:A})},h=()=>{const{status:A}=o;return A==="normal"?"":e["".concat(A,"Text")]||ij(A)},m=()=>{const{status:A,distance:T}=o;if(n[A])return n[A]({distance:T});const k=[];return rj.includes(A)&&k.push(x("div",{class:hc("text")},[h()])),A==="loading"&&k.push(x(yr,{class:hc("loading")},{default:h})),k},p=()=>{o.status="success",setTimeout(()=>{f(0)},+e.successDuration)},g=A=>{i=da(a.value)===0,i&&(o.duration=0,l.start(A))},_=A=>{c()&&g(A)},y=A=>{if(c()){i||g(A);const{deltaY:T}=l;l.move(A),i&&T.value>=0&&l.isVertical()&&(rn(A),f(d(T.value)))}},b=()=>{i&&l.deltaY.value&&c()&&(o.duration=+e.animationDuration,o.status==="loosing"?(f(+e.headHeight,!0),t("update:modelValue",!0),Ke(()=>t("refresh"))):f(0))};return De(()=>e.modelValue,A=>{o.duration=+e.animationDuration,A?f(+e.headHeight,!0):n.success||e.successText?p():f(0,!1)}),Cn("touchmove",y,{target:s}),()=>{var A;const T={transitionDuration:"".concat(o.duration,"ms"),transform:o.distance?"translate3d(0,".concat(o.distance,"px, 0)"):""};return x("div",{ref:r,class:hc()},[x("div",{ref:s,class:hc("track"),style:T,onTouchstartPassive:_,onTouchend:b,onTouchcancel:b},[x("div",{class:hc("head"),style:u()},[m()]),(A=n.default)==null?void 0:A.call(n)])])}}});const QD=$e(aj),[oj,Gf]=Me("rate");function lj(e,t,n,i){return e>=t?{status:"full",value:1}:e+.5>=t&&n&&!i?{status:"half",value:.5}:e+1>=t&&n&&i?{status:"half",value:Math.round((e-t+1)*1e10)/1e10}:{status:"void",value:0}}const uj={size:Fe,icon:Ue("star"),color:String,count:qe(5),gutter:Fe,clearable:Boolean,readonly:Boolean,disabled:Boolean,voidIcon:Ue("star-o"),allowHalf:Boolean,voidColor:String,touchable:Le,iconPrefix:String,modelValue:Un(0),disabledColor:String};var cj=Se({name:oj,props:uj,emits:["change","update:modelValue"],setup(e,{emit:t}){const n=_r(),[i,r]=Id(),s=ie(),a=fe(()=>e.readonly||e.disabled),o=fe(()=>a.value||!e.touchable),l=fe(()=>Array(+e.count).fill("").map((b,A)=>lj(e.modelValue,A+1,e.allowHalf,e.readonly)));let u,c,d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;const h=()=>{c=Lt(s);const b=i.value.map(Lt);u=[],b.forEach((A,T)=>{d=Math.min(A.top,d),f=Math.max(A.top,f),e.allowHalf?u.push({score:T+.5,left:A.left,top:A.top,height:A.height},{score:T+1,left:A.left+A.width/2,top:A.top,height:A.height}):u.push({score:T+1,left:A.left,top:A.top,height:A.height})})},m=(b,A)=>{for(let T=u.length-1;T>0;T--)if(A>=c.top&&A<=c.bottom){if(b>u[T].left&&A>=u[T].top&&A<=u[T].top+u[T].height)return u[T].score}else{const k=A<c.top?d:f;if(b>u[T].left&&u[T].top===k)return u[T].score}return e.allowHalf?.5:1},p=b=>{a.value||b===e.modelValue||(t("update:modelValue",b),t("change",b))},g=b=>{o.value||(n.start(b),h())},_=b=>{if(!o.value&&(n.move(b),n.isHorizontal()&&!n.isTap.value)){const{clientX:A,clientY:T}=b.touches[0];rn(b),p(m(A,T))}},y=(b,A)=>{const{icon:T,size:k,color:O,count:I,gutter:w,voidIcon:D,disabled:R,voidColor:L,allowHalf:B,iconPrefix:N,disabledColor:$}=e,F=A+1,V=b.status==="full",U=b.status==="void",Y=B&&b.value>0&&b.value<1;let ne;w&&F!==+I&&(ne={paddingRight:mt(w)});const z=W=>{h();let le=B?m(W.clientX,W.clientY):F;e.clearable&&n.isTap.value&&le===e.modelValue&&(le=0),p(le)};return x("div",{key:A,ref:r(A),role:"radio",style:ne,class:Gf("item"),tabindex:R?void 0:0,"aria-setsize":I,"aria-posinset":F,"aria-checked":!U,onClick:z},[x(pt,{size:k,name:V?T:D,class:Gf("icon",{disabled:R,full:V}),color:R?$:V?O:L,classPrefix:N},null),Y&&x(pt,{size:k,style:{width:b.value+"em"},name:U?D:T,class:Gf("icon",["half",{disabled:R,full:!U}]),color:R?$:U?L:O,classPrefix:N},null)])};return no(()=>e.modelValue),Cn("touchmove",_,{target:s}),()=>x("div",{ref:s,role:"radiogroup",class:Gf({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstartPassive:g},[l.value.map(y)])}});const dj=$e(cj),fj={figureArr:cn(),delay:Number,duration:Un(2),isStart:Boolean,direction:Ue("down"),height:Un(40)},[hj,zg]=Me("rolling-text-item");var pj=Se({name:hj,props:fj,setup(e){const t=fe(()=>e.direction==="down"?e.figureArr.slice().reverse():e.figureArr),n=fe(()=>{const s=e.height*(e.figureArr.length-1);return"-".concat(s,"px")}),i=fe(()=>({lineHeight:mt(e.height)})),r=fe(()=>({height:mt(e.height),"--van-translate":n.value,"--van-duration":e.duration+"s","--van-delay":e.delay+"s"}));return()=>x("div",{class:zg([e.direction]),style:r.value},[x("div",{class:zg("box",{animate:e.isStart})},[Array.isArray(t.value)&&t.value.map(s=>x("div",{class:zg("item"),style:i.value},[s]))])])}});const[mj,gj]=Me("rolling-text"),vj={startNum:Un(0),targetNum:Number,textList:cn(),duration:Un(2),autoStart:Le,direction:Ue("down"),stopOrder:Ue("ltr"),height:Un(40)},yj=2;var _j=Se({name:mj,props:vj,setup(e){const t=fe(()=>Array.isArray(e.textList)&&e.textList.length),n=fe(()=>t.value?e.textList[0].length:"".concat(Math.max(e.startNum,e.targetNum)).length),i=d=>{const f=[];for(let h=0;h<e.textList.length;h++)f.push(e.textList[h][d]);return f},r=fe(()=>t.value?new Array(n.value).fill(""):Rr(e.targetNum,n.value).split("")),s=fe(()=>Rr(e.startNum,n.value).split("")),a=d=>{const f=+s.value[d],h=+r.value[d],m=[];for(let p=f;p<=9;p++)m.push(p);for(let p=0;p<=yj;p++)for(let g=0;g<=9;g++)m.push(g);for(let p=0;p<=h;p++)m.push(p);return m},o=(d,f)=>e.stopOrder==="ltr"?.2*d:.2*(f-1-d),l=ie(e.autoStart),u=()=>{l.value=!0},c=()=>{l.value=!1,e.autoStart&&di(()=>u())};return De(()=>e.autoStart,d=>{d&&u()}),Ct({start:u,reset:c}),()=>x("div",{class:gj()},[r.value.map((d,f)=>x(pj,{figureArr:t.value?i(f):a(f),duration:e.duration,direction:e.direction,isStart:l.value,height:e.height,delay:o(f,n.value)},null))])}});const bj=$e(_j),JD=$e(v5),[Tj,pc,Aj]=Me("search"),Sj=et({},k_,{label:String,shape:Ue("square"),leftIcon:Ue("search"),clearable:Le,actionText:String,background:String,showAction:Boolean});var xj=Se({name:Tj,props:Sj,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n,attrs:i}){const r=wu(),s=ie(),a=()=>{n.action||(t("update:modelValue",""),t("cancel"))},o=T=>{T.keyCode===13&&(rn(T),t("search",e.modelValue))},l=()=>e.id||"".concat(r,"-input"),u=()=>{if(n.label||e.label)return x("label",{class:pc("label"),for:l(),"data-allow-mismatch":"attribute"},[n.label?n.label():e.label])},c=()=>{if(e.showAction){const T=e.actionText||Aj("cancel");return x("div",{class:pc("action"),role:"button",tabindex:0,onClick:a},[n.action?n.action():T])}},d=()=>{var T;return(T=s.value)==null?void 0:T.blur()},f=()=>{var T;return(T=s.value)==null?void 0:T.focus()},h=T=>t("blur",T),m=T=>t("focus",T),p=T=>t("clear",T),g=T=>t("clickInput",T),_=T=>t("clickLeftIcon",T),y=T=>t("clickRightIcon",T),b=Object.keys(k_),A=()=>{const T=et({},i,Rt(e,b),{id:l()}),k=O=>t("update:modelValue",O);return x(Vn,tt({ref:s,type:"search",class:pc("field",{"with-message":T.errorMessage}),border:!1,onBlur:h,onFocus:m,onClear:p,onKeypress:o,onClickInput:g,onClickLeftIcon:_,onClickRightIcon:y,"onUpdate:modelValue":k},T),Rt(n,["left-icon","right-icon"]))};return Ct({focus:f,blur:d}),()=>{var T;return x("div",{class:pc({"show-action":e.showAction}),style:{background:e.background}},[(T=n.left)==null?void 0:T.call(n),x("div",{class:pc("content",e.shape)},[u(),A()]),c()])}}});const j_=$e(xj),Ej=e=>e==null?void 0:e.includes("/"),Cj=[...x_,"round","closeOnPopstate","safeAreaInsetBottom"],wj={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[Dj,Dr,kj]=Me("share-sheet"),Oj=et({},Cu,{title:String,round:Le,options:cn(),cancelText:String,description:String,closeOnPopstate:Le,safeAreaInsetBottom:Le});var Ij=Se({name:Dj,props:Oj,emits:["cancel","select","update:show"],setup(e,{emit:t,slots:n}){const i=f=>t("update:show",f),r=()=>{i(!1),t("cancel")},s=(f,h)=>t("select",f,h),a=()=>{const f=n.title?n.title():e.title,h=n.description?n.description():e.description;if(f||h)return x("div",{class:Dr("header")},[f&&x("h2",{class:Dr("title")},[f]),h&&x("span",{class:Dr("description")},[h])])},o=f=>Ej(f)?x("img",{src:f,class:Dr("image-icon")},null):x("div",{class:Dr("icon",[f])},[x(pt,{name:wj[f]||f},null)]),l=(f,h)=>{const{name:m,icon:p,className:g,description:_}=f;return x("div",{role:"button",tabindex:0,class:[Dr("option"),g,mi],onClick:()=>s(f,h)},[o(p),m&&x("span",{class:Dr("name")},[m]),_&&x("span",{class:Dr("option-description")},[_])])},u=(f,h)=>x("div",{class:Dr("options",{border:h})},[f.map(l)]),c=()=>{const{options:f}=e;return Array.isArray(f[0])?f.map((h,m)=>u(h,m!==0)):u(f)},d=()=>{var f;const h=(f=e.cancelText)!=null?f:kj("cancel");if(n.cancel||h)return x("button",{type:"button",class:Dr("cancel"),onClick:r},[n.cancel?n.cancel():h])};return()=>x(Jn,tt({class:Dr(),position:"bottom","onUpdate:show":i},Rt(e,Cj)),{default:()=>[a(),c(),d()]})}});const Pj=$e(Ij),[ZD,Rj]=Me("sidebar"),ek=Symbol(ZD),Lj={modelValue:qe(0)};var Mj=Se({name:ZD,props:Lj,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:i}=gi(ek),r=()=>+e.modelValue;return i({getActive:r,setActive:a=>{a!==r()&&(t("update:modelValue",a),t("change",a))}}),()=>{var a;return x("div",{role:"tablist",class:Rj()},[(a=n.default)==null?void 0:a.call(n)])}}});const tk=$e(Mj),[Nj,q1]=Me("sidebar-item"),Bj=et({},ro,{dot:Boolean,title:String,badge:Fe,disabled:Boolean,badgeProps:Object});var Fj=Se({name:Nj,props:Bj,emits:["click"],setup(e,{emit:t,slots:n}){const i=nl(),{parent:r,index:s}=ii(ek);if(!r)return;const a=()=>{e.disabled||(t("click",s.value),r.setActive(s.value),i())};return()=>{const{dot:o,badge:l,title:u,disabled:c}=e,d=s.value===r.getActive();return x("div",{role:"tab",class:q1({select:d,disabled:c}),tabindex:c?void 0:0,"aria-selected":d,onClick:a},[x(so,tt({dot:o,class:q1("text"),content:l},e.badgeProps),{default:()=>[n.title?n.title():u]})])}}});const nk=$e(Fj),[$j,qg,W1]=Me("signature"),Uj={tips:String,type:Ue("png"),penColor:Ue("#000"),lineWidth:Un(3),clearButtonText:String,backgroundColor:Ue(""),confirmButtonText:String},Vj=()=>{var e;const t=document.createElement("canvas");return!!((e=t.getContext)!=null&&e.call(t,"2d"))};var jj=Se({name:$j,props:Uj,emits:["submit","clear","start","end","signing"],setup(e,{emit:t,slots:n}){const i=ie(),r=ie(),s=fe(()=>i.value?i.value.getContext("2d"):null),a=$i?Vj():!0;let o=0,l=0,u;const c=()=>{if(!s.value)return!1;s.value.beginPath(),s.value.lineWidth=e.lineWidth,s.value.strokeStyle=e.penColor,u=Lt(i),t("start")},d=b=>{if(!s.value)return!1;rn(b);const A=b.touches[0],T=A.clientX-((u==null?void 0:u.left)||0),k=A.clientY-((u==null?void 0:u.top)||0);s.value.lineCap="round",s.value.lineJoin="round",s.value.lineTo(T,k),s.value.stroke(),t("signing",b)},f=b=>{rn(b),t("end")},h=b=>{const A=document.createElement("canvas");if(A.width=b.width,A.height=b.height,e.backgroundColor){const T=A.getContext("2d");m(T)}return b.toDataURL()===A.toDataURL()},m=b=>{b&&e.backgroundColor&&(b.fillStyle=e.backgroundColor,b.fillRect(0,0,o,l))},p=()=>{var b,A;const T=i.value;if(!T)return;const O=h(T)?"":((A=(b={jpg:()=>T.toDataURL("image/jpeg",.8),jpeg:()=>T.toDataURL("image/jpeg",.8)})[e.type])==null?void 0:A.call(b))||T.toDataURL("image/".concat(e.type));t("submit",{image:O,canvas:T})},g=()=>{s.value&&(s.value.clearRect(0,0,o,l),s.value.closePath(),m(s.value)),t("clear")},_=()=>{var b,A,T;if(a&&i.value){const k=i.value,O=$i?window.devicePixelRatio:1;o=k.width=(((b=r.value)==null?void 0:b.offsetWidth)||0)*O,l=k.height=(((A=r.value)==null?void 0:A.offsetHeight)||0)*O,(T=s.value)==null||T.scale(O,O),m(s.value)}},y=()=>{if(s.value){const b=s.value.getImageData(0,0,o,l);_(),s.value.putImageData(b,0,0)}};return De(Ur,y),Et(_),Ct({resize:y,clear:g,submit:p}),()=>x("div",{class:qg()},[x("div",{class:qg("content"),ref:r},[a?x("canvas",{ref:i,onTouchstartPassive:c,onTouchmove:d,onTouchend:f},null):n.tips?n.tips():x("p",null,[e.tips])]),x("div",{class:qg("footer")},[x(Mn,{size:"small",onClick:g},{default:()=>[e.clearButtonText||W1("clear")]}),x(Mn,{type:"primary",size:"small",onClick:p},{default:()=>[e.confirmButtonText||W1("confirm")]})])])}});const Hj=$e(jj),[zj,qj]=Me("skeleton-title"),Wj={round:Boolean,titleWidth:Fe};var Gj=Se({name:zj,props:Wj,setup(e){return()=>x("h3",{class:qj([{round:e.round}]),style:{width:mt(e.titleWidth)}},null)}});const ik=$e(Gj);var Yj=ik;const[Kj,Xj]=Me("skeleton-avatar"),Qj={avatarSize:Fe,avatarShape:Ue("round")};var Jj=Se({name:Kj,props:Qj,setup(e){return()=>x("div",{class:Xj([e.avatarShape]),style:ba(e.avatarSize)},null)}});const rk=$e(Jj);var Zj=rk;const H_="100%",e9={round:Boolean,rowWidth:{type:Fe,default:H_}},[t9,n9]=Me("skeleton-paragraph");var i9=Se({name:t9,props:e9,setup(e){return()=>x("div",{class:n9([{round:e.round}]),style:{width:e.rowWidth}},null)}});const sk=$e(i9);var r9=sk;const[s9,G1]=Me("skeleton"),a9="60%",o9={row:qe(0),round:Boolean,title:Boolean,titleWidth:Fe,avatar:Boolean,avatarSize:Fe,avatarShape:Ue("round"),loading:Le,animate:Le,rowWidth:{type:[Number,String,Array],default:H_}};var l9=Se({name:s9,inheritAttrs:!1,props:o9,setup(e,{slots:t,attrs:n}){const i=()=>{if(e.avatar)return x(Zj,{avatarShape:e.avatarShape,avatarSize:e.avatarSize},null)},r=()=>{if(e.title)return x(Yj,{round:e.round,titleWidth:e.titleWidth},null)},s=l=>{const{rowWidth:u}=e;return u===H_&&l===+e.row-1?a9:Array.isArray(u)?u[l]:u},a=()=>Array(+e.row).fill("").map((l,u)=>x(r9,{key:u,round:e.round,rowWidth:mt(s(u))},null)),o=()=>t.template?t.template():x(ct,null,[i(),x("div",{class:G1("content")},[r(),a()])]);return()=>{var l;return e.loading?x("div",tt({class:G1({animate:e.animate,round:e.round})},n),[o()]):(l=t.default)==null?void 0:l.call(t)}}});const u9=$e(l9),[c9,Y1]=Me("skeleton-image"),d9={imageSize:Fe,imageShape:Ue("square")};var f9=Se({name:c9,props:d9,setup(e){return()=>x("div",{class:Y1([e.imageShape]),style:ba(e.imageSize)},[x(pt,{name:"photo",class:Y1("icon")},null)])}});const h9=$e(f9),[p9,mc]=Me("slider"),m9={min:qe(0),max:qe(100),step:qe(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:Fe,buttonSize:Fe,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}};var g9=Se({name:p9,props:m9,emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:t,slots:n}){let i,r,s;const a=ie(),o=[ie(),ie()],l=ie(),u=_r(),c=fe(()=>Number(e.max)-Number(e.min)),d=fe(()=>{const R=e.vertical?"width":"height";return{background:e.inactiveColor,[R]:mt(e.barHeight)}}),f=R=>e.range&&Array.isArray(R),h=()=>{const{modelValue:R,min:L}=e;return f(R)?"".concat((R[1]-R[0])*100/c.value,"%"):"".concat((R-Number(L))*100/c.value,"%")},m=()=>{const{modelValue:R,min:L}=e;return f(R)?"".concat((R[0]-Number(L))*100/c.value,"%"):"0%"},p=fe(()=>{const L={[e.vertical?"height":"width"]:h(),background:e.activeColor};l.value&&(L.transition="none");const B=()=>e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left";return L[B()]=m(),L}),g=R=>{const L=+e.min,B=+e.max,N=+e.step;R=qn(R,L,B);const $=Math.round((R-L)/N)*N;return x2(L,$)},_=()=>{const R=e.modelValue;f(R)?s=R.map(g):s=g(R)},y=R=>{var L,B;const N=(L=R[0])!=null?L:Number(e.min),$=(B=R[1])!=null?B:Number(e.max);return N>$?[$,N]:[N,$]},b=(R,L)=>{f(R)?R=y(R).map(g):R=g(R),As(R,e.modelValue)||t("update:modelValue",R),L&&!As(R,s)&&t("change",R)},A=R=>{if(R.stopPropagation(),e.disabled||e.readonly)return;_();const{min:L,reverse:B,vertical:N,modelValue:$}=e,F=Lt(a),V=()=>N?B?F.bottom-R.clientY:R.clientY-F.top:B?F.right-R.clientX:R.clientX-F.left,U=N?F.height:F.width,Y=Number(L)+V()/U*c.value;if(f($)){const[ne,z]=$,W=(ne+z)/2;Y<=W?b([Y,z],!0):b([ne,Y],!0)}else b(Y,!0)},T=R=>{e.disabled||e.readonly||(u.start(R),r=e.modelValue,_(),l.value="start")},k=R=>{if(e.disabled||e.readonly)return;l.value==="start"&&t("dragStart",R),rn(R,!0),u.move(R),l.value="dragging";const L=Lt(a),B=e.vertical?u.deltaY.value:u.deltaX.value,N=e.vertical?L.height:L.width;let $=B/N*c.value;if(e.reverse&&($=-$),f(s)){const F=e.reverse?1-i:i;r[F]=s[F]+$}else r=s+$;b(r)},O=R=>{e.disabled||e.readonly||(l.value==="dragging"&&(b(r,!0),t("dragEnd",R)),l.value="")},I=R=>typeof R=="number"?mc("button-wrapper",["left","right"][R]):mc("button-wrapper",e.reverse?"left":"right"),w=(R,L)=>{const B=l.value==="dragging";if(typeof L=="number"){const N=n[L===0?"left-button":"right-button"];let $;if(B&&Array.isArray(r)&&($=r[0]>r[1]?i^1:i),N)return N({value:R,dragging:B,dragIndex:$})}return n.button?n.button({value:R,dragging:B}):x("div",{class:mc("button"),style:ba(e.buttonSize)},null)},D=R=>{const L=typeof R=="number"?e.modelValue[R]:e.modelValue;return x("div",{ref:o[R!=null?R:0],role:"slider",class:I(R),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":L,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:B=>{typeof R=="number"&&(i=R),T(B)},onTouchend:O,onTouchcancel:O,onClick:__},[w(L,R)])};return b(e.modelValue),no(()=>e.modelValue),o.forEach(R=>{Cn("touchmove",k,{target:R})}),()=>x("div",{ref:a,style:d.value,class:mc({vertical:e.vertical,disabled:e.disabled}),onClick:A},[x("div",{class:mc("bar"),style:p.value},[e.range?[D(0),D(1)]:D()])])}});const v9=$e(g9),[K1,y9]=Me("space"),_9={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function ak(e=[]){const t=[];return e.forEach(n=>{Array.isArray(n)?t.push(...n):n.type===ct?t.push(...ak(n.children)):t.push(n)}),t.filter(n=>{var i;return!(n&&(n.type===$n||n.type===ct&&((i=n.children)==null?void 0:i.length)===0||n.type===Su&&n.children.trim()===""))})}var b9=Se({name:K1,props:_9,setup(e,{slots:t}){const n=fe(()=>{var s;return(s=e.align)!=null?s:e.direction==="horizontal"?"center":""}),i=s=>typeof s=="number"?s+"px":s,r=s=>{const a={},o="".concat(i(Array.isArray(e.size)?e.size[0]:e.size)),l="".concat(i(Array.isArray(e.size)?e.size[1]:e.size));return s?e.wrap?{marginBottom:l}:{}:(e.direction==="horizontal"&&(a.marginRight=o),(e.direction==="vertical"||e.wrap)&&(a.marginBottom=l),a)};return()=>{var s;const a=ak((s=t.default)==null?void 0:s.call(t));return x("div",{class:[y9({[e.direction]:e.direction,["align-".concat(n.value)]:n.value,wrap:e.wrap,fill:e.fill})]},[a.map((o,l)=>x("div",{key:"item-".concat(l),class:"".concat(K1,"-item"),style:r(l===a.length-1)},[o]))])}}});const T9=$e(b9),[ok,X1]=Me("steps"),A9={active:qe(0),direction:Ue("horizontal"),activeIcon:Ue("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},lk=Symbol(ok);var S9=Se({name:ok,props:A9,emits:["clickStep"],setup(e,{emit:t,slots:n}){const{linkChildren:i}=gi(lk);return i({props:e,onClickStep:s=>t("clickStep",s)}),()=>{var s;return x("div",{class:X1([e.direction])},[x("div",{class:X1("items")},[(s=n.default)==null?void 0:s.call(n)])])}}});const[x9,Ma]=Me("step");var E9=Se({name:x9,setup(e,{slots:t}){const{parent:n,index:i}=ii(lk);if(!n)return;const r=n.props,s=()=>{const d=+r.active;return i.value<d?"finish":i.value===d?"process":"waiting"},a=()=>s()==="process",o=fe(()=>({background:s()==="finish"?r.activeColor:r.inactiveColor})),l=fe(()=>{if(a())return{color:r.activeColor};if(s()==="waiting")return{color:r.inactiveColor}}),u=()=>n.onClickStep(i.value),c=()=>{const{iconPrefix:d,finishIcon:f,activeIcon:h,activeColor:m,inactiveIcon:p}=r;return a()?t["active-icon"]?t["active-icon"]():x(pt,{class:Ma("icon","active"),name:h,color:m,classPrefix:d},null):s()==="finish"&&(f||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():x(pt,{class:Ma("icon","finish"),name:f,color:m,classPrefix:d},null):t["inactive-icon"]?t["inactive-icon"]():p?x(pt,{class:Ma("icon"),name:p,classPrefix:d},null):x("i",{class:Ma("circle"),style:o.value},null)};return()=>{var d;const f=s();return x("div",{class:[Aa,Ma([r.direction,{[f]:f}])]},[x("div",{class:Ma("title",{active:a()}),style:l.value,onClick:u},[(d=t.default)==null?void 0:d.call(t)]),x("div",{class:Ma("circle-container"),onClick:u},[c()]),x("div",{class:Ma("line"),style:o.value},null)])}}});const C9=$e(E9),[w9,Yf]=Me("stepper"),D9=200,Kf=(e,t)=>String(e)===String(t),k9={min:qe(1),max:qe(1/0),name:qe(""),step:qe(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:Le,showMinus:Le,showInput:Le,longPress:Le,autoFixed:Le,allowEmpty:Boolean,modelValue:Fe,inputWidth:Fe,buttonSize:Fe,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:qe(1),decimalLength:Fe};var O9=Se({name:w9,props:k9,emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const n=(I,w=!0)=>{const{min:D,max:R,allowEmpty:L,decimalLength:B}=e;return L&&I===""||(I=v0(String(I),!e.integer),I=I===""?0:+I,I=Number.isNaN(I)?+D:I,I=w?Math.max(Math.min(+R,I),+D):I,Ot(B)&&(I=I.toFixed(+B))),I},i=()=>{var I;const w=(I=e.modelValue)!=null?I:e.defaultValue,D=n(w);return Kf(D,e.modelValue)||t("update:modelValue",D),D};let r;const s=ie(),a=ie(i()),o=fe(()=>e.disabled||e.disableMinus||+a.value<=+e.min),l=fe(()=>e.disabled||e.disablePlus||+a.value>=+e.max),u=fe(()=>({width:mt(e.inputWidth),height:mt(e.buttonSize)})),c=fe(()=>ba(e.buttonSize)),d=()=>{const I=n(a.value);Kf(I,a.value)||(a.value=I)},f=I=>{e.beforeChange?io(e.beforeChange,{args:[I],done(){a.value=I}}):a.value=I},h=()=>{if(r==="plus"&&l.value||r==="minus"&&o.value){t("overlimit",r);return}const I=r==="minus"?-e.step:+e.step,w=n(x2(+a.value,I));f(w),t(r)},m=I=>{const w=I.target,{value:D}=w,{decimalLength:R}=e;let L=v0(String(D),!e.integer);if(Ot(R)&&L.includes(".")){const N=L.split(".");L="".concat(N[0],".").concat(N[1].slice(0,+R))}e.beforeChange?w.value=String(a.value):Kf(D,L)||(w.value=L);const B=L===String(+L);f(B?+L:L)},p=I=>{var w;e.disableInput?(w=s.value)==null||w.blur():t("focus",I)},g=I=>{const w=I.target,D=n(w.value,e.autoFixed);w.value=String(D),a.value=D,Ke(()=>{t("blur",I),A2()})};let _,y;const b=()=>{y=setTimeout(()=>{h(),b()},D9)},A=()=>{e.longPress&&(_=!1,clearTimeout(y),y=setTimeout(()=>{_=!0,h(),b()},O2))},T=I=>{e.longPress&&(clearTimeout(y),_&&rn(I))},k=I=>{e.disableInput&&rn(I)},O=I=>({onClick:w=>{rn(w),r=I,h()},onTouchstartPassive:()=>{r=I,A()},onTouchend:T,onTouchcancel:T});return De(()=>[e.max,e.min,e.integer,e.decimalLength],d),De(()=>e.modelValue,I=>{Kf(I,a.value)||(a.value=n(I))}),De(a,I=>{t("update:modelValue",I),t("change",I,{name:e.name})}),no(()=>e.modelValue),()=>x("div",{role:"group",class:Yf([e.theme])},[un(x("button",tt({type:"button",style:c.value,class:[Yf("minus",{disabled:o.value}),{[mi]:!o.value}],"aria-disabled":o.value||void 0},O("minus")),null),[[On,e.showMinus]]),un(x("input",{ref:s,type:e.integer?"tel":"text",role:"spinbutton",class:Yf("input"),value:a.value,style:u.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":a.value,onBlur:g,onInput:m,onFocus:p,onMousedown:k},null),[[On,e.showInput]]),un(x("button",tt({type:"button",style:c.value,class:[Yf("plus",{disabled:l.value}),{[mi]:!l.value}],"aria-disabled":l.value||void 0},O("plus")),null),[[On,e.showPlus]])])}});const I9=$e(O9),P9=$e(S9),[R9,kr,L9]=Me("submit-bar"),M9={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:Ue(""),disabled:Boolean,textAlign:String,buttonText:String,buttonType:Ue("danger"),buttonColor:String,suffixLabel:String,placeholder:Boolean,decimalLength:qe(2),safeAreaInsetBottom:Le};var N9=Se({name:R9,props:M9,emits:["submit"],setup(e,{emit:t,slots:n}){const i=ie(),r=Qp(i,kr),s=()=>{const{price:c,label:d,currency:f,textAlign:h,suffixLabel:m,decimalLength:p}=e;if(typeof c=="number"){const g=(c/100).toFixed(+p).split("."),_=p?".".concat(g[1]):"";return x("div",{class:kr("text"),style:{textAlign:h}},[x("span",null,[d||L9("label")]),x("span",{class:kr("price")},[f,x("span",{class:kr("price-integer")},[g[0]]),_]),m&&x("span",{class:kr("suffix-label")},[m])])}},a=()=>{var c;const{tip:d,tipIcon:f}=e;if(n.tip||d)return x("div",{class:kr("tip")},[f&&x(pt,{class:kr("tip-icon"),name:f},null),d&&x("span",{class:kr("tip-text")},[d]),(c=n.tip)==null?void 0:c.call(n)])},o=()=>t("submit"),l=()=>n.button?n.button():x(Mn,{round:!0,type:e.buttonType,text:e.buttonText,class:kr("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:o},null),u=()=>{var c,d;return x("div",{ref:i,class:[kr(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(c=n.top)==null?void 0:c.call(n),a(),x("div",{class:kr("bar")},[(d=n.default)==null?void 0:d.call(n),s(),l()])])};return()=>e.placeholder?r(u):u()}});const B9=$e(N9),[F9,Wg]=Me("swipe-cell"),$9={name:qe(""),disabled:Boolean,leftWidth:Fe,rightWidth:Fe,beforeClose:Function,stopPropagation:Boolean};var U9=Se({name:F9,props:$9,emits:["open","close","click"],setup(e,{emit:t,slots:n}){let i,r,s,a;const o=ie(),l=ie(),u=ie(),c=vt({offset:0,dragging:!1}),d=_r(),f=I=>I.value?Lt(I).width:0,h=fe(()=>Ot(e.leftWidth)?+e.leftWidth:f(l)),m=fe(()=>Ot(e.rightWidth)?+e.rightWidth:f(u)),p=I=>{c.offset=I==="left"?h.value:-m.value,i||(i=!0,t("open",{name:e.name,position:I}))},g=I=>{c.offset=0,i&&(i=!1,t("close",{name:e.name,position:I}))},_=I=>{const w=Math.abs(c.offset),D=.15,R=i?1-D:D,L=I==="left"?h.value:m.value;L&&w>L*R?p(I):g(I)},y=I=>{e.disabled||(s=c.offset,d.start(I))},b=I=>{if(e.disabled)return;const{deltaX:w}=d;d.move(I),d.isHorizontal()&&(r=!0,c.dragging=!0,(!i||w.value*s<0)&&rn(I,e.stopPropagation),c.offset=qn(w.value+s,-m.value,h.value))},A=()=>{c.dragging&&(c.dragging=!1,_(c.offset>0?"left":"right"),setTimeout(()=>{r=!1},0))},T=(I="outside",w)=>{a||(t("click",I),i&&!r&&(a=!0,io(e.beforeClose,{args:[{event:w,name:e.name,position:I}],done:()=>{a=!1,g(I)},canceled:()=>a=!1,error:()=>a=!1})))},k=I=>w=>{(r||i)&&w.stopPropagation(),!r&&T(I,w)},O=(I,w)=>{const D=n[I];if(D)return x("div",{ref:w,class:Wg(I),onClick:k(I)},[D()])};return Ct({open:p,close:g}),Yp(o,I=>T("outside",I),{eventName:"touchstart"}),Cn("touchmove",b,{target:o}),()=>{var I;const w={transform:"translate3d(".concat(c.offset,"px, 0, 0)"),transitionDuration:c.dragging?"0s":".6s"};return x("div",{ref:o,class:Wg(),onClick:k("cell"),onTouchstartPassive:y,onTouchend:A,onTouchcancel:A},[x("div",{class:Wg("wrapper"),style:w},[O("left",l),(I=n.default)==null?void 0:I.call(n),O("right",u)])])}}});const V9=$e(U9),[uk,Q1]=Me("tabbar"),j9={route:Boolean,fixed:Le,border:Le,zIndex:Fe,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:qe(0),safeAreaInsetBottom:{type:Boolean,default:null}},ck=Symbol(uk);var H9=Se({name:uk,props:j9,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=ie(),{linkChildren:r}=gi(ck),s=Qp(i,Q1),a=()=>{var u;return(u=e.safeAreaInsetBottom)!=null?u:e.fixed},o=()=>{var u;const{fixed:c,zIndex:d,border:f}=e;return x("div",{ref:i,role:"tablist",style:Ta(d),class:[Q1({fixed:c}),{[Kp]:f,"van-safe-area-bottom":a()}]},[(u=n.default)==null?void 0:u.call(n)])};return r({props:e,setActive:(u,c)=>{io(e.beforeChange,{args:[u],done(){t("update:modelValue",u),t("change",u),c()}})}}),()=>e.fixed&&e.placeholder?s(o):o()}});const dk=$e(H9),[z9,Gg]=Me("tabbar-item"),q9=et({},ro,{dot:Boolean,icon:String,name:Fe,badge:Fe,badgeProps:Object,iconPrefix:String});var W9=Se({name:z9,props:q9,emits:["click"],setup(e,{emit:t,slots:n}){const i=nl(),r=mn().proxy,{parent:s,index:a}=ii(ck);if(!s)return;const o=fe(()=>{var c;const{route:d,modelValue:f}=s.props;if(d&&"$route"in r){const{$route:h}=r,{to:m}=e,p=dr(m)?m:{path:m};return h.matched.some(g=>{const _="path"in p&&p.path===g.path,y="name"in p&&p.name===g.name;return _||y})}return((c=e.name)!=null?c:a.value)===f}),l=c=>{var d;o.value||s.setActive((d=e.name)!=null?d:a.value,i),t("click",c)},u=()=>{if(n.icon)return n.icon({active:o.value});if(e.icon)return x(pt,{name:e.icon,classPrefix:e.iconPrefix},null)};return()=>{var c;const{dot:d,badge:f}=e,{activeColor:h,inactiveColor:m}=s.props,p=o.value?h:m;return x("div",{role:"tab",class:Gg({active:o.value}),style:{color:p},tabindex:0,"aria-selected":o.value,onClick:l},[x(so,tt({dot:d,class:Gg("icon"),content:f},e.badgeProps),{default:u}),x("div",{class:Gg("text")},[(c=n.default)==null?void 0:c.call(n,{active:o.value})])])}}});const fk=$e(W9),[G9,J1]=Me("text-ellipsis"),Y9={rows:qe(1),dots:Ue("..."),content:Ue(""),expandText:Ue(""),collapseText:Ue(""),position:Ue("end")};var K9=Se({name:G9,props:Y9,emits:["clickAction"],setup(e,{emit:t,slots:n}){const i=ie(e.content),r=ie(!1),s=ie(!1),a=ie(),o=ie();let l=!1;const u=fe(()=>r.value?e.collapseText:e.expandText),c=_=>{if(!_)return 0;const y=_.match(/^\d*(\.\d*)?/);return y?Number(y[0]):0},d=()=>{if(!a.value||!a.value.isConnected)return;const _=window.getComputedStyle(a.value),y=document.createElement("div");return Array.prototype.slice.apply(_).forEach(A=>{y.style.setProperty(A,_.getPropertyValue(A))}),y.style.position="fixed",y.style.zIndex="-9999",y.style.top="-9999px",y.style.height="auto",y.style.minHeight="auto",y.style.maxHeight="auto",y.innerText=e.content,document.body.appendChild(y),y},f=(_,y)=>{var b,A;const{content:T,position:k,dots:O}=e,I=T.length,w=0+I>>1,D=n.action?(A=(b=o.value)==null?void 0:b.outerHTML)!=null?A:"":e.expandText,R=()=>{const B=(N,$)=>{if($-N<=1)return k==="end"?T.slice(0,N)+O:O+T.slice($,I);const F=Math.round((N+$)/2);return k==="end"?_.innerText=T.slice(0,F)+O:_.innerText=O+T.slice(F,I),_.innerHTML+=D,_.offsetHeight>y?k==="end"?B(N,F):B(F,$):k==="end"?B(F,$):B(N,F)};return B(0,I)},L=(B,N)=>{if(B[1]-B[0]<=1&&N[1]-N[0]<=1)return T.slice(0,B[0])+O+T.slice(N[1],I);const $=Math.floor((B[0]+B[1])/2),F=Math.ceil((N[0]+N[1])/2);return _.innerText=e.content.slice(0,$)+e.dots+e.content.slice(F,I),_.innerHTML+=D,_.offsetHeight>=y?L([B[0],$],[F,N[1]]):L([$,B[1]],[N[0],F])};return e.position==="middle"?L([0,w],[w,I]):R()},h=()=>{const _=d();if(!_){l=!0;return}const{paddingBottom:y,paddingTop:b,lineHeight:A}=_.style,T=Math.ceil((Number(e.rows)+.5)*c(A)+c(b)+c(y));T<_.offsetHeight?(s.value=!0,i.value=f(_,T)):(s.value=!1,i.value=e.content),document.body.removeChild(_)},m=(_=!r.value)=>{r.value=_},p=_=>{m(),t("clickAction",_)},g=()=>{const _=n.action?n.action({expanded:r.value}):u.value;return x("span",{ref:o,class:J1("action"),onClick:p},[_])};return Et(()=>{h(),n.action&&Ke(h)}),gr(()=>{l&&(l=!1,h())}),De([Ur,()=>[e.content,e.rows,e.position]],h),Ct({toggle:m}),()=>x("div",{ref:a,class:J1()},[r.value?e.content:i.value,s.value?g():null])}});const X9=$e(K9),[Q9]=Me("time-picker"),Z1=e=>/^([01]\d|2[0-3]):([0-5]\d):([0-5]\d)$/.test(e),J9=["hour","minute","second"],Z9=et({},pD,{minHour:qe(0),maxHour:qe(23),minMinute:qe(0),maxMinute:qe(59),minSecond:qe(0),maxSecond:qe(59),minTime:{type:String,validator:Z1},maxTime:{type:String,validator:Z1},columnsType:{type:Array,default:()=>["hour","minute"]}});var e7=Se({name:Q9,props:Z9,emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=ie(e.modelValue),r=ie(),s=f=>{const h=f.split(":");return J9.map((m,p)=>e.columnsType.includes(m)?h[p]:"00")},a=()=>{var f;return(f=r.value)==null?void 0:f.confirm()},o=()=>i.value,l=fe(()=>{let{minHour:f,maxHour:h,minMinute:m,maxMinute:p,minSecond:g,maxSecond:_}=e;if(e.minTime||e.maxTime){const y={hour:0,minute:0,second:0};e.columnsType.forEach((T,k)=>{var O;y[T]=(O=i.value[k])!=null?O:0});const{hour:b,minute:A}=y;if(e.minTime){const[T,k,O]=s(e.minTime);f=T,m=+b<=+f?k:"00",g=+b<=+f&&+A<=+m?O:"00"}if(e.maxTime){const[T,k,O]=s(e.maxTime);h=T,p=+b>=+h?k:"59",_=+b>=+h&&+A>=+p?O:"59"}}return e.columnsType.map(y=>{const{filter:b,formatter:A}=e;switch(y){case"hour":return Hl(+f,+h,y,A,b,i.value);case"minute":return Hl(+m,+p,y,A,b,i.value);case"second":return Hl(+g,+_,y,A,b,i.value);default:return[]}})});De(i,f=>{As(f,e.modelValue)||t("update:modelValue",f)}),De(()=>e.modelValue,f=>{f=vD(f,l.value),As(f,i.value)||(i.value=f)},{immediate:!0});const u=(...f)=>t("change",...f),c=(...f)=>t("cancel",...f),d=(...f)=>t("confirm",...f);return Ct({confirm:a,getSelectedTime:o}),()=>x(Rd,tt({ref:r,modelValue:i.value,"onUpdate:modelValue":f=>i.value=f,columns:l.value,onChange:u,onCancel:c,onConfirm:d},Rt(e,mD)),n)}});const hk=$e(e7),[t7,Tl]=Me("tree-select"),n7={max:qe(1/0),items:cn(),height:qe(300),selectedIcon:Ue("success"),mainActiveIndex:qe(0),activeId:{type:[Number,String,Array],default:0}};var i7=Se({name:t7,props:n7,emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:n}){const i=u=>Array.isArray(e.activeId)?e.activeId.includes(u):e.activeId===u,r=u=>{const c=()=>{if(u.disabled)return;let d;if(Array.isArray(e.activeId)){d=e.activeId.slice();const f=d.indexOf(u.id);f!==-1?d.splice(f,1):d.length<+e.max&&d.push(u.id)}else d=u.id;t("update:activeId",d),t("clickItem",u)};return x("div",{key:u.id,class:["van-ellipsis",Tl("item",{active:i(u.id),disabled:u.disabled})],onClick:c},[u.text,i(u.id)&&x(pt,{name:e.selectedIcon,class:Tl("selected")},null)])},s=u=>{t("update:mainActiveIndex",u)},a=u=>t("clickNav",u),o=()=>{const u=e.items.map(c=>x(nk,{dot:c.dot,badge:c.badge,class:[Tl("nav-item"),c.className],disabled:c.disabled,onClick:a},{title:()=>n["nav-text"]?n["nav-text"](c):c.text}));return x(tk,{class:Tl("nav"),modelValue:e.mainActiveIndex,onChange:s},{default:()=>[u]})},l=()=>{if(n.content)return n.content();const u=e.items[+e.mainActiveIndex]||{};if(u.children)return u.children.map(r)};return()=>x("div",{class:Tl(),style:{height:mt(e.height)}},[o(),x("div",{class:Tl("content")},[l()])])}});const r7=$e(i7),[s7,Bn,a7]=Me("uploader");function eS(e,t){return new Promise(n=>{if(t==="file"){n();return}const i=new FileReader;i.onload=r=>{n(r.target.result)},t==="dataUrl"?i.readAsDataURL(e):t==="text"&&i.readAsText(e)})}function pk(e,t){return Yh(e).some(n=>n.file?ru(t)?t(n.file):n.file.size>+t:!1)}function o7(e,t){const n=[],i=[];return e.forEach(r=>{pk(r,t)?i.push(r):n.push(r)}),{valid:n,invalid:i}}const l7=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i,u7=e=>l7.test(e);function mk(e){return e.isImage?!0:e.file&&e.file.type?e.file.type.indexOf("image")===0:e.url?u7(e.url):typeof e.content=="string"?e.content.indexOf("data:image")===0:!1}var c7=Se({props:{name:Fe,item:Gn(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:t,slots:n}){const i=()=>{const{status:c,message:d}=e.item;if(c==="uploading"||c==="failed"){const f=c==="failed"?x(pt,{name:"close",class:Bn("mask-icon")},null):x(yr,{class:Bn("loading")},null),h=Ot(d)&&d!=="";return x("div",{class:Bn("mask")},[f,h&&x("div",{class:Bn("mask-message")},[d])])}},r=c=>{const{name:d,item:f,index:h,beforeDelete:m}=e;c.stopPropagation(),io(m,{args:[f,{name:d,index:h}],done:()=>t("delete")})},s=()=>t("preview"),a=()=>t("reupload"),o=()=>{if(e.deletable&&e.item.status!=="uploading"){const c=n["preview-delete"];return x("div",{role:"button",class:Bn("preview-delete",{shadow:!c}),tabindex:0,"aria-label":a7("delete"),onClick:r},[c?c():x(pt,{name:"cross",class:Bn("preview-delete-icon")},null)])}},l=()=>{if(n["preview-cover"]){const{index:c,item:d}=e;return x("div",{class:Bn("preview-cover")},[n["preview-cover"](et({index:c},d))])}},u=()=>{const{item:c,lazyLoad:d,imageFit:f,previewSize:h,reupload:m}=e;return mk(c)?x(am,{fit:f,src:c.objectUrl||c.content||c.url,class:Bn("preview-image"),width:Array.isArray(h)?h[0]:h,height:Array.isArray(h)?h[1]:h,lazyLoad:d,onClick:m?a:s},{default:l}):x("div",{class:Bn("file"),style:ba(e.previewSize)},[x(pt,{class:Bn("file-icon"),name:"description"},null),x("div",{class:[Bn("file-name"),"van-ellipsis"]},[c.file?c.file.name:c.url]),l()])};return()=>x("div",{class:Bn("preview")},[u(),i(),o()])}});const d7={name:qe(""),accept:Ue("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:qe(1/0),imageFit:Ue("cover"),resultType:Ue("dataUrl"),uploadIcon:Ue("photograph"),uploadText:String,deletable:Le,reupload:Boolean,afterRead:Function,showUpload:Le,modelValue:cn(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:Le,previewOptions:Object,previewFullImage:Le,maxSize:{type:[Number,String,Function],default:1/0}};var f7=Se({name:s7,props:d7,emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:t,slots:n}){const i=ie(),r=[],s=ie(-1),a=ie(!1),o=(I=e.modelValue.length)=>({name:e.name,index:I}),l=()=>{i.value&&(i.value.value="")},u=I=>{if(l(),pk(I,e.maxSize))if(Array.isArray(I)){const w=o7(I,e.maxSize);if(I=w.valid,t("oversize",w.invalid,o()),!I.length)return}else{t("oversize",I,o());return}if(I=vt(I),s.value>-1){const w=[...e.modelValue];w.splice(s.value,1,I),t("update:modelValue",w),s.value=-1}else t("update:modelValue",[...e.modelValue,...Yh(I)]);e.afterRead&&e.afterRead(I,o())},c=I=>{const{maxCount:w,modelValue:D,resultType:R}=e;if(Array.isArray(I)){const L=+w-D.length;I.length>L&&(I=I.slice(0,L)),Promise.all(I.map(B=>eS(B,R))).then(B=>{const N=I.map(($,F)=>{const V={file:$,status:"",message:"",objectUrl:URL.createObjectURL($)};return B[F]&&(V.content=B[F]),V});u(N)})}else eS(I,R).then(L=>{const B={file:I,status:"",message:"",objectUrl:URL.createObjectURL(I)};L&&(B.content=L),u(B)})},d=I=>{const{files:w}=I.target;if(e.disabled||!w||!w.length)return;const D=w.length===1?w[0]:[].slice.call(w);if(e.beforeRead){const R=e.beforeRead(D,o());if(!R){l();return}if(v_(R)){R.then(L=>{c(L||D)}).catch(l);return}}c(D)};let f;const h=()=>t("closePreview"),m=I=>{if(e.previewFullImage){const w=e.modelValue.filter(mk),D=w.map(R=>(R.objectUrl&&!R.url&&R.status!=="failed"&&(R.url=R.objectUrl,r.push(R.url)),R.url)).filter(Boolean);f=aV(et({images:D,startPosition:w.indexOf(I),onClose:h},e.previewOptions))}},p=()=>{f&&f.close()},g=(I,w)=>{const D=e.modelValue.slice(0);D.splice(w,1),t("update:modelValue",D),t("delete",I,o(w))},_=I=>{a.value=!0,s.value=I,Ke(()=>O())},y=()=>{a.value||(s.value=-1),a.value=!1},b=(I,w)=>{const D=["imageFit","deletable","reupload","previewSize","beforeDelete"],R=et(Rt(e,D),Rt(I,D,!0));return x(c7,tt({item:I,index:w,onClick:()=>t(e.reupload?"clickReupload":"clickPreview",I,o(w)),onDelete:()=>g(I,w),onPreview:()=>m(I),onReupload:()=>_(w)},Rt(e,["name","lazyLoad"]),R),Rt(n,["preview-cover","preview-delete"]))},A=()=>{if(e.previewImage)return e.modelValue.map(b)},T=I=>t("clickUpload",I),k=()=>{const I=e.modelValue.length<+e.maxCount,w=e.readonly?null:x("input",{ref:i,type:"file",class:Bn("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&s.value===-1,disabled:e.disabled,onChange:d,onClick:y},null);return n.default?un(x("div",{class:Bn("input-wrapper"),onClick:T},[n.default(),w]),[[On,I]]):un(x("div",{class:Bn("upload",{readonly:e.readonly}),style:ba(e.previewSize),onClick:T},[x(pt,{name:e.uploadIcon,class:Bn("upload-icon")},null),e.uploadText&&x("span",{class:Bn("upload-text")},[e.uploadText]),w]),[[On,e.showUpload&&I]])},O=()=>{i.value&&!e.disabled&&i.value.click()};return Oi(()=>{r.forEach(I=>URL.revokeObjectURL(I))}),Ct({chooseFile:O,reuploadFile:_,closeImagePreview:p}),no(()=>e.modelValue),()=>x("div",{class:Bn()},[x("div",{class:Bn("wrapper",{disabled:e.disabled})},[A(),k()])])}});const h7=$e(f7),[p7,tS]=Me("watermark"),m7={gapX:Un(0),gapY:Un(0),image:String,width:Un(100),height:Un(100),rotate:qe(-22),zIndex:Fe,content:String,opacity:Fe,fullPage:Le,textColor:Ue("#dcdee0")};var g7=Se({name:p7,props:m7,setup(e,{slots:t}){const n=ie(),i=ie(""),r=ie(""),s=()=>{const c={transformOrigin:"center",transform:"rotate(".concat(e.rotate,"deg)")},d=()=>e.image&&!t.content?x("image",{href:r.value,"xlink:href":r.value,x:"0",y:"0",width:e.width,height:e.height,style:c},null):x("foreignObject",{x:"0",y:"0",width:e.width,height:e.height},[x("div",{xmlns:"http://www.w3.org/1999/xhtml",style:c},[t.content?t.content():x("span",{style:{color:e.textColor}},[e.content])])]),f=e.width+e.gapX,h=e.height+e.gapY;return x("svg",{viewBox:"0 0 ".concat(f," ").concat(h),width:f,height:h,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{padding:"0 ".concat(e.gapX,"px ").concat(e.gapY,"px 0"),opacity:e.opacity}},[d()])},a=c=>{const d=document.createElement("canvas"),f=new Image;f.crossOrigin="anonymous",f.referrerPolicy="no-referrer",f.onload=()=>{d.width=f.naturalWidth,d.height=f.naturalHeight;const h=d.getContext("2d");h==null||h.drawImage(f,0,0),r.value=d.toDataURL()},f.src=c},o=c=>{const d=new Blob([c],{type:"image/svg+xml"});return URL.createObjectURL(d)},l=()=>{i.value&&URL.revokeObjectURL(i.value)},u=()=>{n.value&&(l(),i.value=o(n.value.innerHTML))};return _a(()=>{e.image&&a(e.image)}),De(()=>[e.content,e.textColor,e.height,e.width,e.rotate,e.gapX,e.gapY],u),De(r,()=>{Ke(u)}),Et(u),Xr(l),()=>{const c=et({backgroundImage:"url(".concat(i.value,")")},Ta(e.zIndex));return x("div",{class:tS({full:e.fullPage}),style:c},[x("div",{class:tS("wrapper"),ref:n},[s()])])}}});const v7=$e(g7),y7="4.9.21";function _7(e){[L2,_0,y4,V2,Z$,S8,iD,D8,so,R8,Mn,Y8,t5,yD,vi,_D,Ld,R_,p5,AD,ED,CD,wD,P5,N5,V5,G5,x0,nU,uU,kD,ID,EU,IU,PU,DD,Vn,LD,$U,nm,HU,GU,QU,pt,am,oV,mV,gV,F_,yr,T_,UD,wV,BV,qV,U2,KV,ZV,Rd,jD,Q6,Jn,tj,QD,M_,P_,dj,bj,JD,j_,Pj,tk,nk,Hj,u9,rk,h9,sk,ik,v9,T9,C9,I9,P9,Zp,B9,w_,V9,D_,I_,su,dk,fk,Pd,sm,X9,hk,z$,r7,h7,v7].forEach(n=>{n.install?e.use(n):n.name&&e.component(n.name,n)})}var b7={install:_7,version:y7};/*!
 * @form-create/vant v3.2.32
 * (c) 2018-2025 xaboy
 * Github https://github.com/xaboy/form-create
 * Released under the MIT License.
 */var T7="fcSubForm",A7=Se({name:T7,props:{rule:Array,options:{type:Object,default:function(){return vt({submitBtn:!1,resetBtn:!1})}},modelValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},syncDisabled:{type:Boolean,default:!0},formCreateInject:Object},data:function(){return{cacheValue:{},subApi:{},form:Lr(this.formCreateInject.form.$form())}},emits:["fc:subform","update:modelValue","change","itemMounted"],watch:{modelValue:function(t){this.setValue(t)}},methods:{formData:function(t){this.cacheValue=JSON.stringify(t),this.$emit("update:modelValue",t),this.$emit("change",t)},setValue:function(t){var n=JSON.stringify(t);this.cacheValue!==n&&(this.cacheValue=n,this.subApi.coverValue(t||{}))},add$f:function(t){var n=this;this.subApi=t,Ke(function(){n.$emit("itemMounted",t)})}},render:function(){var t=this.form;return x(t,{disabled:this.disabled,"onUpdate:modelValue":this.formData,modelValue:this.modelValue,"onEmit-event":this.$emit,"onUpdate:api":this.add$f,rule:this.rule,option:this.options,extendOption:!0},null)}});function nS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(n),!0).forEach(function(i){Yn(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nS(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Dt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dt=function(t){return typeof t}:Dt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(e)}function S7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x7(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k0(e,t)}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},tp(e)}function k0(e,t){return k0=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},k0(e,t)}function E7(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function C7(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w7(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C7(e)}function D7(e){var t=E7();return function(){var i=tp(e),r;if(t){var s=tp(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return w7(this,r)}}function k7(e,t){return I7(e)||R7(e,t)||gk(e,t)||M7()}function At(e){return O7(e)||P7(e)||gk(e)||L7()}function O7(e){if(Array.isArray(e))return O0(e)}function I7(e){if(Array.isArray(e))return e}function P7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R7(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],r=!0,s=!1,a,o;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!(t&&i.length===t));r=!0);}catch(l){s=!0,o=l}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw o}}return i}}function gk(e,t){if(e){if(typeof e=="string")return O0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O0(e,t)}}function O0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function L7(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M7(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Be={type:function(t,n){return Object.prototype.toString.call(t)==="[object "+n+"]"},Undef:function(t){return t==null},Element:function(t){return Dt(t)==="object"&&t!==null&&t.nodeType===1&&!Be.Object(t)},trueArray:function(t){return Array.isArray(t)&&t.length>0},Function:function(t){var n=this.getType(t);return n==="Function"||n==="AsyncFunction"},getType:function(t){var n=Object.prototype.toString.call(t);return/^\[object (.*)\]$/.exec(n)[1]},empty:function(t){return t==null||Array.isArray(t)&&Array.isArray(t)&&!t.length?!0:typeof t=="string"&&!t}};["Date","Object","String","Boolean","Array","Number"].forEach(function(e){Be[e]=function(t){return Be.type(t,e)}});function tn(e,t){return{}.hasOwnProperty.call(e,t)}var N7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vk={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(N7,function(){var n=1e3,i=6e4,r=36e5,s="millisecond",a="second",o="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",m="date",p="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var F=["th","st","nd","rd"],V=$%100;return"["+$+(F[(V-20)%10]||F[V]||F[0])+"]"}},b=function($,F,V){var U=String($);return!U||U.length>=F?$:""+Array(F+1-U.length).join(V)+$},A={s:b,z:function($){var F=-$.utcOffset(),V=Math.abs(F),U=Math.floor(V/60),Y=V%60;return(F<=0?"+":"-")+b(U,2,"0")+":"+b(Y,2,"0")},m:function N($,F){if($.date()<F.date())return-N(F,$);var V=12*(F.year()-$.year())+(F.month()-$.month()),U=$.clone().add(V,d),Y=F-U<0,ne=$.clone().add(V+(Y?-1:1),d);return+(-(V+(F-U)/(Y?U-ne:ne-U))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:d,y:h,w:c,d:u,D:m,h:l,m:o,s:a,ms:s,Q:f}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},T="en",k={};k[T]=y;var O="$isDayjsObject",I=function($){return $ instanceof L||!(!$||!$[O])},w=function N($,F,V){var U;if(!$)return T;if(typeof $=="string"){var Y=$.toLowerCase();k[Y]&&(U=Y),F&&(k[Y]=F,U=Y);var ne=$.split("-");if(!U&&ne.length>1)return N(ne[0])}else{var z=$.name;k[z]=$,U=z}return!V&&U&&(T=U),U||!V&&T},D=function($,F){if(I($))return $.clone();var V=Dt(F)=="object"?F:{};return V.date=$,V.args=arguments,new L(V)},R=A;R.l=w,R.i=I,R.w=function(N,$){return D(N,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var L=(function(){function N(F){this.$L=w(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[O]=!0}var $=N.prototype;return $.parse=function(F){this.$d=(function(V){var U=V.date,Y=V.utc;if(U===null)return new Date(NaN);if(R.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var ne=U.match(g);if(ne){var z=ne[2]-1||0,W=(ne[7]||"0").substring(0,3);return Y?new Date(Date.UTC(ne[1],z,ne[3]||1,ne[4]||0,ne[5]||0,ne[6]||0,W)):new Date(ne[1],z,ne[3]||1,ne[4]||0,ne[5]||0,ne[6]||0,W)}}return new Date(U)})(F),this.init()},$.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},$.$utils=function(){return R},$.isValid=function(){return this.$d.toString()!==p},$.isSame=function(F,V){var U=D(F);return this.startOf(V)<=U&&U<=this.endOf(V)},$.isAfter=function(F,V){return D(F)<this.startOf(V)},$.isBefore=function(F,V){return this.endOf(V)<D(F)},$.$g=function(F,V,U){return R.u(F)?this[V]:this.set(U,F)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(F,V){var U=this,Y=!!R.u(V)||V,ne=R.p(F),z=function(Z,he){var H=R.w(U.$u?Date.UTC(U.$y,he,Z):new Date(U.$y,he,Z),U);return Y?H:H.endOf(u)},W=function(Z,he){return R.w(U.toDate()[Z].apply(U.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(he)),U)},le=this.$W,ye=this.$M,ae=this.$D,ke="set"+(this.$u?"UTC":"");switch(ne){case h:return Y?z(1,0):z(31,11);case d:return Y?z(1,ye):z(0,ye+1);case c:var q=this.$locale().weekStart||0,ve=(le<q?le+7:le)-q;return z(Y?ae-ve:ae+(6-ve),ye);case u:case m:return W(ke+"Hours",0);case l:return W(ke+"Minutes",1);case o:return W(ke+"Seconds",2);case a:return W(ke+"Milliseconds",3);default:return this.clone()}},$.endOf=function(F){return this.startOf(F,!1)},$.$set=function(F,V){var U,Y=R.p(F),ne="set"+(this.$u?"UTC":""),z=(U={},U[u]=ne+"Date",U[m]=ne+"Date",U[d]=ne+"Month",U[h]=ne+"FullYear",U[l]=ne+"Hours",U[o]=ne+"Minutes",U[a]=ne+"Seconds",U[s]=ne+"Milliseconds",U)[Y],W=Y===u?this.$D+(V-this.$W):V;if(Y===d||Y===h){var le=this.clone().set(m,1);le.$d[z](W),le.init(),this.$d=le.set(m,Math.min(this.$D,le.daysInMonth())).$d}else z&&this.$d[z](W);return this.init(),this},$.set=function(F,V){return this.clone().$set(F,V)},$.get=function(F){return this[R.p(F)]()},$.add=function(F,V){var U,Y=this;F=Number(F);var ne=R.p(V),z=function(ae){var ke=D(Y);return R.w(ke.date(ke.date()+Math.round(ae*F)),Y)};if(ne===d)return this.set(d,this.$M+F);if(ne===h)return this.set(h,this.$y+F);if(ne===u)return z(1);if(ne===c)return z(7);var W=(U={},U[o]=i,U[l]=r,U[a]=n,U)[ne]||1,le=this.$d.getTime()+F*W;return R.w(le,this)},$.subtract=function(F,V){return this.add(-1*F,V)},$.format=function(F){var V=this,U=this.$locale();if(!this.isValid())return U.invalidDate||p;var Y=F||"YYYY-MM-DDTHH:mm:ssZ",ne=R.z(this),z=this.$H,W=this.$m,le=this.$M,ye=U.weekdays,ae=U.months,ke=U.meridiem,q=function(he,H,K,se){return he&&(he[H]||he(V,Y))||K[H].slice(0,se)},ve=function(he){return R.s(z%12||12,he,"0")},X=ke||function(Z,he,H){var K=Z<12?"AM":"PM";return H?K.toLowerCase():K};return Y.replace(_,function(Z,he){return he||(function(H){switch(H){case"YY":return String(V.$y).slice(-2);case"YYYY":return R.s(V.$y,4,"0");case"M":return le+1;case"MM":return R.s(le+1,2,"0");case"MMM":return q(U.monthsShort,le,ae,3);case"MMMM":return q(ae,le);case"D":return V.$D;case"DD":return R.s(V.$D,2,"0");case"d":return String(V.$W);case"dd":return q(U.weekdaysMin,V.$W,ye,2);case"ddd":return q(U.weekdaysShort,V.$W,ye,3);case"dddd":return ye[V.$W];case"H":return String(z);case"HH":return R.s(z,2,"0");case"h":return ve(1);case"hh":return ve(2);case"a":return X(z,W,!0);case"A":return X(z,W,!1);case"m":return String(W);case"mm":return R.s(W,2,"0");case"s":return String(V.$s);case"ss":return R.s(V.$s,2,"0");case"SSS":return R.s(V.$ms,3,"0");case"Z":return ne}return null})(Z)||ne.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(F,V,U){var Y,ne=this,z=R.p(V),W=D(F),le=(W.utcOffset()-this.utcOffset())*i,ye=this-W,ae=function(){return R.m(ne,W)};switch(z){case h:Y=ae()/12;break;case d:Y=ae();break;case f:Y=ae()/3;break;case c:Y=(ye-le)/6048e5;break;case u:Y=(ye-le)/864e5;break;case l:Y=ye/r;break;case o:Y=ye/i;break;case a:Y=ye/n;break;default:Y=ye}return U?Y:R.a(Y)},$.daysInMonth=function(){return this.endOf(d).$D},$.$locale=function(){return k[this.$L]},$.locale=function(F,V){if(!F)return this.$L;var U=this.clone(),Y=w(F,V,!0);return Y&&(U.$L=Y),U},$.clone=function(){return R.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},N})(),B=L.prototype;return D.prototype=B,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",u],["$M",d],["$y",h],["$D",m]].forEach(function(N){B[N[1]]=function($){return this.$g($,N[0],N[1])}}),D.extend=function(N,$){return N.$i||(N($,L,D),N.$i=!0),D},D.locale=w,D.isDayjs=I,D.unix=function(N){return D(1e3*N)},D.en=k[T],D.Ls=k,D.p={},D})})(vk);var Rl=vk.exports,B7="fcCalendar",F7=Se({name:B7,inheritAttrs:!1,props:{placeholder:String,formCreateInject:Object,disabled:Boolean,clearable:Boolean,type:String,modelValue:[String,Array],minDate:[String,Date],maxDate:[String,Date]},emits:["update:modelValue","change","fc.el"],setup:function(t,n){var i=ie(!1),r=xn(t,"modelValue"),s=xn(t,"formCreateInject"),a=ie(r.value);De(function(){return r.value},function(m){a.value=m});var o=function(p){return Rl(p).format("YYYY-MM-DD")},l=function(p){return Rl(p).toDate()},u=fe(function(){var m=r.value;return Array.isArray(m)?m.map(l):m?l(m):null}),c=fe(function(){return{minDate:t.minDate?Rl(t.minDate).toDate():void 0,maxDate:t.maxDate?Rl(t.maxDate).toDate():void 0}}),d=function(p){Array.isArray(p)?a.value=p.map(o):p?a.value=o(p):a.value=p},f=function(){n.emit("update:modelValue",a.value),n.emit("change",a.value)},h={range:function(){return a.value.length?a.value.join(" - "):""},multiple:function(){return a.value.length?s.value.t("selectedData",{length:a.value.length})||" ".concat(a.value.length," "):""}};return{show:i,inputValue:a,defaultDate:u,dateRange:c,open:function(){t.disabled||(i.value=!0)},confirm:function(p){d(p),i.value=!1,f()},getStrValue:function(){return a.value?tn(h,t.type)?h[t.type]():a.value||"":""},clear:function(p){p.stopPropagation();var g=Array.isArray(a.value)?[]:"";d(g),f()}}},render:function(){var t=this,n=function(){return t.$props.clearable&&!Be.empty(t.inputValue)?x("i",{class:"van-badge__wrapper van-icon van-icon-clear van-field__clear",onClick:t.clear},null):void 0};return x("div",{class:"_fc-calendar"},[x(Kt("van-field"),{ref:"el",placeholder:this.placeholder,readonly:!0,disabled:this.$props.disabled,onClick:this.open,"model-value":this.getStrValue(),isLink:!0,border:!1},{"right-icon":n}),x(Kt("van-calendar"),tt(Qe(Qe({},this.$attrs),this.dateRange),{show:this.show,"onUpdate:show":function(r){return t.show=r},type:this.type,onConfirm:this.confirm,defaultDate:this.defaultDate}),null)])},mounted:function(){this.$emit("fc.el",this.$refs.el)}}),$7="fcCascader",U7=Se({name:$7,inheritAttrs:!1,props:{placeholder:String,disabled:Boolean,clearable:Boolean,fieldNames:Object,modelValue:[String,Number],options:Array,minDate:[String,Date],maxDate:[String,Date]},emits:["update:modelValue","fc.el","change"],setup:function(t,n){var i=ie(!1),r=xn(t,"modelValue"),s=xn(t,"options"),a=xn(t,"fieldNames",{}),o=function d(f,h,m){for(var p=0;p<f.length;p++){if(f[p][a.value.value||"value"]===h)return[].concat(At(m),[f[p]]);if(f[p][a.value.children||"children"]){var g=d(f[p][a.value.children||"children"],h,[].concat(At(m),[f[p]]));if(g)return g}}},l=function(f){if(f==null||f==="")return"";var h=o(s.value,f,[]);return h?h.map(function(m){return m[a.value.text||"text"]}).join(" / "):f},u=ie(l(r.value));De(function(){return r.value},function(d){u.value=l(d)}),De(function(){return s.value},function(){r.value!=null&&r.value!==""&&(u.value=l(r.value))},{deep:!0});var c=function(f){n.emit("update:modelValue",f),n.emit("change",f)};return{show:i,inputValue:u,options:s,open:function(){t.disabled||(i.value=!0)},confirm:function(f){var h=f.selectedOptions,m=f.value;u.value=h.map(function(p){return p[a.value.text||"text"]}).join(" / "),i.value=!1,c(m)},clear:function(f){f.stopPropagation(),u.value="",c("")}}},render:function(){var t=this,n=function(){return t.$props.clearable&&t.inputValue?x("i",{class:"van-badge__wrapper van-icon van-icon-clear van-field__clear",onClick:t.clear},null):void 0};return x("div",{class:"_fc-cascader"},[x(Kt("van-field"),{ref:"el",placeholder:this.placeholder,readonly:!0,disabled:this.$props.disabled,onClick:this.open,"model-value":this.inputValue,border:!1,isLink:!0},{"right-icon":n}),x(Kt("van-popup"),{show:this.show,"onUpdate:show":function(r){return t.show=r},round:!0,position:"bottom"},{default:function(){return[x(Kt("van-cascader"),tt(t.$attrs,{modelValue:t.modelValue,fieldNames:t.fieldNames,options:t.options,onClose:function(){return t.show=!1},onFinish:t.confirm}),null)]}})])},mounted:function(){this.$emit("fc.el",this.$refs.el)}});function V7(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Wr(e)}var j7="fcCheckbox",H7=Se({name:j7,inheritAttrs:!1,props:{modelValue:Array,options:Array},emits:["update:modelValue","change"],setup:function(t,n){var i=xn(t,"modelValue",[]),r=xn(t,"options");return{options:r,modelValue:i,onInput:function(a){n.emit("update:modelValue",a),n.emit("change",a)}}},render:function(){var t;return x(Kt("van-checkbox-group"),tt({direction:"horizontal"},this.$attrs,{modelValue:Array.isArray(this.modelValue)?this.modelValue:[],"onUpdate:modelValue":this.onInput}),V7(t=(this.options||[]).map(function(n){var i=Qe({},n),r=n.text,s=n.value;return delete i.text,delete i.value,x(Kt("van-checkbox"),tt({name:s,shape:"square"},i),{default:function(){return[r||n.label||s]}})}))?t:{default:function(){return[t]}})}}),z7="fcSelect",q7=Se({name:z7,inheritAttrs:!1,props:{disabled:Boolean,placeholder:String,columnsFieldNames:Object,modelValue:[String,Number],options:Array},emits:["update:modelValue","fc.el","change"],setup:function(t,n){var i=ie(!1),r=xn(t,"modelValue"),s=xn(t,"options"),a=xn(t,"columnsFieldNames",{}),o=fe(function(){if(r.value==null||r.value==="")return"";for(var u=0;u<(s.value||[]).length;u++)if(s.value[u][a.value.value||"value"]===r.value)return s.value[u][a.value.text||"text"];return r.value}),l=function(c){n.emit("update:modelValue",c),n.emit("change",c)};return{show:i,inputValue:o,options:s,open:function(){t.disabled||(i.value=!0)},confirm:function(c){var d=c.selectedValues;l(d[0]),i.value=!1}}},render:function(){var t=this;return x("div",{class:"_fc-select"},[x(Kt("van-field"),{ref:"el",placeholder:this.placeholder,readonly:!0,disabled:this.$props.disabled,onClick:this.open,"model-value":this.inputValue,isLink:!0},null),x(Kt("van-popup"),{show:this.show,"onUpdate:show":function(i){return t.show=i},round:!0,position:"bottom"},{default:function(){return[x(Kt("van-picker"),tt(t.$attrs,{modelValue:[t.modelValue],columnsFieldNames:t.columnsFieldNames,columns:t.options,onCancel:function(){return t.show=!1},onConfirm:t.confirm}),null)]}})])},mounted:function(){this.$emit("fc.el",this.$refs.el)}});function Qo(e){return Array.isArray(e)?e:[null,void 0,""].indexOf(e)>-1?[]:[e]}var W7="fcUploader";function iS(e,t){return Dt(e)==="object"?e:{url:e,is_string:!0,name:G7(e),uid:t}}function rS(e){return Qe(Qe({},e),{},{file:e,value:e})}function G7(e){return(""+e).split("/").pop()}var Y7=Se({name:W7,inheritAttrs:!1,props:{formCreateInject:Object,modelValue:[Array,String,Object],afterRead:Function,action:String,headers:Object,method:String,data:Object,uploadName:String,onSuccess:Function,onError:Function,maxCount:Number},emits:["update:modelValue","delete"],setup:function(t,n){var i=xn(t,"afterRead"),r=xn(t,"modelValue",[]),s=ie(Qo(r.value).map(iS).map(rS));De(function(){return r.value},function(o){s.value=Qo(o).map(iS).map(rS)});var a=function(){var l=s.value.map(function(u){return u.is_string?u.url:u.value||u.url}).filter(function(u){return u!==void 0});n.emit("update:modelValue",t.maxCount===1?l[0]||"":l)};return{fileList:s,modelValue:r,onDelete:function(l){a(),n.emit("delete",l)},uploadFile:function(l){var u=this;if(l.status="uploading",i.value)return i.value(l);var c=t.data||{};c[t.uploadName||"file"]=l.file,t.formCreateInject.api.fetch({action:t.action,dataType:"formData",source:"upload",headers:t.headers||{},method:t.method||"post",data:c}).then(function(d){l.status="success",t.onSuccess&&t.onSuccess(d,l),a()}).catch(function(d){l.status="failed",l.message=u.formCreateInject.t("uploadFail")||"",t.onError&&t.onError(d,l)})}}},render:function(){var t=this;return x(Kt("van-uploader"),tt(this.$attrs,{"model-value":this.fileList,maxCount:this.maxCount,"onUpdate:model-value":function(i){return t.fileList=i},afterRead:this.uploadFile,onDelete:this.onDelete}),this.$slots)}});function K7(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Wr(e)}var X7="fcRadio",Q7=Se({name:X7,inheritAttrs:!1,props:{modelValue:[String,Number],options:Array},emits:["update:modelValue","change"],setup:function(t,n){var i=xn(t,"modelValue",[]),r=xn(t,"options");return{options:r,modelValue:i,onInput:function(a){n.emit("update:modelValue",a),n.emit("change",a)}}},render:function(){var t;return x(Kt("van-radio-group"),tt({direction:"horizontal"},this.$attrs,{modelValue:this.modelValue,"onUpdate:modelValue":this.onInput}),K7(t=(this.options||[]).map(function(n){var i=Qe({},n),r=n.text,s=n.value;return delete i.text,delete i.value,x(Kt("van-radio"),tt({name:s},i),{default:function(){return[r||n.label||s]}})}))?t:{default:function(){return[t]}})}}),J7="fcDatePicker",Z7=Se({name:J7,inheritAttrs:!1,props:{disabled:Boolean,clearable:Boolean,placeholder:String,modelValue:[String,Number],minDate:[String,Date],maxDate:[String,Date]},emits:["update:modelValue","fc.el","change"],setup:function(t,n){var i=ie(!1),r=xn(t,"modelValue"),s=fe(function(){return r.value==null||r.value===""?[]:r.value.split("-")}),a=fe(function(){return{minDate:t.minDate?Rl(t.minDate).toDate():void 0,maxDate:t.maxDate?Rl(t.maxDate).toDate():void 0}}),o=function(u){n.emit("update:modelValue",u),n.emit("change",u)};return{show:i,formValue:s,dateRange:a,open:function(){t.disabled||(i.value=!0)},confirm:function(u){var c=u.selectedValues;o(c.join("-")),i.value=!1},clear:function(u){u.stopPropagation(),o("")}}},render:function(){var t=this,n=function(){return t.$props.clearable&&t.modelValue?x("i",{class:"van-badge__wrapper van-icon van-icon-clear van-field__clear",onClick:t.clear},null):void 0};return x("div",{class:"_fc-date-picker"},[x(Kt("van-field"),{ref:"el",placeholder:this.placeholder,readonly:!0,disabled:this.$props.disabled,onClick:this.open,"model-value":this.modelValue,border:!1,isLink:!0},{"right-icon":n}),x(Kt("van-popup"),{show:this.show,"onUpdate:show":function(r){return t.show=r},round:!0,position:"bottom"},{default:function(){return[x(Kt("van-date-picker"),tt({columnsType:["year","month","day"]},Qe(Qe({},t.$attrs),t.dateRange),{modelValue:t.formValue,onConfirm:t.confirm,onCancel:function(){return t.show=!1}}),null)]}})])},mounted:function(){this.$emit("fc.el",this.$refs.el)}}),eH="fcTimePicker",tH=Se({name:eH,inheritAttrs:!1,props:{disabled:Boolean,clearable:Boolean,placeholder:String,modelValue:[String,Number]},emits:["update:modelValue","fc.el","change"],setup:function(t,n){var i=ie(!1),r=xn(t,"modelValue"),s=fe(function(){return r.value==null||r.value===""?[]:r.value.split(":")}),a=function(l){n.emit("update:modelValue",l),n.emit("change",l)};return{show:i,formValue:s,open:function(){t.disabled||(i.value=!0)},confirm:function(l){var u=l.selectedValues;a(u.join(":")),i.value=!1},clear:function(l){l.stopPropagation(),a("")}}},render:function(){var t=this,n=function(){return t.$props.clearable&&t.modelValue?x("i",{class:"van-badge__wrapper van-icon van-icon-clear van-field__clear",onClick:t.clear},null):void 0};return x("div",{class:"_fc-time-picker"},[x(Kt("van-field"),{ref:"el",placeholder:this.placeholder,readonly:!0,disabled:this.$props.disabled,onClick:this.open,"model-value":this.modelValue,border:!1,isLink:!0},{"right-icon":n}),x(Kt("van-popup"),{show:this.show,"onUpdate:show":function(r){return t.show=r},round:!0,position:"bottom"},{default:function(){return[x(Kt("van-time-picker"),tt({columnsType:["hour","minute"]},t.$attrs,{modelValue:t.formValue,onConfirm:t.confirm,onCancel:function(){return t.show=!1}}),null)]}})])},mounted:function(){this.$emit("fc.el",this.$refs.el)}});function ar(e,t,n){e[t]=n}function Ao(e,t){delete e[t]}function Md(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=!1;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=t[r];if((i=Array.isArray(s))||Be.Object(s)){var a=e[r]===void 0;if(i)i=!1,a&&ar(e,r,[]);else if(s._clone&&n!==void 0)if(n)s=s.getRule(),a&&ar(e,r,{});else{ar(e,r,s._clone());continue}else a&&ar(e,r,{});e[r]=Md(e[r],s,n)}else ar(e,r,s),Be.Undef(s)||(Be.Undef(s.__json)||(e[r].__json=s.__json),Be.Undef(s.__origin)||(e[r].__origin=s.__origin))}return n!==void 0&&Array.isArray(e)?e.filter(function(o){return!o||!o.__ctrl}):e}function jr(e){return Md({},{value:e}).value}var nH=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&ar(e,i,t[i]);return e};function at(){return nH.apply(this,arguments)}function I0(e){return Dt(e)!=="object"||e===null?e:e instanceof Array?At(e):Qe({},e)}function Xa(e,t){var n=null;return function(){for(var i=this,r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];n!==null&&clearTimeout(n),n=setTimeout(function(){return e.call.apply(e,[i].concat(s))},t)}}function iH(e){return e==null?"":Dt(e)==="object"?JSON.stringify(e,null,2):String(e)}function rH(e){return e&&Dt(e)==="object"&&typeof e.then=="function"}function np(e){return rH(e)?e:Promise.resolve(e)}function ld(e){var t=e.replace(/([A-Z])/g,"-$1").toLocaleLowerCase();return t.indexOf("-")===0&&(t=t.substr(1)),t}function yk(e){return e.replace(e[0],e[0].toLocaleUpperCase())}function _k(e,t,n){return"[form-create ".concat(e,"]: ").concat(t)+""}function z_(e,t){console.error(_k("err",e))}function sH(e){z_(e.toString()),console.error(e)}var P0="[[FORM-CREATE-PREFIX-",R0="-FORM-CREATE-SUFFIX]]";function ud(e,t){return JSON.stringify(Md(Array.isArray(e)?[]:{},e,!0),function(n,i){if(!(i&&i._isVue===!0)){if(typeof i!="function")return i;if(i.__json)return i.__json;if(i.__origin&&(i=i.__origin),!i.__emit)return P0+i+R0}},t)}function Yg(e){return new Function("return "+e)()}function Cs(e,t){if(e&&Be.String(e)&&e.length>4){var n=e.trim(),i=!1;try{if(n.indexOf(R0)>0&&n.indexOf(P0)===0)n=n.replace(R0,"").replace(P0,""),i=!0;else if(n.indexOf("$FN:")===0)n=n.substring(4),i=!0;else if(n.indexOf("$EXEC:")===0)n=n.substring(6),i=!0;else if(n.indexOf("$GLOBAL:")===0){var r=n.substring(8);return n=function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var c=l[0].api.getGlobalEvent(r);if(c)return c.call.apply(c,[this].concat(l))},n.__json=e,n.__inject=!0,n}else{if(n.indexOf("$FNX:")===0)return n=Yg("function($inject){\n"+n.substring(5)+"\n}"),n.__json=e,n.__inject=!0,n;(!t&&n.indexOf("function ")===0&&n!=="function "||!t&&n.indexOf("function(")===0&&n!=="function(")&&(i=!0)}if(!i)return e;var s;try{s=Yg(n)}catch(a){s=Yg("function "+n)}return s.__json=e,s}catch(a){z_(":".concat(n,"\n\nerr: ").concat(a));return}}return e}function bk(e,t){return JSON.parse(e,function(n,i){return Be.Undef(i)||!i.indexOf?i:Cs(i,t)})}var aH=0;function um(){var e=370+ ++aH;return"F"+Math.random().toString(36).substr(3,3)+Number("".concat(Date.now())).toString(36)+e.toString(36)+"c"}function Ja(e,t,n){var i=e,r;return(t||"").split(".").forEach(function(s){r&&((!i[r]||Dt(i[r])!="object")&&(i[r]={}),i=i[r]),r=s}),i[r]=n,i}var oH="fcGroup",lH=Se({name:oH,props:{field:String,rule:Array,expand:Number,options:Object,button:{type:Boolean,default:!0},max:{type:Number,default:0},min:{type:Number,default:0},modelValue:{type:Array,default:function(){return[]}},defaultValue:Object,sortBtn:{type:Boolean,default:!1},disabled:{type:Boolean,default:void 0},title:{type:[String,Function],default:null},type:{type:String,default:"default"},onBeforeRemove:{type:Function,default:function(){}},onBeforeAdd:{type:Function,default:function(){}},formCreateInject:Object,parse:Function},data:function(){return{len:0,cacheRule:{},cacheValue:{},sort:[],form:Lr(this.formCreateInject.form.$form())}},emits:["update:modelValue","change","itemMounted","remove","add"],watch:{rule:{handler:function(t,n){var i=this;Object.keys(this.cacheRule).forEach(function(r){var s=i.cacheRule[r];if(s.$f){var a=s.$f.formData();if(t===n)s.$f.deferSyncValue(function(){Md(s.rule,t),s.$f.setValue(a)},!0);else{var o=s.$f.formData();s.$f.once("reloading",function(){s.$f.setValue(o)}),s.rule=jr(t)}}})},deep:!0},expand:function(t){var n=t-this.modelValue.length;n>0&&this.expandRule(n)},modelValue:{handler:function(t){var n=this;t=t||[];var i=this.sort,r=i.length,s=r-t.length;if(s<0){for(var a=s;a<0;a++)this.addRule(t.length+a,!0);for(var o=0;o<r;o++)this.setValue(i[o],t[o])}else{if(s>0)for(var l=0;l<s;l++)this.removeRule(i[r-l-1]);t.forEach(function(u,c){n.setValue(i[c],t[c])})}},deep:!0}},methods:{_value:function(t){return t&&tn(t,this.field)?t[this.field]:t},cache:function(t,n){this.cacheValue[t]=JSON.stringify(n)},input:function(t){this.$emit("update:modelValue",t),this.$emit("change",t)},formData:function(t,n){var i=this,r=this.cacheRule,s=this.sort;if(s.filter(function(o){return r[o]&&r[o].$f}).length===s.length){var a=s.map(function(o){var l=t===o?n:Qe({},i.cacheRule[o].$f.form),u=i.field?l[i.field]||null:l;return i.cache(o,u),u});this.input(a)}},setValue:function(t,n){var i=this.field;i&&(n=Yn({},i,this._value(n))),this.cacheValue[t]!==JSON.stringify(i?n[i]:n)&&(this.cacheRule[t].$f&&this.cacheRule[t].$f.coverValue(n),this.cache(t,n))},addRule:function(t,n){var i=this,r=this.formCreateInject.form.copyRules(this.rule||[]),s=this.options?Qe({},this.options):{submitBtn:!1,resetBtn:!1};if(this.defaultValue){s.formData||(s.formData={});var a=jr(this.defaultValue);at(s.formData,this.field?Yn({},this.field,a):a)}this.parse&&this.parse({rule:r,options:s,index:this.sort.length}),this.cacheRule[++this.len]={rule:r,options:s},this.sort=Object.keys(this.cacheRule),n&&Ke(function(){return i.$emit("add",r,Object.keys(i.cacheRule).length-1)})},add$f:function(t,n,i){var r=this;this.cacheRule[n].$f=i,Ke(function(){r.$emit("itemMounted",i,Object.keys(r.cacheRule).indexOf(n))})},removeRule:function(t,n){var i=this,r=Object.keys(this.cacheRule).indexOf(t);delete this.cacheRule[t],delete this.cacheValue[t],this.sort=Object.keys(this.cacheRule),n&&Ke(function(){return i.$emit("remove",r)})},add:function(t){if(!(this.disabled||this.onBeforeAdd(this.modelValue)===!1)){var n=At(this.modelValue);n.push(this.defaultValue?jr(this.defaultValue):this.field?null:{}),this.input(n)}},del:function(t,n){var i=this;if(!this.disabled){var r=function(){i.removeRule(n,!0);var a=At(i.modelValue);a.splice(t,1),i.input(a)};np(this.onBeforeRemove(this.modelValue,t)).then(function(s){s!==!1&&r()})}},addIcon:function(t){return x("div",{class:"_fc-m-group-btn _fc-m-group-plus-minus",onClick:this.add},null)},delIcon:function(t,n){var i=this;return x("div",{class:"_fc-m-group-btn _fc-m-group-plus-minus _fc-m-group-minus",onClick:function(){return i.del(t,n)}},null)},sortUpIcon:function(t){var n=this;return x("div",{class:"_fc-m-group-btn _fc-m-group-arrow _fc-m-group-up",onClick:function(){return n.changeSort(t,-1)}},null)},sortDownIcon:function(t){var n=this;return x("div",{class:"_fc-m-group-btn _fc-m-group-arrow _fc-m-group-down",onClick:function(){return n.changeSort(t,1)}},null)},changeSort:function(t,n){var i=this,r=this.sort[t];this.sort[t]=this.sort[t+n],this.sort[t+n]=r,this.formCreateInject.subForm(this.sort.map(function(s){return i.cacheRule[s].$f})),this.formData(0)},sortIcon:function(t,n){var i=this,r=t>0,s=t<n-1;if(!r&&!s)return null;if(r&&s)return x("div",{class:"_fc-m-group-btn _fc-m-group-sort"},[x("div",{class:"_fc-m-group-sort-up",onClick:function(){return i.changeSort(t,-1)}},null),x("div",{class:"_fc-m-group-sort-down",onClick:function(){return i.changeSort(t,1)}},null)]);if(r)return this.sortUpIcon(t);if(s)return this.sortDownIcon(t)},makeIcon:function(t,n,i){var r=this;if(this.$slots.button)return this.$slots.button({total:t,index:n,vm:this,key:i,del:function(){return r.del(n,i)},add:this.add});var s=[];if((!this.max||t<this.max)&&t===n+1&&s.push(this.addIcon(i)),t>this.min&&s.push(this.delIcon(n,i)),this.sortBtn){var a=this.sortIcon(n,t);a&&s.push(a)}return s},emitEvent:function(t,n,i,r){this.$emit.apply(this,[t].concat(At(n),[this.cacheRule[r].$f,i]))},expandRule:function(t){for(var n=0;n<t;n++)this.modelValue.push(this.field?null:{});this.input(At(this.modelValue))},getTitle:function(t,n){return typeof this.title=="function"?this.title(t,this.modelValue[t],n):typeof this.title=="string"?this.title.replace("{index}",t+1):!1}},created:function(){for(var t=(this.expand||0)-this.modelValue.length,n=0;n<this.modelValue.length;n++)this.addRule(n);t>0&&this.expandRule(t)},render:function(){var t=this,n=this.sort,i=this.button,r=this.form,s=this.disabled,a=this.type==="card",o=n.length===0?this.$slots.default?this.$slots.default({vm:this,add:this.add}):x("div",{key:"a_def",class:"_fc-m-group-plus-minus _fc-m-group-add fc-clock",onClick:this.add},null):n.map(function(l,u){var c=t.cacheRule[l],d=c.rule,f=c.options,h=i&&!s?t.makeIcon(n.length,u,l):[],m=t.getTitle(u,l);return a?x("div",{class:"_fc-m-group-container",key:l},[x("div",{class:"_fc-m-group-header"},[m===!1?x("div",{class:"_fc-m-group-idx"},[u+1]):null,m!==!1?x("div",{class:"_fc-m-group-title"},[m]):null,x("div",{class:"_fc-m-group-handle fc-clock"},[h.length?h:null])]),x("div",{class:"_fc-m-group-content"},[x(r,tt({key:l},{disabled:s,"onUpdate:modelValue":function(g){return t.formData(l,g)},"onEmit-event":function(g){for(var _=arguments.length,y=new Array(_>1?_-1:0),b=1;b<_;b++)y[b-1]=arguments[b];return t.emitEvent(g,y,u,l)},"onUpdate:api":function(g){return t.add$f(u,l,g)},inFor:!0,modelValue:t.field?Yn({},t.field,t._value(t.modelValue[u])):t.modelValue[u],rule:d,option:f,extendOption:!0}),null)])]):x("div",{class:"_fc-m-group-container",key:l},[x(r,tt({key:l},{disabled:s,"onUpdate:modelValue":function(g){return t.formData(l,g)},"onEmit-event":function(g){for(var _=arguments.length,y=new Array(_>1?_-1:0),b=1;b<_;b++)y[b-1]=arguments[b];return t.emitEvent(g,y,u,l)},"onUpdate:api":function(g){return t.add$f(u,l,g)},inFor:!0,modelValue:t.field?Yn({},t.field,t._value(t.modelValue[u])):t.modelValue[u],rule:d,option:f,extendOption:!0}),null),x("div",{class:"_fc-m-group-idx"},[u+1]),h.length?x("div",{class:"_fc-m-group-handle fc-clock"},[h]):null])});return x("div",{key:"con",class:"_fc-m-group "+(s?"_fc-m-group-disabled":"")+(a?" _fc-m-group-card":"")},[o])}}),Tk={name:"IconWarning"},uH={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},cH=dt("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm0 832a384 384 0 000-768 384 384 0 000 768zm48-176a48 48 0 11-96 0 48 48 0 0196 0zm-48-464a32 32 0 0132 32v288a32 32 0 01-64 0V288a32 32 0 0132-32z"},null,-1),dH=[cH];function fH(e,t,n,i,r,s){return je(),ot("svg",uH,dH)}Tk.render=fH;var hH=[A7,Tk,F7,U7,H7,Q7,q7,Z7,tH,lH,Y7],Ak=["props"],Sk=["class","style","directives"],xk=["on","hook"],$o=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=[].concat(Ak,At(i.normal||[])),s=[].concat(Sk,At(i.array||[])),a=[].concat(xk,At(i.functional||[])),o=i.props||[];return t.reduce(function(l,u){for(var c in u)if(l[c])if(o.indexOf(c)>-1)l[c]=e([u[c]],l[c]);else if(r.indexOf(c)>-1)l[c]=Qe(Qe({},l[c]),u[c]);else if(s.indexOf(c)>-1){var d=l[c]instanceof Array?l[c]:[l[c]],f=u[c]instanceof Array?u[c]:[u[c]];l[c]=[].concat(At(d),At(f))}else if(a.indexOf(c)>-1)for(var h in u[c])if(l[c][h]){var m=l[c][h]instanceof Array?l[c][h]:[l[c][h]],p=u[c][h]instanceof Array?u[c][h]:[u[c][h]];l[c][h]=[].concat(At(m),At(p))}else l[c][h]=u[c][h];else if(c==="hook")for(var g in u[c])l[c][g]?l[c][g]=pH(l[c][g],u[c][g]):l[c][g]=u[c][g];else l[c]=u[c];else r.indexOf(c)>-1||a.indexOf(c)>-1||o.indexOf(c)>-1?l[c]=Qe({},u[c]):s.indexOf(c)>-1?l[c]=u[c]instanceof Array?At(u[c]):Dt(u[c])==="object"?Qe({},u[c]):u[c]:l[c]=u[c];return l},n)},pH=function(t,n){return function(){t&&t.apply(this,arguments),n&&n.apply(this,arguments)}},L0=["type","slot","ignore","emitPrefix","value","name","native","hidden","display","inject","options","emit","link","prefix","suffix","update","sync","optionsTo","key","slotUpdate","computed","preview","component","cache","modelEmit"],ip=["validate","children","control"],rp=["effect","deep","renderSlots"];function Ek(){return[].concat(L0,At(Ak),At(Sk),At(xk),ip,rp)}function Mr(e){var t=e.replace(/(-[a-z])/g,function(n){return n.replace("-","").toLocaleUpperCase()});return Ck(t)}function Ck(e){return e.replace(e[0],e[0].toLowerCase())}function M0(e,t){return{value:e,enumerable:!1,configurable:!1,writable:!0}}function wk(e,t){return Dk([e],t||!1)[0]}function Dk(e,t){return Md([],At(e),t||!1)}function sa(e,t){return $o(Array.isArray(t)?t:[t],e,{array:ip,normal:rp}),e}function sS(e){var t=Be.Function(e.getRule)?e.getRule():e;return t.type||(t.type="input"),t}function mH(e,t){return e?(Object.keys(t||{}).forEach(function(n){t[n]&&(e[n]=sa(e[n]||{},t[n]))}),e):t}function kk(e,t){Object.defineProperties(e,Object.keys(t).reduce(function(n,i){return n[i]={get:function(){return t[i]()}},n},{}))}function Ws(e){return e.__fc__||(e.__origin__?e.__origin__.__fc__:null)}function Tt(e,t){try{t=e()}catch(n){sH(n)}return t}function Xf(){var e={},t=function(i){return i||"default"};return{setSlot:function(i,r){i=t(i),!(!r||Array.isArray(r)&&r.length)&&(e[i]||(e[i]=[]),e[i].push(r))},getSlot:function(i,r){i=t(i);var s=[];return(e[i]||[]).forEach(function(a){if(Array.isArray(a))s.push.apply(s,At(a));else if(Be.Function(a)){var o=a.apply(void 0,At(r||[]));Array.isArray(o)?s.push.apply(s,At(o)):s.push(o)}else Be.Undef(a)||s.push(a)}),s},getSlots:function(){var i=this,r={};return Object.keys(e).forEach(function(s){r[s]=function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return i.getSlot(s,o)}}),r},slotLen:function(i){return i=t(i),e[i]?e[i].length:0},mergeBag:function(i){var r=this;if(!i)return this;var s=Be.Function(i.getSlots)?i.getSlots():i;return Array.isArray(i)||Wr(i)?this.setSlot(void 0,function(){return i}):Object.keys(s).forEach(function(a){r.setSlot(a,s[a])}),this}}}function aS(e){var t=Qe({},e.props||{});return Object.keys(e.on||{}).forEach(function(n){n.indexOf("-")>0&&(n=Mr(n));var i="on".concat(yk(n));Array.isArray(t[i])?t[i]=[].concat(At(t[i]),[e.on[n]]):t[i]?t[i]=[t[i],e.on[n]]:t[i]=e.on[n]}),t.key=e.key,t.ref=e.ref,t.class=e.class,t.id=e.id,t.style=e.style,t.slot&&delete t.slot,t}function Qf(e,t){return Object.setPrototypeOf(e,t),e}var oS=function(t,n){return typeof t=="string"?String(n):typeof t=="number"?Number(n):n},Uo={"==":function(t,n){return JSON.stringify(t)===JSON.stringify(oS(t,n))},"!=":function(t,n){return!Uo["=="](t,n)},">":function(t,n){return t>n},">=":function(t,n){return t>=n},"<":function(t,n){return t<n},"<=":function(t,n){return t<=n},on:function(t,n){return t&&t.indexOf&&t.indexOf(oS(t[0],n))>-1},notOn:function(t,n){return!Uo.on(t,n)},in:function(t,n){return n&&n.indexOf&&n.indexOf(t)>-1},notIn:function(t,n){return!Uo.in(t,n)},between:function(t,n){return t>n[0]&&t<n[1]},notBetween:function(t,n){return t<n[0]||t>n[1]},empty:function(t){return Be.empty(t)},notEmpty:function(t){return!Be.empty(t)},pattern:function(t,n){return new RegExp(n,"g").test(t)}};function Ci(e,t){return(Array.isArray(t)?t:(t||"").split(".")).forEach(function(n){e!=null&&(e=e[n])}),e}function gH(e){for(var t=/{{\s*(.*?)\s*}}/g,n,i={};(n=t.exec(e))!==null;)n[1]&&(i[n[1]]=!0);return Object.keys(i)}function lS(e){var t=e.split("."),n=[],i="";return t.forEach(function(r,s){s===0?i=r:i+="."+r,n.push(i)}),n.join(" && ")}function Ok(e){for(var t=[],n="",i=0,r=0;r<e.length;r++){var s=e[r];s==="["?(i===0&&n&&(t.push({type:"key",value:n}),n=""),i++,n+=s):s==="]"?(i--,n+=s,i===0&&(t.push({type:"bracket",value:Ok(n.slice(1,-1))}),n="")):s==="."&&i===0?n&&(t.push({type:"key",value:n}),n=""):n+=s}return n&&t.push({type:"key",value:n}),t.map(function(a){return a.type==="key"?{key:a.value}:{children:a.value}})}var bh=function(t,n){if(!(!t||t===n)){if(t.props.formCreateInject)return t.props.formCreateInject;if(t.parent)return bh(t.parent,n)}};function vH(e,t,n){return Se({name:"FormCreate"+(e.isMobile?"Mobile":""),components:t,directives:n,props:{rule:{type:Array,required:!0,default:function(){return[]}},option:{type:Object,default:function(){return{}}},extendOption:Boolean,driver:[String,Object],modelValue:Object,disabled:{type:Boolean,default:void 0},preview:{type:Boolean,default:void 0},index:[String,Number],api:Object,locale:[String,Object],t:Function,name:String,subForm:{type:Boolean,default:!0},inFor:Boolean},emits:["update:api","update:modelValue","mounted","submit","reset","change","emit-event","control","remove-rule","remove-field","sync","reload","repeat-field","update","validate-field-fail","validate-fail","created"],render:function(){return this.fc.render()},setup:function(r){var s=mn();$r("parentFC",s);var a=En("parentFC",null),o=a;if(a)for(;o.setupState.parent;)o=o.setupState.parent;else o=s;var l=i0(r),u=l.rule,c=l.modelValue,d=l.subForm,f=l.inFor,h=vt({ctxInject:{},destroyed:!1,isShow:!0,unique:1,renderRule:At(u.value||[]),updateValue:JSON.stringify(c.value||{})}),m=new e(s),p=m.api(),g=f.value,_=function(){if(a){var w=bh(s,a);if(w){var D;g?(D=Qo(w.getSubForm()),D.push(p)):D=p,w.subForm(D)}}},y=function(){var w=bh(s,a);if(w)if(g){var D=Qo(w.getSubForm()),R=D.indexOf(p);R>-1&&D.splice(R,1)}else w.subForm()},b=null;jp(function(){_a(function(){var I="",w=r.option&&r.option.globalClass||{};Object.keys(w).forEach(function(D){var R="";w[D].style&&Object.keys(w[D].style).forEach(function(L){R+=ld(L)+":"+w[D].style[L]+";"}),w[D].content&&(R+=w[D].content+";"),R&&(I+=".".concat(D,"{").concat(R,"}"))}),r.option&&r.option.style&&(I+=r.option.style),b||(b=document.createElement("style"),b.type="text/css",document.head.appendChild(b)),b.innerHTML=I||""})});var A=Xa(function(){m.bus.$emit("$loadData.$topForm")},100),T=Xa(function(){m.bus.$emit("$loadData.$scopeForm")},100),k=Xa(function(){m.bus.$emit("$loadData.$form")},100),O=function(w){m.bus.$emit("change-$form."+w)};return Et(function(){a&&(p.top.bus.$on("$loadData.$form",A),p.top.bus.$on("change",O)),p!==p.scope&&p.scope.bus.$on("$loadData.$scopeForm",T),m.mounted()}),Oi(function(){a&&(p.top.bus.$off("$loadData.$form",A),p.top.bus.$off("change",O)),p!==p.scope&&p.scope.bus.$off("$loadData.$scopeForm",T),y(),h.destroyed=!0,m.unmount(),b&&(b.parentNode||b.parentElement)&&document.head.removeChild(b)}),Hp(function(){m.updated()}),_(),De(function(){return r.option},function(){m.initOptions(),p.refresh()},{deep:!0,flush:"sync"}),De(function(){return At(u.value)},function(I){m.$handle.isBreakWatch()||I.length===h.renderRule.length&&I.every(function(w){return h.renderRule.indexOf(w)>-1})||(m.$handle.updateAppendData(),m.$handle.reloadRule(u.value),s.setupState.renderRule())}),De(function(){return[r.disabled,r.preview]},function(){p.refresh()}),De(c,function(I){ud(I||{})!==h.updateValue&&(p.config.forceCoverValue?p.coverValue(I||{}):p.setValue(I||{}))},{deep:!0,flush:"post"}),De(function(){return r.index},function(){p.coverValue({}),m.$handle.updateAppendData(),Ke(function(){Ke(function(){p.clearValidateState()})})},{flush:"sync"}),Qe(Qe({fc:Lr(m),parent:a&&Lr(a),top:Lr(o),fapi:Lr(p)},i0(h)),{},{getGroupInject:function(){return bh(s,a)},refresh:function(){++h.unique},renderRule:function(){h.renderRule=At(u.value||[])},updateValue:function(w){if(!h.destroyed){var D=ud(w);h.updateValue!==D&&(h.updateValue=D,s.emit("update:modelValue",w),Ke(function(){k(),a?d.value||T():(A(),T())}))}}})},created:function(){var r=mn();r.emit("update:api",r.setupState.fapi),r.setupState.fc.init()}})}function Ik(){return{props:{},on:{},options:[],children:[],hidden:!1,display:!0,value:void 0}}function cm(e,t){return function(n,i,r){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=new q_(e,n,i,r,s);return t&&(Be.Function(t)?t(a):a.props(t)),a}}function q_(e,t,n,i,r){this._data=at(Ik(),{type:e,title:t,field:n,value:i,props:r||{}}),this.event=this.on}at(q_.prototype,{getRule:function(){return this._data},setProp:function(t,n){return ar(this._data,t,n),this},modelField:function(t){return this._data.modelField=t,this},_clone:function(){var t=new this.constructor;return t._data=wk(this._data),t}});function Pk(e){e.forEach(function(t){q_.prototype[t]=function(n){return sa(this._data,Yn({},t,arguments.length<2?n:Yn({},n,arguments[1]))),this}})}Pk(Ek());var yH=cm("");function _H(e,t,n){var i=yH("",t);return i._data.type=e,i._data.title=n,i}function bH(){return{create:_H,factory:cm}}function TH(e,t,n){var i="fail to ".concat(e," ").concat(n.status,"'"),r=new Error(i);return r.status=n.status,r.url=e,r}function uS(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}}function Rk(e){if(!(typeof XMLHttpRequest>"u")){var t=new XMLHttpRequest,n=e.action||"";if(t.upload&&e.onProgress&&t.upload.addEventListener("progress",function(o){o.percent=o.total>0?o.loaded/o.total*100:0,e.onProgress(o)}),e.query){var i=Be.String(e.query)?e.query:Object.keys(e.query).reduce(function(o,l){return o[l]=e.query[l]===null||e.query[l]===void 0?"":e.query[l],o},{}),r=new URLSearchParams(i).toString();r&&(n.includes("?")?n+="&".concat(r):n+="?".concat(r))}t.onerror=function(l){e.onError(l)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(TH(n,e,t),uS(t));e.onSuccess(uS(t))},t.open(e.method||"get",n,!0);var s;(e.data||e.file)&&(e.file||(e.dataType||"").toLowerCase()!=="json"?(s=new FormData,Object.keys(e.data||{}).map(function(o){s.append(o,e.data[o])})):(s=JSON.stringify(e.data||{}),t.setRequestHeader("content-type","application/json"))),e.file&&s.append(e.filename,e.file,e.file.name),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var a=e.headers||{};Object.keys(a).forEach(function(o){a[o]!=null&&t.setRequestHeader(o,a[o])}),t.send(s)}}function cS(e,t,n){return new Promise(function(i,r){(t||Rk)(Qe(Qe({},e),{},{onSuccess:function(a){var o=function(c){return c},l=Cs(e.parse);Be.Function(l)?o=l:l&&Be.String(l)&&(o=function(c){return Ci(c,l)}),np(o(a,e.targetRule,n)).then(function(u){i(u)})},onError:function(a){r(a)}}))})}function gc(e){return jr(e)}function AH(e){function t(s){return Be.Undef(s)?s=e.fields():Array.isArray(s)||(s=[s]),s}function n(s,a,o){Be.Undef(s)?s=Object.keys(Qe(Qe({},e.fieldCtx),e.nameCtx)):Array.isArray(s)||(s=[s]),s.forEach(function(l){var u=e.fieldCtx[l]||e.nameCtx[l];u&&u.forEach(function(c){ar(c.rule,a,o),e.$render.clearCache(c)})})}function i(){var s=e.subForm;return Object.keys(s).reduce(function(a,o){var l=s[o];return l&&(Array.isArray(l)?a.push.apply(a,At(l)):a.push(l)),a},[])}var r={get isScope(){return e.vm.props.subForm===!1},get isPreview(){return e.preview},get config(){return e.options},set config(s){e.fc.options.value=s},get options(){return e.options},set options(s){e.fc.options.value=s},get form(){return e.form},get rule(){return e.rules},get parent(){return e.vm.setupState.parent&&e.vm.setupState.parent.setupState.fapi},get top(){return r.parent?r.parent.top:r},get scope(){for(var s=e.vm;s&&s.setupState.fapi;)if(s.props.subForm)s=s.setupState.parent;else return s.setupState.fapi;return r.top},get children(){return i()},get siblings(){var s=e.vm.setupState.getGroupInject();if(s){var a=s.getSubForm();if(Array.isArray(a))return At(a)}},get index(){var s=r.siblings;if(s){var a=s.indexOf(r);return a>-1?a:void 0}},get formulas(){return Qe({},e.fc.formulas)},formData:function(a){if(a==null||typeof a=="boolean"){var o={};return Object.keys(e.form).forEach(function(l){(a===!0||e.ignoreFields.indexOf(l)===-1)&&(o[l]=gc(e.form[l]))}),o}else return t(a).reduce(function(l,u){return l[u]=r.getValue(u),l},{})},getValue:function(a){var o=e.getFieldCtx(a);return o?gc(o.rule.value):e.options.appendValue!==!1&&tn(e.appendData,a)?gc(e.appendData[a]):void 0},coverValue:function(a){var o=Qe({},a||{});e.deferSyncValue(function(){e.appendData={},r.fields().forEach(function(l){var u=e.fieldCtx[l];if(u){var c=tn(a,l);u.forEach(function(d){d.rule.value=c?a[l]:void 0}),delete o[l]}}),at(e.appendData,o)},!0)},setValue:function(a){var o=a;arguments.length>=2&&(o=Yn({},a,arguments[1])),e.deferSyncValue(function(){Object.keys(o).forEach(function(l){var u=e.fieldCtx[l];if(!u)return e.appendData[l]=o[l];u.forEach(function(c){c.rule.value=o[l]})})},!0)},removeField:function(a){var o=e.getCtx(a);return e.deferSyncValue(function(){e.getCtxs(a).forEach(function(l){l.rm()})},!0),o?o.origin:void 0},removeRule:function(a){var o=a&&Ws(a);if(o)return o.rm(),o.origin},fields:function(){return e.fields()},append:function(a,o,l){var u=e.sort.length-1,c,d=e.getCtx(o);if(d)if(l){if(c=d.getPending("children",d.rule.children),!Array.isArray(c))return;u=d.rule.children.length-1}else u=d.root.indexOf(d.origin),c=d.root;else c=e.rules;c.splice(u+1,0,a)},prepend:function(a,o,l){var u=0,c,d=e.getCtx(o);if(d)if(l){if(c=d.getPending("children",d.rule.children),!Array.isArray(c))return}else u=d.root.indexOf(d.origin),c=d.root;else c=e.rules;c.splice(u,0,a)},hidden:function(a,o){n(o,"hidden",!!a),e.refresh()},hiddenStatus:function(a){var o=e.getCtx(a);if(o)return!!o.rule.hidden},display:function(a,o){n(o,"display",!!a),e.refresh()},displayStatus:function(a){var o=e.getCtx(a);if(o)return!!o.rule.display},disabled:function(a,o){t(o).forEach(function(l){e.getCtxs(l).forEach(function(u){ar(u.rule.props,"disabled",!!a)})}),e.refresh()},all:function(a){return Object.keys(e.ctxs).map(function(o){var l=e.ctxs[o];return a?l.origin:l.rule})},model:function(a){return e.fields().reduce(function(o,l){var u=e.fieldCtx[l][0];return o[l]=a?u.origin:u.rule,o},{})},component:function(a){return Object.keys(e.nameCtx).reduce(function(o,l){var u=e.nameCtx[l].map(function(c){return a?c.origin:c.rule});return o[l]=u.length===1?u[0]:u,o},{})},bind:function(){return r.form},reload:function(a){e.reloadRule(a)},updateOptions:function(a){e.fc.updateOptions(a),r.refresh()},onSubmit:function(a){r.updateOptions({onSubmit:a})},sync:function(a){if(Array.isArray(a)){a.forEach(function(l){return r.sync(l)});return}var o=Be.Object(a)?Ws(a):e.getCtxs(a);o&&(o=Array.isArray(o)?o:[o],o.forEach(function(l){if(!l.deleted){var u=e.subForm[l.id];u&&(Array.isArray(u)?u.forEach(function(c){c.refresh()}):u&&u.refresh()),e.$render.clearCache(l)}}),e.refresh())},refresh:function(){i().forEach(function(a){a.refresh()}),e.$render.clearCacheAll(),e.refresh()},refreshOptions:function(){e.$manager.updateOptions(e.options),r.refresh()},hideForm:function(a){e.vm.setupState.isShow=!a},changeStatus:function(){return e.changeStatus},clearChangeStatus:function(){e.changeStatus=!1},updateRule:function(a,o){e.getCtxs(a).forEach(function(l){at(l.rule,o)})},updateRules:function(a){Object.keys(a).forEach(function(o){r.updateRule(o,a[o])})},mergeRule:function(a,o){e.getCtxs(a).forEach(function(l){sa(l.rule,o)})},mergeRules:function(a){Object.keys(a).forEach(function(o){r.mergeRule(o,a[o])})},getRule:function(a,o){var l=e.getCtx(a);if(l)return o?l.origin:l.rule},findType:function(a,o){var l=void 0;return Object.keys(e.ctxs).forEach(function(u){var c=e.ctxs[u];c.rule.type===a&&(l=o?c.origin:c.rule)}),l},findTypes:function(a,o){var l=[];return Object.keys(e.ctxs).forEach(function(u){var c=e.ctxs[u];c.rule.type===a&&l.push(o?c.origin:c.rule)}),l},getRenderRule:function(a){var o=e.getCtx(a);if(o)return o.prop},getRefRule:function(a){var o=e.getCtxs(a);if(o){var l=o.map(function(u){return u.rule});return l.length===1?l[0]:l}},setEffect:function(a,o,l){var u=e.getCtx(a);u&&o&&(o[0]==="$"&&(o=o.substr(1)),tn(u.rule,"$"+o)&&ar(u.rule,"$"+o,l),tn(u.rule,"effect")||(u.rule.effect={}),ar(u.rule.effect,o,l))},clearEffectData:function(a,o){var l=e.getCtx(a);l&&(o&&o[0]==="$"&&(o=o.substr(1)),l.clearEffectData(o),r.sync(a))},updateValidate:function(a,o,l){l?r.mergeRule(a,{validate:o}):n(a,"validate",o)},updateValidates:function(a,o){Object.keys(a).forEach(function(l){r.updateValidate(l,a[l],o)})},refreshValidate:function(){r.refresh()},resetFields:function(a){t(a).forEach(function(o){e.getCtxs(o).forEach(function(l){e.$render.clearCache(l),l.rule.value=gc(l.defaultValue)})}),Ke(function(){Ke(function(){Ke(function(){r.clearValidateState(a)})})}),a==null&&(Be.Function(e.options.onReset)&&Tt(function(){return e.options.onReset(r)}),e.vm.emit("reset",r))},method:function(a,o){var l=r.el(a);if(!l||!l[o])throw new Error(_k("err","".concat(o," ")));return function(){return l[o].apply(l,arguments)}},exec:function(a,o){for(var l=arguments.length,u=new Array(l>2?l-2:0),c=2;c<l;c++)u[c-2]=arguments[c];return Tt(function(){return r.method(a,o).apply(void 0,u)})},toJson:function(a){return ud(r.rule,a)},trigger:function(a,o){for(var l=r.el(a),u=arguments.length,c=new Array(u>2?u-2:0),d=2;d<u;d++)c[d-2]=arguments[d];l&&l.$emit.apply(l,[o].concat(c))},el:function(a){var o=e.getCtx(a);if(o)return o.el||e.vm.refs[o.ref]},closeModal:function(a){e.bus.$emit("fc:closeModal:"+a)},getSubForm:function(a){var o=e.getCtx(a);return o?e.subForm[o.id]:void 0},getChildrenRuleList:function(a){var o=Dt(a)==="object",l=o?Ws(a):e.getCtx(a),u=l?l.rule:o?a:r.getRule(a);if(!u)return[];var c=[],d=function(h){h&&h.forEach(function(m){Dt(m)==="object"&&(m.field&&c.push(m),c.push.apply(c,At(r.getChildrenRuleList(m))))})};return d(l?l.loadChildrenPending():u.children),c},getParentRule:function(a){var o=Dt(a)==="object",l=o?Ws(a):e.getCtx(a);return l.parent.rule},getParentSubRule:function(a){var o=Dt(a)==="object",l=o?Ws(a):e.getCtx(a);if(l){var u=l.getParentGroup();if(u)return u.rule}},getChildrenFormData:function(a,o){var l=r.getChildrenRuleList(a);return l.reduce(function(u,c){return(c.ignore!==!0||o===!0)&&(u[c.field]=gc(c.value)),u},{})},setChildrenFormData:function(a,o,l){var u=r.getChildrenRuleList(a);e.deferSyncValue(function(){u.forEach(function(c){tn(o,c.field)?c.value=o[c.field]:l&&(c.value=void 0)})})},getGlobalEvent:function(a){var o=r.options.globalEvent[a];if(o)return Dt(o)==="object"&&(o=o.handle),Cs(o)},getGlobalData:function(a){return new Promise(function(o,l){var u=r.options.globalData[a];u?u.type==="fetch"?r.fetch(u).then(function(c){o(c)}).catch(l):o(u.data):o(e.fc.loadData[a])})},setGlobalData:function(a,o){r.setData("$globalData."+a,o)},setGlobalVar:function(a,o){r.setData("$var."+a,o)},renderRule:function(a,o,l){var u=Dt(a)==="object",c=u?Ws(a):e.getCtx(a);return c?e.$render.createRuleVnode(c,o,l):void 0},renderChildren:function(a,o,l){var u=Dt(a)==="object",c=u?Ws(a):e.getCtx(a);return c?e.$render.createChildrenVnodes(c,o,l):void 0},nextTick:function(a){e.bus.$once("next-tick",a),e.refresh()},nextRefresh:function(a){e.nextRefresh(),a&&Tt(a)},deferSyncValue:function(a,o){e.deferSyncValue(a,o)},emit:function(a){for(var o,l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];(o=e.vm).emit.apply(o,[a].concat(u))},bus:e.bus,getCurrentFormRule:function(){var a;return(a=e.vm.setupState.getGroupInject())===null||a===void 0?void 0:a.rule},fetch:function(a){return new Promise(function(o,l){a=jr(a),a=e.loadFetchVar(a),e.beforeFetch(a).then(function(){return cS(a,e.fc.create.fetch,r).then(function(u){Tt(function(){return a.onSuccess&&a.onSuccess(u)}),o(u)}).catch(function(u){Tt(function(){return a.onError&&a.onError(u)}),l(u)})}).catch(function(u){})})},watchFetch:function(a,o,l,u){return e.fc.watchLoadData(function(c,d){var f=jr(a);f=e.loadFetchVar(f,c),!(u&&u(f,d)===!1)&&e.beforeFetch(f).then(function(){return cS(f,e.fc.create.fetch,r).then(function(h){Tt(function(){return f.onSuccess&&f.onSuccess(h)}),o&&o(h,d)}).catch(function(h){Tt(function(){return f.onError&&f.onError(h)}),l&&l(h)})}).catch(function(h){})},a.wait==null?1e3:a.wait)},getData:function(a,o){return e.fc.get?e.fc.get(a,o):e.fc.getLoadData(a,o)},watchData:function(a){return e.fc.watchLoadData(function(o,l){Tt(function(){return a(o,l)})})},setData:function(a,o,l){return e.fc.setData(a,o,l)},refreshData:function(a){return e.fc.refreshData(a)},t:function(a,o){return e.fc.t(a,o)},getLocale:function(){return e.fc.getLocale()},helper:{tidyFields:t,props:n}};return["on","once","off"].forEach(function(s){r[s]=function(){var a;(a=e.bus)["$".concat(s)].apply(a,arguments)}}),r.changeValue=r.changeField=r.setValue,r}function SH(e){at(e.prototype,{initCache:function(){this.clearCacheAll()},clearCache:function(n){if(!n.rule.cache){if(!this.cache[n.id]){n.parent&&this.clearCache(n.parent);return}(this.cache[n.id].use===!0||this.cache[n.id].parent)&&this.$handle.refresh(),this.cache[n.id].parent&&this.clearCache(this.cache[n.id].parent),this.cache[n.id]=null}},clearCacheAll:function(){this.cache={}},setCache:function(n,i,r){this.cache[n.id]={vnode:i,use:!1,parent:r,slot:n.rule.slot}},getCache:function(n){var i=this.cache[n.id];if(i)return i.use=!0,i.vnode}})}function xH(e){at(e.prototype,{initRender:function(){this.cacheConfig={}},getTypeSlot:function(n){var i=function r(s){if(s){var a=void 0;return n.rule.field&&(a=s.slots["field-"+ld(n.rule.field)]||s.slots["field-"+n.rule.field]),a||(a=s.slots["type-"+ld(n.type)]||s.slots["type-"+n.type]),a||r(s.setupState.parent)}};return i(this.vm)},render:function(){var n=this;if(this.vm.setupState.isShow){this.$manager.beforeRender();var i=Xf();return this.sort.forEach(function(r){n.renderSlot(i,n.$handle.ctxs[r])}),this.$manager.render(i)}},renderSlot:function(n,i,r){if(this.isFragment(i)){i.initProp(),this.mergeGlobal(i),i.initNone();var s=this.renderChildren(i.loadChildrenPending(),i),a=s.default;a&&n.setSlot(i.rule.slot,function(){return a()}),delete s.default,n.mergeBag(s)}else n.setSlot(i.rule.slot,this.renderCtx(i,r))},mergeGlobal:function(n){var i=this,r=this.$handle.options.global;r&&(this.cacheConfig[n.trueType]||(this.cacheConfig[n.trueType]=fe(function(){var s=i.$handle.options.global;return sa({},[s["*"]||s.default||{},s[n.originType]||s[n.type]||s[n.type]||{}])})),n.prop=sa({},[this.cacheConfig[n.trueType].value,n.prop]))},setOptions:function(n){var i=n.loadPending({key:"options",origin:n.prop.options,def:[]});n.prop.options=i,n.prop.optionsTo&&i&&Ja(n.prop,n.prop.optionsTo,i)},deepSet:function(n){var i=n.rule.deep;i&&Object.keys(i).sort(function(r,s){return r.length<s.length?-1:1}).forEach(function(r){Ja(n.prop,r,i[r])})},parseSide:function(n,i){return Be.Object(n)?sa({props:{formCreateInject:i.prop.props.formCreateInject}},n):n},renderSides:function(n,i,r){var s=i[r?"rule":"prop"];return[this.renderRule(this.parseSide(s.prefix,i)),n,this.renderRule(this.parseSide(s.suffix,i))]},renderId:function(n,i){var r=this,s=this.$handle[i==="field"?"fieldCtx":"nameCtx"][n];return s?s.map(function(a){return r.renderCtx(a,a.parent)}):void 0},renderCtx:function(n,i){var r=this;try{if(n.type==="hidden")return;var s=n.rule;if(this.force||!this.cache[n.id]||this.cache[n.id].slot!==s.slot){var a;n.initProp(),this.mergeGlobal(n),n.initNone(),this.$manager.tidyRule(n),this.deepSet(n),this.setOptions(n),this.ctxProp(n);var o=n.prop;o.preview=!!(o.preview!=null?o.preview:this.$handle.preview),o.props.formCreateInject=this.injectProp(n);var l=o.cache!==!1,u=o.preview;if(o.hidden){this.setCache(n,void 0,i);return}a=function(){for(var d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];var m={rule:s,prop:o,preview:u,api:r.$handle.api,model:o.model||{},slotValue:f};f.length&&s.slotUpdate&&Tt(function(){return s.slotUpdate(m)});var p={},g=n.loadChildrenPending();n.parser.renderChildren?p=n.parser.renderChildren(g,n):n.parser.loadChildren!==!1&&(p=r.renderChildren(g,n)),Object.keys(o.renderSlots||{}).forEach(function(b){p[b]=function(){for(var A=arguments.length,T=new Array(A),k=0;k<A;k++)T[k]=arguments[k];if(Be.Function(o.renderSlots[b]))return Tt(function(){var I;return(I=o.renderSlots)[b].apply(I,T)});var O=r.parseSide(o.renderSlots[b],n);return r.renderRule(O)}});var _=r.getTypeSlot(n),y;return _?(m.children=p,y=_(m)):y=u?n.parser.preview(I0(p),n):n.parser.render(I0(p),n),y=r.renderSides(y,n),!(!n.input&&Be.Undef(o.native))&&o.native!==!0&&(r.fc.targetFormDriver("updateWrap",n),y=r.$manager.makeWrap(n,y)),n.none&&(Array.isArray(y)?y=y.map(function(b){return!b||!b.__v_isVNode?b:r.none(b)}):y=r.none(y)),l&&r.setCache(n,function(){return r.stable(y)},i),y},this.setCache(n,a,i)}return function(){var c=r.getCache(n);if(c)return c.apply(void 0,arguments);if(r.cache[n.id])return;var d=r.renderCtx(n,n.parent);if(d)return d()}}catch(c){console.error(c);return}},none:function(n){if(n)return n.props.class=this.mergeClass(n.props.class,"fc-none"),n},mergeClass:function(n,i){if(Array.isArray(n))n.push(i);else return n?[n,i]:i;return n},stable:function(n){var i=this,r=Array.isArray(n)?n:[n];return r.forEach(function(s){s&&s.__v_isVNode&&s.children&&Dt(s.children)==="object"&&(s.children.$stable=!0,i.stable(s.children))}),n},getModelField:function(n){return n.prop.modelField||n.parser.modelField||this.fc.modelFields[this.vNode.aliasMap[n.type]]||this.fc.modelFields[n.type]||this.fc.modelFields[n.originType]||"modelValue"},isFragment:function(n){return n.type==="fragment"||n.type==="template"},injectProp:function(n){var i=this,r=this.vm.setupState;r.ctxInject[n.id]||(r.ctxInject[n.id]={api:this.$handle.api,form:this.fc.create,subForm:function(o){i.$handle.addSubForm(n,o)},getSubForm:function(){return i.$handle.subForm[n.id]},slots:function(){return i.vm.setupState.top.slots},getWrap:function(){return i.vm.refs[n.wrapRef]},options:[],children:[],preview:!1,id:n.id,field:n.field,rule:n.rule,input:n.input,t:function(){var o;return(o=i.$handle.api).t.apply(o,arguments)},updateValue:function(o){i.$handle.onUpdateValue(n,o)}});var s=r.ctxInject[n.id];return at(s,{preview:n.prop.preview,options:n.prop.options,children:n.loadChildrenPending()}),s},ctxProp:function(n){var i=this,r=n.ref,s=n.key,a=n.rule;this.$manager.mergeProp(n),n.parser.mergeProp(n);var o=[{ref:r,key:a.key||"".concat(s,"fc"),slot:void 0,on:{vnodeMounted:function(f){f.el.__rule__=n.rule,i.onMounted(n,f.el)},"fc.updateValue":function(f){i.$handle.onUpdateValue(n,f)},"fc.el":function(f){n.exportEl=f,f&&((f.$el||f).__rule__=n.rule)}}}];if(n.input){var l=this.tmpInput;this.vm.props.disabled===!0&&(n.prop.props.disabled=!0);var u=this.getModelField(n),c={callback:function(f){l&&l(n.field,f,n.rule),i.onInput(n,f)},modelField:u,value:this.$handle.getFormData(n)};o.push({on:Qe(Yn({},"update:".concat(u),c.callback),n.prop.modelEmit?Yn({},n.prop.modelEmit,function(){return i.onEmitInput(n)}):{}),props:Yn({},u,c.value)}),n.prop.model=c}return $o(o,n.prop),n.prop},onMounted:function(n,i){n.el=this.vm.refs[n.ref]||i,n.parser.mounted(n),this.$handle.effect(n,"mounted"),this.$handle.targetHook(n,"mounted")},onInput:function(n,i){if(n.prop.modelEmit){this.$handle.onBaseInput(n,i);return}this.$handle.onInput(n,i)},onEmitInput:function(n){this.$handle.setValue(n,n.parser.toValue(n.modelValue,n),n.modelValue)},renderChildren:function(n,i){var r=this;if(!Be.trueArray(n))return{};var s=Xf();return n.map(function(a){if(a){if(Be.String(a))return s.setSlot(null,a);if(a.__fc__)return r.renderSlot(s,a.__fc__,i);a.type&&Ke(function(){r.$handle.loadChildren(n,i),r.$handle.refresh()})}}),s.getSlots()},defaultRender:function(n,i){var r=n.prop;return r.component?typeof r.component=="string"?this.vNode.make(r.component,r,i):this.vNode.makeComponent(r.component,r,i):this.vNode[n.type]?this.vNode[n.type](r,i):this.vNode[n.originType]?this.vNode[n.originType](r,i):this.vNode.make(Ck(r.type),r,i)},createChildrenVnodes:function(n,i,r){this.force=r!==!1,this.tmpInput=i;var s=this.renderChildren(n.rule.children,n);return this.force=!1,this.tmpInput=null,s},createRuleVnode:function(n,i,r){this.force=r!==!1,this.tmpInput=i;var s=Xf();return this.renderSlot(s,n,n.parent),this.force=!1,this.tmpInput=null,s.getSlots()},renderRule:function(n,i,r){var s=this;if(n){if(Be.String(n))return n;var a;if(r)a=n.type;else if(a=n.is,n.type){a=Mr(n.type);var o=this.vNode.aliasMap[a];o&&(a=Mr(o))}if(a){var l=Xf();Be.trueArray(n.children)&&n.children.forEach(function(c){c&&l.setSlot(c==null?void 0:c.slot,function(){return s.renderRule(c)})});var u=Qe({},n);return delete u.type,delete u.is,this.vNode.make(a,u,l.mergeBag(i).getSlots())}}}})}var EH=1;function W_(e){at(this,{$handle:e,fc:e.fc,vm:e.vm,$manager:e.$manager,vNode:new e.fc.CreateNode(e),force:!1,tmpInput:null,id:EH++}),kk(this,{options:function(){return e.options},sort:function(){return e.sort}}),this.initCache(),this.initRender()}SH(W_);xH(W_);function CH(e){at(e.prototype,{parseInjectEvent:function(n,i){var r=n.inject||this.options.injectEvent;return this.parseEventLst(n,i,r)},parseEventLst:function(n,i,r,s){var a=this;return Object.keys(i).forEach(function(o){var l=a.parseEvent(n,i[o],r,s);l&&(i[o]=l)}),i},parseEvent:function(n,i,r,s){if(Be.Function(i)&&(r!==!1&&!Be.Undef(r)||i.__inject))return this.inject(n,i,r);if(!s&&Array.isArray(i)&&i[0]&&(Be.String(i[0])||Be.Function(i[0])))return this.parseEventLst(n,i,r,!0);if(Be.String(i)){var a=Cs(i);if(a&&i!==a)return a.__inject?this.parseEvent(n,a,r,!0):a}},parseEmit:function(n){var i=this,r={},s=n.rule,a=s.emitPrefix,o=s.field,l=s.name,u=s.inject,c=s.emit||[];return Be.trueArray(c)&&c.forEach(function(d){if(d){var f,h=a||o||l;if(Be.Object(d)&&(f=d.inject,d=d.name,h=d.prefix||h),h){var m=ld("".concat(h,"-").concat(d)),p=function(){var y,b,A;i.vm.emitsOptions&&(i.vm.emitsOptions[m]=null);for(var T=arguments.length,k=new Array(T),O=0;O<T;O++)k[O]=arguments[O];(y=i.vm).emit.apply(y,[m].concat(k)),(b=i.vm).emit.apply(b,["emit-event",m].concat(k)),(A=i.bus).$emit.apply(A,[m].concat(k))};if(p.__emit=!0,!f&&u===!1)r[d]=p;else{var g=f||u||i.options.injectEvent;r[d]=Be.Undef(g)?p:i.inject(s,p,g)}}}}),n.computed.on=r,r},getInjectData:function(n,i){var r=n.__fc__&&n.__fc__.$api,s=n.__fc__&&n.__fc__.$handle.vm||this.vm,a=s.props,o=a.option,l=a.rule;return{$f:r||this.api,api:r||this.api,rule:l,self:n.__origin__,option:o,inject:i}},inject:function(n,i,r){if(i.__origin){if(this.watching&&!this.loading)return i;i=i.__origin}var s=this,a=function(){for(var l=s.getInjectData(n,r),u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return l.args=[].concat(c),c.unshift(l),i.apply(this,c)};return a.__origin=i,a.__json=i.__json,a},loadStrVar:function(n,i,r){var s=this;if(n&&typeof n=="string"&&n.indexOf("{{")>-1&&n.indexOf("}}")>-1){var a=n,o=gH(n),l=function(f){var h=!1,m;if(r&&f.indexOf("$form.")===0){var p=f.split(".");p.shift(),tn(r.value,p[0])&&(h=!0,m=i?i({id:"$form."+p[0]+"_"+r.rule.__fc__.id,getValue:function(){return Ci(r.value,p)}}):Ci(r.value,p))}return h||(m=i?i(f):s.fc.getLoadData(f)),m},u=function d(f){var h=[];f.forEach(function(p){p.key?h.push(p.key):p.children&&h.push(d(p.children))});var m=!1;return h.forEach(function(p,g){p!=null&&(p.indexOf("'")===0||p.indexOf('"')===0)&&(h[g]=p.slice(1,-1),m=!0)}),h.length===1&&(m||!isNaN(Number(h[0])))?h[0]:l(h.join("."))},c;if(o.forEach(function(d){var f=d.split("||"),h=f[0].trim();if(h){var m=(f[1]||"").trim(),p=Ok(h),g=Tt(function(){return u(p)});(g==null||g==="")&&f.length>1&&(g=m),c=g,n=n.replaceAll("{{".concat(d,"}}"),g==null?"":g)}}),o.length===1&&a==="{{".concat(o[0],"}}"))return c}return n},loadFetchVar:function(n,i,r){var s=this,a;r&&r.__fc__&&(a=r.__fc__.getParentGroup());var o=function(u){return s.loadStrVar(u,i,a?{rule:r,value:s.subRuleData[a.id]||{}}:null)};return n.action=o(n.action||""),["headers","data","query"].forEach(function(l){if(n[l]){var u=Array.isArray(n[l])?[]:{};Object.keys(n[l]).forEach(function(c){u[o(c)]=o(n[l][c])}),n[l]=u}}),n}})}var dS=["hook:updated","hook:mounted"];function wH(e){at(e.prototype,{usePage:function(){var n=this,i=this.options.page;if(i){var r=25,s=DH(this.rules);Be.Object(i)&&(i.first&&(r=parseInt(i.first,10)||r),i.limit&&(s=parseInt(i.limit,10)||s)),at(this,{first:r,limit:s,pageEnd:this.rules.length<=r}),this.bus.$on("page-end",function(){return n.vm.emit("page-end",n.api)}),this.pageLoad()}},pageLoad:function(){var n=this,i=function r(){n.pageEnd?(n.bus.$off(dS,r),n.bus.$emit("page-end")):(n.first+=n.limit,n.pageEnd=n.rules.length<=n.first,n.loadRule(),n.refresh())};this.bus.$on(dS,i)}})}function DH(e){return e.length<31?31:Math.ceil(e.length/3)}function kH(e){at(e.prototype,{clearNextTick:function(){this.nextTick&&clearTimeout(this.nextTick),this.nextTick=null},bindNextTick:function(n){var i=this;this.clearNextTick(),this.nextTick=setTimeout(function(){n(),i.nextTick=null},10)},render:function(){return++this.loadedId,this.vm.setupState.unique>0?this.$render.render():(this.vm.setupState.unique=1,[])}})}function OH(e){Object.defineProperties(e.origin,{__fc__:M0(Lr(e))}),e.rule!==e.origin&&Object.defineProperties(e.rule,{__fc__:M0(Lr(e))})}function Lk(e,t,n){var i=um(),r=!!t.field;at(this,{id:i,ref:i,wrapRef:i+"fi",rule:t,origin:t.__origin__||t,name:t.name,pending:{},none:!1,watch:[],linkOn:[],root:[],ctrlRule:[],children:[],parent:null,group:t.subRule?this:null,cacheConfig:null,prop:Qe({},t),computed:{},payload:{},refRule:{},input:r,el:void 0,exportEl:void 0,defaultValue:r?jr(n):void 0,field:t.field||void 0}),this.updateKey(),OH(this),this.update(e,!0)}at(Lk.prototype,{getParentGroup:function(){for(var t=this.parent;t;){if(t.group)return t;t=t.parent}},loadChildrenPending:function(){var t=this,n=this.rule.children||[];return Array.isArray(n)?n:this.loadPending({key:"children",origin:n,def:[],onLoad:function(r){t.$handle&&t.$handle.loadChildren(r,t)},onUpdate:function(r,s){t.$handle&&(r===s?t.$handle.loadChildren(r,t):t.$handle.updateChildren(t,r,s))},onReload:function(r){t.$handle?t.$handle.updateChildren(t,[],r):delete t.pending.children}})},loadPending:function(t){var n=this,i=t.key,r=t.origin,s=t.def,a=t.onLoad,o=t.onReload,l=t.onUpdate;if(this.pending[i]&&this.pending[i].origin===r)return this.getPending(i,s);delete this.pending[i];var u=r;if(Be.Function(r)){var c=Tt(function(){return r({rule:n.rule,api:n.$api,update:function(f){var h=f||s,m=n.getPending(i,s);n.setPending(i,r,h),l&&l(h,m)},reload:function(){var f=n.getPending(i,s);delete n.pending[i],o&&o(f),n.$api&&n.$api.sync(n.rule)}})});c&&Be.Function(c.then)?(c.then(function(d){var f=d||s;n.setPending(i,r,f),a&&a(f),n.$api&&n.$api.sync(n.rule)}).catch(function(d){console.error(d)}),u=s,this.setPending(i,r,u)):(u=c||s,this.setPending(i,r,u),a&&a(u))}return u},getPending:function(t,n){return this.pending[t]&&this.pending[t].value||n},setPending:function(t,n,i){this.pending[t]={origin:n,value:vt(i)}},effectData:function(t){return this.payload[t]||(this.payload[t]={}),this.payload[t]},clearEffectData:function(t){t===void 0?this.payload={}:delete this.payload[t]},updateKey:function(t){this.key=um(),t&&this.parent&&this.parent.updateKey(t)},updateType:function(){this.originType=this.rule.type,this.type=Mr(this.rule.type),this.trueType=this.$handle.getType(this.originType)},setParser:function(t){this.parser=t,t.init(this)},initProp:function(){var t=this,n,i,r=Qe({},this.rule);delete r.children,delete r.validate,this.prop=sa({},[r].concat(At(Object.keys(this.payload).map(function(s){return t.payload[s]})),[this.computed])),this.prop.validate=[].concat(At(((n=this.refRule)===null||n===void 0||(i=n.__$validate)===null||i===void 0?void 0:i.value)||[]),At(this.prop.validate||[]))},initNone:function(){this.none=!(Be.Undef(this.prop.display)||this.prop.display)},hasHidden:function(){return!!this.rule.hidden||(this.parent?this.parent.hasHidden():!1)},injectValidate:function(){return this.prop.validate},check:function(t){return this.vm===t.vm},unwatch:function(){var t=this;this.watch.forEach(function(n){return n()}),this.watch=[],Object.keys(this.refRule).forEach(function(n){n.indexOf("__$")!==0&&delete t.refRule[n]})},unlink:function(){this.linkOn.forEach(function(t){return t()}),this.linkOn=[]},link:function(){this.unlink(),this.$handle.appendLink(this)},watchTo:function(){this.$handle.watchCtx(this)},delete:function(){this.unwatch(),this.unlink(),this.rmCtrl(),this.parent&&this.parent.children.splice(this.parent.children.indexOf(this)>>>0,1),at(this,{deleted:!0,computed:{},parent:null,children:[],cacheConfig:null,none:!1})},rmCtrl:function(){this.ctrlRule.forEach(function(t){return t.__fc__&&t.__fc__.rm()}),this.ctrlRule=[]},rm:function(){var t=this,n=function(){var r=t.root.indexOf(t.origin);r>-1&&(t.root.splice(r,1),t.$handle&&t.$handle.refresh())};if(this.deleted){n();return}this.$handle.noWatch(function(){t.$handle.deferSyncValue(function(){t.rmCtrl(),n(),t.$handle.rmCtx(t),at(t,{root:[]})},t.input)})},update:function(t,n){at(this,{deleted:!1,$handle:t,$render:t.$render,$api:t.api,vm:t.vm,vNode:t.$render.vNode,updated:!1,cacheValue:this.rule.value}),!n&&this.unwatch(),this.watchTo(),this.link(),this.updateType()}});function IH(e){at(e.prototype,{nextRefresh:function(n){var i=this,r=this.loadedId;Ke(function(){r===i.loadedId&&(n?n():i.refresh())})},parseRule:function(n){var i=this,r=sS(n);return Object.defineProperties(r,{__origin__:M0(n)}),PH(r),this.appendValue(r),[r,r.prefix,r.suffix].forEach(function(s){s&&i.loadFn(s,r)}),this.loadCtrl(r),r.update&&(r.update=Cs(r.update)),r},loadFn:function(n,i){var r=this;["on","props","deep"].forEach(function(s){n[s]&&r.parseInjectEvent(i,n[s])})},loadCtrl:function(n){n.control&&n.control.forEach(function(i){i.handle&&(i.handle=Cs(i.handle))})},syncProp:function(n){var i=this,r=n.rule;Be.trueArray(r.sync)&&$o([{on:r.sync.reduce(function(s,a){return s[Dt(a)==="object"&&a.event||"update:".concat(a)]=function(o){r.props[Dt(a)==="object"&&a.prop||a]=o,i.vm.emit("sync",a,o,r,i.fapi)},s},{})}],n.computed)},loadRule:function(){var n=this;this.cycleLoad=!1,this.loading=!0,this.pageEnd&&this.bus.$emit("load-start"),this.deferSyncValue(function(){if(n._loadRule(n.rules),n.loading=!1,n.cycleLoad&&n.pageEnd)return n.loadRule();n.syncForm(),n.pageEnd&&n.bus.$emit("load-end"),n.vm.setupState.renderRule()})},loadChildren:function(n,i){if(this.cycleLoad=!1,this.loading=!0,this.bus.$emit("load-start"),this._loadRule(n,i),this.loading=!1,this.cycleLoad)return this.loadRule();this.syncForm(),this.bus.$emit("load-end"),this.$render.clearCache(i)},_loadRule:function(n,i){var r=this,s=function l(u){var c=n[u-1];if(!c||!c.__fc__)return u>0?l(u-1):-1;var d=r.sort.indexOf(c.__fc__.id);return d>-1?d:l(u-1)},a=function(u,c){Be.trueArray(u)&&r._loadRule(u,c)},o=n.map(function(l,u){if(!(i&&!Be.Object(l))&&!(!r.pageEnd&&!i&&u>=r.first)){if(l.__fc__&&l.__fc__.root===n&&r.ctxs[l.__fc__.id])return a(l.__fc__.loadChildrenPending(),l.__fc__),l.__fc__;var c=sS(l),d=function(){return!!(c.field&&r.fieldCtx[c.field]&&r.fieldCtx[c.field][0]!==l.__fc__)};r.fc.targetFormDriver("loadRule",{rule:c,api:r.api},r.fc),r.ruleEffect(c,"init",{repeat:d()}),d()&&r.vm.emit("repeat-field",l,r.api);var f,h=!1,m=!!l.__fc__,p=c.value;if(m){if(f=l.__fc__,p=f.defaultValue,f.deleted){if(fS(f))return;f.update(r)}else if(!f.check(r)){if(fS(f))return;n[u]=l=l._clone?l._clone():bk(ud(l)),f=null,h=!0}}if(f)f.originType!==f.rule.type&&f.updateType(),r.bindParser(f),r.appendValue(f.rule),f.parent&&f.parent!==i&&r.rmSubRuleData(f);else{var g=r.parseRule(l);f=new Lk(r,g,p),r.bindParser(f)}r.parseEmit(f),r.syncProp(f),f.parent=i||null,f.root=n,r.setCtx(f),!h&&!m&&(r.effect(f,"load"),r.targetHook(f,"load")),r.effect(f,"created");var _=f.loadChildrenPending();if(f.parser.loadChildren===!1||a(_,f),!i){var y=s(u);y>-1||!u?r.sort.splice(y+1,0,f.id):r.sort.push(f.id)}var b=f.rule;return f.updated||(f.updated=!0,Be.Function(b.update)&&r.bus.$once("load-end",function(){r.refreshUpdate(f,b.value,"init")}),r.effect(f,"loaded")),r.refreshControl(f)&&(r.cycleLoad=!0),f}}).filter(function(l){return!!l});i&&(i.children=o)},refreshControl:function(n){return n.input&&n.rule.control&&this.useCtrl(n)},useCtrl:function(n){var i=this,r=RH(n),s=[],a=this.api;if(!r.length)return!1;for(var o=function(h){var m=r[h],p=m.handle||function(_){return(Uo[m.condition||"=="]||Uo["=="])(_,m.value)};if(!Be.trueArray(m.rule))return"continue";var g=Qe(Qe({},m),{},{valid:Tt(function(){return p(n.rule.value,a)}),ctrl:LH(n,m.rule),isHidden:Be.String(m.rule[0])});if(g.valid&&g.ctrl||!g.valid&&!g.ctrl&&!g.isHidden)return"continue";s.push(g)},l=0;l<r.length;l++)var u=o(l);if(!s.length)return!1;var c=[],d=!1;return this.deferSyncValue(function(){s.reverse().forEach(function(f){var h=f.isHidden,m=f.valid,p=f.rule,g=f.prepend,_=f.append,y=f.child,b=f.ctrl,A=f.method;if(h){m?n.ctrlRule.push({__ctrl:!0,children:p,valid:m}):b&&n.ctrlRule.splice(n.ctrlRule.indexOf(b)>>>0,1),c[m?"push":"unshift"](function(){A==="disabled"||A==="enabled"?i.api.disabled(!m,p):A==="display"||A==="show"?i.api.display(m,p):A==="required"?(p.forEach(function(O){i.api.setEffect(O,"required",m)}),m||i.api.clearValidateState(p)):i.api.hidden(!m,p)});return}if(m){d=!0;var T={type:"fragment",native:!0,__ctrl:!0,children:p};n.ctrlRule.push(T),i.bus.$once("load-start",function(){g?a.prepend(T,g,y):_||y?a.append(T,_||n.id,y):n.root.splice(n.root.indexOf(n.origin)+1,0,T)})}else{n.ctrlRule.splice(n.ctrlRule.indexOf(b),1);var k=Ws(b);k&&k.rm()}})}),c.length&&(this.loading?c.length&&this.bus.$once("load-end",function(){c.forEach(function(f){return f()})}):c.length&&Ke(function(){c.forEach(function(f){return f()})})),this.vm.emit("control",n.origin,this.api),this.effect(n,"control"),d},reloadRule:function(n){return this._reloadRule(n)},_reloadRule:function(n){var i=this;n||(n=this.rules);var r=Qe({},this.ctxs);this.clearNextTick(),this.initData(n),this.fc.rules=n,this.deferSyncValue(function(){i.bus.$once("load-end",function(){Object.keys(r).filter(function(s){return i.ctxs[s]===void 0}).forEach(function(s){return i.rmCtx(r[s])}),i.$render.clearCacheAll()}),i.reloading=!0,i.loadRule(),i.reloading=!1,i.refresh(),i.bus.$emit("reloading",i.api)}),this.bus.$off("next-tick",this.nextReload),this.bus.$once("next-tick",this.nextReload),this.bus.$emit("update",this.api)},refresh:function(){this.vm.setupState.refresh()}})}function PH(e){var t=Ik();return Object.keys(t).forEach(function(n){tn(e,n)||(e[n]=t[n])}),e}function RH(e){var t=e.rule.control||[];return Be.Object(t)?[t]:t}function LH(e,t){for(var n=0;n<e.ctrlRule.length;n++){var i=e.ctrlRule[n];if(i.children===t)return i}}function fS(e){return!!e.rule.__ctrl}function MH(e){at(e.prototype,{setValue:function(n,i,r,s){var a=this;n.deleted||(n.rule.value=i,this.changeStatus=!0,this.nextRefresh(),this.$render.clearCache(n),this.setFormData(n,r),this.syncValue(),this.valueChange(n,i),this.vm.emit("change",n.field,i,n.origin,this.api,s||!1),this.effect(n,"value"),this.targetHook(n,"value",{value:i}),this.emitEvent("change",n.field,i,{rule:n.origin,api:this.api,setFlag:s||!1}),s&&Ke(function(){Ke(function(){Ke(function(){a.api.clearValidateState(n.id)})})}),this.$manager.fieldChange(n,i,r,s))},onInput:function(n,i){var r;n.input&&(this.isQuote(n,r=n.parser.toValue(i,n))||this.isChange(n,i))&&this.setValue(n,r,i)},onUpdateValue:function(n,i){var r=this;this.deferSyncValue(function(){var s=n.getParentGroup(),a=s?r.subRuleData[s.id]:null,o={};Object.keys(i||{}).forEach(function(l){a&&tn(a,l)?o[l]=i[l]:tn(r.api.form,l)?r.api.form[l]=i[l]:r.api.top!==r.api&&tn(r.api.top.form,l)&&(r.api.top.form[l]=i[l])}),Object.keys(o).length&&r.api.setChildrenFormData(s.rule,o)})},onBaseInput:function(n,i){this.setFormData(n,i),n.modelValue=i,this.nextRefresh(),this.$render.clearCache(n)},setFormData:function(n,i){n.modelValue=i;var r=n.getParentGroup();r&&(this.subRuleData[r.id]||(this.subRuleData[r.id]={}),this.subRuleData[r.id][n.field]=n.rule.value),ar(this.formData,n.id,i)},rmSubRuleData:function(n){var i=n.getParentGroup();i&&this.subRuleData[i.id]&&delete this.subRuleData[i.id][n.field]},getFormData:function(n){return this.formData[n.id]},syncForm:function(){var n=this,i=vt({}),r=this.fields(),s=[];this.options.appendValue!==!1&&Object.keys(this.appendData).reduce(function(a,o){return r.indexOf(o)===-1&&(a[o]=xn(n.appendData,o)),a},i),r.reduce(function(a,o){var l=(n.fieldCtx[o]||[]).filter(function(u){return!n.isIgnore(u)})[0];return l||(l=n.fieldCtx[o][0],s.push(o)),a[o]=xn(l.rule,"value"),a},i),this.form=i,this.ignoreFields=s,this.syncValue()},isIgnore:function(n){return n.rule.ignore===!0||(n.rule.ignore==="hidden"||this.options.ignoreHiddenFields)&&n.hasHidden()},appendValue:function(n){(!n.field||!tn(this.appendData,n.field))&&(!Be.Undef(n.value)||!this.options.forceCoverValue)||(n.value=this.appendData[n.field],delete this.appendData[n.field])},addSubForm:function(n,i){this.subForm[n.id]=i},deferSyncValue:function(n,i){this.deferSyncFn||(this.deferSyncFn=n),this.deferSyncFn.sync||(this.deferSyncFn.sync=i),Tt(n),this.deferSyncFn===n&&(this.deferSyncFn=null,n.sync&&this.syncForm())},syncValue:function(){var n=this;if(this.deferSyncFn)return this.deferSyncFn.sync=!0;var i={};Object.keys(this.form).forEach(function(r){n.ignoreFields.indexOf(r)===-1&&(i[r]=n.form[r])}),this.vm.setupState.updateValue(i)},isChange:function(n,i){return JSON.stringify(this.getFormData(n),hS)!==JSON.stringify(i,hS)},isQuote:function(n,i){return(i instanceof Function||Be.Object(i)||Array.isArray(i))&&i===n.rule.value},refreshUpdate:function(n,i,r,s){var a=this;if(Be.Function(n.rule.update)){var o=Tt(function(){return n.rule.update(i,n.origin,a.api,{origin:r||"change",linkField:s})});if(o===void 0)return;n.rule.hidden=o===!0}},valueChange:function(n,i){this.refreshRule(n,i),this.bus.$emit("change-"+n.field,i)},refreshRule:function(n,i,r,s){this.refreshControl(n)&&(this.$render.clearCacheAll(),this.loadRule(),this.bus.$emit("update",this.api),this.refresh()),this.refreshUpdate(n,i,r,s)},appendLink:function(n){var i=this,r=n.rule.link;Be.trueArray(r)&&r.forEach(function(s){var a=function(){return i.refreshRule(n,n.rule.value,"link",s)};i.bus.$on("change-"+s,a),n.linkOn.push(function(){return i.bus.$off("change-"+s,a)})})},fields:function(){return Object.keys(this.fieldCtx)}})}function hS(e,t){return typeof t=="function"?""+t:t}var Th={init:function(t){},toFormValue:function(t,n){return t},toValue:function(t,n){return t},mounted:function(t){},render:function(t,n){return n.$handle.fc.renderDriver&&n.$handle.fc.renderDriver.defaultRender?n.$handle.fc.renderDriver.defaultRender(n,t):n.$render.defaultRender(n,t)},preview:function(t,n){return n.$handle.fc.renderDriver&&n.$handle.fc.renderDriver.defaultPreview?n.$handle.fc.renderDriver.defaultPreview(n,t):this.render(t,n)},mergeProp:function(t){}},NH=["field","value","vm","template","name","config","control","inject","sync","payload","optionsTo","update","slotUpdate","computed","component","cache"],vc=Symbol("oldValue");function BH(e){at(e.prototype,{getCtx:function(n){return this.getFieldCtx(n)||this.getNameCtx(n)[0]||this.ctxs[n]},getCtxs:function(n){return this.fieldCtx[n]||this.nameCtx[n]||(this.ctxs[n]?[this.ctxs[n]]:[])},setIdCtx:function(n,i,r){var s="".concat(r,"Ctx");this[s][i]?this[s][i].push(n):this[s][i]=[n]},rmIdCtx:function(n,i,r){var s="".concat(r,"Ctx"),a=this[s][i];if(!a)return!1;var o=a.splice(a.indexOf(n)>>>0,1).length>0;return a.length||delete this[s][i],o},getFieldCtx:function(n){return(this.fieldCtx[n]||[])[0]},getNameCtx:function(n){return this.nameCtx[n]||[]},setCtx:function(n){var i=n.id,r=n.field,s=n.name,a=n.rule;this.ctxs[i]=n,s&&this.setIdCtx(n,s,"name"),n.input&&(this.setIdCtx(n,r,"field"),this.setFormData(n,n.parser.toFormValue(a.value,n)),this.isMounted&&!this.reloading&&this.vm.emit("change",n.field,a.value,n.origin,this.api))},getParser:function(n){var i=this.fc.parsers,r=this.fc.renderDriver;if(r){var s=r.parsers||{},a=s[n.originType]||s[Mr(n.type)]||s[n.trueType];if(a)return a}return i[n.originType]||i[Mr(n.type)]||i[n.trueType]||Th},bindParser:function(n){n.setParser(this.getParser(n))},getType:function(n){var i=this.fc.CreateNode.aliasMap,r=i[n]||i[Mr(n)]||n;return Mr(r)},noWatch:function(n){this.noWatchFn||(this.noWatchFn=n),Tt(n),this.noWatchFn===n&&(this.noWatchFn=null)},watchCtx:function(n){var i=this,r=Ek();if(r.filter(function(a){return a[0]!=="_"&&a[0]!=="$"&&NH.indexOf(a)===-1}).forEach(function(a){var o=xn(n.rule,a),l=a==="children";n.refRule[a]=o,n.watch.push(De(l?function(){return Be.Function(o.value)?o.value:At(o.value||[])}:function(){return o.value},function(u,c){var d=o.value;if(!i.isBreakWatch()){if(l&&n.parser.loadChildren===!1){i.$render.clearCache(n),i.nextRefresh();return}if(i.watching=!0,Ke(function(){i.targetHook(n,"watch",{key:a,oldValue:c,newValue:d})}),a==="hidden"&&!!d!=!!c&&(i.$render.clearCacheAll(),Ke(function(){i.targetHook(n,"hidden",{value:d})})),a==="ignore"&&n.input||a==="hidden"&&n.input&&(n.rule.ignore==="hidden"||i.options.ignoreHiddenFields))i.syncForm();else if(a==="link"){n.link();return}else["props","on","deep"].indexOf(a)>-1?(i.parseInjectEvent(n.rule,d||{}),a==="props"&&n.input&&i.setFormData(n,n.parser.toFormValue(n.rule.value,n))):a==="emit"?i.parseEmit(n):["prefix","suffix"].indexOf(a)>-1?d&&i.loadFn(d,n.rule):a==="type"?(n.updateType(),i.bindParser(n)):l&&(Be.Function(c)&&(c=n.getPending("children",[])),Be.Function(d)&&(d=n.loadChildrenPending()),i.updateChildren(n,d,c));i.$render.clearCache(n),i.refresh(),i.watching=!1}},{deep:!l,sync:l}))}),n.refRule.__$title=fe(function(){var a=(Dt(n.rule.title)==="object"?n.rule.title.title:n.rule.title)||"";if(a){var o=a.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);o&&(a=i.api.t(o[1]))}return a}),n.refRule.__$info=fe(function(){var a=(Dt(n.rule.info)==="object"?n.rule.info.info:n.rule.info)||"";if(a){var o=a.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);o&&(a=i.api.t(o[1]))}return a}),n.refRule.__$validate=fe(function(){var a=function(l){var u=l.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);if(u){var c,d;return i.api.t(u[1],{title:(c=n.refRule)===null||c===void 0||(d=c.__$title)===null||d===void 0?void 0:d.value})}return l};return Qo(n.rule.validate).map(function(o){var l=Qe({},o);if(l.message&&(l.message=a(l.message)),Be.Function(l.validator)){var u=n;l.validator=function(){for(var d,f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];return(d=o.validator).call.apply(d,[{that:this,id:u.id,field:u.field,rule:u.rule,api:u.$handle.api}].concat(h))}}if(l.adapter){if(Dt(l.error)==="object"){var c=Qe({},l.error);Object.keys(c).forEach(function(d){c[d]=a(c[d])}),l.error=c}return i.adapterValidate(l,n)}return l})}),n.input){var s=xn(n.rule,"value");n.watch.push(De(function(){return s.value},function(){var a=n.parser.toFormValue(s.value,n);i.isChange(n,a)&&i.setValue(n,s.value,a,!0)}))}this.bus.$once("load-end",function(){var a=n.rule.computed;a&&(Dt(a)!=="object"&&(a={value:a}),Object.keys(a).forEach(function(o){var l=fe(function(){var c=a[o];if(c){var d=i.compute(n,c);return(c.linkage||c.linkageVariable)&&d===vc?vc:d}}),u=function(d){o==="value"?i.onInput(n,d):o[0]==="$"?i.api.setEffect(n.id,o,d):Ja(n.rule,o,d)};(o==="value"?[void 0,null,""].indexOf(n.rule.value)>-1:l.value!==Ci(n.rule,o))&&u(l.value),n.watch.push(De(l,function(c){c!==vc&&setTimeout(function(){u(c)})},{deep:!0}))}))}),this.watchEffect(n)},adapterValidate:function(n,i){var r=this,s=function(o,l){var u=n.beforeValidate&&Tt(function(){return n.beforeValidate({value:o,api:r.api,validate:n,rule:i.rule})});if(u===!1)l();else{var c=r.validator(i,o,n);if(c){var f="";Dt(n.error)==="object"&&(f=n.error[c]||n.error.default),!f&&typeof n.message=="string"&&(f=n.message),f||(f=r.getValidateMessage(i,{key:c,rule:n[c]})),l(f)}else if(n.validator){var d=n.validator&&Tt(function(){return n.validator(o,l)});d&&Be.Function(d.then)&&d.then(function(){return l()}).catch(function(h){return l(h)})}else l()}};return this.$manager.adapterValidate({required:n.required,message:n.message,trigger:n.trigger},s)},getValidateMessage:function(n,i){var r,s,a,o=Array.isArray(i.rule)?i.rule.join(","):""+i.rule;return this.api.t(i.key==="required"?i.key:"validate."+i.key,(a={},Yn(a,i.key,o),Yn(a,"title",(r=n.refRule)===null||r===void 0||(s=r.__$title)===null||s===void 0?void 0:s.value),a))},validator:function(n,i,r){var s=this,a=Be.empty(i);if(a)return r.required?"required":void 0;for(var o=function(){var f=k7(u[l],2),h=f[0],m=f[1];switch(h){case"len":case"maxLen":case"minLen":var p=function(O){return h==="len"?O===m:h==="maxLen"?O<=m:O>=m};if(Array.isArray(i)){if(!p(i.length))return{v:h}}else{if(Dt(i)==="object")return{v:h};if(!p((""+i).length))return{v:h}}break;case"pattern":var g=typeof m=="string"?new RegExp(m):m;if(!g.test(""+i))return{v:h};break;case"uppercase":if(m&&(typeof i!="string"||!/^[A-Z]*$/.test(i)))return{v:h};break;case"lowercase":if(m&&(typeof i!="string"||!/^[a-z]*$/.test(i)))return{v:h};break;case"min":case"max":case"positive":case"negative":case"integer":case"number":var _=Number(i);if(Number.isNaN(_))return{v:h};if(h==="min"&&_<m)return{v:h};if(h==="max"&&_>m)return{v:h};if(h==="positive"&&_<=0)return{v:h};if(h==="negative"&&_>=0)return{v:h};if(h==="integer"&&!Number.isInteger(_))return{v:h};break;case"equal":if(i!==m)return{v:h};break;case"enum":if(Array.isArray(m)&&!m.includes(i))return{v:h};break;case"hasKeys":if(Dt(i)!=="object"||Array.isArray(m)&&m.some(function(k){return!(k in i)}))return{v:h};break;case"email":var y=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(!y.test(""+i))return{v:h};break;case"url":var b=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i");if(!b.test(""+i))return{v:h};break;case"ip":var A=/^(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})(\.(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})){3}$/;if(!A.test(""+i))return{v:h};break;case"phone":var T=/^(?:(?:\+|00)86)?1[3-9]\d{9}$/;if(!T.test(""+i))return{v:h};break;case"computed":if(!s.compute(n,m))return{v:h};break}},l=0,u=Object.entries(r);l<u.length;l++){var c=o();if(Dt(c)==="object")return c.v}},compute:function(n,i){var r=this,s;if(Dt(i)==="object"){var a=n.getParentGroup(),o=function c(d){if(d=Array.isArray(d)?{mode:"AND",group:d}:d,!Be.trueArray(d.group))return!0;for(var f=d.mode==="OR",h=!0,m=function(y){var b=d.group[y],A=void 0,T=null,k=null;if(b.variable)k=r.fc.getLoadData(b.variable);else if(b.field)T=lS(b.field||"");else if(!b.mode)return{v:!0};if(!b.variable&&!b.field)return{v:!1};var O=b.compare;if(O&&(O=lS(O||"")),b.mode?A=c(b):Uo[b.condition]?Be.Function(b.handler)?A=Tt(function(){return b.handler(r.api,n.rule)}):A=Tt(function(){return new Function("$condition","$variableVal","$val","$form","$scope","$group","$rule","with($form){with($scope){with(this){with($group){ return $condition['".concat(b.condition,"'](").concat(b.variable?"$variableVal":T,", ").concat(O||"$val","); }}}}")).call(r.api.form,Uo,k,b.value,r.api.top.form,r.api.top===r.api.scope?{}:r.api.scope.form,a?r.subRuleData[a.id]||{}:{},n.rule)}):A=!1,f&&A)return{v:!0};f||(h=h&&A)},p=0;p<d.group.length;p++){var g=m(p);if(Dt(g)==="object")return g.v}return f?!1:h},l=o(i);return l=i.invert===!0?!l:l,i.linkage?l?Tt(function(){return r.computeValue(i.linkage,n,a)},void 0):vc:i.linkageVariable?l?Tt(function(){return r.fc.getLoadData(i.linkageVariable)},void 0):vc:l}else if(Be.Function(i))s=function(){return i(r.api.form,r.api,n.rule)};else{var u=n.getParentGroup();s=function(){return r.computeValue(i,n,u)}}return Tt(s,void 0)},computeValue:function(n,i,r){var s=this,a=this,o=Object.keys(this.fc.formulas).reduce(function(l,u){return l[u]=function(){for(var c,d=arguments.length,f=new Array(d),h=0;h<d;h++)f[h]=arguments[h];return(c=a.fc.formulas[u]).call.apply(c,[{that:this,rule:i.rule,api:a.api,fc:a.fc}].concat(f))},l},{});return Tt(function(){return new Function("$formulas","$form","$scope","$group","$rule","$api","with($form){with($scope){with(this){with($group){with($formulas){ return ".concat(n," }}}}}")).call(s.api.form,o,s.api.top.form,s.api.top===s.api.scope?{}:s.api.scope.form,r?s.subRuleData[r.id]||{}:{},i.rule,s.api)},void 0)},updateChildren:function(n,i,r){var s=this;this.deferSyncValue(function(){r&&r.forEach(function(a){(i||[]).indexOf(a)===-1&&a&&!Be.String(a)&&a.__fc__&&a.__fc__.parent===n&&s.rmCtx(a.__fc__)}),Be.trueArray(i)&&(s.loadChildren(i,n),s.bus.$emit("update",s.api))})},rmSub:function(n){var i=this;Be.trueArray(n)&&n.forEach(function(r){r&&r.__fc__&&i.rmCtx(r.__fc__)})},rmCtx:function(n){var i=this;if(!n.deleted){var r=n.id,s=n.field,a=n.input,o=n.name;Ao(this.ctxs,r),Ao(this.formData,r),Ao(this.subForm,r),Ao(this.vm.setupState.ctxInject,r);var l=n.getParentGroup();l&&this.subRuleData[l.id]&&Ao(this.subRuleData[l.id],s),n.group&&Ao(this.subRuleData,r),a&&this.rmIdCtx(n,s,"field"),o&&this.rmIdCtx(n,o,"name"),a&&!tn(this.fieldCtx,s)&&Ao(this.form,s),this.deferSyncValue(function(){if(!i.reloading){if(n.parser.loadChildren!==!1){var c=n.getPending("children",n.rule.children);Be.trueArray(c)&&c.forEach(function(d){return d&&d.__fc__&&i.rmCtx(d.__fc__)})}n.root===i.rules&&i.vm.setupState.renderRule()}},a);var u=this.sort.indexOf(r);return u>-1&&this.sort.splice(u,1),this.$render.clearCache(n),n.delete(),this.effect(n,"deleted"),this.targetHook(n,"deleted"),a&&!this.fieldCtx[s]&&this.vm.emit("remove-field",s,n.rule,this.api),n.rule.__ctrl||this.vm.emit("remove-rule",n.rule,this.api),n}}})}function FH(e){at(e.prototype,{mounted:function(){var n=this,i=function(){n.isMounted=!0,n.lifecycle("mounted")};this.pageEnd?i():this.bus.$once("page-end",i)},lifecycle:function(n){this.fc.targetFormDriver(n,this.api,this.fc),this.vm.emit(n,this.api),this.emitEvent(n,this.api)},emitEvent:function(n){for(var i,r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];var o=this.options[n]||this.options[Mr("on-"+n)];if(o){var l=Cs(o);Be.Function(l)&&Tt(function(){return l.apply(void 0,s)})}(i=this.bus).$emit.apply(i,[n].concat(s))},targetHook:function(n,i,r){var s,a,o=this,l=(s=n.prop)===null||s===void 0||(a=s.hook)===null||a===void 0?void 0:a[i],u=function(g,_){g&&(g=Array.isArray(g)?g:[g],g.forEach(function(y){Tt(function(){return y(Qe(Qe({},r||{}),{},{self:n.rule,rule:n.rule,parent:_==null?void 0:_.rule,$f:o.api,api:o.api,option:o.vm.props.option}))})}))};u(l);for(var c="deep"+yk(i),d=n.parent;d;){var f,h,m=(f=d.prop)===null||f===void 0||(h=f.hook)===null||h===void 0?void 0:h[c];u(m,d),d=d.parent}}})}function $H(e){at(e.prototype,{useProvider:function(){var n=this,i=this.fc.providers;Object.keys(i).forEach(function(r){var s=i[r];Be.Function(s)&&(s=s(n.fc)),s._c=VH(s),n.onEffect(s,r),n.providers[r]=s})},onEffect:function(n,i){var r=this,s=[];(n._c||["*"]).forEach(function(a){var o=a==="*"?"*":r.getType(a);s.indexOf(o)>-1||(s.push(o),r.bus.$on("p:".concat(i||n.name,":").concat(o,":").concat(n.input?1:0),function(l,u){n[l]&&n[l].apply(n,At(u))}))}),n._used=s},watchEffect:function(n){var i=this,r={required:function(){var a,o;return(tn(n.rule,"$required")?n.rule.$required:(a=n.rule)===null||a===void 0||(o=a.effect)===null||o===void 0?void 0:o.required)||!1}};Object.keys(n.rule.effect||{}).forEach(function(s){r[s]=function(){return n.rule.effect[s]}}),Object.keys(n.rule).forEach(function(s){s[0]==="$"&&(r[s.substr(1)]=function(){return n.rule[s]})}),Object.keys(r).forEach(function(s){n.watch.push(De(r[s],function(a){i.effect(n,"watch",Yn({},s,a))},{deep:!0}))})},ruleEffect:function(n,i,r){this.emitEffect({rule:n,input:!!n.field,type:this.getType(n.type)},i,r)},effect:function(n,i,r){this.emitEffect({rule:n.rule,input:n.input,type:n.trueType,ctx:n,custom:r},i)},getEffect:function(n,i){if(tn(n,"$"+i))return n["$"+i];if(tn(n,"effect")&&tn(n.effect,i))return n.effect[i]},emitEffect:function(n,i,r){var s=this,a=n.ctx,o=n.rule,l=n.input,u=n.type,c=n.custom;if(!(!u||["fcFragment","fragment"].indexOf(u)>-1)){var d=c||Object.keys(o).reduce(function(f,h){return h[0]==="$"&&(f[h.substr(1)]=o[h]),f},Qe({},o.effect||{}));Object.keys(d).forEach(function(f){var h=s.providers[f];if(!(!h||h.input&&!l)){var m;if(!h._c)m="*";else if(h._used.indexOf(u)>-1)m=u;else return;var p=Qe({value:d[f],getValue:function(){return s.getEffect(o,f)}},r||{});a&&(p.getProp=function(){return a.effectData(f)},p.clearProp=function(){return a.clearEffectData(f)},p.mergeProp=function(g){return sa(p.getProp(),[g])},p.id=a.id),s.bus.$emit("p:".concat(f,":").concat(m,":").concat(h.input?1:0),i,[p,o,s.api])}})}}})}function UH(e){return e.filter(function(t,n,i){return i.indexOf(t,0)===n})}function VH(e){var t=e.components;if(Array.isArray(t)){var n=UH(t.filter(function(i){return i!=="*"}));return n.length?n:!1}else return Be.String(t)?[t]:!1}function Is(e){var t=this;kk(this,{options:function(){return e.options.value||{}},bus:function(){return e.bus},preview:function(){return e.vm.props.preview!=null?e.vm.props.preview:e.vm.setupState.parent&&e.vm.setupState.parent.props.preview!=null?e.vm.setupState.parent.props.preview:e.options.value.preview||!1}}),at(this,{fc:e,vm:e.vm,watching:!1,loading:!1,reloading:!1,noWatchFn:null,deferSyncFn:null,isMounted:!1,formData:vt({}),subRuleData:vt({}),subForm:{},form:vt({}),appendData:{},ignoreFields:[],providers:{},cycleLoad:null,loadedId:1,nextTick:null,changeStatus:!1,pageEnd:!0,nextReload:function(){t.lifecycle("reload")}}),this.initData(e.rules),this.$manager=new e.manager(this),this.$render=new W_(this),this.api=e.extendApiFn.reduce(function(n,i){var r=Tt(function(){return i(n,t)});return r&&r!==n&&at(n,r),n},AH(this))}at(Is.prototype,{initData:function(t){at(this,{ctxs:{},fieldCtx:{},nameCtx:{},sort:[],rules:t})},init:function(){this.updateAppendData(),this.useProvider(),this.usePage(),this.loadRule(),this.$manager.__init(),this.lifecycle("created")},updateAppendData:function(){this.appendData=Qe(Qe(Qe({},this.options.formData||{}),this.fc.vm.props.modelValue||{}),this.appendData)},isBreakWatch:function(){return this.loading||this.noWatchFn||this.reloading},globalBeforeFetch:function(t){var n=this;return new Promise(function(i,r){var s=n.options.beforeFetch&&Tt(function(){return n.options.beforeFetch(t,{api:n.api})});s&&Be.Function(s.then)?s.then(i).catch(r):i()})},beforeFetch:function(t){var n=this;return new Promise(function(i,r){var s=t&&t.beforeFetch&&Tt(function(){return t.beforeFetch(t,{api:n.api})});s&&Be.Function(s.then)?s.then(i).catch(r):s===!1?r():i()}).then(function(){return n.globalBeforeFetch(t)})},beforeSubmit:function(t){var n=this;return new Promise(function(i,r){var s=n.options.beforeSubmit&&Tt(function(){return n.options.beforeSubmit(t,{api:n.api})});s&&Be.Function(s.then)?s.then(i).catch(r):s===!1?r():i()})}});CH(Is);wH(Is);kH(Is);IH(Is);MH(Is);BH(Is);FH(Is);$H(Is);var jH="fcFragment",Kg=Se({name:jH,inheritAttrs:!1,props:["vnode"],render:function(){return this.vnode}});function HH(e){return Object.keys(e).map(function(t){var n=e[t],i=Uh(t);if(i)return[i,n.value,n.arg,n.modifiers]}).filter(function(t){return!!t})}function pS(e,t){var n=e.directives;return n?(Array.isArray(n)||(n=[n]),un(t,n.reduce(function(i,r){return i.concat(HH(r))},[]))):t}function zH(){var e={};function t(n){this.vm=n.vm,this.handle=n}return at(t.prototype,{make:function(i,r,s){return pS(r,this.h(i,aS(r),s))},makeComponent:function(i,r,s){try{return pS(r,x(i,aS(r),s))}catch(a){return console.error(a),x("")}},h:function(i,r,s){var a=this.vm||mn(),o=a.appContext.config.isNativeTag(i),l=this.handle.fc.prop.components[i];!l&&o&&delete r.formCreateInject;try{return x(l||(o?i:Kt(i)),r,s)}catch(u){return console.error(u),x("")}},aliasMap:e}),at(t,{aliasMap:e,alias:function(i,r){e[i]=r},use:function(i){Object.keys(i).forEach(function(r){var s=ld(r),a=iH(r).toLocaleLowerCase(),o=i[r];t.alias(r,o),[r,s,a].forEach(function(l){t.prototype[l]=function(u,c){return this.make(e[r]||l,u,c)}})})}}),t}function qH(e){var t=(function(n){x7(r,n);var i=D7(r);function r(){return S7(this,r),i.apply(this,arguments)}return r})(Mk);return Object.assign(t.prototype,e),t}function Mk(e){at(this,{$handle:e,vm:e.vm,options:{},ref:"fcForm",mergeOptionsRule:{normal:["form","row","info","submitBtn","resetBtn"]}}),this.updateKey(),this.init()}at(Mk.prototype,{__init:function(){var t=this;this.$render=this.$handle.$render,this.$r=function(){var n;return(n=t.$render).renderRule.apply(n,arguments)}},updateKey:function(){this.key=um()},init:function(){},update:function(){},beforeRender:function(){},form:function(){return this.vm.refs[this.ref]},adapterValidate:function(t,n){return t.validator=function(i,r,s){return n(r,s)},t},getSlot:function(t){var n=function i(r){if(r){var s=r.slots[t];return s||i(r.setupState.parent)}};return n(this.vm)},mergeOptions:function(t,n){var i=this;return $o(t.map(function(r){return i.tidyOptions(r)}),n,this.mergeOptionsRule)},updateOptions:function(t){this.$handle.fc.targetFormDriver("updateOptions",t,{handle:this.$handle,api:this.$handle.api}),this.options=this.mergeOptions([t],this.getDefaultOptions()),this.update()},tidyOptions:function(t){return t},tidyRule:function(t){},mergeProp:function(t){},getDefaultOptions:function(){return{}},fieldChange:function(t,n,i,r){},render:function(t){}});var WH=function(t){var n={name:"loadData",_fn:[],loaded:function(r,s,a){var o=this;this.deleted(r),Ke(function(){var l=Qo(r.getValue()),u=[];l.forEach(function(c){if(c&&(c.attr||c.template)){var d=function(p){var g;s&&s.__fc__&&(g=s.__fc__.getParentGroup());var _;c.template?_=t.$handle.loadStrVar(c.template,p,g?{rule:s,value:t.$handle.subRuleData[g.id]||{}}:null):c.handler&&Be.Function(c.handler)?_=c.handler(p,s,a):_=t.$handle.loadStrVar("{{".concat(c.attr,"}}"),p,g?{rule:s,value:t.$handle.subRuleData[g.id]||{}}:null),(_==null||_==="")&&c.default!=null&&(_=c.default),c.copy!==!1&&(_=jr(_));var y=c.modify?s:r.getProp();c.to==="child"?y.children?y.children[0]=_:y.children=[_]:Ja(y,c.to||"options",_),a.sync(s)},f=function(p){return d(p)},h=t.watchLoadData(f);d=Xa(d,c.wait||300),c.watch!==!1?u.push(h):h()}}),o._fn[r.id]=u})},deleted:function(r){this._fn[r.id]&&(this._fn[r.id].forEach(function(s){s()}),delete this._fn[r.id]),r.clearProp()}};return n.watch=n.loaded,n},GH=function(t){var n={name:"t",_fn:[],loaded:function(r,s,a){this.deleted(r);var o=r.getValue()||{},l=[];Object.keys(o).forEach(function(u){var c=o[u];if(c){var d=Dt(c)==="object",f=function(g){var _=t.t(d?c.attr:c,d?c.params:null,g),y=d&&c.modify?s:r.getProp();u==="child"?y.children?y.children[0]=_:y.children=[_]:Ja(y,u,_),a.sync(s)},h=function(g){return f(g)},m=t.watchLoadData(h);f=Xa(f,c.wait||300),c.watch!==!1?l.push(m):m()}}),this._fn[r.id]=l},deleted:function(r){this._fn[r.id]&&(this._fn[r.id].forEach(function(s){s()}),delete this._fn[r.id]),r.clearProp()}};return n.watch=n.loaded,n},N0={name:"componentValidate",load:function(t,n,i){var r=t.getValue();if(!r||r.method===!1)t.clearProp(),i.clearValidateState([n.field]);else{Be.Object(r)||(r={method:r});var s=r.method,a=Qe(Qe({},r),{},{validator:function(){var l=Ws(n);if(l){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return i.exec.apply(i,[l.id,Be.String(s)?s:"formCreateValidate"].concat(c,[{attr:t,rule:n,api:i}]))}}});delete a.method,t.getProp().validate=[a]}},watch:function(){N0.load.apply(N0,arguments)}},YH=function(t){function n(s){return Be.String(s)&&(s={action:s,to:"options"}),s}function i(s,a,o){var l=s.value;r.deleted(s),Be.Function(l)&&(l=l(a,o)),l=n(l);var u=function(h){h===void 0?s.clearProp():Ja(s.getProp(),l.to||"options",h),h!=null&&l&&l.key&&t.$handle.options.globalData[l.key]&&t.fetchCache.set(t.$handle.options.globalData[l.key],{status:!0,data:h}),o.sync(a)};if(!l||!l.action&&!l.key){u(void 0);return}l=jr(l),l.to||(l.to="options");var c=l.onError,d=function(){if(!s.getValue())return s.clearProp(),o.sync(a),!0};r._fn[s.id]=t.watchLoadData(Xa(function(f,h){if(h&&l.watch===!1)return r._fn[s.id]();if(l.key){t.targetRule=a;var m=f("$globalData."+l.key);if(delete t.targetRule,m){if(d())return;u(m)}return}var p=t.$handle.loadFetchVar(jr(l),f,a),g=Qe(Qe({headers:{}},p),{},{onSuccess:function(y,b){if(!d()){var A=function(O){return b?O:tn(O,"data")?O.data:O},T=Cs(p.parse);Be.Function(T)?A=T:T&&Be.String(T)&&(A=function(O){return Ci(O,T)}),np(A(y,a,o)).then(function(k){u(k)})}},onError:function(y){u(void 0),!d()&&(c||function(b){return z_(b.message||"fetch fail "+p.action)})(y,a,o)}});t.$handle.beforeFetch(g,{rule:a,api:o}).then(function(){if(Be.Function(p.action)){np(p.action(a,o)).then(function(_){g.onSuccess(_,!0)}).catch(function(_){g.onError(_)});return}Tt(function(){return t.create.fetch(g,{inject:s,rule:a,api:o})})}).catch(function(_){})},l.wait||600))}var r={name:"fetch",_fn:[],loaded:function(){i.apply(void 0,arguments)},watch:function(){i.apply(void 0,arguments)},deleted:function(a){this._fn[a.id]&&(this._fn[a.id](),delete this._fn[a.id]),a.clearProp()}};return r},KH={fetch:YH,loadData:WH,t:GH,componentValidate:N0};function XH(e){e=e||new Map;var t={$on:function(i,r){var s=e.get(i),a=s&&s.push(r);a||e.set(i,[r])},$once:function(i,r){r._once=!0,t.$on(i,r)},$off:function(i,r){var s=e.get(i);s&&s.splice(s.indexOf(r)>>>0,1)},$emit:function(i){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];(e.get(i)||[]).slice().map(function(o){o._once&&(t.$off(i,o),delete o._once),o.apply(void 0,s)}),(e.get("*")||[]).slice().map(function(o){o(i,s)})}};return t}var QH="html",JH={name:QH,loadChildren:!1,render:function(t,n){return n.prop.props.innerHTML=t.default(),n.vNode.make(n.prop.props.tag||"div",n.prop)},renderChildren:function(t){return{default:function(){return t.filter(function(i){return Be.String(i)}).join("")}}}};function ZH(e){e=e+"=";for(var t=decodeURIComponent(document.cookie),n=t.split(";"),i=0;i<n.length;i++){for(var r=n[i];r.charAt(0)===" ";)r=r.substring(1);if(r.indexOf(e)===0){r=r.substring(e.length,r.length);try{return JSON.parse(r)}catch(s){return r}}}return null}function ez(e){var t=localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(n){return t}return null}function tz(e){var t=sessionStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(n){return t}return null}function G_(e,t){if(!t)return null;var n=t.split("."),i=e(n.shift());return n.length?i==null?null:Ci(i,n):i}function nz(e){return G_(ZH,e)}function iz(e){return G_(ez,e)}function rz(e){return G_(tz,e)}var sz={en:{required:"{title} is required",validate:{url:"{title} is not a valid url",email:"{title} is not a valid email",ip:"{title} {title} is not a valid ip",phone:"{title} {title} is not a valid phone",pattern:"{title} does not match pattern {pattern}",uppercase:"{title} must be all uppercase",lowercase:"{title} must be all lowercased",positive:"{title} is not a positive number",negative:"{title} is not a negative number",equal:"{title} is not equal to {equal}",min:"{title} cannot be less than {min}",max:"{title} cannot be greater than {max}",enum:"{title} must be one of {enum}",hasKeys:"{title} does not contain required fields {hasKeys}",minLen:"{title} must be at least {minLen}",maxLen:"{title} cannot be longer than {maxLen}",len:"{title} must be exactly {len}",integer:"{title} is not an integer",number:"{title} is not an number"}},"zh-cn":{required:"{title}",validate:{url:"{title} url ",email:"{title}",ip:"{title} IP ",phone:"{title}",pattern:"{title} {pattern}",uppercase:"{title}",lowercase:"{title}",positive:"{title}",negative:"{title}",equal:"{title} {equal}",min:"{title} {min}",max:"{title} {max}",enum:"{title} {enum} ",hasKeys:"{title} {hasKeys} ",minLen:"{title} {minLen}",maxLen:"{title} {maxLen}",len:"{title} {len}",integer:"{title}",number:"{title}"}}};function az(e,t){var n;return arguments.length===2?(n=arguments[1],t=n[e]):n=arguments[2],{id:t,prop:n}}function Xg(){return az.apply(void 0,["name"].concat(Array.prototype.slice.call(arguments)))}function oz(e){var t=e.key||[],n=e.array||[],i=e.normal||[];L0.push.apply(L0,At(t)),ip.push.apply(ip,At(n)),rp.push.apply(rp,At(i)),Pk([].concat(At(t),At(n),At(i)))}var lz=1,nr={},mS=Symbol("defValue");function Nk(e){var t=Yn({},Kg.name,Kg),n={},i={},r={},s={},a=[],o=[],l=[e.extendApi],u=Qe({},KH),c=bH(),d={global:{}},f=e.isMobile===!0,h=vt({$mobile:f}),m=zH(),p={},g={};oz(e.attrs||{});function _(X){var Z=nr[X];if(Array.isArray(Z))return Z.map(function(he){return he.api()});if(Z)return Z.api()}function y(X){a.push(X)}function b(){var X=Xg.apply(void 0,arguments);X.id&&X.prop&&(i[X.id]=X.prop)}function A(){var X=Xg.apply(void 0,arguments);X.id&&X.prop&&(u[X.id]=Be.Function(X.prop)?X.prop:Qe(Qe({},X.prop),{},{name:X.id}))}function T(X){m.use(X)}function k(){var X=Xg.apply(void 0,arguments);if(!X.id||!X.prop)return Th;var Z=Mr(X.id),he=X.prop,H=he.merge===!0?n[Z]:void 0;n[Z]=Qf(he,H||Th),c[Z]=cm(Z),he.maker&&at(c,he.maker)}function O(X,Z){var he;if(Be.String(X)){if(he=X,Z===void 0)return t[he]}else he=X.displayName||X.name,Z=X;if(!(!he||!Z)){var H=Mr(he);t[he]=Z,t[H]=Z,delete m.aliasMap[he],delete m.aliasMap[H],delete n[he],delete n[H],Z.formCreateParser&&k(he,Z.formCreateParser)}}function I(){return vH(ye,t,i)}function w(X,Z){var he=I();return g_({data:function(){return vt({rule:X,option:Z})},render:function(){return Es(he,Qe({ref:"fc"},this.$data))}})}function D(){return Kg}function R(X,Z){return Be.Function(X.install)?X.install(L,Z):Be.Function(X)&&X(L,Z),this}function L(X,Z){var he=w(X,Z||{});a.forEach(function(se){Tt(function(){return se(L,he)})});var H=document.createElement("div");((Z==null?void 0:Z.el)||document.body).appendChild(H);var K=he.mount(H);return K.$refs.fc.fapi}Qf(L,g);function B(X){var Z=Qe({},e);return X?Z.inherit={components:t,parsers:n,directives:i,modelFields:r,providers:u,useApps:a,maker:c,formulas:p,loadData:h}:delete Z.inherit,Nk(Z)}function N(X,Z){r[X]=Z}function $(X,Z){p[X]=Z}function F(X,Z){var he=s[X]||{},H=he.parsers||{};Z.parsers&&Object.keys(Z.parsers).forEach(function(K){H[K]=Qf(Z.parsers[K],Th)}),Z.name=X,s[X]=Qe(Qe(Qe({},he),Z),{},{parsers:H})}function V(X){X&&Object.keys(nr).forEach(function(Z){var he=Array.isArray(nr[Z])?nr[Z]:[nr[Z]];he.forEach(function(H){H.bus.$emit("$loadData."+X)})})}function U(X,Z){Ja(h,X,Z),V(X)}function Y(X,Z){var he=function(){for(var K=arguments.length,se=new Array(K),_e=0;_e<K;_e++)se[_e]=arguments[_e];return Tt(function(){return Z.apply(void 0,se)})};he._driver=!0,U(X,he)}function ne(X,Z){var he=(X||"").split(".");X=he.shift();var H=he.join(".");if(tn(h,X)||(h[X]=mS),h[X]!==mS){var K=h[X];return K&&K._driver?K=K(H):he.length&&(K=Ci(K,he)),K==null||K===""?Z:K}else return Z}function z(X){l.push(X)}function W(X){delete h[X],V(X)}function le(X,Z){o.push({name:X,callback:Z})}function ye(X){var Z=this;at(this,{id:lz++,create:L,vm:X,manager:qH(e.manager),parsers:n,providers:u,modelFields:r,formulas:p,isMobile:f,rules:X.props.rule,name:X.props.name||um(),inFor:X.props.inFor,prop:{components:t,directives:i},get:null,drivers:s,renderDriver:null,refreshData:V,loadData:h,CreateNode:m,bus:new XH,unwatch:[],options:ie({}),extendApiFn:l,fetchCache:new WeakMap,tmpData:vt({})}),o.forEach(function(he){Z.bus.$on(he.name,he.callback)}),Ke(function(){De(Z.options,function(){Z.$handle.$manager.updateOptions(Z.options.value),Z.api().refresh()},{deep:!0})}),at(X.appContext.components,t),at(X.appContext.directives,i),this.$handle=new Is(this),this.name&&(this.inFor?(nr[this.name]||(nr[this.name]=[]),nr[this.name].push(this)):nr[this.name]=this)}ye.isMobile=f,at(ye.prototype,{init:function(){var Z=this;this.isSub()&&this.unwatch.push(De(function(){return Z.vm.setupState.parent.setupState.fc.options.value},function(){Z.initOptions(),Z.$handle.api.refresh()},{deep:!0,flush:"sync"})),this.vm.props.driver&&(this.renderDriver=Dt(this.vm.props.driver)==="object"?this.vm.props.driver:this.drivers[this.vm.props.driver]),!this.renderDriver&&this.vm.setupState.parent&&(this.renderDriver=this.vm.setupState.parent.setupState.fc.renderDriver),this.renderDriver||(this.renderDriver=this.drivers.default),this.initOptions(),this.$handle.init()},targetFormDriver:function(Z){for(var he,H=this,K=arguments.length,se=new Array(K>1?K-1:0),_e=1;_e<K;_e++)se[_e-1]=arguments[_e];if((he=this.bus).$emit.apply(he,[Z].concat(se)),this.renderDriver&&this.renderDriver[Z])return Tt(function(){var Ae;return(Ae=H.renderDriver)[Z].apply(Ae,se)})},t:function(Z,he,H){var K=H?H("$t."+Z):this.globalLanguageDriver(Z);return K==null&&(K=""),K&&he&&Object.keys(he).forEach(function(se){var _e=new RegExp("{".concat(se,"}"),"g");K=K.replace(_e,he[se])}),K},globalDataDriver:function(Z){var he=this,H=Z.split("."),K=H.shift(),se=this.options.value.globalData&&this.options.value.globalData[K];if(se){if(se.type==="static")return Ci(se.data,H);var _e,Ae=this.fetchCache.get(se);if(Ae){if(Ae.status&&(_e=Ci(Ae.data,H)),!Ae.loading)return _e;Ae.loading=!1,this.fetchCache.set(se,Ae)}else this.fetchCache.set(se,{status:!1});var Ce=Xa(function(){ce();var me=he.fetchCache.get(se);he.options.value.globalData&&Object.values(he.options.value.globalData).indexOf(se)!==-1?(me&&(me.loading=!0,he.fetchCache.set(se,me)),he.bus.$emit("$loadData.$globalData."+K)):he.fetchCache.delete(se)},se.wait||600),Q=function(Ne){he.fetchCache.set(se,{status:!0,data:Ne}),he.bus.$emit("$loadData.$globalData."+K)},te=function(Ne,Pe){if(Pe&&se.watch===!1)return ce();if(Pe){Ce();return}var pe=he.$handle.loadFetchVar(I0(se),Ne);pe.targetRule=he.targetRule,he.$handle.api.fetch(pe).then(function(xe){Q(xe)}).catch(function(xe){Q(null)})},ce=this.watchLoadData(te);return se.watch===!1&&ce(),this.unwatch.push(ce),_e}},getLocale:function(){var Z=this.vm.setupState.top.props.locale;return Z&&Dt(Z)==="object"?Z.name:typeof Z=="string"?Z:"zh-cn"},globalLanguageDriver:function(Z){var he=this.vm.setupState.top.props.t,H=this.vm.setupState.top.props.locale,K=void 0;if(he&&(K=Tt(function(){return he(Z)})),K==null&&H&&Dt(H)==="object"&&(K=Ci(H,Z)),K==null){var se=this.options.value.language||{},_e=this.getLocale();K=Ci(se[_e]||{},Z),K==null&&(K=Ci(sz[_e]||{},Z))}return K},globalVarDriver:function(Z){var he=this,H=Z.split("."),K=H.shift(),se=this.options.value.globalVariable&&this.options.value.globalVariable[K];if(se){var _e=Be.Function(se)?se:Cs(se.handle);if(_e){var Ae=_e(function(){var Ce;return(Ce=he.$handle.api).getData.apply(Ce,arguments)},this.$handle.api);return Ci(Ae,H)}}},setData:function(Z,he,H){H?U(Z,he):(Ja(this.vm.setupState.top.setupState.fc.tmpData,Z,he),this.bus.$emit("$loadData."+Z))},getLoadData:function(Z,he){var H=null;if(Z!=null){var K=Z.split("."),se=K.shift();if(H=Ci(this.vm.setupState.top.setupState.fc.tmpData,Z),H!=null)return H;if(se==="$topForm")H=this.$handle.api.top.formData(!0);else if(se==="$scopeForm")H=this.$handle.api.scope.formData(!0);else if(se==="$form")H=this.$handle.api.formData(!0);else if(se==="$options")H=this.options.value;else if(se==="$globalData")H=this.globalDataDriver(K.join(".")),K=[];else if(se==="$var")H=this.globalVarDriver(K.join(".")),K=[];else if(se==="$locale")H=this.getLocale(),K=[];else if(se==="$t")H=this.globalLanguageDriver(K.join(".")),K=[];else{if(se==="$preview")return this.$handle.preview;H=ne(Z),K=[]}H&&K.length&&(H=Ci(H,K))}return H==null||H===""?he:H},watchLoadData:function(Z,he){var H=this,K={},se=function(Q){H.get||(H.get=_e),Tt(function(){Z(_e,Q)}),H.get===_e&&(H.get=void 0)},_e=function(Q,te){var ce;if(Dt(Q)==="object"&&(ce=Q.getValue,Q=Q.id),K[Q])return K[Q].val;var me=fe(function(){return ce?ce():H.getLoadData(Q,te)}),Ne=Q.split("."),Pe=Ne.shift(),pe=Ne.shift()||"",xe=Xa(function(){var Xe=ce?ce():H.getLoadData(Q,te);if(K[Q])((Xe instanceof Function||Be.Object(Xe)||Array.isArray(Xe))&&Xe===K[Q].val||JSON.stringify(Xe)!==JSON.stringify(K[Q].val))&&(K[Q].val=Xe,se(!0));else return},he||0),We=De(me,function(Xe){xe()});return H.bus.$on("$loadData."+Pe,xe),pe&&H.bus.$on("$loadData."+Pe+"."+pe,xe),K[Q]={fn:function(){H.bus.$off("$loadData."+Pe,xe),pe&&H.bus.$off("$loadData."+Pe+"."+pe,xe),We()},val:me.value},me.value};se(!1);var Ae=function(){Object.keys(K).forEach(function(Q){return K[Q].fn()}),K={}};return this.unwatch.push(Ae),Ae},isSub:function(){return this.vm.setupState.parent&&this.vm.props.extendOption},initOptions:function(){this.options.value={};var Z=Qe({formData:{},submitBtn:{},resetBtn:{},globalEvent:{},globalData:{}},jr(d)),he=this.isSub();he&&(Z=this.mergeOptions(Z,this.vm.setupState.parent.setupState.fc.options.value||{},!0)),Z=this.mergeOptions(Z,this.vm.props.option);var H=this.api();this.targetFormDriver("initOptions",Z,{api:H,isSubForm:he}),this.updateOptions(Z)},mergeOptions:function(Z,he,H){return he=Qe({},he||{}),H&&["page","onSubmit","onReset","onCreated","onChange","onMounted","mounted","onReload","reload","formData","el","globalClass","style"].forEach(function(K){delete he[K]}),he.global&&(Z.global=mH(Z.global,he.global),delete he.global),this.$handle.$manager.mergeOptions([he],Z),Z},updateOptions:function(Z){this.options.value=this.mergeOptions(this.options.value,Z),this.$handle.$manager.updateOptions(this.options.value),this.bus.$emit("$loadData.$options")},api:function(){return this.$handle.api},render:function(){return this.$handle.render()},mounted:function(){this.$handle.mounted()},unmount:function(){var Z=this;if(this.name)if(this.inFor){var he=nr[this.name].indexOf(this);nr[this.name].splice(he,1)}else delete nr[this.name];o.forEach(function(H){Z.bus.$off(H.name,H.callback)}),this.tmpData={},this.unwatch.forEach(function(H){return H()}),this.unwatch=[],this.$handle.reloadRule([])},updated:function(){var Z=this;this.$handle.bindNextTick(function(){return Z.bus.$emit("next-tick",Z.$handle.api)})}});function ae(X){at(X,{version:e.version,ui:e.ui,isMobile:f,extendApi:z,getData:ne,setDataDriver:Y,setData:U,removeData:W,refreshData:V,maker:c,component:O,directive:b,setModelField:N,setFormula:$,setDriver:F,register:A,$vnode:D,parser:k,use:R,factory:B,componentAlias:T,copyRule:wk,copyRules:Dk,mergeRule:sa,fetch:Rk,$form:I,parseFn:Cs,parseJson:bk,toJson:ud,useApp:y,getApi:_,on:le})}function ke(X){at(X,{create:L,install:function(he,H){d=Qe(Qe({},d),H||{});var K="_installedFormCreate_"+e.ui;if(he[K]!==!0){he[K]=!0;var se=function(Ce){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return L(Ce,Q)};ae(se),he.config.globalProperties.$formCreate=se;var _e=I();he.component(_e.name,_e),a.forEach(function(Ae){Tt(function(){return Ae(X,he)})})}}})}if(ae(g),ke(g),Y("$cookie",nz),Y("$localStorage",iz),Y("$sessionStorage",rz),m.use({fragment:"fcFragment"}),e.install&&L.use(e),y(function(X,Z){Z.mixin({props:["formCreateInject"]})}),k(JH),e.inherit){var q=e.inherit;q.components&&at(t,q.components),q.parsers&&at(n,q.parsers),q.directives&&at(i,q.directives),q.modelFields&&at(r,q.modelFields),q.providers&&at(u,q.providers),q.useApps&&at(a,q.useApps),q.maker&&at(c,q.maker),q.loadData&&at(h,q.loadData),q.formulas&&at(p,q.formulas)}var ve=I();return Qf(ve,g),Object.defineProperties(ve,{fetch:{get:function(){return g.fetch},set:function(Z){g.fetch=Z}}}),ve.util=g,ve}var Qg="hidden",uz={name:Qg,maker:Yn({},Qg,function(e,t){return cm(Qg)("",e,t)}),render:function(){return[]}},cz={name:"FcRow",render:function(t,n){return n.vNode.col({props:{span:24}},{default:function(){return[n.vNode.row(n.prop,t)]}})}},dz={name:"checkbox",mergeProp:function(t){var n=t.prop.props;tn(n,"options")||(n.options=t.prop.options||[])}},fz={name:"radio",mergeProp:function(t){var n=t.prop.props;tn(n,"options")||(n.options=t.prop.options||[])}},hz={name:"select",mergeProp:function(t){var n=t.prop.props;tn(n,"options")||(n.options=t.prop.options||[])}},pz={name:"cascader",mergeProp:function(t){var n=t.prop.props;tn(n,"options")||(n.options=t.prop.options||[])}},mz={name:"textarea",mergeProp:function(t){var n=t.prop.props;n.type="textarea"}},gz=[uz,cz,pz,dz,fz,hz,mz],Ai="van",vz={button:Ai+"-button",icon:Ai+"-icon",slider:Ai+"-slider",stepper:Ai+"-stepper",inputNumber:Ai+"-stepper",rate:Ai+"-rate",uploader:"fc-uploader",upload:"fc-uploader",cell:Ai+"-cell",timePicker:"fc-time-picker",datePicker:"fc-date-picker",switch:Ai+"-switch",select:"fc-select",cascader:"fc-cascader",calendar:"fc-calendar",checkbox:"fc-checkbox",radio:"fc-radio",input:Ai+"-field",textarea:Ai+"-field",field:Ai+"-field",formItem:Ai+"-field",form:Ai+"-form",col:Ai+"-col",row:Ai+"-row",group:"fc-group",array:"fc-group",object:"fc-sub-form",subForm:"fc-sub-form"};function yz(){return{form:{required:"auto",labelAlign:"right",inputAlign:"right"},row:{show:!0,gutter:0},submitBtn:{type:"primary",loading:!1,disabled:!1,block:!0,innerText:"",size:"small",show:!0,col:void 0,click:void 0},resetBtn:{type:"default",loading:!1,disabled:!1,block:!0,innerText:"",size:"small",show:!1,col:void 0,click:void 0}}}function gS(e,t){if(tn(e,t)&&Be.String(e[t])){var n;e[t]=(n={},Yn(n,t,e[t]),Yn(n,"show",!0),n)}}function Vs(e){return e===!1}function _z(e,t){tn(e,t)&&!Be.Object(e[t])&&(e[t]={show:!!e[t]})}function vS(e){var t=Qe({},e);return delete t.children,t}var bz={validate:function(){var t=this.form();return t?t.validate():new Promise(function(n){return n()})},validateField:function(t){var n=this;return new Promise(function(i,r){var s=n.form();s?s.validate(t).then(i).catch(r):i()})},clearValidateState:function(t){var n=this.form();if(n)return n.resetValidation(t.id)},tidyOptions:function(t){return["submitBtn","resetBtn","row","info","wrap","col","title"].forEach(function(n){_z(t,n)}),t},tidyRule:function(t){var n=t.prop;return gS(n,"title"),gS(n,"info"),n.validate&&n.validate.forEach(function(i){Be.String(i.pattern)&&(i.pattern=new RegExp(i.pattern))}),n},mergeProp:function(t){var n=this,i={info:{icon:!0},title:{},col:{span:24},wrap:{}};["info","wrap","col","title"].forEach(function(r){t.prop[r]=$o([n.options[r]||{},t.prop[r]||{}],i[r])})},getDefaultOptions:function(){return yz()},adapterValidate:function(t,n){return t.trigger==="change"?t.trigger="onChange":t.trigger==="blur"&&(t.trigger="onBlur"),t.validator=function(i){return new Promise(function(r){var s=function(o){t.message=o,o?r(!1):r()};return n(i,s)})},t},update:function(){var t=this.options.form;this.rule={props:Qe({},t),on:{submit:function(i){i.preventDefault()}},style:t.style,type:"form"}},beforeRender:function(){var t=this.key,n=this.ref,i=this.options.form;at(this.rule,{key:t,ref:n,class:[i.className,i.class,"form-create-m",this.$handle.preview?"is-preview":""]})},render:function(t){var n=this;return t.slotLen()&&!this.$handle.preview&&t.setSlot(void 0,function(){return n.makeFormBtn()}),this.$r(this.rule,Vs(this.options.row.show)?t.getSlots():[this.makeRow(t)])},makeWrap:function(t,n){var i=this,r=t.prop,s="".concat(this.key).concat(t.key),a=r.col,o=this.isTitle(r)&&r.wrap.title!==!1,l=this.rule.props.col,u=r.wrap.class;delete r.wrap.class,delete r.wrap.title;var c=Vs(r.wrap.show)?n:this.$r($o([r.wrap,{props:Qe(Qe({modelValue:t.rule.value,label:o?r.title.title:void 0},vS(r.wrap||{})),{},{name:t.id,rules:t.injectValidate()}),class:this.$render.mergeClass(u||r.className,"fc-form-item"),key:"".concat(s,"fi"),ref:t.wrapRef,type:"formItem"}]),Qe({input:function(){return n}},o?{label:function(){return i.makeInfo(r,s,t)}}:{}));return Vs(l)||Vs(a.show)?c:this.makeCol(r,s,[c])},isTitle:function(t){if(this.options.form.title===!1)return!1;var n=t.title;return!(!n.title&&!n.native||Vs(n.show))},makeInfo:function(t,n,i){var r,s,a,o,l=Qe({},t.title),u=Qe({},t.info),c=this.getSlot("title"),d=[c?c({title:(r=i.refRule)===null||r===void 0||(s=r.__$title)===null||s===void 0?void 0:s.value,rule:i.rule,options:this.options}):(a=i.refRule)===null||a===void 0||(o=a.__$title)===null||o===void 0?void 0:o.value],f=!Vs(u.show)&&(u.info||u.native)&&!Vs(u.icon);f&&d[u.align!=="left"?"unshift":"push"](this.$r({type:u.icon===!0?"icon-warning":u.icon,style:"width:1em;"}));var h=$o([l,{props:vS(l),key:"".concat(n,"tit"),class:"fc-form-title",type:l.type||"span"}]);return f&&u.info&&!h.props.onClick&&(h.props.onClick=function(){var m,p;Xo({type:"warning",message:(m=i.refRule)===null||m===void 0||(p=m.__$info)===null||p===void 0?void 0:p.value,duration:1e3})}),delete h.props.show,delete h.props.title,delete h.props.native,this.$r(h,d)},makeCol:function(t,n,i){var r=t.col;return this.$r({class:this.$render.mergeClass(r.class,"fc-form-col"),type:"col",props:r||{span:24},key:"".concat(n,"col")},i)},makeRow:function(t){var n=this.options.row||{};return this.$r({type:"row",props:n,class:this.$render.mergeClass(n.class,"fc-form-row"),key:"".concat(this.key,"row")},t)},makeFormBtn:function(){var t=[];if(Vs(this.options.submitBtn.show)||t.push(this.makeSubmitBtn()),Vs(this.options.resetBtn.show)||t.push(this.makeResetBtn()),!!t.length)return this.$r({type:"cell",class:"fc-form-cell fc-form-footer",key:"".concat(this.key,"fb")},t)},makeResetBtn:function(){var t=this,n=Qe({},this.options.resetBtn),i=n.innerText||this.$handle.api.t("reset")||"";return delete n.innerText,delete n.click,delete n.col,delete n.show,this.$r({type:"button",props:n,class:"fc-reset-btn",style:{width:n.width},on:{click:function(){var s=t.$handle.api;t.options.resetBtn.click?t.options.resetBtn.click(s):s.resetFields()}},key:"".concat(this.key,"b2")},[i])},makeSubmitBtn:function(){var t=this,n=Qe({},this.options.submitBtn),i=n.innerText||this.$handle.api.t("submit")||"";return delete n.innerText,delete n.click,delete n.col,delete n.show,this.$r({type:"button",props:n,class:"fc-submit-btn",style:{width:n.width},on:{click:function(){var s=t.$handle.api;t.options.submitBtn.click?t.options.submitBtn.click(s):s.submit().catch(function(){})}},key:"".concat(this.key,"b1")},[i])}};function Tz(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var Az='.form-create-m{width:100%}.form-create-m .fc-none,.form-create-m.is-preview .fc-clock{display:none!important}.form-create-m .van-field:has(.van-field__value>.van-field__body>.van-field__control>.van-field):after{display:none}.form-create-m .van-field>.van-field__value>.van-field__body>.van-field__control>*>.van-field:after,.form-create-m .van-field>.van-field__value>.van-field__body>.van-field__control>.van-field:after{display:block;left:0;right:0}.form-create-m .fc-form-item>.van-field__value>.van-field__body>.van-field__control>.van-cell{padding:0}.form-create-m .fc-form-item .fc-form-item{--van-padding-md:0;padding-left:0;padding-right:0}.form-create-m>.van-row>.van-col--24:last-of-type>.van-cell:last-of-type:after{display:none}.form-create-m .fc-reset-btn{margin-top:12px}.form-create-m .fc-form-title{align-items:center;display:inline-flex}.form-create-m.is-preview .van-field__label--required:before{display:none}._fc-m-group{align-items:flex-end;display:flex;flex-direction:column;justify-content:center;min-height:38px;width:100%}._fc-m-group-disabled ._fc-m-group-add,._fc-m-group-disabled ._fc-m-group-btn{cursor:not-allowed}._fc-m-group-handle{background-color:#fff;border:1px dashed #d9d9d9;border-radius:15px;bottom:-15px;display:flex;flex-direction:row;padding:3px 8px;position:absolute;right:30px;transform:scale(1.1)}._fc-m-group-btn{cursor:pointer}._fc-m-group-idx{align-items:center;background:#eee;border-radius:15px;bottom:-15px;display:flex;font-weight:700;height:30px;justify-content:center;left:10px;position:absolute;width:30px}._fc-m-group-handle ._fc-m-group-btn+._fc-m-group-btn{margin-left:7px}._fc-m-group-container{border:1px dashed #d9d9d9;border-radius:5px;box-sizing:border-box;display:flex;flex-direction:column;margin-bottom:25px;padding:5px 5px 25px;position:relative;width:100%}._fc-m-group-arrow{height:20px;position:relative;width:20px}._fc-m-group-arrow:before{border-left:2px solid #999;border-top:2px solid #999;content:"";height:9px;left:5px;position:absolute;top:8px;transform:rotate(45deg);width:9px}._fc-m-group-arrow._fc-m-group-down{transform:rotate(180deg)}._fc-m-group-plus-minus{cursor:pointer;height:20px;position:relative;width:20px}._fc-m-group-plus-minus:after,._fc-m-group-plus-minus:before{background-color:#409eff;content:"";height:2px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:60%}._fc-m-group-plus-minus:before{transform:translate(-50%,-50%) rotate(90deg)}._fc-m-group-plus-minus._fc-m-group-minus:before{display:none}._fc-m-group-plus-minus._fc-m-group-minus:after{background-color:#f56c6c}._fc-m-group-add{border:1px solid rgba(64,158,255,.5);border-radius:15px;cursor:pointer;height:25px;transform:scale(1.1);width:25px}._fc-m-group-add._fc-m-group-plus-minus:after,._fc-m-group-add._fc-m-group-plus-minus:before{width:50%}._fc-m-group._fc-m-group-card{display:flex;flex-direction:column;gap:16px;width:100%}._fc-m-group._fc-m-group-card._fc-m-group-disabled ._fc-m-group-add,._fc-m-group._fc-m-group-card._fc-m-group-disabled ._fc-m-group-btn{cursor:not-allowed;opacity:.5}._fc-m-group._fc-m-group-card ._fc-m-group-container{background:#fff;border:1px solid #f0f0f0;border-radius:6px;display:flex;flex-direction:column;margin:0;overflow:hidden;padding:0;position:relative}._fc-m-group._fc-m-group-card ._fc-m-group-header{align-items:center;background:#fafafa;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;padding:16px 20px 12px}._fc-m-group._fc-m-group-card ._fc-m-group-idx{align-items:center;background:#f0f0f0;border:1px solid #e0e0e0;border-radius:6px;color:#666;display:flex;flex-shrink:0;font-size:12px;font-weight:500;height:24px;justify-content:center;margin-right:12px;position:static;width:24px}._fc-m-group._fc-m-group-card ._fc-m-group-title{color:rgba(0,0,0,.85);flex:1;font-size:14px;font-weight:500;line-height:1.5715;text-align:left}._fc-m-group._fc-m-group-card ._fc-m-group-handle{align-items:center;background-color:transparent;border:none;border-radius:0;bottom:auto;display:flex;flex-direction:row;flex-shrink:0;gap:4px;margin-left:12px;padding:0;position:static;right:auto;transform:none}._fc-m-group._fc-m-group-card ._fc-m-group-btn{align-items:center;background:#fff;border:1px solid #d9d9d9;border-radius:4px;color:rgba(0,0,0,.45);cursor:pointer;display:flex;height:24px;justify-content:center;position:relative;width:24px}._fc-m-group._fc-m-group-card ._fc-m-group-btn:hover{background:#f0f8ff;border-color:#1890ff;color:#1890ff}._fc-m-group._fc-m-group-card ._fc-m-group-btn:active{border-color:#096dd9;color:#096dd9}._fc-m-group._fc-m-group-card ._fc-m-group-arrow{position:relative}._fc-m-group._fc-m-group-card ._fc-m-group-arrow:before{border-left:1px solid;border-top:1px solid;content:"";height:5px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%) rotate(45deg);width:5px}._fc-m-group._fc-m-group-card ._fc-m-group-arrow._fc-m-group-down{transform:rotate(180deg)}._fc-m-group._fc-m-group-card ._fc-m-group-sort{align-items:center;display:flex;flex-direction:column;height:24px;justify-content:center;position:relative}._fc-m-group._fc-m-group-card ._fc-m-group-sort:after,._fc-m-group._fc-m-group-card ._fc-m-group-sort:before{border-left:1px solid;border-top:1px solid;content:"";height:4px;left:50%;position:absolute;transform:translateX(-50%);width:4px}._fc-m-group._fc-m-group-card ._fc-m-group-sort:before{top:6px;transform:translateX(-50%) rotate(45deg)}._fc-m-group._fc-m-group-card ._fc-m-group-sort:after{bottom:6px;transform:translateX(-50%) rotate(225deg)}._fc-m-group._fc-m-group-card ._fc-m-group-sort-down,._fc-m-group._fc-m-group-card ._fc-m-group-sort-up{cursor:pointer;height:12px;left:0;position:absolute;right:0;z-index:1}._fc-m-group._fc-m-group-card ._fc-m-group-sort-up{top:0}._fc-m-group._fc-m-group-card ._fc-m-group-sort-down{bottom:0}._fc-m-group._fc-m-group-card ._fc-m-group-sort-down:hover,._fc-m-group._fc-m-group-card ._fc-m-group-sort-up:hover{background:rgba(24,144,255,.1)}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus{background:#409eff;border-color:#409eff;border-radius:4px;color:#fff;height:24px;position:relative;width:24px}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus:hover{background:#66b1ff;border-color:#66b1ff;color:#fff}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus:after,._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus:before{background-color:currentColor;content:"";height:1px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:8px}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus:before{transform:translate(-50%,-50%) rotate(90deg)}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus._fc-m-group-minus{background:#f56c6c;border-color:#f56c6c}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus._fc-m-group-minus:hover{background:#f78989;border-color:#f78989}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus._fc-m-group-minus:before{display:none}._fc-m-group._fc-m-group-card ._fc-m-group-content{padding:20px}._fc-m-group._fc-m-group-card ._fc-m-group-add{align-items:center;background:#fff;border:1px solid #d9d9d9;border-radius:4px;color:rgba(0,0,0,.45);cursor:pointer;display:flex;height:24px;justify-content:center;position:relative;transform:none;width:24px}._fc-m-group._fc-m-group-card ._fc-m-group-add:hover{background:#f0f8ff;border-color:#409eff;color:#409eff}._fc-m-group._fc-m-group-card ._fc-m-group-add._fc-m-group-plus-minus{background:#409eff;border-color:#409eff;color:#fff;height:24px;width:24px}._fc-m-group._fc-m-group-card ._fc-m-group-add._fc-m-group-plus-minus:hover{background:#66b1ff;border-color:#66b1ff;color:#fff}._fc-m-group._fc-m-group-card ._fc-m-group-add._fc-m-group-plus-minus:after,._fc-m-group._fc-m-group-card ._fc-m-group-add._fc-m-group-plus-minus:before{background-color:currentColor;content:"";height:1px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:8px}._fc-m-group._fc-m-group-card ._fc-m-group-add._fc-m-group-plus-minus:before{transform:translate(-50%,-50%) rotate(90deg)}._fc-m-group._fc-m-group-card ._fc-m-group-empty{color:rgba(0,0,0,.45);font-size:14px;padding:40px 20px;text-align:center}@media (max-width:768px){._fc-m-group._fc-m-group-card ._fc-m-group-container{border-left:none;border-radius:0;border-right:none;margin:0 -8px}._fc-m-group._fc-m-group-card ._fc-m-group-header{padding:12px 16px 8px}._fc-m-group._fc-m-group-card ._fc-m-group-content{padding:16px}._fc-m-group._fc-m-group-card ._fc-m-group-handle{gap:2px}._fc-m-group._fc-m-group-card ._fc-m-group-btn{height:22px;width:22px}}@media (prefers-color-scheme:dark){._fc-m-group._fc-m-group-card ._fc-m-group-container{background:#141414;border-color:#303030}._fc-m-group._fc-m-group-card ._fc-m-group-container:hover{border-color:#434343}._fc-m-group._fc-m-group-card ._fc-m-group-header{background:#1f1f1f;border-bottom-color:#303030}._fc-m-group._fc-m-group-card ._fc-m-group-title{color:hsla(0,0%,100%,.85)}._fc-m-group._fc-m-group-card ._fc-m-group-btn{background:#1f1f1f;border-color:#434343;color:hsla(0,0%,100%,.45)}._fc-m-group._fc-m-group-card ._fc-m-group-btn:hover{background:#111b26;border-color:#177ddc;color:#177ddc}._fc-m-group._fc-m-group-card ._fc-m-group-content{background:#141414}._fc-m-group._fc-m-group-card ._fc-m-group-add{background:#1f1f1f;border-color:#434343;color:hsla(0,0%,100%,.45)}._fc-m-group._fc-m-group-card ._fc-m-group-add:hover{background:#111b26;border-color:#177ddc;color:#177ddc}}';Tz(Az);function yS(e,t){return Be.Boolean(e)?e={show:e}:!Be.Undef(e)&&!Be.Object(e)&&(e={show:t}),e}function Sz(e,t){return{formEl:function(){return t.$manager.form()},wrapEl:function(i){var r=t.getFieldCtx(i);if(r)return t.vm.refs[r.wrapRef]},validate:function(i){return new Promise(function(r,s){var a=e.children,o=[t.$manager.validate()];a.filter(function(l){return!l.isScope}).forEach(function(l){o.push(l.validate())}),Promise.all(o).then(function(){r(!0),i&&i(!0)}).catch(function(l){s(l),i&&i(l),t.vm.emit("validate-fail",l,{api:e}),t.emitEvent("validate-fail",l,{api:e})})})},validateField:function(i,r){return new Promise(function(s,a){var o=t.getFieldCtx(i);if(o){var l=t.subForm[o.id],u=[t.$manager.validateField(o.id)];Qo(l).filter(function(c){return!c.isScope}).forEach(function(c){u.push(c.validate())}),Promise.all(u).then(function(){s(null),r&&r(null)}).catch(function(c){a(c),r&&r(c),t.vm.emit("validate-field-fail",c,{field:i,api:e})})}})},clearValidateState:function(i){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;e.helper.tidyFields(i).forEach(function(a){s&&r.clearSubValidateState(a),t.getCtxs(a).forEach(function(o){t.$manager.clearValidateState(o)})})},clearSubValidateState:function(i){e.helper.tidyFields(i).forEach(function(r){t.getCtxs(r).forEach(function(s){var a=t.subForm[s.id];a&&(Array.isArray(a)?a.forEach(function(o){o.clearValidateState()}):a&&a.clearValidateState())})})},btn:{loading:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;e.submitBtnProps({loading:!!i})},disabled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;e.submitBtnProps({disabled:!!i})},show:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;e.submitBtnProps({show:!!i})}},resetBtn:{loading:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;e.resetBtnProps({loading:!!i})},disabled:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;e.resetBtnProps({disabled:!!i})},show:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;e.resetBtnProps({show:!!i})}},submitBtnProps:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=yS(t.options.submitBtn,!0);at(r,i),t.options.submitBtn=r,e.refreshOptions()},resetBtnProps:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=yS(t.options.resetBtn,!1);at(r,i),t.options.resetBtn=r,e.refreshOptions()},submit:function(i,r){return new Promise(function(s,a){var o=t.options.validateOnSubmit===!1?Promise.resolve():e.validate();o.then(function(){var l=e.formData();t.beforeSubmit(l).then(function(){Be.Function(i)&&Tt(function(){return i(l,e)}),Be.Function(t.options.onSubmit)&&Tt(function(){return t.options.onSubmit(l,e)}),t.vm.emit("submit",l,e),s(l)}).catch(function(u){})}).catch(function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];Be.Function(r)&&Tt(function(){return r.apply(void 0,[e].concat(u))}),a.apply(void 0,u)})})}}}var B0={name:"required",load:function(t,n,i){var r=xz(t.getValue());if(r.required===!1)t.clearProp(),i.clearValidateState([n.field]);else{var s,a,o=Qe({required:!0,validator:function(d){return!Be.empty(d)},trigger:["onChange","onSubmit"]},r),l=(s=n.__fc__.refRule)===null||s===void 0||(a=s.__$title)===null||a===void 0?void 0:a.value;if(!o.message)o.message=i.t("required",{title:l})||l+(i.getLocale()==="en"?" is required":"");else{var u=o.message.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);u&&(o.message=i.t(u[1],{title:l}))}t.getProp().validate=[o]}i.sync(n)},watch:function(){B0.load.apply(B0,arguments)}};function xz(e){return Be.Boolean(e)?{required:e}:Be.String(e)?{message:e}:Be.Undef(e)?{required:!1}:Be.Function(e)?{validator:e}:Be.Object(e)?e:{}}function Ez(e){e.componentAlias(vz),hH.forEach(function(t){e.component(t.name,t)}),e.register(B0),gz.forEach(function(t){e.parser(t)}),Vn.props&&(Vn.props.modelValue={type:[String,Number,Array,Object,Boolean,Function],default:""})}function Cz(){return Nk({ui:"vant",version:"3.2.32",manager:bz,extendApi:Sz,install:Ez,isMobile:!0,attrs:{normal:["col","wrap"],key:["title","info"]}})}var Jr=Cz();typeof window<"u"&&(window.formCreateMobile=Jr);Jr.maker;function F0(e,t={},n){for(const i in e){const r=e[i],s=n?"".concat(n,":").concat(i):i;typeof r=="object"&&r!==null?F0(r,t,s):typeof r=="function"&&(t[s]=r)}return t}const wz={run:e=>e()},Dz=()=>wz,Bk=typeof console.createTask<"u"?console.createTask:Dz;function kz(e,t){const n=t.shift(),i=Bk(n);return e.reduce((r,s)=>r.then(()=>i.run(()=>s(...t))),Promise.resolve())}function Oz(e,t){const n=t.shift(),i=Bk(n);return Promise.all(e.map(r=>i.run(()=>r(...t))))}function Jg(e,t){for(const n of[...e])n(t)}class Iz{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,i={}){if(!t||typeof n!="function")return()=>{};const r=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!i.allowDeprecated){let a=s.message;a||(a="".concat(r," hook has been deprecated")+(s.to?", please use ".concat(s.to):"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch(a){}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let i,r=(...s)=>(typeof i=="function"&&i(),i=void 0,r=void 0,n(...s));return i=this.hook(t,r),i}removeHook(t,n){if(this._hooks[t]){const i=this._hooks[t].indexOf(n);i!==-1&&this._hooks[t].splice(i,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const i=this._hooks[t]||[];delete this._hooks[t];for(const r of i)this.hook(t,r)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=F0(t),i=Object.keys(n).map(r=>this.hook(r,n[r]));return()=>{for(const r of i.splice(0,i.length))r()}}removeHooks(t){const n=F0(t);for(const i in n)this.removeHook(i,n[i])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(kz,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(Oz,t,...n)}callHookWith(t,n,...i){const r=this._before||this._after?{name:n,args:i,context:{}}:void 0;this._before&&Jg(this._before,r);const s=t(n in this._hooks?[...this._hooks[n]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&r&&Jg(this._after,r)}):(this._after&&r&&Jg(this._after,r),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function Pz(){return new Iz}const Rz=new Set(["link","style","script","noscript"]),Lz=new Set(["title","titleTemplate","script","style","noscript"]),_S=new Set(["base","meta","link","style","script","noscript"]),Mz=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Nz=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),Bz=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),Fz=new Set(["templateParams","htmlAttrs","bodyAttrs"]),$z=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),Uz=["name","property","http-equiv"];function Fk(e){const t=e.split(":");return t.length?$z.has(t[1]):!1}function $0(e){const{props:t,tag:n}=e;if(Nz.has(n))return n;if(n==="link"&&t.rel==="canonical")return"canonical";if(t.charset)return"charset";if(e.tag==="meta"){for(const i of Uz)if(t[i]!==void 0)return"".concat(n,":").concat(t[i])}if(e.key)return"".concat(n,":key:").concat(e.key);if(t.id)return"".concat(n,":id:").concat(t.id);if(Lz.has(n)){const i=e.textContent||e.innerHTML;if(i)return"".concat(n,":content:").concat(i)}}function bS(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||"".concat(e.tag,":").concat(Object.entries(e.props).map(([i,r])=>"".concat(i,":").concat(String(r))).join(","))}function sp(e,t,n){typeof e==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(e=e());let r;if(t&&(r=t(n,e)),Array.isArray(r))return r.map(s=>sp(s,t));if((r==null?void 0:r.constructor)===Object){const s={};for(const a of Object.keys(r))s[a]=sp(r[a],t,a);return s}return r}function Vz(e,t){const n=e==="style"?new Map:new Set;function i(r){const s=r.trim();if(s)if(e==="style"){const[a,...o]=s.split(":").map(l=>l.trim());a&&o.length&&n.set(a,o.join(":"))}else s.split(" ").filter(Boolean).forEach(a=>n.add(a))}return typeof t=="string"?e==="style"?t.split(";").forEach(i):i(t):Array.isArray(t)?t.forEach(r=>i(r)):t&&typeof t=="object"&&Object.entries(t).forEach(([r,s])=>{s&&s!=="false"&&(e==="style"?n.set(r.trim(),s):i(r))}),n}function $k(e,t){return e.props=e.props||{},t&&Object.entries(t).forEach(([n,i])=>{if(i===null){e.props[n]=null;return}if(n==="class"||n==="style"){e.props[n]=Vz(n,i);return}if(Bz.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof i=="object"){let a=t.type;if(t.type||(a="application/json"),!(a!=null&&a.endsWith("json"))&&a!=="speculationrules")return;t.type=a,e.props.type=a,e[n]=JSON.stringify(i)}else e[n]=i;return}const r=String(i),s=n.startsWith("data-");r==="true"||r===""?e.props[n]=s?r:!0:!i&&s&&r==="false"?e.props[n]="false":i!==void 0&&(e.props[n]=i)}),e}function jz(e,t){const n=typeof t=="object"&&typeof t!="function"?t:{[e==="script"||e==="noscript"||e==="style"?"innerHTML":"textContent"]:t},i=$k({tag:e,props:{}},n);return i.key&&Rz.has(i.tag)&&(i.props["data-hid"]=i._h=i.key),i.tag==="script"&&typeof i.innerHTML=="object"&&(i.innerHTML=JSON.stringify(i.innerHTML),i.props.type=i.props.type||"application/json"),Array.isArray(i.props.content)?i.props.content.map(r=>({...i,props:{...i.props,content:r}})):i}function Hz(e,t){if(!e)return[];typeof e=="function"&&(e=e());const n=(r,s)=>{for(let a=0;a<t.length;a++)s=t[a](r,s);return s};e=n(void 0,e);const i=[];return e=sp(e,n),Object.entries(e||{}).forEach(([r,s])=>{if(s!==void 0)for(const a of Array.isArray(s)?s:[s])i.push(jz(r,a))}),i.flat()}const TS=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,AS={base:-10,title:10},zz={critical:-8,high:-1,low:2},SS={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},qz=/@import/,yc=e=>e===""||e===!0;function Wz(e,t){var s;if(typeof t.tagPriority=="number")return t.tagPriority;let n=100;const i=zz[t.tagPriority]||0,r=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:SS;if(t.tag in AS)n=AS[t.tag];else if(t.tag==="meta"){const a=t.props["http-equiv"]==="content-security-policy"?"content-security-policy":t.props.charset?"charset":t.props.name==="viewport"?"viewport":null;a&&(n=SS.meta[a])}else t.tag==="link"&&t.props.rel?n=r.link[t.props.rel]:t.tag==="script"?yc(t.props.async)?n=r.script.async:t.props.src&&!yc(t.props.defer)&&!yc(t.props.async)&&t.props.type!=="module"&&!((s=t.props.type)!=null&&s.endsWith("json"))?n=r.script.sync:yc(t.props.defer)&&t.props.src&&!yc(t.props.async)&&(n=r.script.defer):t.tag==="style"&&(n=t.innerHTML&&qz.test(t.innerHTML)?r.style.imported:r.style.sync);return(n||100)+i}function xS(e,t){const n=typeof t=="function"?t(e):t,i=n.key||String(e.plugins.size+1);e.plugins.get(i)||(e.plugins.set(i,n),e.hooks.addHooks(n.hooks||{}))}function Gz(e={}){var o;const t=Pz();t.addHooks(e.hooks||{});const n=!e.document,i=new Map,r=new Map,s=[],a={_entryCount:1,plugins:r,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:i,headEntries(){return[...i.values()]},use:l=>xS(a,l),push(l,u){var m;const c={...u||{}};delete c.head;const d=(m=c._index)!=null?m:a._entryCount++,f={_i:d,input:l,options:c},h={_poll(p=!1){a.dirty=!0,!p&&s.push(d),t.callHook("entries:updated",a)},dispose(){i.delete(d)&&h._poll(!0)},patch(p){(!c.mode||c.mode==="server"&&n||c.mode==="client"&&!n)&&(f.input=p,i.set(d,f),h._poll())}};return h.patch(l),h},async resolveTags(){var h;const l={tagMap:new Map,tags:[],entries:[...a.entries.values()]};for(await t.callHook("entries:resolve",l);s.length;){const m=s.shift(),p=i.get(m);if(p){const g={tags:Hz(p.input,e.propResolvers||[]).map(_=>Object.assign(_,p.options)),entry:p};await t.callHook("entries:normalize",g),p._tags=g.tags.map((_,y)=>(_._w=Wz(a,_),_._p=(p._i<<10)+y,_._d=$0(_),_))}}let u=!1;l.entries.flatMap(m=>(m._tags||[]).map(p=>({...p,props:{...p.props}}))).sort(TS).reduce((m,p)=>{const g=String(p._d||p._p);if(!m.has(g))return m.set(g,p);const _=m.get(g);if(((p==null?void 0:p.tagDuplicateStrategy)||(Fz.has(p.tag)?"merge":null)||(p.key&&p.key===_.key?"merge":null))==="merge"){const b={..._.props};Object.entries(p.props).forEach(([A,T])=>b[A]=A==="style"?new Map([..._.props.style||new Map,...T]):A==="class"?new Set([..._.props.class||new Set,...T]):T),m.set(g,{...p,props:b})}else p._p>>10===_._p>>10&&p.tag==="meta"&&Fk(g)?(m.set(g,Object.assign([...Array.isArray(_)?_:[_],p],p)),u=!0):(p._w===_._w?p._p>_._p:(p==null?void 0:p._w)<(_==null?void 0:_._w))&&m.set(g,p);return m},l.tagMap);const c=l.tagMap.get("title"),d=l.tagMap.get("titleTemplate");if(a._title=c==null?void 0:c.textContent,d){const m=d==null?void 0:d.textContent;if(a._titleTemplate=m,m){let p=typeof m=="function"?m(c==null?void 0:c.textContent):m;typeof p=="string"&&!a.plugins.has("template-params")&&(p=p.replace("%s",(c==null?void 0:c.textContent)||"")),c?p===null?l.tagMap.delete("title"):l.tagMap.set("title",{...c,textContent:p}):(d.tag="title",d.textContent=p)}}l.tags=Array.from(l.tagMap.values()),u&&(l.tags=l.tags.flat().sort(TS)),await t.callHook("tags:beforeResolve",l),await t.callHook("tags:resolve",l),await t.callHook("tags:afterResolve",l);const f=[];for(const m of l.tags){const{innerHTML:p,tag:g,props:_}=m;if(Mz.has(g)&&!(Object.keys(_).length===0&&!m.innerHTML&&!m.textContent)&&!(g==="meta"&&!_.content&&!_["http-equiv"]&&!_.charset)){if(g==="script"&&p){if((h=_.type)!=null&&h.endsWith("json")){const y=typeof p=="string"?p:JSON.stringify(p);m.innerHTML=y.replace(/</g,"\\u003C")}else typeof p=="string"&&(m.innerHTML=p.replace(new RegExp("</".concat(g),"g"),"<\\/".concat(g)));m._d=$0(m)}f.push(m)}}return f}};return((e==null?void 0:e.plugins)||[]).forEach(l=>xS(a,l)),a.hooks.callHook("init",a),(o=e.init)==null||o.forEach(l=>l&&a.push(l)),a}async function Uk(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const i={shouldRender:!0,tags:[]};if(await e.hooks.callHook("dom:beforeRender",i),!!i.shouldRender)return e._domUpdatePromise||(e._domUpdatePromise=new Promise(async r=>{var h;const s=new Map,a=new Promise(m=>{e.resolveTags().then(p=>{m(p.map(g=>{const _=s.get(g._d)||0,y={tag:g,id:(_?"".concat(g._d,":").concat(_):g._d)||bS(g),shouldRender:!0};return g._d&&Fk(g._d)&&s.set(g._d,_+1),y}))})});let o=e._dom;if(!o){o={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const m of["body","head"]){const p=(h=n[m])==null?void 0:h.children;for(const g of p){const _=g.tagName.toLowerCase();if(!_S.has(_))continue;const y=$k({tag:_,props:{}},{innerHTML:g.innerHTML,...g.getAttributeNames().reduce((b,A)=>(b[A]=g.getAttribute(A),b),{})||{}});if(y.key=g.getAttribute("data-hid")||void 0,y._d=$0(y)||bS(y),o.elMap.has(y._d)){let b=1,A=y._d;for(;o.elMap.has(A);)A="".concat(y._d,":").concat(b++);o.elMap.set(A,g)}else o.elMap.set(y._d,g)}}}o.pendingSideEffects={...o.sideEffects},o.sideEffects={};function l(m,p,g){const _="".concat(m,":").concat(p);o.sideEffects[_]=g,delete o.pendingSideEffects[_]}function u({id:m,$el:p,tag:g}){const _=g.tag.endsWith("Attrs");o.elMap.set(m,p),_||(g.textContent&&g.textContent!==p.textContent&&(p.textContent=g.textContent),g.innerHTML&&g.innerHTML!==p.innerHTML&&(p.innerHTML=g.innerHTML),l(m,"el",()=>{p==null||p.remove(),o.elMap.delete(m)}));for(const y in g.props){if(!Object.prototype.hasOwnProperty.call(g.props,y))continue;const b=g.props[y];if(y.startsWith("on")&&typeof b=="function"){const T=p==null?void 0:p.dataset;if(T&&T["".concat(y,"fired")]){const k=y.slice(0,-5);b.call(p,new Event(k.substring(2)))}p.getAttribute("data-".concat(y))!==""&&((g.tag==="bodyAttrs"?n.defaultView:p).addEventListener(y.substring(2),b.bind(p)),p.setAttribute("data-".concat(y),""));continue}const A="attr:".concat(y);if(y==="class"){if(!b)continue;for(const T of b)_&&l(m,"".concat(A,":").concat(T),()=>p.classList.remove(T)),!p.classList.contains(T)&&p.classList.add(T)}else if(y==="style"){if(!b)continue;for(const[T,k]of b)l(m,"".concat(A,":").concat(T),()=>{p.style.removeProperty(T)}),p.style.setProperty(T,k)}else b!==!1&&b!==null&&(p.getAttribute(y)!==b&&p.setAttribute(y,b===!0?"":String(b)),_&&l(m,A,()=>p.removeAttribute(y)))}}const c=[],d={bodyClose:void 0,bodyOpen:void 0,head:void 0},f=await a;for(const m of f){const{tag:p,shouldRender:g,id:_}=m;if(g){if(p.tag==="title"){n.title=p.textContent,l("title","",()=>n.title=o.title);continue}m.$el=m.$el||o.elMap.get(_),m.$el?u(m):_S.has(p.tag)&&c.push(m)}}for(const m of c){const p=m.tag.tagPosition||"head";m.$el=n.createElement(m.tag.tag),u(m),d[p]=d[p]||n.createDocumentFragment(),d[p].appendChild(m.$el)}for(const m of f)await e.hooks.callHook("dom:renderTag",m,n,l);d.head&&n.head.appendChild(d.head),d.bodyOpen&&n.body.insertBefore(d.bodyOpen,n.body.firstChild),d.bodyClose&&n.body.appendChild(d.bodyClose);for(const m in o.pendingSideEffects)o.pendingSideEffects[m]();e._dom=o,await e.hooks.callHook("dom:rendered",{renders:f}),r()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise}function Yz(e={}){var i,r,s;const t=((i=e.domOptions)==null?void 0:i.render)||Uk;e.document=e.document||(typeof window<"u"?document:void 0);const n=((s=(r=e.document)==null?void 0:r.head.querySelector('script[id="unhead:payload"]'))==null?void 0:s.innerHTML)||!1;return Gz({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[n?JSON.parse(n):!1,...e.init||[]]})}function Kz(e,t){let n=0;return()=>{const i=++n;t(()=>{n===i&&e()})}}const Xz=(e,t)=>xt(t)?ia(t):t,Vk="usehead";function Qz(e){return{install(n){n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(Vk,e)}}.install}function Jz(){if(zp()){const e=En(Vk);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function Zz(e,t={}){const n=t.head||Jz();return n.ssr?n.push(e||{},t):eq(n,e,t)}function eq(e,t,n={}){const i=ie(!1);let r;return _a(()=>{const a=i.value?{}:sp(t,Xz);r?r.patch(a):r=e.push(a,n)}),mn()&&(Oi(()=>{r.dispose()}),vr(()=>{i.value=!0}),gr(()=>{i.value=!1})),r}function tq(e={}){const t=Yz({domOptions:{render:Kz(()=>Uk(t),n=>setTimeout(n,0))},...e});return t.install=Qz(t),t}const jk=["chatPage","home","/home/","message","task","profile","zaxtmine","zyxkmine","zyxkHome"];/*!
 * pinia v3.0.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Hk;const dm=e=>Hk=e,zk=Symbol();function U0(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var zc;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(zc||(zc={}));function nq(){const e=Zy(!0),t=e.run(()=>ie({}));let n=[],i=[];const r=Lr({install(s){dm(r),r._a=s,s.provide(zk,r),s.config.globalProperties.$pinia=r,i.forEach(a=>n.push(a)),i=[]},use(s){return this._a?n.push(s):i.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}const qk=()=>{};function ES(e,t,n,i=qk){e.add(t);const r=()=>{e.delete(t)&&i()};return!n&&e_()&&hw(r),r}function Al(e,...t){e.forEach(n=>{n(...t)})}const iq=e=>e(),CS=Symbol(),Zg=Symbol();function V0(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,i)=>e.set(i,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],r=e[n];U0(r)&&U0(i)&&e.hasOwnProperty(n)&&!xt(i)&&!na(i)?e[n]=V0(r,i):e[n]=i}return e}const rq=Symbol();function sq(e){return!U0(e)||!Object.prototype.hasOwnProperty.call(e,rq)}const{assign:Va}=Object;function aq(e){return!!(xt(e)&&e.effect)}function oq(e,t,n,i){const{state:r,actions:s,getters:a}=t,o=n.state.value[e];let l;function u(){o||(n.state.value[e]=r?r():{});const c=i0(n.state.value[e]);return Va(c,s,Object.keys(a||{}).reduce((d,f)=>(d[f]=Lr(fe(()=>{dm(n);const h=n._s.get(e);return a[f].call(h,h)})),d),{}))}return l=Wk(e,u,t,n,i,!0),l}function Wk(e,t,n={},i,r,s){let a;const o=Va({actions:{}},n),l={deep:!0};let u,c,d=new Set,f=new Set,h;const m=i.state.value[e];!s&&!m&&(i.state.value[e]={}),ie({});let p;function g(I){let w;u=c=!1,typeof I=="function"?(I(i.state.value[e]),w={type:zc.patchFunction,storeId:e,events:h}):(V0(i.state.value[e],I),w={type:zc.patchObject,payload:I,storeId:e,events:h});const D=p=Symbol();Ke().then(()=>{p===D&&(u=!0)}),c=!0,Al(d,w,i.state.value[e])}const _=s?function(){const{state:w}=n,D=w?w():{};this.$patch(R=>{Va(R,D)})}:qk;function y(){a.stop(),d.clear(),f.clear(),i._s.delete(e)}const b=(I,w="")=>{if(CS in I)return I[Zg]=w,I;const D=function(){dm(i);const R=Array.from(arguments),L=new Set,B=new Set;function N(V){L.add(V)}function $(V){B.add(V)}Al(f,{args:R,name:D[Zg],store:T,after:N,onError:$});let F;try{F=I.apply(this&&this.$id===e?this:T,R)}catch(V){throw Al(B,V),V}return F instanceof Promise?F.then(V=>(Al(L,V),V)).catch(V=>(Al(B,V),Promise.reject(V))):(Al(L,F),F)};return D[CS]=!0,D[Zg]=w,D},A={_p:i,$id:e,$onAction:ES.bind(null,f),$patch:g,$reset:_,$subscribe(I,w={}){const D=ES(d,I,w.detached,()=>R()),R=a.run(()=>De(()=>i.state.value[e],L=>{(w.flush==="sync"?c:u)&&I({storeId:e,type:zc.direct,events:h},L)},Va({},l,w)));return D},$dispose:y},T=vt(A);i._s.set(e,T);const O=(i._a&&i._a.runWithContext||iq)(()=>i._e.run(()=>(a=Zy()).run(()=>t({action:b}))));for(const I in O){const w=O[I];if(xt(w)&&!aq(w)||na(w))s||(m&&sq(w)&&(xt(w)?w.value=m[I]:V0(w,m[I])),i.state.value[e][I]=w);else if(typeof w=="function"){const D=b(w,I);O[I]=D,o.actions[I]=w}}return Va(T,O),Va(kt(T),O),Object.defineProperty(T,"$state",{get:()=>i.state.value[e],set:I=>{g(w=>{Va(w,I)})}}),i._p.forEach(I=>{Va(T,a.run(()=>I({store:T,app:i._a,pinia:i,options:o})))}),m&&s&&n.hydrate&&n.hydrate(T.$state,m),u=!0,c=!0,T}/*! #__NO_SIDE_EFFECTS__ */function Y_(e,t,n){let i;const r=typeof t=="function";i=r?n:t;function s(a,o){const l=zp();return a=a||(l?En(zk,null):null),a&&dm(a),a=Hk,a._s.has(e)||(r?Wk(e,t,i,a):oq(e,i,a)),a._s.get(e)}return s.$id=e,s}function Gce(e){const t=kt(e),n={};for(const i in t){const r=t[i];r.effect?n[i]=fe({get:()=>e[i],set(s){e[i]=s}}):(xt(r)||na(r))&&(n[i]=xn(e,i))}return n}function lq(e,t){if(e==null)return;let n=e;for(let i=0;i<t.length;i++){if(n===void 0||n[t[i]]===void 0)return;if(n===null||n[t[i]]===null)return null;n=n[t[i]]}return n}function K_(e,t,n){if(n.length===0)return t;const i=n[0];return n.length>1&&(t=K_(typeof e!="object"||e===null||!Object.prototype.hasOwnProperty.call(e,i)?Number.isInteger(Number(n[1]))?[]:{}:e[i],t,Array.prototype.slice.call(n,1))),Number.isInteger(Number(i))&&Array.isArray(e)?e.slice()[i]:Object.assign({},e,{[i]:t})}function Gk(e,t){if(e==null||t.length===0)return e;if(t.length===1){if(e==null)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const n={};for(const i in e)n[i]=e[i];return delete n[t[0]],n}if(e[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const n={};for(const i in e)n[i]=e[i];return n}return K_(e,Gk(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function Yk(e,t){return t.map(n=>n.split(".")).map(n=>[n,lq(e,n)]).filter(n=>n[1]!==void 0).reduce((n,i)=>K_(n,i[1],i[0]),{})}function Kk(e,t){return t.map(n=>n.split(".")).reduce((n,i)=>Gk(n,i),e)}function wS(e,{storage:t,serializer:n,key:i,debug:r,pick:s,omit:a,beforeHydrate:o,afterHydrate:l},u,c=!0){try{c&&(o==null||o(u));const d=t.getItem(i);if(d){const f=n.deserialize(d),h=s?Yk(f,s):f,m=a?Kk(h,a):h;e.$patch(m)}c&&(l==null||l(u))}catch(d){r&&console.error("[pinia-plugin-persistedstate]",d)}}function DS(e,{storage:t,serializer:n,key:i,debug:r,pick:s,omit:a}){try{const o=s?Yk(e,s):e,l=a?Kk(o,a):o,u=n.serialize(l);t.setItem(i,u)}catch(o){r&&console.error("[pinia-plugin-persistedstate]",o)}}function uq(e,t){return typeof e=="function"?e(t):typeof e=="string"?e:t}function cq(e,t,n){const{pinia:i,store:r,options:{persist:s=n}}=e;if(!s)return;// v8 ignore if -- @preserve
if(!(r.$id in i.state.value)){const o=i._s.get(r.$id.replace("__hot:",""));o&&Promise.resolve().then(()=>o.$persist());return}const a=(Array.isArray(s)?s:s===!0?[{}]:[s]).map(t);r.$hydrate=({runHooks:o=!0}={})=>{a.forEach(l=>{wS(r,l,e,o)})},r.$persist=()=>{a.forEach(o=>{DS(r.$state,o)})},a.forEach(o=>{wS(r,o,e),r.$subscribe((l,u)=>DS(u,o),{detached:!0})})}function dq(e={}){return function(t){var n;cq(t,i=>{var s,a,o,l,u,c,d,f;const r=uq(i.key,t.store.$id);return{key:(e.key?e.key:h=>h)(r),debug:(a=(s=i.debug)!=null?s:e.debug)!=null?a:!1,serializer:(l=(o=i.serializer)!=null?o:e.serializer)!=null?l:{serialize:h=>JSON.stringify(h),deserialize:h=>JSON.parse(h)},storage:(c=(u=i.storage)!=null?u:e.storage)!=null?c:window.localStorage,beforeHydrate:(d=i.beforeHydrate)!=null?d:e.beforeHydrate,afterHydrate:(f=i.afterHydrate)!=null?f:e.afterHydrate,pick:i.pick,omit:i.omit}},(n=e.auto)!=null?n:!1)}}var fq=dq();const Xk="access_token";function hq(e){return e_()?(hw(e),!0):!1}const ev=new WeakMap,pq=(...e)=>{var t;const n=e[0],i=(t=mn())==null?void 0:t.proxy;if(i==null&&!zp())throw new Error("injectLocal must be called in setup");return i&&ev.has(i)&&n in ev.get(i)?ev.get(i)[n]:En(...e)},mq=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const gq=Object.prototype.toString,vq=e=>gq.call(e)==="[object Object]",yq=()=>{};function Qk(...e){if(e.length!==1)return xn(...e);const t=e[0];return typeof t=="function"?tu(bB(()=>({get:t,set:yq}))):ie(t)}function _q(e,t){function n(...i){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(r).catch(s)})}return n}const Jk=e=>e();function bq(e=Jk,t={}){const{initialState:n="active"}=t,i=Qk(n==="active");function r(){i.value=!1}function s(){i.value=!0}const a=(...o)=>{i.value&&e(...o)};return{isActive:tu(i),pause:r,resume:s,eventFilter:a}}function kS(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function tv(e){return Array.isArray(e)?e:[e]}function Tq(e){return mn()}function Aq(e,t,n={}){const{eventFilter:i=Jk,...r}=n;return De(e,_q(i,t),r)}function Sq(e,t,n={}){const{eventFilter:i,initialState:r="active",...s}=n,{eventFilter:a,pause:o,resume:l,isActive:u}=bq(i,{initialState:r});return{stop:Aq(e,t,{...s,eventFilter:a}),pause:o,resume:l,isActive:u}}function Zk(e,t=!0,n){Tq()?Et(e,n):t?e():Ke(e)}function xq(e,t,n){return De(e,t,{...n,immediate:!0})}const lu=mq?window:void 0;function eO(e){var t;const n=ia(e);return(t=n==null?void 0:n.$el)!=null?t:n}function j0(...e){const t=[],n=()=>{t.forEach(o=>o()),t.length=0},i=(o,l,u,c)=>(o.addEventListener(l,u,c),()=>o.removeEventListener(l,u,c)),r=fe(()=>{const o=tv(ia(e[0])).filter(l=>l!=null);return o.every(l=>typeof l!="string")?o:void 0}),s=xq(()=>{var o,l;return[(l=(o=r.value)==null?void 0:o.map(u=>eO(u)))!=null?l:[lu].filter(u=>u!=null),tv(ia(r.value?e[1]:e[0])),tv(Ge(r.value?e[2]:e[1])),ia(r.value?e[3]:e[2])]},([o,l,u,c])=>{if(n(),!(o!=null&&o.length)||!(l!=null&&l.length)||!(u!=null&&u.length))return;const d=vq(c)?{...c}:c;t.push(...o.flatMap(f=>l.flatMap(h=>u.map(m=>i(f,h,m,d)))))},{flush:"post"}),a=()=>{s(),n()};return hq(n),a}function Eq(){const e=Ts(!1),t=mn();return t&&Et(()=>{e.value=!0},t),e}function Cq(e){const t=Eq();return fe(()=>(t.value,!!e()))}const wq=Symbol("vueuse-ssr-width");function Dq(){const e=zp()?pq(wq,null):null;return typeof e=="number"?e:void 0}function kq(e,t={}){const{window:n=lu,ssrWidth:i=Dq()}=t,r=Cq(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),s=Ts(typeof i=="number"),a=Ts(),o=Ts(!1),l=u=>{o.value=u.matches};return _a(()=>{if(s.value){s.value=!r.value;const u=ia(e).split(",");o.value=u.some(c=>{const d=c.includes("not all"),f=c.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),h=c.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let m=!!(f||h);return f&&m&&(m=i>=kS(f[1])),h&&m&&(m=i<=kS(h[1])),d?!m:m});return}r.value&&(a.value=n.matchMedia(ia(e)),o.value=a.value.matches)}),j0(a,"change",l,{passive:!0}),fe(()=>o.value)}const Jf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zf="__vueuse_ssr_handlers__",Oq=Iq();function Iq(){return Zf in Jf||(Jf[Zf]=Jf[Zf]||{}),Jf[Zf]}function tO(e,t){return Oq[e]||t}function nO(e){return kq("(prefers-color-scheme: dark)",e)}function Pq(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Rq={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},OS="vueuse-storage";function iO(e,t,n,i={}){var r;const{flush:s="pre",deep:a=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:d=lu,eventFilter:f,onError:h=N=>{console.error(N)},initOnMounted:m}=i,p=(c?Ts:ie)(typeof t=="function"?t():t),g=fe(()=>ia(e));if(!n)try{n=tO("getDefaultStorage",()=>{var N;return(N=lu)==null?void 0:N.localStorage})()}catch(N){h(N)}if(!n)return p;const _=ia(t),y=Pq(_),b=(r=i.serializer)!=null?r:Rq[y],{pause:A,resume:T}=Sq(p,N=>D(N),{flush:s,deep:a,eventFilter:f});De(g,()=>L(),{flush:s});let k=!1;const O=N=>{m&&!k||L(N)},I=N=>{m&&!k||B(N)};d&&o&&(n instanceof Storage?j0(d,"storage",O,{passive:!0}):j0(d,OS,I)),m?Zk(()=>{k=!0,L()}):L();function w(N,$){if(d){const F={key:g.value,oldValue:N,newValue:$,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",F):new CustomEvent(OS,{detail:F}))}}function D(N){try{const $=n.getItem(g.value);if(N==null)w($,null),n.removeItem(g.value);else{const F=b.write(N);$!==F&&(n.setItem(g.value,F),w($,F))}}catch($){h($)}}function R(N){const $=N?N.newValue:n.getItem(g.value);if($==null)return l&&_!=null&&n.setItem(g.value,b.write(_)),_;if(!N&&u){const F=b.read($);return typeof u=="function"?u(F,_):y==="object"&&!Array.isArray(F)?{..._,...F}:F}else return typeof $!="string"?$:b.read($)}function L(N){if(!(N&&N.storageArea!==n)){if(N&&N.key==null){p.value=_;return}if(!(N&&N.key!==g.value)){A();try{const $=b.write(p.value);(N===void 0||(N==null?void 0:N.newValue)!==$)&&(p.value=R(N))}catch($){h($)}finally{N?Ke(T):T()}}}}function B(N){L(N.detail)}return p}const Lq="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Mq(e={}){const{selector:t="html",attribute:n="class",initialValue:i="auto",window:r=lu,storage:s,storageKey:a="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:l,emitAuto:u,disableTransition:c=!0}=e,d={auto:"",light:"light",dark:"dark",...e.modes||{}},f=nO({window:r}),h=fe(()=>f.value?"dark":"light"),m=l||(a==null?Qk(i):iO(a,i,s,{window:r,listenToStorageChanges:o})),p=fe(()=>m.value==="auto"?h.value:m.value),g=tO("updateHTMLAttrs",(A,T,k)=>{const O=typeof A=="string"?r==null?void 0:r.document.querySelector(A):eO(A);if(!O)return;const I=new Set,w=new Set;let D=null;if(T==="class"){const L=k.split(/\s/g);Object.values(d).flatMap(B=>(B||"").split(/\s/g)).filter(Boolean).forEach(B=>{L.includes(B)?I.add(B):w.add(B)})}else D={key:T,value:k};if(I.size===0&&w.size===0&&D===null)return;let R;c&&(R=r.document.createElement("style"),R.appendChild(document.createTextNode(Lq)),r.document.head.appendChild(R));for(const L of I)O.classList.add(L);for(const L of w)O.classList.remove(L);D&&O.setAttribute(D.key,D.value),c&&(r.getComputedStyle(R).opacity,document.head.removeChild(R))});function _(A){var T;g(t,n,(T=d[A])!=null?T:A)}function y(A){e.onChanged?e.onChanged(A,_):_(A)}De(p,y,{flush:"post",immediate:!0}),Zk(()=>y(p.value));const b=fe({get(){return u?m.value:p.value},set(A){m.value=A}});return Object.assign(b,{store:m,system:h,state:p})}function Nq(e={}){const{valueDark:t="dark",valueLight:n=""}=e,i=Mq({...e,onChanged:(a,o)=>{var l;e.onChanged?(l=e.onChanged)==null||l.call(e,a==="dark",o,a):o(a)},modes:{dark:t,light:n}}),r=fe(()=>i.system.value);return fe({get(){return i.value==="dark"},set(a){const o=a?"dark":"light";r.value===o?i.value="auto":i.value=o}})}function Bq(e,t,n={}){const{window:i=lu}=n;return iO(e,t,i==null?void 0:i.localStorage,n)}const X_=Bq(Xk,"");function IS(){return!!X_.value}function nv(e){X_.value=e}function eh(){X_.value=null}function rO(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fq}=Object.prototype,{getPrototypeOf:Q_}=Object,{iterator:fm,toStringTag:sO}=Symbol,hm=(e=>t=>{const n=Fq.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Zr=e=>(e=e.toLowerCase(),t=>hm(t)===e),pm=e=>t=>typeof t===e,{isArray:Du}=Array,uu=pm("undefined");function Nd(e){return e!==null&&!uu(e)&&e.constructor!==null&&!uu(e.constructor)&&Ni(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const aO=Zr("ArrayBuffer");function $q(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&aO(e.buffer),t}const Uq=pm("string"),Ni=pm("function"),oO=pm("number"),Bd=e=>e!==null&&typeof e=="object",Vq=e=>e===!0||e===!1,Ah=e=>{if(hm(e)!=="object")return!1;const t=Q_(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(sO in e)&&!(fm in e)},jq=e=>{if(!Bd(e)||Nd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},Hq=Zr("Date"),zq=Zr("File"),qq=Zr("Blob"),Wq=Zr("FileList"),Gq=e=>Bd(e)&&Ni(e.pipe),Yq=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ni(e.append)&&((t=hm(e))==="formdata"||t==="object"&&Ni(e.toString)&&e.toString()==="[object FormData]"))},Kq=Zr("URLSearchParams"),[Xq,Qq,Jq,Zq]=["ReadableStream","Request","Response","Headers"].map(Zr),eW=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fd(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),Du(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{if(Nd(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),a=s.length;let o;for(i=0;i<a;i++)o=s[i],t.call(null,e[o],o,e)}}function lO(e,t){if(Nd(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const Io=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uO=e=>!uu(e)&&e!==Io;function H0(){const{caseless:e,skipUndefined:t}=uO(this)&&this||{},n={},i=(r,s)=>{const a=e&&lO(n,s)||s;Ah(n[a])&&Ah(r)?n[a]=H0(n[a],r):Ah(r)?n[a]=H0({},r):Du(r)?n[a]=r.slice():(!t||!uu(r))&&(n[a]=r)};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Fd(arguments[r],i);return n}const tW=(e,t,n,{allOwnKeys:i}={})=>(Fd(t,(r,s)=>{n&&Ni(r)?e[s]=rO(r,n):e[s]=r},{allOwnKeys:i}),e),nW=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),iW=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},rW=(e,t,n,i)=>{let r,s,a;const o={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)a=r[s],(!i||i(a,e,t))&&!o[a]&&(t[a]=e[a],o[a]=!0);e=n!==!1&&Q_(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},sW=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},aW=e=>{if(!e)return null;if(Du(e))return e;let t=e.length;if(!oO(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},oW=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Q_(Uint8Array)),lW=(e,t)=>{const i=(e&&e[fm]).call(e);let r;for(;(r=i.next())&&!r.done;){const s=r.value;t.call(e,s[0],s[1])}},uW=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},cW=Zr("HTMLFormElement"),dW=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),PS=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),fW=Zr("RegExp"),cO=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Fd(n,(r,s)=>{let a;(a=t(r,s,e))!==!1&&(i[s]=a||r)}),Object.defineProperties(e,i)},hW=e=>{cO(e,(t,n)=>{if(Ni(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(Ni(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},pW=(e,t)=>{const n={},i=r=>{r.forEach(s=>{n[s]=!0})};return Du(e)?i(e):i(String(e).split(t)),n},mW=()=>{},gW=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vW(e){return!!(e&&Ni(e.append)&&e[sO]==="FormData"&&e[fm])}const yW=e=>{const t=new Array(10),n=(i,r)=>{if(Bd(i)){if(t.indexOf(i)>=0)return;if(Nd(i))return i;if(!("toJSON"in i)){t[r]=i;const s=Du(i)?[]:{};return Fd(i,(a,o)=>{const l=n(a,r+1);!uu(l)&&(s[o]=l)}),t[r]=void 0,s}}return i};return n(e,0)},_W=Zr("AsyncFunction"),bW=e=>e&&(Bd(e)||Ni(e))&&Ni(e.then)&&Ni(e.catch),dO=((e,t)=>e?setImmediate:t?((n,i)=>(Io.addEventListener("message",({source:r,data:s})=>{r===Io&&s===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Io.postMessage(n,"*")}))("axios@".concat(Math.random()),[]):n=>setTimeout(n))(typeof setImmediate=="function",Ni(Io.postMessage)),TW=typeof queueMicrotask<"u"?queueMicrotask.bind(Io):typeof process<"u"&&process.nextTick||dO,AW=e=>e!=null&&Ni(e[fm]),we={isArray:Du,isArrayBuffer:aO,isBuffer:Nd,isFormData:Yq,isArrayBufferView:$q,isString:Uq,isNumber:oO,isBoolean:Vq,isObject:Bd,isPlainObject:Ah,isEmptyObject:jq,isReadableStream:Xq,isRequest:Qq,isResponse:Jq,isHeaders:Zq,isUndefined:uu,isDate:Hq,isFile:zq,isBlob:qq,isRegExp:fW,isFunction:Ni,isStream:Gq,isURLSearchParams:Kq,isTypedArray:oW,isFileList:Wq,forEach:Fd,merge:H0,extend:tW,trim:eW,stripBOM:nW,inherits:iW,toFlatObject:rW,kindOf:hm,kindOfTest:Zr,endsWith:sW,toArray:aW,forEachEntry:lW,matchAll:uW,isHTMLForm:cW,hasOwnProperty:PS,hasOwnProp:PS,reduceDescriptors:cO,freezeMethods:hW,toObjectSet:pW,toCamelCase:dW,noop:mW,toFiniteNumber:gW,findKey:lO,global:Io,isContextDefined:uO,isSpecCompliantForm:vW,toJSONObject:yW,isAsyncFn:_W,isThenable:bW,setImmediate:dO,asap:TW,isIterable:AW};function _t(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}we.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:we.toJSONObject(this.config),code:this.code,status:this.status}}});const fO=_t.prototype,hO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hO[e]={value:e}});Object.defineProperties(_t,hO);Object.defineProperty(fO,"isAxiosError",{value:!0});_t.from=(e,t,n,i,r,s)=>{const a=Object.create(fO);we.toFlatObject(e,a,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return _t.call(a,o,l,n,i,r),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",s&&Object.assign(a,s),a};const SW=null;function z0(e){return we.isPlainObject(e)||we.isArray(e)}function pO(e){return we.endsWith(e,"[]")?e.slice(0,-2):e}function RS(e,t,n){return e?e.concat(t).map(function(r,s){return r=pO(r),!n&&s?"["+r+"]":r}).join(n?".":""):t}function xW(e){return we.isArray(e)&&!e.some(z0)}const EW=we.toFlatObject(we,{},null,function(t){return/^is[A-Z]/.test(t)});function mm(e,t,n){if(!we.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=we.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!we.isUndefined(g[p])});const i=n.metaTokens,r=n.visitor||c,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&we.isSpecCompliantForm(t);if(!we.isFunction(r))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(we.isDate(m))return m.toISOString();if(we.isBoolean(m))return m.toString();if(!l&&we.isBlob(m))throw new _t("Blob is not supported. Use a Buffer instead.");return we.isArrayBuffer(m)||we.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,p,g){let _=m;if(m&&!g&&typeof m=="object"){if(we.endsWith(p,"{}"))p=i?p:p.slice(0,-2),m=JSON.stringify(m);else if(we.isArray(m)&&xW(m)||(we.isFileList(m)||we.endsWith(p,"[]"))&&(_=we.toArray(m)))return p=pO(p),_.forEach(function(b,A){!(we.isUndefined(b)||b===null)&&t.append(a===!0?RS([p],A,s):a===null?p:p+"[]",u(b))}),!1}return z0(m)?!0:(t.append(RS(g,p,s),u(m)),!1)}const d=[],f=Object.assign(EW,{defaultVisitor:c,convertValue:u,isVisitable:z0});function h(m,p){if(!we.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(m),we.forEach(m,function(_,y){(!(we.isUndefined(_)||_===null)&&r.call(t,_,we.isString(y)?y.trim():y,p,f))===!0&&h(_,p?p.concat(y):[y])}),d.pop()}}if(!we.isObject(e))throw new TypeError("data must be an object");return h(e),t}function LS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function J_(e,t){this._pairs=[],e&&mm(e,this,t)}const mO=J_.prototype;mO.append=function(t,n){this._pairs.push([t,n])};mO.toString=function(t){const n=t?function(i){return t.call(this,i,LS)}:LS;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function CW(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gO(e,t,n){if(!t)return e;const i=n&&n.encode||CW;we.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let s;if(r?s=r(t,n):s=we.isURLSearchParams(t)?t.toString():new J_(t,n).toString(i),s){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class MS{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){we.forEach(this.handlers,function(i){i!==null&&t(i)})}}const vO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wW=typeof URLSearchParams<"u"?URLSearchParams:J_,DW=typeof FormData<"u"?FormData:null,kW=typeof Blob<"u"?Blob:null,OW={isBrowser:!0,classes:{URLSearchParams:wW,FormData:DW,Blob:kW},protocols:["http","https","file","blob","url","data"]},Z_=typeof window<"u"&&typeof document<"u",q0=typeof navigator=="object"&&navigator||void 0,IW=Z_&&(!q0||["ReactNative","NativeScript","NS"].indexOf(q0.product)<0),PW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",RW=Z_&&window.location.href||"http://localhost",LW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Z_,hasStandardBrowserEnv:IW,hasStandardBrowserWebWorkerEnv:PW,navigator:q0,origin:RW},Symbol.toStringTag,{value:"Module"})),ui={...LW,...OW};function MW(e,t){return mm(e,new ui.classes.URLSearchParams,{visitor:function(n,i,r,s){return ui.isNode&&we.isBuffer(n)?(this.append(i,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function NW(e){return we.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function BW(e){const t={},n=Object.keys(e);let i;const r=n.length;let s;for(i=0;i<r;i++)s=n[i],t[s]=e[s];return t}function yO(e){function t(n,i,r,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&we.isArray(r)?r.length:a,l?(we.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!o):((!r[a]||!we.isObject(r[a]))&&(r[a]=[]),t(n,i,r[a],s)&&we.isArray(r[a])&&(r[a]=BW(r[a])),!o)}if(we.isFormData(e)&&we.isFunction(e.entries)){const n={};return we.forEachEntry(e,(i,r)=>{t(NW(i),r,n,0)}),n}return null}function FW(e,t,n){if(we.isString(e))try{return(t||JSON.parse)(e),we.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const $d={transitional:vO,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,s=we.isObject(t);if(s&&we.isHTMLForm(t)&&(t=new FormData(t)),we.isFormData(t))return r?JSON.stringify(yO(t)):t;if(we.isArrayBuffer(t)||we.isBuffer(t)||we.isStream(t)||we.isFile(t)||we.isBlob(t)||we.isReadableStream(t))return t;if(we.isArrayBufferView(t))return t.buffer;if(we.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return MW(t,this.formSerializer).toString();if((o=we.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return mm(o?{"files[]":t}:t,l&&new l,this.formSerializer)}}return s||r?(n.setContentType("application/json",!1),FW(t)):t}],transformResponse:[function(t){const n=this.transitional||$d.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(we.isResponse(t)||we.isReadableStream(t))return t;if(t&&we.isString(t)&&(i&&!this.responseType||r)){const a=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?_t.from(o,_t.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ui.classes.FormData,Blob:ui.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};we.forEach(["delete","get","head","post","put","patch"],e=>{$d.headers[e]={}});const $W=we.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),UW=e=>{const t={};let n,i,r;return e&&e.split("\n").forEach(function(a){r=a.indexOf(":"),n=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!n||t[n]&&$W[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},NS=Symbol("internals");function _c(e){return e&&String(e).trim().toLowerCase()}function Sh(e){return e===!1||e==null?e:we.isArray(e)?e.map(Sh):String(e)}function VW(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const jW=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function iv(e,t,n,i,r){if(we.isFunction(i))return i.call(this,t,n);if(r&&(t=n),!!we.isString(t)){if(we.isString(i))return t.indexOf(i)!==-1;if(we.isRegExp(i))return i.test(t)}}function HW(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function zW(e,t){const n=we.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,s,a){return this[i].call(this,t,r,s,a)},configurable:!0})})}let Bi=class{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function s(o,l,u){const c=_c(l);if(!c)throw new Error("header name must be a non-empty string");const d=we.findKey(r,c);(!d||r[d]===void 0||u===!0||u===void 0&&r[d]!==!1)&&(r[d||l]=Sh(o))}const a=(o,l)=>we.forEach(o,(u,c)=>s(u,c,l));if(we.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(we.isString(t)&&(t=t.trim())&&!jW(t))a(UW(t),n);else if(we.isObject(t)&&we.isIterable(t)){let o={},l,u;for(const c of t){if(!we.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[u=c[0]]=(l=o[u])?we.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}a(o,n)}else t!=null&&s(n,t,i);return this}get(t,n){if(t=_c(t),t){const i=we.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return VW(r);if(we.isFunction(n))return n.call(this,r,i);if(we.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=_c(t),t){const i=we.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||iv(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function s(a){if(a=_c(a),a){const o=we.findKey(i,a);o&&(!n||iv(i,i[o],o,n))&&(delete i[o],r=!0)}}return we.isArray(t)?t.forEach(s):s(t),r}clear(t){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const s=n[i];(!t||iv(this,this[s],s,t,!0))&&(delete this[s],r=!0)}return r}normalize(t){const n=this,i={};return we.forEach(this,(r,s)=>{const a=we.findKey(i,s);if(a){n[a]=Sh(r),delete n[s];return}const o=t?HW(s):String(s).trim();o!==s&&delete n[s],n[o]=Sh(r),i[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return we.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&we.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[NS]=this[NS]={accessors:{}}).accessors,r=this.prototype;function s(a){const o=_c(a);i[o]||(zW(r,a),i[o]=!0)}return we.isArray(t)?t.forEach(s):s(t),this}};Bi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);we.reduceDescriptors(Bi.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});we.freezeMethods(Bi);function rv(e,t){const n=this||$d,i=t||n,r=Bi.from(i.headers);let s=i.data;return we.forEach(e,function(o){s=o.call(n,s,r.normalize(),t?t.status:void 0)}),r.normalize(),s}function _O(e){return!!(e&&e.__CANCEL__)}function ku(e,t,n){_t.call(this,e==null?"canceled":e,_t.ERR_CANCELED,t,n),this.name="CanceledError"}we.inherits(ku,_t,{__CANCEL__:!0});function bO(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new _t("Request failed with status code "+n.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function qW(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function WW(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,s=0,a;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=i[s];a||(a=u),n[r]=l,i[r]=u;let d=s,f=0;for(;d!==r;)f+=n[d++],d=d%e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),u-a<t)return;const h=c&&u-c;return h?Math.round(f*1e3/h):void 0}}function GW(e,t){let n=0,i=1e3/t,r,s;const a=(u,c=Date.now())=>{n=c,r=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=i?a(u,c):(r=u,s||(s=setTimeout(()=>{s=null,a(r)},i-d)))},()=>r&&a(r)]}const ap=(e,t,n=3)=>{let i=0;const r=WW(50,250);return GW(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-i,u=r(l),c=a<=o;i=a;const d={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(d)},n)},BS=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},FS=e=>(...t)=>we.asap(()=>e(...t)),YW=ui.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ui.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ui.origin),ui.navigator&&/(msie|trident)/i.test(ui.navigator.userAgent)):()=>!0,KW=ui.hasStandardBrowserEnv?{write(e,t,n,i,r,s,a){if(typeof document>"u")return;const o=["".concat(e,"=").concat(encodeURIComponent(t))];we.isNumber(n)&&o.push("expires=".concat(new Date(n).toUTCString())),we.isString(i)&&o.push("path=".concat(i)),we.isString(r)&&o.push("domain=".concat(r)),s===!0&&o.push("secure"),we.isString(a)&&o.push("SameSite=".concat(a)),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function XW(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function QW(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function TO(e,t,n){let i=!XW(t);return e&&(i||n==!1)?QW(e,t):t}const $S=e=>e instanceof Bi?{...e}:e;function Jo(e,t){t=t||{};const n={};function i(u,c,d,f){return we.isPlainObject(u)&&we.isPlainObject(c)?we.merge.call({caseless:f},u,c):we.isPlainObject(c)?we.merge({},c):we.isArray(c)?c.slice():c}function r(u,c,d,f){if(we.isUndefined(c)){if(!we.isUndefined(u))return i(void 0,u,d,f)}else return i(u,c,d,f)}function s(u,c){if(!we.isUndefined(c))return i(void 0,c)}function a(u,c){if(we.isUndefined(c)){if(!we.isUndefined(u))return i(void 0,u)}else return i(void 0,c)}function o(u,c,d){if(d in t)return i(u,c);if(d in e)return i(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c,d)=>r($S(u),$S(c),d,!0)};return we.forEach(Object.keys({...e,...t}),function(c){const d=l[c]||r,f=d(e[c],t[c],c);we.isUndefined(f)&&d!==o||(n[c]=f)}),n}const AO=e=>{const t=Jo({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:o}=t;if(t.headers=a=Bi.from(a),t.url=gO(TO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),we.isFormData(n)){if(ui.hasStandardBrowserEnv||ui.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(we.isFunction(n.getHeaders)){const l=n.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,d])=>{u.includes(c.toLowerCase())&&a.set(c,d)})}}if(ui.hasStandardBrowserEnv&&(i&&we.isFunction(i)&&(i=i(t)),i||i!==!1&&YW(t.url))){const l=r&&s&&KW.read(s);l&&a.set(r,l)}return t},JW=typeof XMLHttpRequest<"u",ZW=JW&&function(e){return new Promise(function(n,i){const r=AO(e);let s=r.data;const a=Bi.from(r.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=r,c,d,f,h,m;function p(){h&&h(),m&&m(),r.cancelToken&&r.cancelToken.unsubscribe(c),r.signal&&r.signal.removeEventListener("abort",c)}let g=new XMLHttpRequest;g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout;function _(){if(!g)return;const b=Bi.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),T={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:b,config:e,request:g};bO(function(O){n(O),p()},function(O){i(O),p()},T),g=null}"onloadend"in g?g.onloadend=_:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(_)},g.onabort=function(){g&&(i(new _t("Request aborted",_t.ECONNABORTED,e,g)),g=null)},g.onerror=function(A){const T=A&&A.message?A.message:"Network Error",k=new _t(T,_t.ERR_NETWORK,e,g);k.event=A||null,i(k),g=null},g.ontimeout=function(){let A=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const T=r.transitional||vO;r.timeoutErrorMessage&&(A=r.timeoutErrorMessage),i(new _t(A,T.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,e,g)),g=null},s===void 0&&a.setContentType(null),"setRequestHeader"in g&&we.forEach(a.toJSON(),function(A,T){g.setRequestHeader(T,A)}),we.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),o&&o!=="json"&&(g.responseType=r.responseType),u&&([f,m]=ap(u,!0),g.addEventListener("progress",f)),l&&g.upload&&([d,h]=ap(l),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",h)),(r.cancelToken||r.signal)&&(c=b=>{g&&(i(!b||b.type?new ku(null,e,g):b),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(c),r.signal&&(r.signal.aborted?c():r.signal.addEventListener("abort",c)));const y=qW(r.url);if(y&&ui.protocols.indexOf(y)===-1){i(new _t("Unsupported protocol "+y+":",_t.ERR_BAD_REQUEST,e));return}g.send(s||null)})},eG=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,r;const s=function(u){if(!r){r=!0,o();const c=u instanceof Error?u:this.reason;i.abort(c instanceof _t?c:new ku(c instanceof Error?c.message:c))}};let a=t&&setTimeout(()=>{a=null,s(new _t("timeout ".concat(t," of ms exceeded"),_t.ETIMEDOUT))},t);const o=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:l}=i;return l.unsubscribe=()=>we.asap(o),l}},tG=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,r;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},nG=async function*(e,t){for await(const n of iG(e))yield*tG(n,t)},iG=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},US=(e,t,n,i)=>{const r=nG(e,t);let s=0,a,o=l=>{a||(a=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await r.next();if(u){o(),l.close();return}let d=c.byteLength;if(n){let f=s+=d;n(f)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),r.return()}},{highWaterMark:2})},VS=64*1024,{isFunction:th}=we,rG=(({Request:e,Response:t})=>({Request:e,Response:t}))(we.global),{ReadableStream:jS,TextEncoder:HS}=we.global,zS=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},sG=e=>{e=we.merge.call({skipUndefined:!0},rG,e);const{fetch:t,Request:n,Response:i}=e,r=t?th(t):typeof fetch=="function",s=th(n),a=th(i);if(!r)return!1;const o=r&&th(jS),l=r&&(typeof HS=="function"?(m=>p=>m.encode(p))(new HS):async m=>new Uint8Array(await new n(m).arrayBuffer())),u=s&&o&&zS(()=>{let m=!1;const p=new n(ui.origin,{body:new jS,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!p}),c=a&&o&&zS(()=>we.isReadableStream(new i("").body)),d={stream:c&&(m=>m.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(p,g)=>{let _=p&&p[m];if(_)return _.call(p);throw new _t("Response type '".concat(m,"' is not supported"),_t.ERR_NOT_SUPPORT,g)})});const f=async m=>{if(m==null)return 0;if(we.isBlob(m))return m.size;if(we.isSpecCompliantForm(m))return(await new n(ui.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(we.isArrayBufferView(m)||we.isArrayBuffer(m))return m.byteLength;if(we.isURLSearchParams(m)&&(m=m+""),we.isString(m))return(await l(m)).byteLength},h=async(m,p)=>{const g=we.toFiniteNumber(m.getContentLength());return g==null?f(p):g};return async m=>{let{url:p,method:g,data:_,signal:y,cancelToken:b,timeout:A,onDownloadProgress:T,onUploadProgress:k,responseType:O,headers:I,withCredentials:w="same-origin",fetchOptions:D}=AO(m),R=t||fetch;O=O?(O+"").toLowerCase():"text";let L=eG([y,b&&b.toAbortSignal()],A),B=null;const N=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let $;try{if(k&&u&&g!=="get"&&g!=="head"&&($=await h(I,_))!==0){let z=new n(p,{method:"POST",body:_,duplex:"half"}),W;if(we.isFormData(_)&&(W=z.headers.get("content-type"))&&I.setContentType(W),z.body){const[le,ye]=BS($,ap(FS(k)));_=US(z.body,VS,le,ye)}}we.isString(w)||(w=w?"include":"omit");const F=s&&"credentials"in n.prototype,V={...D,signal:L,method:g.toUpperCase(),headers:I.normalize().toJSON(),body:_,duplex:"half",credentials:F?w:void 0};B=s&&new n(p,V);let U=await(s?R(B,D):R(p,V));const Y=c&&(O==="stream"||O==="response");if(c&&(T||Y&&N)){const z={};["status","statusText","headers"].forEach(ae=>{z[ae]=U[ae]});const W=we.toFiniteNumber(U.headers.get("content-length")),[le,ye]=T&&BS(W,ap(FS(T),!0))||[];U=new i(US(U.body,VS,le,()=>{ye&&ye(),N&&N()}),z)}O=O||"text";let ne=await d[we.findKey(d,O)||"text"](U,m);return!Y&&N&&N(),await new Promise((z,W)=>{bO(z,W,{data:ne,headers:Bi.from(U.headers),status:U.status,statusText:U.statusText,config:m,request:B})})}catch(F){throw N&&N(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new _t("Network Error",_t.ERR_NETWORK,m,B),{cause:F.cause||F}):_t.from(F,F&&F.code,m,B)}}},aG=new Map,SO=e=>{let t=e&&e.env||{};const{fetch:n,Request:i,Response:r}=t,s=[i,r,n];let a=s.length,o=a,l,u,c=aG;for(;o--;)l=s[o],u=c.get(l),u===void 0&&c.set(l,u=o?new Map:sG(t)),c=u;return u};SO();const eb={http:SW,xhr:ZW,fetch:{get:SO}};we.forEach(eb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const qS=e=>"- ".concat(e),oG=e=>we.isFunction(e)||e===null||e===!1;function lG(e,t){e=we.isArray(e)?e:[e];const{length:n}=e;let i,r;const s={};for(let a=0;a<n;a++){i=e[a];let o;if(r=i,!oG(i)&&(r=eb[(o=String(i)).toLowerCase()],r===void 0))throw new _t("Unknown adapter '".concat(o,"'"));if(r&&(we.isFunction(r)||(r=r.get(t))))break;s[o||"#"+a]=r}if(!r){const a=Object.entries(s).map(([l,u])=>"adapter ".concat(l," ")+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?a.length>1?"since :\n"+a.map(qS).join("\n"):" "+qS(a[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r}const xO={getAdapter:lG,adapters:eb};function sv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ku(null,e)}function WS(e){return sv(e),e.headers=Bi.from(e.headers),e.data=rv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xO.getAdapter(e.adapter||$d.adapter,e)(e).then(function(i){return sv(e),i.data=rv.call(e,e.transformResponse,i),i.headers=Bi.from(i.headers),i},function(i){return _O(i)||(sv(e),i&&i.response&&(i.response.data=rv.call(e,e.transformResponse,i.response),i.response.headers=Bi.from(i.response.headers))),Promise.reject(i)})}const EO="1.13.2",gm={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gm[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const GS={};gm.transitional=function(t,n,i){function r(s,a){return"[Axios v"+EO+"] Transitional option '"+s+"'"+a+(i?". "+i:"")}return(s,a,o)=>{if(t===!1)throw new _t(r(a," has been removed"+(n?" in "+n:"")),_t.ERR_DEPRECATED);return n&&!GS[a]&&(GS[a]=!0,console.warn(r(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,a,o):!0}};gm.spelling=function(t){return(n,i)=>(console.warn("".concat(i," is likely a misspelling of ").concat(t)),!0)};function uG(e,t,n){if(typeof e!="object")throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const s=i[r],a=t[s];if(a){const o=e[s],l=o===void 0||a(o,s,e);if(l!==!0)throw new _t("option "+s+" must be "+l,_t.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _t("Unknown option "+s,_t.ERR_BAD_OPTION)}}const xh={assertOptions:uG,validators:gm},os=xh.validators;let Vo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new MS,response:new MS}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+="\n"+s):i.stack=s}catch(a){}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Jo(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:s}=n;i!==void 0&&xh.assertOptions(i,{silentJSONParsing:os.transitional(os.boolean),forcedJSONParsing:os.transitional(os.boolean),clarifyTimeoutError:os.transitional(os.boolean)},!1),r!=null&&(we.isFunction(r)?n.paramsSerializer={serialize:r}:xh.assertOptions(r,{encode:os.function,serialize:os.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),xh.assertOptions(n,{baseUrl:os.spelling("baseURL"),withXsrfToken:os.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&we.merge(s.common,s[n.method]);s&&we.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),n.headers=Bi.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(l=l&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let c,d=0,f;if(!l){const m=[WS.bind(this),void 0];for(m.unshift(...o),m.push(...u),f=m.length,c=Promise.resolve(n);d<f;)c=c.then(m[d++],m[d++]);return c}f=o.length;let h=n;for(;d<f;){const m=o[d++],p=o[d++];try{h=m(h)}catch(g){p.call(this,g);break}}try{c=WS.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=Jo(this.defaults,t);const n=TO(t.baseURL,t.url,t.allowAbsoluteUrls);return gO(n,t.params,t.paramsSerializer)}};we.forEach(["delete","get","head","options"],function(t){Vo.prototype[t]=function(n,i){return this.request(Jo(i||{},{method:t,url:n,data:(i||{}).data}))}});we.forEach(["post","put","patch"],function(t){function n(i){return function(s,a,o){return this.request(Jo(o||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Vo.prototype[t]=n(),Vo.prototype[t+"Form"]=n(!0)});let cG=class CO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const a=new Promise(o=>{i.subscribe(o),s=o}).then(r);return a.cancel=function(){i.unsubscribe(s)},a},t(function(s,a,o){i.reason||(i.reason=new ku(s,a,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new CO(function(r){t=r}),cancel:t}}};function dG(e){return function(n){return e.apply(null,n)}}function fG(e){return we.isObject(e)&&e.isAxiosError===!0}const W0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(W0).forEach(([e,t])=>{W0[t]=e});function wO(e){const t=new Vo(e),n=rO(Vo.prototype.request,t);return we.extend(n,Vo.prototype,t,{allOwnKeys:!0}),we.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return wO(Jo(e,r))},n}const In=wO($d);In.Axios=Vo;In.CanceledError=ku;In.CancelToken=cG;In.isCancel=_O;In.VERSION=EO;In.toFormData=mm;In.AxiosError=_t;In.Cancel=In.CanceledError;In.all=function(t){return Promise.all(t)};In.spread=dG;In.isAxiosError=fG;In.mergeConfig=Jo;In.AxiosHeaders=Bi;In.formToJSON=e=>yO(we.isHTMLForm(e)?new FormData(e):e);In.getAdapter=xO.getAdapter;In.HttpStatusCode=W0;In.default=In;const{Axios:Xce,AxiosError:Qce,CanceledError:Jce,isCancel:Zce,CancelToken:ede,VERSION:tde,all:nde,Cancel:ide,isAxiosError:rde,spread:sde,toFormData:DO,AxiosHeaders:ade,HttpStatusCode:ode,formToJSON:lde,getAdapter:ude,mergeConfig:cde}=In;/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Ol=typeof document<"u";function kO(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function hG(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&kO(e.default)}const Nt=Object.assign;function av(e,t){const n={};for(const i in t){const r=t[i];n[i]=Gr(r)?r.map(e):e(r)}return n}const qc=()=>{},Gr=Array.isArray,OO=/#/g,pG=/&/g,mG=/\//g,gG=/=/g,vG=/\?/g,IO=/\+/g,yG=/%5B/g,_G=/%5D/g,PO=/%5E/g,bG=/%60/g,RO=/%7B/g,TG=/%7C/g,LO=/%7D/g,AG=/%20/g;function tb(e){return encodeURI(""+e).replace(TG,"|").replace(yG,"[").replace(_G,"]")}function SG(e){return tb(e).replace(RO,"{").replace(LO,"}").replace(PO,"^")}function G0(e){return tb(e).replace(IO,"%2B").replace(AG,"+").replace(OO,"%23").replace(pG,"%26").replace(bG,"`").replace(RO,"{").replace(LO,"}").replace(PO,"^")}function xG(e){return G0(e).replace(gG,"%3D")}function EG(e){return tb(e).replace(OO,"%23").replace(vG,"%3F")}function CG(e){return e==null?"":EG(e).replace(mG,"%2F")}function cd(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const wG=/\/$/,DG=e=>e.replace(wG,"");function ov(e,t,n="/"){let i,r={},s="",a="";const o=t.indexOf("#");let l=t.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(i=t.slice(0,l),s=t.slice(l+1,o>-1?o:t.length),r=e(s)),o>-1&&(i=i||t.slice(0,o),a=t.slice(o,t.length)),i=PG(i!=null?i:t,n),{fullPath:i+(s&&"?")+s+a,path:i,query:r,hash:cd(a)}}function kG(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function YS(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function OG(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&cu(t.matched[i],n.matched[r])&&MO(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function cu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function MO(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!IG(e[n],t[n]))return!1;return!0}function IG(e,t){return Gr(e)?KS(e,t):Gr(t)?KS(t,e):e===t}function KS(e,t){return Gr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function PG(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,a,o;for(a=0;a<i.length;a++)if(o=i[a],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(a).join("/")}const Na={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var dd;(function(e){e.pop="pop",e.push="push"})(dd||(dd={}));var Wc;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Wc||(Wc={}));function RG(e){if(!e)if(Ol){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),DG(e)}const LG=/^[^#]+#/;function MG(e,t){return e.replace(LG,"#")+t}function NG(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const vm=()=>({left:window.scrollX,top:window.scrollY});function BG(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=NG(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function XS(e,t){return(history.state?history.state.position-t:-1)+e}const Y0=new Map;function FG(e,t){Y0.set(e,t)}function $G(e){const t=Y0.get(e);return Y0.delete(e),t}let UG=()=>location.protocol+"//"+location.host;function NO(e,t){const{pathname:n,search:i,hash:r}=t,s=e.indexOf("#");if(s>-1){let o=r.includes(e.slice(s))?e.slice(s).length:1,l=r.slice(o);return l[0]!=="/"&&(l="/"+l),YS(l,"")}return YS(n,e)+i+r}function VG(e,t,n,i){let r=[],s=[],a=null;const o=({state:f})=>{const h=NO(e,location),m=n.value,p=t.value;let g=0;if(f){if(n.value=h,t.value=f,a&&a===m){a=null;return}g=p?f.position-p.position:0}else i(h);r.forEach(_=>{_(n.value,m,{delta:g,type:dd.pop,direction:g?g>0?Wc.forward:Wc.back:Wc.unknown})})};function l(){a=n.value}function u(f){r.push(f);const h=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return s.push(h),h}function c(){const{history:f}=window;f.state&&f.replaceState(Nt({},f.state,{scroll:vm()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function QS(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?vm():null}}function jG(e){const{history:t,location:n}=window,i={value:NO(e,n)},r={value:t.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:UG()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),r.value=u}catch(h){console.error(h),n[c?"replace":"assign"](f)}}function a(l,u){const c=Nt({},t.state,QS(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,c,!0),i.value=l}function o(l,u){const c=Nt({},r.value,t.state,{forward:l,scroll:vm()});s(c.current,c,!0);const d=Nt({},QS(i.value,l,null),{position:c.position+1},u);s(l,d,!1),i.value=l}return{location:i,state:r,push:o,replace:a}}function HG(e){e=RG(e);const t=jG(e),n=VG(e,t.state,t.location,t.replace);function i(s,a=!0){a||n.pauseListeners(),history.go(s)}const r=Nt({location:"",base:e,go:i,createHref:MG.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function zG(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),HG(e)}function qG(e){return typeof e=="string"||e&&typeof e=="object"}function BO(e){return typeof e=="string"||typeof e=="symbol"}const FO=Symbol("");var JS;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(JS||(JS={}));function du(e,t){return Nt(new Error,{type:e,[FO]:!0},t)}function js(e,t){return e instanceof Error&&FO in e&&(t==null||!!(e.type&t))}const ZS="[^/]+?",WG={sensitive:!1,strict:!1,start:!0,end:!0},GG=/[.+*?^${}()[\]/\\]/g;function YG(e,t){const n=Nt({},WG,t),i=[];let r=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=40+(n.sensitive?.25:0);if(f.type===0)d||(r+="/"),r+=f.value.replace(GG,"\\$&"),h+=40;else if(f.type===1){const{value:m,repeatable:p,optional:g,regexp:_}=f;s.push({name:m,repeatable:p,optional:g});const y=_||ZS;if(y!==ZS){h+=10;try{new RegExp("(".concat(y,")"))}catch(A){throw new Error('Invalid custom RegExp for param "'.concat(m,'" (').concat(y,"): ")+A.message)}}let b=p?"((?:".concat(y,")(?:/(?:").concat(y,"))*)"):"(".concat(y,")");d||(b=g&&u.length<2?"(?:/".concat(b,")"):"/"+b),g&&(b+="?"),r+=b,h+=20,g&&(h+=-8),p&&(h+=-20),y===".*"&&(h+=-50)}c.push(h)}i.push(c)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const a=new RegExp(r,n.sensitive?"":"i");function o(u){const c=u.match(a),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",m=s[f-1];d[m.name]=h&&m.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===0)c+=h.value;else if(h.type===1){const{value:m,repeatable:p,optional:g}=h,_=m in u?u[m]:"";if(Gr(_)&&!p)throw new Error('Provided param "'.concat(m,'" is an array but it is not repeatable (* or + modifiers)'));const y=Gr(_)?_.join("/"):_;if(!y)if(g)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error('Missing required param "'.concat(m,'"'));c+=y}}return c||"/"}return{re:a,score:i,keys:s,parse:o,stringify:l}}function KG(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function $O(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const s=KG(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(ex(i))return 1;if(ex(r))return-1}return r.length-i.length}function ex(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const XG={type:0,value:""},QG=/[a-zA-Z0-9_]/;function JG(e){if(!e)return[[]];if(e==="/")return[[XG]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(h){throw new Error("ERR (".concat(n,')/"').concat(u,'": ').concat(h))}let n=0,i=n;const r=[];let s;function a(){s&&r.push(s),s=[]}let o=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t("A repeatable param (".concat(u,") must be alone in its segment. eg: '/:ids+.")),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;o<e.length;){if(l=e[o++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),a()):l===":"?(d(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:QG.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&o--,c="";break;default:t("Unknown state");break}}return n===2&&t('Unfinished custom RegExp for param "'.concat(u,'"')),d(),a(),r}function ZG(e,t,n){const i=YG(JG(e.path),n),r=Nt(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function eY(e,t){const n=[],i=new Map;t=rx({strict:!1,end:!0,sensitive:!1},t);function r(d){return i.get(d)}function s(d,f,h){const m=!h,p=nx(d);p.aliasOf=h&&h.record;const g=rx(t,d),_=[p];if("alias"in d){const A=typeof d.alias=="string"?[d.alias]:d.alias;for(const T of A)_.push(nx(Nt({},p,{components:h?h.record.components:p.components,path:T,aliasOf:h?h.record:p})))}let y,b;for(const A of _){const{path:T}=A;if(f&&T[0]!=="/"){const k=f.record.path,O=k[k.length-1]==="/"?"":"/";A.path=f.record.path+(T&&O+T)}if(y=ZG(A,f,g),h?h.alias.push(y):(b=b||y,b!==y&&b.alias.push(y),m&&d.name&&!ix(y)&&a(d.name)),UO(y)&&l(y),p.children){const k=p.children;for(let O=0;O<k.length;O++)s(k[O],y,h&&h.children[O])}h=h||y}return b?()=>{a(b)}:qc}function a(d){if(BO(d)){const f=i.get(d);f&&(i.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&i.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function o(){return n}function l(d){const f=iY(d,n);n.splice(f,0,d),d.record.name&&!ix(d)&&i.set(d.record.name,d)}function u(d,f){let h,m={},p,g;if("name"in d&&d.name){if(h=i.get(d.name),!h)throw du(1,{location:d});g=h.record.name,m=Nt(tx(f.params,h.keys.filter(b=>!b.optional).concat(h.parent?h.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),d.params&&tx(d.params,h.keys.map(b=>b.name))),p=h.stringify(m)}else if(d.path!=null)p=d.path,h=n.find(b=>b.re.test(p)),h&&(m=h.parse(p),g=h.record.name);else{if(h=f.name?i.get(f.name):n.find(b=>b.re.test(f.path)),!h)throw du(1,{location:d,currentLocation:f});g=h.record.name,m=Nt({},f.params,d.params),p=h.stringify(m)}const _=[];let y=h;for(;y;)_.unshift(y.record),y=y.parent;return{name:g,path:p,params:m,matched:_,meta:nY(_)}}e.forEach(d=>s(d));function c(){n.length=0,i.clear()}return{addRoute:s,resolve:u,removeRoute:a,clearRoutes:c,getRoutes:o,getRecordMatcher:r}}function tx(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function nx(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:tY(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function tY(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function ix(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function nY(e){return e.reduce((t,n)=>Nt(t,n.meta),{})}function rx(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function iY(e,t){let n=0,i=t.length;for(;n!==i;){const s=n+i>>1;$O(e,t[s])<0?i=s:n=s+1}const r=rY(e);return r&&(i=t.lastIndexOf(r,i-1)),i}function rY(e){let t=e;for(;t=t.parent;)if(UO(t)&&$O(e,t)===0)return t}function UO({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function sY(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(IO," "),a=s.indexOf("="),o=cd(a<0?s:s.slice(0,a)),l=a<0?null:cd(s.slice(a+1));if(o in t){let u=t[o];Gr(u)||(u=t[o]=[u]),u.push(l)}else t[o]=l}return t}function sx(e){let t="";for(let n in e){const i=e[n];if(n=xG(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Gr(i)?i.map(s=>s&&G0(s)):[i&&G0(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function aY(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Gr(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const VO=Symbol(""),ax=Symbol(""),ym=Symbol(""),nb=Symbol(""),K0=Symbol("");function bc(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function oY(e,t,n){const i=()=>{e[t].delete(n)};Xr(i),vr(i),gr(()=>{e[t].add(n)}),e[t].add(n)}function dde(e){const t=En(VO,{}).value;t&&oY(t,"leaveGuards",e)}function za(e,t,n,i,r,s=a=>a()){const a=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,l)=>{const u=f=>{f===!1?l(du(4,{from:n,to:t})):f instanceof Error?l(f):qG(f)?l(du(2,{from:t,to:f})):(a&&i.enterCallbacks[r]===a&&typeof f=="function"&&a.push(f),o())},c=s(()=>e.call(i&&i.instances[r],t,n,u));let d=Promise.resolve(c);e.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function lv(e,t,n,i,r=s=>s()){const s=[];for(const a of e)for(const o in a.components){let l=a.components[o];if(!(t!=="beforeRouteEnter"&&!a.instances[o]))if(kO(l)){const c=(l.__vccOpts||l)[t];c&&s.push(za(c,n,i,a,o,r))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error("Couldn't resolve component \"".concat(o,'" at "').concat(a.path,'"'));const d=hG(c)?c.default:c;a.mods[o]=c,a.components[o]=d;const h=(d.__vccOpts||d)[t];return h&&za(h,n,i,a,o,r)()}))}}return s}function ox(e){const t=En(ym),n=En(nb),i=fe(()=>{const l=Ge(e.to);return t.resolve(l)}),r=fe(()=>{const{matched:l}=i.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(cu.bind(null,c));if(f>-1)return f;const h=lx(l[u-2]);return u>1&&lx(c)===h&&d[d.length-1].path!==h?d.findIndex(cu.bind(null,l[u-2])):f}),s=fe(()=>r.value>-1&&fY(n.params,i.value.params)),a=fe(()=>r.value>-1&&r.value===n.matched.length-1&&MO(n.params,i.value.params));function o(l={}){if(dY(l)){const u=t[Ge(e.replace)?"replace":"push"](Ge(e.to)).catch(qc);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:i,href:fe(()=>i.value.href),isActive:s,isExactActive:a,navigate:o}}function lY(e){return e.length===1?e[0]:e}const uY=Se({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ox,setup(e,{slots:t}){const n=vt(ox(e)),{options:i}=En(ym),r=fe(()=>({[ux(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[ux(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&lY(t.default(n));return e.custom?s:Es("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),cY=uY;function dY(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function fY(e,t){for(const n in t){const i=t[n],r=e[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Gr(r)||r.length!==i.length||i.some((s,a)=>s!==r[a]))return!1}return!0}function lx(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ux=(e,t,n)=>e!=null?e:t!=null?t:n,hY=Se({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=En(K0),r=fe(()=>e.route||i.value),s=En(ax,0),a=fe(()=>{let u=Ge(s);const{matched:c}=r.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),o=fe(()=>r.value.matched[a.value]);$r(ax,fe(()=>a.value+1)),$r(VO,o),$r(K0,r);const l=ie();return De(()=>[l.value,o.value,e.name],([u,c,d],[f,h,m])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!cu(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=r.value,c=e.name,d=o.value,f=d&&d.components[c];if(!f)return cx(n.default,{Component:f,route:u});const h=d.props[c],m=h?h===!0?u.params:typeof h=="function"?h(u):h:null,g=Es(f,Nt({},m,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return cx(n.default,{Component:g,route:u})||g}}});function cx(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const pY=hY;function mY(e){const t=eY(e.routes,e),n=e.parseQuery||sY,i=e.stringifyQuery||sx,r=e.history,s=bc(),a=bc(),o=bc(),l=Ts(Na);let u=Na;Ol&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=av.bind(null,q=>""+q),d=av.bind(null,CG),f=av.bind(null,cd);function h(q,ve){let X,Z;return BO(q)?(X=t.getRecordMatcher(q),Z=ve):Z=q,t.addRoute(Z,X)}function m(q){const ve=t.getRecordMatcher(q);ve&&t.removeRoute(ve)}function p(){return t.getRoutes().map(q=>q.record)}function g(q){return!!t.getRecordMatcher(q)}function _(q,ve){if(ve=Nt({},ve||l.value),typeof q=="string"){const se=ov(n,q,ve.path),_e=t.resolve({path:se.path},ve),Ae=r.createHref(se.fullPath);return Nt(se,_e,{params:f(_e.params),hash:cd(se.hash),redirectedFrom:void 0,href:Ae})}let X;if(q.path!=null)X=Nt({},q,{path:ov(n,q.path,ve.path).path});else{const se=Nt({},q.params);for(const _e in se)se[_e]==null&&delete se[_e];X=Nt({},q,{params:d(se)}),ve.params=d(ve.params)}const Z=t.resolve(X,ve),he=q.hash||"";Z.params=c(f(Z.params));const H=kG(i,Nt({},q,{hash:SG(he),path:Z.path})),K=r.createHref(H);return Nt({fullPath:H,hash:he,query:i===sx?aY(q.query):q.query||{}},Z,{redirectedFrom:void 0,href:K})}function y(q){return typeof q=="string"?ov(n,q,l.value.path):Nt({},q)}function b(q,ve){if(u!==q)return du(8,{from:ve,to:q})}function A(q){return O(q)}function T(q){return A(Nt(y(q),{replace:!0}))}function k(q){const ve=q.matched[q.matched.length-1];if(ve&&ve.redirect){const{redirect:X}=ve;let Z=typeof X=="function"?X(q):X;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=y(Z):{path:Z},Z.params={}),Nt({query:q.query,hash:q.hash,params:Z.path!=null?{}:q.params},Z)}}function O(q,ve){const X=u=_(q),Z=l.value,he=q.state,H=q.force,K=q.replace===!0,se=k(X);if(se)return O(Nt(y(se),{state:typeof se=="object"?Nt({},he,se.state):he,force:H,replace:K}),ve||X);const _e=X;_e.redirectedFrom=ve;let Ae;return!H&&OG(i,Z,X)&&(Ae=du(16,{to:_e,from:Z}),z(Z,Z,!0,!1)),(Ae?Promise.resolve(Ae):D(_e,Z)).catch(Ce=>js(Ce)?js(Ce,2)?Ce:ne(Ce):U(Ce,_e,Z)).then(Ce=>{if(Ce){if(js(Ce,2))return O(Nt({replace:K},y(Ce.to),{state:typeof Ce.to=="object"?Nt({},he,Ce.to.state):he,force:H}),ve||_e)}else Ce=L(_e,Z,!0,K,he);return R(_e,Z,Ce),Ce})}function I(q,ve){const X=b(q,ve);return X?Promise.reject(X):Promise.resolve()}function w(q){const ve=ye.values().next().value;return ve&&typeof ve.runWithContext=="function"?ve.runWithContext(q):q()}function D(q,ve){let X;const[Z,he,H]=gY(q,ve);X=lv(Z.reverse(),"beforeRouteLeave",q,ve);for(const se of Z)se.leaveGuards.forEach(_e=>{X.push(za(_e,q,ve))});const K=I.bind(null,q,ve);return X.push(K),ke(X).then(()=>{X=[];for(const se of s.list())X.push(za(se,q,ve));return X.push(K),ke(X)}).then(()=>{X=lv(he,"beforeRouteUpdate",q,ve);for(const se of he)se.updateGuards.forEach(_e=>{X.push(za(_e,q,ve))});return X.push(K),ke(X)}).then(()=>{X=[];for(const se of H)if(se.beforeEnter)if(Gr(se.beforeEnter))for(const _e of se.beforeEnter)X.push(za(_e,q,ve));else X.push(za(se.beforeEnter,q,ve));return X.push(K),ke(X)}).then(()=>(q.matched.forEach(se=>se.enterCallbacks={}),X=lv(H,"beforeRouteEnter",q,ve,w),X.push(K),ke(X))).then(()=>{X=[];for(const se of a.list())X.push(za(se,q,ve));return X.push(K),ke(X)}).catch(se=>js(se,8)?se:Promise.reject(se))}function R(q,ve,X){o.list().forEach(Z=>w(()=>Z(q,ve,X)))}function L(q,ve,X,Z,he){const H=b(q,ve);if(H)return H;const K=ve===Na,se=Ol?history.state:{};X&&(Z||K?r.replace(q.fullPath,Nt({scroll:K&&se&&se.scroll},he)):r.push(q.fullPath,he)),l.value=q,z(q,ve,X,K),ne()}let B;function N(){B||(B=r.listen((q,ve,X)=>{if(!ae.listening)return;const Z=_(q),he=k(Z);if(he){O(Nt(he,{replace:!0,force:!0}),Z).catch(qc);return}u=Z;const H=l.value;Ol&&FG(XS(H.fullPath,X.delta),vm()),D(Z,H).catch(K=>js(K,12)?K:js(K,2)?(O(Nt(y(K.to),{force:!0}),Z).then(se=>{js(se,20)&&!X.delta&&X.type===dd.pop&&r.go(-1,!1)}).catch(qc),Promise.reject()):(X.delta&&r.go(-X.delta,!1),U(K,Z,H))).then(K=>{K=K||L(Z,H,!1),K&&(X.delta&&!js(K,8)?r.go(-X.delta,!1):X.type===dd.pop&&js(K,20)&&r.go(-1,!1)),R(Z,H,K)}).catch(qc)}))}let $=bc(),F=bc(),V;function U(q,ve,X){ne(q);const Z=F.list();return Z.length?Z.forEach(he=>he(q,ve,X)):console.error(q),Promise.reject(q)}function Y(){return V&&l.value!==Na?Promise.resolve():new Promise((q,ve)=>{$.add([q,ve])})}function ne(q){return V||(V=!q,N(),$.list().forEach(([ve,X])=>q?X(q):ve()),$.reset()),q}function z(q,ve,X,Z){const{scrollBehavior:he}=e;if(!Ol||!he)return Promise.resolve();const H=!X&&$G(XS(q.fullPath,0))||(Z||!X)&&history.state&&history.state.scroll||null;return Ke().then(()=>he(q,ve,H)).then(K=>K&&BG(K)).catch(K=>U(K,q,ve))}const W=q=>r.go(q);let le;const ye=new Set,ae={currentRoute:l,listening:!0,addRoute:h,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:p,resolve:_,options:e,push:A,replace:T,go:W,back:()=>W(-1),forward:()=>W(1),beforeEach:s.add,beforeResolve:a.add,afterEach:o.add,onError:F.add,isReady:Y,install(q){const ve=this;q.component("RouterLink",cY),q.component("RouterView",pY),q.config.globalProperties.$router=ve,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>Ge(l)}),Ol&&!le&&l.value===Na&&(le=!0,A(r.location).catch(he=>{}));const X={};for(const he in Na)Object.defineProperty(X,he,{get:()=>l.value[he],enumerable:!0});q.provide(ym,ve),q.provide(nb,Dw(X)),q.provide(K0,l);const Z=q.unmount;ye.add(q),q.unmount=function(){ye.delete(q),ye.size<1&&(u=Na,B&&B(),B=null,l.value=Na,le=!1,V=!1),Z()}}};function ke(q){return q.reduce((ve,X)=>ve.then(()=>w(X)),Promise.resolve())}return ae}function gY(e,t){const n=[],i=[],r=[],s=Math.max(t.matched.length,e.matched.length);for(let a=0;a<s;a++){const o=t.matched[a];o&&(e.matched.find(u=>cu(u,o))?i.push(o):n.push(o));const l=e.matched[a];l&&(t.matched.find(u=>cu(u,l))||r.push(l))}return[n,i,r]}function _m(){return En(ym)}function Ud(e){return En(nb)}const vY="modulepreload",yY=function(e,t){return new URL(e,t).href},dx={},be=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};const o=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=a(n.map(c=>{if(c=yY(c,i),c in dx)return;dx[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(!!i)for(let p=o.length-1;p>=0;p--){const g=o[p];if(g.href===c&&(!d||g.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(c,'"]').concat(f)))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":vY,d||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((p,g)=>{m.addEventListener("load",p),m.addEventListener("error",()=>g(new Error("Unable to preload CSS for ".concat(c))))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},jO=[{path:"/",name:"home",component:()=>be(()=>import("./index-BF7ladqQ.js"),__vite__mapDeps([0,1,2]),import.meta.url),meta:{title:"",hideNavBar:!0}},{path:"/:all(.*)",name:"404",component:()=>be(()=>import("./_...all_-Cgaf3wqz.js"),[],import.meta.url),meta:{title:"404",i18n:"menus.404Demo"}},{path:"/base",children:[{path:"invest",children:[{path:"",name:"invest-sys",component:()=>be(()=>import("./index-BnAxE7ht.js"),__vite__mapDeps([3,4,5,6,7,8,9,10,11,12,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"invest-click-tab",children:[{title:"",name:"safe"},{title:"",name:"env"},{title:"",name:"statistics"}]}}},{path:"EnvAdd",name:"envAdd",component:()=>be(()=>import("./EnvAdd-CnOlDWds.js"),__vite__mapDeps([14,15]),import.meta.url),meta:{title:""}},{path:"EnvDetail",name:"envDetail",component:()=>be(()=>import("./EnvDetail-2ANFjm9T.js"),__vite__mapDeps([16,17,18]),import.meta.url),meta:{title:""}},{path:"SafeAdd",name:"safeAdd",component:()=>be(()=>import("./SafeAdd-CQaOGXcM.js"),__vite__mapDeps([19,15]),import.meta.url),meta:{title:""}},{path:"SafeDetail",name:"safeDetail",component:()=>be(()=>import("./SafeDetail-CskdfjwU.js"),__vite__mapDeps([20,17,18]),import.meta.url),meta:{title:""}}]},{path:"safegroup",children:[{path:"/pages/base/safegroup",name:"anquanzhize",component:()=>be(()=>import("./index-KkdHDOS8.js"),__vite__mapDeps([21,22,4,5,6,23,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"anquanzhize-click-tab",children:[{title:"",name:"org"},{title:"",name:"target"},{title:"",name:"acc"}]}}},{path:"AccountabilityDetail",name:"accountabilityDetail",component:()=>be(()=>import("./AccountabilityDetail-vDRV6bUv.js"),__vite__mapDeps([24,18]),import.meta.url),meta:{title:""}},{path:"TargetDetail",name:"goalView",component:()=>be(()=>import("./TargetDetail-HYfThN4c.js"),__vite__mapDeps([25,18,5]),import.meta.url),meta:{title:""}}]},{path:"safeinputplan",children:[{path:"",name:"invest-plan",component:()=>be(()=>import("./index-Bo0bOGhw.js"),__vite__mapDeps([26,4,5,6]),import.meta.url),meta:{title:""}},{path:"PlanDetail",name:"inputPlanDetail",component:()=>be(()=>import("./PlanDetail-B1f2Vzim.js"),__vite__mapDeps([27,18]),import.meta.url),meta:{title:""}}]},{path:"safeworkplanlist",children:[{path:"",name:"annual-plan",component:()=>be(()=>import("./index-BV7oxsXb.js"),__vite__mapDeps([28,4,5,6]),import.meta.url),meta:{title:""}},{path:"PlanDetail",name:"planDetail",component:()=>be(()=>import("./PlanDetail-BDz0-69P.js"),__vite__mapDeps([29,18]),import.meta.url),meta:{title:""}}]}]},{path:"/BasicInformation",children:[{path:"basicDetail",name:"basicDetail",component:()=>be(()=>import("./basicDetail-D1cuIAsC.js"),__vite__mapDeps([30,18]),import.meta.url),meta:{title:""}},{path:"EmployeeFile",children:[{path:"",name:"employee-profile",component:()=>be(()=>import("./index-O2EMMAW_.js"),__vite__mapDeps([31,32,6]),import.meta.url),meta:{title:""}},{path:"EmployeeDetail",name:"EmployeeDetail",component:()=>be(()=>import("./EmployeeDetail-Cursvl7u.js"),__vite__mapDeps([33,18]),import.meta.url),meta:{title:""}},{path:"SearchForm",name:"/BasicInformation/EmployeeFile/SearchForm",component:()=>be(()=>import("./SearchForm-jmqwJ-do.js"),__vite__mapDeps([34,32,6]),import.meta.url)}]},{path:"Information",children:[{path:"",name:"info-sys",component:()=>be(()=>import("./index-hHK35Aeb.js"),__vite__mapDeps([35,23,36,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"information-click-tab",children:[{title:"",name:"OrgStructure"},{title:"",name:"QualiCertAndLicenses"},{title:"",name:"Information"}]}}}]}]},{path:"/change-password",children:[{path:"",name:"change-password",component:()=>be(()=>import("./index-BoZVn_Zl.js"),__vite__mapDeps([37,13]),import.meta.url),meta:{title:"",i18n:"menus.change-password",tabs:{"click-tab":"change-password-handleClick",active:"test-tab-2",children:[{title:"TestTab1",i18n:"menus.change-password",name:"test-tab-1"},{title:"TestTab2",i18n:"menus.change-password",name:"test-tab-2"}]}}}]},{path:"/charts",children:[{path:"",name:"charts",component:()=>be(()=>import("./index-TruDplm-.js"),__vite__mapDeps([38,39,8,11,12,9,10,40,41,42]),import.meta.url),meta:{title:" Echarts ",i18n:"menus.echartsDemo"}}]},{path:"/chatPage",children:[{path:"",name:"chatPage",component:()=>be(()=>import("./index-BOsJPFrj.js"),[],import.meta.url),meta:{title:"",hideNavBar:!0}},{path:"agentPerson",name:"agentPerson",component:()=>be(()=>import("./agentPerson-DYv5GF0D.js"),[],import.meta.url),meta:{title:""}},{path:"orderService",name:"orderService",component:()=>be(()=>import("./orderService-_pECuvjC.js"),[],import.meta.url),meta:{title:""}},{path:"safetyVideo",name:"chatPageVideo",component:()=>be(()=>import("./safetyVideo-eKul6d-N.js"),[],import.meta.url),meta:{title:"DeepSafety"}}]},{path:"/counter",children:[{path:"",name:"counter",component:()=>be(()=>import("./index-C6mlXOLc.js"),[],import.meta.url),meta:{title:"  Pinia ",i18n:"menus.persistPiniaState"}}]},{path:"/doublePrevention",children:[{path:"detail",name:"doublePreventionDetail",component:()=>be(()=>import("./detail-BbA1XcDS.js"),__vite__mapDeps([43,18]),import.meta.url),meta:{title:""}},{path:"dynamicControl",children:[{path:"",name:"dynamicControl",component:()=>be(()=>import("./index-duW1GLNz.js"),__vite__mapDeps([44,13,5]),import.meta.url),meta:{title:"",tabs:{"click-tab":"dynamic-click-tab",children:[{title:"",name:"dynamic-devicelist"},{title:"",name:"dynamic-worklist"},{title:"",name:"dynamic-arealist"},{title:"",name:"dynamic-riskrank"}]}}}]},{path:"hazardList",children:[{path:"",name:"hazardList",component:()=>be(()=>import("./index-Y0WWCCPK.js"),__vite__mapDeps([45,13,5,46,39,8,11,12,9,10,40,41]),import.meta.url),meta:{title:"",tabs:{"click-tab":"hazardList-tab",children:[{title:"",name:"HazardList"},{title:"",name:"DeferredLedger"},{title:"",name:"HazardStats"}]}}}]},{path:"hazardReporting",children:[{path:"",name:"hazardReporting",component:()=>be(()=>import("./index-fQcZGiHg.js"),[],import.meta.url),meta:{title:"",i18n:"menus.taskProcess"}}]},{path:"initiateRectification",children:[{path:"",name:"initiateRectification",component:()=>be(()=>import("./index-C_sx38hd.js"),[],import.meta.url),meta:{title:"",i18n:"menus.taskProcess"}}]},{path:"investigationPlan",children:[{path:"",name:"investigationPlan",component:()=>be(()=>import("./index-CK6k1iCx.js"),__vite__mapDeps([47,36]),import.meta.url),meta:{title:""}}]},{path:"keyControlMeasures",children:[{path:"",name:"keyControlMeasures",component:()=>be(()=>import("./index-B9A0yQFE.js"),__vite__mapDeps([48,13,49,5]),import.meta.url),meta:{title:"",tabs:{"click-tab":"keyControl-click-tab",children:[{title:"",name:"limitedSpaceLedger"},{title:"",name:"hazardousChemicalsLedger"}]}}},{path:"detail",name:"controlDetail",component:()=>be(()=>import("./detail-C6pF57Fv.js"),__vite__mapDeps([50,18,49,5]),import.meta.url),meta:{title:""}}]},{path:"riskMap",children:[{path:"",name:"riskMap",component:()=>be(()=>import("./index-zFoBNzwz.js"),[],import.meta.url),meta:{title:""}}]},{path:"riskSourceManagement",children:[{path:"",name:"riskSourceManger",component:()=>be(()=>import("./index-DCyslSWA.js"),__vite__mapDeps([51,13,5]),import.meta.url),meta:{title:"",tabs:{"click-tab":"risk-click-tab",children:[{title:"",name:"risk-devicelist"},{title:"",name:"job-list"},{title:"",name:"risk-arealist"}]}}}]},{path:"riskStats",children:[{path:"",name:"riskStats",component:()=>be(()=>import("./index-BKF-KW-6.js"),__vite__mapDeps([52,13,39,8,11,12,9,10,40,41,53]),import.meta.url),meta:{title:"",tabs:{"click-tab":"riskStats-click-tab",children:[{title:"",name:"department-stats"},{title:"",name:"area-stats"},{title:"",name:"level-stats"}]}}}]},{path:"securityCheck",children:[{path:"",name:"securityCheck",component:()=>be(()=>import("./index-BWQmO9Ru.js"),__vite__mapDeps([54,13,6,5]),import.meta.url),meta:{title:"",tabs:{"click-tab":"message-click-tab",children:[{title:"",name:"inspectRecords"},{title:"",name:"investigationRecords"},{title:"",name:"selfCheck"},{title:"",name:"XunchaRecords"}]}}}]}]},{path:"/educationAndTraining",children:[{path:"eduDetail",name:"eduDetail",component:()=>be(()=>import("./eduDetail-0dKSyXAv.js"),__vite__mapDeps([55,18]),import.meta.url),meta:{title:""}},{path:"examinationManagement",children:[{path:"",name:"examinationManagement",component:()=>be(()=>import("./index-BR_wsLzF.js"),__vite__mapDeps([56,13,57,6]),import.meta.url),meta:{title:"",tabs:{"click-tab":"exam-manage",children:[{title:"",name:"ExamRecords"},{title:"",name:"TestPaperManagement"}]}}}]},{path:"examPeopleResult",children:[{path:"",name:"examPeopleResult",component:()=>be(()=>import("./index-BuvSw-y1.js"),__vite__mapDeps([58,57]),import.meta.url),meta:{title:""}}]},{path:"learningMaterials",children:[{path:"",name:"learningMaterials",component:()=>be(()=>import("./index-CKaXuArZ.js"),__vite__mapDeps([59,60]),import.meta.url),meta:{title:""}},{path:"otherCourse",children:[{path:"",name:"otherCourse",component:()=>be(()=>import("./index-DWDlrhTh.js"),__vite__mapDeps([61,62,63]),import.meta.url),meta:{title:""}}]},{path:"textBank",children:[{path:"",name:"textBank",component:()=>be(()=>import("./index-JWpJLD19.js"),__vite__mapDeps([64,65,66,63]),import.meta.url),meta:{title:""}},{path:"questionList",name:"textBankDetail",component:()=>be(()=>import("./questionList-DeV00lJh.js"),__vite__mapDeps([67,62]),import.meta.url),meta:{title:""}},{path:"textAnswerQuestion",name:"questionDetail",component:()=>be(()=>import("./textAnswerQuestion-DraI2qm3.js"),__vite__mapDeps([68,62]),import.meta.url),meta:{title:""}}]},{path:"videoBank",children:[{path:"",name:"videoBank",component:()=>be(()=>import("./index-ChbN46Um.js"),__vite__mapDeps([69,65,66,63]),import.meta.url),meta:{title:""}},{path:"detail",name:"videoBankDetail",component:()=>be(()=>import("./detail-CkvUdT6c.js"),__vite__mapDeps([70,62]),import.meta.url),meta:{title:""}}]},{path:"videosCourseware",children:[{path:"",name:"videosCourseware",component:()=>be(()=>import("./index-DLruRDXj.js"),__vite__mapDeps([71,62,63]),import.meta.url),meta:{title:""}},{path:"videosDetail",name:"videosDetail",component:()=>be(()=>import("./videosDetail-CSB1Aj6Q.js"),__vite__mapDeps([72,62]),import.meta.url),meta:{title:""}}]}]},{path:"scoreList",children:[{path:"",name:"scoreList",component:()=>be(()=>import("./index-BLUKI5yF.js"),__vite__mapDeps([73,74]),import.meta.url),meta:{title:""}}]},{path:"trainingClassList",children:[{path:"",name:"trainingClassList",component:()=>be(()=>import("./index-B205f_FP.js"),__vite__mapDeps([75,13,66,6]),import.meta.url),meta:{title:"",tabs:{"click-tab":"class-manage",children:[{title:"",name:"TrainingClassList"},{title:"",name:"PublicCourses"},{title:"",name:"CertificateList"},{title:"",name:"PlaceList"},{title:"",name:"TrainingTeacher"}]}}}]},{path:"trainingManagement",children:[{path:"",name:"trainingManagement",component:()=>be(()=>import("./index-CCBPGyWI.js"),__vite__mapDeps([76,13,74,6,5]),import.meta.url),meta:{title:"",tabs:{"click-tab":"training-manage",children:[{title:"",name:"trainingLedger"},{title:"",name:"trainingTasks"}]}}}]},{path:"trainingPlan",children:[{path:"",name:"EducationTraining",component:()=>be(()=>import("./index-DwfEE61p.js"),__vite__mapDeps([77,78,6]),import.meta.url),meta:{title:""}},{path:"SearchForm",name:"/educationAndTraining/trainingPlan/SearchForm",component:()=>be(()=>import("./SearchForm-B9FjRt8W.js"),__vite__mapDeps([79,78,6]),import.meta.url)},{path:"SearchForm2",name:"/educationAndTraining/trainingPlan/SearchForm2",component:()=>be(()=>import("./SearchForm2-C9iqNm-e.js"),[],import.meta.url)}]},{path:"trainingStatistics",children:[{path:"",name:"trainingStatistics",component:()=>be(()=>import("./index-DnufGb-m.js"),__vite__mapDeps([80,13,81,82,39,8,11,12,9,10,40,41]),import.meta.url),meta:{title:"",tabs:{"click-tab":"train-stats",children:[{title:"",name:"DeptRank"},{title:"",name:"TrainingStats"}]}}}]}]},{path:"/emergencyManagement",children:[{path:"detail",name:"emergencyDetail",component:()=>be(()=>import("./detail-CEIVGTAQ.js"),__vite__mapDeps([83,18]),import.meta.url),meta:{title:""}},{path:"drillPlanList",name:"yingjiyanlianjihua",component:()=>be(()=>import("./drillPlanList-NucbrwXF.js"),__vite__mapDeps([84,85]),import.meta.url),meta:{title:""}},{path:"emergencyDrills",children:[{path:"",name:"emergency-drills",component:()=>be(()=>import("./index-Czd8iRKi.js"),__vite__mapDeps([86,13,87,85,5,6,88]),import.meta.url),meta:{title:"",tabs:{"click-tab":"emergency-tab",children:[{title:"",name:"drillRecord"},{title:"",name:"drillRectification"}]}}},{path:"drillRecord",name:"/emergencyManagement/emergencyDrills/drillRecord",component:()=>be(()=>import("./drillRecord-BLzbmkdn.js"),__vite__mapDeps([89,87,85,5,6]),import.meta.url)},{path:"drillRectification",name:"/emergencyManagement/emergencyDrills/drillRectification",component:()=>be(()=>import("./drillRectification-BPg4GipQ.js"),__vite__mapDeps([90,88,5,6]),import.meta.url)}]},{path:"emergencyPreparedness",children:[{path:"",name:"emergency-preparedness",component:()=>be(()=>import("./index-nP4XYj6B.js"),__vite__mapDeps([91,13,92,93,94,95,96,97]),import.meta.url),meta:{title:"",tabs:{"click-tab":"preparedness-tab",children:[{title:"",name:"0"},{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"},{title:"",name:"4"},{title:"",name:"5"}]}}},{path:"emergencyBook",name:"/emergencyManagement/emergencyPreparedness/emergencyBook",component:()=>be(()=>import("./emergencyBook-U7fA3SN0.js"),__vite__mapDeps([98,96]),import.meta.url)},{path:"emergencyMaterials",name:"/emergencyManagement/emergencyPreparedness/emergencyMaterials",component:()=>be(()=>import("./emergencyMaterials-nNgqA6Y8.js"),__vite__mapDeps([99,94]),import.meta.url)},{path:"emergencyPlan",name:"/emergencyManagement/emergencyPreparedness/emergencyPlan",component:()=>be(()=>import("./emergencyPlan-QTcJmcXO.js"),__vite__mapDeps([100,92]),import.meta.url)},{path:"emergencyTeam",name:"/emergencyManagement/emergencyPreparedness/emergencyTeam",component:()=>be(()=>import("./emergencyTeam-zf8xMMrx.js"),__vite__mapDeps([101,93]),import.meta.url)},{path:"evacuation",name:"/emergencyManagement/emergencyPreparedness/evacuation",component:()=>be(()=>import("./evacuation-gOz3Sf0d.js"),__vite__mapDeps([102,95]),import.meta.url)},{path:"eventHandling",name:"/emergencyManagement/emergencyPreparedness/eventHandling",component:()=>be(()=>import("./eventHandling-D5WouLRD.js"),__vite__mapDeps([103,97]),import.meta.url)}]},{path:"emergencyResponse",children:[{path:"",name:"emergency-response",component:()=>be(()=>import("./index-DLuayGwV.js"),__vite__mapDeps([104,13,105]),import.meta.url),meta:{title:"",tabs:{"click-tab":"emergency-response-tab",children:[{title:"",name:"disposition-records"},{title:"",name:"emergencyResponse"}]}}},{path:"dispositionRecords",name:"/emergencyManagement/emergencyResponse/dispositionRecords",component:()=>be(()=>import("./dispositionRecords-CRi3kXPo.js"),__vite__mapDeps([106,105]),import.meta.url)}]}]},{path:"/forgot-password",children:[{path:"",name:"forgot-password",component:()=>be(()=>import("./index-C_wxc6Bs.js"),__vite__mapDeps([107,108,42]),import.meta.url),meta:{i18n:"menus.forgot-password"}}]},{path:"/home",children:[{path:"",name:"/home/",component:()=>be(()=>import("./index-E_81j0RR.js"),__vite__mapDeps([1,2]),import.meta.url)}]},{path:"/InstitutionalizedManagement",children:[{path:"administrativeRegulations",name:"administrative_regulations",component:()=>be(()=>import("./administrativeRegulations-B0PG3Ztn.js"),__vite__mapDeps([109,110,111]),import.meta.url),meta:{title:""}},{path:"applicableRegulations",name:"applicable_regulations",component:()=>be(()=>import("./applicableRegulations-IucuZHLY.js"),__vite__mapDeps([112,110,111]),import.meta.url),meta:{title:""}},{path:"dataKnowledge",name:"data_knowledge",component:()=>be(()=>import("./dataKnowledge-CRTZbHXu.js"),__vite__mapDeps([113,110,111]),import.meta.url),meta:{title:""}},{path:"decisionMakingMeetings",name:"decision-making-meeting",component:()=>be(()=>import("./decisionMakingMeetings-mmqnip-f.js"),__vite__mapDeps([114,111,6]),import.meta.url),meta:{title:""}},{path:"departmentalRegulations",name:"departmental_regulations",component:()=>be(()=>import("./departmentalRegulations-i3zVI1uH.js"),__vite__mapDeps([115,110,111]),import.meta.url),meta:{title:""}},{path:"detail",name:"institutionalizedDetail",component:()=>be(()=>import("./detail-ew4YeckH.js"),__vite__mapDeps([116,18]),import.meta.url),meta:{title:""}},{path:"IndustryClassification",children:[{path:"",name:"industry_classification",component:()=>be(()=>import("./index-D3ZNj7ce.js"),__vite__mapDeps([117,111]),import.meta.url),meta:{title:""}},{path:"detail",name:"industryClassificationDetail",component:()=>be(()=>import("./detail-CJW88VMk.js"),[],import.meta.url),meta:{title:""}}]},{path:"industryStandards",name:"industry_standards",component:()=>be(()=>import("./industryStandards-nE12kLN5.js"),__vite__mapDeps([118,110,111]),import.meta.url),meta:{title:""}},{path:"localRegulations",name:"local_regulations",component:()=>be(()=>import("./localRegulations-BIMj2_vt.js"),__vite__mapDeps([119,110,111]),import.meta.url),meta:{title:""}},{path:"localStandards",name:"local_standards",component:()=>be(()=>import("./localStandards-BOytNbG4.js"),__vite__mapDeps([120,110,111]),import.meta.url),meta:{title:""}},{path:"nationalLaw",name:"national_law",component:()=>be(()=>import("./nationalLaw-Ch_plVi8.js"),__vite__mapDeps([121,110,111]),import.meta.url),meta:{title:""}},{path:"nationalStandards",name:"national_standards",component:()=>be(()=>import("./nationalStandards-Bwoi_740.js"),__vite__mapDeps([122,110,111]),import.meta.url),meta:{title:""}},{path:"normativeDocuments",name:"normative_documents",component:()=>be(()=>import("./normativeDocuments-BCpXS5dJ.js"),__vite__mapDeps([123,110,111]),import.meta.url),meta:{title:""}},{path:"OperatingProcedures",children:[{path:"",name:"operating-procedures",component:()=>be(()=>import("./index-wZy7QcDi.js"),__vite__mapDeps([124,111]),import.meta.url),meta:{title:""}}]},{path:"techprocess",children:[{path:"",name:"techprocess-list",component:()=>be(()=>import("./index-DL17_hCR.js"),__vite__mapDeps([125,111]),import.meta.url),meta:{title:""}}]},{path:"violationRegulations",children:[{path:"",name:"violation-regulations",component:()=>be(()=>import("./index-BlqFOYXs.js"),__vite__mapDeps([126,13,127,5,6,128]),import.meta.url),meta:{title:"",tabs:{"click-tab":"violation-tab",children:[{title:"",name:"violationTemplate"},{title:"",name:"violationRecord"}]}}}]}]},{path:"/keepalive",children:[{path:"",name:"KeepAlive",component:()=>be(()=>import("./index-ClYZOtHg.js"),[],import.meta.url),meta:{title:" KeepAlive",i18n:"menus.keepAlive",keepAlive:!0}}]},{path:"/login",children:[{path:"",name:"login",component:()=>be(()=>import("./index-CiPoXqHH.js"),__vite__mapDeps([129,130]),import.meta.url),meta:{title:"",auth:!1}},{path:"index_back",name:"login-back",component:()=>be(()=>import("./index_back-CNV79_Ji.js"),__vite__mapDeps([131,108,42,130]),import.meta.url),meta:{i18n:"menus.login",auth:!1}}]},{path:"/message",children:[{path:"",name:"message",component:()=>be(()=>import("./index-C8hDnp3u.js"),__vite__mapDeps([132,13,133,18,6]),import.meta.url),meta:{title:"",i18n:"menus.message",tabs:{"click-tab":"message-click-tab",children:[{title:"",name:"myMsg"},{title:"",name:"tongzhi"},{title:"",name:"tongbao"}]}}},{path:"index2",name:"2message2",component:()=>be(()=>import("./index2-Dq9ypSc6.js"),__vite__mapDeps([134,135]),import.meta.url),meta:{title:"",i18n:"menus.message"}}]},{path:"/mock",children:[{path:"",name:"mock",component:()=>be(()=>import("./index-CARVOdoR.js"),__vite__mapDeps([136,6]),import.meta.url),meta:{title:" Mock ",i18n:"menus.mockGuide"}}]},{path:"/myCenter",children:[{path:"DutyManagement",children:[{path:"",name:"DutyManagement",component:()=>be(()=>import("./index-Z0gBGYh1.js"),__vite__mapDeps([137,13,5,6]),import.meta.url),meta:{title:"",tabs:{"click-tab":"duty-tab",children:[{title:"",name:"dutyRecord"},{title:"",name:"dutyManagement"}]}}}]},{path:"intelligence",children:[{path:"",name:"intelligence",component:()=>be(()=>import("./index-BrWia1PG.js"),__vite__mapDeps([138,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"person-click-tab",children:[{title:"",name:"XunfeiAI"},{title:"AI",name:"ZhipuAI"}]}}}]},{path:"myFile",children:[{path:"",name:"personalFile",component:()=>be(()=>import("./index-BI0izBjG.js"),__vite__mapDeps([139,13,127,6,5,22]),import.meta.url),meta:{title:"",tabs:{"click-tab":"person-click-tab",children:[{title:"",name:"basic"},{title:"",name:"cert"},{title:"",name:"violation"},{title:"",name:"tijian"},{title:"",name:"bingshi"},{title:"",name:"timing"}]}}}]},{path:"securityAffairs",children:[{path:"",name:"securityAffairs",component:()=>be(()=>import("./index-BWcqVjID.js"),__vite__mapDeps([140,13,18,5,46]),import.meta.url),meta:{title:"",tabs:{"click-tab":"securityAffairs-tab",children:[{title:"",name:"myReport"},{title:"",name:"myCheck"},{title:"",name:"myRectification"},{title:"",name:"myWork"},{title:"",name:"accidentHandling"}]}}}]}]},{path:"/profile",children:[{path:"",name:"profile",component:()=>be(()=>import("./index-vRBURVIm.js"),__vite__mapDeps([141,142,2]),import.meta.url),meta:{title:"",i18n:"menus.profile",hideNavBar:!0}}]},{path:"/register",children:[{path:"",name:"register",component:()=>be(()=>import("./index-C7ZsE4IQ.js"),__vite__mapDeps([143,108,42]),import.meta.url),meta:{i18n:"menus.register",auth:!1}},{path:"register",name:"new-register",component:()=>be(()=>import("./register-COih_78z.js"),__vite__mapDeps([144,145]),import.meta.url),meta:{title:"",auth:!1}}]},{path:"/report",children:[{path:"analysis",children:[{path:"",name:"analysis",component:()=>be(()=>import("./index-BvUq4Fc5.js"),__vite__mapDeps([146,81,82,39,8,11,12,9,10,40,41,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"analysis-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"}]}}}]},{path:"equipment",children:[{path:"",name:"equipmentReport",component:()=>be(()=>import("./index-CU2sE9H-.js"),__vite__mapDeps([147,7,8,53,148,40,9,10,12,11,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"equipmentReport-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"},{title:"",name:"4"},{title:"",name:"5"},{title:"",name:"6"}]}}}]},{path:"overall",children:[{path:"",name:"overall",component:()=>be(()=>import("./index-DHdxdLUd.js"),__vite__mapDeps([149,18,82,7,8,41,12,10]),import.meta.url),meta:{title:""}}]}]},{path:"/scroll-cache",children:[{path:"",name:"ScrollCache",component:()=>be(()=>import("./index-CFjcq0nh.js"),[],import.meta.url),meta:{title:" ScrollCache",i18n:"menus.scrollCache",keepAlive:!0}}]},{path:"/secure",children:[{path:"accident",children:[{path:"end",children:[{path:"",name:"accidentEnd",component:()=>be(()=>import("./index-D94vuKg8.js"),__vite__mapDeps([150,116,18,151,152,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"accidentEnd-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"list",children:[{path:"",name:"accidentList",component:()=>be(()=>import("./index-D3S26JLN.js"),__vite__mapDeps([153,116,18,151,152,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"accidentList-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"report",children:[{path:"",name:"accidentReport",component:()=>be(()=>import("./index-BXNKBYsm.js"),__vite__mapDeps([154,7,8,151,148,9,10,40,11]),import.meta.url),meta:{title:""}}]}]},{path:"emergency",children:[{path:"plan",children:[{path:"",name:"emergencyPlan",component:()=>be(()=>import("./index-DXLQVvOt.js"),__vite__mapDeps([155,116,18,85,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"emergencyPlan-click-tab",children:[{title:"",name:"1"}]}}}]}]},{path:"environmental",children:[{path:"alarm",children:[{path:"",name:"alarm",component:()=>be(()=>import("./index-inQ74pJw.js"),__vite__mapDeps([156,116,18,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"alarm-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"},{title:"",name:"4"},{title:"VOC",name:"5"},{title:"",name:"6"},{title:"",name:"7"}]}}}]},{path:"realTime",children:[{path:"",name:"realTime",component:()=>be(()=>import("./index-CGCQbOoP.js"),__vite__mapDeps([157,116,18,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"realTime-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"VOC",name:"3"},{title:"",name:"4"},{title:"",name:"5"}]}}}]}]},{path:"improve",children:[{path:"base",children:[{path:"",name:"improveBase",component:()=>be(()=>import("./index-BXbxSY15.js"),__vite__mapDeps([158,116,18,159,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"improveBase-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"report",children:[{path:"",name:"improveReport",component:()=>be(()=>import("./index-B3K3-Lya.js"),__vite__mapDeps([160,116,18,159,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"improveReport-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"safe",children:[{path:"",name:"improveSafe",component:()=>be(()=>import("./index-i-tvGHUT.js"),__vite__mapDeps([161,159]),import.meta.url),meta:{title:""}}]}]},{path:"safeMonitor",children:[{path:"",name:"safety",component:()=>be(()=>import("./index-C85IwnPa.js"),__vite__mapDeps([162,116,18,13,163]),import.meta.url),meta:{title:"",tabs:{"click-tab":"safety-click-tab",children:[]}}}]},{path:"training",children:[{path:"certificate",children:[{path:"",name:"certificate",component:()=>be(()=>import("./index-DGDrShjP.js"),__vite__mapDeps([164,82,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"certificate-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"classResourceDducation",children:[{path:"",name:"classResourceDducation",component:()=>be(()=>import("./index-Zim4F4FW.js"),__vite__mapDeps([165,166,62,5]),import.meta.url),meta:{title:""}}]},{path:"edtcationTypeList",children:[{path:"",name:"edtcationTypeList",component:()=>be(()=>import("./index-x3x6nCiT.js"),__vite__mapDeps([167,66,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"edtcationTypeList-click-tab",children:[{title:"",name:"video"},{title:"",name:"text"}]}}},{path:"CourseDetail",name:"courseDetail",component:()=>be(()=>import("./CourseDetail-G4d8Vfd5.js"),__vite__mapDeps([168,18,62]),import.meta.url),meta:{title:""}},{path:"Examination",name:"examination",component:()=>be(()=>import("./Examination-92RQAeDW.js"),__vite__mapDeps([169,166,62,5]),import.meta.url),meta:{title:""}},{path:"SubscribeInfo",name:"subscribeInfo",component:()=>be(()=>import("./SubscribeInfo-Cn2GR9fM.js"),__vite__mapDeps([170,23]),import.meta.url),meta:{title:""}}]},{path:"information",children:[{path:"",name:"info",component:()=>be(()=>import("./index-CEdS82Jr.js"),__vite__mapDeps([171,22,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"infos-click-tab",children:[{title:"",name:""},{title:"",name:""}]}}}]},{path:"law",children:[{path:"",name:"anfaBaodian",component:()=>be(()=>import("./index-DdMkdcd3.js"),__vite__mapDeps([172,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"law-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"9"},{title:"",name:"3"},{title:"",name:"11"}]}}}]},{path:"learning",children:[{path:"",name:"learningStatistics",component:()=>be(()=>import("./index-BTrkm_VQ.js"),__vite__mapDeps([173,7,8,82,12,11,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"learningStatistics-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"},{title:"",name:"4"}]}}}]},{path:"more",children:[{path:"",name:"trainingMore",component:()=>be(()=>import("./index-BeuVdj5M.js"),__vite__mapDeps([174,175,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"trainingMore-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"}]}}}]},{path:"myExam",children:[{path:"",name:"myExam",component:()=>be(()=>import("./index-b8Rd9RVD.js"),__vite__mapDeps([176,82,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"myExam-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"pastTraining",children:[{path:"",name:"pastTraining",component:()=>be(()=>import("./index-CGj5hsQc.js"),__vite__mapDeps([177,67,62,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"pastTraining-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"superTeacher",children:[{path:"",name:"secure",component:()=>be(()=>import("./index-5cOugafM.js"),__vite__mapDeps([178,145,66,179,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"secure-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"},{title:"",name:"4"}]}}},{path:"TrainQuestionDetail",name:"superTeacherDetail",component:()=>be(()=>import("./TrainQuestionDetail-CypzDrgI.js"),__vite__mapDeps([180,145,66]),import.meta.url),meta:{title:""}}]},{path:"trainCourse",children:[{path:"",name:"trainCourse",component:()=>be(()=>import("./index-B7Bmemou.js"),__vite__mapDeps([181,179,66,13]),import.meta.url),meta:{title:"",tabs:{"click-tab":"trainCourse-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"}]}}},{path:"TeacherDetail",name:"teacherDetail",component:()=>be(()=>import("./TeacherDetail-B7PX9mNL.js"),__vite__mapDeps([182,66]),import.meta.url),meta:{title:""}}]},{path:"trainLesson",children:[{path:"",name:"trainLesson",component:()=>be(()=>import("./index-EYAle0lV.js"),[],import.meta.url),meta:{title:""}}]}]}]},{path:"/settings",children:[{path:"",name:"settings",component:()=>be(()=>import("./index-DyCUdGWf.js"),[],import.meta.url),meta:{title:"",i18n:"menus.settings"}}]},{path:"/siteManagement",children:[{path:"baoyangManagement",children:[{path:"",name:"baoyang-management",component:()=>be(()=>import("./index-nnwf0-Ui.js"),__vite__mapDeps([183,13,184,85,185,5,186]),import.meta.url),meta:{title:"",tabs:{"click-tab":"baoyang-tab",children:[{title:"",name:"baoyangPlan"},{title:"",name:"baoyangLedger"}]}}},{path:"baoyangLedger",name:"/siteManagement/baoyangManagement/baoyangLedger",component:()=>be(()=>import("./baoyangLedger-Cd926KJZ.js"),__vite__mapDeps([187,186,85,185,5]),import.meta.url)},{path:"baoyangPlan",name:"/siteManagement/baoyangManagement/baoyangPlan",component:()=>be(()=>import("./baoyangPlan-g3xMNKgW.js"),__vite__mapDeps([188,184,85,185,5]),import.meta.url)}]},{path:"detail",name:"siteDetail",component:()=>be(()=>import("./detail-B5nSzOlf.js"),__vite__mapDeps([189,18]),import.meta.url),meta:{title:""}},{path:"detectionAndProtection",children:[{path:"",name:"detection-protection",component:()=>be(()=>import("./index-B5wuLGgH.js"),__vite__mapDeps([190,13,191,192,193,6,194,5]),import.meta.url),meta:{title:"",tabs:{"click-tab":"baoyang-tab",children:[{title:"",name:"occupation"},{title:"",name:"venue"}]}}},{path:"occupation",name:"/siteManagement/detectionAndProtection/occupation",component:()=>be(()=>import("./occupation-Cm6UvqLv.js"),__vite__mapDeps([195,191,192,193,6]),import.meta.url)},{path:"venue",name:"/siteManagement/detectionAndProtection/venue",component:()=>be(()=>import("./venue-BbNarxn5.js"),__vite__mapDeps([196,194,192,193,6,5]),import.meta.url)}]},{path:"equipmentLedger",children:[{path:"",name:"equipment-ledger",component:()=>be(()=>import("./index-DyPOF5fV.js"),__vite__mapDeps([197,13,198,199,200,6]),import.meta.url),meta:{title:"",tabs:{"click-tab":"project-tab",children:[{title:"",name:"deviceList"},{title:"",name:"specialEquipment"},{title:"",name:"monitoringSensor"},{title:"",name:"certificateLedger"}]}}},{path:"deviceList",name:"/siteManagement/equipmentLedger/deviceList",component:()=>be(()=>import("./deviceList-CZyqp30b.js"),__vite__mapDeps([201,199,200,6]),import.meta.url)}]},{path:"healthRecord",name:"health-record",component:()=>be(()=>import("./healthRecord-C7hE1O_4.js"),__vite__mapDeps([202,192,6,5]),import.meta.url),meta:{title:""}},{path:"inspectionManagement",name:"inspection-management",component:()=>be(()=>import("./inspectionManagement-3gqUFmmo.js"),__vite__mapDeps([203,5]),import.meta.url),meta:{title:""}},{path:"maintenanceManagement",name:"maintenance-management",component:()=>be(()=>import("./maintenanceManagement-Cr4OKF7x.js"),__vite__mapDeps([204,200,5]),import.meta.url),meta:{title:""}},{path:"projectManagement",children:[{path:"",name:"project_management",component:()=>be(()=>import("./index-Co8-mZbQ.js"),__vite__mapDeps([205,13,198,206,6,5]),import.meta.url),meta:{title:"",tabs:{"click-tab":"project-tab",children:[{title:"",name:"expansionLedger"},{title:"",name:"threeSimultaneous"},{title:"",name:"scrapping"}]}}},{path:"threeSimultaneous",name:"/siteManagement/projectManagement/threeSimultaneous",component:()=>be(()=>import("./threeSimultaneous-bbe0hcbK.js"),__vite__mapDeps([207,206,198,6,5]),import.meta.url)}]},{path:"RiskFactor",children:[{path:"",name:"hazard-factors",component:()=>be(()=>import("./index-Lf2yTVVq.js"),__vite__mapDeps([208,13,209,192,210,6,211]),import.meta.url),meta:{title:"",tabs:{"click-tab":"baoyang-tab",children:[{title:"",name:"hazardLedger"},{title:"",name:"declarationLedger"}]}}},{path:"declarationLedger",name:"/siteManagement/RiskFactor/declarationLedger",component:()=>be(()=>import("./declarationLedger-CAHcF8hc.js"),__vite__mapDeps([212,211,192,210,6]),import.meta.url)},{path:"hazardLedger",name:"/siteManagement/RiskFactor/hazardLedger",component:()=>be(()=>import("./hazardLedger-8HmGBEcH.js"),__vite__mapDeps([213,209,192,210,6]),import.meta.url)}]},{path:"stakeholderManagement",children:[{path:"",name:"stakeholder-management",component:()=>be(()=>import("./index-CKsq6Qn7.js"),__vite__mapDeps([214,13,5]),import.meta.url),meta:{title:"",tabs:{"click-tab":"stakeholder-tab",children:[{title:"",name:"stakeholder"},{title:"",name:"contractor"},{title:"",name:"supplier"},{title:"",name:"operator"}]}}}]},{path:"warningSign",name:"warning-sign-list",component:()=>be(()=>import("./warningSign-Ca-FuD--.js"),[],import.meta.url),meta:{title:""}}]},{path:"/task",children:[{path:"",name:"task",component:()=>be(()=>import("./index-BYaArO0X.js"),__vite__mapDeps([215,13,133,216]),import.meta.url),meta:{title:"",i18n:"menus.task",tabs:{"click-tab":"task-click-tab",children:[{title:"",name:"todo"},{title:"",name:"finished"},{title:"",name:"send"},{title:"",name:"notice"},{title:"",name:"timing"}]}}},{path:"candidate",children:[{path:"",name:"task-candidate",component:()=>be(()=>Promise.resolve().then(()=>yie),void 0,import.meta.url),meta:{title:"",i18n:"menus.taskProcess",hideNavBar:!0,keepAlive:!0}}]},{path:"process",children:[{path:"",name:"task-process",component:()=>be(()=>import("./index-OywTzcLZ.js"),__vite__mapDeps([217,135,216]),import.meta.url),meta:{title:"",i18n:"menus.taskProcess"}}]}]},{path:"/unocss",children:[{path:"",name:"unocss",component:()=>be(()=>import("./index-DGtoq8Os.js"),[],import.meta.url),meta:{title:" Unocss ",i18n:"menus.unocssExample"}}]},{path:"/zaxtmine",children:[{path:"",name:"zaxtmine",component:()=>be(()=>import("./index-CFicP3yz.js"),__vite__mapDeps([218,142,219]),import.meta.url),meta:{title:"",i18n:"menus.profile",hideNavBar:!0}}]},{path:"/zyxk",children:[{path:"home",name:"zyxkHome",component:()=>be(()=>import("./home-BTpOKz1c.js"),__vite__mapDeps([220,219,60,221,175,22]),import.meta.url),meta:{title:"",hideNavBar:!0}},{path:"jobList",children:[{path:"",name:"jobList",component:()=>be(()=>import("./index-DBqolwzk.js"),__vite__mapDeps([222,5,223]),import.meta.url),meta:{title:""}},{path:"SearchForm",name:"/zyxk/jobList/SearchForm",component:()=>be(()=>import("./SearchForm-Bi7oB8E0.js"),__vite__mapDeps([224,223]),import.meta.url)}]},{path:"WorkRequest",children:[{path:"",name:"workRequest",component:()=>be(()=>import("./index-DGNBVpwE.js"),__vite__mapDeps([225,13,128,163]),import.meta.url),meta:{title:"",tabs:{"click-tab":"workRequest-tab",children:[]}}}]}]},{path:"/zyxkmine",children:[{path:"",name:"zyxkmine",component:()=>be(()=>import("./index-B1MR0GZf.js"),__vite__mapDeps([226,142]),import.meta.url),meta:{title:"",i18n:"menus.profile",hideNavBar:!0}}]}];var op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ao(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _Y(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var Eh={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */var bY=Eh.exports,fx;function TY(){return fx||(fx=1,(function(e,t){(function(n,i){e.exports=i()})(bY,function(){var n={};n.version="0.2.0";var i=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};n.configure=function(m){var p,g;for(p in m)g=m[p],g!==void 0&&m.hasOwnProperty(p)&&(i[p]=g);return this},n.status=null,n.set=function(m){var p=n.isStarted();m=r(m,i.minimum,1),n.status=m===1?null:m;var g=n.render(!p),_=g.querySelector(i.barSelector),y=i.speed,b=i.easing;return g.offsetWidth,o(function(A){i.positionUsing===""&&(i.positionUsing=n.getPositioningCSS()),l(_,a(m,y,b)),m===1?(l(g,{transition:"none",opacity:1}),g.offsetWidth,setTimeout(function(){l(g,{transition:"all "+y+"ms linear",opacity:0}),setTimeout(function(){n.remove(),A()},y)},y)):setTimeout(A,y)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var m=function(){setTimeout(function(){n.status&&(n.trickle(),m())},i.trickleSpeed)};return i.trickle&&m(),this},n.done=function(m){return!m&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(m){var p=n.status;return p?(typeof m!="number"&&(m=(1-p)*r(Math.random()*p,.1,.95)),p=r(p+m,0,.994),n.set(p)):n.start()},n.trickle=function(){return n.inc(Math.random()*i.trickleRate)},(function(){var m=0,p=0;n.promise=function(g){return!g||g.state()==="resolved"?this:(p===0&&n.start(),m++,p++,g.always(function(){p--,p===0?(m=0,n.done()):n.set((m-p)/m)}),this)}})(),n.render=function(m){if(n.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var p=document.createElement("div");p.id="nprogress",p.innerHTML=i.template;var g=p.querySelector(i.barSelector),_=m?"-100":s(n.status||0),y=document.querySelector(i.parent),b;return l(g,{transition:"all 0 linear",transform:"translate3d("+_+"%,0,0)"}),i.showSpinner||(b=p.querySelector(i.spinnerSelector),b&&h(b)),y!=document.body&&c(y,"nprogress-custom-parent"),y.appendChild(p),p},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(i.parent),"nprogress-custom-parent");var m=document.getElementById("nprogress");m&&h(m)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var m=document.body.style,p="WebkitTransform"in m?"Webkit":"MozTransform"in m?"Moz":"msTransform"in m?"ms":"OTransform"in m?"O":"";return p+"Perspective"in m?"translate3d":p+"Transform"in m?"translate":"margin"};function r(m,p,g){return m<p?p:m>g?g:m}function s(m){return(-1+m)*100}function a(m,p,g){var _;return i.positionUsing==="translate3d"?_={transform:"translate3d("+s(m)+"%,0,0)"}:i.positionUsing==="translate"?_={transform:"translate("+s(m)+"%,0)"}:_={"margin-left":s(m)+"%"},_.transition="all "+p+"ms "+g,_}var o=(function(){var m=[];function p(){var g=m.shift();g&&g(p)}return function(g){m.push(g),m.length==1&&p()}})(),l=(function(){var m=["Webkit","O","Moz","ms"],p={};function g(A){return A.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(T,k){return k.toUpperCase()})}function _(A){var T=document.body.style;if(A in T)return A;for(var k=m.length,O=A.charAt(0).toUpperCase()+A.slice(1),I;k--;)if(I=m[k]+O,I in T)return I;return A}function y(A){return A=g(A),p[A]||(p[A]=_(A))}function b(A,T,k){T=y(T),A.style[T]=k}return function(A,T){var k=arguments,O,I;if(k.length==2)for(O in T)I=T[O],I!==void 0&&T.hasOwnProperty(O)&&b(A,O,I);else b(A,k[1],k[2])}})();function u(m,p){var g=typeof m=="string"?m:f(m);return g.indexOf(" "+p+" ")>=0}function c(m,p){var g=f(m),_=g+p;u(g,p)||(m.className=_.substring(1))}function d(m,p){var g=f(m),_;u(m,p)&&(_=g.replace(" "+p+" "," "),m.className=_.substring(1,_.length-1))}function f(m){return(" "+(m.className||"")+" ").replace(/\s+/gi," ")}function h(m){m&&m.parentNode&&m.parentNode.removeChild(m)}return n})})(Eh)),Eh.exports}var AY=TY();const ib=ao(AY),hx="",fde=[{label:"",value:"1"},{label:"",value:"2"}],hde=[{label:"",value:"1"},{label:"",value:"2"}],pde=[{label:"",value:"1"},{label:"",value:"2"}],mde=[{id:0,name:""},{id:1,name:""},{id:2,name:""},{id:3,name:""},{id:4,name:""},{id:5,name:""},{id:6,name:""},{id:7,name:""}],gde={1:{label:"",color:"red"},2:{label:"",color:"#ff6100"},3:{label:"",color:"#cccc21"},4:{label:"",color:"#0000e1"}};function SY(e){window.document.title=e?"".concat(e," - ").concat(hx):hx}ib.configure({showSpinner:!0,parent:"#app"});const Vd=mY({history:zG(""),routes:[{path:"/",redirect:{name:"chatPage"}},...jO]});console.log("routes",jO);Vd.beforeEach(async e=>{var i;ib.start();const t=sb(),n=jd();if(t.addRoute(e),SY(e.meta.title),IS()&&!((i=n.userInfo)!=null&&i.account)&&await n.info(),e.meta.auth!==!1&&!IS())return console.warn(""),xY()});function xY(){const e=location.hash,t=location.pathname,n=e.replace("#/","/");n==="login"||e.includes("redirect")||location.replace("".concat(t,"#/login?redirect=").concat(Vd.resolve(n).name))}Vd.afterEach(()=>{ib.done()});const EY="Access-Token";function X0(){const e=location.hash,t=location.pathname,n=e.replace("#/","/");n==="login"||e.includes("redirect")||location.replace("".concat(t,"#/login?redirect=").concat(Vd.resolve(n).name))}const Ou=In.create({baseURL:"/api",timeout:6e4});function rb(e){if(e.response){const{data:t={},status:n,statusText:i}=e.response;n===403&&Xo({type:"danger",message:t&&t.message||i}),n===401&&t.result&&t.result.isLogin&&(Xo({type:"danger",message:"Authorization verification failed"}),X0())}return Promise.reject(e)}function CY(e){const t=localStorage.getItem(Xk);return t&&(e.headers[EY]=t),e}Ou.interceptors.request.use(CY,rb);Ou.interceptors.response.use(e=>e.data,rb);function wY(e,t,n){return Ou.post(e,t,n)}function DY(e){const{message:t,code:n,data:i}=e;if(n===401)return Xo({type:"danger",message:t||""}),X0(),Promise.reject({message:t,code:n});if(n===500&&t==="")bU({title:"",message:""}).then(()=>{X0()});else if(n>=300||n<200)return Promise.reject(e);return i}Ou.interceptors.response.use(DY,rb);function kY(e,t){return Ou.get(e,t)}function OY(e){const t=new FormData;return Object.entries(e).forEach(([n,i])=>{Array.isArray(i)?i.forEach(r=>t.append(n,r)):t.append(n,i)}),t}function IY(e,t,n){return Ou.post(e,OY(t),n)}const nt={get:kY,post:wY,postForm:IY};function PY(e){return nt.postForm("/user/signin",e)}function RY(e){return nt.post("/user/get_eid",e)}function LY(){return nt.get("/menu/h5_menu")}function MY(){return nt.post("/user/logout")}function NY(){return nt.get("/user/email-code")}function BY(){return nt.post("/user/reset-password")}function FY(){return nt.post("/user/register")}function $Y(){return nt.get("/user/online")}function vde(e){return nt.postForm("/user/auth_code",e)}function yde(e){return nt.postForm("/user/signup_sms",e)}function _de(e){return nt.postForm("/user/signin_no_pwd",e)}function UY(e){return nt.postForm("/user/signin_sms",e)}function bde(e){return nt.get("/aianalyzer/simplechat_law",{params:e})}function Tde(e){return nt.get("/assessment/ai_answer",{params:e})}const VY={},jd=Y_("user",()=>{const e=ie({...VY}),t=ie(),n=ie([]),i=ie(0),r=ie(0),s=ie(0),a=O=>{e.value={...O}};return{userInfo:e,menus:n,eidUsers:t,onlineTimer:i,msgCount:r,taskCount:s,info:async()=>{},login:async O=>{try{const I=await PY(O);a(I),nv(I.token)}catch(I){throw eh(),Xo(I),I}},logout:async()=>{try{await MY()}finally{eh(),clearInterval(i.value)}},getCode:async()=>{try{return await NY()}catch(O){}},reset:async()=>{try{return await BY()}catch(O){}},register:async()=>{try{return await FY()}catch(O){}},setEidUser:async O=>{const I=await RY(O);t.value=I},getEidUser:()=>t.value,getMenus:()=>n.value,setMenus:async()=>{const O=await LY();n.value=O},activeOnlineTimer:()=>{i.value&&clearInterval(i.value),i.value=window.setInterval(()=>{$Y().then(O=>{r.value=O.msg_count_get||0,s.value=O.job_count_get||0})},1e4)},stopOnlineTimer:()=>{i.value&&clearInterval(i.value)},setMsgCount:O=>{r.value=O},setTaskCount:O=>{s.value=O},getPri:(O,I=0)=>{var D;const w=(D=e.value)==null?void 0:D.pri;return!w||!w[O]||!w[O].pri?!1:w[O].pri.split("")[I]==="1"},setInfo:a,setToken:nv,clearToken:eh,newSigninSms:async O=>{try{const I=await UY(O);a(I),nv(I.token)}catch(I){throw eh(),Xo(I),I}}}},{persist:!0}),sb=Y_("route-cache",()=>{const e=ie([]);return{routeCaches:e,addRoute:n=>{var i;e.value.includes(n.name)||(i=n==null?void 0:n.meta)!=null&&i.keepAlive&&e.value.push(n.name)}}}),jY=Y_("eventStore",{state:()=>({currentEvent:"",payload:null}),actions:{triggerEvent(e,t){this.currentEvent=e,this.payload=t},clearEvent(){this.currentEvent="",this.payload=null}}}),HO=nq();HO.use(fq);const HY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAwCAYAAABE1blzAAAIH0lEQVR4AexafYxcVRU/583ObhE2SqXS7mza2nmzisWCQPCDmriBEovBxJgSiTWBKKIlJDStM9P6R5dE25lpjYQYvwmYtH5A5A9Bq4iWqEiJNhQSGtuZUWrnvUJFjQRplt15h995s+/te2++3kx3C0t4uefdc86995z7e/e+e8+7Mwa9ya/YAEfzFXM0V7l9JFueGMkeW3e2nov6GoHPVP7YTaObTyzu1W8sgKl8eYMIlYXobmbewWw8ok57ddZr/ZFcJau+1CeJca8zOPmHpduOv68XO10BXrj16XNJuBQ1qk4VeFQ/V7LOGCYqBu1BXp1wpu8K6rrxXQEmksNXw8hKUFMSh1Y3KedI4TiysbUpWTeaL3+sdVmztitAqtcva262cDRdARoG720HxzDoMZq3K/ETZnqphflDtUImtt+uAGsFs0IsN8DRiyA/YcF5YfKlV//qK+aYsUurjuIV+GfE7IvMsjWi6yh2BaitrULmARFjrYjcCfn3IMILf+Hg8NAdys8HpXKVW+Hk4hnbB9W39qHWw+hp21gAtaI+UbuUmbCK5tUk9IzqSGRzalt1zOXn8LY8/8z5RDzz8PgkfH5YfWsfqMcrNsCgXTGcLa7MvJjqstnlW9wuyP5tOJU7eomuelFSvZa3aEaOnANw8l63jGW7m/d56wugXRh7FP72gwjT6EupbGWcJmQAe9fHwe9J5coHMcVODfEAFonEYRE+ECWixGEt13pu/Xzla+5D2P73NULsPbRDVsG8j87g6gug+sO0uU5zJWa+J3W6aovQfgDG6PIHoV8CipNQD/WFvir6IOryZzQaBtGkTI9rfibUN8AZp/drLiTvRo6O4n7GSc5tmJCXh4yBLzb4/u99A0xlqwpOt4823mUKo2kR8WEi0n0rSjpSVdR5mVpefB4Wsz2pbOWXLYtjKvsCmMpVDmBv3NDkQ+Q/WM73kcHXW8XMIN6fUauY/oBVNMdb0FXQmagzXDeSq9HuTiF6tskm03Xwd6RJH1PRM0A4w8JBTbEgM31LknwplvON1q70w9TD9fyuFUfQbsIumhcDZA5NQ0EF5Ivg9zTynlNPAOHkKDy4CwByLz0m4lxbK5i32183T3jKfnOALOmGjvY/BQXTIvj/Y1ARh48NcDRb+TERRTZ1+Q6m2bhdGvttHGdx6+iGDrs36qyItFmLj+7dEV1HMRbAkVz5NmG6MWRJ6PtWMbMppJtjQWcFCV8TNIspvFX7E9R14rsCXLH9yDKDjC0hI0yPWyXz1pBungSrlP6dhoRB89of7VdQ147vCnB6enDLzD7n2bDFMT7vCWcjt0qZuwDyF54v7Y/2y5M75R0BjuSqy7FPhUZPRH5g41Omk9H5KEOUEz42YdqyPH9sVTdfHQGicG3EgJ0cSH4voqOl28pL3DgSRwlzka+84x/viPqwd5uPM1EIZJ2M0PsZbaOygVFai+X3VyAB3avKWXL0PMYXWWjf8Z0rT3qKka+Ur0WbJxIOn8ITbgqo+9VNDdX/m8pVnxrNVfOeL82njeSPNPfJmV2AUP8TqVylCYeBp5JFg/UgTTeN5Kv+yijEn1SlR2zwAx6fylbvh/wbyB8CzUOSS4VkVypXfcQzrgGBUCDaYQmMoHMJ6jXhwCyU61HgJxZxQ7AV259bBuUFIDep4ROF9F9UcM9EuVFPZZcQpiH/F+hM0gtobIMCSU/RKp/yFIbIAY9Hfv7sNyWvg+wnDwcA+roQMyXToRcYFctaYcmmZ89j5luU94iFN1qlzDutovku8J/29PFz+TnOXz6D9ktBKcS5COIFgXrDggjt9oDgQVcb2sZ9kJP4+m/wre7odys1YfE0QgAdInd0ksNDa4hoBOQmBAB310rpfa6AG/gHsaR/A2z8xPIwFpGfeQ0snAER8ZM0e6UXGYnLVWQ2TmnuEdN0fwClXk97RjTHu+oCxNBfqbJPCdrj8zMMJxd9c4aNl3H9oWhFzIQHgzohdgE6wm4/vDIA7g+gZ8DLsf9NubxB/tRRmevhlVZ1Uj+9TvO4xDLw/mhdYfloSOeIO3KGUW/0I1TYXmg7Rds1qfNg+JtNjB04izG9+th2lhN0nhwnx/u3IWjD/YFF6KpgWx5IPB2U4/I9A9SlmpieCDhYiUWgnNI9SLcOkuMoa/lbBvStE/MmceRJtaFfLQln6iB8eGeiaMMP1XauahxVQuol9QxQjSMWvVnzCK3H6uduMRF9PFGPIInWC7tfLcPBRgOJRN+BvQLUsxLfHhaT/b7QhrERi+oxAxH/n+b3msRR/fjxnbPRU1t3QoeCZR4OAwb0ON4rPFYrmqF4L9goyOtUrRsDVyLauEeC0UWwUr+8vgIi3xbia2oxj+pZ6FGZ7YePw1AD2FyvANBx5O/ppU8K0i5mvmDjLAVtOUL9ywXzI1Ypc5tdTP8pbn9qu81faz+iOHSKujYUqMss8FsUhw9wgeNq2/23ALZ9NAukoO0IYnn990LAgH1zslM/2wKsM+lvB35bfCLtGM1WP+srXgdmWb5yuQjvCLquy7R/whDUe3xbgCcL5iGES8GQDEeUshfhlB5tvC5kCOl/AvyfDXTfW7zIiXwge9AaeVuAWtwmJNOiNwQ5RvKGIxOrX+3UmY4AbQ3JeEp/+wtN104Gz0qZSBWfU5dpoNHNX0eA2vj5wkXPvf2cyXES58tEvJda/9an8ey8kwj9kNi5Wd72vzV2IfMU+tI1dQWoFnQaWKWx71rF9Oes1r/1aZg372SXzFuswth99sQVr2i/4tBrAAAA//+gvQhQAAAABklEQVQDAPNh/o7rmxEkAAAAAElFTkSuQmCC",zY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAwCAYAAABE1blzAAAF5ElEQVR4Aeyaaah1UxjHD0kKZZ6TKfNMZkWGDFESEYrMrxQR4gNKyRRJZqF4TfHBPJNZyFCUqQwhc8kQPvD77c46Pe86++679j7n3OvqvT3//az1rLWftf57r73Ws9a5i/b+539tCK7HszgVXAD2AjMltmWbR9PgcqCVlBI8BK8fg6vB+eBJYKOoicpZeLct27yV9AtgY1AsJQSXxNulIBcblXhuH1feEXNJ5mwT8leBYikhuAfe1gJ1YoN19nHYjpzCiUN2tynKhswlBLceumsOGUoI3tHA5/mGslGL7sLBLyCXtzAUt1tC8BMcHgp+AFG+JfMmmJR8iOMvQBT7cGY0TJcuIaiP+7jsAi4EzwJlZS6ngUnJiTjeFCivcbFt+1D89rinV0rQuj5RlwYnnfc0gNPB+mDcsiwO08P7hvSOwLbtA8lyaUMwej2jn3HhlWQ/O6SWxrIFcNbLod1yiodEchv2ref2dSfVleDTtPYYUE7isjtYDOwDLgcOqe/QThLvoJ+rgXbLrWf9i6jjQ9gcnR6aE8pt5DtLV4I2uJ+XPm5Bfw0k7dvdnvSKoESsZ/3zqOyDeAWd3qwPjmx3GYWgrd7rBawN7ChqZDFy0smvXE4AI8koBCXn8jFVB/6m4CvgUHTmy+Gb+pRyiaCGZCksDvdH0J2lK0GHUl0c+hM9uRMcABYHa4CtgEMtx87YjTcdjoZ8LgPvY8vFT+GD3Fia70LQicHJIG/jGgxbAmPIh9FtRAIuA657Z3OjCzpqIBuR+gO0lrYEXYd84rEhh97eGNwrfokeVdy5uKDfnTlagvyLoJW0ITi/1+vli/p1tObQewo9TvFBHo5DRwVqIBK/bJArSJQSPAVfNogayI2k5oFJiqNiz6wBY1H7k5nrsyUEV+VW1zbUQF4mZayImrg8Qwtp4SdZif2xX1Wm6VJCUGeuc8mPC/qxKTND2l38g6Et+2O/gqk+OR3BNbktd3QTNr8R1IyKk09s0H6tEw116ekI+lHH+3x7N0RDP20U49IxLizT9xuVn0VOMv8+Y/0qLUFJPEruH+DJFWogbo0GGRIu4m5fSFbi8vAqKQNmF/9x4Wd8vg3OAVFujxnSkeD+5Id4SNCjuX0pVDx7jDPjgRoD3PimrKHaE2R2AJMQg4aLceyxIaoSA4IY7USCbr+GeEjQsKq6u39JIZiz1Ap9m0rHb5gARh2pHtlKDNO+r1LdLx6D+BlED56iHRQMjpKUdWOcAg/rJbu66p8EzdQh/4A9+LWeQfDxJgIMz5YnvxI4GLSV+7nhMLAKWB0YxBuok6zExT0RMUCvjP2LJPvJYdWGYHo7bkhXC6487fbbTKYHSFwB2oix6z3hBj+F10N+XdLbAMXvXZ3QmaBOkxN1IridmQC3NCFbJa+sruWXh2qq+qCiORFM/UhlnQkmB0m7vzMdh475fKbVln8P2pqwWU3hrpktvbnUj6y4Pts0ROvv6PWcbGKZv1G4r0s2gwNtKV+inRCiD39gcb8Y7303ZkrTXQg6Vbv2pTb83cIJyDXIpeNzCrShimUeNf3m9DGftIdQ7g1JVuIQTkeVlaH00oWgvo/xksE1yDeRmYuzHkHqw11LmjHTzZ0Dewm6YU2O1J6MqZtgLOoxw29NlcZQ9ic+3G/G6AlTrXjEGAsqHhL0LCQVfkSNPN7DVCsOVWdUjwzz77L2hhZGP4FrqW+kkr8AzLXiWW3qx4CHBHWwLbf4pDZAtxFJHscNfi+LoCNGSe+ELze1L6FL5XEq2o8FeEgQeyUSrRJz/LIAj0hwjvOq7/5CgvXPZe5Ym97gj3OEhkvJlF1tIuhvB/FGw68jomEW0gbc9iM23bhGNhF0bXQ9is78hwSPNmYL/k+A5z6pT657+QY5lVW6iaAV6kIy7f8VuDH+q6kz0xE0JPMMMh+uTT5nosxdvf+/Y6DR2N50BL35My5GByejHaIupLOFm+mDo8pTBU/dyDZLCUE9OAyuJ3EUkOxswbMgf7P/nX4Uyb8AAAD//6t6LQkAAAAGSURBVAMAs9U9cAgKREMAAAAASUVORK5CYII=",qY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAtEAYAAAC42jSBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAABO5JREFUeNrtm29MU1cYxp/3tlImk4DGGKRKsAJGqegic8LCqG66Mj9oIhOViYvLXAyMMaQ4x3R+WAQUnMOQaZahptFlkM2MLW5rJGYxOAMhIjriaGVW/lbQGEXHn9t3H7RmMblB5MoBvL8v/XDOfXOe5+k957Q5B9AQCj1pxzDO5GYOCpI/fiHE+6rFwnOxiY9OnSpawKghCvVSbHe3LhUxugtVVW53fn5Y2K1bgz02aAAz0rfbnT+uXet9ybsGSw8fpp20CzcCA0XrHbVkYzLF3bnDe+mm9+zmza1t+QURkeXlSt0VAzD2bz9zNSY2FiV8kGdVV6MYJt6r14vWN1bg46ih+X198mJOk3cuWNBhKEyL3N7Y+Hg/SbGCDSn8YkaGZvzTQesRyxf9/PTL0CNVpqUp9VMO4BTfxqLISNFCxjz+VE0vh4YqNSsGwNkwc4b2zR82l+gynyDFqV4aSi0N9dECEIwWgGC0AASj/iI7FVPI3NLCFVSG8JMnKc2bwcE9PaKFPi18VCqhWwEBtIbfRfOqVbiBbm4wGtWqr1oA/Al+RkNnp1c/YBjYv3Bhu6moMeqDri4AW4U4pxamBx8hh7K/u/L17t3SgL5X13DpEu3BSpinTRtuefWmIDOXoLGqqn1LUd1D48cVj3SlYCWOnD6tVl31AojAHFjNZiA5mVmnE+LSM+Whrj7OxOfz56tVVbUpiGLpACZFRxvDZ8W5LldW8k+5q5suHj+OFVQP/95eMaapwG8cg38NBrLxHJd93TrE0gEsiY5Wq7z6i3A/OuBvtZIVHQSrFRKPqF+qY0U9JgIA1WOJ+uW1bahgtAAEowUgGC0Awai+CHMYUsleXCw5dRtQWlZGBm+SvOzePdFCvef5DeQZjdyIIOnvoiLaiO9hXrRI9LjUCyCZP6W4c+da9xcGmjzZ2f9ruYgTomUCCEE+Tly9OsOS49eUnpLCkLLI7HSKHpZ6U9A86LG8pUW0oMHgBQNn/MPb2vAKbuJXr1f0eNQL4BTZoUtKMmbl2lxOs1m0MEXiJkh9R7dtw5+YjDcl4WugelPQebj4s4AA3osVmFhTY0yyved01NZCT6+h4v590UK5ld10evp0ZFEe/zB3rujx+FB9EaYE/I57BgNAQHh8PICNyBEtEyBQHo+CcTyO8FfweUcLQDBaAILRAhCMYgDUj7WYNIb/xx8l8BH+CwZlH5XfgCYUY09NjWgBYx2pAB9RVW2tYrtSgzwHGyi9uJib0A374OfcNR7jNs4i2Ons08utd0uPHVPqphhA+5aCQtNstxuvI1N3wWLhY3gbDcpJajyAt2I51jsc3g/16/HH0qWdjn32mCLlYzlPfEPGR8ihXJvLOXPmhC9IYgz9hox8hbtgdzgoAlOQGhw8bMFfwkaFzc0Ujwty5qZN0mJySIaRP4fUGzXQQnHXr3c69tlNHo/nSZ8bcgDDxZiVm+Ac8HhQjiX4ZxhXnJIBuNxuXancKuclJl7r3WePqmluHmk9w2XsbUPHifE+xk4ANuTjl2vXxovxPkZ/AD7jc+R3ZLvFMl6M9zF6AxjnxvsY+QBcMGF1W5tSs29XIxuQS28lJIxX432MeAC8UaqkkB07kIyDlHb37qOGb7CV5tXVebtRAFti4qPfIRrPhtlf7eKm9MDA0Iqcb13vR0QAADON+LZY4znnPyK/3rIKHnTdAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA0LTE2VDA5OjQzOjU2KzA4OjAwFBR8rwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNC0xNlQwOTo0Mzo1NiswODowMGVJxBMAAABIdEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL2hvbWUvYWRtaW4vaWNvbi1mb250L3RtcC9pY29uX3p6cmt4amthZ2gveGlhb3hpLnN2Z1XHuN0AAAAASUVORK5CYII=",WY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAtCAMAAADflBjwAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAN5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqTW0FQAAAEl0Uk5TABBRZlMRV/HyVTX7+SmiiMijzKTjk+gUpqXTA7ZctY0sIj7LxiOqCf30LX34xLvVxZ2QaR7u2wsvuh0z3hbq4SHg0ErzzQ4lAS8X+/wAAAABYktHRACIBR1IAAAACXBIWXMAAABIAAAASABGyWs+AAAA6ElEQVRIx92U1w6CMBRA697iwoUT3Hvg3tv+/w8ZQwlqWriY8KDn+Zw07b0pQl9hszsMcbo03+3BALw+1fcHID7GwRAJwjAfY44EEWgQJUEMGsT/L0jwHAM+QQuSKfbqpJKUIK23bBlKkBXYvpCl3SGX9zHIF35lDtYHxVL5E1HSCSq0AVR1ghotqDfYQbNFCdp6d+h0e5/0f20OFgYDaDAkwQgajEkgT2D+dKbOcy5B/MXyZQXklYJ21lpcvbOhfg9b1d/tEYitSV8NDlCfBHBfCUz46Ph8Hxnuo9MZX8z4CF1vd1O+MQ9Bz1e68dpTVAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wNC0xNlQwOTo0NDowMCswODowMN34XIgAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDQtMTZUMDk6NDQ6MDArMDg6MDCspeQ0AAAASXRFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2FkbWluL2ljb24tZm9udC90bXAvaWNvbl83bThtY3E5dmtxdS94aWFveGkuc3Zn6aUc5gAAAABJRU5ErkJggg==",GY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwEAYAAAAHkiXEAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAACH5JREFUeNrtm31QVNcZxp/3sqLWacQwipYVIksFP0AlSoJGRk0MolFhVJTqBMGAndZGMcou2IRRDLKLAnHMTP1oxYzRUYiDCiha0aIWrcbhQ0zAXY0IVdsxiB1T5eO+/UPuYljXhb2Lq3Z//+zsOWefPe/z3vPec+Au0A0wEyl3qxv1YzIz3avVP+n3NDQoZ6mj9TPLygZtXV2i9w0IsFbbvVK952rFokXu99V/Nsyvrze+trVbqyvNSzlC01ufWF5unPf3Cc2G4owMKS5be2VzQWW8ZqBhQng4cjiKdx04YDIgAP9CfHl53SHtTu/Do0d3VnfIR0kfX9vm5tb0YetlXlFbS7/BOK5wdpb6eQ8ukH9Tk/NXTiMpy8Pj+o7UzV5xd+50et5tFwguYQAyR40yGZDHP6IhPLxurG6797i8PFv5JdjOeqMVpQjy8zPb7QwFQp7Rb4bmlNbZLRN8fDoaLyG1S+O6PG1L8/qakmifv7+t3bJ5AjgDb4jpgnndc3gd04Qufy8PxBQabvlznR3X1XlZjMtKFOY63O8mKmpK3nqLTos+wt2JEzmEZlKdk1PHceJXLCJ0795bS7U6lXdtrbUTUZ7WXDIkRUbyWOzHIA8P4Z8sIvTs2ZsqrU7lfeaMtbqDDeoEg/6dd8RfkYAjEybQRUTgVm1t3cS0AFXq3r3W6g7aqk4w6D08hA9JwJHIyI79VMSHWdnayhOFatH19Ol61w0tQ4PPn7eYAGMNXyrO5IrcXOnKIDDzUxaocBNaVp0/j6XQAdYnADG8BrlxcfRf+HPhpEniTWhZtXYtAB1gfQJEL2hF1Xvv0WDWUGhyMnpjDU0/depxr/UJEOKgFVVeXo9109KeMuQDAKC3xfHCUVFUXkyA/sKcOR3vISZLinvjP/jl4sWdLhWb2Yc2te8OaCV+EFaLotnxb+NHHDXt5xoUwt/8LoNuo5ivPEO3k+PMfo+ZeZmNq0PcZmnzka/QDzRj8eKO3SYGUw4H49prr1kUlgIKon/jWP/+TygEobSy0uwHmtCCItN+2oLX+b6bm7FhNjQ0bMAA6W2PT50OKs5WV0u7HZN5tLVL44y6lfwNxT6hux7ZaGrXtTQvIws5ledXVBiNSyVP0j2hawFKgQIufftaTEBXES5jFJ2YMUN6X5eZdtvrTF4e/srrqTYzk08gGf+4d0/aforldI49o6Ol8cp4zU39Cm9vfI1rWPnE7uUzfE8DQkKAefOYnZyM28p++Eg8t2QJHmATza2vl14piuvozZiY9u1nMp9khYKP0xEopk0zGlGAMP6dr6+Hh0ZTE+nlJbW3zhCjcTUmRpqnNG/2xCLanZFRN1a3XTX24EFjwv3ghoXtcVuLyRJS/lodahh68iTaarFFhZUw0OqWFpoNL6RPntz5m+ZjY92bhmy+1jM/n7woi6+0G2UMdCdAlJhYP1WrVameWmufinuIept+TlISVcEA7eefmwzw4/koLSysO3J9g2rRrFlATg5Ra6slXeUt9YmaquBg6OAlbC8uRg7+hGWmmxMTeqOCpp86VXdVe0RVM3my1Cx/W5UBFacrFHwIrhhfWKg8rhl2rXdMzJsBcbEXL/ToYRJA2xVvyXgJ+hQavpqa6p6tLjAgPd2Tl/N1dnHpOE5qd/9DQo1h0saN1Ih5iF2/3uy8K2kfgqZPVw7xGm+oOnzYuBI7IMWhjE+4f/XCkiXQYZZTXEFBp423gPwVYAbeCaChsZE2YwRpvvsO72M5O7m4GEtNHdLg3fWjvVTr6SfsROvly8b2XyAaTiNHmjuoWUQJDfTMWAgvZFRX4xi+oNZ79/hjVHHasGEUDaCfaQ3vNGZWQLclwEEHuq0EOZCFIwF2xpEAO+NIgJ1RyFZoOwfwVI7l5ZmZ9BdhOPKKi8U72CJ809Ji7wBtheCGZeIchYJjxCsImzKFjtN2+iI+XtqGW6srOwGS8fV+uhDvSQkJ9jaqG9EiC0AmgKyjRx+fS4gIKEH6qlXWisouQezJI4TMkhJ7u/O84YdoEpfJj1t2AugGVYnxwcH2NuR5Q73gLGyRH7fsEiTVQuOSLCd/XnHixCt7DxjFFZT17rtUjuG8Ij4egKxV4DgJPy8cJ+EXE0cC7IwjAXbGkQA7I/8k7IYaWnb3LrtjKL6Miuq7qFfaQ/Xx41ci1tKIXNP/3b6sDN+fzFVznZ0bdz/U9NJOnUr1qMHvd+3CHQzlLa6u1urKPwkf4yhcWreu3lUXplIVFNQfgtbeZnUHP7ugcgsK3HPVdw1xKSm0AjogK8taXfkHseso4AIZzwO9pNAbrOHYGzfk6sj/UwRTBgZGRQHJzGz7R/dePB7Hae45n64i/yQcjvV4FBamVDycbIgoLeVNGk/9xqIixCGSej54YG+7bMY27OVHffrQJw+LDBEhIUhCAP4eGChXVv5NWGIgTmJDYCCl8wIgMBDpYLarYzZngTHOMNuJ/h+UjBcbRwLsjCMBdsZ294D+cCW/ujosRShnVFfDB++j7BW6DVTjGEYTIRFjaKuvL/rgE851d5crKz8BhFjsPHDAjRq0DSULFnz7220JY8c1N9vbr27AD2h/VPF2Sb98l8p9+8gXH8AvPNxaUdklSFyDSm7Mzv720rbtr6jxP0OKU/iSm3lcdrZcPfmPp7tQrjAqKMjexjxv+DaFw1V+3PJLUBZv4cEajbJUPdvgq1JxEZfx9bIyqAWRNlr+RctLg1YUeJUgkBJ/pHljxmAHHvHf5s4FkAZv62XlJ0B6ynkewPkREQQCEBGBHYxX5w4MANSKUADAWlvG5diG2hlHAuyMIwF2xjQBQ5HN5a/QAepFwYyvT0tAABLbf47pwEaY8dUkAeJawadZlZKCz2g/YvLzzf0u18GzMfrW5iPQlNNz8Lp1Hcf9D8HA5KKI9TCYAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA0LTE2VDA5OjQyOjQ2KzA4OjAwN3wXDwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNC0xNlQwOTo0Mjo0NiswODowMEYhr7MAAABIdEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL2hvbWUvYWRtaW4vaWNvbi1mb250L3RtcC9pY29uX2x1dnRxZXp5MjNxL3Rhc2tzLnN2Z5i0EqcAAAAASUVORK5CYII=",YY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAASZQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtb08QAAAGF0Uk5TAAGP79AyXOXRjlEX+VB+/T6AQDd0dx5ZPL+xQcCwVteWl9ZYoTEk/t0D5FsE3yKNo/u3eHq1/PJiBYsQjLZj8/DHzYpIRExN7EsGbm+vAsmC47y7ra5Ohoepeaq+kBOzEkYtoC0AAAABYktHRACIBR1IAAAACXBIWXMAAABIAAAASABGyWs+AAABmklEQVRIx92SZ1PCQBCGFwkgEjoBYsNKBCv2YKMpxYbYseD+/z/hJZdz1CMnjuOMuJ+e3L3PJLsbgLdyDDgll8Vuj8dtoWvQ6XVAtxpCRImiT0aUfZQlcuzvKgTITZBiiCCGKAcJBroKYSNFMWJghLKB4Y/JaExRlDgTEkqSCUklwYQ4icSi1rcH6bUlqOQ6wk5UJpgnQdrLsME4wnoYJddWD2EcZT2MmKExU1BNHmdTSuEEm9IkTrEpTZsh9Z0wAw6vU5qFtIZzGXBns/OwsIjaErgk57IDVjghlzQfMquE12hz6wQ3MnTOm5yAW9s6QNrIo5bfAdjZ1QzeSwPo+wfIC4iFYkqzUC6VZAu1VLHAEp+Er+u/Cbly5dC2KuUcJ5RBWHlOOBIL1Z+/IZcX9ZDv8i/9vT38vlCrN+yH2qjXOOFYvIcTTvCLBT8nnJ6J8mdjfNPnTcW2mud9sYfvCxetS9tqZXnhSheNVb/mhKp4cTeccCsW7jhBu2/bL679oPXFHnoXHnsXHk3hqXfhyRSeO3JvcbnzAvAKfLsQJc+d0fwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDQtMTZUMDk6NDM6MjIrMDg6MDDqnlGlAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA0LTE2VDA5OjQzOjIyKzA4OjAwm8PpGQAAAEh0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fcDg4c2h4N2RxamgvdGFza3Muc3ZnVbAYcAAAAABJRU5ErkJggg==",KY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwEAYAAAAHkiXEAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAB81JREFUeNrtm3tUVNcVxr99GRStxvhCYUDEwfebxoAYH5SSlxg1gq8VtS4UMMssFHAGTBYsNHTxcAESaQQlidaatKCkKihopaitLIg2dbQqMJhhzRDA+mh1AYHh7v7Rjm1xGVE4c339/hvu3P3tfT7OzD1nnyE8sQQFMdvZqXnE76oxcyY54FOKe+stDuGfI8rNDR6Ug2y1+t7bqzkYIWYzZdMJbDMauQXrOP7oUTPVLPbA6dNAbi5Re7vSVXWElE7AilNWHNet7d1b+r75w6a94eF0gZaRS0QEyrGPiwYNeuzAQTiL4dev89uYTsbUVCpsnd/j6+3bTWlpPq6Rzc1K1624Ac4ntRGGXX5+0iLKQOaePfgJIjnvf/6zu5vBGEgTTSb+Be/mrStXmsOTKz2iSkqUql9SStjVV6czGNatk76lWhQeOyZ84K1cxw3Wu7hgEH1Fe4uK1AOjcwyJYWFKjYPNZ4B6hk5f/enKlWTEPvjv2aNU4fcRxB/yrTVrTGnJL42clpNjK1mbzQD1B9rKqvXe3vg1GjE/O9tWup2FP6AKUmdmqm/EqCpPeXnZStcGBsQxsyTRXOop7crMpFkoRlPPnrYqsLNY86LV8gopJSvLmrdoXeECan3Ll9X65cs5GL/iS56eovW6zHk4Im3yZBf35tHXZi1bJlpOuAFUz69QQ1gYKf689WhwEfmwf0iIaB1hBgzxj3rP4OjoiEKyR4G3t+hCuhvaDHse8Nprbrwp8BoPHSpKR5gBqjFSrLx41izkYifW29mJ0hFGGQbgTUlqd6J58lc+PqJkxH0EnZK8sMjVVVh8G8GX0A/hLi6i4gszgH7GIfB2dBQV31bQx3RWNjo5iYovbgb48ELJq6lJWHwbQYd4HO2/e1dUfHEG/Bnj5Jy6OmHxbYUnraSjZrOo8MIMkHvTdDJdviwqvq2Qh3KVPPTKFVHxhRlQl+BwUbOgrIx3wht59fWidETBMTgCfUOD+ZNeIz0+KS8XpSNwIRZPRLKMbJThi/x8cTpdg/kBF+rJie4cOHCvDkGIXwlrVOVyY0ICnLEfu5+8L+WOK3S+hiKYW1pkF/aET1KSaH3hBpjSEkpG3TSbMQPLOS4jQ7ReVyETRtHO1NTvQ5OSNR61taL1bLYdPaT01s1/XIyNxWREQK1cB+pB8CYAX58581KFw29b2uLjbaVrMwPOnc/e9cq0tjaLoyTzpiVLoEM23hf3dNFZOBRjKOLyZdnBcry9z8KFf1scT+PzWlttpa/YHuXA32tHXdndt2+vBqlNtXf/fmzhxfgsIMBW+pyOJEouLlYtamEpa8kSI20nd7p929bj8ARsEsdxCatULhubE1w3hoUBVIxtsbHIxXR8N3hwt8lEYS5aGxsxEgb4b9limltTqDHt3Kn0cZUnwID/x9V3U4+q9RoNT6E/2blotfwRzJzq50ehVIB4d3eUYQD7/0inyhs3cUyW4Yp0Kr9wgQ5xHs/Oy2tKRYKFMzJuzE+uHLPmzh2l67SimAHOvtpR1yaOHk1maYjcsGIFjWEP9goIsHakHna/9fm9040eLRJRYDSyPTIw4exZqkQdDT98+AeTQ2KL7tCh67nxND5P3J7Pg7CZAa4HtUU12f7+nENT5BUxMbiBHiidMwcmJMJDwX6ZBdNQ2tyMj/ltKjlyBKukctKnpJjsE+eM+GtFhWh5YYWr9VE1NdmTJqFW9ap8ZscOCuVgxM6cKbqgbiMIwI6CAvlbzrf7Q2RkXUlypbv+6tXuluk2A37qGbL2mwp7+/q7A670nxsXR2E8BDN0OqRCwykqlU0HrxuxrowRgPeRsXXr0Ou3Km5Hp6RYH6u7Gr/LBgw7tvk74+tOTnJm+ylL+8GD+AsucdbT1wPuLJxFOdhy+rQl3fImHQsMbDi+bZ+msbHxceM9tgGuQzZPMjhOmMA+llKuKCxEBSWi7elvQXaaIACG2loATJqAAFNaUrLGQ69/1DCPvBJWz9Dpry2YPJlntP8GfUtKnruBt5ILQDNsGIxYgTdOnnTZqNMaqidOfNQwnTbArWfUe1enubtTEG61/7K4uMvHxp8VrOPghgBuPXFCnbfpM0PIyJGdvf2hBli3DCwf2fmpnAoKsA0F6PH0N9u7Heu4OEk3eEd+/uCgOL4U2KfPw257qAG9/ij90/7zzEzKwhVOHTtW6TqfdGgJ/o7a8eN7RrTkOlx8+CnrB34J//s0c2Ag5VMObcjNVbqwpxXeTxekaYGB5lmJR0fcOnCg4/X7ZoD1I4f20TjpTHq60gU89UzhQH49I2OEu05rqO7Xr+Pl+wxweIeu2gVHRtrsFyvPODQOlZzg7PxDDZJkzcaNHa/fM2DYsOhoo7F/f5xANH2zYYPSiT9zVKKZvgwP7zgT7hnAA3lb25TVq2k1gP73T5UXdA3yQzxeffnl1jQUsH7tWuvf/2uAG0YgKTRU6USfddiLj2P4qlXW1+TsFj22av3UqVI7v0Mbzp9XOsHnBdmODnG6p6dEEWii4QsXKp3Q84b0LhdKDvPmSQAvBXx9lU7oOeRdXjR7NqnbdFOqS5ubyR1vQO3goHRWzw3/6cRJLwZeIVSowOxevSTUwxcx4k7/vuABTMV4Ci0rk2ignZZKg4MxAAtQX1WldF7POhyHEuDcOUuMpZUOL136L4so984LQxBGAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA0LTE2VDA5OjQ0OjM3KzA4OjAwltBl5QAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNC0xNlQwOTo0NDozNyswODowMOeN3VkAAABPdEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL2hvbWUvYWRtaW4vaWNvbi1mb250L3RtcC9pY29uX3R3bHhncXlvamk5L3dvZGVkYW5neHVhbi5zdmedbAxTAAAAAElFTkSuQmCC",XY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAWhQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALZhACAAAAHd0Uk5TAANAiajDCnnr6ngJQ+TjQWn7+mheYzj4NwLN0FxbxMEW/P0YVFJxbod9e2A65+iWlRv19x6FBb4GFdfWFA2zuRAEbOlrI5nczyeE4KdaDEX+9qo1LsK0ehnHLOLhLS8hJdSiqVPlD4AR8O9ydNnTMYJ+vcnazB+hc5vHAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAASAAAAEgARslrPgAAAXFJREFUSMeV1Pk3AmEUxvHbMhRCqCRLEpJdFJItW1lDKPuaPfv995WTU9O8d+Z9n58/39PUnROAcjq9wShJRoNeBzyrqDRhYeaqam1fY8GS1dZp+XorytbQqO6bUDGbmrc7lIGjmfbOFmTM5SSDVmSujQza2UEH5d2d7MDTRQReJNZNBD1U0EsEPirwEUEfFfiJwEYF/UQwQAV26tCDbD9EnnqYHYyQlx4dY/nAOBmwf9gJ2kMwpPTSpEoAU9PlPjwDqovMyv3cPGhsYdFc5NElnn+a5ZVVT1571vwRbR2Lu0oeaH1jc0uVb4d2yr90YneP5PtJ9qUPYuwbxK1ILHAYVPqjFKos6S736WNU3cmp3J+ZUGMmWXEe1fK5I16UvA9hbY94WTzJFY9HvP73Xj6PeFN4IAtvcHv3F2R4PWIm7+8f+IPH/Ec88XvE51zwIhK8AmRFPGIW3sSCd5DEgg8IiAUJEPOI8CnmU5D+EvHfP79UN3v4i2xNXAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wNC0xNlQwOTo0NDozNSswODowMAFPdMwAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDQtMTZUMDk6NDQ6MzUrMDg6MDBwEsxwAAAAT3RFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2FkbWluL2ljb24tZm9udC90bXAvaWNvbl92eTVrZ255aDZlaS93b2RlZGFuZ3h1YW4uc3ZnPeCKMgAAAABJRU5ErkJggg==",QY=["src"],JY=["src"],ZY=["src"],eK=["src"],tK=Se({__name:"TabBar",setup(e){const t=ie(0),n=Ud(),i=jd(),r=fe(()=>n.name&&jk.includes(n.name));return(s,a)=>{const o=fk,l=so,u=dk;return Ge(r)?(je(),wt(u,{key:0,modelValue:Ge(t),"onUpdate:modelValue":a[0]||(a[0]=c=>xt(t)?t.value=c:null),route:"",placeholder:""},{default:Ze(()=>[x(o,{replace:"",to:"/chatPage"},{icon:Ze(c=>[dt("img",{src:c.active?Ge(HY):Ge(zY),alt:"home"},null,8,QY)]),default:Ze(()=>[ci(Sn(s.$t("layouts.robot"))+" ",1)]),_:1}),x(o,{replace:"",to:"/message"},{icon:Ze(c=>[x(l,{content:Ge(i).msgCount,max:"99"},{default:Ze(()=>[dt("img",{src:c.active?Ge(qY):Ge(WY),alt:"message"},null,8,JY)]),_:2},1032,["content"])]),default:Ze(()=>[ci(Sn(s.$t("layouts.message"))+" ",1)]),_:1}),x(o,{replace:"",to:"/task"},{icon:Ze(c=>[x(l,{content:Ge(i).taskCount,max:"99"},{default:Ze(()=>[dt("img",{src:c.active?Ge(GY):Ge(YY),alt:"task"},null,8,ZY)]),_:2},1032,["content"])]),default:Ze(()=>[ci(Sn(s.$t("layouts.task"))+" ",1)]),_:1}),x(o,{replace:"",to:"/profile"},{icon:Ze(c=>[dt("img",{src:c.active?Ge(KY):Ge(XY),alt:"profile"},null,8,eK)]),default:Ze(()=>[ci(Sn(s.$t("layouts.profile"))+" ",1)]),_:1})]),_:1},8,["modelValue"])):zt("",!0)}}});var zO=typeof global=="object"&&global&&global.Object===Object&&global,nK=typeof self=="object"&&self&&self.Object===Object&&self,Ps=zO||nK||Function("return this")(),fr=Ps.Symbol,qO=Object.prototype,iK=qO.hasOwnProperty,rK=qO.toString,Tc=fr?fr.toStringTag:void 0;function sK(e){var t=iK.call(e,Tc),n=e[Tc];try{e[Tc]=void 0;var i=!0}catch(s){}var r=rK.call(e);return i&&(t?e[Tc]=n:delete e[Tc]),r}var aK=Object.prototype,oK=aK.toString;function lK(e){return oK.call(e)}var uK="[object Null]",cK="[object Undefined]",px=fr?fr.toStringTag:void 0;function il(e){return e==null?e===void 0?cK:uK:px&&px in Object(e)?sK(e):lK(e)}function ws(e){return e!=null&&typeof e=="object"}var dK="[object Symbol]";function ab(e){return typeof e=="symbol"||ws(e)&&il(e)==dK}function bm(e,t){for(var n=-1,i=e==null?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}var Ln=Array.isArray,mx=fr?fr.prototype:void 0,gx=mx?mx.toString:void 0;function WO(e){if(typeof e=="string")return e;if(Ln(e))return bm(e,WO)+"";if(ab(e))return gx?gx.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Wi(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Tm(e){return e}var fK="[object AsyncFunction]",hK="[object Function]",pK="[object GeneratorFunction]",mK="[object Proxy]";function Am(e){if(!Wi(e))return!1;var t=il(e);return t==hK||t==pK||t==fK||t==mK}var uv=Ps["__core-js_shared__"],vx=(function(){var e=/[^.]+$/.exec(uv&&uv.keys&&uv.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function gK(e){return!!vx&&vx in e}var vK=Function.prototype,yK=vK.toString;function rl(e){if(e!=null){try{return yK.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var _K=/[\\^$.*+?()[\]{}|]/g,bK=/^\[object .+?Constructor\]$/,TK=Function.prototype,AK=Object.prototype,SK=TK.toString,xK=AK.hasOwnProperty,EK=RegExp("^"+SK.call(xK).replace(_K,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function CK(e){if(!Wi(e)||gK(e))return!1;var t=Am(e)?EK:bK;return t.test(rl(e))}function wK(e,t){return e==null?void 0:e[t]}function sl(e,t){var n=wK(e,t);return CK(n)?n:void 0}var Q0=sl(Ps,"WeakMap"),yx=Object.create,DK=(function(){function e(){}return function(t){if(!Wi(t))return{};if(yx)return yx(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();function kK(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function GO(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var OK=800,IK=16,PK=Date.now;function RK(e){var t=0,n=0;return function(){var i=PK(),r=IK-(i-n);if(n=i,r>0){if(++t>=OK)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function LK(e){return function(){return e}}var lp=(function(){try{var e=sl(Object,"defineProperty");return e({},"",{}),e}catch(t){}})(),MK=lp?function(e,t){return lp(e,"toString",{configurable:!0,enumerable:!1,value:LK(t),writable:!0})}:Tm,YO=RK(MK);function NK(e,t){for(var n=-1,i=e==null?0:e.length;++n<i&&t(e[n],n,e)!==!1;);return e}var BK=9007199254740991,FK=/^(?:0|[1-9]\d*)$/;function Sm(e,t){var n=typeof e;return t=t==null?BK:t,!!t&&(n=="number"||n!="symbol"&&FK.test(e))&&e>-1&&e%1==0&&e<t}function ob(e,t,n){t=="__proto__"&&lp?lp(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Hd(e,t){return e===t||e!==e&&t!==t}var $K=Object.prototype,UK=$K.hasOwnProperty;function lb(e,t,n){var i=e[t];(!(UK.call(e,t)&&Hd(i,n))||n===void 0&&!(t in e))&&ob(e,t,n)}function Iu(e,t,n,i){var r=!n;n||(n={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=void 0;l===void 0&&(l=e[o]),r?ob(n,o,l):lb(n,o,l)}return n}var _x=Math.max;function KO(e,t,n){return t=_x(t===void 0?e.length-1:t,0),function(){for(var i=arguments,r=-1,s=_x(i.length-t,0),a=Array(s);++r<s;)a[r]=i[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=i[r];return o[t]=n(a),kK(e,this,o)}}function VK(e,t){return YO(KO(e,t,Tm),e+"")}var jK=9007199254740991;function ub(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=jK}function Pu(e){return e!=null&&ub(e.length)&&!Am(e)}function HK(e,t,n){if(!Wi(n))return!1;var i=typeof t;return(i=="number"?Pu(n)&&Sm(t,n.length):i=="string"&&t in n)?Hd(n[t],e):!1}function zK(e){return VK(function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(r--,s):void 0,a&&HK(n[0],n[1],a)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var o=n[i];o&&e(t,o,i,s)}return t})}var qK=Object.prototype;function cb(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||qK;return e===n}function WK(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}var GK="[object Arguments]";function bx(e){return ws(e)&&il(e)==GK}var XO=Object.prototype,YK=XO.hasOwnProperty,KK=XO.propertyIsEnumerable,fd=bx((function(){return arguments})())?bx:function(e){return ws(e)&&YK.call(e,"callee")&&!KK.call(e,"callee")};function XK(){return!1}var QO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tx=QO&&typeof module=="object"&&module&&!module.nodeType&&module,QK=Tx&&Tx.exports===QO,Ax=QK?Ps.Buffer:void 0,JK=Ax?Ax.isBuffer:void 0,hd=JK||XK,ZK="[object Arguments]",eX="[object Array]",tX="[object Boolean]",nX="[object Date]",iX="[object Error]",rX="[object Function]",sX="[object Map]",aX="[object Number]",oX="[object Object]",lX="[object RegExp]",uX="[object Set]",cX="[object String]",dX="[object WeakMap]",fX="[object ArrayBuffer]",hX="[object DataView]",pX="[object Float32Array]",mX="[object Float64Array]",gX="[object Int8Array]",vX="[object Int16Array]",yX="[object Int32Array]",_X="[object Uint8Array]",bX="[object Uint8ClampedArray]",TX="[object Uint16Array]",AX="[object Uint32Array]",ln={};ln[pX]=ln[mX]=ln[gX]=ln[vX]=ln[yX]=ln[_X]=ln[bX]=ln[TX]=ln[AX]=!0;ln[ZK]=ln[eX]=ln[fX]=ln[tX]=ln[hX]=ln[nX]=ln[iX]=ln[rX]=ln[sX]=ln[aX]=ln[oX]=ln[lX]=ln[uX]=ln[cX]=ln[dX]=!1;function SX(e){return ws(e)&&ub(e.length)&&!!ln[il(e)]}function db(e){return function(t){return e(t)}}var JO=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Gc=JO&&typeof module=="object"&&module&&!module.nodeType&&module,xX=Gc&&Gc.exports===JO,cv=xX&&zO.process,fu=(function(){try{var e=Gc&&Gc.require&&Gc.require("util").types;return e||cv&&cv.binding&&cv.binding("util")}catch(t){}})(),Sx=fu&&fu.isTypedArray,fb=Sx?db(Sx):SX,EX=Object.prototype,CX=EX.hasOwnProperty;function ZO(e,t){var n=Ln(e),i=!n&&fd(e),r=!n&&!i&&hd(e),s=!n&&!i&&!r&&fb(e),a=n||i||r||s,o=a?WK(e.length,String):[],l=o.length;for(var u in e)(t||CX.call(e,u))&&!(a&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Sm(u,l)))&&o.push(u);return o}function eI(e,t){return function(n){return e(t(n))}}var wX=eI(Object.keys,Object),DX=Object.prototype,kX=DX.hasOwnProperty;function OX(e){if(!cb(e))return wX(e);var t=[];for(var n in Object(e))kX.call(e,n)&&n!="constructor"&&t.push(n);return t}function zd(e){return Pu(e)?ZO(e):OX(e)}function IX(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var PX=Object.prototype,RX=PX.hasOwnProperty;function LX(e){if(!Wi(e))return IX(e);var t=cb(e),n=[];for(var i in e)i=="constructor"&&(t||!RX.call(e,i))||n.push(i);return n}function Ru(e){return Pu(e)?ZO(e,!0):LX(e)}var MX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NX=/^\w*$/;function hb(e,t){if(Ln(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ab(e)?!0:NX.test(e)||!MX.test(e)||t!=null&&e in Object(t)}var pd=sl(Object,"create");function BX(){this.__data__=pd?pd(null):{},this.size=0}function FX(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $X="__lodash_hash_undefined__",UX=Object.prototype,VX=UX.hasOwnProperty;function jX(e){var t=this.__data__;if(pd){var n=t[e];return n===$X?void 0:n}return VX.call(t,e)?t[e]:void 0}var HX=Object.prototype,zX=HX.hasOwnProperty;function qX(e){var t=this.__data__;return pd?t[e]!==void 0:zX.call(t,e)}var WX="__lodash_hash_undefined__";function GX(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=pd&&t===void 0?WX:t,this}function Zo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Zo.prototype.clear=BX;Zo.prototype.delete=FX;Zo.prototype.get=jX;Zo.prototype.has=qX;Zo.prototype.set=GX;function YX(){this.__data__=[],this.size=0}function xm(e,t){for(var n=e.length;n--;)if(Hd(e[n][0],t))return n;return-1}var KX=Array.prototype,XX=KX.splice;function QX(e){var t=this.__data__,n=xm(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():XX.call(t,n,1),--this.size,!0}function JX(e){var t=this.__data__,n=xm(t,e);return n<0?void 0:t[n][1]}function ZX(e){return xm(this.__data__,e)>-1}function eQ(e,t){var n=this.__data__,i=xm(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}function Sa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Sa.prototype.clear=YX;Sa.prototype.delete=QX;Sa.prototype.get=JX;Sa.prototype.has=ZX;Sa.prototype.set=eQ;var md=sl(Ps,"Map");function tQ(){this.size=0,this.__data__={hash:new Zo,map:new(md||Sa),string:new Zo}}function nQ(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Em(e,t){var n=e.__data__;return nQ(t)?n[typeof t=="string"?"string":"hash"]:n.map}function iQ(e){var t=Em(this,e).delete(e);return this.size-=t?1:0,t}function rQ(e){return Em(this,e).get(e)}function sQ(e){return Em(this,e).has(e)}function aQ(e,t){var n=Em(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}function xa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}xa.prototype.clear=tQ;xa.prototype.delete=iQ;xa.prototype.get=rQ;xa.prototype.has=sQ;xa.prototype.set=aQ;var oQ="Expected a function";function pb(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(oQ);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var a=e.apply(this,i);return n.cache=s.set(r,a)||s,a};return n.cache=new(pb.Cache||xa),n}pb.Cache=xa;var lQ=500;function uQ(e){var t=pb(e,function(i){return n.size===lQ&&n.clear(),i}),n=t.cache;return t}var cQ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dQ=/\\(\\)?/g,fQ=uQ(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(cQ,function(n,i,r,s){t.push(r?s.replace(dQ,"$1"):i||n)}),t});function hQ(e){return e==null?"":WO(e)}function Lu(e,t){return Ln(e)?e:hb(e,t)?[e]:fQ(hQ(e))}function Mu(e){if(typeof e=="string"||ab(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Cm(e,t){t=Lu(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[Mu(t[n++])];return n&&n==i?e:void 0}function pQ(e,t,n){var i=e==null?void 0:Cm(e,t);return i===void 0?n:i}function mb(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}var xx=fr?fr.isConcatSpreadable:void 0;function mQ(e){return Ln(e)||fd(e)||!!(xx&&e&&e[xx])}function tI(e,t,n,i,r){var s=-1,a=e.length;for(n||(n=mQ),r||(r=[]);++s<a;){var o=e[s];n(o)?mb(r,o):r[r.length]=o}return r}function gQ(e){var t=e==null?0:e.length;return t?tI(e):[]}function vQ(e){return YO(KO(e,void 0,gQ),e+"")}var gb=eI(Object.getPrototypeOf,Object),yQ="[object Object]",_Q=Function.prototype,bQ=Object.prototype,nI=_Q.toString,TQ=bQ.hasOwnProperty,AQ=nI.call(Object);function iI(e){if(!ws(e)||il(e)!=yQ)return!1;var t=gb(e);if(t===null)return!0;var n=TQ.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&nI.call(n)==AQ}function SQ(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(r);++i<r;)s[i]=e[i+t];return s}function xQ(){this.__data__=new Sa,this.size=0}function EQ(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function CQ(e){return this.__data__.get(e)}function wQ(e){return this.__data__.has(e)}var DQ=200;function kQ(e,t){var n=this.__data__;if(n instanceof Sa){var i=n.__data__;if(!md||i.length<DQ-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new xa(i)}return n.set(e,t),this.size=n.size,this}function Hr(e){var t=this.__data__=new Sa(e);this.size=t.size}Hr.prototype.clear=xQ;Hr.prototype.delete=EQ;Hr.prototype.get=CQ;Hr.prototype.has=wQ;Hr.prototype.set=kQ;function OQ(e,t){return e&&Iu(t,zd(t),e)}function IQ(e,t){return e&&Iu(t,Ru(t),e)}var rI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ex=rI&&typeof module=="object"&&module&&!module.nodeType&&module,PQ=Ex&&Ex.exports===rI,Cx=PQ?Ps.Buffer:void 0,wx=Cx?Cx.allocUnsafe:void 0;function sI(e,t){if(t)return e.slice();var n=e.length,i=wx?wx(n):new e.constructor(n);return e.copy(i),i}function RQ(e,t){for(var n=-1,i=e==null?0:e.length,r=0,s=[];++n<i;){var a=e[n];t(a,n,e)&&(s[r++]=a)}return s}function aI(){return[]}var LQ=Object.prototype,MQ=LQ.propertyIsEnumerable,Dx=Object.getOwnPropertySymbols,vb=Dx?function(e){return e==null?[]:(e=Object(e),RQ(Dx(e),function(t){return MQ.call(e,t)}))}:aI;function NQ(e,t){return Iu(e,vb(e),t)}var BQ=Object.getOwnPropertySymbols,oI=BQ?function(e){for(var t=[];e;)mb(t,vb(e)),e=gb(e);return t}:aI;function FQ(e,t){return Iu(e,oI(e),t)}function lI(e,t,n){var i=t(e);return Ln(e)?i:mb(i,n(e))}function J0(e){return lI(e,zd,vb)}function yb(e){return lI(e,Ru,oI)}var Z0=sl(Ps,"DataView"),ey=sl(Ps,"Promise"),ty=sl(Ps,"Set"),kx="[object Map]",$Q="[object Object]",Ox="[object Promise]",Ix="[object Set]",Px="[object WeakMap]",Rx="[object DataView]",UQ=rl(Z0),VQ=rl(md),jQ=rl(ey),HQ=rl(ty),zQ=rl(Q0),Or=il;(Z0&&Or(new Z0(new ArrayBuffer(1)))!=Rx||md&&Or(new md)!=kx||ey&&Or(ey.resolve())!=Ox||ty&&Or(new ty)!=Ix||Q0&&Or(new Q0)!=Px)&&(Or=function(e){var t=il(e),n=t==$Q?e.constructor:void 0,i=n?rl(n):"";if(i)switch(i){case UQ:return Rx;case VQ:return kx;case jQ:return Ox;case HQ:return Ix;case zQ:return Px}return t});var qQ=Object.prototype,WQ=qQ.hasOwnProperty;function GQ(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&WQ.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var up=Ps.Uint8Array;function _b(e){var t=new e.constructor(e.byteLength);return new up(t).set(new up(e)),t}function YQ(e,t){var n=t?_b(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var KQ=/\w*$/;function XQ(e){var t=new e.constructor(e.source,KQ.exec(e));return t.lastIndex=e.lastIndex,t}var Lx=fr?fr.prototype:void 0,Mx=Lx?Lx.valueOf:void 0;function QQ(e){return Mx?Object(Mx.call(e)):{}}function uI(e,t){var n=t?_b(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var JQ="[object Boolean]",ZQ="[object Date]",eJ="[object Map]",tJ="[object Number]",nJ="[object RegExp]",iJ="[object Set]",rJ="[object String]",sJ="[object Symbol]",aJ="[object ArrayBuffer]",oJ="[object DataView]",lJ="[object Float32Array]",uJ="[object Float64Array]",cJ="[object Int8Array]",dJ="[object Int16Array]",fJ="[object Int32Array]",hJ="[object Uint8Array]",pJ="[object Uint8ClampedArray]",mJ="[object Uint16Array]",gJ="[object Uint32Array]";function vJ(e,t,n){var i=e.constructor;switch(t){case aJ:return _b(e);case JQ:case ZQ:return new i(+e);case oJ:return YQ(e,n);case lJ:case uJ:case cJ:case dJ:case fJ:case hJ:case pJ:case mJ:case gJ:return uI(e,n);case eJ:return new i;case tJ:case rJ:return new i(e);case nJ:return XQ(e);case iJ:return new i;case sJ:return QQ(e)}}function cI(e){return typeof e.constructor=="function"&&!cb(e)?DK(gb(e)):{}}var yJ="[object Map]";function _J(e){return ws(e)&&Or(e)==yJ}var Nx=fu&&fu.isMap,bJ=Nx?db(Nx):_J,TJ="[object Set]";function AJ(e){return ws(e)&&Or(e)==TJ}var Bx=fu&&fu.isSet,SJ=Bx?db(Bx):AJ,xJ=1,EJ=2,CJ=4,dI="[object Arguments]",wJ="[object Array]",DJ="[object Boolean]",kJ="[object Date]",OJ="[object Error]",fI="[object Function]",IJ="[object GeneratorFunction]",PJ="[object Map]",RJ="[object Number]",hI="[object Object]",LJ="[object RegExp]",MJ="[object Set]",NJ="[object String]",BJ="[object Symbol]",FJ="[object WeakMap]",$J="[object ArrayBuffer]",UJ="[object DataView]",VJ="[object Float32Array]",jJ="[object Float64Array]",HJ="[object Int8Array]",zJ="[object Int16Array]",qJ="[object Int32Array]",WJ="[object Uint8Array]",GJ="[object Uint8ClampedArray]",YJ="[object Uint16Array]",KJ="[object Uint32Array]",Zt={};Zt[dI]=Zt[wJ]=Zt[$J]=Zt[UJ]=Zt[DJ]=Zt[kJ]=Zt[VJ]=Zt[jJ]=Zt[HJ]=Zt[zJ]=Zt[qJ]=Zt[PJ]=Zt[RJ]=Zt[hI]=Zt[LJ]=Zt[MJ]=Zt[NJ]=Zt[BJ]=Zt[WJ]=Zt[GJ]=Zt[YJ]=Zt[KJ]=!0;Zt[OJ]=Zt[fI]=Zt[FJ]=!1;function Ch(e,t,n,i,r,s){var a,o=t&xJ,l=t&EJ,u=t&CJ;if(n&&(a=r?n(e,i,r,s):n(e)),a!==void 0)return a;if(!Wi(e))return e;var c=Ln(e);if(c){if(a=GQ(e),!o)return GO(e,a)}else{var d=Or(e),f=d==fI||d==IJ;if(hd(e))return sI(e,o);if(d==hI||d==dI||f&&!r){if(a=l||f?{}:cI(e),!o)return l?FQ(e,IQ(a,e)):NQ(e,OQ(a,e))}else{if(!Zt[d])return r?e:{};a=vJ(e,d,o)}}s||(s=new Hr);var h=s.get(e);if(h)return h;s.set(e,a),SJ(e)?e.forEach(function(g){a.add(Ch(g,t,n,g,e,s))}):bJ(e)&&e.forEach(function(g,_){a.set(_,Ch(g,t,n,_,e,s))});var m=u?l?yb:J0:l?Ru:zd,p=c?void 0:m(e);return NK(p||e,function(g,_){p&&(_=g,g=e[_]),lb(a,_,Ch(g,t,n,_,e,s))}),a}var XJ="__lodash_hash_undefined__";function QJ(e){return this.__data__.set(e,XJ),this}function JJ(e){return this.__data__.has(e)}function cp(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new xa;++t<n;)this.add(e[t])}cp.prototype.add=cp.prototype.push=QJ;cp.prototype.has=JJ;function pI(e,t){for(var n=-1,i=e==null?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function ZJ(e,t){return e.has(t)}var eZ=1,tZ=2;function mI(e,t,n,i,r,s){var a=n&eZ,o=e.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,h=n&tZ?new cp:void 0;for(s.set(e,t),s.set(t,e);++d<o;){var m=e[d],p=t[d];if(i)var g=a?i(p,m,d,t,e,s):i(m,p,d,e,t,s);if(g!==void 0){if(g)continue;f=!1;break}if(h){if(!pI(t,function(_,y){if(!ZJ(h,y)&&(m===_||r(m,_,n,i,s)))return h.push(y)})){f=!1;break}}else if(!(m===p||r(m,p,n,i,s))){f=!1;break}}return s.delete(e),s.delete(t),f}function nZ(e){var t=-1,n=Array(e.size);return e.forEach(function(i,r){n[++t]=[r,i]}),n}function iZ(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var rZ=1,sZ=2,aZ="[object Boolean]",oZ="[object Date]",lZ="[object Error]",uZ="[object Map]",cZ="[object Number]",dZ="[object RegExp]",fZ="[object Set]",hZ="[object String]",pZ="[object Symbol]",mZ="[object ArrayBuffer]",gZ="[object DataView]",Fx=fr?fr.prototype:void 0,dv=Fx?Fx.valueOf:void 0;function vZ(e,t,n,i,r,s,a){switch(n){case gZ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case mZ:return!(e.byteLength!=t.byteLength||!s(new up(e),new up(t)));case aZ:case oZ:case cZ:return Hd(+e,+t);case lZ:return e.name==t.name&&e.message==t.message;case dZ:case hZ:return e==t+"";case uZ:var o=nZ;case fZ:var l=i&rZ;if(o||(o=iZ),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;i|=sZ,a.set(e,t);var c=mI(o(e),o(t),i,r,s,a);return a.delete(e),c;case pZ:if(dv)return dv.call(e)==dv.call(t)}return!1}var yZ=1,_Z=Object.prototype,bZ=_Z.hasOwnProperty;function TZ(e,t,n,i,r,s){var a=n&yZ,o=J0(e),l=o.length,u=J0(t),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var f=o[d];if(!(a?f in t:bZ.call(t,f)))return!1}var h=s.get(e),m=s.get(t);if(h&&m)return h==t&&m==e;var p=!0;s.set(e,t),s.set(t,e);for(var g=a;++d<l;){f=o[d];var _=e[f],y=t[f];if(i)var b=a?i(y,_,f,t,e,s):i(_,y,f,e,t,s);if(!(b===void 0?_===y||r(_,y,n,i,s):b)){p=!1;break}g||(g=f=="constructor")}if(p&&!g){var A=e.constructor,T=t.constructor;A!=T&&"constructor"in e&&"constructor"in t&&!(typeof A=="function"&&A instanceof A&&typeof T=="function"&&T instanceof T)&&(p=!1)}return s.delete(e),s.delete(t),p}var AZ=1,$x="[object Arguments]",Ux="[object Array]",nh="[object Object]",SZ=Object.prototype,Vx=SZ.hasOwnProperty;function xZ(e,t,n,i,r,s){var a=Ln(e),o=Ln(t),l=a?Ux:Or(e),u=o?Ux:Or(t);l=l==$x?nh:l,u=u==$x?nh:u;var c=l==nh,d=u==nh,f=l==u;if(f&&hd(e)){if(!hd(t))return!1;a=!0,c=!1}if(f&&!c)return s||(s=new Hr),a||fb(e)?mI(e,t,n,i,r,s):vZ(e,t,l,n,i,r,s);if(!(n&AZ)){var h=c&&Vx.call(e,"__wrapped__"),m=d&&Vx.call(t,"__wrapped__");if(h||m){var p=h?e.value():e,g=m?t.value():t;return s||(s=new Hr),r(p,g,n,i,s)}}return f?(s||(s=new Hr),TZ(e,t,n,i,r,s)):!1}function bb(e,t,n,i,r){return e===t?!0:e==null||t==null||!ws(e)&&!ws(t)?e!==e&&t!==t:xZ(e,t,n,i,bb,r)}var EZ=1,CZ=2;function wZ(e,t,n,i){var r=n.length,s=r;if(e==null)return!s;for(e=Object(e);r--;){var a=n[r];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<s;){a=n[r];var o=a[0],l=e[o],u=a[1];if(a[2]){if(l===void 0&&!(o in e))return!1}else{var c=new Hr,d;if(!(d===void 0?bb(u,l,EZ|CZ,i,c):d))return!1}}return!0}function gI(e){return e===e&&!Wi(e)}function DZ(e){for(var t=zd(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,gI(r)]}return t}function vI(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function kZ(e){var t=DZ(e);return t.length==1&&t[0][2]?vI(t[0][0],t[0][1]):function(n){return n===e||wZ(n,e,t)}}function OZ(e,t){return e!=null&&t in Object(e)}function IZ(e,t,n){t=Lu(t,e);for(var i=-1,r=t.length,s=!1;++i<r;){var a=Mu(t[i]);if(!(s=e!=null&&n(e,a)))break;e=e[a]}return s||++i!=r?s:(r=e==null?0:e.length,!!r&&ub(r)&&Sm(a,r)&&(Ln(e)||fd(e)))}function PZ(e,t){return e!=null&&IZ(e,t,OZ)}var RZ=1,LZ=2;function MZ(e,t){return hb(e)&&gI(t)?vI(Mu(e),t):function(n){var i=pQ(n,e);return i===void 0&&i===t?PZ(n,e):bb(t,i,RZ|LZ)}}function NZ(e){return function(t){return t==null?void 0:t[e]}}function BZ(e){return function(t){return Cm(t,e)}}function FZ(e){return hb(e)?NZ(Mu(e)):BZ(e)}function Tb(e){return typeof e=="function"?e:e==null?Tm:typeof e=="object"?Ln(e)?MZ(e[0],e[1]):kZ(e):FZ(e)}function $Z(e){return function(t,n,i){for(var r=-1,s=Object(t),a=i(t),o=a.length;o--;){var l=a[++r];if(n(s[l],l,s)===!1)break}return t}}var Ab=$Z();function UZ(e,t){return e&&Ab(e,t,zd)}function VZ(e,t){return function(n,i){if(n==null)return n;if(!Pu(n))return e(n,i);for(var r=n.length,s=-1,a=Object(n);++s<r&&i(a[s],s,a)!==!1;);return n}}var yI=VZ(UZ);function ny(e,t,n){(n!==void 0&&!Hd(e[t],n)||n===void 0&&!(t in e))&&ob(e,t,n)}function jZ(e){return ws(e)&&Pu(e)}function iy(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function HZ(e){return Iu(e,Ru(e))}function zZ(e,t,n,i,r,s,a){var o=iy(e,n),l=iy(t,n),u=a.get(l);if(u){ny(e,n,u);return}var c=s?s(o,l,n+"",e,t,a):void 0,d=c===void 0;if(d){var f=Ln(l),h=!f&&hd(l),m=!f&&!h&&fb(l);c=l,f||h||m?Ln(o)?c=o:jZ(o)?c=GO(o):h?(d=!1,c=sI(l,!0)):m?(d=!1,c=uI(l,!0)):c=[]:iI(l)||fd(l)?(c=o,fd(o)?c=HZ(o):(!Wi(o)||Am(o))&&(c=cI(l))):d=!1}d&&(a.set(l,c),r(c,l,i,s,a),a.delete(l)),ny(e,n,c)}function _I(e,t,n,i,r){e!==t&&Ab(t,function(s,a){if(r||(r=new Hr),Wi(s))zZ(e,t,a,n,_I,i,r);else{var o=i?i(iy(e,a),s,a+"",e,t,r):void 0;o===void 0&&(o=s),ny(e,a,o)}},Ru)}function qZ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function WZ(e){return typeof e=="function"?e:Tm}function GZ(e,t){var n=-1,i=Pu(e)?Array(e.length):[];return yI(e,function(r,s,a){i[++n]=t(r,s,a)}),i}function YZ(e,t){var n=Ln(e)?bm:GZ;return n(e,Tb(t))}function KZ(e,t){return tI(YZ(e,t))}function XZ(e,t){return e==null?e:Ab(e,WZ(t),Ru)}function QZ(e,t){return t.length<2?e:Cm(e,SQ(t,0,-1))}var jx=zK(function(e,t,n){_I(e,t,n)});function JZ(e,t){return t=Lu(t,e),e=QZ(e,t),e==null||delete e[Mu(qZ(t))]}function ZZ(e){return iI(e)?void 0:e}var eee=1,tee=2,nee=4,bI=vQ(function(e,t){var n={};if(e==null)return n;var i=!1;t=bm(t,function(s){return s=Lu(s,e),i||(i=s.length>1),s}),Iu(e,yb(e),n),i&&(n=Ch(n,eee|tee|nee,ZZ));for(var r=t.length;r--;)JZ(n,t[r]);return n});function iee(e,t,n,i){if(!Wi(e))return e;t=Lu(t,e);for(var r=-1,s=t.length,a=s-1,o=e;o!=null&&++r<s;){var l=Mu(t[r]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(r!=a){var c=o[l];u=void 0,u===void 0&&(u=Wi(c)?c:Sm(t[r+1])?[]:{})}lb(o,l,u),o=o[l]}return e}function ree(e,t,n){for(var i=-1,r=t.length,s={};++i<r;){var a=t[i],o=Cm(e,a);n(o,a)&&iee(s,Lu(a,e),o)}return s}function see(e,t){if(e==null)return{};var n=bm(yb(e),function(i){return[i]});return t=Tb(t),ree(e,n,function(i,r){return t(i,r[0])})}function aee(e,t){var n;return yI(e,function(i,r,s){return n=t(i,r,s),!n}),!!n}function oee(e,t,n){var i=Ln(e)?pI:aee;return i(e,Tb(t))}const jo=vt({children:[],active:""});function Ade(){jo.children=[],jo.active=""}function lee(){const e=Ud();return fe(()=>{var s;const t=e.meta.tabs||{},n=jo.children.length>0?jo.children:t.children||[],i=jo.active||t.active||((s=n[0])==null?void 0:s.name)||"",r=t["click-tab"];return{children:n,active:i,"click-tab":r}})}function uee(e,t){jo.children=e,jo.active=t}/*!
  * shared v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function cee(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const dp=typeof window<"u",oo=(e,t=!1)=>t?Symbol.for(e):Symbol(e),dee=(e,t,n)=>fee({l:e,k:t,s:n}),fee=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Rn=e=>typeof e=="number"&&isFinite(e),hee=e=>xb(e)==="[object Date]",fp=e=>xb(e)==="[object RegExp]",wm=e=>Pt(e)&&Object.keys(e).length===0,Xn=Object.assign,pee=Object.create,qt=(e=null)=>pee(e);let Hx;const Sb=()=>Hx||(Hx=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:qt());function zx(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function qx(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function mee(e){return e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(i,r,s)=>"".concat(r,'="').concat(qx(s),'"')),e=e.replace(/(\w+)\s*=\s*'([^']*)'/g,(i,r,s)=>"".concat(r,"='").concat(qx(s),"'")),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(i=>{e=e.replace(i,"$1javascript&#58;")}),e}const gee=Object.prototype.hasOwnProperty;function Nr(e,t){return gee.call(e,t)}const Dn=Array.isArray,gn=e=>typeof e=="function",Je=e=>typeof e=="string",vn=e=>typeof e=="boolean",Mt=e=>e!==null&&typeof e=="object",vee=e=>Mt(e)&&gn(e.then)&&gn(e.catch),TI=Object.prototype.toString,xb=e=>TI.call(e),Pt=e=>xb(e)==="[object Object]",yee=e=>e==null?"":Dn(e)||Pt(e)&&e.toString===TI?JSON.stringify(e,null,2):String(e);function Eb(e,t=""){return e.reduce((n,i,r)=>r===0?n+i:n+t+i,"")}const ih=e=>!Mt(e)||Dn(e);function wh(e,t){if(ih(e)||ih(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:i,des:r}=n.pop();Object.keys(i).forEach(s=>{s!=="__proto__"&&(Mt(i[s])&&!Mt(r[s])&&(r[s]=Array.isArray(i[s])?[]:qt()),ih(r[s])||ih(i[s])?r[s]=i[s]:n.push({src:i[s],des:r[s]}))})}}/*!
  * message-compiler v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function _ee(e,t,n){return{line:e,column:t,offset:n}}function ry(e,t,n){return{start:e,end:t}}const Bt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},bee=17;function Dm(e,t,n={}){const{domain:i,messages:r,args:s}=n,a=e,o=new SyntaxError(String(a));return o.code=e,t&&(o.location=t),o.domain=i,o}function Tee(e){throw e}const ls=" ",Aee="\r",si="\n",See="\u2028",xee="\u2029";function Eee(e){const t=e;let n=0,i=1,r=1,s=0;const a=O=>t[O]===Aee&&t[O+1]===si,o=O=>t[O]===si,l=O=>t[O]===xee,u=O=>t[O]===See,c=O=>a(O)||o(O)||l(O)||u(O),d=()=>n,f=()=>i,h=()=>r,m=()=>s,p=O=>a(O)||l(O)||u(O)?si:t[O],g=()=>p(n),_=()=>p(n+s);function y(){return s=0,c(n)&&(i++,r=0),a(n)&&n++,n++,r++,t[n]}function b(){return a(n+s)&&s++,s++,t[n+s]}function A(){n=0,i=1,r=1,s=0}function T(O=0){s=O}function k(){const O=n+s;for(;O!==n;)y();s=0}return{index:d,line:f,column:h,peekOffset:m,charAt:p,currentChar:g,currentPeek:_,next:y,peek:b,reset:A,resetPeek:T,skipToPeek:k}}const Hs=void 0,Cee=".",Wx="'",wee="tokenizer";function Dee(e,t={}){const n=t.location!==!1,i=Eee(e),r=()=>i.index(),s=()=>_ee(i.line(),i.column(),i.index()),a=s(),o=r(),l={currentType:13,offset:o,startLoc:a,endLoc:a,lastType:13,lastOffset:o,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:c}=t;function d(Q,te,ce,...me){const Ne=u();if(te.column+=ce,te.offset+=ce,c){const Pe=n?ry(Ne.startLoc,te):null,pe=Dm(Q,Pe,{domain:wee,args:me});c(pe)}}function f(Q,te,ce){Q.endLoc=s(),Q.currentType=te;const me={type:te};return n&&(me.loc=ry(Q.startLoc,Q.endLoc)),ce!=null&&(me.value=ce),me}const h=Q=>f(Q,13);function m(Q,te){return Q.currentChar()===te?(Q.next(),te):(d(Bt.EXPECTED_TOKEN,s(),0,te),"")}function p(Q){let te="";for(;Q.currentPeek()===ls||Q.currentPeek()===si;)te+=Q.currentPeek(),Q.peek();return te}function g(Q){const te=p(Q);return Q.skipToPeek(),te}function _(Q){if(Q===Hs)return!1;const te=Q.charCodeAt(0);return te>=97&&te<=122||te>=65&&te<=90||te===95}function y(Q){if(Q===Hs)return!1;const te=Q.charCodeAt(0);return te>=48&&te<=57}function b(Q,te){const{currentType:ce}=te;if(ce!==2)return!1;p(Q);const me=_(Q.currentPeek());return Q.resetPeek(),me}function A(Q,te){const{currentType:ce}=te;if(ce!==2)return!1;p(Q);const me=Q.currentPeek()==="-"?Q.peek():Q.currentPeek(),Ne=y(me);return Q.resetPeek(),Ne}function T(Q,te){const{currentType:ce}=te;if(ce!==2)return!1;p(Q);const me=Q.currentPeek()===Wx;return Q.resetPeek(),me}function k(Q,te){const{currentType:ce}=te;if(ce!==7)return!1;p(Q);const me=Q.currentPeek()===".";return Q.resetPeek(),me}function O(Q,te){const{currentType:ce}=te;if(ce!==8)return!1;p(Q);const me=_(Q.currentPeek());return Q.resetPeek(),me}function I(Q,te){const{currentType:ce}=te;if(!(ce===7||ce===11))return!1;p(Q);const me=Q.currentPeek()===":";return Q.resetPeek(),me}function w(Q,te){const{currentType:ce}=te;if(ce!==9)return!1;const me=()=>{const Pe=Q.currentPeek();return Pe==="{"?_(Q.peek()):Pe==="@"||Pe==="|"||Pe===":"||Pe==="."||Pe===ls||!Pe?!1:Pe===si?(Q.peek(),me()):R(Q,!1)},Ne=me();return Q.resetPeek(),Ne}function D(Q){p(Q);const te=Q.currentPeek()==="|";return Q.resetPeek(),te}function R(Q,te=!0){const ce=(Ne=!1,Pe="")=>{const pe=Q.currentPeek();return pe==="{"||pe==="@"||!pe?Ne:pe==="|"?!(Pe===ls||Pe===si):pe===ls?(Q.peek(),ce(!0,ls)):pe===si?(Q.peek(),ce(!0,si)):!0},me=ce();return te&&Q.resetPeek(),me}function L(Q,te){const ce=Q.currentChar();return ce===Hs?Hs:te(ce)?(Q.next(),ce):null}function B(Q){const te=Q.charCodeAt(0);return te>=97&&te<=122||te>=65&&te<=90||te>=48&&te<=57||te===95||te===36}function N(Q){return L(Q,B)}function $(Q){const te=Q.charCodeAt(0);return te>=97&&te<=122||te>=65&&te<=90||te>=48&&te<=57||te===95||te===36||te===45}function F(Q){return L(Q,$)}function V(Q){const te=Q.charCodeAt(0);return te>=48&&te<=57}function U(Q){return L(Q,V)}function Y(Q){const te=Q.charCodeAt(0);return te>=48&&te<=57||te>=65&&te<=70||te>=97&&te<=102}function ne(Q){return L(Q,Y)}function z(Q){let te="",ce="";for(;te=U(Q);)ce+=te;return ce}function W(Q){let te="";for(;;){const ce=Q.currentChar();if(ce==="{"||ce==="}"||ce==="@"||ce==="|"||!ce)break;if(ce===ls||ce===si)if(R(Q))te+=ce,Q.next();else{if(D(Q))break;te+=ce,Q.next()}else te+=ce,Q.next()}return te}function le(Q){g(Q);let te="",ce="";for(;te=F(Q);)ce+=te;const me=Q.currentChar();if(me&&me!=="}"&&me!==Hs&&me!==ls&&me!==si&&me!==""){const Ne=Z(Q);return d(Bt.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,ce+Ne),ce+Ne}return Q.currentChar()===Hs&&d(Bt.UNTERMINATED_CLOSING_BRACE,s(),0),ce}function ye(Q){g(Q);let te="";return Q.currentChar()==="-"?(Q.next(),te+="-".concat(z(Q))):te+=z(Q),Q.currentChar()===Hs&&d(Bt.UNTERMINATED_CLOSING_BRACE,s(),0),te}function ae(Q){return Q!==Wx&&Q!==si}function ke(Q){g(Q),m(Q,"'");let te="",ce="";for(;te=L(Q,ae);)te==="\\"?ce+=q(Q):ce+=te;const me=Q.currentChar();return me===si||me===Hs?(d(Bt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),me===si&&(Q.next(),m(Q,"'")),ce):(m(Q,"'"),ce)}function q(Q){const te=Q.currentChar();switch(te){case"\\":case"'":return Q.next(),"\\".concat(te);case"u":return ve(Q,te,4);case"U":return ve(Q,te,6);default:return d(Bt.UNKNOWN_ESCAPE_SEQUENCE,s(),0,te),""}}function ve(Q,te,ce){m(Q,te);let me="";for(let Ne=0;Ne<ce;Ne++){const Pe=ne(Q);if(!Pe){d(Bt.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,"\\".concat(te).concat(me).concat(Q.currentChar()));break}me+=Pe}return"\\".concat(te).concat(me)}function X(Q){return Q!=="{"&&Q!=="}"&&Q!==ls&&Q!==si}function Z(Q){g(Q);let te="",ce="";for(;te=L(Q,X);)ce+=te;return ce}function he(Q){let te="",ce="";for(;te=N(Q);)ce+=te;return ce}function H(Q){const te=ce=>{const me=Q.currentChar();return me==="{"||me==="@"||me==="|"||me==="("||me===")"||!me||me===ls?ce:(ce+=me,Q.next(),te(ce))};return te("")}function K(Q){g(Q);const te=m(Q,"|");return g(Q),te}function se(Q,te){let ce=null;switch(Q.currentChar()){case"{":return te.braceNest>=1&&d(Bt.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),Q.next(),ce=f(te,2,"{"),g(Q),te.braceNest++,ce;case"}":return te.braceNest>0&&te.currentType===2&&d(Bt.EMPTY_PLACEHOLDER,s(),0),Q.next(),ce=f(te,3,"}"),te.braceNest--,te.braceNest>0&&g(Q),te.inLinked&&te.braceNest===0&&(te.inLinked=!1),ce;case"@":return te.braceNest>0&&d(Bt.UNTERMINATED_CLOSING_BRACE,s(),0),ce=_e(Q,te)||h(te),te.braceNest=0,ce;default:{let Ne=!0,Pe=!0,pe=!0;if(D(Q))return te.braceNest>0&&d(Bt.UNTERMINATED_CLOSING_BRACE,s(),0),ce=f(te,1,K(Q)),te.braceNest=0,te.inLinked=!1,ce;if(te.braceNest>0&&(te.currentType===4||te.currentType===5||te.currentType===6))return d(Bt.UNTERMINATED_CLOSING_BRACE,s(),0),te.braceNest=0,Ae(Q,te);if(Ne=b(Q,te))return ce=f(te,4,le(Q)),g(Q),ce;if(Pe=A(Q,te))return ce=f(te,5,ye(Q)),g(Q),ce;if(pe=T(Q,te))return ce=f(te,6,ke(Q)),g(Q),ce;if(!Ne&&!Pe&&!pe)return ce=f(te,12,Z(Q)),d(Bt.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,ce.value),g(Q),ce;break}}return ce}function _e(Q,te){const{currentType:ce}=te;let me=null;const Ne=Q.currentChar();switch((ce===7||ce===8||ce===11||ce===9)&&(Ne===si||Ne===ls)&&d(Bt.INVALID_LINKED_FORMAT,s(),0),Ne){case"@":return Q.next(),me=f(te,7,"@"),te.inLinked=!0,me;case".":return g(Q),Q.next(),f(te,8,".");case":":return g(Q),Q.next(),f(te,9,":");default:return D(Q)?(me=f(te,1,K(Q)),te.braceNest=0,te.inLinked=!1,me):k(Q,te)||I(Q,te)?(g(Q),_e(Q,te)):O(Q,te)?(g(Q),f(te,11,he(Q))):w(Q,te)?(g(Q),Ne==="{"?se(Q,te)||me:f(te,10,H(Q))):(ce===7&&d(Bt.INVALID_LINKED_FORMAT,s(),0),te.braceNest=0,te.inLinked=!1,Ae(Q,te))}}function Ae(Q,te){let ce={type:13};if(te.braceNest>0)return se(Q,te)||h(te);if(te.inLinked)return _e(Q,te)||h(te);switch(Q.currentChar()){case"{":return se(Q,te)||h(te);case"}":return d(Bt.UNBALANCED_CLOSING_BRACE,s(),0),Q.next(),f(te,3,"}");case"@":return _e(Q,te)||h(te);default:{if(D(Q))return ce=f(te,1,K(Q)),te.braceNest=0,te.inLinked=!1,ce;if(R(Q))return f(te,0,W(Q));break}}return ce}function Ce(){const{currentType:Q,offset:te,startLoc:ce,endLoc:me}=l;return l.lastType=Q,l.lastOffset=te,l.lastStartLoc=ce,l.lastEndLoc=me,l.offset=r(),l.startLoc=s(),i.currentChar()===Hs?f(l,13):Ae(i,l)}return{nextToken:Ce,currentOffset:r,currentPosition:s,context:u}}const kee="parser",Oee=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function Iee(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(t||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):""}}}function Pee(e={}){const t=e.location!==!1,{onError:n}=e;function i(_,y,b,A,...T){const k=_.currentPosition();if(k.offset+=A,k.column+=A,n){const O=t?ry(b,k):null,I=Dm(y,O,{domain:kee,args:T});n(I)}}function r(_,y,b){const A={type:_};return t&&(A.start=y,A.end=y,A.loc={start:b,end:b}),A}function s(_,y,b,A){t&&(_.end=y,_.loc&&(_.loc.end=b))}function a(_,y){const b=_.context(),A=r(3,b.offset,b.startLoc);return A.value=y,s(A,_.currentOffset(),_.currentPosition()),A}function o(_,y){const b=_.context(),{lastOffset:A,lastStartLoc:T}=b,k=r(5,A,T);return k.index=parseInt(y,10),_.nextToken(),s(k,_.currentOffset(),_.currentPosition()),k}function l(_,y){const b=_.context(),{lastOffset:A,lastStartLoc:T}=b,k=r(4,A,T);return k.key=y,_.nextToken(),s(k,_.currentOffset(),_.currentPosition()),k}function u(_,y){const b=_.context(),{lastOffset:A,lastStartLoc:T}=b,k=r(9,A,T);return k.value=y.replace(Oee,Iee),_.nextToken(),s(k,_.currentOffset(),_.currentPosition()),k}function c(_){const y=_.nextToken(),b=_.context(),{lastOffset:A,lastStartLoc:T}=b,k=r(8,A,T);return y.type!==11?(i(_,Bt.UNEXPECTED_EMPTY_LINKED_MODIFIER,b.lastStartLoc,0),k.value="",s(k,A,T),{nextConsumeToken:y,node:k}):(y.value==null&&i(_,Bt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,us(y)),k.value=y.value||"",s(k,_.currentOffset(),_.currentPosition()),{node:k})}function d(_,y){const b=_.context(),A=r(7,b.offset,b.startLoc);return A.value=y,s(A,_.currentOffset(),_.currentPosition()),A}function f(_){const y=_.context(),b=r(6,y.offset,y.startLoc);let A=_.nextToken();if(A.type===8){const T=c(_);b.modifier=T.node,A=T.nextConsumeToken||_.nextToken()}switch(A.type!==9&&i(_,Bt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,us(A)),A=_.nextToken(),A.type===2&&(A=_.nextToken()),A.type){case 10:A.value==null&&i(_,Bt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,us(A)),b.key=d(_,A.value||"");break;case 4:A.value==null&&i(_,Bt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,us(A)),b.key=l(_,A.value||"");break;case 5:A.value==null&&i(_,Bt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,us(A)),b.key=o(_,A.value||"");break;case 6:A.value==null&&i(_,Bt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,us(A)),b.key=u(_,A.value||"");break;default:{i(_,Bt.UNEXPECTED_EMPTY_LINKED_KEY,y.lastStartLoc,0);const T=_.context(),k=r(7,T.offset,T.startLoc);return k.value="",s(k,T.offset,T.startLoc),b.key=k,s(b,T.offset,T.startLoc),{nextConsumeToken:A,node:b}}}return s(b,_.currentOffset(),_.currentPosition()),{node:b}}function h(_){const y=_.context(),b=y.currentType===1?_.currentOffset():y.offset,A=y.currentType===1?y.endLoc:y.startLoc,T=r(2,b,A);T.items=[];let k=null;do{const w=k||_.nextToken();switch(k=null,w.type){case 0:w.value==null&&i(_,Bt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,us(w)),T.items.push(a(_,w.value||""));break;case 5:w.value==null&&i(_,Bt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,us(w)),T.items.push(o(_,w.value||""));break;case 4:w.value==null&&i(_,Bt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,us(w)),T.items.push(l(_,w.value||""));break;case 6:w.value==null&&i(_,Bt.UNEXPECTED_LEXICAL_ANALYSIS,y.lastStartLoc,0,us(w)),T.items.push(u(_,w.value||""));break;case 7:{const D=f(_);T.items.push(D.node),k=D.nextConsumeToken||null;break}}}while(y.currentType!==13&&y.currentType!==1);const O=y.currentType===1?y.lastOffset:_.currentOffset(),I=y.currentType===1?y.lastEndLoc:_.currentPosition();return s(T,O,I),T}function m(_,y,b,A){const T=_.context();let k=A.items.length===0;const O=r(1,y,b);O.cases=[],O.cases.push(A);do{const I=h(_);k||(k=I.items.length===0),O.cases.push(I)}while(T.currentType!==13);return k&&i(_,Bt.MUST_HAVE_MESSAGES_IN_PLURAL,b,0),s(O,_.currentOffset(),_.currentPosition()),O}function p(_){const y=_.context(),{offset:b,startLoc:A}=y,T=h(_);return y.currentType===13?T:m(_,b,A,T)}function g(_){const y=Dee(_,Xn({},e)),b=y.context(),A=r(0,b.offset,b.startLoc);return t&&A.loc&&(A.loc.source=_),A.body=p(y),e.onCacheKey&&(A.cacheKey=e.onCacheKey(_)),b.currentType!==13&&i(y,Bt.UNEXPECTED_LEXICAL_ANALYSIS,b.lastStartLoc,0,_[b.offset]||""),s(A,y.currentOffset(),y.currentPosition()),A}return{parse:g}}function us(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function Ree(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function Gx(e,t){for(let n=0;n<e.length;n++)Cb(e[n],t)}function Cb(e,t){switch(e.type){case 1:Gx(e.cases,t),t.helper("plural");break;case 2:Gx(e.items,t);break;case 6:{Cb(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function Lee(e,t={}){const n=Ree(e);n.helper("normalize"),e.body&&Cb(e.body,n);const i=n.context();e.helpers=Array.from(i.helpers)}function Mee(e){const t=e.body;return t.type===2?Yx(t):t.cases.forEach(n=>Yx(n)),e}function Yx(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;t.push(i.value)}if(t.length===e.items.length){e.static=Eb(t);for(let n=0;n<e.items.length;n++){const i=e.items[n];(i.type===3||i.type===9)&&delete i.value}}}}function Il(e){switch(e.t=e.type,e.type){case 0:{const t=e;Il(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let i=0;i<n.length;i++)Il(n[i]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let i=0;i<n.length;i++)Il(n[i]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;Il(t.key),t.k=t.key,delete t.key,t.modifier&&(Il(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function Nee(e,t){const{filename:n,breakLineCode:i,needIndent:r}=t,s=t.location!==!1,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:r,indentLevel:0};s&&e.loc&&(a.source=e.loc.source);const o=()=>a;function l(p,g){a.code+=p}function u(p,g=!0){const _=g?i:"";l(r?_+"  ".repeat(p):_)}function c(p=!0){const g=++a.indentLevel;p&&u(g)}function d(p=!0){const g=--a.indentLevel;p&&u(g)}function f(){u(a.indentLevel)}return{context:o,push:l,indent:c,deindent:d,newline:f,helper:p=>"_".concat(p),needIndent:()=>a.needIndent}}function Bee(e,t){const{helper:n}=e;e.push("".concat(n("linked"),"(")),hu(e,t.key),t.modifier?(e.push(", "),hu(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function Fee(e,t){const{helper:n,needIndent:i}=e;e.push("".concat(n("normalize"),"([")),e.indent(i());const r=t.items.length;for(let s=0;s<r&&(hu(e,t.items[s]),s!==r-1);s++)e.push(", ");e.deindent(i()),e.push("])")}function $ee(e,t){const{helper:n,needIndent:i}=e;if(t.cases.length>1){e.push("".concat(n("plural"),"([")),e.indent(i());const r=t.cases.length;for(let s=0;s<r&&(hu(e,t.cases[s]),s!==r-1);s++)e.push(", ");e.deindent(i()),e.push("])")}}function Uee(e,t){t.body?hu(e,t.body):e.push("null")}function hu(e,t){const{helper:n}=e;switch(t.type){case 0:Uee(e,t);break;case 1:$ee(e,t);break;case 2:Fee(e,t);break;case 6:Bee(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push("".concat(n("interpolate"),"(").concat(n("list"),"(").concat(t.index,"))"),t);break;case 4:e.push("".concat(n("interpolate"),"(").concat(n("named"),"(").concat(JSON.stringify(t.key),"))"),t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const Vee=(e,t={})=>{const n=Je(t.mode)?t.mode:"normal",i=Je(t.filename)?t.filename:"message.intl";t.sourceMap;const r=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":"\n",s=t.needIndent?t.needIndent:n!=="arrow",a=e.helpers||[],o=Nee(e,{filename:i,breakLineCode:r,needIndent:s});o.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),o.indent(s),a.length>0&&(o.push("const { ".concat(Eb(a.map(c=>"".concat(c,": _").concat(c)),", ")," } = ctx")),o.newline()),o.push("return "),hu(o,e),o.deindent(s),o.push("}"),delete e.helpers;const{code:l,map:u}=o.context();return{ast:e,code:l,map:u?u.toJSON():void 0}};function jee(e,t={}){const n=Xn({},t),i=!!n.jit,r=!!n.minify,s=n.optimize==null?!0:n.optimize,o=Pee(n).parse(e);return i?(s&&Mee(o),r&&Il(o),{ast:o,code:""}):(Lee(o,n),Vee(o,n))}/*!
  * core-base v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function Hee(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Sb().__INTLIFY_PROD_DEVTOOLS__=!1)}function Ss(e){return Mt(e)&&wb(e)===0&&(Nr(e,"b")||Nr(e,"body"))}const AI=["b","body"];function zee(e){return lo(e,AI)}const SI=["c","cases"];function qee(e){return lo(e,SI,[])}const xI=["s","static"];function Wee(e){return lo(e,xI)}const EI=["i","items"];function Gee(e){return lo(e,EI,[])}const CI=["t","type"];function wb(e){return lo(e,CI)}const wI=["v","value"];function rh(e,t){const n=lo(e,wI);if(n!=null)return n;throw gd(t)}const DI=["m","modifier"];function Yee(e){return lo(e,DI)}const kI=["k","key"];function Kee(e){const t=lo(e,kI);if(t)return t;throw gd(6)}function lo(e,t,n){for(let i=0;i<t.length;i++){const r=t[i];if(Nr(e,r)&&e[r]!=null)return e[r]}return n}const OI=[...AI,...SI,...xI,...EI,...kI,...DI,...wI,...CI];function gd(e){return new Error("unhandled node type: ".concat(e))}function fv(e){return n=>Xee(n,e)}function Xee(e,t){const n=zee(t);if(n==null)throw gd(0);if(wb(n)===1){const s=qee(n);return e.plural(s.reduce((a,o)=>[...a,Kx(e,o)],[]))}else return Kx(e,n)}function Kx(e,t){const n=Wee(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const i=Gee(t).reduce((r,s)=>[...r,sy(e,s)],[]);return e.normalize(i)}}function sy(e,t){const n=wb(t);switch(n){case 3:return rh(t,n);case 9:return rh(t,n);case 4:{const i=t;if(Nr(i,"k")&&i.k)return e.interpolate(e.named(i.k));if(Nr(i,"key")&&i.key)return e.interpolate(e.named(i.key));throw gd(n)}case 5:{const i=t;if(Nr(i,"i")&&Rn(i.i))return e.interpolate(e.list(i.i));if(Nr(i,"index")&&Rn(i.index))return e.interpolate(e.list(i.index));throw gd(n)}case 6:{const i=t,r=Yee(i),s=Kee(i);return e.linked(sy(e,s),r?sy(e,r):void 0,e.type)}case 7:return rh(t,n);case 8:return rh(t,n);default:throw new Error("unhandled node on format message part: ".concat(n))}}const Qee=e=>e;let sh=qt();function Jee(e,t={}){let n=!1;const i=t.onError||Tee;return t.onError=r=>{n=!0,i(r)},{...jee(e,t),detectError:n}}function Zee(e,t){if(Je(e)){vn(t.warnHtmlMessage)&&t.warnHtmlMessage;const i=(t.onCacheKey||Qee)(e),r=sh[i];if(r)return r;const{ast:s,detectError:a}=Jee(e,{...t,location:!1,jit:!0}),o=fv(s);return a?o:sh[i]=o}else{const n=e.cacheKey;if(n){const i=sh[n];return i||(sh[n]=fv(e))}else return fv(e)}}let vd=null;function ete(e){vd=e}function tte(e,t,n){vd&&vd.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const nte=ite("function:translate");function ite(e){return t=>vd&&vd.emit(e,t)}const ea={INVALID_ARGUMENT:bee,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},rte=24;function ta(e){return Dm(e,null,void 0)}function Db(e,t){return t.locale!=null?Xx(t.locale):Xx(e.locale)}let hv;function Xx(e){if(Je(e))return e;if(gn(e)){if(e.resolvedOnce&&hv!=null)return hv;if(e.constructor.name==="Function"){const t=e();if(vee(t))throw ta(ea.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return hv=t}else throw ta(ea.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw ta(ea.NOT_SUPPORT_LOCALE_TYPE)}function ste(e,t,n){return[...new Set([n,...Dn(t)?t:Mt(t)?Object.keys(t):Je(t)?[t]:[n]])]}function II(e,t,n){const i=Je(n)?n:hp,r=e;r.__localeChainCache||(r.__localeChainCache=new Map);let s=r.__localeChainCache.get(i);if(!s){s=[];let a=[n];for(;Dn(a);)a=Qx(s,a,t);const o=Dn(t)||!Pt(t)?t:t.default?t.default:null;a=Je(o)?[o]:o,Dn(a)&&Qx(s,a,!1),r.__localeChainCache.set(i,s)}return s}function Qx(e,t,n){let i=!0;for(let r=0;r<t.length&&vn(i);r++){const s=t[r];Je(s)&&(i=ate(e,t[r],n))}return i}function ate(e,t,n){let i;const r=t.split("-");do{const s=r.join("-");i=ote(e,s,n),r.splice(-1,1)}while(r.length&&i===!0);return i}function ote(e,t,n){let i=!1;if(!e.includes(t)&&(i=!0,t)){i=t[t.length-1]!=="!";const r=t.replace(/!/g,"");e.push(r),(Dn(n)||Pt(n))&&n[r]&&(i=n[r])}return i}const uo=[];uo[0]={w:[0],i:[3,0],"[":[4],o:[7]};uo[1]={w:[1],".":[2],"[":[4],o:[7]};uo[2]={w:[2],i:[3,0],0:[3,0]};uo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};uo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};uo[5]={"'":[4,0],o:8,l:[5,0]};uo[6]={'"':[4,0],o:8,l:[6,0]};const lte=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function ute(e){return lte.test(e)}function cte(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function dte(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function fte(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:ute(t)?cte(t):"*"+t}function hte(e){const t=[];let n=-1,i=0,r=0,s,a,o,l,u,c,d;const f=[];f[0]=()=>{a===void 0?a=o:a+=o},f[1]=()=>{a!==void 0&&(t.push(a),a=void 0)},f[2]=()=>{f[0](),r++},f[3]=()=>{if(r>0)r--,i=4,f[0]();else{if(r=0,a===void 0||(a=fte(a),a===!1))return!1;f[1]()}};function h(){const m=e[n+1];if(i===5&&m==="'"||i===6&&m==='"')return n++,o="\\"+m,f[0](),!0}for(;i!==null;)if(n++,s=e[n],!(s==="\\"&&h())){if(l=dte(s),d=uo[i],u=d[l]||d.l||8,u===8||(i=u[0],u[1]!==void 0&&(c=f[u[1]],c&&(o=s,c()===!1))))return;if(i===7)return t}}const Jx=new Map;function pte(e,t){return Mt(e)?e[t]:null}function mte(e,t){if(!Mt(e))return null;let n=Jx.get(t);if(n||(n=hte(t),n&&Jx.set(t,n)),!n)return null;const i=n.length;let r=e,s=0;for(;s<i;){const a=n[s];if(OI.includes(a)&&Ss(r))return null;const o=r[a];if(o===void 0||gn(r))return null;r=o,s++}return r}const gte="11.1.12",km=-1,hp="en-US",Zx="",eE=e=>"".concat(e.charAt(0).toLocaleUpperCase()).concat(e.substr(1));function vte(){return{upper:(e,t)=>t==="text"&&Je(e)?e.toUpperCase():t==="vnode"&&Mt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&Je(e)?e.toLowerCase():t==="vnode"&&Mt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&Je(e)?eE(e):t==="vnode"&&Mt(e)&&"__v_isVNode"in e?eE(e.children):e}}let PI;function yte(e){PI=e}let RI;function _te(e){RI=e}let LI;function bte(e){LI=e}let MI=null;const Tte=e=>{MI=e},Ate=()=>MI;let NI=null;const tE=e=>{NI=e},Ste=()=>NI;let nE=0;function xte(e={}){const t=gn(e.onWarn)?e.onWarn:cee,n=Je(e.version)?e.version:gte,i=Je(e.locale)||gn(e.locale)?e.locale:hp,r=gn(i)?hp:i,s=Dn(e.fallbackLocale)||Pt(e.fallbackLocale)||Je(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:r,a=Pt(e.messages)?e.messages:pv(r),o=Pt(e.datetimeFormats)?e.datetimeFormats:pv(r),l=Pt(e.numberFormats)?e.numberFormats:pv(r),u=Xn(qt(),e.modifiers,vte()),c=e.pluralRules||qt(),d=gn(e.missing)?e.missing:null,f=vn(e.missingWarn)||fp(e.missingWarn)?e.missingWarn:!0,h=vn(e.fallbackWarn)||fp(e.fallbackWarn)?e.fallbackWarn:!0,m=!!e.fallbackFormat,p=!!e.unresolving,g=gn(e.postTranslation)?e.postTranslation:null,_=Pt(e.processor)?e.processor:null,y=vn(e.warnHtmlMessage)?e.warnHtmlMessage:!0,b=!!e.escapeParameter,A=gn(e.messageCompiler)?e.messageCompiler:PI,T=gn(e.messageResolver)?e.messageResolver:RI||pte,k=gn(e.localeFallbacker)?e.localeFallbacker:LI||ste,O=Mt(e.fallbackContext)?e.fallbackContext:void 0,I=e,w=Mt(I.__datetimeFormatters)?I.__datetimeFormatters:new Map,D=Mt(I.__numberFormatters)?I.__numberFormatters:new Map,R=Mt(I.__meta)?I.__meta:{};nE++;const L={version:n,cid:nE,locale:i,fallbackLocale:s,messages:a,modifiers:u,pluralRules:c,missing:d,missingWarn:f,fallbackWarn:h,fallbackFormat:m,unresolving:p,postTranslation:g,processor:_,warnHtmlMessage:y,escapeParameter:b,messageCompiler:A,messageResolver:T,localeFallbacker:k,fallbackContext:O,onWarn:t,__meta:R};return L.datetimeFormats=o,L.numberFormats=l,L.__datetimeFormatters=w,L.__numberFormatters=D,__INTLIFY_PROD_DEVTOOLS__&&tte(L,n,R),L}const pv=e=>({[e]:qt()});function kb(e,t,n,i,r){const{missing:s,onWarn:a}=e;if(s!==null){const o=s(e,n,t,r);return Je(o)?o:t}else return t}function Ac(e,t,n){const i=e;i.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function Ete(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function Cte(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let i=n+1;i<t.length;i++)if(Ete(e,t[i]))return!0;return!1}function iE(e,...t){const{datetimeFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:a}=e,{__datetimeFormatters:o}=e,[l,u,c,d]=ay(...t),f=vn(c.missingWarn)?c.missingWarn:e.missingWarn;vn(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const h=!!c.part,m=Db(e,c),p=a(e,r,m);if(!Je(l)||l==="")return new Intl.DateTimeFormat(m,d).format(u);let g={},_,y=null;const b="datetime format";for(let k=0;k<p.length&&(_=p[k],g=n[_]||{},y=g[l],!Pt(y));k++)kb(e,l,_,f,b);if(!Pt(y)||!Je(_))return i?km:l;let A="".concat(_,"__").concat(l);wm(d)||(A="".concat(A,"__").concat(JSON.stringify(d)));let T=o.get(A);return T||(T=new Intl.DateTimeFormat(_,Xn({},y,d)),o.set(A,T)),h?T.formatToParts(u):T.format(u)}const BI=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function ay(...e){const[t,n,i,r]=e,s=qt();let a=qt(),o;if(Je(t)){const l=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw ta(ea.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?"".concat(l[1].trim()).concat(l[3].trim()):"".concat(l[1].trim(),"T").concat(l[3].trim()):l[1].trim();o=new Date(u);try{o.toISOString()}catch(c){throw ta(ea.INVALID_ISO_DATE_ARGUMENT)}}else if(hee(t)){if(isNaN(t.getTime()))throw ta(ea.INVALID_DATE_ARGUMENT);o=t}else if(Rn(t))o=t;else throw ta(ea.INVALID_ARGUMENT);return Je(n)?s.key=n:Pt(n)&&Object.keys(n).forEach(l=>{BI.includes(l)?a[l]=n[l]:s[l]=n[l]}),Je(i)?s.locale=i:Pt(i)&&(a=i),Pt(r)&&(a=r),[s.key||"",o,s,a]}function rE(e,t,n){const i=e;for(const r in n){const s="".concat(t,"__").concat(r);i.__datetimeFormatters.has(s)&&i.__datetimeFormatters.delete(s)}}function sE(e,...t){const{numberFormats:n,unresolving:i,fallbackLocale:r,onWarn:s,localeFallbacker:a}=e,{__numberFormatters:o}=e,[l,u,c,d]=oy(...t),f=vn(c.missingWarn)?c.missingWarn:e.missingWarn;vn(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const h=!!c.part,m=Db(e,c),p=a(e,r,m);if(!Je(l)||l==="")return new Intl.NumberFormat(m,d).format(u);let g={},_,y=null;const b="number format";for(let k=0;k<p.length&&(_=p[k],g=n[_]||{},y=g[l],!Pt(y));k++)kb(e,l,_,f,b);if(!Pt(y)||!Je(_))return i?km:l;let A="".concat(_,"__").concat(l);wm(d)||(A="".concat(A,"__").concat(JSON.stringify(d)));let T=o.get(A);return T||(T=new Intl.NumberFormat(_,Xn({},y,d)),o.set(A,T)),h?T.formatToParts(u):T.format(u)}const FI=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function oy(...e){const[t,n,i,r]=e,s=qt();let a=qt();if(!Rn(t))throw ta(ea.INVALID_ARGUMENT);const o=t;return Je(n)?s.key=n:Pt(n)&&Object.keys(n).forEach(l=>{FI.includes(l)?a[l]=n[l]:s[l]=n[l]}),Je(i)?s.locale=i:Pt(i)&&(a=i),Pt(r)&&(a=r),[s.key||"",o,s,a]}function aE(e,t,n){const i=e;for(const r in n){const s="".concat(t,"__").concat(r);i.__numberFormatters.has(s)&&i.__numberFormatters.delete(s)}}const wte=e=>e,Dte=e=>"",kte="text",Ote=e=>e.length===0?"":Eb(e),Ite=yee;function oE(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function Pte(e){const t=Rn(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Rn(e.named.count)||Rn(e.named.n))?Rn(e.named.count)?e.named.count:Rn(e.named.n)?e.named.n:t:t}function Rte(e,t){t.count||(t.count=e),t.n||(t.n=e)}function Lte(e={}){const t=e.locale,n=Pte(e),i=Mt(e.pluralRules)&&Je(t)&&gn(e.pluralRules[t])?e.pluralRules[t]:oE,r=Mt(e.pluralRules)&&Je(t)&&gn(e.pluralRules[t])?oE:void 0,s=_=>_[i(n,_.length,r)],a=e.list||[],o=_=>a[_],l=e.named||qt();Rn(e.pluralIndex)&&Rte(n,l);const u=_=>l[_];function c(_,y){const b=gn(e.messages)?e.messages(_,!!y):Mt(e.messages)?e.messages[_]:!1;return b||(e.parent?e.parent.message(_):Dte)}const d=_=>e.modifiers?e.modifiers[_]:wte,f=Pt(e.processor)&&gn(e.processor.normalize)?e.processor.normalize:Ote,h=Pt(e.processor)&&gn(e.processor.interpolate)?e.processor.interpolate:Ite,m=Pt(e.processor)&&Je(e.processor.type)?e.processor.type:kte,g={list:o,named:u,plural:s,linked:(_,...y)=>{const[b,A]=y;let T="text",k="";y.length===1?Mt(b)?(k=b.modifier||k,T=b.type||T):Je(b)&&(k=b||k):y.length===2&&(Je(b)&&(k=b||k),Je(A)&&(T=A||T));const O=c(_,!0)(g),I=T==="vnode"&&Dn(O)&&k?O[0]:O;return k?d(k)(I,T):I},message:c,type:m,interpolate:h,normalize:f,values:Xn(qt(),a,l)};return g}const lE=()=>"",sr=e=>gn(e);function uE(e,...t){const{fallbackFormat:n,postTranslation:i,unresolving:r,messageCompiler:s,fallbackLocale:a,messages:o}=e,[l,u]=ly(...t),c=vn(u.missingWarn)?u.missingWarn:e.missingWarn,d=vn(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn,f=vn(u.escapeParameter)?u.escapeParameter:e.escapeParameter,h=!!u.resolvedMessage,m=Je(u.default)||vn(u.default)?vn(u.default)?s?l:()=>l:u.default:n?s?l:()=>l:null,p=n||m!=null&&(Je(m)||gn(m)),g=Db(e,u);f&&Mte(u);let[_,y,b]=h?[l,g,o[g]||qt()]:$I(e,l,g,a,d,c),A=_,T=l;if(!h&&!(Je(A)||Ss(A)||sr(A))&&p&&(A=m,T=A),!h&&(!(Je(A)||Ss(A)||sr(A))||!Je(y)))return r?km:l;let k=!1;const O=()=>{k=!0},I=sr(A)?A:UI(e,l,y,A,T,O);if(k)return A;const w=Fte(e,y,b,u),D=Lte(w),R=Nte(e,I,D);let L=i?i(R,l):R;if(f&&Je(L)&&(L=mee(L)),__INTLIFY_PROD_DEVTOOLS__){const B={timestamp:Date.now(),key:Je(l)?l:sr(A)?A.key:"",locale:y||(sr(A)?A.locale:""),format:Je(A)?A:sr(A)?A.source:"",message:L};B.meta=Xn({},e.__meta,Ate()||{}),nte(B)}return L}function Mte(e){Dn(e.list)?e.list=e.list.map(t=>Je(t)?zx(t):t):Mt(e.named)&&Object.keys(e.named).forEach(t=>{Je(e.named[t])&&(e.named[t]=zx(e.named[t]))})}function $I(e,t,n,i,r,s){const{messages:a,onWarn:o,messageResolver:l,localeFallbacker:u}=e,c=u(e,i,n);let d=qt(),f,h=null;const m="translate";for(let p=0;p<c.length&&(f=c[p],d=a[f]||qt(),(h=l(d,t))===null&&(h=d[t]),!(Je(h)||Ss(h)||sr(h)));p++)if(!Cte(f,c)){const g=kb(e,t,f,s,m);g!==t&&(h=g)}return[h,f,d]}function UI(e,t,n,i,r,s){const{messageCompiler:a,warnHtmlMessage:o}=e;if(sr(i)){const u=i;return u.locale=u.locale||n,u.key=u.key||t,u}if(a==null){const u=(()=>i);return u.locale=n,u.key=t,u}const l=a(i,Bte(e,n,r,i,o,s));return l.locale=n,l.key=t,l.source=i,l}function Nte(e,t,n){return t(n)}function ly(...e){const[t,n,i]=e,r=qt();if(!Je(t)&&!Rn(t)&&!sr(t)&&!Ss(t))throw ta(ea.INVALID_ARGUMENT);const s=Rn(t)?String(t):(sr(t),t);return Rn(n)?r.plural=n:Je(n)?r.default=n:Pt(n)&&!wm(n)?r.named=n:Dn(n)&&(r.list=n),Rn(i)?r.plural=i:Je(i)?r.default=i:Pt(i)&&Xn(r,i),[s,r]}function Bte(e,t,n,i,r,s){return{locale:t,key:n,warnHtmlMessage:r,onError:a=>{throw s&&s(a),a},onCacheKey:a=>dee(t,n,a)}}function Fte(e,t,n,i){const{modifiers:r,pluralRules:s,messageResolver:a,fallbackLocale:o,fallbackWarn:l,missingWarn:u,fallbackContext:c}=e,f={locale:t,modifiers:r,pluralRules:s,messages:(h,m)=>{let p=a(n,h);if(p==null&&(c||m)){const[,,g]=$I(c||e,h,t,o,l,u);p=a(g,h)}if(Je(p)||Ss(p)){let g=!1;const y=UI(e,h,t,p,h,()=>{g=!0});return g?lE:y}else return sr(p)?p:lE}};return e.processor&&(f.processor=e.processor),i.list&&(f.list=i.list),i.named&&(f.named=i.named),Rn(i.plural)&&(f.pluralIndex=i.plural),f}Hee();/*!
  * vue-i18n v11.1.12
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const $te="11.1.12";function Ute(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Sb().__INTLIFY_PROD_DEVTOOLS__=!1)}const hr={UNEXPECTED_RETURN_TYPE:rte,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Yr(e,...t){return Dm(e,null,void 0)}const uy=oo("__translateVNode"),cy=oo("__datetimeParts"),dy=oo("__numberParts"),Vte=oo("__setPluralRules"),jte=oo("__injectWithOption"),fy=oo("__dispose");function yd(e){if(!Mt(e)||Ss(e))return e;for(const t in e)if(Nr(e,t))if(!t.includes("."))Mt(e[t])&&yd(e[t]);else{const n=t.split("."),i=n.length-1;let r=e,s=!1;for(let a=0;a<i;a++){if(n[a]==="__proto__")throw new Error("unsafe key: ".concat(n[a]));if(n[a]in r||(r[n[a]]=qt()),!Mt(r[n[a]])){s=!0;break}r=r[n[a]]}if(s||(Ss(r)?OI.includes(n[i])||delete e[t]:(r[n[i]]=e[t],delete e[t])),!Ss(r)){const a=r[n[i]];Mt(a)&&yd(a)}}return e}function VI(e,t){const{messages:n,__i18n:i,messageResolver:r,flatJson:s}=t,a=Pt(n)?n:Dn(i)?qt():{[e]:qt()};if(Dn(i)&&i.forEach(o=>{if("locale"in o&&"resource"in o){const{locale:l,resource:u}=o;l?(a[l]=a[l]||qt(),wh(u,a[l])):wh(u,a)}else Je(o)&&wh(JSON.parse(o),a)}),r==null&&s)for(const o in a)Nr(a,o)&&yd(a[o]);return a}function jI(e){return e.type}function Hte(e,t,n){let i=Mt(t.messages)?t.messages:qt();"__i18nGlobal"in n&&(i=VI(e.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const r=Object.keys(i);r.length&&r.forEach(s=>{e.mergeLocaleMessage(s,i[s])});{if(Mt(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(a=>{e.mergeDateTimeFormat(a,t.datetimeFormats[a])})}if(Mt(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(a=>{e.mergeNumberFormat(a,t.numberFormats[a])})}}}function cE(e){return x(Su,null,e,0)}const dE="__INTLIFY_META__",fE=()=>[],zte=()=>!1;let hE=0;function pE(e){return((t,n,i,r)=>e(n,i,mn()||void 0,r))}const qte=()=>{const e=mn();let t=null;return e&&(t=jI(e)[dE])?{[dE]:t}:null};function HI(e={}){const{__root:t,__injectWithOption:n}=e,i=t===void 0,r=e.flatJson,s=dp?ie:Ts;let a=vn(e.inheritLocale)?e.inheritLocale:!0;const o=s(t&&a?t.locale.value:Je(e.locale)?e.locale:hp),l=s(t&&a?t.fallbackLocale.value:Je(e.fallbackLocale)||Dn(e.fallbackLocale)||Pt(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o.value),u=s(VI(o.value,e)),c=s(Pt(e.datetimeFormats)?e.datetimeFormats:{[o.value]:{}}),d=s(Pt(e.numberFormats)?e.numberFormats:{[o.value]:{}});let f=t?t.missingWarn:vn(e.missingWarn)||fp(e.missingWarn)?e.missingWarn:!0,h=t?t.fallbackWarn:vn(e.fallbackWarn)||fp(e.fallbackWarn)?e.fallbackWarn:!0,m=t?t.fallbackRoot:vn(e.fallbackRoot)?e.fallbackRoot:!0,p=!!e.fallbackFormat,g=gn(e.missing)?e.missing:null,_=gn(e.missing)?pE(e.missing):null,y=gn(e.postTranslation)?e.postTranslation:null,b=t?t.warnHtmlMessage:vn(e.warnHtmlMessage)?e.warnHtmlMessage:!0,A=!!e.escapeParameter;const T=t?t.modifiers:Pt(e.modifiers)?e.modifiers:{};let k=e.pluralRules||t&&t.pluralRules,O;O=(()=>{i&&tE(null);const pe={version:$te,locale:o.value,fallbackLocale:l.value,messages:u.value,modifiers:T,pluralRules:k,missing:_===null?void 0:_,missingWarn:f,fallbackWarn:h,fallbackFormat:p,unresolving:!0,postTranslation:y===null?void 0:y,warnHtmlMessage:b,escapeParameter:A,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};pe.datetimeFormats=c.value,pe.numberFormats=d.value,pe.__datetimeFormatters=Pt(O)?O.__datetimeFormatters:void 0,pe.__numberFormatters=Pt(O)?O.__numberFormatters:void 0;const xe=xte(pe);return i&&tE(xe),xe})(),Ac(O,o.value,l.value);function w(){return[o.value,l.value,u.value,c.value,d.value]}const D=fe({get:()=>o.value,set:pe=>{O.locale=pe,o.value=pe}}),R=fe({get:()=>l.value,set:pe=>{O.fallbackLocale=pe,l.value=pe,Ac(O,o.value,pe)}}),L=fe(()=>u.value),B=fe(()=>c.value),N=fe(()=>d.value);function $(){return gn(y)?y:null}function F(pe){y=pe,O.postTranslation=pe}function V(){return g}function U(pe){pe!==null&&(_=pE(pe)),g=pe,O.missing=_}const Y=(pe,xe,We,Xe,ht,sn)=>{w();let Wt;try{__INTLIFY_PROD_DEVTOOLS__,i||(O.fallbackContext=t?Ste():void 0),Wt=pe(O)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(O.fallbackContext=void 0)}if(We!=="translate exists"&&Rn(Wt)&&Wt===km||We==="translate exists"&&!Wt){const[Nn,yt]=xe();return t&&m?Xe(t):ht(Nn)}else{if(sn(Wt))return Wt;throw Yr(hr.UNEXPECTED_RETURN_TYPE)}};function ne(...pe){return Y(xe=>Reflect.apply(uE,null,[xe,...pe]),()=>ly(...pe),"translate",xe=>Reflect.apply(xe.t,xe,[...pe]),xe=>xe,xe=>Je(xe))}function z(...pe){const[xe,We,Xe]=pe;if(Xe&&!Mt(Xe))throw Yr(hr.INVALID_ARGUMENT);return ne(xe,We,Xn({resolvedMessage:!0},Xe||{}))}function W(...pe){return Y(xe=>Reflect.apply(iE,null,[xe,...pe]),()=>ay(...pe),"datetime format",xe=>Reflect.apply(xe.d,xe,[...pe]),()=>Zx,xe=>Je(xe)||Dn(xe))}function le(...pe){return Y(xe=>Reflect.apply(sE,null,[xe,...pe]),()=>oy(...pe),"number format",xe=>Reflect.apply(xe.n,xe,[...pe]),()=>Zx,xe=>Je(xe)||Dn(xe))}function ye(pe){return pe.map(xe=>Je(xe)||Rn(xe)||vn(xe)?cE(String(xe)):xe)}const ke={normalize:ye,interpolate:pe=>pe,type:"vnode"};function q(...pe){return Y(xe=>{let We;const Xe=xe;try{Xe.processor=ke,We=Reflect.apply(uE,null,[Xe,...pe])}finally{Xe.processor=null}return We},()=>ly(...pe),"translate",xe=>xe[uy](...pe),xe=>[cE(xe)],xe=>Dn(xe))}function ve(...pe){return Y(xe=>Reflect.apply(sE,null,[xe,...pe]),()=>oy(...pe),"number format",xe=>xe[dy](...pe),fE,xe=>Je(xe)||Dn(xe))}function X(...pe){return Y(xe=>Reflect.apply(iE,null,[xe,...pe]),()=>ay(...pe),"datetime format",xe=>xe[cy](...pe),fE,xe=>Je(xe)||Dn(xe))}function Z(pe){k=pe,O.pluralRules=k}function he(pe,xe){return Y(()=>{if(!pe)return!1;const We=Je(xe)?xe:o.value,Xe=se(We),ht=O.messageResolver(Xe,pe);return Ss(ht)||sr(ht)||Je(ht)},()=>[pe],"translate exists",We=>Reflect.apply(We.te,We,[pe,xe]),zte,We=>vn(We))}function H(pe){let xe=null;const We=II(O,l.value,o.value);for(let Xe=0;Xe<We.length;Xe++){const ht=u.value[We[Xe]]||{},sn=O.messageResolver(ht,pe);if(sn!=null){xe=sn;break}}return xe}function K(pe){const xe=H(pe);return xe!=null?xe:t?t.tm(pe)||{}:{}}function se(pe){return u.value[pe]||{}}function _e(pe,xe){if(r){const We={[pe]:xe};for(const Xe in We)Nr(We,Xe)&&yd(We[Xe]);xe=We[pe]}u.value[pe]=xe,O.messages=u.value}function Ae(pe,xe){u.value[pe]=u.value[pe]||{};const We={[pe]:xe};if(r)for(const Xe in We)Nr(We,Xe)&&yd(We[Xe]);xe=We[pe],wh(xe,u.value[pe]),O.messages=u.value}function Ce(pe){return c.value[pe]||{}}function Q(pe,xe){c.value[pe]=xe,O.datetimeFormats=c.value,rE(O,pe,xe)}function te(pe,xe){c.value[pe]=Xn(c.value[pe]||{},xe),O.datetimeFormats=c.value,rE(O,pe,xe)}function ce(pe){return d.value[pe]||{}}function me(pe,xe){d.value[pe]=xe,O.numberFormats=d.value,aE(O,pe,xe)}function Ne(pe,xe){d.value[pe]=Xn(d.value[pe]||{},xe),O.numberFormats=d.value,aE(O,pe,xe)}hE++,t&&dp&&(De(t.locale,pe=>{a&&(o.value=pe,O.locale=pe,Ac(O,o.value,l.value))}),De(t.fallbackLocale,pe=>{a&&(l.value=pe,O.fallbackLocale=pe,Ac(O,o.value,l.value))}));const Pe={id:hE,locale:D,fallbackLocale:R,get inheritLocale(){return a},set inheritLocale(pe){a=pe,pe&&t&&(o.value=t.locale.value,l.value=t.fallbackLocale.value,Ac(O,o.value,l.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:L,get modifiers(){return T},get pluralRules(){return k||{}},get isGlobal(){return i},get missingWarn(){return f},set missingWarn(pe){f=pe,O.missingWarn=f},get fallbackWarn(){return h},set fallbackWarn(pe){h=pe,O.fallbackWarn=h},get fallbackRoot(){return m},set fallbackRoot(pe){m=pe},get fallbackFormat(){return p},set fallbackFormat(pe){p=pe,O.fallbackFormat=p},get warnHtmlMessage(){return b},set warnHtmlMessage(pe){b=pe,O.warnHtmlMessage=pe},get escapeParameter(){return A},set escapeParameter(pe){A=pe,O.escapeParameter=pe},t:ne,getLocaleMessage:se,setLocaleMessage:_e,mergeLocaleMessage:Ae,getPostTranslationHandler:$,setPostTranslationHandler:F,getMissingHandler:V,setMissingHandler:U,[Vte]:Z};return Pe.datetimeFormats=B,Pe.numberFormats=N,Pe.rt=z,Pe.te=he,Pe.tm=K,Pe.d=W,Pe.n=le,Pe.getDateTimeFormat=Ce,Pe.setDateTimeFormat=Q,Pe.mergeDateTimeFormat=te,Pe.getNumberFormat=ce,Pe.setNumberFormat=me,Pe.mergeNumberFormat=Ne,Pe[jte]=n,Pe[uy]=q,Pe[cy]=X,Pe[dy]=ve,Pe}const Ob={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Wte({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((i,r)=>[...i,...r.type===ct?r.children:[r]],[]):t.reduce((n,i)=>{const r=e[i];return r&&(n[i]=r()),n},qt())}function zI(){return ct}const Gte=Se({name:"i18n-t",props:Xn({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Rn(e)||!isNaN(e)}},Ob),setup(e,t){const{slots:n,attrs:i}=t,r=e.i18n||Om({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(d=>d[0]!=="_"),a=qt();e.locale&&(a.locale=e.locale),e.plural!==void 0&&(a.plural=Je(e.plural)?+e.plural:e.plural);const o=Wte(t,s),l=r[uy](e.keypath,o,a),u=Xn(qt(),i),c=Je(e.tag)||Mt(e.tag)?e.tag:zI();return Es(c,u,l)}}}),mE=Gte;function Yte(e){return Dn(e)&&!Je(e[0])}function qI(e,t,n,i){const{slots:r,attrs:s}=t;return()=>{const a={part:!0};let o=qt();e.locale&&(a.locale=e.locale),Je(e.format)?a.key=e.format:Mt(e.format)&&(Je(e.format.key)&&(a.key=e.format.key),o=Object.keys(e.format).reduce((f,h)=>n.includes(h)?Xn(qt(),f,{[h]:e.format[h]}):f,qt()));const l=i(e.value,a,o);let u=[a.key];Dn(l)?u=l.map((f,h)=>{const m=r[f.type],p=m?m({[f.type]:f.value,index:h,parts:l}):[f.value];return Yte(p)&&(p[0].key="".concat(f.type,"-").concat(h)),p}):Je(l)&&(u=[l]);const c=Xn(qt(),s),d=Je(e.tag)||Mt(e.tag)?e.tag:zI();return Es(d,c,u)}}const Kte=Se({name:"i18n-n",props:Xn({value:{type:Number,required:!0},format:{type:[String,Object]}},Ob),setup(e,t){const n=e.i18n||Om({useScope:e.scope,__useComponent:!0});return qI(e,t,FI,(...i)=>n[dy](...i))}}),gE=Kte;function Xte(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const i=n.__getInstance(t);return i!=null?i.__composer:e.global.__composer}}function Qte(e){const t=a=>{const{instance:o,value:l}=a;if(!o||!o.$)throw Yr(hr.UNEXPECTED_ERROR);const u=Xte(e,o.$),c=vE(l);return[Reflect.apply(u.t,u,[...yE(c)]),u]};return{created:(a,o)=>{const[l,u]=t(o);dp&&e.global===u&&(a.__i18nWatcher=De(u.locale,()=>{o.instance&&o.instance.$forceUpdate()})),a.__composer=u,a.textContent=l},unmounted:a=>{dp&&a.__i18nWatcher&&(a.__i18nWatcher(),a.__i18nWatcher=void 0,delete a.__i18nWatcher),a.__composer&&(a.__composer=void 0,delete a.__composer)},beforeUpdate:(a,{value:o})=>{if(a.__composer){const l=a.__composer,u=vE(o);a.textContent=Reflect.apply(l.t,l,[...yE(u)])}},getSSRProps:a=>{const[o]=t(a);return{textContent:o}}}}function vE(e){if(Je(e))return{path:e};if(Pt(e)){if(!("path"in e))throw Yr(hr.REQUIRED_VALUE,"path");return e}else throw Yr(hr.INVALID_VALUE)}function yE(e){const{path:t,locale:n,args:i,choice:r,plural:s}=e,a={},o=i||{};return Je(n)&&(a.locale=n),Rn(r)&&(a.plural=r),Rn(s)&&(a.plural=s),[t,o,a]}function Jte(e,t,...n){const i=Pt(n[0])?n[0]:{};(vn(i.globalInstall)?i.globalInstall:!0)&&([mE.name,"I18nT"].forEach(s=>e.component(s,mE)),[gE.name,"I18nN"].forEach(s=>e.component(s,gE)),[bE.name,"I18nD"].forEach(s=>e.component(s,bE))),e.directive("t",Qte(t))}const Zte=oo("global-vue-i18n");function ene(e={}){const t=vn(e.globalInjection)?e.globalInjection:!0,n=new Map,[i,r]=tne(e),s=oo("");function a(c){return n.get(c)||null}function o(c,d){n.set(c,d)}function l(c){n.delete(c)}const u={get mode(){return"composition"},async install(c,...d){if(c.__VUE_I18N_SYMBOL__=s,c.provide(c.__VUE_I18N_SYMBOL__,u),Pt(d[0])){const m=d[0];u.__composerExtend=m.__composerExtend,u.__vueI18nExtend=m.__vueI18nExtend}let f=null;t&&(f=une(c,u.global)),Jte(c,u,...d);const h=c.unmount;c.unmount=()=>{f&&f(),u.dispose(),h()}},get global(){return r},dispose(){i.stop()},__instances:n,__getInstance:a,__setInstance:o,__deleteInstance:l};return u}function Om(e={}){const t=mn();if(t==null)throw Yr(hr.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Yr(hr.NOT_INSTALLED);const n=nne(t),i=rne(n),r=jI(t),s=ine(e,r);if(s==="global")return Hte(i,e,r),i;if(s==="parent"){let l=sne(n,t,e.__useComponent);return l==null&&(l=i),l}const a=n;let o=a.__getInstance(t);if(o==null){const l=Xn({},e);"__i18n"in r&&(l.__i18n=r.__i18n),i&&(l.__root=i),o=HI(l),a.__composerExtend&&(o[fy]=a.__composerExtend(o)),one(a,t,o),a.__setInstance(t,o)}return o}function tne(e,t){const n=Zy(),i=n.run(()=>HI(e));if(i==null)throw Yr(hr.UNEXPECTED_ERROR);return[n,i]}function nne(e){const t=En(e.isCE?Zte:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Yr(e.isCE?hr.NOT_INSTALLED_WITH_PROVIDE:hr.UNEXPECTED_ERROR);return t}function ine(e,t){return wm(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function rne(e){return e.mode==="composition"?e.global:e.global.__composer}function sne(e,t,n=!1){let i=null;const r=t.root;let s=ane(t,n);for(;s!=null;){const a=e;if(e.mode==="composition"&&(i=a.__getInstance(s)),i!=null||r===s)break;s=s.parent}return i}function ane(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function one(e,t,n){Et(()=>{},t),Xr(()=>{const i=n;e.__deleteInstance(t);const r=i[fy];r&&(r(),delete i[fy])},t)}const lne=["locale","fallbackLocale","availableLocales"],_E=["t","rt","d","n","tm","te"];function une(e,t){const n=Object.create(null);return lne.forEach(r=>{const s=Object.getOwnPropertyDescriptor(t,r);if(!s)throw Yr(hr.UNEXPECTED_ERROR);const a=xt(s.value)?{get(){return s.value.value},set(o){s.value.value=o}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,r,a)}),e.config.globalProperties.$i18n=n,_E.forEach(r=>{const s=Object.getOwnPropertyDescriptor(t,r);if(!s||!s.value)throw Yr(hr.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,"$".concat(r),s)}),()=>{delete e.config.globalProperties.$i18n,_E.forEach(r=>{delete e.config.globalProperties["$".concat(r)]})}}const cne=Se({name:"i18n-d",props:Xn({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Ob),setup(e,t){const n=e.i18n||Om({useScope:e.scope,__useComponent:!0});return qI(e,t,BI,(...i)=>n[cy](...i))}}),bE=cne;Ute();yte(Zee);_te(mte);bte(II);if(__INTLIFY_PROD_DEVTOOLS__){const e=Sb();e.__INTLIFY__=!0,ete(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const dne=Se({__name:"NavBar",setup(e){const t=Ud(),n=_m(),i=jY();function r(){window.history.state.back?history.back():n.replace("/")}const{t:s}=Om(),a=fe(()=>t.meta?t.meta.i18n?s(t.meta.i18n):t.meta.title||"":""),o=fe(()=>t.name&&jk.includes(t.name)),l=fe(()=>t.name&&t.meta.hideNavBar!==!0),u=fe(()=>t.name&&t.meta.tabs!==void 0),c=lee(),d=ie(""),f=["dutyManagement"];function h(m){var g,_;const p=c==null?void 0:c.value["click-tab"];try{(_=(g=c==null?void 0:c.value)==null?void 0:g.children)!=null&&_.length&&(f.includes(m==null?void 0:m.name)||uee(c.value.children,m==null?void 0:m.name))}catch(y){}p&&(i.clearEvent(),i.triggerEvent(p,m))}return De(()=>c.value,m=>{if(!!!(m.children&&m.children.length>0)){d.value="";return}const g=m.active||m.children[0].name;if(!d.value){d.value=g,h({name:d.value});return}m.active&&m.active!==d.value&&(d.value=m.active)},{immediate:!0}),(m,p)=>{const g=su,_=Pd,y=UD;return Ge(l)?(je(),wt(y,{id:"navbar",key:Ge(a),title:Ge(a),fixed:!0,clickable:"",placeholder:"","left-arrow":!Ge(o),onClickLeft:r},Vh({_:2},[Ge(u)?{name:"title",fn:Ze(()=>[x(_,tt(Ge(c)&&typeof Ge(c)=="object"?Ge(bI)(Ge(c),"children"):{},{active:Ge(d),"onUpdate:active":p[0]||(p[0]=b=>xt(d)?d.value=b:null),swipeable:"",ellipsis:!1,onClickTab:h}),{default:Ze(()=>[(je(!0),ot(ct,null,Pr(Ge(c).children,b=>(je(),wt(g,{key:b.name,name:b.name,title:b.title||"".concat(b.name)},null,8,["name","title"]))),128))]),_:1},16,["active"])]),key:"0"}:void 0]),1032,["title","left-arrow"])):zt("",!0)}}}),TE=Nq(),fne=nO(),hne={class:"app-wrapper"},pne=Se({__name:"App",setup(e){Zz({title:"",meta:[{name:"description",content:"An mobile web apps template based on the Vue 3 ecosystem"},{name:"theme-color",content:()=>TE.value?"#00aba9":"#ffffff"}],link:[{rel:"icon",type:"image/png",href:()=>(fne.value,"/saveus_logo_72.png")}]});const t=sb(),n=fe(()=>t.routeCaches),i=fe(()=>TE.value?"dark":"light");Xr(()=>{jd().stopOnlineTimer()});const r={floatingBubbleSize:"48px",floatingBubbleIconSize:"24px"};return(s,a)=>{const o=dne,l=Kt("router-view"),u=tK,c=wD;return je(),wt(c,{theme:Ge(i),"theme-vars":r},{default:Ze(()=>[x(o),x(l,null,{default:Ze(({Component:d})=>[dt("section",hne,[(je(),wt(NB,{include:Ge(n)},[(je(),wt(Kw(d)))],1032,["include"]))])]),_:1}),x(u)]),_:1},8,["theme"])}}}),Ki=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n},mne=Ki(pne,[["__scopeId","data-v-08517e76"]]),gne=(e,t,n)=>{const i=e[t];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((r,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};var vne={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(e,t)=>"".concat(e,"/").concat(t),rangePrompt:e=>"Choose no more than ".concat(e," days")},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:e=>"".concat(e*10,"% off"),condition:e=>"At least ".concat(e)},vanCouponCell:{title:"Coupon",count:e=>"You have ".concat(e," coupons")},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};const yne="zh-CN",_ne={"zh-CN":C2,"en-US":vne},bne=[{text:"",value:"zh-CN"},{text:"English",value:"en-US"}],hy=Tne();fe({get(){return hy.global.locale.value},set(e){WI(e,hy)}});function Tne(){const e=Sne(),t=ene({locale:e});return WI(e,t),t}async function WI(e,t){await Ane(e,t),document.querySelector("html").setAttribute("lang",e),localStorage.setItem("language",e),t.global.locale.value=e,T_.use(e,_ne[e])}async function Ane(e,t){const n=await gne(Object.assign({"../locales/en-US.json":()=>be(()=>import("./en-US-C5bdRdhO.js"),[],import.meta.url),"../locales/zh-CN.json":()=>be(()=>import("./zh-CN-CCtKx-EL.js"),[],import.meta.url)}),"../locales/".concat(e,".json"),3);t.global.setLocaleMessage(e,n.default)}function Sne(){const e=localStorage.getItem("language")||navigator.language;return bne.map(r=>r.value).find(r=>r===e||r.indexOf(e)===0)||yne}var Dh={exports:{}},xne=Dh.exports,AE;function Ene(){return AE||(AE=1,(function(e,t){(function(n,i){e.exports=i()})(xne,(function(){var n=1e3,i=6e4,r=36e5,s="millisecond",a="second",o="minute",l="hour",u="day",c="week",d="month",f="quarter",h="year",m="date",p="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(N){var $=["th","st","nd","rd"],F=N%100;return"["+N+($[(F-20)%10]||$[F]||$[0])+"]"}},b=function(N,$,F){var V=String(N);return!V||V.length>=$?N:""+Array($+1-V.length).join(F)+N},A={s:b,z:function(N){var $=-N.utcOffset(),F=Math.abs($),V=Math.floor(F/60),U=F%60;return($<=0?"+":"-")+b(V,2,"0")+":"+b(U,2,"0")},m:function N($,F){if($.date()<F.date())return-N(F,$);var V=12*(F.year()-$.year())+(F.month()-$.month()),U=$.clone().add(V,d),Y=F-U<0,ne=$.clone().add(V+(Y?-1:1),d);return+(-(V+(F-U)/(Y?U-ne:ne-U))||0)},a:function(N){return N<0?Math.ceil(N)||0:Math.floor(N)},p:function(N){return{M:d,y:h,w:c,d:u,D:m,h:l,m:o,s:a,ms:s,Q:f}[N]||String(N||"").toLowerCase().replace(/s$/,"")},u:function(N){return N===void 0}},T="en",k={};k[T]=y;var O="$isDayjsObject",I=function(N){return N instanceof L||!(!N||!N[O])},w=function N($,F,V){var U;if(!$)return T;if(typeof $=="string"){var Y=$.toLowerCase();k[Y]&&(U=Y),F&&(k[Y]=F,U=Y);var ne=$.split("-");if(!U&&ne.length>1)return N(ne[0])}else{var z=$.name;k[z]=$,U=z}return!V&&U&&(T=U),U||!V&&T},D=function(N,$){if(I(N))return N.clone();var F=typeof $=="object"?$:{};return F.date=N,F.args=arguments,new L(F)},R=A;R.l=w,R.i=I,R.w=function(N,$){return D(N,{locale:$.$L,utc:$.$u,x:$.$x,$offset:$.$offset})};var L=(function(){function N(F){this.$L=w(F.locale,null,!0),this.parse(F),this.$x=this.$x||F.x||{},this[O]=!0}var $=N.prototype;return $.parse=function(F){this.$d=(function(V){var U=V.date,Y=V.utc;if(U===null)return new Date(NaN);if(R.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var ne=U.match(g);if(ne){var z=ne[2]-1||0,W=(ne[7]||"0").substring(0,3);return Y?new Date(Date.UTC(ne[1],z,ne[3]||1,ne[4]||0,ne[5]||0,ne[6]||0,W)):new Date(ne[1],z,ne[3]||1,ne[4]||0,ne[5]||0,ne[6]||0,W)}}return new Date(U)})(F),this.init()},$.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},$.$utils=function(){return R},$.isValid=function(){return this.$d.toString()!==p},$.isSame=function(F,V){var U=D(F);return this.startOf(V)<=U&&U<=this.endOf(V)},$.isAfter=function(F,V){return D(F)<this.startOf(V)},$.isBefore=function(F,V){return this.endOf(V)<D(F)},$.$g=function(F,V,U){return R.u(F)?this[V]:this.set(U,F)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(F,V){var U=this,Y=!!R.u(V)||V,ne=R.p(F),z=function(X,Z){var he=R.w(U.$u?Date.UTC(U.$y,Z,X):new Date(U.$y,Z,X),U);return Y?he:he.endOf(u)},W=function(X,Z){return R.w(U.toDate()[X].apply(U.toDate("s"),(Y?[0,0,0,0]:[23,59,59,999]).slice(Z)),U)},le=this.$W,ye=this.$M,ae=this.$D,ke="set"+(this.$u?"UTC":"");switch(ne){case h:return Y?z(1,0):z(31,11);case d:return Y?z(1,ye):z(0,ye+1);case c:var q=this.$locale().weekStart||0,ve=(le<q?le+7:le)-q;return z(Y?ae-ve:ae+(6-ve),ye);case u:case m:return W(ke+"Hours",0);case l:return W(ke+"Minutes",1);case o:return W(ke+"Seconds",2);case a:return W(ke+"Milliseconds",3);default:return this.clone()}},$.endOf=function(F){return this.startOf(F,!1)},$.$set=function(F,V){var U,Y=R.p(F),ne="set"+(this.$u?"UTC":""),z=(U={},U[u]=ne+"Date",U[m]=ne+"Date",U[d]=ne+"Month",U[h]=ne+"FullYear",U[l]=ne+"Hours",U[o]=ne+"Minutes",U[a]=ne+"Seconds",U[s]=ne+"Milliseconds",U)[Y],W=Y===u?this.$D+(V-this.$W):V;if(Y===d||Y===h){var le=this.clone().set(m,1);le.$d[z](W),le.init(),this.$d=le.set(m,Math.min(this.$D,le.daysInMonth())).$d}else z&&this.$d[z](W);return this.init(),this},$.set=function(F,V){return this.clone().$set(F,V)},$.get=function(F){return this[R.p(F)]()},$.add=function(F,V){var U,Y=this;F=Number(F);var ne=R.p(V),z=function(ye){var ae=D(Y);return R.w(ae.date(ae.date()+Math.round(ye*F)),Y)};if(ne===d)return this.set(d,this.$M+F);if(ne===h)return this.set(h,this.$y+F);if(ne===u)return z(1);if(ne===c)return z(7);var W=(U={},U[o]=i,U[l]=r,U[a]=n,U)[ne]||1,le=this.$d.getTime()+F*W;return R.w(le,this)},$.subtract=function(F,V){return this.add(-1*F,V)},$.format=function(F){var V=this,U=this.$locale();if(!this.isValid())return U.invalidDate||p;var Y=F||"YYYY-MM-DDTHH:mm:ssZ",ne=R.z(this),z=this.$H,W=this.$m,le=this.$M,ye=U.weekdays,ae=U.months,ke=U.meridiem,q=function(Z,he,H,K){return Z&&(Z[he]||Z(V,Y))||H[he].slice(0,K)},ve=function(Z){return R.s(z%12||12,Z,"0")},X=ke||function(Z,he,H){var K=Z<12?"AM":"PM";return H?K.toLowerCase():K};return Y.replace(_,(function(Z,he){return he||(function(H){switch(H){case"YY":return String(V.$y).slice(-2);case"YYYY":return R.s(V.$y,4,"0");case"M":return le+1;case"MM":return R.s(le+1,2,"0");case"MMM":return q(U.monthsShort,le,ae,3);case"MMMM":return q(ae,le);case"D":return V.$D;case"DD":return R.s(V.$D,2,"0");case"d":return String(V.$W);case"dd":return q(U.weekdaysMin,V.$W,ye,2);case"ddd":return q(U.weekdaysShort,V.$W,ye,3);case"dddd":return ye[V.$W];case"H":return String(z);case"HH":return R.s(z,2,"0");case"h":return ve(1);case"hh":return ve(2);case"a":return X(z,W,!0);case"A":return X(z,W,!1);case"m":return String(W);case"mm":return R.s(W,2,"0");case"s":return String(V.$s);case"ss":return R.s(V.$s,2,"0");case"SSS":return R.s(V.$ms,3,"0");case"Z":return ne}return null})(Z)||ne.replace(":","")}))},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(F,V,U){var Y,ne=this,z=R.p(V),W=D(F),le=(W.utcOffset()-this.utcOffset())*i,ye=this-W,ae=function(){return R.m(ne,W)};switch(z){case h:Y=ae()/12;break;case d:Y=ae();break;case f:Y=ae()/3;break;case c:Y=(ye-le)/6048e5;break;case u:Y=(ye-le)/864e5;break;case l:Y=ye/r;break;case o:Y=ye/i;break;case a:Y=ye/n;break;default:Y=ye}return U?Y:R.a(Y)},$.daysInMonth=function(){return this.endOf(d).$D},$.$locale=function(){return k[this.$L]},$.locale=function(F,V){if(!F)return this.$L;var U=this.clone(),Y=w(F,V,!0);return Y&&(U.$L=Y),U},$.clone=function(){return R.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},N})(),B=L.prototype;return D.prototype=B,[["$ms",s],["$s",a],["$m",o],["$H",l],["$W",u],["$M",d],["$y",h],["$D",m]].forEach((function(N){B[N[1]]=function($){return this.$g($,N[0],N[1])}})),D.extend=function(N,$){return N.$i||(N($,L,D),N.$i=!0),D},D.locale=w,D.isDayjs=I,D.unix=function(N){return D(1e3*N)},D.en=k[T],D.Ls=k,D.p={},D}))})(Dh)),Dh.exports}var Cne=Ene();const pp=ao(Cne),GI=Se({inheritAttrs:!1,__name:"v-datetime-picker",props:{modelValue:String,placeholder:String,disabled:Boolean,title:String,label:String,minDate:Date,maxDate:Date,format:{type:String,default:"YYYY-MM-DD HH:mm"},readonly:{type:Boolean,default:!1},formCreateInject:Object},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,i=t;function r(p){return p?p.replace(/yyyy/g,"YYYY").replace(/dd/g,"DD").replace(/hh/g,"HH"):"YYYY-MM-DD HH:mm"}const s=ie(!1),a=ie([]),o=ie([]),l=fe(()=>n.modelValue||""),u=fe(()=>/H{1,2}|m{1,2}|s{1,2}/.test(n.format));function c(p,g){const _=g.toUpperCase(),y=[],b=[];if(_.includes("Y")){const A=String(p.year());y.push(A),b.push(A)}if(_.includes("M")){const A=String(p.month()+1).padStart(2,"0");y.push(A),b.push(A)}if(_.includes("D")){const A=String(p.date()).padStart(2,"0");y.push(A),b.push(A)}return{arr:y,str:b.join("-")}}De(()=>n.modelValue,p=>{const g=pp(p||new Date,n.format);if(!g.isValid())return;const _=c(g,n.format);a.value=_.arr,u.value&&(o.value=[h(g.hour()),h(g.minute())])},{immediate:!0});function d(){var O,I;const[p,g,_]=a.value;let y="";if(u.value){const[w,D]=o.value;y="".concat(p,"-").concat(g,"-").concat(_," ").concat(w,":").concat(D)}else y=a.value.join("-");const b=r(n.format),A=pp(y).format(b);i("update:modelValue",A),i("change",A);const T=(O=n.formCreateInject)==null?void 0:O.api,k=(I=n.formCreateInject)==null?void 0:I.rule;try{T&&k&&((k.field==="date_8"||k.title==="")&&typeof T.parent.setValue=="function"&&T.parent.setValue("date_10",A),(k.field==="date_9"||k.title==="")&&typeof T.parent.setValue=="function"&&T.parent.setValue("date_11",A))}catch(w){}s.value=!1}function f(){s.value=!1}function h(p){return String(p).padStart(2,"0")}function m(p){const g=p.toUpperCase(),_=[];return g.includes("Y")&&_.push("year"),g.includes("M")&&_.push("month"),g.includes("D")&&_.push("day"),_.length?_:["year","month","day"]}return(p,g)=>{const _=Vn,y=kD,b=hk,A=jD,T=Jn;return je(),ot(ct,null,[x(_,{class:Vt({"van-field-readonly":e.readonly}),readonly:e.readonly,label:e.title||e.label,"model-value":l.value,placeholder:e.placeholder,disabled:e.disabled,"is-link":!e.readonly,onClick:g[0]||(g[0]=k=>e.readonly?s.value=!1:s.value=!0)},null,8,["class","readonly","label","model-value","placeholder","disabled","is-link"]),x(T,{show:s.value,"onUpdate:show":g[4]||(g[4]=k=>s.value=k),position:"bottom"},{default:Ze(()=>[u.value?(je(),wt(A,{key:0,title:e.title||"",tabs:["",""],onConfirm:d,onCancel:f},{default:Ze(()=>[x(y,{modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=k=>a.value=k),"min-date":e.minDate,"max-date":e.maxDate},null,8,["modelValue","min-date","max-date"]),x(b,{modelValue:o.value,"onUpdate:modelValue":g[2]||(g[2]=k=>o.value=k)},null,8,["modelValue"])]),_:1},8,["title"])):(je(),wt(y,{key:1,modelValue:a.value,"onUpdate:modelValue":g[3]||(g[3]=k=>a.value=k),"min-date":e.minDate,"max-date":e.maxDate,"columns-type":m(n.format),onConfirm:d,onCancel:f},null,8,["modelValue","min-date","max-date","columns-type"]))]),_:1},8,["show"])],64)}}}),wne=Se({__name:"v-collapse",props:{title:{},expand:{type:Boolean}},setup(e){const n=ie(e.expand!==!1?["1"]:[]);return(i,r)=>{const s=CD,a=ED;return je(),wt(a,{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=o=>n.value=o),border:!1,class:"v-collapse"},{default:Ze(()=>[x(s,{title:e.title,name:"1",border:!1,class:"v-collapse-item"},{default:Ze(()=>[oi(i.$slots,"default",{},void 0,!0)]),_:3},8,["title"])]),_:3},8,["modelValue"])}}}),Dne=Ki(wne,[["__scopeId","data-v-69bcc890"]]),kne=Se({__name:"v-sub-input",props:{modelValue:[String,Number],placeholder:String,inputAlign:String,readonly:Boolean,disabled:Boolean,subTitle:String,labelWidth:[String,Number]},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,r=ie(n.modelValue);De(()=>n.modelValue,a=>{r.value=a});function s(a){r.value=a,i("update:modelValue",a)}return(a,o)=>{const l=Vn;return je(),wt(l,{class:Vt(["v-sub-input",{"van-field-readonly":e.readonly}]),"label-align":"left",label:e.subTitle,"model-value":r.value,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,"label-width":e.labelWidth,"onUpdate:modelValue":s},null,8,["label","model-value","class","placeholder","readonly","disabled","label-width"])}}});class One{constructor(t=localStorage){aA(this,"driver");this.driver=t}async set(t,n){return this.driver.setItem(t,JSON.stringify(n)),n}async get(t){const n=this.driver.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(i){return null}}async remove(t){this.driver.removeItem(t)}async clear(){this.driver.clear()}async keys(){return Object.keys(this.driver)}}const aa=new One(localStorage);async function Sde(e){return nt.get("/task/get_todo_list",{params:e})}async function xde(e){return nt.get("/task/get_finish_list",{params:e})}async function Ede(e){return nt.get("/task/send_list",{params:e})}async function Cde(e){return nt.get("/task/notice_list",{params:e})}async function wde(e){return nt.get("/task/delay_list",{params:e})}async function Dde(e){return nt.get("/app/get_list",{params:e})}async function kde(e){return nt.get("/task/get_data",{params:e})}async function Ode(e){return nt.get("/process/start_data",{params:e})}async function YI(e){return nt.get("/enbase/staff",{params:e})}async function Ine(e){return nt.get("/tree/get_child",{params:e})}async function KI(){return await Promise.all([aa.remove("process-params"),aa.remove("process-formData"),aa.remove("process-launch")])}async function Pne(e=null){var l,u,c,d,f,h;const t=await aa.get("process-params"),n=await aa.get("process-formData"),i=await aa.get("process-launch");let r="",s="";t&&(t==null?void 0:t.nid)==="83"?(r="".concat(pp().format("YYYYMMDDHHmmss")),s=(u=(l=n.form_data.dynamic_10)==null?void 0:l[0])==null?void 0:u.date_7):n!=null&&n.rule&&(n!=null&&n.rule[0])&&(r=n==null?void 0:n.rule[0].props.title);const o=(m=>{if(m.name)return"name";const g=Object.keys(m).filter(_=>/^input_\d+$/.test(_));if(g!=null&&g.length)return g.reduce((y,b)=>{const A=Number.parseInt(y.split("_")[1],10);return Number.parseInt(b.split("_")[1],10)<A?b:y})})(n.form_data);return{...t,app_id:t==null?void 0:t.app_id,task_id:(t==null?void 0:t.task_id)||0,...t==null?void 0:t.startDataParams,param:"",action:(c=n==null?void 0:n.btn)==null?void 0:c.value,candidate:JSON.stringify(e&&!(e!=null&&e.timepolicy)?{[(d=i[i.length-1])==null?void 0:d.node_id]:e.candidate}:[]),notice:JSON.stringify(e?e.notice:[]),forms_data:JSON.stringify([n.form_data]),title:r||(o&&n.form_data[o]?n.form_data[o]:""),deadline_start_time:n.form_data.date_2,deadline_time:s||(e?(f=n.form_data.date_3)==null?void 0:f.split(" ")[0]:n.form_data.date_3),sign:(h=t==null?void 0:t.formJson)==null?void 0:h.sign,timepolicy:e!=null&&e.timepolicy?JSON.stringify(e==null?void 0:e.timepolicy):null}}async function XI(e=null){const t=await Pne(e),n=new FormData;return XZ(t,(i,r)=>{r==="timepolicy"?i&&n.append(r,i):n.append(r,i)}),nt.post("/process/launch",n)}async function Ide(e){return nt.get("/process/view_task",{params:e})}async function Pde(e){return nt.get("/enbase/staff_list",{params:e})}async function Rde(e){return nt.get("/enbase/staff_get",{params:e})}async function Rne(e){return nt.get("/enpartner/related_parties_list",{params:e})}async function Lde(e){return nt.get("/role/role_list",{params:e})}async function Lne(e){return nt.get("/enemergency/plan_list",{params:e})}async function Mde(e){return nt.get("/enbase/team_list",{params:e})}async function Nde(e){return nt.post("/Standingbook/get_book_account_data_list",e)}async function Bde(e){return nt.get("/enemergency/evacuation_list",{params:e})}async function Fde(e){return nt.get("/Enemergency/get_event_disposal_database_list",{params:e})}async function $de(e){return nt.get("/enemergency/contacts_list",{params:e})}async function Ude(e){return nt.get("/ensafe/goal_list",{params:e})}async function Vde(e){return nt.get("/ensafe/goal_get",{params:e})}async function jde(e){return nt.get("/ensafe/safe_plan_list",{params:e})}async function Hde(e){return nt.get("/ensafe/safe_plan_get",{params:e})}async function zde(e){return nt.get("/annualplan/investment_plan_list",{params:e})}async function qde(e){return nt.get("/ensafe/invest_list",{params:e})}async function Wde(e){return nt.get("/statistics/get_input_statistics",{params:e})}async function Gde(e){const t=new FormData;for(const n in e)t.append(n,Ln(e[n])||Wi(e[n])?JSON.stringify(e[n]):e[n]);return nt.post("/ensafe/invest_edit",t)}async function fs(e){return nt.get("/tree/get_child",{params:e})}async function Mne(e){return nt.get("/ensafe/risk_group",{params:e})}async function Nne(e){return nt.get("/ensafe/license_Item_list",{params:e})}async function Yde(e){return nt.get("/enknowbase/kb_list",{params:e})}async function Kde(e){return nt.get("/tree/get_child",{params:e})}async function Bne(e){return nt.get("/traincourse/index_list",{params:e})}async function Xde(e){return nt.get("/ensafe/risk_list",{params:e})}async function Fne(e){return nt.get("/encheck/limited_space_list",{params:e})}async function Qde(e){return nt.get("/ensafe/check_record_statistics_list",{params:e})}function $ne(e){const t=Object.keys(e).filter(n=>n.startsWith("date"));t.sort((n,i)=>{const r=Number.parseInt(n.split("_")[1]),s=Number.parseInt(i.split("_")[1]);return r-s});for(let n=1;n<t.length;n++){const i=new Date(e[t[n-1]]);if(new Date(e[t[n]])<=i)return!1}return!0}function Une(e,t){const{label:n,value:i}=Object.assign({label:"label",value:"value"},t);return e.map(r=>({label:r[n]||r.name||r.title,value:r[i]||r.id,...r}))}async function SE(e){const t=await YI({departmentid:0,page:1,page_size:1e3});return e==="inputselect"?t.data:[{id:"staff",name:"",children:t.data}]}function xE(e){return e==="inputselect"?{label:"name",value:"name"}:{label:"name",value:"id"}}const Ir={WORK_UNIT:async()=>[{id:"WORK_UNIT",title:"",children:await fs({id:"WORK_UNIT",deep:1,enbase:1})}],WORK_UNIT_fieldNames:{label:"title",value:"id"},staff:SE,staff_fieldNames:xE,relevant:async()=>(await Rne({page:1,page_size:1e3,business_type:0})).data,relevant_fieldNames:{label:"company_name",value:"company_name"},workitem:async()=>[{id:"COURSEPROFESSION",title:"",children:await Nne({type:2,work_id:1,page:1})}],workitem_fieldNames:{label:"content",value:"id"},"staff|title":SE,"staff|title_fieldNames":xE,TRAINING_TYPE:async()=>await fs({id:"TRAINING_TYPE",deep:1,enbase:1}),EXAM_TYPE:async()=>await fs({id:"EXAM_TYPE",deep:1,enbase:1}),75:async()=>[{id:"75",title:"",children:await fs({id:"75",deep:1,enbase:1})}],"75_fieldNames":{label:"title",value:"id"},106:async()=>[{id:"75",title:"",children:await fs({id:"106",deep:1,enbase:1})}],"106_fieldNames":{label:"title",value:"id"},27:async()=>[{id:"27",title:"",children:await fs({id:"27",deep:1,enbase:1})}],"27_fieldNames":{label:"title",value:"id"},37:async()=>[{id:"37",title:"",children:await fs({id:"37",deep:1,enbase:1})}],"37_fieldNames":e=>e==="inputselect"?{label:"title",value:"title"}:{label:"title",value:"id"},department:async e=>{var i;const t=(i=jd())==null?void 0:i.userInfo,n=await fs({id:t.etp_id,deep:1,enbase:1,is_node:1});return e==="inputselect"?n:[{id:"department",name:"",children:n}]},department_fieldNames:e=>e==="inputselect"?{label:"title",value:"title"}:{label:"title",value:"id"},area:async(e={})=>{const t=e.parent_id||0,n=await Hne(t);return t===0&&e!=="inputselect"?[{id:"0",name:"",children:n}]:n},area_fieldNames:{label:"name",value:"name"},emergency_plan:async()=>{const e=await Lne({page:1,page_size:1e4});return[{id:"emergency_plan",name:"",children:e==null?void 0:e.data}]},emergency_plan_fieldNames:{label:"name",value:"id"},risk_name:async e=>{const t=await Mne({category_id:0,department_id:0,area_id:0,level:0});return e==="inputselect"?t==null?void 0:t.data:[{id:"risk_name",name:"",children:t==null?void 0:t.data}]},risk_name_fieldNames:e=>e==="inputselect"?{label:"name",value:"name"}:{label:"name",value:"id"},course:async e=>{const t=await Bne({course_type:7});return e==="inputselect"?t.data:[{id:"course",title:"",children:t.data}]},course_fieldNames:{label:"title",value:"id"}};function Vne(e,t,n=null){for(const i of e){if(i.value===t)return n;if(i.children&&i.children.length>0){const r=Vne(i.children,t,i);if(r!==null)return r}}return null}function py(e,t){var n;return t?Array.isArray(e)?e==null?void 0:e.map(i=>i.value||i):e||[]:Array.isArray(e)?((n=e[0])==null?void 0:n.value)||e[0]||"":e!=null?e:""}function my(e,t){const n=Ir["".concat(e,"_fieldNames")];return Am(n)?n(t):n}function jne(e,t){const n={meeting_edit:async i=>{var u,c,d,f;const r=Object.assign({},i,{type:"add",id:"0"}),s=JSON.stringify({name:(u=r.staff)==null?void 0:u.map(h=>h.label).join(","),id:(c=r.staff)==null?void 0:c.map(h=>h.value).join(",")}),a=(d=r.sponsor_staff_id[0])==null?void 0:d.value,o=(f=r.executive_staff[0])==null?void 0:f.value,l=Object.assign({},r,{staff:s,sponsor_staff_id:a,executive_staff:o});return await nt.post("/enbase/meeting_edit",DO(l))}};return n[e]?n[e](t):null}async function Hne(e=0){const t=await Fne({set_etp_id:"@",type:0,parent_id:e,department_id:0,page:1,page_size:1e4});return(t==null?void 0:t.data)||[]}function zne({list:e,rowKey:t,disabledKey:n="disabled",type:i="checkbox",selectedKeys:r,defaultSelectedKeys:s=[]}){const a=ie(new Set(s)),o=fe(()=>r!==void 0),l=fe({get(){return o.value?new Set(r.value):a.value},set(y){o.value?r.value=Array.from(y):a.value=y}}),u=y=>!!y[n],c=y=>l.value.has(y[t]),d=(y,b)=>{const A=y[t];if(u(y))return;const T=new Set(l.value),k=!T.has(A);i==="radio"?k?(T.clear(),T.add(A)):T.clear():k?T.add(A):T.delete(A),l.value=T},f=fe(()=>e.value.filter(y=>l.value.has(y[t]))),h=()=>{if(i==="radio")return;const y=new Set(l.value);e.value.forEach(b=>{u(b)||y.add(b[t])}),l.value=y},m=()=>{l.value=new Set},p=fe(()=>{if(i==="radio")return!1;const y=e.value.filter(b=>!u(b));return y.length>0&&y.every(b=>l.value.has(b[t]))}),g=()=>{p.value?m():h()},_=y=>{l.value=new Set(y)};return{selectedKeys:fe(()=>Array.from(l.value)),selectedRows:f,isChecked:c,isAllSelected:p,toggle:d,toggleAll:g,clearSelection:m,selectAll:h,setSelectedKeys:_}}const qne={style:{padding:"10px",display:"flex"}},Wne={class:"table-header text-white font-semibold sticky z-10"},Gne=["onClick"],Yne=Se({__name:"ProList",props:{request:{},dataSource:{},pageSize:{},floating:{},form:{},columns:{},showIndex:{type:Boolean,default:!0},rowKey:{},onRowClick:{},rowSelection:{},cellProps:{}},emits:["update:loading","onFloatingClick","onRowClick","update:form"],setup(e,{expose:t,emit:n}){var V;const i=e,r=n,s=ie([]),a=ie(!1),o=ie(!1),l=ie(!1),u=ie(1),c=ie(i.pageSize||20),d=ie(!1),f=ie(null),h=ie(0),{selectedKeys:m,selectedRows:p,isChecked:g,toggle:_,toggleAll:y}=zne({list:s,rowKey:i.rowKey||"id",defaultSelectedKeys:((V=i.rowSelection)==null?void 0:V.defaultSelectedRowKeys)||[]});De(()=>m.value,U=>{var Y;(Y=i.rowSelection)!=null&&Y.onChange&&i.rowSelection.onChange(U,p.value)},{immediate:!1});async function b(U=!1){U&&(u.value=1,s.value=[],o.value=!1),a.value=!0,r("update:loading",!0);let Y=0;try{const{data:ne,total:z}=await i.request({pageNum:u.value,pageSize:c.value,form:i.form||{}});Y=z,s.value.push(...ne),s.value.length>=z||ne.length<c.value?o.value=!0:u.value+=1}finally{c.value>Y&&(o.value=!0),a.value=!1,l.value=!1,r("update:loading",!1)}}const A=()=>b(),T=()=>b(!0);function k(){d.value=!1}Et(()=>{b();const U=document.querySelector("#navbar");U&&setTimeout(()=>{h.value=U.offsetHeight},100)}),t({loadData:b,selectedKeys:m,selectedRows:p,toggleAll:y,reload:()=>b(!0)});function O(U,Y,ne){U.stopPropagation(),r("onFloatingClick",Y),Y.onClick&&Y.onClick(U),Y.key==="search"&&(d.value=!0)}const I=document.querySelector("section").offsetWidth-52,w=window.innerHeight-110;function D(U,Y){const ne=U.align||"left";return U.width?{width:typeof U.width=="number"?"".concat(U.width,"px"):U.width,textAlign:ne}:Y===0?{width:"60px",textAlign:ne}:{flex:1,textAlign:ne}}const R=fe(()=>{const U=i.columns.filter(ne=>!ne.hidden&&ne.title!=="");return!(i!=null&&i.showIndex)||U.some(ne=>ne.key==="__index")?U:[{title:"",key:"__index",width:"10%",fixedWidth:!0},...U]});function L(U,Y){r("onRowClick",U,Y)}const B=vt(JSON.parse(JSON.stringify({...i.form})));function N(){r("update:form",{...B})}function $(){b(!0)}function F(U){return Wr(U)?U:Es("span",U)}return(U,Y)=>{const ne=Mn,z=nm,W=Jn,le=Zp,ye=Ld,ae=vi,ke=F_,q=QD,ve=LD;return je(),ot("div",{ref_key:"search",ref:f,class:Vt(U.$style.list)},[e.form?(je(),wt(W,{key:0,show:d.value,"onUpdate:show":Y[0]||(Y[0]=X=>d.value=X),position:"bottom",onClose:$},{default:Ze(()=>[x(z,{onSubmit:k},{default:Ze(()=>[oi(U.$slots,"searchForm",{form:e.form},void 0,!0),dt("div",qne,[x(ne,{round:"",block:"","native-type":"reset",style:{"margin-right":"8px"},onClick:N},{default:Ze(()=>[...Y[3]||(Y[3]=[ci("  ",-1)])]),_:1}),x(ne,{round:"",block:"",type:"primary","native-type":"submit"},{default:Ze(()=>[...Y[4]||(Y[4]=[ci("  ",-1)])]),_:1})])]),_:3})]),_:3},8,["show"])):zt("",!0),e.columns&&e.columns.length?(je(),wt(le,{key:1,"offset-top":h.value},{default:Ze(()=>[dt("div",Wne,[(je(!0),ot(ct,null,Pr(Ge(R),(X,Z)=>(je(),ot("div",{key:X.key,class:Vt(["header table-cell",{"fixed-width":X.fixedWidth||Z===0,no:X.key==="__index"}]),style:xs(D(X,Z))},Sn(X.title),7))),128))])]),_:1},8,["offset-top"])):zt("",!0),x(q,{modelValue:l.value,"onUpdate:modelValue":Y[2]||(Y[2]=X=>l.value=X),style:{"min-height":"90%"},onRefresh:T},{default:Ze(()=>[x(ke,{loading:a.value,"onUpdate:loading":Y[1]||(Y[1]=X=>a.value=X),finished:o.value,"finished-text":"",onLoad:A},{default:Ze(()=>[e.columns&&e.columns.length?(je(!0),ot(ct,{key:0},Pr(s.value,(X,Z)=>(je(),ot("div",{key:Z,class:"bg-white table-row hover:bg-gray-50"},[(je(!0),ot(ct,null,Pr(Ge(R),(he,H)=>(je(),ot("div",{key:he.key,class:Vt(["table-cell",{"fixed-width":he.fixedWidth||H===0}]),style:xs(D(he,H)),onClick:K=>L==null?void 0:L(X,Z)},[he.key==="__index"?(je(),ot(ct,{key:0},[ci(Sn(Z+1),1)],64)):oi(U.$slots,"cell-".concat(he.key),{key:1,row:X,index:Z},()=>[he.render?(je(),wt(Kw(F(he.render(X[he.key],X,Z))),{key:0})):(je(),ot(ct,{key:1},[ci(Sn(X[he.key]),1)],64))],!0)],14,Gne))),128))]))),128)):(je(!0),ot(ct,{key:1},Pr(s.value,(X,Z)=>(je(),ot(ct,{key:Z},[e.rowSelection?(je(),wt(ae,tt({key:0,ref_for:!0},e.cellProps),{icon:Ze(()=>{var he;return[x(ye,{"icon-size":"16px","model-value":Ge(g)(X),shape:((he=e.rowSelection)==null?void 0:he.type)==="radio"?"round":"square",onClick:H=>Ge(_)(X,H)},null,8,["model-value","shape","onClick"])]}),title:Ze(()=>[oi(U.$slots,"title",{item:X,index:Z},void 0,!0)]),value:Ze(()=>[oi(U.$slots,"value",{item:X,index:Z},void 0,!0)]),label:Ze(()=>[oi(U.$slots,"label",{item:X,index:Z},void 0,!0)]),"right-icon":Ze(()=>[oi(U.$slots,"right-icon",{item:X,index:Z},void 0,!0)]),extra:Ze(()=>[oi(U.$slots,"extra",{item:X,index:Z},void 0,!0)]),_:2},1040)):oi(U.$slots,"row",{key:1,item:X,index:Z},void 0,!0)],64))),128))]),_:3},8,["loading","finished"])]),_:3},8,["modelValue"]),e.floating?(je(!0),ot(ct,{key:2},Pr(e.floating.slice().reverse(),(X,Z)=>(je(),wt(ve,{key:X.key,style:{"--van-floating-bubble-size":"34.60px"},offset:{x:I,y:w-Z*45},teleport:f.value,icon:X.icon,onClick:he=>O(he,X)},null,8,["offset","teleport","icon","onClick"]))),128)):zt("",!0)],2)}}}),Kne="_list_210qi_1",Xne={list:Kne},Qne={$style:Xne},Jne=Ki(Yne,[["__cssModules",Qne],["__scopeId","data-v-c756d73c"]]),QI=Se({__name:"v-select",props:{modelValue:{},value:{},label:{},placeholder:{},readonly:{type:Boolean},columns:{},options:{},rules:{}},emits:["update:value","update:modelValue"],setup(e,{emit:t}){const n=e,i=t,r=ie(!1),s=ie([]),a=ie(null);function o({selectedValues:u,selectedOptions:c}){r.value=!1,s.value=u,a.value=c[0].text,i("update:value",c[0].value),i("update:modelValue",c[0].value)}function l(u){var d;const c=(d=n.columns||n.options)==null?void 0:d.find(f=>f.value===u);a.value=c?c.text:""}return De(()=>n.value,u=>{l(u)},{immediate:!0}),De(()=>n.modelValue,u=>{l(u)},{immediate:!0}),console.log("readonly",n),(u,c)=>{const d=Vn,f=Rd,h=Jn;return je(),ot(ct,null,[x(d,{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=m=>a.value=m),class:Vt({"van-field-readonly":e.readonly}),"is-link":"",readonly:"",label:e.label,placeholder:e.placeholder,rules:e.rules,onClick:c[1]||(c[1]=m=>r.value=!0)},null,8,["modelValue","class","label","placeholder","rules"]),x(h,{show:r.value,"onUpdate:show":c[3]||(c[3]=m=>r.value=m),round:"","destroy-on-close":"",position:"bottom"},{default:Ze(()=>[x(f,{"model-value":s.value,columns:e.columns||e.options,onCancel:c[2]||(c[2]=m=>r.value=!1),onConfirm:o},null,8,["model-value","columns"])]),_:1},8,["show"])],64)}}}),Zne=Se({__name:"SerchSentList",props:{form:{}},emits:["update:form"],setup(e,{emit:t}){const n=e,i=t,s=jd().userInfo,o={options:[{value:"1",label:""},{value:"0",label:""}]}.options.map(d=>({text:d.label,value:d.value})),l=vt({...n.form});De(l,d=>{i("update:form",d)},{deep:!0});const u=ie([]);function c(){let d={};String(l.status)==="0"?d={id:"GROUPS",deep:1,enbase:1}:d={id:s.etp_id,deep:1,enbase:1,is_node:1},Ine(d).then(f=>{const h=[];f.forEach(m=>{h.push({value:m.node_id,text:m.title})}),u.value=h})}return Et(()=>{c()}),De(()=>l.status,d=>{c(),l.departmentid=""}),(d,f)=>{const h=Vn,m=QI;return je(),ot(ct,null,[x(h,{modelValue:Ge(l).name,"onUpdate:modelValue":f[0]||(f[0]=p=>Ge(l).name=p),type:"text",name:"text",label:"",placeholder:""},null,8,["modelValue"]),x(m,{value:Ge(l).status,"onUpdate:value":f[1]||(f[1]=p=>Ge(l).status=p),columns:Ge(o),label:"",placeholder:""},null,8,["value","columns"]),x(m,{value:Ge(l).departmentid,"onUpdate:value":f[2]||(f[2]=p=>Ge(l).departmentid=p),columns:u.value,label:"",placeholder:""},null,8,["value","columns"])],64)}}});function JI(e){return e==null||e===""}function eie(e){return see(e,t=>!JI(t))}function ZI(e){return!!(JI(e)||Array.isArray(e)&&e.length===0||Wi(e)&&Object.keys(e).length===0)}const tie={class:"sent-title"},nie={class:"sent-text"},iie={key:0},rie={key:1},sie=Se({__name:"SentList",props:{visible:{type:Boolean},selectedRow:{}},emits:["update:visible","update:selectedRow"],setup(e,{emit:t}){var d;const n=e,i=t,r=ie((d=n.selectedRow)==null?void 0:d.map(f=>f.id));async function s({pageNum:f,form:h}){try{const m=await YI({page:f,...eie(bI(h,["status"]))});return{total:Number(m.count),data:m.data}}catch(m){return Xo({message:m.message||""}),{total:0,data:[]}}}const a=ie({departmentid:"",isadmin:"",name:""}),o=[{icon:"search",key:"search"},{icon:"success",key:"passed"},{icon:"cross",key:"close"}],l=ie([]);function u(f,h){l.value=h}function c({key:f}){f==="passed"?(i("update:selectedRow",l.value),i("update:visible",!1)):f==="close"&&i("update:visible",!1)}return(f,h)=>{const m=Zne,p=Jne;return je(),wt(p,{form:a.value,"onUpdate:form":h[1]||(h[1]=g=>a.value=g),"cell-props":{titleClass:"sent-title-class"},"row-selection":{type:"checkbox",onChange:u,defaultSelectedRowKeys:r.value},request:s,floating:o,onOnFloatingClick:c},{title:Ze(({item:g})=>[dt("span",tie,Sn(g.name),1),dt("span",nie,[g.department?(je(),ot("span",iie,Sn(g.department),1)):zt("",!0),g.post?(je(),ot("span",rie,"/"+Sn(g.post),1)):zt("",!0)])]),searchForm:Ze(()=>[x(m,{form:a.value,"onUpdate:form":h[0]||(h[0]=g=>a.value=g)},null,8,["form"])]),_:1},8,["form","row-selection"])}}}),aie=Ki(sie,[["__scopeId","data-v-37ccf221"]]),oie={class:"multi-select-action-sheet"},lie={class:"options-container"},uie={class:"action-buttons"},cie=Se({__name:"MultiSelectActionSheet",props:{show:{type:Boolean,default:!1},title:{default:""},options:{default:()=>[]},selected:{default:()=>[]},max:{default:0},closeOnClickOverlay:{type:Boolean,default:!0}},emits:["update:show","confirm","closed"],setup(e,{emit:t}){const n=e,i=t,r=ie(n.show),s=ie([...n.selected]),a=ie();De(()=>n.show,d=>{r.value=d}),De(r,d=>{i("update:show",d)}),De(()=>n.selected,d=>{s.value=[...d]},{deep:!0});function o(d){const f=n.options[d],h=s.value.indexOf(f.value);if(h>-1)s.value.splice(h,1);else{if(n.max>0&&s.value.length>=n.max)return;s.value.push(f.value)}}function l(){i("confirm",s.value),r.value=!1}function u(){s.value=[],a.value&&a.value.toggleAll(!1)}function c(){i("closed")}return(d,f)=>{const h=Ld,m=vi,p=R_,g=Mn,_=V2;return je(),wt(_,{show:r.value,"onUpdate:show":f[2]||(f[2]=y=>r.value=y),title:e.title,"close-on-click-overlay":e.closeOnClickOverlay,onClosed:c},{default:Ze(()=>[dt("div",oie,[dt("div",lie,[x(p,{ref_key:"checkboxGroup",ref:a,modelValue:s.value,"onUpdate:modelValue":f[1]||(f[1]=y=>s.value=y)},{default:Ze(()=>[(je(!0),ot(ct,null,Pr(e.options,(y,b)=>(je(),wt(m,{key:b,title:y.label,clickable:"",onClick:A=>o(b)},{"right-icon":Ze(()=>[x(h,{name:y.value,onClick:f[0]||(f[0]=rF(()=>{},["stop"]))},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:1},8,["modelValue"])]),dt("div",uie,[x(g,{plain:"",type:"primary",size:"small",onClick:u},{default:Ze(()=>[...f[3]||(f[3]=[ci("  ",-1)])]),_:1}),x(g,{type:"primary",size:"small",onClick:l},{default:Ze(()=>[...f[4]||(f[4]=[ci("  ",-1)])]),_:1})])])]),_:1},8,["show","title","close-on-click-overlay"])}}}),die=Ki(cie,[["__scopeId","data-v-6f929cab"]]),fie=Se({__name:"v-multi-select",props:{title:{type:String,required:!0},sheetTitle:{type:String,default:""},options:{type:Array,required:!0,validator:e=>e.every(t=>t.value!==void 0&&t.label!==void 0)},modelValue:{type:Array,default:()=>[]},max:{type:Number,default:0},placeholder:{type:String,default:""},separator:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,r=ie(!1),s=ie([...n.modelValue]),a=fe(()=>s.value.length?n.options.filter(l=>s.value.includes(l.value)).map(l=>l.label).join(n.separator):n.placeholder);function o(l){s.value=l,i("update:modelValue",l),r.value=!1}return De(()=>n.modelValue,l=>{s.value=[...l]},{deep:!0}),(l,u)=>{const c=vi,d=die;return je(),ot(ct,null,[x(c,{title:e.title,value:a.value,"is-link":"",onClick:u[0]||(u[0]=f=>r.value=!0)},{value:Ze(()=>[dt("span",{class:Vt(["value-text",{placeholder:!s.value.length}])},Sn(a.value),3)]),_:1},8,["title","value"]),x(d,{show:r.value,"onUpdate:show":u[1]||(u[1]=f=>r.value=f),title:e.sheetTitle||e.title,options:e.options,selected:s.value,max:e.max,onConfirm:o},null,8,["show","title","options","selected","max"])],64)}}}),hie=Ki(fie,[["__scopeId","data-v-c8c7415d"]]),eP=Se({name:"task-candidate",__name:"index",props:{timeSend:{type:Boolean}},setup(e){var A;const t=ie("candidate"),n=_m(),i=Ud(),r=e,s=vt({candidate:[],notice:[]}),a=ie([]),o=ie([]),l=ie(""),u=ie(""),c=ie(!1),d=ie((A=r.timeSend)!=null?A:i.query.timeSend==="true"),f=fe({get:()=>s[t.value],set:T=>{s[t.value].splice(0,s[t.value].length,...T)}});function h(){t.value="candidate",c.value=!0}function m(){t.value="notice",c.value=!0}async function p(){var k,O,I,w;if(!((k=s.candidate)!=null&&k.length)){Ri("");return}let T=null;if(d.value){if(!l.value){Ri("");return}if(!u.value){Ri("");return}if(!$ne({date_2:l.value,date_3:u.value})){Ri("");return}if(!a.value.length){Ri("");return}if(!o.value){Ri("");return}T={staff_id:JSON.stringify((O=s.candidate)==null?void 0:O.map(D=>({id:D.id,name:D.name}))),begin_date:l.value.split(" ")[0],end_date:u.value.split(" ")[0],is_work_date:a.value.join(","),send_time:o.value,id:0,cc:JSON.stringify("[]")}}try{await XI({timepolicy:T,candidate:(I=s.candidate)==null?void 0:I.map(D=>D.id),notice:(w=s.notice)==null?void 0:w.map(D=>D.id)}),Ri(""),await KI(),n.push({name:"task"})}catch(D){console.error(D)}}const g=ie(""),_=ie("");De(()=>s,T=>{g.value=T.candidate.map(k=>k.name).join(""),_.value=T.notice.map(k=>k.name).join("")},{deep:!0});const y=["","","","","","",""].map((T,k)=>({label:T,value:"".concat(k+1)})),b=Array.from({length:24},(T,k)=>{const O=k+8,I=O>=24?O-24:O;return{value:I,text:"".concat(I,"")}});return Et(async()=>{var k;const T=await aa.get("process-launch");s.candidate=((k=T==null?void 0:T[0])==null?void 0:k.candidate.map(O=>({id:O.uid,name:O.name})))||[]}),(T,k)=>{const O=vi,I=GI,w=hie,D=QI,R=_D,L=aie,B=Mn;return je(),ot(ct,null,[Ge(c)?(je(),wt(L,{key:1,visible:Ge(c),"onUpdate:visible":k[4]||(k[4]=N=>xt(c)?c.value=N:null),"selected-row":Ge(f),"onUpdate:selectedRow":k[5]||(k[5]=N=>xt(f)?f.value=N:null)},null,8,["visible","selected-row"])):(je(),wt(R,{key:0},{default:Ze(()=>[x(O,{"value-class":T.$style.value,title:"",value:Ge(g),"is-link":"",onClick:h},null,8,["value-class","value"]),x(O,{"value-class":T.$style.value,title:"",value:Ge(_),"is-link":"",onClick:m},null,8,["value-class","value"]),Ge(d)?(je(),ot(ct,{key:0},[x(I,{modelValue:Ge(l),"onUpdate:modelValue":k[0]||(k[0]=N=>xt(l)?l.value=N:null),label:""},null,8,["modelValue"]),x(I,{modelValue:Ge(u),"onUpdate:modelValue":k[1]||(k[1]=N=>xt(u)?u.value=N:null),label:""},null,8,["modelValue"]),x(w,{modelValue:Ge(a),"onUpdate:modelValue":k[2]||(k[2]=N=>xt(a)?a.value=N:null),title:"",options:Ge(y)},null,8,["modelValue","options"]),x(D,{value:Ge(o),"onUpdate:value":k[3]||(k[3]=N=>xt(o)?o.value=N:null),label:"",columns:Ge(b)},null,8,["value","columns"])],64)):zt("",!0)]),_:1})),dt("div",{class:Vt(T.$style.bth)},[Ge(c)?zt("",!0):(je(),wt(B,{key:0,class:Vt(T.$style.bth),type:"primary",onClick:p},{default:Ze(()=>[...k[6]||(k[6]=[ci("  ",-1)])]),_:1},8,["class"]))],2)],64)}}}),pie="_bth_1qo9o_1",mie="_value_1qo9o_7",gie={bth:pie,value:mie},EE={},vie={$style:gie};typeof EE=="function"&&EE(eP);const tP=Ki(eP,[["__cssModules",vie]]),yie=Object.freeze(Object.defineProperty({__proto__:null,default:tP},Symbol.toStringTag,{value:"Module"}));function _ie(){const e=_m();function t(n,i){e.push({name:n,query:i})}return{routerPush:t}}const bie=Se({__name:"v-group-button",props:{formCreateInject:{}},emits:["btnClick"],setup(e,{emit:t}){const n=e,i=t,r=fe(()=>{var T,k,O;const A=((O=(k=(T=n.formCreateInject)==null?void 0:T.rule)==null?void 0:k.row)!=null?O:[]).map(I=>({...I}));if(A.find(I=>I.title==="")){const I={title:"",value:"load",type:"button",field:"submit",props:{type:"primary",post_id:[],node_id:0}};A.push(I)}return A});function s(b){return KZ(b,A=>{const T=A.children?s(A.children):[];return A.type==="hidden"?[A,...T]:T})}const{routerPush:a}=_ie(),o=_m(),l=Ud();sb();const u=ie(!1),c=ie(""),d=ie(),f=ie(!1),h=ie(!1);function m(){const b=Object.assign({},n.formCreateInject.api.form),A={},T=s(n.formCreateInject.api.rule);T&&T.length>0&&(A[T[0].field]=T[0].value);const k=jx({},b,A);return delete k.formbutton,k}async function p(){if(c.value){const b=m();await nt.post("/process/launch",DO({title:c.value,action:d.value.value,notice:JSON.stringify([]),candidate:JSON.stringify({}),tplid:0,nid:0,app_id:l.query.app_id,task_id:l.query.task_id,forms_data:JSON.stringify(Ln(b)?b:[b]),deadline_time:pp(new Date).format("YYYY-MM-DD")}))==="OK"&&(Ri(""),u.value=!1)}else Ri("")}function g(){u.value=!1}function _(){return!1}function y(b){var A;if(b.title===""){o.back();return}if(b.title===""){u.value=!0,d.value=b;return}if(b.title===""){const T=m();a("workRequest",{formid:T.form_id,actionKey:"personalTemplate"});return}if(b.title===""){a("task-process",{app_id:11,param:"launch|".concat(((A=l==null?void 0:l.query)==null?void 0:A.transid)||""),nid:83});return}n.formCreateInject.api.validate(async T=>{var k;if(T===!0){const O=Object.assign({},n.formCreateInject.api.form),I={},w=s(n.formCreateInject.api.rule);w&&w.length>0&&(I[w[0].field]=w[0].value);const D=jx({},O,I);if(delete D.formbutton,(k=b.props)!=null&&k.actionKey){try{const L=await jne("meeting_edit",D);H$((L==null?void 0:L.message)||""),o.back()}catch(L){}return}console.warn(":",n.formCreateInject),await aa.set("process-formData",{form_data:D,rule:n.formCreateInject.api.rule,btn:b});const R=b.title==="";if(!R)try{const L=await XI();if(L===void 0){g1("");return}if(await aa.set("process-launch",L),L!=null&&L.jump){a("task-process",{...L==null?void 0:L.jump});return}if(Object.keys(L).length===1&&L.transid){Ri(""),await KI(),o.push({name:"task"});return}h.value=R,f.value=!0,console.log(L)}catch(L){console.log(L),L!=null&&L.message&&g1(L==null?void 0:L.message)}}else console.warn("")}),i("btnClick",b)}return(b,A)=>{const T=Mn,k=AD,O=JD,I=Vn,w=ID,D=Jn;return je(),ot(ct,null,[x(O,{class:"fc-button-group",gutter:"16"},{default:Ze(()=>[(je(!0),ot(ct,null,Pr(r.value,(R,L)=>(je(),wt(k,{key:L},{default:Ze(()=>{var B,N,$;return[x(T,{type:((B=R.props)==null?void 0:B.type)||"default",disabled:(N=R.props)==null?void 0:N.disabled,block:"",size:(($=r.value)==null?void 0:$.length)>3?"mini":"small",onClick:F=>y(R)},{default:Ze(()=>[ci(Sn(R.title),1)]),_:2},1032,["type","disabled","size","onClick"])]}),_:2},1024))),128))]),_:1}),x(w,{show:Ge(u),"onUpdate:show":A[1]||(A[1]=R=>xt(u)?u.value=R:null),title:"","show-cancel-button":"","before-close":_,onConfirm:p,onCancel:g},{default:Ze(()=>[x(I,{modelValue:Ge(c),"onUpdate:modelValue":A[0]||(A[0]=R=>xt(c)?c.value=R:null),label:"",placeholder:""},null,8,["modelValue"])]),_:1},8,["show"]),x(D,{show:Ge(f),"onUpdate:show":A[2]||(A[2]=R=>xt(f)?f.value=R:null),teleport:"body",overlay:!0,"lock-scroll":!0,position:"bottom",style:{width:"100vw",height:"90vh"}},{default:Ze(()=>[x(tP,{timeSend:Ge(h)},null,8,["timeSend"])]),_:1},8,["show"])],64)}}}),Tie=Ki(bie,[["__scopeId","data-v-45893378"]]),Aie={class:"tree-header"},Sie={class:"nav-title"},xie={class:"tree-list"},Eie={key:0,class:"loading"},Cie=["onClick"],wie={class:"item-text"},Die=["onClick"],kie={key:1,class:"empty"},Oie=Se({inheritAttrs:!1,__name:"v-treeselect",props:{modelValue:{},placeholder:{default:""},source:{},disabled:{type:Boolean},readonly:{type:Boolean},title:{},multiple:{type:Boolean},formCreateInject:{},options:{},fieldNames:{},isArea:{type:Boolean},label:{}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,i=t,r=ie(!1),s=ie(0),a=ie(py(n.modelValue,!!n.multiple)),o=ie([]),l=ie([]),u=ie(""),c=ie({}),d=ie([]),f=ie(null),h=ie(!1),m=ie([]);function p(B){a.value=py(B,!!n.multiple)}const g=B=>{let N=[];Array.isArray(B)?N=B.map($=>{const F=$.value||$;return{label:c.value[F]||"",value:$}}):B!=null&&B!==""&&(N=[{label:c.value[B]||"",value:B}]),i("update:modelValue",N),i("change",N)};function _(B,N={}){if(c.value={},!Array.isArray(B))return[];const{label:$,value:F,children:V}=Object.assign({label:"label",value:"value",children:"children"},N);return B.map(U=>{const Y=U[$]||U.name||U.title,ne=U[F]||U.node_id||U.id,z=Array.isArray(U[V])?U[V]:null;c.value[ne]=Y;const W=z&&z.length?z.map(le=>{const ye=le[F]||le.node_id||le.id,ae=le[$]||le.name||le.title;return c.value[ye]=ae,{text:ae,id:ye,parent_id:le.id,children:le.children||le.child||[]}}):[];return{text:Y,children:W,...ne!==void 0&&W.length===0?{id:ne}:{}}})}async function y(B={}){var N,$;h.value=!0;try{if(n.options&&n.options.length&&!B.parent_id&&!n.source){const V=_(n.options,n.fieldNames);o.value=V,V.length>0&&(m.value=V[0].children||[]),n.modelValue&&(a.value=n.modelValue,g(n.modelValue));return}const F=B==null?void 0:B.inject;if(Array.isArray(F)&&F.length){const V=[{text:"",id:"all",children:F.map(U=>(c.value[U.value]=U.label,{...U,text:U.label,id:U.value}))}];o.value=V,m.value=V[0].children||[],n.modelValue&&g(n.modelValue);return}if(n.source&&(Ir[n.source]||n.source)||B.parent_id){let V=[];if(Ir[n.source])n.source==="area"||B.parent_id?V=await Ir[n.source](B):V=await Ir[n.source]("treeselect");else{const ne=await fs({id:(B==null?void 0:B.parent_id)||n.source,deep:1,enbase:1});V=[{id:n.source,name:"",children:ne}]}let U=V;n.source==="area"&&(!Array.isArray(V)||V.length===0?U=[]:(N=V[0])!=null&&N.children||(U=[{text:d.value.length>0?(($=d.value[d.value.length-1])==null?void 0:$.text)||"":"",children:V.map(ne=>{const z=my("area"),W=ne[(z==null?void 0:z.label)||"name"],le=ne[(z==null?void 0:z.value)||"id"];return c.value[le]=W,{text:W,id:le,...ne}})}]));const Y=_(U,my("".concat(n.source)));o.value=Y,Y.length>0?m.value=Y[0].children||[]:m.value=[]}else o.value=[],m.value=[],c.value={};ZI||p(n.modelValue)}catch(F){console.error(" source ",F),o.value=[],m.value=[],c.value={}}finally{h.value=!1}}Et(()=>{console.log("v-treeselect mounted")}),De(()=>{var B;return[n.source,(B=n.formCreateInject)==null?void 0:B.options,n.options]},([,B,N])=>y({inject:Array.isArray(N)?N:B}),{immediate:!0,deep:!0}),De(()=>n.modelValue,B=>{p(B),Array.isArray(B)&&B.length>0?f.value=B[B.length-1].value:B&&!Array.isArray(B)?f.value=B.value||B:f.value=null}),De(a,B=>{g(B)},{deep:!0});const b=fe(()=>{const B=a.value;return B==null||Array.isArray(B)&&B.length===0?"":Array.isArray(B)?B.map(N=>c.value[N]).filter(Boolean).join(", "):c.value[B]||""});function A(){n.disabled||n.readonly||(r.value=!0,d.value=[],s.value=0,O(0))}function T(B){u.value=B}function k(){u.value=""}async function O(B=0){(n.source==="area"||n.isArea)&&Ir.area?await y({parent_id:B}):await y({parent_id:B})}function I(B){f.value=B.id,n.multiple?(Array.isArray(a.value)||(a.value=[]),a.value.includes(B.id)||a.value.push(B.id)):a.value=B.id,r.value=!1}async function w(B){(n.source==="area"||n.isArea)&&Ir.area?(d.value.push(B),s.value=d.value.length,await O(B.parent_id||B.id)):(d.value.push(B),s.value=d.value.length,await O(B.parent_id||B.id))}async function D(){if(d.value.length>0){d.value.pop(),s.value=d.value.length;const B=d.value.length>0?d.value[d.value.length-1].id:0;await O(B)}}function R(B){return f.value===B}De(u,B=>{if(!B){l.value=[];return}const N=B.toLowerCase();l.value=(o.value||[]).map($=>{const F=$.children.filter(V=>String(V.text).toLowerCase().includes(N));return F.length>0||$.text.toLowerCase().includes(N)?{...$,children:F.length>0?F:$.children}:null}).filter(Boolean)},{immediate:!0});const L=fe(()=>{var B,N;return u.value&&l.value.length>0?((B=l.value[0])==null?void 0:B.children)||[]:o.value&&o.value.length?(l.value=JSON.parse(JSON.stringify(o.value)),((N=l.value[0])==null?void 0:N.children)||[]):m.value});return(B,N)=>{const $=Vn,F=j_,V=pt,U=yr,Y=Jn;return je(),ot(ct,null,[x($,{class:Vt(["show-text",{"van-field-readonly":e.readonly}]),label:e.label,readonly:e.readonly,"model-value":b.value,placeholder:e.placeholder,disabled:e.disabled,"is-link":"",onClick:A},null,8,["class","label","readonly","model-value","placeholder","disabled"]),x(Y,{show:r.value,"onUpdate:show":N[2]||(N[2]=ne=>r.value=ne),position:"bottom",round:"",style:{height:"70%"}},{default:Ze(()=>[x(F,{modelValue:u.value,"onUpdate:modelValue":N[0]||(N[0]=ne=>u.value=ne),placeholder:"",onSearch:T,onCancel:k},null,8,["modelValue"]),dt("div",Aie,[d.value.length>0?(je(),ot("div",{key:0,class:"nav-back",onClick:D},[x(V,{name:"arrow-left"}),N[3]||(N[3]=ci("  ",-1))])):zt("",!0),dt("div",Sie,Sn(d.value.length>0?d.value[d.value.length-1].text:""),1),dt("div",{class:"nav-close",onClick:N[1]||(N[1]=ne=>r.value=!1)},[x(V,{name:"cross"})])]),dt("div",xie,[h.value?(je(),ot("div",Eie,[x(U),N[4]||(N[4]=dt("span",null,"...",-1))])):zt("",!0),(je(!0),ot(ct,null,Pr(L.value,ne=>(je(),ot("div",{key:ne.id,class:Vt(["tree-item",{selected:R(ne.id)}])},[dt("div",{class:"item-content",onClick:z=>w(ne)},[dt("div",wie,Sn(ne.text),1),x(V,{name:"arrow",class:"item-arrow"})],8,Cie),dt("div",{class:"item-select-btn",onClick:z=>I(ne)},"  ",8,Die)],2))),128)),!h.value&&L.value.length===0?(je(),ot("div",kie,"  ")):zt("",!0)])]),_:1},8,["show"])],64)}}}),Iie=Ki(Oie,[["__scopeId","data-v-ef140fbb"]]);var kh={exports:{}},Pie=kh.exports,CE;function Rie(){return CE||(CE=1,(function(e,t){(function(n,i){e.exports=i()})(Pie,function(){function n(d){var f=[];return d.AMapUI&&f.push(i(d.AMapUI)),d.Loca&&f.push(r(d.Loca)),Promise.all(f)}function i(d){return new Promise(function(f,h){var m=[];if(d.plugins)for(var p=0;p<d.plugins.length;p+=1)a.AMapUI.plugins.indexOf(d.plugins[p])==-1&&m.push(d.plugins[p]);if(o.AMapUI===s.failed)h(" AMapUI ");else if(o.AMapUI===s.notload){o.AMapUI=s.loading,a.AMapUI.version=d.version||a.AMapUI.version,p=a.AMapUI.version;var g=document.body||document.head,_=document.createElement("script");_.type="text/javascript",_.src="https://webapi.amap.com/ui/"+p+"/main.js",_.onerror=function(y){o.AMapUI=s.failed,h(" AMapUI ")},_.onload=function(){if(o.AMapUI=s.loaded,m.length)window.AMapUI.loadUI(m,function(){for(var y=0,b=m.length;y<b;y++){var A=m[y].split("/").slice(-1)[0];window.AMapUI[A]=arguments[y]}for(f();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()});else for(f();l.AMapUI.length;)l.AMapUI.splice(0,1)[0]()},g.appendChild(_)}else o.AMapUI===s.loaded?d.version&&d.version!==a.AMapUI.version?h(" AMapUI "):m.length?window.AMapUI.loadUI(m,function(){for(var y=0,b=m.length;y<b;y++){var A=m[y].split("/").slice(-1)[0];window.AMapUI[A]=arguments[y]}f()}):f():d.version&&d.version!==a.AMapUI.version?h(" AMapUI "):l.AMapUI.push(function(y){y?h(y):m.length?window.AMapUI.loadUI(m,function(){for(var b=0,A=m.length;b<A;b++){var T=m[b].split("/").slice(-1)[0];window.AMapUI[T]=arguments[b]}f()}):f()})})}function r(d){return new Promise(function(f,h){if(o.Loca===s.failed)h(" Loca ");else if(o.Loca===s.notload){o.Loca=s.loading,a.Loca.version=d.version||a.Loca.version;var m=a.Loca.version,p=a.AMap.version.startsWith("2"),g=m.startsWith("2");if(p&&!g||!p&&g)h("JSAPI  Loca ");else{p=a.key,g=document.body||document.head;var _=document.createElement("script");_.type="text/javascript",_.src="https://webapi.amap.com/loca?v="+m+"&key="+p,_.onerror=function(y){o.Loca=s.failed,h(" AMapUI ")},_.onload=function(){for(o.Loca=s.loaded,f();l.Loca.length;)l.Loca.splice(0,1)[0]()},g.appendChild(_)}}else o.Loca===s.loaded?d.version&&d.version!==a.Loca.version?h(" Loca "):f():d.version&&d.version!==a.Loca.version?h(" Loca "):l.Loca.push(function(y){y?h(y):h()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var s;(function(d){d.notload="notload",d.loading="loading",d.loaded="loaded",d.failed="failed"})(s||(s={}));var a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:s.notload,AMapUI:s.notload,Loca:s.notload},l={AMapUI:[],Loca:[]},u=[],c=function(d){typeof d=="function"&&(o.AMap===s.loaded?d(window.AMap):u.push(d))};return{load:function(d){return new Promise(function(f,h){if(o.AMap==s.failed)h("");else if(o.AMap==s.notload){var m=d.key,p=d.version,g=d.plugins;m?(window.AMap&&location.host!=="lbs.amap.com"&&h("API"),a.key=m,a.AMap.version=p||a.AMap.version,a.AMap.plugins=g||a.AMap.plugins,o.AMap=s.loading,p=document.body||document.head,window.___onAPILoaded=function(y){if(delete window.___onAPILoaded,y)o.AMap=s.failed,h(y);else for(o.AMap=s.loaded,n(d).then(function(){f(window.AMap)}).catch(h);u.length;)u.splice(0,1)[0]()},g=document.createElement("script"),g.type="text/javascript",g.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+a.AMap.version+"&key="+m+"&plugin="+a.AMap.plugins.join(","),g.onerror=function(y){o.AMap=s.failed,h(y)},p.appendChild(g)):h("key")}else if(o.AMap==s.loaded)if(d.key&&d.key!==a.key)h(" key");else if(d.version&&d.version!==a.AMap.version)h(" JSAPI ");else{if(m=[],d.plugins)for(p=0;p<d.plugins.length;p+=1)a.AMap.plugins.indexOf(d.plugins[p])==-1&&m.push(d.plugins[p]);m.length?window.AMap.plugin(m,function(){n(d).then(function(){f(window.AMap)}).catch(h)}):n(d).then(function(){f(window.AMap)}).catch(h)}else if(d.key&&d.key!==a.key)h(" key");else if(d.version&&d.version!==a.AMap.version)h(" JSAPI ");else{var _=[];if(d.plugins)for(p=0;p<d.plugins.length;p+=1)a.AMap.plugins.indexOf(d.plugins[p])==-1&&_.push(d.plugins[p]);c(function(){_.length?window.AMap.plugin(_,function(){n(d).then(function(){f(window.AMap)}).catch(h)}):n(d).then(function(){f(window.AMap)}).catch(h)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},o={AMap:s.notload,AMapUI:s.notload,Loca:s.notload},l={AMap:[],AMapUI:[],Loca:[]}}}})})(kh)),kh.exports}var Lie=Rie();const Mie=ao(Lie),Nie={key:0},Bie=Se({__name:"v-map",emits:["update:location"],setup(e,{emit:t}){const n=t,i=ie(null),r=ie(null),s=ie(null),a=ie(null),o=ie();return Et(async()=>{const l=await Mie.load({key:"b9977f51eb0389d33a6b992bcd5e0156",version:"2.0",plugins:["AMap.Geolocation","AMap.ToolBar","AMap.CitySearch"]});r.value=new l.Map(i.value,{zoom:14,center:[116.397428,39.90923],scrollWheel:!1,zoomEnable:!0}),r.value.addControl(new l.ToolBar);const u=(d,f,h="",m=!0)=>{s.value={lat:f,lng:d},r.value.setCenter([d,f]),a.value?a.value.setPosition([d,f]):a.value=new l.Marker({position:[d,f],map:r.value,title:h}),m&&n("update:location",{lat:f,lng:d})};r.value.on("mapmove",()=>{const d=r.value.getCenter();u(d.lng,d.lat,void 0,!1)}),r.value.on("moveend",()=>{const d=r.value.getCenter();u(d.lng,d.lat,void 0,!0),o.value=[d.lng,d.lat]}),i.value.addEventListener("wheel",d=>{d.preventDefault();const f=d.deltaY>0?-.2:.2,h=r.value.getZoom()+f;r.value.setZoom(h,o.value)}),new l.Geolocation({enableHighAccuracy:!0,timeout:1e4,showButton:!1}).getCurrentPosition((d,f)=>{if(d==="complete"&&f.position){const{lng:h,lat:m}=f.position;u(h,m)}else new l.CitySearch().getLocalCity((m,p)=>{if(m==="complete"&&p&&p.rectangle){const[g,_,y,b]=p.rectangle.split(",").map(Number),A=(g+y)/2,T=(_+b)/2;u(A,T,p.city)}else console.warn("IP"),u(116.397428,39.90923,"")})})}),(l,u)=>(je(),ot("div",null,[dt("div",{ref_key:"mapContainer",ref:i,class:"map-container"},null,512),s.value?(je(),ot("p",Nie," "+Sn(s.value.lat)+", "+Sn(s.value.lng),1)):zt("",!0)]))}}),Fie=Ki(Bie,[["__scopeId","data-v-b1037ab8"]]),$ie={style:{position:"relative"}},Uie={key:0,style:{"text-align":"center",padding:"16px"}},Vie=Se({inheritAttrs:!1,__name:"v-inputselect",props:{modelValue:{type:String,default:""},options:{type:Array,default:()=>[]},source:String,placeholder:{type:String,default:""},disabled:Boolean,readonly:Boolean,formCreateInject:Object,multiple:Boolean,dataType:String},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,i=t,r=ie(n.modelValue),s=ie(n.modelValue),a=ie(""),o=ie(!1),l=ie([]),u=ie(!1);function c(D){const R=l.value.length?l.value:n.options;return R==null?void 0:R.find(B=>B.value===D)}function d(D){const R=py(D,n.multiple);if(n.multiple&&Ln(R)){const L=R==null?void 0:R.map(B=>{var N;return(N=c(B))==null?void 0:N.label}).filter(B=>B).join("");r.value=L||(R==null?void 0:R.join(""))}else{const L=c(R);r.value=L?L==null?void 0:L.label:D||""}}De(()=>n.modelValue,D=>{n.source!=="map"?d(D):(r.value=D,s.value=D)},{immediate:!0}),De(()=>n.source,D=>{u.value=!0},{immediate:!0});async function f(){var D,R;if((R=(D=n.formCreateInject)==null?void 0:D.options)!=null&&R.length){l.value=n.formCreateInject.options,await Ke(),A(l.value[0]),n.modelValue&&(g(n.modelValue),i("change",n.modelValue));return}else if(n.source){if(Ir[n.source]||Number(n.source)>0){let L=[];if(Ir[n.source]?L=await Ir[n.source]("inputselect"):L=await fs({id:n.source,deep:1,enbase:1}),Ir["".concat(n.source,"_fieldNames")]||Number(n.source)>0){const B=my(n.source,n.dataType||"inputselect");if(l.value=Une(L,B),!ZI(!n.modelValue)&&n.modelValue){const N=l.value.find($=>$.value===n.modelValue);N?A(N,!1):d(n.modelValue)}}else l.value=L||[]}}else l.value=[];d(n.modelValue)}const h=fe(()=>a.value?l.value.filter(D=>D.label.toLowerCase().includes(a.value.toLowerCase())):l.value),m=ie([]);De(()=>{var D;return[n.source,(D=n.formCreateInject)==null?void 0:D.options]},f,{immediate:!0,deep:!0});function p(D){return Ln(D)?D.map(R=>({label:R.label,value:R.value})):D}function g(D){var R;if((n==null?void 0:n.source)==="staff"||(n==null?void 0:n.source)==="risk_name"){const L=[l.value.find(B=>B.value.toString()===(D==null?void 0:D.toString()))];if(n.multiple){const B=(R=m.value)==null?void 0:R.find(N=>N.value===L[0].value);m.value=B?m.value:[...L,...m.value]}i("update:modelValue",p(n.multiple?m.value:L))}else i("update:modelValue",p(D))}let _=0;function y(D){r.value=D.target.value,u.value?(_&&clearTimeout(_),_=setTimeout(()=>{g(D.target.value),clearTimeout(_)},300)):(o.value=!0,f())}function b(){const D={};r.value=D.value,g(D.value),i("change",D)}async function A(D,R=!0){var V,U,Y;let L={...D};if(w(L.value)){T();return}r.value=L.value,g(L.value),i("change",L),R&&!n.multiple&&T();const B=(U=(V=n.formCreateInject)==null?void 0:V.rule)==null?void 0:U.bind;if(!B)return;const N=B.split("|").filter(Boolean),$=(Y=n.formCreateInject)==null?void 0:Y.api;if(!$){console.warn("[v-inputselect] missing fapi on formCreateInject");return}const F=(L==null?void 0:L.data)||[];for(let ne=0;ne<N.length;ne++){const z=N[ne];try{const W=typeof $.getRule=="function"?$.getRule(z):null;if(!W){console.warn("[v-inputselect] target rule not found:",z);continue}const le=(ne===0?F.map(ae=>({label:ae.risk_name,value:ae.risk_name})):F.map(ae=>({label:ae.policy,value:ae.policy})))||[],ye=[{id:"course",title:"",children:(ne===0?F.map(ae=>({name:ae.risk_name,value:ae.risk_name})):F.map(ae=>({name:ae.policy,value:ae.policy})))||[]}];try{await $.updateRule(z,{props:{...W.props||{},options:le}})}catch(ae){}try{await $.updateRule(z,{options:le})}catch(ae){}try{if(typeof $.setRule=="function"){const ae={...W,props:{...W.props||{},options:le},options:le};await $.setRule(ae)}}catch(ae){}try{W.formCreateInject&&(W.formCreateInject.options=le)}catch(ae){}try{let ae=W.vm||W.component||W.vnode&&W.vnode.component&&W.vnode.component.proxy;if(!ae&&W.$&&(ae=W.$),ae){if("remoteOptions"in ae)try{ae.remoteOptions=le}catch(ke){}if("adaptedOptions"in ae)try{ae.adaptedOptions=le}catch(ke){}typeof ae.$forceUpdate=="function"&&ae.$forceUpdate(),ae.proxy&&("remoteOptions"in ae.proxy&&(ae.proxy.remoteOptions=le),"adaptedOptions"in ae.proxy&&(ae.proxy.adaptedOptions=le))}}catch(ae){}try{await $.updateRule(z,{props:{...W.props||{},options:ye}})}catch(ae){}try{typeof $.setValue=="function"&&(R?await $.setValue(z,void 0):await $.setValue(z,z.value))}catch(ae){}}catch(W){}}}function T(){setTimeout(()=>{a.value="",o.value=!1},200)}function k(D){const R=JSON.stringify({x:D.lng,y:D.lat});A({label:R,value:R},!1)}function O(){n.source!="map"&&u.value||(o.value=!0)}function I(){o.value=!0}function w(D){var R;return Ln(n.modelValue)?(R=n.modelValue)==null?void 0:R.find(L=>L.value===D):D===n.modelValue}return(D,R)=>{const L=Vn,B=j_,N=Zp,$=vi,F=F_,V=Fie,U=Jn;return je(),ot(ct,null,[e.source==="map"?(je(),wt(L,{key:0,modelValue:s.value,"onUpdate:modelValue":R[0]||(R[0]=Y=>s.value=Y),class:Vt({"van-field-readonly":e.readonly}),placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,clearable:"","right-icon":"location",onClickRightIcon:O,onInput:y,onFocus:O},null,8,["modelValue","class","placeholder","disabled","readonly"])):(je(),wt(L,{key:1,modelValue:r.value,"onUpdate:modelValue":R[1]||(R[1]=Y=>r.value=Y),placeholder:e.placeholder,class:Vt({"van-field-readonly":e.readonly}),disabled:e.disabled,readonly:e.readonly,"is-link":!u.value,clearable:"","right-icon":u.value?e.source==="area"?"plus":"arrow":void 0,onInput:y,onFocus:O,onClickRightIcon:I,onClear:b},null,8,["modelValue","placeholder","class","disabled","readonly","is-link","right-icon"])),x(U,{show:o.value,"onUpdate:show":R[3]||(R[3]=Y=>o.value=Y),position:"bottom",overlay:"",style:{"max-height":"70vh"}},{default:Ze(()=>[dt("div",$ie,[e.source!=="map"?(je(),wt(N,{key:0,"offset-top":"30vh"},{default:Ze(()=>[e.source!=="map"?(je(),wt(B,{key:0,modelValue:a.value,"onUpdate:modelValue":R[2]||(R[2]=Y=>a.value=Y),placeholder:""},null,8,["modelValue"])):zt("",!0)]),_:1})):zt("",!0),e.source!=="map"?(je(),wt(F,{key:1},{default:Ze(()=>[(je(!0),ot(ct,null,Pr(h.value,Y=>(je(),wt($,{key:Y.value,title:Y.label,class:Vt({selected:w(Y.value)}),onClick:ne=>A(Y)},null,8,["title","class","onClick"]))),128)),h.value.length===0?(je(),ot("div",Uie,"  ")):zt("",!0)]),_:1})):zt("",!0)]),e.source==="map"?(je(),wt(V,{key:0,"onUpdate:location":k})):zt("",!0)]),_:1},8,["show"])],64)}}}),jie=Ki(Vie,[["__scopeId","data-v-72af69e9"]]),Hie=Se({inheritAttrs:!1,__name:"v-label",props:{formCreateInject:{},title:{},value:{}},setup(e){const t=e,n=ie(null),i=fe(()=>t.value||t.title);return Et(()=>{var r,s,a;if(n.value){n.value.style.display="none";const o=n.value.parentElement.parentElement.parentElement.parentElement;o.style["font-weight"]=700;const l=(a=(s=(r=t.formCreateInject)==null?void 0:r.rule)==null?void 0:s.props)==null?void 0:a.style;if(l){const u=o.firstElementChild;u.style.color=l.color}}}),(r,s)=>(je(),ot("div",{ref_key:"siblingElement",ref:n,class:"v-label"},Sn(Ge(i)),513))}}),zie=Ki(Hie,[["__scopeId","data-v-4cba954b"]]),qie={class:"body"},Wie=Se({__name:"v-cascader",props:{modelValue:{},options:{},placeholder:{},readonly:{type:Boolean},filedNames:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,r=ie(!1),s=ie(""),a=fe(()=>{var c,d;return(d=(c=n.modelValue)==null?void 0:c[0])!=null?d:""});function o({selectedOptions:c}){r.value=!1,l(c);const d=c[c.length-1].value;i("update:modelValue",[d])}function l(c){s.value=c.map(d=>{if(d.children&&d.children.length){const f=d.children.map(h=>h.label).join(",");return"".concat(d.label,"/").concat(f)}return d.label}).join(";")}Et(()=>{var c,d;if((c=n.options)!=null&&c.length&&((d=n.modelValue)!=null&&d.length)){const f=u(n.options,n.modelValue[0]);l(f)}});function u(c,d){const f=[];return oee(c,h=>{if(f.push(h),h.value==d)return!0;if(h.child&&h.child.length){const m=u(h.children,d);if(m.length)return f.push(...m.slice(1)),!0}return f.pop(),!1}),[...f]}return(c,d)=>{const f=Vn,h=Jn;return je(),ot(ct,null,[x(f,{modelValue:Ge(s),"onUpdate:modelValue":d[0]||(d[0]=m=>xt(s)?s.value=m:null),class:Vt({"van-field-readonly":e.readonly}),"is-link":"",readonly:"",placeholder:e.placeholder||"",onClick:d[1]||(d[1]=m=>r.value=!0)},null,8,["modelValue","class","placeholder"]),x(h,{show:Ge(r),"onUpdate:show":d[2]||(d[2]=m=>xt(r)?r.value=m:null),position:"bottom",round:""},{default:Ze(()=>[dt("div",qie,[x(Ge(yD),{closeable:!1,title:e.placeholder||"",options:n.options,"model-value":Ge(a),"field-names":e.filedNames||{text:"label",value:"value",children:"children"},onFinish:o},null,8,["title","options","model-value","field-names"])])]),_:1},8,["show"])],64)}}}),Gie=Ki(Wie,[["__scopeId","data-v-1bcf0dc7"]]);(function(){if(typeof window>"u")return;var e,t="ontouchstart"in window;document.createTouch||(document.createTouch=function(c,d,f,h,m,p,g){return new n(d,f,{pageX:h,pageY:m,screenX:p,screenY:g,clientX:h-window.pageXOffset,clientY:m-window.pageYOffset},0,0)}),document.createTouchList||(document.createTouchList=function(){for(var c=i(),d=0;d<arguments.length;d++)c[d]=arguments[d];return c.length=arguments.length,c}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(c){var d=this;do{if(d.matches(c))return d;d=d.parentElement||d.parentNode}while(d!==null&&d.nodeType===1);return null});var n=function(d,f,h,m,p){m=m||0,p=p||0,this.identifier=f,this.target=d,this.clientX=h.clientX+m,this.clientY=h.clientY+p,this.screenX=h.screenX+m,this.screenY=h.screenY+p,this.pageX=h.pageX+m,this.pageY=h.pageY+p};function i(){var c=[];return c.item=function(d){return this[d]||null},c.identifiedTouch=function(d){return this[d+1]||null},c}var r=!1;function s(c){return function(d){d.type==="mousedown"&&(r=!0),d.type==="mouseup"&&(r=!1),!(d.type==="mousemove"&&!r)&&((d.type==="mousedown"||!e||e&&!e.dispatchEvent)&&(e=d.target),e.closest("[data-no-touch-simulate]")==null&&a(c,d),d.type==="mouseup"&&(e=null))}}function a(c,d){var f=document.createEvent("Event");f.initEvent(c,!0,!0),f.altKey=d.altKey,f.ctrlKey=d.ctrlKey,f.metaKey=d.metaKey,f.shiftKey=d.shiftKey,f.touches=l(d),f.targetTouches=l(d),f.changedTouches=o(d),e.dispatchEvent(f)}function o(c){var d=i();return d.push(new n(e,1,c,0,0)),d}function l(c){return c.type==="mouseup"?i():o(c)}function u(){window.addEventListener("mousedown",s("touchstart"),!0),window.addEventListener("mousemove",s("touchmove"),!0),window.addEventListener("mouseup",s("touchend"),!0)}u.multiTouchOffset=75,t||new u})();var mv,wE;function Im(){if(wE)return mv;wE=1;var e;return typeof window<"u"?e=window:typeof op<"u"?e=op:typeof self<"u"?e=self:e={},mv=e,mv}var Yie=Im();const oe=ao(Yie),Kie={},Xie=Object.freeze(Object.defineProperty({__proto__:null,default:Kie},Symbol.toStringTag,{value:"Module"})),Qie=_Y(Xie);var gv,DE;function nP(){if(DE)return gv;DE=1;var e=typeof op<"u"?op:typeof window<"u"?window:{},t=Qie,n;return typeof document<"u"?n=document:(n=e["__GLOBAL_DOCUMENT_CACHE@4"],n||(n=e["__GLOBAL_DOCUMENT_CACHE@4"]=t)),gv=n,gv}var Jie=nP();const Ve=ao(Jie);var ah={exports:{}},vv={exports:{}},kE;function Zie(){return kE||(kE=1,(function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(n){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var s in r)({}).hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(vv)),vv.exports}var yv,OE;function ere(){if(OE)return yv;OE=1,yv=t;var e=Object.prototype.toString;function t(n){if(!n)return!1;var i=e.call(n);return i==="[object Function]"||typeof n=="function"&&i!=="[object RegExp]"||typeof window<"u"&&(n===window.setTimeout||n===window.alert||n===window.confirm||n===window.prompt)}return yv}var _v,IE;function tre(){if(IE)return _v;IE=1;function e(r,s){var a=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(a)return(a=a.call(r)).next.bind(a);if(Array.isArray(r)||(a=t(r))||s){a&&(r=a);var o=0;return function(){return o>=r.length?{done:!0}:{done:!1,value:r[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(r,s){if(r){if(typeof r=="string")return n(r,s);var a=Object.prototype.toString.call(r).slice(8,-1);if(a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set")return Array.from(r);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(r,s)}}function n(r,s){(s==null||s>r.length)&&(s=r.length);for(var a=0,o=new Array(s);a<s;a++)o[a]=r[a];return o}var i=(function(){function r(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var s=r.prototype;return s.getIsEnabled=function(){return this.enabled_},s.enable=function(){this.enabled_=!0},s.disable=function(){this.enabled_=!1},s.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},s.addInterceptor=function(o,l){this.typeToInterceptorsMap_.has(o)||this.typeToInterceptorsMap_.set(o,new Set);var u=this.typeToInterceptorsMap_.get(o);return u.has(l)?!1:(u.add(l),!0)},s.removeInterceptor=function(o,l){var u=this.typeToInterceptorsMap_.get(o);return u&&u.has(l)?(u.delete(l),!0):!1},s.clearInterceptorsByType=function(o){var l=this.typeToInterceptorsMap_.get(o);return l?(this.typeToInterceptorsMap_.delete(o),this.typeToInterceptorsMap_.set(o,new Set),!0):!1},s.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},s.getForType=function(o){return this.typeToInterceptorsMap_.get(o)||new Set},s.execute=function(o,l){for(var u=this.getForType(o),c=e(u),d;!(d=c()).done;){var f=d.value;try{l=f(l)}catch(h){}}return l},r})();return _v=i,_v}var bv,PE;function nre(){if(PE)return bv;PE=1;var e=(function(){function n(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var i=n.prototype;return i.getIsEnabled=function(){return this.enabled_},i.enable=function(){this.enabled_=!0},i.disable=function(){this.enabled_=!1},i.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},i.getMaxAttempts=function(){return this.maxAttempts_},i.setMaxAttempts=function(s){this.maxAttempts_=s},i.getDelayFactor=function(){return this.delayFactor_},i.setDelayFactor=function(s){this.delayFactor_=s},i.getFuzzFactor=function(){return this.fuzzFactor_},i.setFuzzFactor=function(s){this.fuzzFactor_=s},i.getInitialDelay=function(){return this.initialDelay_},i.setInitialDelay=function(s){this.initialDelay_=s},i.createRetry=function(s){var a=s===void 0?{}:s,o=a.maxAttempts,l=a.delayFactor,u=a.fuzzFactor,c=a.initialDelay;return new t({maxAttempts:o||this.maxAttempts_,delayFactor:l||this.delayFactor_,fuzzFactor:u||this.fuzzFactor_,initialDelay:c||this.initialDelay_})},n})(),t=(function(){function n(r){this.maxAttempts_=r.maxAttempts,this.delayFactor_=r.delayFactor,this.fuzzFactor_=r.fuzzFactor,this.currentDelay_=r.initialDelay,this.currentAttempt_=1}var i=n.prototype;return i.moveToNextAttempt=function(){this.currentAttempt_++;var s=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+s},i.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},i.getCurrentDelay=function(){return this.currentDelay_},i.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},i.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},i.getCurrentFuzzedDelay=function(){var s=this.getCurrentMinPossibleDelay(),a=this.getCurrentMaxPossibleDelay();return s+Math.random()*(a-s)},n})();return bv=e,bv}var Tv,RE;function ire(){if(RE)return Tv;RE=1;var e=Im(),t=function(r,s){return s===void 0&&(s=!1),function(a,o,l){if(a){r(a);return}if(o.statusCode>=400&&o.statusCode<=599){var u=l;if(s)if(e.TextDecoder){var c=n(o.headers&&o.headers["content-type"]);try{u=new TextDecoder(c).decode(l)}catch(d){}}else u=String.fromCharCode.apply(null,new Uint8Array(l));r({cause:u});return}r(null,l)}};function n(i){return i===void 0&&(i=""),i.toLowerCase().split(";").reduce(function(r,s){var a=s.split("="),o=a[0],l=a[1];return o.trim()==="charset"?l.trim():r},"utf-8")}return Tv=t,Tv}var LE;function rre(){if(LE)return ah.exports;LE=1;var e=Im(),t=Zie(),n=ere(),i=tre(),r=nre();u.httpHandler=ire(),u.requestInterceptorsStorage=new i,u.responseInterceptorsStorage=new i,u.retryManager=new r;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var s=function(m){var p={};return m&&m.trim().split("\n").forEach(function(g){var _=g.indexOf(":"),y=g.slice(0,_).trim().toLowerCase(),b=g.slice(_+1).trim();typeof p[y]>"u"?p[y]=b:Array.isArray(p[y])?p[y].push(b):p[y]=[p[y],b]}),p};ah.exports=u,ah.exports.default=u,u.XMLHttpRequest=e.XMLHttpRequest||f,u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:e.XDomainRequest,a(["get","put","post","patch","head","delete"],function(h){u[h==="delete"?"del":h]=function(m,p,g){return p=l(m,p,g),p.method=h.toUpperCase(),c(p)}});function a(h,m){for(var p=0;p<h.length;p++)m(h[p])}function o(h){for(var m in h)if(h.hasOwnProperty(m))return!1;return!0}function l(h,m,p){var g=h;return n(m)?(p=m,typeof h=="string"&&(g={uri:h})):g=t({},m,{uri:h}),g.callback=p,g}function u(h,m,p){return m=l(h,m,p),c(m)}function c(h){if(typeof h.callback>"u")throw new Error("callback argument missing");if(h.requestType&&u.requestInterceptorsStorage.getIsEnabled()){var m={uri:h.uri||h.url,headers:h.headers||{},body:h.body,metadata:h.metadata||{},retry:h.retry,timeout:h.timeout},p=u.requestInterceptorsStorage.execute(h.requestType,m);h.uri=p.uri,h.headers=p.headers,h.body=p.body,h.metadata=p.metadata,h.retry=p.retry,h.timeout=p.timeout}var g=!1,_=function(U,Y,ne){g||(g=!0,h.callback(U,Y,ne))};function y(){k.readyState===4&&!u.responseInterceptorsStorage.getIsEnabled()&&setTimeout(T,0)}function b(){var V=void 0;if(k.response?V=k.response:V=k.responseText||d(k),N)try{V=JSON.parse(V)}catch(U){}return V}function A(V){if(clearTimeout($),clearTimeout(h.retryTimeout),V instanceof Error||(V=new Error(""+(V||"Unknown XMLHttpRequest Error"))),V.statusCode=0,!I&&u.retryManager.getIsEnabled()&&h.retry&&h.retry.shouldRetry()){h.retryTimeout=setTimeout(function(){h.retry.moveToNextAttempt(),h.xhr=k,c(h)},h.retry.getCurrentFuzzedDelay());return}if(h.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var U={headers:F.headers||{},body:F.body,responseUrl:k.responseURL,responseType:k.responseType},Y=u.responseInterceptorsStorage.execute(h.requestType,U);F.body=Y.body,F.headers=Y.headers}return _(V,F)}function T(){if(!I){var V;clearTimeout($),clearTimeout(h.retryTimeout),h.useXDR&&k.status===void 0?V=200:V=k.status===1223?204:k.status;var U=F,Y=null;if(V!==0?(U={body:b(),statusCode:V,method:D,headers:{},url:w,rawRequest:k},k.getAllResponseHeaders&&(U.headers=s(k.getAllResponseHeaders()))):Y=new Error("Internal XMLHttpRequest Error"),h.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var ne={headers:U.headers||{},body:U.body,responseUrl:k.responseURL,responseType:k.responseType},z=u.responseInterceptorsStorage.execute(h.requestType,ne);U.body=z.body,U.headers=z.headers}return _(Y,U,U.body)}}var k=h.xhr||null;k||(h.cors||h.useXDR?k=new u.XDomainRequest:k=new u.XMLHttpRequest);var O,I,w=k.url=h.uri||h.url,D=k.method=h.method||"GET",R=h.body||h.data,L=k.headers=h.headers||{},B=!!h.sync,N=!1,$,F={body:void 0,headers:{},statusCode:0,method:D,url:w,rawRequest:k};if("json"in h&&h.json!==!1&&(N=!0,L.accept||L.Accept||(L.Accept="application/json"),D!=="GET"&&D!=="HEAD"&&(L["content-type"]||L["Content-Type"]||(L["Content-Type"]="application/json"),R=JSON.stringify(h.json===!0?R:h.json))),k.onreadystatechange=y,k.onload=T,k.onerror=A,k.onprogress=function(){},k.onabort=function(){I=!0,clearTimeout(h.retryTimeout)},k.ontimeout=A,k.open(D,w,!B,h.username,h.password),B||(k.withCredentials=!!h.withCredentials),!B&&h.timeout>0&&($=setTimeout(function(){if(!I){I=!0,k.abort("timeout");var V=new Error("XMLHttpRequest timeout");V.code="ETIMEDOUT",A(V)}},h.timeout)),k.setRequestHeader)for(O in L)L.hasOwnProperty(O)&&k.setRequestHeader(O,L[O]);else if(h.headers&&!o(h.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in h&&(k.responseType=h.responseType),"beforeSend"in h&&typeof h.beforeSend=="function"&&h.beforeSend(k),k.send(R||null),k}function d(h){try{if(h.responseType==="document")return h.responseXML;var m=h.responseXML&&h.responseXML.documentElement.nodeName==="parsererror";if(h.responseType===""&&!m)return h.responseXML}catch(p){}return null}function f(){}return ah.exports}var sre=rre();const iP=ao(sre);var Av={exports:{}},Sv,ME;function are(){if(ME)return Sv;ME=1;var e=nP(),t=Object.create||(function(){function w(){}return function(D){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return w.prototype=D,new w}})();function n(w,D){this.name="ParsingError",this.code=w.code,this.message=D||w.message}n.prototype=t(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function i(w){function D(L,B,N,$){return(L|0)*3600+(B|0)*60+(N|0)+($|0)/1e3}var R=w.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return R?R[3]?D(R[1],R[2],R[3].replace(":",""),R[4]):R[1]>59?D(R[1],R[2],0,R[4]):D(0,R[1],R[2],R[4]):null}function r(){this.values=t(null)}r.prototype={set:function(w,D){!this.get(w)&&D!==""&&(this.values[w]=D)},get:function(w,D,R){return R?this.has(w)?this.values[w]:D[R]:this.has(w)?this.values[w]:D},has:function(w){return w in this.values},alt:function(w,D,R){for(var L=0;L<R.length;++L)if(D===R[L]){this.set(w,D);break}},integer:function(w,D){/^-?\d+$/.test(D)&&this.set(w,parseInt(D,10))},percent:function(w,D){return D.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(D=parseFloat(D),D>=0&&D<=100)?(this.set(w,D),!0):!1}};function s(w,D,R,L){var B=L?w.split(L):[w];for(var N in B)if(typeof B[N]=="string"){var $=B[N].split(R);if($.length===2){var F=$[0].trim(),V=$[1].trim();D(F,V)}}}function a(w,D,R){var L=w;function B(){var F=i(w);if(F===null)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+L);return w=w.replace(/^[^\sa-zA-Z-]+/,""),F}function N(F,V){var U=new r;s(F,function(Y,ne){switch(Y){case"region":for(var z=R.length-1;z>=0;z--)if(R[z].id===ne){U.set(Y,R[z].region);break}break;case"vertical":U.alt(Y,ne,["rl","lr"]);break;case"line":var W=ne.split(","),le=W[0];U.integer(Y,le),U.percent(Y,le)&&U.set("snapToLines",!1),U.alt(Y,le,["auto"]),W.length===2&&U.alt("lineAlign",W[1],["start","center","end"]);break;case"position":W=ne.split(","),U.percent(Y,W[0]),W.length===2&&U.alt("positionAlign",W[1],["start","center","end"]);break;case"size":U.percent(Y,ne);break;case"align":U.alt(Y,ne,["start","center","end","left","right"]);break}},/:/,/\s/),V.region=U.get("region",null),V.vertical=U.get("vertical","");try{V.line=U.get("line","auto")}catch(Y){}V.lineAlign=U.get("lineAlign","start"),V.snapToLines=U.get("snapToLines",!0),V.size=U.get("size",100);try{V.align=U.get("align","center")}catch(Y){V.align=U.get("align","middle")}try{V.position=U.get("position","auto")}catch(Y){V.position=U.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},V.align)}V.positionAlign=U.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},V.align)}function $(){w=w.replace(/^\s+/,"")}if($(),D.startTime=B(),$(),w.substr(0,3)!=="-->")throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+L);w=w.substr(3),$(),D.endTime=B(),$(),N(w,D)}var o=e.createElement&&e.createElement("textarea"),l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},u={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},c={v:"title",lang:"lang"},d={rt:"ruby"};function f(w,D){function R(){if(!D)return null;function le(ae){return D=D.substr(ae.length),ae}var ye=D.match(/^([^<]*)(<[^>]*>?)?/);return le(ye[1]?ye[1]:ye[2])}function L(le){return o.innerHTML=le,le=o.textContent,o.textContent="",le}function B(le,ye){return!d[ye.localName]||d[ye.localName]===le.localName}function N(le,ye){var ae=l[le];if(!ae)return null;var ke=w.document.createElement(ae),q=c[le];return q&&ye&&(ke[q]=ye.trim()),ke}for(var $=w.document.createElement("div"),F=$,V,U=[];(V=R())!==null;){if(V[0]==="<"){if(V[1]==="/"){U.length&&U[U.length-1]===V.substr(2).replace(">","")&&(U.pop(),F=F.parentNode);continue}var Y=i(V.substr(1,V.length-2)),ne;if(Y){ne=w.document.createProcessingInstruction("timestamp",Y),F.appendChild(ne);continue}var z=V.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!z||(ne=N(z[1],z[3]),!ne)||!B(F,ne))continue;if(z[2]){var W=z[2].split(".");W.forEach(function(le){var ye=/^bg_/.test(le),ae=ye?le.slice(3):le;if(u.hasOwnProperty(ae)){var ke=ye?"background-color":"color",q=u[ae];ne.style[ke]=q}}),ne.className=W.join(" ")}U.push(z[1]),F.appendChild(ne),F=ne;continue}F.appendChild(w.document.createTextNode(L(V)))}return $}var h=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function m(w){for(var D=0;D<h.length;D++){var R=h[D];if(w>=R[0]&&w<=R[1])return!0}return!1}function p(w){var D=[],R="",L;if(!w||!w.childNodes)return"ltr";function B(F,V){for(var U=V.childNodes.length-1;U>=0;U--)F.push(V.childNodes[U])}function N(F){if(!F||!F.length)return null;var V=F.pop(),U=V.textContent||V.innerText;if(U){var Y=U.match(/^.*(\n|\r)/);return Y?(F.length=0,Y[0]):U}if(V.tagName==="ruby")return N(F);if(V.childNodes)return B(F,V),N(F)}for(B(D,w);R=N(D);)for(var $=0;$<R.length;$++)if(L=R.charCodeAt($),m(L))return"rtl";return"ltr"}function g(w){if(typeof w.line=="number"&&(w.snapToLines||w.line>=0&&w.line<=100))return w.line;if(!w.track||!w.track.textTrackList||!w.track.textTrackList.mediaElement)return-1;for(var D=w.track,R=D.textTrackList,L=0,B=0;B<R.length&&R[B]!==D;B++)R[B].mode==="showing"&&L++;return++L*-1}function _(){}_.prototype.applyStyles=function(w,D){D=D||this.div;for(var R in w)w.hasOwnProperty(R)&&(D.style[R]=w[R])},_.prototype.formatStyle=function(w,D){return w===0?0:w+D};function y(w,D,R){_.call(this),this.cue=D,this.cueDiv=f(w,D.text);var L={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:D.vertical===""?"horizontal-tb":D.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(L,this.cueDiv),this.div=w.document.createElement("div"),L={direction:p(this.cueDiv),writingMode:D.vertical===""?"horizontal-tb":D.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:D.align==="middle"?"center":D.align,font:R.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(L),this.div.appendChild(this.cueDiv);var B=0;switch(D.positionAlign){case"start":case"line-left":B=D.position;break;case"center":B=D.position-D.size/2;break;case"end":case"line-right":B=D.position-D.size;break}D.vertical===""?this.applyStyles({left:this.formatStyle(B,"%"),width:this.formatStyle(D.size,"%")}):this.applyStyles({top:this.formatStyle(B,"%"),height:this.formatStyle(D.size,"%")}),this.move=function(N){this.applyStyles({top:this.formatStyle(N.top,"px"),bottom:this.formatStyle(N.bottom,"px"),left:this.formatStyle(N.left,"px"),right:this.formatStyle(N.right,"px"),height:this.formatStyle(N.height,"px"),width:this.formatStyle(N.width,"px")})}}y.prototype=t(_.prototype),y.prototype.constructor=y;function b(w){var D,R,L,B;if(w.div){R=w.div.offsetHeight,L=w.div.offsetWidth,B=w.div.offsetTop;var N=(N=w.div.childNodes)&&(N=N[0])&&N.getClientRects&&N.getClientRects();w=w.div.getBoundingClientRect(),D=N?Math.max(N[0]&&N[0].height||0,w.height/N.length):0}this.left=w.left,this.right=w.right,this.top=w.top||B,this.height=w.height||R,this.bottom=w.bottom||B+(w.height||R),this.width=w.width||L,this.lineHeight=D!==void 0?D:w.lineHeight}b.prototype.move=function(w,D){switch(D=D!==void 0?D:this.lineHeight,w){case"+x":this.left+=D,this.right+=D;break;case"-x":this.left-=D,this.right-=D;break;case"+y":this.top+=D,this.bottom+=D;break;case"-y":this.top-=D,this.bottom-=D;break}},b.prototype.overlaps=function(w){return this.left<w.right&&this.right>w.left&&this.top<w.bottom&&this.bottom>w.top},b.prototype.overlapsAny=function(w){for(var D=0;D<w.length;D++)if(this.overlaps(w[D]))return!0;return!1},b.prototype.within=function(w){return this.top>=w.top&&this.bottom<=w.bottom&&this.left>=w.left&&this.right<=w.right},b.prototype.overlapsOppositeAxis=function(w,D){switch(D){case"+x":return this.left<w.left;case"-x":return this.right>w.right;case"+y":return this.top<w.top;case"-y":return this.bottom>w.bottom}},b.prototype.intersectPercentage=function(w){var D=Math.max(0,Math.min(this.right,w.right)-Math.max(this.left,w.left)),R=Math.max(0,Math.min(this.bottom,w.bottom)-Math.max(this.top,w.top)),L=D*R;return L/(this.height*this.width)},b.prototype.toCSSCompatValues=function(w){return{top:this.top-w.top,bottom:w.bottom-this.bottom,left:this.left-w.left,right:w.right-this.right,height:this.height,width:this.width}},b.getSimpleBoxPosition=function(w){var D=w.div?w.div.offsetHeight:w.tagName?w.offsetHeight:0,R=w.div?w.div.offsetWidth:w.tagName?w.offsetWidth:0,L=w.div?w.div.offsetTop:w.tagName?w.offsetTop:0;w=w.div?w.div.getBoundingClientRect():w.tagName?w.getBoundingClientRect():w;var B={left:w.left,right:w.right,top:w.top||L,height:w.height||D,bottom:w.bottom||L+(w.height||D),width:w.width||R};return B};function A(w,D,R,L){function B(ae,ke){for(var q,ve=new b(ae),X=1,Z=0;Z<ke.length;Z++){for(;ae.overlapsOppositeAxis(R,ke[Z])||ae.within(R)&&ae.overlapsAny(L);)ae.move(ke[Z]);if(ae.within(R))return ae;var he=ae.intersectPercentage(R);X>he&&(q=new b(ae),X=he),ae=new b(ve)}return q||ve}var N=new b(D),$=D.cue,F=g($),V=[];if($.snapToLines){var U;switch($.vertical){case"":V=["+y","-y"],U="height";break;case"rl":V=["+x","-x"],U="width";break;case"lr":V=["-x","+x"],U="width";break}var Y=N.lineHeight,ne=Y*Math.round(F),z=R[U]+Y,W=V[0];Math.abs(ne)>z&&(ne=ne<0?-1:1,ne*=Math.ceil(z/Y)*Y),F<0&&(ne+=$.vertical===""?R.height:R.width,V=V.reverse()),N.move(W,ne)}else{var le=N.lineHeight/R.height*100;switch($.lineAlign){case"center":F-=le/2;break;case"end":F-=le;break}switch($.vertical){case"":D.applyStyles({top:D.formatStyle(F,"%")});break;case"rl":D.applyStyles({left:D.formatStyle(F,"%")});break;case"lr":D.applyStyles({right:D.formatStyle(F,"%")});break}V=["+y","-x","+x","-y"],N=new b(D)}var ye=B(N,V);D.move(ye.toCSSCompatValues(R))}function T(){}T.StringDecoder=function(){return{decode:function(w){if(!w)return"";if(typeof w!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(w))}}},T.convertCueToDOMTree=function(w,D){return!w||!D?null:f(w,D)};var k=.05,O="sans-serif",I="1.5%";return T.processCues=function(w,D,R){if(!w||!D||!R)return null;for(;R.firstChild;)R.removeChild(R.firstChild);var L=w.document.createElement("div");L.style.position="absolute",L.style.left="0",L.style.right="0",L.style.top="0",L.style.bottom="0",L.style.margin=I,R.appendChild(L);function B(Y){for(var ne=0;ne<Y.length;ne++)if(Y[ne].hasBeenReset||!Y[ne].displayState)return!0;return!1}if(!B(D)){for(var N=0;N<D.length;N++)L.appendChild(D[N].displayState);return}var $=[],F=b.getSimpleBoxPosition(L),V=Math.round(F.height*k*100)/100,U={font:V+"px "+O};(function(){for(var Y,ne,z=0;z<D.length;z++)ne=D[z],Y=new y(w,ne,U),L.appendChild(Y.div),A(w,Y,F,$),ne.displayState=Y.div,$.push(b.getSimpleBoxPosition(Y))})()},T.Parser=function(w,D,R){R||(R=D,D={}),D||(D={}),this.window=w,this.vttjs=D,this.state="INITIAL",this.buffer="",this.decoder=R||new TextDecoder("utf8"),this.regionList=[]},T.Parser.prototype={reportOrThrowError:function(w){if(w instanceof n)this.onparsingerror&&this.onparsingerror(w);else throw w},parse:function(w){var D=this;w&&(D.buffer+=D.decoder.decode(w,{stream:!0}));function R(){for(var Y=D.buffer,ne=0;ne<Y.length&&Y[ne]!=="\r"&&Y[ne]!=="\n";)++ne;var z=Y.substr(0,ne);return Y[ne]==="\r"&&++ne,Y[ne]==="\n"&&++ne,D.buffer=Y.substr(ne),z}function L(Y){var ne=new r;if(s(Y,function(W,le){switch(W){case"id":ne.set(W,le);break;case"width":ne.percent(W,le);break;case"lines":ne.integer(W,le);break;case"regionanchor":case"viewportanchor":var ye=le.split(",");if(ye.length!==2)break;var ae=new r;if(ae.percent("x",ye[0]),ae.percent("y",ye[1]),!ae.has("x")||!ae.has("y"))break;ne.set(W+"X",ae.get("x")),ne.set(W+"Y",ae.get("y"));break;case"scroll":ne.alt(W,le,["up"]);break}},/=/,/\s/),ne.has("id")){var z=new(D.vttjs.VTTRegion||D.window.VTTRegion);z.width=ne.get("width",100),z.lines=ne.get("lines",3),z.regionAnchorX=ne.get("regionanchorX",0),z.regionAnchorY=ne.get("regionanchorY",100),z.viewportAnchorX=ne.get("viewportanchorX",0),z.viewportAnchorY=ne.get("viewportanchorY",100),z.scroll=ne.get("scroll",""),D.onregion&&D.onregion(z),D.regionList.push({id:ne.get("id"),region:z})}}function B(Y){var ne=new r;s(Y,function(z,W){switch(z){case"MPEGT":ne.integer(z+"S",W);break;case"LOCA":ne.set(z+"L",i(W));break}},/[^\d]:/,/,/),D.ontimestampmap&&D.ontimestampmap({MPEGTS:ne.get("MPEGTS"),LOCAL:ne.get("LOCAL")})}function N(Y){Y.match(/X-TIMESTAMP-MAP/)?s(Y,function(ne,z){switch(ne){case"X-TIMESTAMP-MAP":B(z);break}},/=/):s(Y,function(ne,z){switch(ne){case"Region":L(z);break}},/:/)}try{var $;if(D.state==="INITIAL"){if(!/\r\n|\n/.test(D.buffer))return this;$=R();var F=$.match(/^WEBVTT([ \t].*)?$/);if(!F||!F[0])throw new n(n.Errors.BadSignature);D.state="HEADER"}for(var V=!1;D.buffer;){if(!/\r\n|\n/.test(D.buffer))return this;switch(V?V=!1:$=R(),D.state){case"HEADER":/:/.test($)?N($):$||(D.state="ID");continue;case"NOTE":$||(D.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test($)){D.state="NOTE";break}if(!$)continue;D.cue=new(D.vttjs.VTTCue||D.window.VTTCue)(0,0,"");try{D.cue.align="center"}catch(Y){D.cue.align="middle"}if(D.state="CUE",$.indexOf("-->")===-1){D.cue.id=$;continue}case"CUE":try{a($,D.cue,D.regionList)}catch(Y){D.reportOrThrowError(Y),D.cue=null,D.state="BADCUE";continue}D.state="CUETEXT";continue;case"CUETEXT":var U=$.indexOf("-->")!==-1;if(!$||U&&(V=!0)){D.oncue&&D.oncue(D.cue),D.cue=null,D.state="ID";continue}D.cue.text&&(D.cue.text+="\n"),D.cue.text+=$.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":$||(D.state="ID");continue}}}catch(Y){D.reportOrThrowError(Y),D.state==="CUETEXT"&&D.cue&&D.oncue&&D.oncue(D.cue),D.cue=null,D.state=D.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var w=this;try{if(w.buffer+=w.decoder.decode(),(w.cue||w.state==="HEADER")&&(w.buffer+="\n\n",w.parse()),w.state==="INITIAL")throw new n(n.Errors.BadSignature)}catch(D){w.reportOrThrowError(D)}return w.onflush&&w.onflush(),this}},Sv=T,Sv}var xv,NE;function ore(){if(NE)return xv;NE=1;var e="auto",t={"":1,lr:1,rl:1},n={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i(a){if(typeof a!="string")return!1;var o=t[a.toLowerCase()];return o?a.toLowerCase():!1}function r(a){if(typeof a!="string")return!1;var o=n[a.toLowerCase()];return o?a.toLowerCase():!1}function s(a,o,l){this.hasBeenReset=!1;var u="",c=!1,d=a,f=o,h=l,m=null,p="",g=!0,_="auto",y="start",b="auto",A="auto",T=100,k="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return u},set:function(O){u=""+O}},pauseOnExit:{enumerable:!0,get:function(){return c},set:function(O){c=!!O}},startTime:{enumerable:!0,get:function(){return d},set:function(O){if(typeof O!="number")throw new TypeError("Start time must be set to a number.");d=O,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return f},set:function(O){if(typeof O!="number")throw new TypeError("End time must be set to a number.");f=O,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return h},set:function(O){h=""+O,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return m},set:function(O){m=O,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return p},set:function(O){var I=i(O);if(I===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");p=I,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return g},set:function(O){g=!!O,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return _},set:function(O){if(typeof O!="number"&&O!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");_=O,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return y},set:function(O){var I=r(O);I?(y=I,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return b},set:function(O){if(O<0||O>100)throw new Error("Position must be between 0 and 100.");b=O,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return A},set:function(O){var I=r(O);I?(A=I,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return T},set:function(O){if(O<0||O>100)throw new Error("Size must be between 0 and 100.");T=O,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return k},set:function(O){var I=r(O);if(!I)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");k=I,this.hasBeenReset=!0}}}),this.displayState=void 0}return s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},xv=s,xv}var Ev,BE;function lre(){if(BE)return Ev;BE=1;var e={"":!0,up:!0};function t(r){if(typeof r!="string")return!1;var s=e[r.toLowerCase()];return s?r.toLowerCase():!1}function n(r){return typeof r=="number"&&r>=0&&r<=100}function i(){var r=100,s=3,a=0,o=100,l=0,u=100,c="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return r},set:function(d){if(!n(d))throw new Error("Width must be between 0 and 100.");r=d}},lines:{enumerable:!0,get:function(){return s},set:function(d){if(typeof d!="number")throw new TypeError("Lines must be set to a number.");s=d}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(d){if(!n(d))throw new Error("RegionAnchorX must be between 0 and 100.");o=d}},regionAnchorX:{enumerable:!0,get:function(){return a},set:function(d){if(!n(d))throw new Error("RegionAnchorY must be between 0 and 100.");a=d}},viewportAnchorY:{enumerable:!0,get:function(){return u},set:function(d){if(!n(d))throw new Error("ViewportAnchorY must be between 0 and 100.");u=d}},viewportAnchorX:{enumerable:!0,get:function(){return l},set:function(d){if(!n(d))throw new Error("ViewportAnchorX must be between 0 and 100.");l=d}},scroll:{enumerable:!0,get:function(){return c},set:function(d){var f=t(d);f===!1?console.warn("Scroll: an invalid or illegal string was specified."):c=f}}})}return Ev=i,Ev}var FE;function ure(){if(FE)return Av.exports;FE=1;var e=Im(),t=Av.exports={WebVTT:are(),VTTCue:ore(),VTTRegion:lre()};e.vttjs=t,e.WebVTT=t.WebVTT;var n=t.VTTCue,i=t.VTTRegion,r=e.VTTCue,s=e.VTTRegion;return t.shim=function(){e.VTTCue=n,e.VTTRegion=i},t.restore=function(){e.VTTCue=r,e.VTTRegion=s},e.VTTCue||t.shim(),Av.exports}var cre=ure();const $E=ao(cre);function kn(){return kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},kn.apply(null,arguments)}var UE="https://example.com",Pm=function(t,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(t)&&(t=oe.location&&oe.location.href||"");var i=/^\/\//.test(t),r=!oe.location&&!/\/\//i.test(t);t=new oe.URL(t,oe.location||UE);var s=new URL(n,t);return r?s.href.slice(UE.length):i?s.href.slice(s.protocol.length):s.href},Ib=(function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(i,r){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(r)},t.off=function(i,r){if(!this.listeners[i])return!1;var s=this.listeners[i].indexOf(r);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(s,1),s>-1},t.trigger=function(i){var r=this.listeners[i];if(r)if(arguments.length===2)for(var s=r.length,a=0;a<s;++a)r[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=r.length,u=0;u<l;++u)r[u].apply(this,o)},t.dispose=function(){this.listeners={}},t.pipe=function(i){this.on("data",function(r){i.push(r)})},e})(),dre=function(t){return oe.atob?oe.atob(t):Buffer.from(t,"base64").toString("binary")};function rP(e){for(var t=dre(e),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class fre extends Ib{constructor(){super(),this.buffer=""}push(t){let n;for(this.buffer+=t,n=this.buffer.indexOf("\n");n>-1;n=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const hre="	",Cv=function(e){const t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},pre=function(){const n="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+n+")")},Si=function(e){const t={};if(!e)return t;const n=e.split(pre());let i=n.length,r;for(;i--;)n[i]!==""&&(r=/([^=]*)=(.*)/.exec(n[i]).slice(1),r[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),t[r[0]]=r[1]);return t},VE=e=>{const t=e.split("x"),n={};return t[0]&&(n.width=parseInt(t[0],10)),t[1]&&(n.height=parseInt(t[1],10)),n};class mre extends Ib{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(t){let n,i;if(t=t.trim(),t.length===0)return;if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}this.tagMappers.reduce((s,a)=>{const o=a(t);return o===t?s:s.concat([o])},[t]).forEach(s=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),n=/^#EXTM3U/.exec(s),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),n){i={type:"tag",tagType:"inf"},n[1]&&(i.duration=parseFloat(n[1])),n[2]&&(i.title=n[2]),this.trigger("data",i);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"targetduration"},n[1]&&(i.duration=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"version"},n[1]&&(i.version=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"media-sequence"},n[1]&&(i.number=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),n){i={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(i.number=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),n){i={type:"tag",tagType:"playlist-type"},n[1]&&(i.playlistType=n[1]),this.trigger("data",i);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),n){i=kn(Cv(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",i);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),n){i={type:"tag",tagType:"allow-cache"},n[1]&&(i.allowed=!/NO/.test(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(s),n){if(i={type:"tag",tagType:"map"},n[1]){const a=Si(n[1]);a.URI&&(i.uri=a.URI),a.BYTERANGE&&(i.byterange=Cv(a.BYTERANGE))}this.trigger("data",i);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),n){i={type:"tag",tagType:"stream-inf"},n[1]&&(i.attributes=Si(n[1]),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=VE(i.attributes.RESOLUTION)),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))),this.trigger("data",i);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(s),n){i={type:"tag",tagType:"media"},n[1]&&(i.attributes=Si(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-ENDLIST/.exec(s),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(s),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),n){i={type:"tag",tagType:"program-date-time"},n[1]&&(i.dateTimeString=n[1],i.dateTimeObject=new Date(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(s),n){i={type:"tag",tagType:"key"},n[1]&&(i.attributes=Si(n[1]),i.attributes.IV&&(i.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),this.trigger("data",i);return}if(n=/^#EXT-X-START:(.*)$/.exec(s),n){i={type:"tag",tagType:"start"},n[1]&&(i.attributes=Si(n[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),this.trigger("data",i);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-out-cont"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-out"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(s),n){i={type:"tag",tagType:"cue-in"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"skip"},i.attributes=Si(n[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(hre)),this.trigger("data",i);return}if(n=/^#EXT-X-PART:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"part"},i.attributes=Si(n[1]),["DURATION"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/.test(i.attributes[a]))}),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=Cv(i.attributes.BYTERANGE)),this.trigger("data",i);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"server-control"},i.attributes=Si(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/.test(i.attributes[a]))}),this.trigger("data",i);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"part-inf"},i.attributes=Si(n[1]),["PART-TARGET"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),this.trigger("data",i);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"preload-hint"},i.attributes=Si(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(i.attributes.hasOwnProperty(a)){i.attributes[a]=parseInt(i.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[o]=i.attributes[a],delete i.attributes[a]}}),this.trigger("data",i);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"rendition-report"},i.attributes=Si(n[1]),["LAST-MSN","LAST-PART"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseInt(i.attributes[a],10))}),this.trigger("data",i);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(s),n&&n[1]){i={type:"tag",tagType:"daterange"},i.attributes=Si(n[1]),["ID","CLASS"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=String(i.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=new Date(i.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=parseFloat(i.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=/YES/i.test(i.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=i.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in i.attributes){if(!a.test(o))continue;const l=/[0-9A-Fa-f]{6}/g.test(i.attributes[o]),u=/^\d+(\.\d+)?$/.test(i.attributes[o]);i.attributes[o]=l?i.attributes[o].toString(16):u?parseFloat(i.attributes[o]):String(i.attributes[o])}this.trigger("data",i);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(n=/^#EXT-X-I-FRAMES-ONLY/.exec(s),n){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(n=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),n){i={type:"tag",tagType:"content-steering"},i.attributes=Si(n[1]),this.trigger("data",i);return}if(n=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(s),n){i={type:"tag",tagType:"i-frame-playlist"},i.attributes=Si(n[1]),i.attributes.URI&&(i.uri=i.attributes.URI),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=VE(i.attributes.RESOLUTION)),i.attributes["AVERAGE-BANDWIDTH"]&&(i.attributes["AVERAGE-BANDWIDTH"]=parseInt(i.attributes["AVERAGE-BANDWIDTH"],10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),this.trigger("data",i);return}if(n=/^#EXT-X-DEFINE:(.*)$/.exec(s),n){i={type:"tag",tagType:"define"},i.attributes=Si(n[1]),this.trigger("data",i);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:t,customType:n,dataParser:i,segment:r}){typeof i!="function"&&(i=s=>s),this.customParsers.push(s=>{if(t.exec(s))return this.trigger("data",{type:"custom",data:i(s),customType:n,segment:r}),!0})}addTagMapper({expression:t,map:n}){const i=r=>t.test(r)?n(r):r;this.tagMappers.push(i)}}const gre=e=>e.toLowerCase().replace(/-(\w)/g,t=>t[1].toUpperCase()),Ba=function(e){const t={};return Object.keys(e).forEach(function(n){t[gre(n)]=e[n]}),t},wv=function(e){const{serverControl:t,targetDuration:n,partTargetDuration:i}=e;if(!t)return;const r="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=n&&n*3,l=i&&i*2;n&&!t.hasOwnProperty(s)&&(t[s]=o,this.trigger("info",{message:"".concat(r," defaulting HOLD-BACK to targetDuration * 3 (").concat(o,").")})),o&&t[s]<o&&(this.trigger("warn",{message:"".concat(r," clamping HOLD-BACK (").concat(t[s],") to targetDuration * 3 (").concat(o,")")}),t[s]=o),i&&!t.hasOwnProperty(a)&&(t[a]=i*3,this.trigger("info",{message:"".concat(r," defaulting PART-HOLD-BACK to partTargetDuration * 3 (").concat(t[a],").")})),i&&t[a]<l&&(this.trigger("warn",{message:"".concat(r," clamping PART-HOLD-BACK (").concat(t[a],") to partTargetDuration * 2 (").concat(l,").")}),t[a]=l)};class vre extends Ib{constructor(t={}){super(),this.lineStream=new fre,this.parseStream=new mre,this.lineStream.pipe(this.parseStream),this.mainDefinitions=t.mainDefinitions||{},this.params=new URL(t.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const n=this,i=[];let r={},s,a,o=!1;const l=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let f=0,h=0;const m={};this.on("end",()=>{r.uri||!r.parts&&!r.preloadHints||(!r.map&&s&&(r.map=s),!r.key&&a&&(r.key=a),!r.timeline&&typeof d=="number"&&(r.timeline=d),this.manifest.preloadSegment=r)}),this.parseStream.on("data",function(p){let g,_;if(n.manifest.definitions){for(const y in n.manifest.definitions)if(p.uri&&(p.uri=p.uri.replace("{$".concat(y,"}"),n.manifest.definitions[y])),p.attributes)for(const b in p.attributes)typeof p.attributes[b]=="string"&&(p.attributes[b]=p.attributes[b].replace("{$".concat(y,"}"),n.manifest.definitions[y]))}({tag(){({version(){p.version&&(this.manifest.version=p.version)},"allow-cache"(){this.manifest.allowCache=p.allowed,"allowed"in p||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const y={};"length"in p&&(r.byterange=y,y.length=p.length,"offset"in p||(p.offset=f)),"offset"in p&&(r.byterange=y,y.offset=p.offset),f=y.offset+y.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),p.title&&(r.title=p.title),p.duration>0&&(r.duration=p.duration),p.duration===0&&(r.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key(){if(!p.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(p.attributes.METHOD==="NONE"){a=null;return}if(!p.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(p.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:p.attributes};return}if(p.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:p.attributes.URI};return}if(p.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(p.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(p.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),p.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(p.attributes.KEYID&&p.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:p.attributes.KEYFORMAT,keyId:p.attributes.KEYID.substring(2)},pssh:rP(p.attributes.URI.split(",")[1])};return}p.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:p.attributes.METHOD||"AES-128",uri:p.attributes.URI},typeof p.attributes.IV<"u"&&(a.iv=p.attributes.IV)},"media-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+p.number});return}this.manifest.mediaSequence=p.number},"discontinuity-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+p.number});return}this.manifest.discontinuitySequence=p.number,d=p.number},"playlist-type"(){if(!/VOD|EVENT/.test(p.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+p.playlist});return}this.manifest.playlistType=p.playlistType},map(){s={},p.uri&&(s.uri=p.uri),p.byterange&&(s.byterange=p.byterange),a&&(s.key=a)},"stream-inf"(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!p.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}r.attributes||(r.attributes={}),kn(r.attributes,p.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(p.attributes&&p.attributes.TYPE&&p.attributes["GROUP-ID"]&&p.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const y=this.manifest.mediaGroups[p.attributes.TYPE];y[p.attributes["GROUP-ID"]]=y[p.attributes["GROUP-ID"]]||{},g=y[p.attributes["GROUP-ID"]],_={default:/yes/i.test(p.attributes.DEFAULT)},_.default?_.autoselect=!0:_.autoselect=/yes/i.test(p.attributes.AUTOSELECT),p.attributes.LANGUAGE&&(_.language=p.attributes.LANGUAGE),p.attributes.URI&&(_.uri=p.attributes.URI),p.attributes["INSTREAM-ID"]&&(_.instreamId=p.attributes["INSTREAM-ID"]),p.attributes.CHARACTERISTICS&&(_.characteristics=p.attributes.CHARACTERISTICS),p.attributes.FORCED&&(_.forced=/yes/i.test(p.attributes.FORCED)),g[p.attributes.NAME]=_},discontinuity(){d+=1,r.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=p.dateTimeString,this.manifest.dateTimeObject=p.dateTimeObject),r.dateTimeString=p.dateTimeString,r.dateTimeObject=p.dateTimeObject;const{lastProgramDateTime:y}=this;this.lastProgramDateTime=new Date(p.dateTimeString).getTime(),y===null&&this.manifest.segments.reduceRight((b,A)=>(A.programDateTime=b-A.duration*1e3,A.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(p.duration)||p.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+p.duration});return}this.manifest.targetDuration=p.duration,wv.call(this,this.manifest)},start(){if(!p.attributes||isNaN(p.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:p.attributes["TIME-OFFSET"],precise:p.attributes.PRECISE}},"cue-out"(){r.cueOut=p.data},"cue-out-cont"(){r.cueOutCont=p.data},"cue-in"(){r.cueIn=p.data},skip(){this.manifest.skip=Ba(p.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",p.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const y=this.manifest.segments.length,b=Ba(p.attributes);r.parts=r.parts||[],r.parts.push(b),b.byterange&&(b.byterange.hasOwnProperty("offset")||(b.byterange.offset=h),h=b.byterange.offset+b.byterange.length);const A=r.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #".concat(A," for segment #").concat(y),p.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((T,k)=>{T.hasOwnProperty("lastPart")||this.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #".concat(k," lacks required attribute(s): LAST-PART")})})},"server-control"(){const y=this.manifest.serverControl=Ba(p.attributes);y.hasOwnProperty("canBlockReload")||(y.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),wv.call(this,this.manifest),y.canSkipDateranges&&!y.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const y=this.manifest.segments.length,b=Ba(p.attributes),A=b.type&&b.type==="PART";r.preloadHints=r.preloadHints||[],r.preloadHints.push(b),b.byterange&&(b.byterange.hasOwnProperty("offset")||(b.byterange.offset=A?h:0,A&&(h=b.byterange.offset+b.byterange.length)));const T=r.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #".concat(T," for segment #").concat(y),p.attributes,["TYPE","URI"]),!!b.type)for(let k=0;k<r.preloadHints.length-1;k++){const O=r.preloadHints[k];O.type&&O.type===b.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #".concat(T," for segment #").concat(y," has the same TYPE ").concat(b.type," as preload hint #").concat(k)})}},"rendition-report"(){const y=Ba(p.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(y);const b=this.manifest.renditionReports.length-1,A=["LAST-MSN","URI"];o&&A.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #".concat(b),p.attributes,A)},"part-inf"(){this.manifest.partInf=Ba(p.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",p.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),wv.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Ba(p.attributes));const y=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_("#EXT-X-DATERANGE #".concat(y),p.attributes,["ID","START-DATE"]);const b=this.manifest.dateRanges[y];b.endDate&&b.startDate&&new Date(b.endDate)<new Date(b.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),b.duration&&b.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),b.plannedDuration&&b.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const A=!!b.endOnNext;if(A&&!b.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),A&&(b.duration||b.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),b.duration&&b.endDate){const k=b.startDate.getTime()+b.duration*1e3;this.manifest.dateRanges[y].endDate=new Date(k)}if(!m[b.id])m[b.id]=b;else{for(const k in m[b.id])if(b[k]&&JSON.stringify(m[b.id][k])!==JSON.stringify(b[k])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const T=this.manifest.dateRanges.findIndex(k=>k.id===b.id);this.manifest.dateRanges[T]=kn(this.manifest.dateRanges[T],b),m[b.id]=kn(m[b.id],b),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=Ba(p.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",p.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const y=(b,A)=>{if(b in this.manifest.definitions){this.trigger("error",{message:"EXT-X-DEFINE: Duplicate name ".concat(b)});return}this.manifest.definitions[b]=A};if("QUERYPARAM"in p.attributes){if("NAME"in p.attributes||"IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const b=this.params.get(p.attributes.QUERYPARAM);if(!b){this.trigger("error",{message:"EXT-X-DEFINE: No query param ".concat(p.attributes.QUERYPARAM)});return}y(p.attributes.QUERYPARAM,decodeURIComponent(b));return}if("NAME"in p.attributes){if("IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in p.attributes)||typeof p.attributes.VALUE!="string"){this.trigger("error",{message:"EXT-X-DEFINE: No value for ".concat(p.attributes.NAME)});return}y(p.attributes.NAME,p.attributes.VALUE);return}if("IMPORT"in p.attributes){if(!this.mainDefinitions[p.attributes.IMPORT]){this.trigger("error",{message:"EXT-X-DEFINE: No value ".concat(p.attributes.IMPORT," to import, or IMPORT used on main playlist")});return}y(p.attributes.IMPORT,this.mainDefinitions[p.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:p.attributes,uri:p.uri,timeline:d}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",p.attributes,["BANDWIDTH","URI"])}}[p.tagType]||l).call(n)},uri(){r.uri=p.uri,i.push(r),this.manifest.targetDuration&&!("duration"in r)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),r.duration=this.manifest.targetDuration),a&&(r.key=a),r.timeline=d,s&&(r.map=s),h=0,this.lastProgramDateTime!==null&&(r.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=r.duration*1e3),r={}},comment(){},custom(){p.segment?(r.custom=r.custom||{},r.custom[p.customType]=p.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[p.customType]=p.data)}})[p.type].call(n)})}requiredCompatibilityversion(t,n){(t<n||!t)&&this.trigger("warn",{message:"manifest must be at least version ".concat(n)})}warnOnMissingAttributes_(t,n,i){const r=[];i.forEach(function(s){n.hasOwnProperty(s)||r.push(s)}),r.length&&this.trigger("warn",{message:"".concat(t," lacks required attribute(s): ").concat(r.join(", "))})}push(t){this.lineStream.push(t)}end(){this.lineStream.push("\n"),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(t){this.parseStream.addParser(t)}addTagMapper(t){this.parseStream.addTagMapper(t)}}var Ho={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},yre=["video","audio","text"],jE=["Video","Audio","Text"],sP=function(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(n,i,r){var s=("00"+Number(i).toString(16)).slice(-2),a=("00"+Number(r).toString(16)).slice(-2);return"avc1."+s+"00"+a})},ps=function(t){t===void 0&&(t="");var n=t.split(","),i=[];return n.forEach(function(r){r=r.trim();var s;yre.forEach(function(a){var o=Ho[a].exec(r.toLowerCase());if(!(!o||o.length<=1)){s=a;var l=r.substring(0,o[1].length),u=r.replace(l,"");i.push({type:l,details:u,mediaType:a})}}),s||i.push({type:r,details:"",mediaType:"unknown"})}),i},_re=function(t,n){if(!t.mediaGroups.AUDIO||!n)return null;var i=t.mediaGroups.AUDIO[n];if(!i)return null;for(var r in i){var s=i[r];if(s.default&&s.playlists)return ps(s.playlists[0].attributes.CODECS)}return null},aP=function(t){return t===void 0&&(t=""),Ho.audio.test(t.trim().toLowerCase())},bre=function(t){return t===void 0&&(t=""),Ho.text.test(t.trim().toLowerCase())},pu=function(t){if(!(!t||typeof t!="string")){var n=t.toLowerCase().split(",").map(function(s){return sP(s.trim())}),i="video";n.length===1&&aP(n[0])?i="audio":n.length===1&&bre(n[0])&&(i="application");var r="mp4";return n.every(function(s){return Ho.mp4.test(s)})?r="mp4":n.every(function(s){return Ho.webm.test(s)})?r="webm":n.every(function(s){return Ho.ogg.test(s)})&&(r="ogg"),i+"/"+r+';codecs="'+t+'"'}},Yc=function(t,n){return t===void 0&&(t=""),n===void 0&&(n=!1),oe.MediaSource&&oe.MediaSource.isTypeSupported&&oe.MediaSource.isTypeSupported(pu(t))||n&&oe.ManagedMediaSource&&oe.ManagedMediaSource.isTypeSupported&&oe.ManagedMediaSource.isTypeSupported(pu(t))||!1},Dv=function(t){return t===void 0&&(t=""),t.toLowerCase().split(",").every(function(n){n=n.trim();for(var i=0;i<jE.length;i++){var r=jE[i];if(Ho["muxer"+r].test(n))return!0}return!1})},HE="mp4a.40.2",Tre="avc1.4d400d",Are=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Sre=/^application\/dash\+xml/i,oP=function(t){return Are.test(t)?"hls":Sre.test(t)?"dash":t==="application/vnd.videojs.vhs+json"?"vhs-json":null},xre=function(t){return t.toString(2).length},Ere=function(t){return Math.ceil(xre(t)/8)},lP=function(t){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},Cre=function(t){return lP(t)},rt=function(t){return t instanceof Uint8Array?t:(!Array.isArray(t)&&!Cre(t)&&!(t instanceof ArrayBuffer)&&(typeof t!="number"||typeof t=="number"&&t!==t?t=0:t=[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},Zn=oe.BigInt||Number,gy=[Zn("0x1"),Zn("0x100"),Zn("0x10000"),Zn("0x1000000"),Zn("0x100000000"),Zn("0x10000000000"),Zn("0x1000000000000"),Zn("0x100000000000000"),Zn("0x10000000000000000")];(function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return t[0]===255?"big":t[0]===204?"little":"unknown"})();var wre=function(t,n){var i=n===void 0?{}:n,r=i.signed,s=r===void 0?!1:r,a=i.le,o=a===void 0?!1:a;t=rt(t);var l=o?"reduce":"reduceRight",u=t[l]?t[l]:Array.prototype[l],c=u.call(t,function(f,h,m){var p=o?m:Math.abs(m+1-t.length);return f+Zn(h)*gy[p]},Zn(0));if(s){var d=gy[t.length]/Zn(2)-Zn(1);c=Zn(c),c>d&&(c-=d,c-=d,c-=Zn(2))}return Number(c)},Dre=function(t,n){var i={},r=i.le,s=r===void 0?!1:r;(typeof t!="bigint"&&typeof t!="number"||typeof t=="number"&&t!==t)&&(t=0),t=Zn(t);for(var a=Ere(t),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var u=s?l:Math.abs(l+1-o.length);o[u]=Number(t/gy[l]&Zn(255)),t<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},uP=function(t,n){if(typeof t!="string"&&t&&typeof t.toString=="function"&&(t=t.toString()),typeof t!="string")return new Uint8Array;n||(t=unescape(encodeURIComponent(t)));for(var i=new Uint8Array(t.length),r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i},kre=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(n=n.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),n.length<=1)return rt(n[0]);var r=n.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),s=new Uint8Array(r),a=0;return n.forEach(function(o){o=rt(o),s.set(o,a),a+=o.byteLength}),s},fn=function(t,n,i){var r=i===void 0?{}:i,s=r.offset,a=s===void 0?0:s,o=r.mask,l=o===void 0?[]:o;t=rt(t),n=rt(n);var u=n.every?n.every:Array.prototype.every;return n.length&&t.length-a>=n.length&&u.call(n,function(c,d){var f=l[d]?l[d]&t[a+d]:t[a+d];return c===f})},Ore=function(t,n,i){n.forEach(function(r){for(var s in t.mediaGroups[r])for(var a in t.mediaGroups[r][s]){var o=t.mediaGroups[r][s][a];i(o,r,s,a)}})},Sc={},zs={},So={},zE;function Rm(){if(zE)return So;zE=1;function e(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var u=s[l];if(a.call(void 0,u,l,s))return u}}function t(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function n(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var i=t({HTML:"text/html",isHTML:function(s){return s===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),r=t({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===r.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return So.assign=n,So.find=e,So.freeze=t,So.MIME_TYPE=i,So.NAMESPACE=r,So}var qE;function cP(){if(qE)return zs;qE=1;var e=Rm(),t=e.find,n=e.NAMESPACE;function i(j){return j!==""}function r(j){return j?j.split(/[\t\n\f\r ]+/).filter(i):[]}function s(j,G){return j.hasOwnProperty(G)||(j[G]=!0),j}function a(j){if(!j)return[];var G=r(j);return Object.keys(G.reduce(s,{}))}function o(j){return function(G){return j&&j.indexOf(G)!==-1}}function l(j,G){for(var de in j)Object.prototype.hasOwnProperty.call(j,de)&&(G[de]=j[de])}function u(j,G){var de=j.prototype;if(!(de instanceof G)){let Ee=function(){};Ee.prototype=G.prototype,Ee=new Ee,l(de,Ee),j.prototype=de=Ee}de.constructor!=j&&(typeof j!="function"&&console.error("unknown Class:"+j),de.constructor=j)}var c={},d=c.ELEMENT_NODE=1,f=c.ATTRIBUTE_NODE=2,h=c.TEXT_NODE=3,m=c.CDATA_SECTION_NODE=4,p=c.ENTITY_REFERENCE_NODE=5,g=c.ENTITY_NODE=6,_=c.PROCESSING_INSTRUCTION_NODE=7,y=c.COMMENT_NODE=8,b=c.DOCUMENT_NODE=9,A=c.DOCUMENT_TYPE_NODE=10,T=c.DOCUMENT_FRAGMENT_NODE=11,k=c.NOTATION_NODE=12,O={},I={};O.INDEX_SIZE_ERR=(I[1]="Index size error",1),O.DOMSTRING_SIZE_ERR=(I[2]="DOMString size error",2);var w=O.HIERARCHY_REQUEST_ERR=(I[3]="Hierarchy request error",3);O.WRONG_DOCUMENT_ERR=(I[4]="Wrong document",4),O.INVALID_CHARACTER_ERR=(I[5]="Invalid character",5),O.NO_DATA_ALLOWED_ERR=(I[6]="No data allowed",6),O.NO_MODIFICATION_ALLOWED_ERR=(I[7]="No modification allowed",7);var D=O.NOT_FOUND_ERR=(I[8]="Not found",8);O.NOT_SUPPORTED_ERR=(I[9]="Not supported",9);var R=O.INUSE_ATTRIBUTE_ERR=(I[10]="Attribute in use",10);O.INVALID_STATE_ERR=(I[11]="Invalid state",11),O.SYNTAX_ERR=(I[12]="Syntax error",12),O.INVALID_MODIFICATION_ERR=(I[13]="Invalid modification",13),O.NAMESPACE_ERR=(I[14]="Invalid namespace",14),O.INVALID_ACCESS_ERR=(I[15]="Invalid access",15);function L(j,G){if(G instanceof Error)var de=G;else de=this,Error.call(this,I[j]),this.message=I[j],Error.captureStackTrace&&Error.captureStackTrace(this,L);return de.code=j,G&&(this.message=this.message+": "+G),de}L.prototype=Error.prototype,l(O,L);function B(){}B.prototype={length:0,item:function(j){return j>=0&&j<this.length?this[j]:null},toString:function(j,G){for(var de=[],Ee=0;Ee<this.length;Ee++)Ar(this[Ee],de,j,G);return de.join("")},filter:function(j){return Array.prototype.filter.call(this,j)},indexOf:function(j){return Array.prototype.indexOf.call(this,j)}};function N(j,G){this._node=j,this._refresh=G,$(this)}function $(j){var G=j._node._inc||j._node.ownerDocument._inc;if(j._inc!==G){var de=j._refresh(j._node);if(Jd(j,"length",de.length),!j.$$length||de.length<j.$$length)for(var Ee=de.length;Ee in j;Ee++)Object.prototype.hasOwnProperty.call(j,Ee)&&delete j[Ee];l(de,j),j._inc=G}}N.prototype.item=function(j){return $(this),this[j]||null},u(N,B);function F(){}function V(j,G){for(var de=j.length;de--;)if(j[de]===G)return de}function U(j,G,de,Ee){if(Ee?G[V(G,Ee)]=de:G[G.length++]=de,j){de.ownerElement=j;var He=j.ownerDocument;He&&(Ee&&ke(He,j,Ee),ae(He,j,de))}}function Y(j,G,de){var Ee=V(G,de);if(Ee>=0){for(var He=G.length-1;Ee<He;)G[Ee]=G[++Ee];if(G.length=He,j){var ut=j.ownerDocument;ut&&(ke(ut,j,de),de.ownerElement=null)}}else throw new L(D,new Error(j.tagName+"@"+de))}F.prototype={length:0,item:B.prototype.item,getNamedItem:function(j){for(var G=this.length;G--;){var de=this[G];if(de.nodeName==j)return de}},setNamedItem:function(j){var G=j.ownerElement;if(G&&G!=this._ownerElement)throw new L(R);var de=this.getNamedItem(j.nodeName);return U(this._ownerElement,this,j,de),de},setNamedItemNS:function(j){var G=j.ownerElement,de;if(G&&G!=this._ownerElement)throw new L(R);return de=this.getNamedItemNS(j.namespaceURI,j.localName),U(this._ownerElement,this,j,de),de},removeNamedItem:function(j){var G=this.getNamedItem(j);return Y(this._ownerElement,this,G),G},removeNamedItemNS:function(j,G){var de=this.getNamedItemNS(j,G);return Y(this._ownerElement,this,de),de},getNamedItemNS:function(j,G){for(var de=this.length;de--;){var Ee=this[de];if(Ee.localName==G&&Ee.namespaceURI==j)return Ee}return null}};function ne(){}ne.prototype={hasFeature:function(j,G){return!0},createDocument:function(j,G,de){var Ee=new ye;if(Ee.implementation=this,Ee.childNodes=new B,Ee.doctype=de||null,de&&Ee.appendChild(de),G){var He=Ee.createElementNS(j,G);Ee.appendChild(He)}return Ee},createDocumentType:function(j,G,de){var Ee=new ht;return Ee.name=j,Ee.nodeName=j,Ee.publicId=G||"",Ee.systemId=de||"",Ee}};function z(){}z.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(j,G){return te(this,j,G)},replaceChild:function(j,G){te(this,j,G,Q),G&&this.removeChild(G)},removeChild:function(j){return ve(this,j)},appendChild:function(j){return this.insertBefore(j,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(j){return Hu(this.ownerDocument||this,this,j)},normalize:function(){for(var j=this.firstChild;j;){var G=j.nextSibling;G&&G.nodeType==h&&j.nodeType==h?(this.removeChild(G),j.appendData(G.data)):(j.normalize(),j=G)}},isSupported:function(j,G){return this.ownerDocument.implementation.hasFeature(j,G)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(j){for(var G=this;G;){var de=G._nsMap;if(de){for(var Ee in de)if(Object.prototype.hasOwnProperty.call(de,Ee)&&de[Ee]===j)return Ee}G=G.nodeType==f?G.ownerDocument:G.parentNode}return null},lookupNamespaceURI:function(j){for(var G=this;G;){var de=G._nsMap;if(de&&Object.prototype.hasOwnProperty.call(de,j))return de[j];G=G.nodeType==f?G.ownerDocument:G.parentNode}return null},isDefaultNamespace:function(j){var G=this.lookupPrefix(j);return G==null}};function W(j){return j=="<"&&"&lt;"||j==">"&&"&gt;"||j=="&"&&"&amp;"||j=='"'&&"&quot;"||"&#"+j.charCodeAt()+";"}l(c,z),l(c,z.prototype);function le(j,G){if(G(j))return!0;if(j=j.firstChild)do if(le(j,G))return!0;while(j=j.nextSibling)}function ye(){this.ownerDocument=this}function ae(j,G,de){j&&j._inc++;var Ee=de.namespaceURI;Ee===n.XMLNS&&(G._nsMap[de.prefix?de.localName:""]=de.value)}function ke(j,G,de,Ee){j&&j._inc++;var He=de.namespaceURI;He===n.XMLNS&&delete G._nsMap[de.prefix?de.localName:""]}function q(j,G,de){if(j&&j._inc){j._inc++;var Ee=G.childNodes;if(de)Ee[Ee.length++]=de;else{for(var He=G.firstChild,ut=0;He;)Ee[ut++]=He,He=He.nextSibling;Ee.length=ut,delete Ee[Ee.length]}}}function ve(j,G){var de=G.previousSibling,Ee=G.nextSibling;return de?de.nextSibling=Ee:j.firstChild=Ee,Ee?Ee.previousSibling=de:j.lastChild=de,G.parentNode=null,G.previousSibling=null,G.nextSibling=null,q(j.ownerDocument,j),G}function X(j){return j&&(j.nodeType===z.DOCUMENT_NODE||j.nodeType===z.DOCUMENT_FRAGMENT_NODE||j.nodeType===z.ELEMENT_NODE)}function Z(j){return j&&(H(j)||K(j)||he(j)||j.nodeType===z.DOCUMENT_FRAGMENT_NODE||j.nodeType===z.COMMENT_NODE||j.nodeType===z.PROCESSING_INSTRUCTION_NODE)}function he(j){return j&&j.nodeType===z.DOCUMENT_TYPE_NODE}function H(j){return j&&j.nodeType===z.ELEMENT_NODE}function K(j){return j&&j.nodeType===z.TEXT_NODE}function se(j,G){var de=j.childNodes||[];if(t(de,H)||he(G))return!1;var Ee=t(de,he);return!(G&&Ee&&de.indexOf(Ee)>de.indexOf(G))}function _e(j,G){var de=j.childNodes||[];function Ee(ut){return H(ut)&&ut!==G}if(t(de,Ee))return!1;var He=t(de,he);return!(G&&He&&de.indexOf(He)>de.indexOf(G))}function Ae(j,G,de){if(!X(j))throw new L(w,"Unexpected parent node type "+j.nodeType);if(de&&de.parentNode!==j)throw new L(D,"child not in parent");if(!Z(G)||he(G)&&j.nodeType!==z.DOCUMENT_NODE)throw new L(w,"Unexpected node type "+G.nodeType+" for parent node type "+j.nodeType)}function Ce(j,G,de){var Ee=j.childNodes||[],He=G.childNodes||[];if(G.nodeType===z.DOCUMENT_FRAGMENT_NODE){var ut=He.filter(H);if(ut.length>1||t(He,K))throw new L(w,"More than one element or text in fragment");if(ut.length===1&&!se(j,de))throw new L(w,"Element in fragment can not be inserted before doctype")}if(H(G)&&!se(j,de))throw new L(w,"Only one element can be added and only after doctype");if(he(G)){if(t(Ee,he))throw new L(w,"Only one doctype is allowed");var Gt=t(Ee,H);if(de&&Ee.indexOf(Gt)<Ee.indexOf(de))throw new L(w,"Doctype can only be inserted before an element");if(!de&&Gt)throw new L(w,"Doctype can not be appended since element is present")}}function Q(j,G,de){var Ee=j.childNodes||[],He=G.childNodes||[];if(G.nodeType===z.DOCUMENT_FRAGMENT_NODE){var ut=He.filter(H);if(ut.length>1||t(He,K))throw new L(w,"More than one element or text in fragment");if(ut.length===1&&!_e(j,de))throw new L(w,"Element in fragment can not be inserted before doctype")}if(H(G)&&!_e(j,de))throw new L(w,"Only one element can be added and only after doctype");if(he(G)){if(t(Ee,function(Ui){return he(Ui)&&Ui!==de}))throw new L(w,"Only one doctype is allowed");var Gt=t(Ee,H);if(de&&Ee.indexOf(Gt)<Ee.indexOf(de))throw new L(w,"Doctype can only be inserted before an element")}}function te(j,G,de,Ee){Ae(j,G,de),j.nodeType===z.DOCUMENT_NODE&&(Ee||Ce)(j,G,de);var He=G.parentNode;if(He&&He.removeChild(G),G.nodeType===T){var ut=G.firstChild;if(ut==null)return G;var Gt=G.lastChild}else ut=Gt=G;var ri=de?de.previousSibling:j.lastChild;ut.previousSibling=ri,Gt.nextSibling=de,ri?ri.nextSibling=ut:j.firstChild=ut,de==null?j.lastChild=Gt:de.previousSibling=Gt;do{ut.parentNode=j;var Ui=j.ownerDocument||j;ce(ut,Ui)}while(ut!==Gt&&(ut=ut.nextSibling));return q(j.ownerDocument||j,j),G.nodeType==T&&(G.firstChild=G.lastChild=null),G}function ce(j,G){if(j.ownerDocument!==G){if(j.ownerDocument=G,j.nodeType===d&&j.attributes)for(var de=0;de<j.attributes.length;de++){var Ee=j.attributes.item(de);Ee&&(Ee.ownerDocument=G)}for(var He=j.firstChild;He;)ce(He,G),He=He.nextSibling}}function me(j,G){G.parentNode&&G.parentNode.removeChild(G),G.parentNode=j,G.previousSibling=j.lastChild,G.nextSibling=null,G.previousSibling?G.previousSibling.nextSibling=G:j.firstChild=G,j.lastChild=G,q(j.ownerDocument,j,G);var de=j.ownerDocument||j;return ce(G,de),G}ye.prototype={nodeName:"#document",nodeType:b,doctype:null,documentElement:null,_inc:1,insertBefore:function(j,G){if(j.nodeType==T){for(var de=j.firstChild;de;){var Ee=de.nextSibling;this.insertBefore(de,G),de=Ee}return j}return te(this,j,G),ce(j,this),this.documentElement===null&&j.nodeType===d&&(this.documentElement=j),j},removeChild:function(j){return this.documentElement==j&&(this.documentElement=null),ve(this,j)},replaceChild:function(j,G){te(this,j,G,Q),ce(j,this),G&&this.removeChild(G),H(j)&&(this.documentElement=j)},importNode:function(j,G){return Qd(this,j,G)},getElementById:function(j){var G=null;return le(this.documentElement,function(de){if(de.nodeType==d&&de.getAttribute("id")==j)return G=de,!0}),G},getElementsByClassName:function(j){var G=a(j);return new N(this,function(de){var Ee=[];return G.length>0&&le(de.documentElement,function(He){if(He!==de&&He.nodeType===d){var ut=He.getAttribute("class");if(ut){var Gt=j===ut;if(!Gt){var ri=a(ut);Gt=G.every(o(ri))}Gt&&Ee.push(He)}}}),Ee})},createElement:function(j){var G=new Ne;G.ownerDocument=this,G.nodeName=j,G.tagName=j,G.localName=j,G.childNodes=new B;var de=G.attributes=new F;return de._ownerElement=G,G},createDocumentFragment:function(){var j=new yt;return j.ownerDocument=this,j.childNodes=new B,j},createTextNode:function(j){var G=new xe;return G.ownerDocument=this,G.appendData(j),G},createComment:function(j){var G=new We;return G.ownerDocument=this,G.appendData(j),G},createCDATASection:function(j){var G=new Xe;return G.ownerDocument=this,G.appendData(j),G},createProcessingInstruction:function(j,G){var de=new Tr;return de.ownerDocument=this,de.tagName=de.nodeName=de.target=j,de.nodeValue=de.data=G,de},createAttribute:function(j){var G=new Pe;return G.ownerDocument=this,G.name=j,G.nodeName=j,G.localName=j,G.specified=!0,G},createEntityReference:function(j){var G=new Nn;return G.ownerDocument=this,G.nodeName=j,G},createElementNS:function(j,G){var de=new Ne,Ee=G.split(":"),He=de.attributes=new F;return de.childNodes=new B,de.ownerDocument=this,de.nodeName=G,de.tagName=G,de.namespaceURI=j,Ee.length==2?(de.prefix=Ee[0],de.localName=Ee[1]):de.localName=G,He._ownerElement=de,de},createAttributeNS:function(j,G){var de=new Pe,Ee=G.split(":");return de.ownerDocument=this,de.nodeName=G,de.name=G,de.namespaceURI=j,de.specified=!0,Ee.length==2?(de.prefix=Ee[0],de.localName=Ee[1]):de.localName=G,de}},u(ye,z);function Ne(){this._nsMap={}}Ne.prototype={nodeType:d,hasAttribute:function(j){return this.getAttributeNode(j)!=null},getAttribute:function(j){var G=this.getAttributeNode(j);return G&&G.value||""},getAttributeNode:function(j){return this.attributes.getNamedItem(j)},setAttribute:function(j,G){var de=this.ownerDocument.createAttribute(j);de.value=de.nodeValue=""+G,this.setAttributeNode(de)},removeAttribute:function(j){var G=this.getAttributeNode(j);G&&this.removeAttributeNode(G)},appendChild:function(j){return j.nodeType===T?this.insertBefore(j,null):me(this,j)},setAttributeNode:function(j){return this.attributes.setNamedItem(j)},setAttributeNodeNS:function(j){return this.attributes.setNamedItemNS(j)},removeAttributeNode:function(j){return this.attributes.removeNamedItem(j.nodeName)},removeAttributeNS:function(j,G){var de=this.getAttributeNodeNS(j,G);de&&this.removeAttributeNode(de)},hasAttributeNS:function(j,G){return this.getAttributeNodeNS(j,G)!=null},getAttributeNS:function(j,G){var de=this.getAttributeNodeNS(j,G);return de&&de.value||""},setAttributeNS:function(j,G,de){var Ee=this.ownerDocument.createAttributeNS(j,G);Ee.value=Ee.nodeValue=""+de,this.setAttributeNode(Ee)},getAttributeNodeNS:function(j,G){return this.attributes.getNamedItemNS(j,G)},getElementsByTagName:function(j){return new N(this,function(G){var de=[];return le(G,function(Ee){Ee!==G&&Ee.nodeType==d&&(j==="*"||Ee.tagName==j)&&de.push(Ee)}),de})},getElementsByTagNameNS:function(j,G){return new N(this,function(de){var Ee=[];return le(de,function(He){He!==de&&He.nodeType===d&&(j==="*"||He.namespaceURI===j)&&(G==="*"||He.localName==G)&&Ee.push(He)}),Ee})}},ye.prototype.getElementsByTagName=Ne.prototype.getElementsByTagName,ye.prototype.getElementsByTagNameNS=Ne.prototype.getElementsByTagNameNS,u(Ne,z);function Pe(){}Pe.prototype.nodeType=f,u(Pe,z);function pe(){}pe.prototype={data:"",substringData:function(j,G){return this.data.substring(j,j+G)},appendData:function(j){j=this.data+j,this.nodeValue=this.data=j,this.length=j.length},insertData:function(j,G){this.replaceData(j,0,G)},appendChild:function(j){throw new Error(I[w])},deleteData:function(j,G){this.replaceData(j,G,"")},replaceData:function(j,G,de){var Ee=this.data.substring(0,j),He=this.data.substring(j+G);de=Ee+de+He,this.nodeValue=this.data=de,this.length=de.length}},u(pe,z);function xe(){}xe.prototype={nodeName:"#text",nodeType:h,splitText:function(j){var G=this.data,de=G.substring(j);G=G.substring(0,j),this.data=this.nodeValue=G,this.length=G.length;var Ee=this.ownerDocument.createTextNode(de);return this.parentNode&&this.parentNode.insertBefore(Ee,this.nextSibling),Ee}},u(xe,pe);function We(){}We.prototype={nodeName:"#comment",nodeType:y},u(We,pe);function Xe(){}Xe.prototype={nodeName:"#cdata-section",nodeType:m},u(Xe,pe);function ht(){}ht.prototype.nodeType=A,u(ht,z);function sn(){}sn.prototype.nodeType=k,u(sn,z);function Wt(){}Wt.prototype.nodeType=g,u(Wt,z);function Nn(){}Nn.prototype.nodeType=p,u(Nn,z);function yt(){}yt.prototype.nodeName="#document-fragment",yt.prototype.nodeType=T,u(yt,z);function Tr(){}Tr.prototype.nodeType=_,u(Tr,z);function ts(){}ts.prototype.serializeToString=function(j,G,de){return jn.call(j,G,de)},z.prototype.toString=jn;function jn(j,G){var de=[],Ee=this.nodeType==9&&this.documentElement||this,He=Ee.prefix,ut=Ee.namespaceURI;if(ut&&He==null){var He=Ee.lookupPrefix(ut);if(He==null)var Gt=[{namespace:ut,prefix:null}]}return Ar(this,de,j,G,Gt),de.join("")}function yi(j,G,de){var Ee=j.prefix||"",He=j.namespaceURI;if(!He||Ee==="xml"&&He===n.XML||He===n.XMLNS)return!1;for(var ut=de.length;ut--;){var Gt=de[ut];if(Gt.prefix===Ee)return Gt.namespace!==He}return!0}function Ca(j,G,de){j.push(" ",G,'="',de.replace(/[<>&"\t\n\r]/g,W),'"')}function Ar(j,G,de,Ee,He){if(He||(He=[]),Ee)if(j=Ee(j),j){if(typeof j=="string"){G.push(j);return}}else return;switch(j.nodeType){case d:var ut=j.attributes,Gt=ut.length,Jt=j.firstChild,ri=j.tagName;de=n.isHTML(j.namespaceURI)||de;var Ui=ri;if(!de&&!j.prefix&&j.namespaceURI){for(var ns,Xi=0;Xi<ut.length;Xi++)if(ut.item(Xi).name==="xmlns"){ns=ut.item(Xi).value;break}if(!ns)for(var Sr=He.length-1;Sr>=0;Sr--){var Qi=He[Sr];if(Qi.prefix===""&&Qi.namespace===j.namespaceURI){ns=Qi.namespace;break}}if(ns!==j.namespaceURI)for(var Sr=He.length-1;Sr>=0;Sr--){var Qi=He[Sr];if(Qi.namespace===j.namespaceURI){Qi.prefix&&(Ui=Qi.prefix+":"+ri);break}}}G.push("<",Ui);for(var bn=0;bn<Gt;bn++){var Ji=ut.item(bn);Ji.prefix=="xmlns"?He.push({prefix:Ji.localName,namespace:Ji.value}):Ji.nodeName=="xmlns"&&He.push({prefix:"",namespace:Ji.value})}for(var bn=0;bn<Gt;bn++){var Ji=ut.item(bn);if(yi(Ji,de,He)){var Rs=Ji.prefix||"",is=Ji.namespaceURI;Ca(G,Rs?"xmlns:"+Rs:"xmlns",is),He.push({prefix:Rs,namespace:is})}Ar(Ji,G,de,Ee,He)}if(ri===Ui&&yi(j,de,He)){var Rs=j.prefix||"",is=j.namespaceURI;Ca(G,Rs?"xmlns:"+Rs:"xmlns",is),He.push({prefix:Rs,namespace:is})}if(Jt||de&&!/^(?:meta|link|img|br|hr|input)$/i.test(ri)){if(G.push(">"),de&&/^script$/i.test(ri))for(;Jt;)Jt.data?G.push(Jt.data):Ar(Jt,G,de,Ee,He.slice()),Jt=Jt.nextSibling;else for(;Jt;)Ar(Jt,G,de,Ee,He.slice()),Jt=Jt.nextSibling;G.push("</",Ui,">")}else G.push("/>");return;case b:case T:for(var Jt=j.firstChild;Jt;)Ar(Jt,G,de,Ee,He.slice()),Jt=Jt.nextSibling;return;case f:return Ca(G,j.name,j.value);case h:return G.push(j.data.replace(/[<&>]/g,W));case m:return G.push("<![CDATA[",j.data,"]]>");case y:return G.push("<!--",j.data,"-->");case A:var fo=j.publicId,It=j.systemId;if(G.push("<!DOCTYPE ",j.name),fo)G.push(" PUBLIC ",fo),It&&It!="."&&G.push(" ",It),G.push(">");else if(It&&It!=".")G.push(" SYSTEM ",It,">");else{var Zd=j.internalSubset;Zd&&G.push(" [",Zd,"]"),G.push(">")}return;case _:return G.push("<?",j.target," ",j.data,"?>");case p:return G.push("&",j.nodeName,";");default:G.push("??",j.nodeName)}}function Qd(j,G,de){var Ee;switch(G.nodeType){case d:Ee=G.cloneNode(!1),Ee.ownerDocument=j;case T:break;case f:de=!0;break}if(Ee||(Ee=G.cloneNode(!1)),Ee.ownerDocument=j,Ee.parentNode=null,de)for(var He=G.firstChild;He;)Ee.appendChild(Qd(j,He,de)),He=He.nextSibling;return Ee}function Hu(j,G,de){var Ee=new G.constructor;for(var He in G)if(Object.prototype.hasOwnProperty.call(G,He)){var ut=G[He];typeof ut!="object"&&ut!=Ee[He]&&(Ee[He]=ut)}switch(G.childNodes&&(Ee.childNodes=new B),Ee.ownerDocument=j,Ee.nodeType){case d:var Gt=G.attributes,ri=Ee.attributes=new F,Ui=Gt.length;ri._ownerElement=Ee;for(var ns=0;ns<Ui;ns++)Ee.setAttributeNode(Hu(j,Gt.item(ns),!0));break;case f:de=!0}if(de)for(var Xi=G.firstChild;Xi;)Ee.appendChild(Hu(j,Xi,de)),Xi=Xi.nextSibling;return Ee}function Jd(j,G,de){j[G]=de}try{if(Object.defineProperty){let j=function(G){switch(G.nodeType){case d:case T:var de=[];for(G=G.firstChild;G;)G.nodeType!==7&&G.nodeType!==8&&de.push(j(G)),G=G.nextSibling;return de.join("");default:return G.nodeValue}};Object.defineProperty(N.prototype,"length",{get:function(){return $(this),this.$$length}}),Object.defineProperty(z.prototype,"textContent",{get:function(){return j(this)},set:function(G){switch(this.nodeType){case d:case T:for(;this.firstChild;)this.removeChild(this.firstChild);(G||String(G))&&this.appendChild(this.ownerDocument.createTextNode(G));break;default:this.data=G,this.value=G,this.nodeValue=G}}}),Jd=function(G,de,Ee){G["$$"+de]=Ee}}}catch(j){}return zs.DocumentType=ht,zs.DOMException=L,zs.DOMImplementation=ne,zs.Element=Ne,zs.Node=z,zs.NodeList=B,zs.XMLSerializer=ts,zs}var xc={},kv={},WE;function Ire(){return WE||(WE=1,(function(e){var t=Rm().freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES})(kv)),kv}var oh={},GE;function Pre(){if(GE)return oh;GE=1;var e=Rm().NAMESPACE,t=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+t.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+t.source+n.source+"*(?::"+t.source+n.source+"*)?$"),r=0,s=1,a=2,o=3,l=4,u=5,c=6,d=7;function f(w,D){this.message=w,this.locator=D,Error.captureStackTrace&&Error.captureStackTrace(this,f)}f.prototype=new Error,f.prototype.name=f.name;function h(){}h.prototype={parse:function(w,D,R){var L=this.domBuilder;L.startDocument(),A(D,D={}),m(w,D,R,L,this.errorHandler),L.endDocument()}};function m(w,D,R,L,B){function N(me){if(me>65535){me-=65536;var Ne=55296+(me>>10),Pe=56320+(me&1023);return String.fromCharCode(Ne,Pe)}else return String.fromCharCode(me)}function $(me){var Ne=me.slice(1,-1);return Object.hasOwnProperty.call(R,Ne)?R[Ne]:Ne.charAt(0)==="#"?N(parseInt(Ne.substr(1).replace("x","0x"))):(B.error("entity not found:"+me),me)}function F(me){if(me>ye){var Ne=w.substring(ye,me).replace(/&#?\w+;/g,$);z&&V(ye),L.characters(Ne,0,me-ye),ye=me}}function V(me,Ne){for(;me>=Y&&(Ne=ne.exec(w));)U=Ne.index,Y=U+Ne[0].length,z.lineNumber++;z.columnNumber=me-U+1}for(var U=0,Y=0,ne=/.*(?:\r\n?|\n)|.*$/g,z=L.locator,W=[{currentNSMap:D}],le={},ye=0;;){try{var ae=w.indexOf("<",ye);if(ae<0){if(!w.substr(ye).match(/^\s*$/)){var ke=L.doc,q=ke.createTextNode(w.substr(ye));ke.appendChild(q),L.currentElement=q}return}switch(ae>ye&&F(ae),w.charAt(ae+1)){case"/":var Ae=w.indexOf(">",ae+3),ve=w.substring(ae+2,Ae).replace(/[ \t\n\r]+$/g,""),X=W.pop();Ae<0?(ve=w.substring(ae+2).replace(/[\s<].*/,""),B.error("end tag name: "+ve+" is not complete:"+X.tagName),Ae=ae+1+ve.length):ve.match(/\s</)&&(ve=ve.replace(/[\s<].*/,""),B.error("end tag name: "+ve+" maybe not complete"),Ae=ae+1+ve.length);var Z=X.localNSMap,he=X.tagName==ve,H=he||X.tagName&&X.tagName.toLowerCase()==ve.toLowerCase();if(H){if(L.endElement(X.uri,X.localName,ve),Z)for(var K in Z)Object.prototype.hasOwnProperty.call(Z,K)&&L.endPrefixMapping(K);he||B.fatalError("end tag name: "+ve+" is not match the current start tagName:"+X.tagName)}else W.push(X);Ae++;break;case"?":z&&V(ae),Ae=k(w,ae,L);break;case"!":z&&V(ae),Ae=T(w,ae,L,B);break;default:z&&V(ae);var se=new O,_e=W[W.length-1].currentNSMap,Ae=g(w,ae,se,_e,$,B),Ce=se.length;if(!se.closed&&b(w,Ae,se.tagName,le)&&(se.closed=!0,R.nbsp||B.warning("unclosed xml attribute")),z&&Ce){for(var Q=p(z,{}),te=0;te<Ce;te++){var ce=se[te];V(ce.offset),ce.locator=p(z,{})}L.locator=Q,_(se,L,_e)&&W.push(se),L.locator=z}else _(se,L,_e)&&W.push(se);e.isHTML(se.uri)&&!se.closed?Ae=y(w,Ae,se.tagName,$,L):Ae++}}catch(me){if(me instanceof f)throw me;B.error("element parse error: "+me),Ae=-1}Ae>ye?ye=Ae:F(Math.max(ae,ye)+1)}}function p(w,D){return D.lineNumber=w.lineNumber,D.columnNumber=w.columnNumber,D}function g(w,D,R,L,B,N){function $(z,W,le){R.attributeNames.hasOwnProperty(z)&&N.fatalError("Attribute "+z+" redefined"),R.addValue(z,W.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,B),le)}for(var F,V,U=++D,Y=r;;){var ne=w.charAt(U);switch(ne){case"=":if(Y===s)F=w.slice(D,U),Y=o;else if(Y===a)Y=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(Y===o||Y===s)if(Y===s&&(N.warning('attribute value must after "="'),F=w.slice(D,U)),D=U+1,U=w.indexOf(ne,D),U>0)V=w.slice(D,U),$(F,V,D-1),Y=u;else throw new Error("attribute value no end '"+ne+"' match");else if(Y==l)V=w.slice(D,U),$(F,V,D),N.warning('attribute "'+F+'" missed start quot('+ne+")!!"),D=U+1,Y=u;else throw new Error('attribute value must after "="');break;case"/":switch(Y){case r:R.setTagName(w.slice(D,U));case u:case c:case d:Y=d,R.closed=!0;case l:case s:break;case a:R.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return N.error("unexpected end of input"),Y==r&&R.setTagName(w.slice(D,U)),U;case">":switch(Y){case r:R.setTagName(w.slice(D,U));case u:case c:case d:break;case l:case s:V=w.slice(D,U),V.slice(-1)==="/"&&(R.closed=!0,V=V.slice(0,-1));case a:Y===a&&(V=F),Y==l?(N.warning('attribute "'+V+'" missed quot(")!'),$(F,V,D)):((!e.isHTML(L[""])||!V.match(/^(?:disabled|checked|selected)$/i))&&N.warning('attribute "'+V+'" missed value!! "'+V+'" instead!!'),$(V,V,D));break;case o:throw new Error("attribute value missed!!")}return U;case"":ne=" ";default:if(ne<=" ")switch(Y){case r:R.setTagName(w.slice(D,U)),Y=c;break;case s:F=w.slice(D,U),Y=a;break;case l:var V=w.slice(D,U);N.warning('attribute "'+V+'" missed quot(")!!'),$(F,V,D);case u:Y=c;break}else switch(Y){case a:R.tagName,(!e.isHTML(L[""])||!F.match(/^(?:disabled|checked|selected)$/i))&&N.warning('attribute "'+F+'" missed value!! "'+F+'" instead2!!'),$(F,F,D),D=U,Y=s;break;case u:N.warning('attribute space is required"'+F+'"!!');case c:Y=s,D=U;break;case o:Y=l,D=U;break;case d:throw new Error("elements closed character '/' and '>' must be connected to")}}U++}}function _(w,D,R){for(var L=w.tagName,B=null,ne=w.length;ne--;){var N=w[ne],$=N.qName,F=N.value,z=$.indexOf(":");if(z>0)var V=N.prefix=$.slice(0,z),U=$.slice(z+1),Y=V==="xmlns"&&U;else U=$,V=null,Y=$==="xmlns"&&"";N.localName=U,Y!==!1&&(B==null&&(B={},A(R,R={})),R[Y]=B[Y]=F,N.uri=e.XMLNS,D.startPrefixMapping(Y,F))}for(var ne=w.length;ne--;){N=w[ne];var V=N.prefix;V&&(V==="xml"&&(N.uri=e.XML),V!=="xmlns"&&(N.uri=R[V||""]))}var z=L.indexOf(":");z>0?(V=w.prefix=L.slice(0,z),U=w.localName=L.slice(z+1)):(V=null,U=w.localName=L);var W=w.uri=R[V||""];if(D.startElement(W,U,L,w),w.closed){if(D.endElement(W,U,L),B)for(V in B)Object.prototype.hasOwnProperty.call(B,V)&&D.endPrefixMapping(V)}else return w.currentNSMap=R,w.localNSMap=B,!0}function y(w,D,R,L,B){if(/^(?:script|textarea)$/i.test(R)){var N=w.indexOf("</"+R+">",D),$=w.substring(D+1,N);if(/[&<]/.test($))return/^script$/i.test(R)?(B.characters($,0,$.length),N):($=$.replace(/&#?\w+;/g,L),B.characters($,0,$.length),N)}return D+1}function b(w,D,R,L){var B=L[R];return B==null&&(B=w.lastIndexOf("</"+R+">"),B<D&&(B=w.lastIndexOf("</"+R)),L[R]=B),B<D}function A(w,D){for(var R in w)Object.prototype.hasOwnProperty.call(w,R)&&(D[R]=w[R])}function T(w,D,R,L){var B=w.charAt(D+2);switch(B){case"-":if(w.charAt(D+3)==="-"){var N=w.indexOf("-->",D+4);return N>D?(R.comment(w,D+4,N-D-4),N+3):(L.error("Unclosed comment"),-1)}else return-1;default:if(w.substr(D+3,6)=="CDATA["){var N=w.indexOf("]]>",D+9);return R.startCDATA(),R.characters(w,D+9,N-D-9),R.endCDATA(),N+3}var $=I(w,D),F=$.length;if(F>1&&/!doctype/i.test($[0][0])){var V=$[1][0],U=!1,Y=!1;F>3&&(/^public$/i.test($[2][0])?(U=$[3][0],Y=F>4&&$[4][0]):/^system$/i.test($[2][0])&&(Y=$[3][0]));var ne=$[F-1];return R.startDTD(V,U,Y),R.endDTD(),ne.index+ne[0].length}}return-1}function k(w,D,R){var L=w.indexOf("?>",D);if(L){var B=w.substring(D,L).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return B?(B[0].length,R.processingInstruction(B[1],B[2]),L+2):-1}return-1}function O(){this.attributeNames={}}O.prototype={setTagName:function(w){if(!i.test(w))throw new Error("invalid tagName:"+w);this.tagName=w},addValue:function(w,D,R){if(!i.test(w))throw new Error("invalid attribute:"+w);this.attributeNames[w]=this.length,this[this.length++]={qName:w,value:D,offset:R}},length:0,getLocalName:function(w){return this[w].localName},getLocator:function(w){return this[w].locator},getQName:function(w){return this[w].qName},getURI:function(w){return this[w].uri},getValue:function(w){return this[w].value}};function I(w,D){var R,L=[],B=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(B.lastIndex=D,B.exec(w);R=B.exec(w);)if(L.push(R),R[1])return L}return oh.XMLReader=h,oh.ParseError=f,oh}var YE;function Rre(){if(YE)return xc;YE=1;var e=Rm(),t=cP(),n=Ire(),i=Pre(),r=t.DOMImplementation,s=e.NAMESPACE,a=i.ParseError,o=i.XMLReader;function l(g){return g.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function u(g){this.options=g||{locator:{}}}u.prototype.parseFromString=function(g,_){var y=this.options,b=new o,A=y.domBuilder||new d,T=y.errorHandler,k=y.locator,O=y.xmlns||{},I=/\/x?html?$/.test(_),w=I?n.HTML_ENTITIES:n.XML_ENTITIES;k&&A.setDocumentLocator(k),b.errorHandler=c(T,A,k),b.domBuilder=y.domBuilder||A,I&&(O[""]=s.HTML),O.xml=O.xml||s.XML;var D=y.normalizeLineEndings||l;return g&&typeof g=="string"?b.parse(D(g),O,w):b.errorHandler.error("invalid doc source"),A.doc};function c(g,_,y){if(!g){if(_ instanceof d)return _;g=_}var b={},A=g instanceof Function;y=y||{};function T(k){var O=g[k];!O&&A&&(O=g.length==2?function(I){g(k,I)}:g),b[k]=O&&function(I){O("[xmldom "+k+"]	"+I+h(y))}||function(){}}return T("warning"),T("error"),T("fatalError"),b}function d(){this.cdata=!1}function f(g,_){_.lineNumber=g.lineNumber,_.columnNumber=g.columnNumber}d.prototype={startDocument:function(){this.doc=new r().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(g,_,y,b){var A=this.doc,T=A.createElementNS(g,y||_),k=b.length;p(this,T),this.currentElement=T,this.locator&&f(this.locator,T);for(var O=0;O<k;O++){var g=b.getURI(O),I=b.getValue(O),y=b.getQName(O),w=A.createAttributeNS(g,y);this.locator&&f(b.getLocator(O),w),w.value=w.nodeValue=I,T.setAttributeNode(w)}},endElement:function(g,_,y){var b=this.currentElement;b.tagName,this.currentElement=b.parentNode},startPrefixMapping:function(g,_){},endPrefixMapping:function(g){},processingInstruction:function(g,_){var y=this.doc.createProcessingInstruction(g,_);this.locator&&f(this.locator,y),p(this,y)},ignorableWhitespace:function(g,_,y){},characters:function(g,_,y){if(g=m.apply(this,arguments),g){if(this.cdata)var b=this.doc.createCDATASection(g);else var b=this.doc.createTextNode(g);this.currentElement?this.currentElement.appendChild(b):/^\s*$/.test(g)&&this.doc.appendChild(b),this.locator&&f(this.locator,b)}},skippedEntity:function(g){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(g){(this.locator=g)&&(g.lineNumber=0)},comment:function(g,_,y){g=m.apply(this,arguments);var b=this.doc.createComment(g);this.locator&&f(this.locator,b),p(this,b)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(g,_,y){var b=this.doc.implementation;if(b&&b.createDocumentType){var A=b.createDocumentType(g,_,y);this.locator&&f(this.locator,A),p(this,A),this.doc.doctype=A}},warning:function(g){console.warn("[xmldom warning]	"+g,h(this.locator))},error:function(g){console.error("[xmldom error]	"+g,h(this.locator))},fatalError:function(g){throw new a(g,this.locator)}};function h(g){if(g)return"\n@"+(g.systemId||"")+"#[line:"+g.lineNumber+",col:"+g.columnNumber+"]"}function m(g,_,y){return typeof g=="string"?g.substr(_,y):g.length>=_+y||_?new java.lang.String(g,_,y)+"":g}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(g){d.prototype[g]=function(){return null}});function p(g,_){g.currentElement?g.currentElement.appendChild(_):g.doc.appendChild(_)}return xc.__DOMHandler=d,xc.normalizeLineEndings=l,xc.DOMParser=u,xc}var KE;function Lre(){if(KE)return Sc;KE=1;var e=cP();return Sc.DOMImplementation=e.DOMImplementation,Sc.XMLSerializer=e.XMLSerializer,Sc.DOMParser=Rre().DOMParser,Sc}var Mre=Lre();/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const XE=e=>!!e&&typeof e=="object",Wn=(...e)=>e.reduce((t,n)=>(typeof n!="object"||Object.keys(n).forEach(i=>{Array.isArray(t[i])&&Array.isArray(n[i])?t[i]=t[i].concat(n[i]):XE(t[i])&&XE(n[i])?t[i]=Wn(t[i],n[i]):t[i]=n[i]}),t),{}),dP=e=>Object.keys(e).map(t=>e[t]),Nre=(e,t)=>{const n=[];for(let i=e;i<t;i++)n.push(i);return n},mu=e=>e.reduce((t,n)=>t.concat(n),[]),fP=e=>{if(!e.length)return[];const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t},Bre=(e,t)=>e.reduce((n,i,r)=>(i[t]&&n.push(r),n),[]),Fre=(e,t)=>dP(e.reduce((n,i)=>(i.forEach(r=>{n[t(r)]=r}),n),{}));var gu={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const _d=({baseUrl:e="",source:t="",range:n="",indexRange:i=""})=>{const r={uri:t,resolvedUri:Pm(e||"",t)};if(n||i){const a=(n||i).split("-");let o=oe.BigInt?oe.BigInt(a[0]):parseInt(a[0],10),l=oe.BigInt?oe.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof o=="bigint"?u=oe.BigInt(l)-oe.BigInt(o)+oe.BigInt(1):u=l-o+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),r.byterange={length:u,offset:o}}return r},$re=e=>{let t;return typeof e.offset=="bigint"||typeof e.length=="bigint"?t=oe.BigInt(e.offset)+oe.BigInt(e.length)-oe.BigInt(1):t=e.offset+e.length-1,"".concat(e.offset,"-").concat(t)},QE=e=>(e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e),Ure={static(e){const{duration:t,timescale:n=1,sourceDuration:i,periodDuration:r}=e,s=QE(e.endNumber),a=t/n;return typeof s=="number"?{start:0,end:s}:typeof r=="number"?{start:0,end:r/a}:{start:0,end:i/a}},dynamic(e){const{NOW:t,clientOffset:n,availabilityStartTime:i,timescale:r=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=e,u=QE(e.endNumber),c=(t+n)/1e3,d=i+a,h=c+o-d,m=Math.ceil(h*r/s),p=Math.floor((c-d-l)*r/s),g=Math.floor((c-d)*r/s);return{start:Math.max(0,p),end:typeof u=="number"?u:Math.min(m,g)}}},Vre=e=>t=>{const{duration:n,timescale:i=1,periodStart:r,startNumber:s=1}=e;return{number:s+t,duration:n/i,timeline:r,time:t*n}},Pb=e=>{const{type:t,duration:n,timescale:i=1,periodDuration:r,sourceDuration:s}=e,{start:a,end:o}=Ure[t](e),l=Nre(a,o).map(Vre(e));if(t==="static"){const u=l.length-1,c=typeof r=="number"?r:s;l[u].duration=c-n/i*u}return l},hP=e=>{const{baseUrl:t,initialization:n={},sourceDuration:i,indexRange:r="",periodStart:s,presentationTime:a,number:o=0,duration:l}=e;if(!t)throw new Error(gu.NO_BASE_URL);const u=_d({baseUrl:t,source:n.sourceURL,range:n.range}),c=_d({baseUrl:t,source:t,indexRange:r});if(c.map=u,l){const d=Pb(e);d.length&&(c.duration=d[0].duration,c.timeline=d[0].timeline)}else i&&(c.duration=i,c.timeline=s);return c.presentationTime=a||s,c.number=o,[c]},Rb=(e,t,n)=>{const i=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,s=e.timeline||0,a=e.sidx.byterange,o=a.offset+a.length,l=t.timescale,u=t.references.filter(g=>g.referenceType!==1),c=[],d=e.endList?"static":"dynamic",f=e.sidx.timeline;let h=f,m=e.mediaSequence||0,p;typeof t.firstOffset=="bigint"?p=oe.BigInt(o)+t.firstOffset:p=o+t.firstOffset;for(let g=0;g<u.length;g++){const _=t.references[g],y=_.referencedSize,b=_.subsegmentDuration;let A;typeof p=="bigint"?A=p+oe.BigInt(y)-oe.BigInt(1):A=p+y-1;const T="".concat(p,"-").concat(A),O=hP({baseUrl:n,timescale:l,timeline:s,periodStart:f,presentationTime:h,number:m,duration:b,sourceDuration:r,indexRange:T,type:d})[0];i&&(O.map=i),c.push(O),typeof p=="bigint"?p+=oe.BigInt(y):p+=y,h+=b/l,m++}return e.segments=c,e},jre=["AUDIO","SUBTITLES"],Hre=1/60,pP=e=>Fre(e,({timeline:t})=>t).sort((t,n)=>t.timeline>n.timeline?1:-1),zre=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null},JE=e=>{let t=[];return Ore(e,jre,(n,i,r,s)=>{t=t.concat(n.playlists||[])}),t},ZE=({playlist:e,mediaSequence:t})=>{e.mediaSequence=t,e.segments.forEach((n,i)=>{n.number=e.mediaSequence+i})},qre=({oldPlaylists:e,newPlaylists:t,timelineStarts:n})=>{t.forEach(i=>{i.discontinuitySequence=n.findIndex(function({timeline:l}){return l===i.timeline});const r=zre(e,i.attributes.NAME);if(!r||i.sidx)return;const s=i.segments[0],a=r.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<Hre});if(a===-1){ZE({playlist:i,mediaSequence:r.mediaSequence+r.segments.length}),i.segments[0].discontinuity=!0,i.discontinuityStarts.unshift(0),(!r.segments.length&&i.timeline>r.timeline||r.segments.length&&i.timeline>r.segments[r.segments.length-1].timeline)&&i.discontinuitySequence--;return}r.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,i.discontinuityStarts.unshift(0),i.discontinuitySequence--),ZE({playlist:i,mediaSequence:r.segments[a].number})})},Wre=({oldManifest:e,newManifest:t})=>{const n=e.playlists.concat(JE(e)),i=t.playlists.concat(JE(t));return t.timelineStarts=pP([e.timelineStarts,t.timelineStarts]),qre({oldPlaylists:n,newPlaylists:i,timelineStarts:t.timelineStarts}),t},Lm=e=>e&&e.uri+"-"+$re(e.byterange),Ov=e=>{const t=e.reduce(function(i,r){return i[r.attributes.baseUrl]||(i[r.attributes.baseUrl]=[]),i[r.attributes.baseUrl].push(r),i},{});let n=[];return Object.values(t).forEach(i=>{const r=dP(i.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));n=n.concat(r)}),n.map(i=>(i.discontinuityStarts=Bre(i.segments||[],"discontinuity"),i))},Lb=(e,t)=>{const n=Lm(e.sidx),i=n&&t[n]&&t[n].sidx;return i&&Rb(e,i,e.sidx.resolvedUri),e},Gre=(e,t={})=>{if(!Object.keys(t).length)return e;for(const n in e)e[n]=Lb(e[n],t);return e},Yre=({attributes:e,segments:t,sidx:n,mediaSequence:i,discontinuitySequence:r,discontinuityStarts:s},a)=>{const o={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:e.type==="static",timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuitySequence:r,discontinuityStarts:s,timelineStarts:e.timelineStarts,mediaSequence:i,segments:t};return e.contentProtection&&(o.contentProtection=e.contentProtection),e.serviceLocation&&(o.attributes.serviceLocation=e.serviceLocation),n&&(o.sidx=n),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},Kre=({attributes:e,segments:t,mediaSequence:n,discontinuityStarts:i,discontinuitySequence:r})=>{typeof t>"u"&&(t=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);const s={NAME:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1};e.codecs&&(s.CODECS=e.codecs);const a={attributes:s,uri:"",endList:e.type==="static",timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:i,discontinuitySequence:r,mediaSequence:n,segments:t};return e.serviceLocation&&(a.attributes.serviceLocation=e.serviceLocation),a},Xre=(e,t={},n=!1)=>{let i;const r=e.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let u=a.attributes.label||"main";if(l&&!a.attributes.label){const d=o?" (".concat(o,")"):"";u="".concat(a.attributes.lang).concat(d)}s[u]||(s[u]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const c=Lb(Yre(a,n),t);return s[u].playlists.push(c),typeof i>"u"&&o==="main"&&(i=a,i.default=!0),s},{});if(!i){const s=Object.keys(r)[0];r[s].default=!0}return r},Qre=(e,t={})=>e.reduce((n,i)=>{const r=i.attributes.label||i.attributes.lang||"text",s=i.attributes.lang||"und";return n[r]||(n[r]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),n[r].playlists.push(Lb(Kre(i),t)),n},{}),Jre=e=>e.reduce((t,n)=>(n&&n.forEach(i=>{const{channel:r,language:s}=i;t[s]={autoselect:!1,default:!1,instreamId:r,language:s},i.hasOwnProperty("aspectRatio")&&(t[s].aspectRatio=i.aspectRatio),i.hasOwnProperty("easyReader")&&(t[s].easyReader=i.easyReader),i.hasOwnProperty("3D")&&(t[s]["3D"]=i["3D"])}),t),{}),Zre=({attributes:e,segments:t,sidx:n,discontinuityStarts:i})=>{const r={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:e.type==="static",timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuityStarts:i,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(r.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(r.contentProtection=e.contentProtection),e.serviceLocation&&(r.attributes.serviceLocation=e.serviceLocation),n&&(r.sidx=n),r},ese=({attributes:e})=>e.mimeType==="video/mp4"||e.mimeType==="video/webm"||e.contentType==="video",tse=({attributes:e})=>e.mimeType==="audio/mp4"||e.mimeType==="audio/webm"||e.contentType==="audio",nse=({attributes:e})=>e.mimeType==="text/vtt"||e.contentType==="text",ise=(e,t)=>{e.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=t.findIndex(function({timeline:i}){return i===n.timeline}),n.segments&&n.segments.forEach((i,r)=>{i.number=r})})},eC=e=>e?Object.keys(e).reduce((t,n)=>{const i=e[n];return t.concat(i.playlists)},[]):[],rse=({dashPlaylists:e,locations:t,contentSteering:n,sidxMapping:i={},previousManifest:r,eventStream:s})=>{if(!e.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=e[0].attributes,c=Ov(e.filter(ese)).map(Zre),d=Ov(e.filter(tse)),f=Ov(e.filter(nse)),h=e.map(A=>A.attributes.captionServices).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:Gre(c,i)};u>=0&&(m.minimumUpdatePeriod=u*1e3),t&&(m.locations=t),n&&(m.contentSteering=n),o==="dynamic"&&(m.suggestedPresentationDelay=l),s&&s.length>0&&(m.eventStream=s);const p=m.playlists.length===0,g=d.length?Xre(d,i,p):null,_=f.length?Qre(f,i):null,y=c.concat(eC(g),eC(_)),b=y.map(({timelineStarts:A})=>A);return m.timelineStarts=pP(b),ise(y,m.timelineStarts),g&&(m.mediaGroups.AUDIO.audio=g),_&&(m.mediaGroups.SUBTITLES.subs=_),h.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=Jre(h)),r?Wre({oldManifest:r,newManifest:m}):m},sse=(e,t,n)=>{const{NOW:i,clientOffset:r,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=e,u=(i+r)/1e3,c=s+o,f=u+l-c;return Math.ceil((f*a-t)/n)},mP=(e,t)=>{const{type:n,minimumUpdatePeriod:i=0,media:r="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:l}=e,u=[];let c=-1;for(let d=0;d<t.length;d++){const f=t[d],h=f.d,m=f.r||0,p=f.t||0;c<0&&(c=p),p&&p>c&&(c=p);let g;if(m<0){const b=d+1;b===t.length?n==="dynamic"&&i>0&&r.indexOf("$Number$")>0?g=sse(e,c,h):g=(s*a-c)/h:g=(t[b].t-c)/h}else g=m+1;const _=o+u.length+g;let y=o+u.length;for(;y<_;)u.push({number:y,duration:h/a,time:c,timeline:l}),c+=h,y++}return u},ase=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ose=e=>(t,n,i,r)=>{if(t==="$$")return"$";if(typeof e[n]>"u")return t;const s=""+e[n];return n==="RepresentationID"||(i?r=parseInt(r,10):r=1,s.length>=r)?s:"".concat(new Array(r-s.length+1).join("0")).concat(s)},tC=(e,t)=>e.replace(ase,ose(t)),lse=(e,t)=>!e.duration&&!t?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?Pb(e):mP(e,t),use=(e,t)=>{const n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=e,r=_d({baseUrl:e.baseUrl,source:tC(i.sourceURL,n),range:i.range});return lse(e,t).map(a=>{n.Number=a.number,n.Time=a.time;const o=tC(e.media||"",n),l=e.timescale||1,u=e.presentationTimeOffset||0,c=e.periodStart+(a.time-u)/l;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:Pm(e.baseUrl||"",o),map:r,number:a.number,presentationTime:c}})},cse=(e,t)=>{const{baseUrl:n,initialization:i={}}=e,r=_d({baseUrl:n,source:i.sourceURL,range:i.range}),s=_d({baseUrl:n,source:t.media,range:t.mediaRange});return s.map=r,s},dse=(e,t)=>{const{duration:n,segmentUrls:i=[],periodStart:r}=e;if(!n&&!t||n&&t)throw new Error(gu.SEGMENT_TIME_UNSPECIFIED);const s=i.map(l=>cse(e,l));let a;return n&&(a=Pb(e)),t&&(a=mP(e,t)),a.map((l,u)=>{if(s[u]){const c=s[u],d=e.timescale||1,f=e.presentationTimeOffset||0;return c.timeline=l.timeline,c.duration=l.duration,c.number=l.number,c.presentationTime=r+(l.time-f)/d,c}}).filter(l=>l)},fse=({attributes:e,segmentInfo:t})=>{let n,i;t.template?(i=use,n=Wn(e,t.template)):t.base?(i=hP,n=Wn(e,t.base)):t.list&&(i=dse,n=Wn(e,t.list));const r={attributes:e};if(!i)return r;const s=i(n,t.segmentTimeline);if(n.duration){const{duration:a,timescale:o=1}=n;n.duration=a/o}else s.length?n.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):n.duration=0;return r.attributes=n,r.segments=s,t.base&&n.indexRange&&(r.sidx=s[0],r.segments=[]),r},hse=e=>e.map(fse),hn=(e,t)=>fP(e.childNodes).filter(({tagName:n})=>n===t),qd=e=>e.textContent.trim(),pse=e=>parseFloat(e.split("/").reduce((t,n)=>t/n)),Sl=e=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!o)return 0;const[l,u,c,d,f,h]=o.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(c||0)*86400+parseFloat(d||0)*3600+parseFloat(f||0)*60+parseFloat(h||0)},mse=e=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),Date.parse(e)),nC={mediaPresentationDuration(e){return Sl(e)},availabilityStartTime(e){return mse(e)/1e3},minimumUpdatePeriod(e){return Sl(e)},suggestedPresentationDelay(e){return Sl(e)},type(e){return e},timeShiftBufferDepth(e){return Sl(e)},start(e){return Sl(e)},width(e){return parseInt(e,10)},height(e){return parseInt(e,10)},bandwidth(e){return parseInt(e,10)},frameRate(e){return pse(e)},startNumber(e){return parseInt(e,10)},timescale(e){return parseInt(e,10)},presentationTimeOffset(e){return parseInt(e,10)},duration(e){const t=parseInt(e,10);return isNaN(t)?Sl(e):t},d(e){return parseInt(e,10)},t(e){return parseInt(e,10)},r(e){return parseInt(e,10)},presentationTime(e){return parseInt(e,10)},DEFAULT(e){return e}},Pn=e=>e&&e.attributes?fP(e.attributes).reduce((t,n)=>{const i=nC[n.name]||nC.DEFAULT;return t[n.name]=i(n.value),t},{}):{},gse={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},Mm=(e,t)=>t.length?mu(e.map(function(n){return t.map(function(i){const r=qd(i),s=Pm(n.baseUrl,r),a=Wn(Pn(i),{baseUrl:s});return s!==r&&!a.serviceLocation&&n.serviceLocation&&(a.serviceLocation=n.serviceLocation),a})})):e,Mb=e=>{const t=hn(e,"SegmentTemplate")[0],n=hn(e,"SegmentList")[0],i=n&&hn(n,"SegmentURL").map(d=>Wn({tag:"SegmentURL"},Pn(d))),r=hn(e,"SegmentBase")[0],s=n||t,a=s&&hn(s,"SegmentTimeline")[0],o=n||r||t,l=o&&hn(o,"Initialization")[0],u=t&&Pn(t);u&&l?u.initialization=l&&Pn(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:a&&hn(a,"S").map(d=>Pn(d)),list:n&&Wn(Pn(n),{segmentUrls:i,initialization:Pn(l)}),base:r&&Wn(Pn(r),{initialization:Pn(l)})};return Object.keys(c).forEach(d=>{c[d]||delete c[d]}),c},vse=(e,t,n)=>i=>{const r=hn(i,"BaseURL"),s=Mm(t,r),a=Wn(e,Pn(i)),o=Mb(i);return s.map(l=>({segmentInfo:Wn(n,o),attributes:Wn(a,l)}))},yse=e=>e.reduce((t,n)=>{const i=Pn(n);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const r=gse[i.schemeIdUri];if(r){t[r]={attributes:i};const s=hn(n,"cenc:pssh")[0];if(s){const a=qd(s);t[r].pssh=a&&rP(a)}}return t},{}),_se=e=>{if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof e.value!="string"?[]:e.value.split(";")).map(n=>{let i,r;return r=n,/^CC\d=/.test(n)?[i,r]=n.split("="):/^CC\d$/.test(n)&&(i=n),{channel:i,language:r}});if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof e.value!="string"?[]:e.value.split(";")).map(n=>{const i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){const[r,s=""]=n.split("=");i.channel=r,i.language=n,s.split(",").forEach(a=>{const[o,l]=a.split(":");o==="lang"?i.language=l:o==="er"?i.easyReader=Number(l):o==="war"?i.aspectRatio=Number(l):o==="3D"&&(i["3D"]=Number(l))})}else i.language=n;return i.channel&&(i.channel="SERVICE"+i.channel),i})},bse=e=>mu(hn(e.node,"EventStream").map(t=>{const n=Pn(t),i=n.schemeIdUri;return hn(t,"Event").map(r=>{const s=Pn(r),a=s.presentationTime||0,o=n.timescale||1,l=s.duration||0,u=a/o+e.attributes.start;return{schemeIdUri:i,value:n.value,id:s.id,start:u,end:u+l/o,messageData:qd(r)||s.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),Tse=(e,t,n)=>i=>{const r=Pn(i),s=Mm(t,hn(i,"BaseURL")),a=hn(i,"Role")[0],o={role:Pn(a)};let l=Wn(e,r,o);const u=hn(i,"Accessibility")[0],c=_se(Pn(u));c&&(l=Wn(l,{captionServices:c}));const d=hn(i,"Label")[0];if(d&&d.childNodes.length){const g=d.childNodes[0].nodeValue.trim();l=Wn(l,{label:g})}const f=yse(hn(i,"ContentProtection"));Object.keys(f).length&&(l=Wn(l,{contentProtection:f}));const h=Mb(i),m=hn(i,"Representation"),p=Wn(n,h);return mu(m.map(vse(l,s,p)))},Ase=(e,t)=>(n,i)=>{const r=Mm(t,hn(n.node,"BaseURL")),s=Wn(e,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);const a=hn(n.node,"AdaptationSet"),o=Mb(n.node);return mu(a.map(Tse(s,r,o)))},Sse=(e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;const n=Wn({serverURL:qd(e[0])},Pn(e[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},xse=({attributes:e,priorPeriodAttributes:t,mpdType:n})=>typeof e.start=="number"?e.start:t&&typeof t.start=="number"&&typeof t.duration=="number"?t.start+t.duration:!t&&n==="static"?0:null,Ese=(e,t={})=>{const{manifestUri:n="",NOW:i=Date.now(),clientOffset:r=0,eventHandler:s=function(){}}=t,a=hn(e,"Period");if(!a.length)throw new Error(gu.INVALID_NUMBER_OF_PERIOD);const o=hn(e,"Location"),l=Pn(e),u=Mm([{baseUrl:n}],hn(e,"BaseURL")),c=hn(e,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=i,l.clientOffset=r,o.length&&(l.locations=o.map(qd));const d=[];return a.forEach((f,h)=>{const m=Pn(f),p=d[h-1];m.start=xse({attributes:m,priorPeriodAttributes:p?p.attributes:null,mpdType:l.type}),d.push({node:f,attributes:m})}),{locations:l.locations,contentSteeringInfo:Sse(c,s),representationInfo:mu(d.map(Ase(l,u))),eventStream:mu(d.map(bse))}},gP=e=>{if(e==="")throw new Error(gu.DASH_EMPTY_MANIFEST);const t=new Mre.DOMParser;let n,i;try{n=t.parseFromString(e,"application/xml"),i=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch(r){}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(gu.DASH_INVALID_XML);return i},Cse=e=>{const t=hn(e,"UTCTiming")[0];if(!t)return null;const n=Pn(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(gu.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},wse=(e,t={})=>{const n=Ese(gP(e),t),i=hse(n.representationInfo);return rse({dashPlaylists:i,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:n.eventStream})},Dse=e=>Cse(gP(e));var Iv,iC;function kse(){if(iC)return Iv;iC=1;var e=Math.pow(2,32),t=function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r;return i.getBigUint64?(r=i.getBigUint64(0),r<Number.MAX_SAFE_INTEGER?Number(r):r):i.getUint32(0)*e+i.getUint32(4)};return Iv={getUint64:t,MAX_UINT32:e},Iv}var Pv,rC;function Ose(){if(rC)return Pv;rC=1;var e=kse().getUint64,t=function(n){var i=new DataView(n.buffer,n.byteOffset,n.byteLength),r={version:n[0],flags:new Uint8Array(n.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8)},s=12;r.version===0?(r.earliestPresentationTime=i.getUint32(s),r.firstOffset=i.getUint32(s+4),s+=8):(r.earliestPresentationTime=e(n.subarray(s)),r.firstOffset=e(n.subarray(s+8)),s+=16),s+=2;var a=i.getUint16(s);for(s+=2;a>0;s+=12,a--)r.references.push({referenceType:(n[s]&128)>>>7,referencedSize:i.getUint32(s)&2147483647,subsegmentDuration:i.getUint32(s+4),startsWithSap:!!(n[s+8]&128),sapType:(n[s+8]&112)>>>4,sapDeltaTime:i.getUint32(s+8)&268435455});return r};return Pv=t,Pv}var Ise=Ose();const Pse=ao(Ise);var Rse=rt([73,68,51]),Lse=function(t,n){n===void 0&&(n=0),t=rt(t);var i=t[n+5],r=t[n+6]<<21|t[n+7]<<14|t[n+8]<<7|t[n+9],s=(i&16)>>4;return s?r+20:r+10},Ic=function e(t,n){return n===void 0&&(n=0),t=rt(t),t.length-n<10||!fn(t,Rse,{offset:n})?n:(n+=Lse(t,n),e(t,n))},sC=function(t){return typeof t=="string"?uP(t):t},Mse=function(t){return Array.isArray(t)?t.map(function(n){return sC(n)}):[sC(t)]},Nse=function e(t,n,i){i===void 0&&(i=!1),n=Mse(n),t=rt(t);var r=[];if(!n.length)return r;for(var s=0;s<t.length;){var a=(t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3])>>>0,o=t.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>t.length){if(i)break;l=t.length}var u=t.subarray(s+8,l);fn(o,n[0])&&(n.length===1?r.push(u):r.push.apply(r,e(u,n.slice(1),i))),s=l}return r},lh={EBML:rt([26,69,223,163]),DocType:rt([66,130]),Segment:rt([24,83,128,103]),SegmentInfo:rt([21,73,169,102]),Tracks:rt([22,84,174,107]),Track:rt([174]),TrackNumber:rt([215]),DefaultDuration:rt([35,227,131]),TrackEntry:rt([174]),TrackType:rt([131]),FlagDefault:rt([136]),CodecID:rt([134]),CodecPrivate:rt([99,162]),VideoTrack:rt([224]),AudioTrack:rt([225]),Cluster:rt([31,67,182,117]),Timestamp:rt([231]),TimestampScale:rt([42,215,177]),BlockGroup:rt([160]),BlockDuration:rt([155]),Block:rt([161]),SimpleBlock:rt([163])},vy=[128,64,32,16,8,4,2,1],Bse=function(t){for(var n=1,i=0;i<vy.length&&!(t&vy[i]);i++)n++;return n},mp=function(t,n,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1);var s=Bse(t[n]),a=t.subarray(n,n+s);return i&&(a=Array.prototype.slice.call(t,n,n+s),a[0]^=vy[s-1]),{length:s,value:wre(a,{signed:r}),bytes:a}},aC=function e(t){return typeof t=="string"?t.match(/.{1,2}/g).map(function(n){return e(n)}):typeof t=="number"?Dre(t):t},Fse=function(t){return Array.isArray(t)?t.map(function(n){return aC(n)}):[aC(t)]},$se=function e(t,n,i){if(i>=n.length)return n.length;var r=mp(n,i,!1);if(fn(t.bytes,r.bytes))return i;var s=mp(n,i+r.length);return e(t,n,i+s.length+s.value+r.length)},oC=function e(t,n){n=Fse(n),t=rt(t);var i=[];if(!n.length)return i;for(var r=0;r<t.length;){var s=mp(t,r,!1),a=mp(t,r+s.length),o=r+s.length+a.length;a.value===127&&(a.value=$se(s,t,o),a.value!==t.length&&(a.value-=o));var l=o+a.value>t.length?t.length:o+a.value,u=t.subarray(o,l);fn(n[0],s.bytes)&&(n.length===1?i.push(u):i=i.concat(e(u,n.slice(1))));var c=s.length+a.length+u.length;r+=c}return i},Use=rt([0,0,0,1]),Vse=rt([0,0,1]),jse=rt([0,0,3]),Hse=function(t){for(var n=[],i=1;i<t.length-2;)fn(t.subarray(i,i+3),jse)&&(n.push(i+2),i++),i++;if(n.length===0)return t;var r=t.length-n.length,s=new Uint8Array(r),a=0;for(i=0;i<r;a++,i++)a===n[0]&&(a++,n.shift()),s[i]=t[a];return s},vP=function(t,n,i,r){t=rt(t),i=[].concat(i);for(var s=0,a,o=0;s<t.length&&(o<r||a);){var l=void 0;if(fn(t.subarray(s),Use)?l=4:fn(t.subarray(s),Vse)&&(l=3),!l){s++;continue}if(o++,a)return Hse(t.subarray(a,s));var u=void 0;n==="h264"?u=t[s+l]&31:n==="h265"&&(u=t[s+l]>>1&63),i.indexOf(u)!==-1&&(a=s+l),s+=l+(n==="h264"?1:2)}return t.subarray(0,0)},zse=function(t,n,i){return vP(t,"h264",n,i)},qse=function(t,n,i){return vP(t,"h265",n,i)},xi={webm:rt([119,101,98,109]),matroska:rt([109,97,116,114,111,115,107,97]),flac:rt([102,76,97,67]),ogg:rt([79,103,103,83]),ac3:rt([11,119]),riff:rt([82,73,70,70]),avi:rt([65,86,73]),wav:rt([87,65,86,69]),"3gp":rt([102,116,121,112,51,103]),mp4:rt([102,116,121,112]),fmp4:rt([115,116,121,112]),mov:rt([102,116,121,112,113,116]),moov:rt([109,111,111,118]),moof:rt([109,111,111,102])},vu={aac:function(t){var n=Ic(t);return fn(t,[255,16],{offset:n,mask:[255,22]})},mp3:function(t){var n=Ic(t);return fn(t,[255,2],{offset:n,mask:[255,6]})},webm:function(t){var n=oC(t,[lh.EBML,lh.DocType])[0];return fn(n,xi.webm)},mkv:function(t){var n=oC(t,[lh.EBML,lh.DocType])[0];return fn(n,xi.matroska)},mp4:function(t){if(vu["3gp"](t)||vu.mov(t))return!1;if(fn(t,xi.mp4,{offset:4})||fn(t,xi.fmp4,{offset:4})||fn(t,xi.moof,{offset:4})||fn(t,xi.moov,{offset:4}))return!0},mov:function(t){return fn(t,xi.mov,{offset:4})},"3gp":function(t){return fn(t,xi["3gp"],{offset:4})},ac3:function(t){var n=Ic(t);return fn(t,xi.ac3,{offset:n})},ts:function(t){if(t.length<189&&t.length>=1)return t[0]===71;for(var n=0;n+188<t.length&&n<188;){if(t[n]===71&&t[n+188]===71)return!0;n+=1}return!1},flac:function(t){var n=Ic(t);return fn(t,xi.flac,{offset:n})},ogg:function(t){return fn(t,xi.ogg)},avi:function(t){return fn(t,xi.riff)&&fn(t,xi.avi,{offset:8})},wav:function(t){return fn(t,xi.riff)&&fn(t,xi.wav,{offset:8})},h264:function(t){return zse(t,7,3).length},h265:function(t){return qse(t,[32,33],3).length}},yy=Object.keys(vu).filter(function(e){return e!=="ts"&&e!=="h264"&&e!=="h265"}).concat(["ts","h264","h265"]);yy.forEach(function(e){var t=vu[e];vu[e]=function(n){return t(rt(n))}});var Wse=vu,Nb=function(t){t=rt(t);for(var n=0;n<yy.length;n++){var i=yy[n];if(Wse[i](t))return i}return""},Gse=function(t){return Nse(t,["moof"]).length>0},Rv,lC;function Yse(){if(lC)return Rv;lC=1;var e=9e4,t,n,i,r,s,a,o;return t=function(l){return l*e},n=function(l,u){return l*u},i=function(l){return l/e},r=function(l,u){return l/u},s=function(l,u){return t(r(l,u))},a=function(l,u){return n(i(l),u)},o=function(l,u,c){return i(c?l:l-u)},Rv={ONE_SECOND_IN_TS:e,secondsToVideoTs:t,secondsToAudioTs:n,videoTsToSeconds:i,audioTsToSeconds:r,audioTsToVideoTs:s,videoTsToAudioTs:a,metadataTsToSeconds:o},Rv}var Po=Yse();/**
 * @license
 * Video.js 8.23.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var _y="8.23.4";const Qs={},Za=function(e,t){return Qs[e]=Qs[e]||[],t&&(Qs[e]=Qs[e].concat(t)),Qs[e]},Kse=function(e,t){Za(e,t)},yP=function(e,t){const n=Za(e).indexOf(t);return n<=-1?!1:(Qs[e]=Qs[e].slice(),Qs[e].splice(n,1),!0)},Xse=function(e,t){Za(e,[].concat(t).map(n=>{const i=(...r)=>(yP(e,i),n(...r));return i}))},gp={prefixed:!0},Oh=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],uC=Oh[0];let Pc;for(let e=0;e<Oh.length;e++)if(Oh[e][1]in Ve){Pc=Oh[e];break}if(Pc){for(let e=0;e<Pc.length;e++)gp[uC[e]]=Pc[e];gp.prefixed=Pc[0]!==uC[0]}let Ii=[];const Qse=(e,t,n)=>(i,r,s)=>{const a=t.levels[r],o=new RegExp("^(".concat(a,")$"));let l=e;if(i!=="log"&&s.unshift(i.toUpperCase()+":"),n&&(l="%c".concat(e),s.unshift(n)),s.unshift(l+":"),Ii){Ii.push([].concat(s));const c=Ii.length-1e3;Ii.splice(0,c>0?c:0)}if(!oe.console)return;let u=oe.console[i];!u&&i==="debug"&&(u=oe.console.info||oe.console.log),!(!u||!a||!o.test(i))&&u[Array.isArray(s)?"apply":"call"](oe.console,s)};function by(e,t=":",n=""){let i="info",r;function s(...a){r("log",i,a)}return r=Qse(e,s,n),s.createLogger=(a,o,l)=>{const u=o!==void 0?o:t,c=l!==void 0?l:n,d="".concat(e," ").concat(u," ").concat(a);return by(d,u,c)},s.createNewLogger=(a,o,l)=>by(a,o,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error('"'.concat(a,'" in not a valid log level'));i=a}return i},s.history=()=>Ii?[].concat(Ii):[],s.history.filter=a=>(Ii||[]).filter(o=>new RegExp(".*".concat(a,".*")).test(o[0])),s.history.clear=()=>{Ii&&(Ii.length=0)},s.history.disable=()=>{Ii!==null&&(Ii.length=0,Ii=null)},s.history.enable=()=>{Ii===null&&(Ii=[])},s.error=(...a)=>r("error",i,a),s.warn=(...a)=>r("warn",i,a),s.debug=(...a)=>r("debug",i,a),s}const St=by("VIDEOJS"),_P=St.createLogger,Jse=Object.prototype.toString,bP=function(e){return Ds(e)?Object.keys(e):[]};function Wl(e,t){bP(e).forEach(n=>t(e[n],n))}function TP(e,t,n=0){return bP(e).reduce((i,r)=>t(i,e[r],r),n)}function Ds(e){return!!e&&typeof e=="object"}function yu(e){return Ds(e)&&Jse.call(e)==="[object Object]"&&e.constructor===Object}function Ht(...e){const t={};return e.forEach(n=>{n&&Wl(n,(i,r)=>{if(!yu(i)){t[r]=i;return}yu(t[r])||(t[r]={}),t[r]=Ht(t[r],i)})}),t}function AP(e={}){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];t.push(i)}return t}function Nm(e,t,n,i=!0){const r=a=>Object.defineProperty(e,t,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=n();return r(a),a}};return i&&(s.set=r),Object.defineProperty(e,t,s)}var Zse=Object.freeze({__proto__:null,each:Wl,reduce:TP,isObject:Ds,isPlain:yu,merge:Ht,values:AP,defineLazyProperty:Nm});let Bb=!1,SP=null,Kr=!1,xP,EP=!1,Gl=!1,Yl=!1,ks=!1,Fb=null,Bm=null;const eae=!!(oe.cast&&oe.cast.framework&&oe.cast.framework.CastReceiverContext);let CP=null,vp=!1,Fm=!1,yp=!1,$m=!1,_p=!1,bp=!1,Tp=!1;const bd=!!(Nu()&&("ontouchstart"in oe||oe.navigator.maxTouchPoints||oe.DocumentTouch&&oe.document instanceof oe.DocumentTouch)),Fa=oe.navigator&&oe.navigator.userAgentData;Fa&&Fa.platform&&Fa.brands&&(Kr=Fa.platform==="Android",Gl=!!Fa.brands.find(e=>e.brand==="Microsoft Edge"),Yl=!!Fa.brands.find(e=>e.brand==="Chromium"),ks=!Gl&&Yl,Fb=Bm=(Fa.brands.find(e=>e.brand==="Chromium")||{}).version||null,Fm=Fa.platform==="Windows");if(!Yl){const e=oe.navigator&&oe.navigator.userAgent||"";Bb=/iPod/i.test(e),SP=(function(){const t=e.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null})(),Kr=/Android/i.test(e),xP=(function(){const t=e.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;const n=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return n&&i?parseFloat(t[1]+"."+t[2]):n||null})(),EP=/Firefox/i.test(e),Gl=/Edg/i.test(e),Yl=/Chrome/i.test(e)||/CriOS/i.test(e),ks=!Gl&&Yl,Fb=Bm=(function(){const t=e.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null})(),CP=(function(){const t=/MSIE\s(\d+)\.\d/.exec(e);let n=t&&parseFloat(t[1]);return!n&&/Trident\/7.0/i.test(e)&&/rv:11.0/.test(e)&&(n=11),n})(),_p=/Tizen/i.test(e),bp=/Web0S/i.test(e),Tp=_p||bp,vp=/Safari/i.test(e)&&!ks&&!Kr&&!Gl&&!Tp,Fm=/Windows/i.test(e),yp=/iPad/i.test(e)||vp&&bd&&!/iPhone/i.test(e),$m=/iPhone/i.test(e)&&!yp}const fi=$m||yp||Bb,Um=(vp||fi)&&!ks;var wP=Object.freeze({__proto__:null,get IS_IPOD(){return Bb},get IOS_VERSION(){return SP},get IS_ANDROID(){return Kr},get ANDROID_VERSION(){return xP},get IS_FIREFOX(){return EP},get IS_EDGE(){return Gl},get IS_CHROMIUM(){return Yl},get IS_CHROME(){return ks},get CHROMIUM_VERSION(){return Fb},get CHROME_VERSION(){return Bm},IS_CHROMECAST_RECEIVER:eae,get IE_VERSION(){return CP},get IS_SAFARI(){return vp},get IS_WINDOWS(){return Fm},get IS_IPAD(){return yp},get IS_IPHONE(){return $m},get IS_TIZEN(){return _p},get IS_WEBOS(){return bp},get IS_SMART_TV(){return Tp},TOUCH_ENABLED:bd,IS_IOS:fi,IS_ANY_SAFARI:Um});function cC(e){return typeof e=="string"&&!!e.trim()}function tae(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Nu(){return Ve===oe.document}function Bu(e){return Ds(e)&&e.nodeType===1}function DP(){try{return oe.parent!==oe.self}catch(e){return!0}}function kP(e){return function(t,n){if(!cC(t))return Ve[e](null);cC(n)&&(n=Ve.querySelector(n));const i=Bu(n)?n:Ve;return i[e]&&i[e](t)}}function lt(e="div",t={},n={},i){const r=Ve.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(s){const a=t[s];s==="textContent"?co(r,a):(r[s]!==a||s==="tabIndex")&&(r[s]=a)}),Object.getOwnPropertyNames(n).forEach(function(s){r.setAttribute(s,n[s])}),i&&$b(r,i),r}function co(e,t){return typeof e.textContent>"u"?e.innerText=t:e.textContent=t,e}function Ty(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Kc(e,t){return tae(t),e.classList.contains(t)}function zo(e,...t){return e.classList.add(...t.reduce((n,i)=>n.concat(i.split(/\s+/)),[])),e}function Vm(e,...t){return e?(e.classList.remove(...t.reduce((n,i)=>n.concat(i.split(/\s+/)),[])),e):(St.warn("removeClass was called with an element that doesn't exist"),null)}function OP(e,t,n){return typeof n=="function"&&(n=n(e,t)),typeof n!="boolean"&&(n=void 0),t.split(/\s+/).forEach(i=>e.classList.toggle(i,n)),e}function IP(e,t){Object.getOwnPropertyNames(t).forEach(function(n){const i=t[n];i===null||typeof i>"u"||i===!1?e.removeAttribute(n):e.setAttribute(n,i===!0?"":i)})}function qa(e){const t={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(e&&e.attributes&&e.attributes.length>0){const i=e.attributes;for(let r=i.length-1;r>=0;r--){const s=i[r].name;let a=i[r].value;n.includes(s)&&(a=a!==null),t[s]=a}}return t}function PP(e,t){return e.getAttribute(t)}function _u(e,t,n){e.setAttribute(t,n)}function jm(e,t){e.removeAttribute(t)}function RP(){Ve.body.focus(),Ve.onselectstart=function(){return!1}}function LP(){Ve.onselectstart=function(){return!0}}function bu(e){if(e&&e.getBoundingClientRect&&e.parentNode){const t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(i=>{t[i]!==void 0&&(n[i]=t[i])}),n.height||(n.height=parseFloat(Tu(e,"height"))),n.width||(n.width=parseFloat(Tu(e,"width"))),n}}function Td(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};const t=e.offsetWidth,n=e.offsetHeight;let i=0,r=0;for(;e.offsetParent&&e!==Ve[gp.fullscreenElement];)i+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:i,top:r,width:t,height:n}}function Hm(e,t){const n={x:0,y:0};if(fi){let c=e;for(;c&&c.nodeName.toLowerCase()!=="html";){const d=Tu(c,"transform");if(/^matrix/.test(d)){const f=d.slice(7,-1).split(/,\s/).map(Number);n.x+=f[4],n.y+=f[5]}else if(/^matrix3d/.test(d)){const f=d.slice(9,-1).split(/,\s/).map(Number);n.x+=f[12],n.y+=f[13]}if(c.assignedSlot&&c.assignedSlot.parentElement&&oe.WebKitCSSMatrix){const f=oe.getComputedStyle(c.assignedSlot.parentElement).transform,h=new oe.WebKitCSSMatrix(f);n.x+=h.m41,n.y+=h.m42}c=c.parentNode||c.host}}const i={},r=Td(t.target),s=Td(e),a=s.width,o=s.height;let l=t.offsetY-(s.top-r.top),u=t.offsetX-(s.left-r.left);return t.changedTouches&&(u=t.changedTouches[0].pageX-s.left,l=t.changedTouches[0].pageY+s.top,fi&&(u-=n.x,l-=n.y)),i.y=1-Math.max(0,Math.min(1,l/o)),i.x=Math.max(0,Math.min(1,u/a)),i}function MP(e){return Ds(e)&&e.nodeType===3}function zm(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function NP(e){return typeof e=="function"&&(e=e()),(Array.isArray(e)?e:[e]).map(t=>{if(typeof t=="function"&&(t=t()),Bu(t)||MP(t))return t;if(typeof t=="string"&&/\S/.test(t))return Ve.createTextNode(t)}).filter(t=>t)}function $b(e,t){return NP(t).forEach(n=>e.appendChild(n)),e}function BP(e,t){return $b(zm(e),t)}function Ad(e){return e.button===void 0&&e.buttons===void 0||e.button===0&&e.buttons===void 0||e.type==="mouseup"&&e.button===0&&e.buttons===0||e.type==="mousedown"&&e.button===0&&e.buttons===0?!0:!(e.button!==0||e.buttons!==1)}const eo=kP("querySelector"),FP=kP("querySelectorAll");function Tu(e,t){if(!e||!t)return"";if(typeof oe.getComputedStyle=="function"){let n;try{n=oe.getComputedStyle(e)}catch(i){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}function $P(e){[...Ve.styleSheets].forEach(t=>{try{const n=[...t.cssRules].map(r=>r.cssText).join(""),i=Ve.createElement("style");i.textContent=n,e.document.head.appendChild(i)}catch(n){const i=Ve.createElement("link");i.rel="stylesheet",i.type=t.type,i.media=t.media.mediaText,i.href=t.href,e.document.head.appendChild(i)}})}var UP=Object.freeze({__proto__:null,isReal:Nu,isEl:Bu,isInFrame:DP,createEl:lt,textContent:co,prependTo:Ty,hasClass:Kc,addClass:zo,removeClass:Vm,toggleClass:OP,setAttributes:IP,getAttributes:qa,getAttribute:PP,setAttribute:_u,removeAttribute:jm,blockTextSelection:RP,unblockTextSelection:LP,getBoundingClientRect:bu,findPosition:Td,getPointerPosition:Hm,isTextNode:MP,emptyEl:zm,normalizeContent:NP,appendContent:$b,insertContent:BP,isSingleLeftClick:Ad,$:eo,$$:FP,computedStyle:Tu,copyStyleSheetsToWindow:$P});let VP=!1,Ay;const nae=function(){if(Ay.options.autoSetup===!1)return;const e=Array.prototype.slice.call(Ve.getElementsByTagName("video")),t=Array.prototype.slice.call(Ve.getElementsByTagName("audio")),n=Array.prototype.slice.call(Ve.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(let r=0,s=i.length;r<s;r++){const a=i[r];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&Ay(a);else{Sy(1);break}}else VP||Sy(1)};function Sy(e,t){Nu()&&(t&&(Ay=t),oe.setTimeout(nae,e))}function xy(){VP=!0,oe.removeEventListener("load",xy)}Nu()&&(Ve.readyState==="complete"?xy():oe.addEventListener("load",xy));const jP=function(e){const t=Ve.createElement("style");return t.className=e,t},HP=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};var ki=new WeakMap;const iae=3;let rae=iae;function pr(){return rae++}function dC(e,t){if(!ki.has(e))return;const n=ki.get(e);n.handlers[t].length===0&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&ki.delete(e)}function Ub(e,t,n,i){n.forEach(function(r){e(t,r,i)})}function qm(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){const i=e||oe.event;e={};const r=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in i)r.includes(s)||s==="returnValue"&&i.preventDefault||(e[s]=i[s]);if(e.target||(e.target=e.srcElement||Ve),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,e.clientX!==null&&e.clientX!==void 0){const s=Ve.documentElement,a=Ve.body;e.pageX=e.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}e.which=e.charCode||e.keyCode,e.button!==null&&e.button!==void 0&&(e.button=e.button&1?0:e.button&4?1:e.button&2?2:0)}return e.fixed_=!0,e}let uh;const sae=function(){if(typeof uh!="boolean"){uh=!1;try{const e=Object.defineProperty({},"passive",{get(){uh=!0}});oe.addEventListener("test",null,e),oe.removeEventListener("test",null,e)}catch(e){}}return uh},aae=["touchstart","touchmove"];function Gi(e,t,n){if(Array.isArray(t))return Ub(Gi,e,t,n);ki.has(e)||ki.set(e,{});const i=ki.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=pr()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(r,s){if(i.disabled)return;r=qm(r);const a=i.handlers[r.type];if(a){const o=a.slice(0);for(let l=0,u=o.length;l<u&&!r.isImmediatePropagationStopped();l++)try{o[l].call(e,r,s)}catch(c){St.error(c)}}}),i.handlers[t].length===1)if(e.addEventListener){let r=!1;sae()&&aae.indexOf(t)>-1&&(r={passive:!0}),e.addEventListener(t,i.dispatcher,r)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function hi(e,t,n){if(!ki.has(e))return;const i=ki.get(e);if(!i.handlers)return;if(Array.isArray(t))return Ub(hi,e,t,n);const r=function(a,o){i.handlers[o]=[],dC(a,o)};if(t===void 0){for(const a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&r(e,a);return}const s=i.handlers[t];if(s){if(!n){r(e,t);return}if(n.guid)for(let a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);dC(e,t)}}function Fu(e,t,n){const i=ki.has(e)?ki.get(e):{},r=e.parentNode||e.ownerDocument;if(typeof t=="string"?t={type:t,target:e}:t.target||(t.target=e),t=qm(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&t.bubbles===!0)Fu.call(null,r,t,n);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){ki.has(t.target)||ki.set(t.target,{});const s=ki.get(t.target);t.target[t.type]&&(s.disabled=!0,typeof t.target[t.type]=="function"&&t.target[t.type](),s.disabled=!1)}return!t.defaultPrevented}function Wm(e,t,n){if(Array.isArray(t))return Ub(Wm,e,t,n);const i=function(){hi(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||pr(),Gi(e,t,i)}function Vb(e,t,n){const i=function(){hi(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||pr(),Gi(e,t,i)}var oae=Object.freeze({__proto__:null,fixEvent:qm,on:Gi,off:hi,trigger:Fu,one:Wm,any:Vb});const mr=30,nn=function(e,t,n){t.guid||(t.guid=pr());const i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},Os=function(e,t){let n=oe.performance.now();return function(...r){const s=oe.performance.now();s-n>=t&&(e(...r),n=s)}},zP=function(e,t,n,i=oe){let r;const s=()=>{i.clearTimeout(r),r=null},a=function(){const o=this,l=arguments;let u=function(){r=null,u=null,n||e.apply(o,l)};!r&&n&&e.apply(o,l),i.clearTimeout(r),r=i.setTimeout(u,t)};return a.cancel=s,a};var lae=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:mr,bind_:nn,throttle:Os,debounce:zP});let Ec;class Yi{on(t,n){const i=this.addEventListener;this.addEventListener=()=>{},Gi(this,t,n),this.addEventListener=i}off(t,n){hi(this,t,n)}one(t,n){const i=this.addEventListener;this.addEventListener=()=>{},Wm(this,t,n),this.addEventListener=i}any(t,n){const i=this.addEventListener;this.addEventListener=()=>{},Vb(this,t,n),this.addEventListener=i}trigger(t){const n=t.type||t;typeof t=="string"&&(t={type:n}),t=qm(t),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](t),Fu(this,t)}queueTrigger(t){Ec||(Ec=new Map);const n=t.type||t;let i=Ec.get(this);i||(i=new Map,Ec.set(this,i));const r=i.get(n);i.delete(n),oe.clearTimeout(r);const s=oe.setTimeout(()=>{i.delete(n),i.size===0&&(i=null,Ec.delete(this)),this.trigger(t)},0);i.set(n,s)}}Yi.prototype.allowedEvents_={};Yi.prototype.addEventListener=Yi.prototype.on;Yi.prototype.removeEventListener=Yi.prototype.off;Yi.prototype.dispatchEvent=Yi.prototype.trigger;const Gm=e=>typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e,oa=e=>e instanceof Yi||!!e.eventBusEl_&&["on","one","off","trigger"].every(t=>typeof e[t]=="function"),uae=(e,t)=>{oa(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))},Ey=e=>typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length,Ap=(e,t,n)=>{if(!e||!e.nodeName&&!oa(e))throw new Error("Invalid target for ".concat(Gm(t),"#").concat(n,"; must be a DOM node or evented object."))},qP=(e,t,n)=>{if(!Ey(e))throw new Error("Invalid event type for ".concat(Gm(t),"#").concat(n,"; must be a non-empty string or array."))},WP=(e,t,n)=>{if(typeof e!="function")throw new Error("Invalid listener for ".concat(Gm(t),"#").concat(n,"; must be a function."))},Lv=(e,t,n)=>{const i=t.length<3||t[0]===e||t[0]===e.eventBusEl_;let r,s,a;return i?(r=e.eventBusEl_,t.length>=3&&t.shift(),[s,a]=t):(r=t[0],s=t[1],a=t[2]),Ap(r,e,n),qP(s,e,n),WP(a,e,n),a=nn(e,a),{isTargetingSelf:i,target:r,type:s,listener:a}},xo=(e,t,n,i)=>{Ap(e,e,t),e.nodeName?oae[t](e,n,i):e[t](n,i)},cae={on(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=Lv(this,e,"on");if(xo(n,"on",i,r),!t){const s=()=>this.off(n,i,r);s.guid=r.guid;const a=()=>this.off("dispose",s);a.guid=r.guid,xo(this,"on","dispose",s),xo(n,"on","dispose",a)}},one(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=Lv(this,e,"one");if(t)xo(n,"one",i,r);else{const s=(...a)=>{this.off(n,i,s),r.apply(null,a)};s.guid=r.guid,xo(n,"one",i,s)}},any(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=Lv(this,e,"any");if(t)xo(n,"any",i,r);else{const s=(...a)=>{this.off(n,i,s),r.apply(null,a)};s.guid=r.guid,xo(n,"any",i,s)}},off(e,t,n){if(!e||Ey(e))hi(this.eventBusEl_,e,t);else{const i=e,r=t;Ap(i,this,"off"),qP(r,this,"off"),WP(n,this,"off"),n=nn(this,n),this.off("dispose",n),i.nodeName?(hi(i,r,n),hi(i,"dispose",n)):oa(i)&&(i.off(r,n),i.off("dispose",n))}},trigger(e,t){Ap(this.eventBusEl_,this,"trigger");const n=e&&typeof e!="string"?e.type:e;if(!Ey(n))throw new Error("Invalid event type for ".concat(Gm(this),"#trigger; ")+"must be a non-empty string or object with a type key that has a non-empty value.");return Fu(this.eventBusEl_,e,t)}};function jb(e,t={}){const{eventBusKey:n}=t;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'.concat(n,'" does not refer to an element.'));e.eventBusEl_=e[n]}else e.eventBusEl_=lt("span",{className:"vjs-event-bus"});return Object.assign(e,cae),e.eventedCallbacks&&e.eventedCallbacks.forEach(i=>{i()}),e.on("dispose",()=>{e.off(),[e,e.el_,e.eventBusEl_].forEach(function(i){i&&ki.has(i)&&ki.delete(i)}),oe.setTimeout(()=>{e.eventBusEl_=null},0)}),e}const dae={state:{},setState(e){typeof e=="function"&&(e=e());let t;return Wl(e,(n,i)=>{this.state[i]!==n&&(t=t||{},t[i]={from:this.state[i],to:n}),this.state[i]=n}),t&&oa(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function GP(e,t){return Object.assign(e,dae),e.state=Object.assign({},e.state,t),typeof e.handleStateChanged=="function"&&oa(e)&&e.on("statechanged",e.handleStateChanged),e}const Xc=function(e){return typeof e!="string"?e:e.replace(/./,t=>t.toLowerCase())},An=function(e){return typeof e!="string"?e:e.replace(/./,t=>t.toUpperCase())},YP=function(e,t){return An(e)===An(t)};var fae=Object.freeze({__proto__:null,toLowerCase:Xc,toTitleCase:An,titleCaseEquals:YP});class Ie{constructor(t,n,i){if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Ht({},this.options_),n=this.options_=Ht(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const r=t&&t.id&&t.id()||"no_player";this.id_="".concat(r,"_component_").concat(pr())}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(r=>this.addClass(r)),["on","off","one","any","trigger"].forEach(r=>{this[r]=void 0}),n.evented!==!1&&(jb(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),GP(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(i),n.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(t={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(t.restoreEl?this.el_.parentNode.replaceChild(t.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(t){return t?(this.options_=Ht(this.options_,t),this.options_):this.options_}el(){return this.el_}createEl(t,n,i){return lt(t,n,i)}localize(t,n,i=t){const r=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[r],o=r&&r.split("-")[0],l=s&&s[o];let u=i;return a&&a[t]?u=a[t]:l&&l[t]&&(u=l[t]),n&&(u=u.replace(/\{(\d+)\}/g,function(c,d){const f=n[d-1];let h=f;return typeof f>"u"&&(h=c),h})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(t){return this.childIndex_[t]}getChild(t){if(t)return this.childNameIndex_[t]}getDescendant(...t){t=t.reduce((i,r)=>i.concat(r),[]);let n=this;for(let i=0;i<t.length;i++)if(n=n.getChild(t[i]),!n||!n.getChild)return;return n}setIcon(t,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",r=lt("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=Ve.createElementNS(i,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=Ve.createElementNS(i,"use");return s.appendChild(a),a.setAttributeNS(null,"href","#vjs-icon-".concat(t)),r.appendChild(s),this.iconIsSet_?n.replaceChild(r,n.querySelector(".vjs-icon-placeholder")):n.appendChild(r),this.iconIsSet_=!0,r}addChild(t,n={},i=this.children_.length){let r,s;if(typeof t=="string"){s=An(t);const a=n.componentClass||s;n.name=s;const o=Ie.getComponent(a);if(!o)throw new Error("Component ".concat(a," does not exist"));if(typeof o!="function")return null;r=new o(this.player_||this,n)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,typeof r.id=="function"&&(this.childIndex_[r.id()]=r),s=s||r.name&&An(r.name()),s&&(this.childNameIndex_[s]=r,this.childNameIndex_[Xc(s)]=r),typeof r.el=="function"&&r.el()){let a=null;this.children_[i+1]&&(this.children_[i+1].el_?a=this.children_[i+1].el_:Bu(this.children_[i+1])&&(a=this.children_[i+1])),this.contentEl().insertBefore(r.el(),a)}return r}removeChild(t){if(typeof t=="string"&&(t=this.getChild(t)),!t||!this.children_)return;let n=!1;for(let r=this.children_.length-1;r>=0;r--)if(this.children_[r]===t){n=!0,this.children_.splice(r,1);break}if(!n)return;t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[An(t.name())]=null,this.childNameIndex_[Xc(t.name())]=null;const i=t.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}initChildren(){const t=this.options_.children;if(t){const n=this.options_,i=a=>{const o=a.name;let l=a.opts;if(n[o]!==void 0&&(l=n[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(o,l);u&&(this[o]=u)};let r;const s=Ie.getComponent("Tech");Array.isArray(t)?r=t:r=Object.keys(t),r.concat(Object.keys(this.options_).filter(function(a){return!r.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=t[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=Ie.getComponent(a.opts.componentClass||An(a.name));return o&&!s.isTech(o)}).forEach(i)}}buildCSSClass(){return""}ready(t,n=!1){if(t){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(t);return}n?t.call(this):this.setTimeout(t,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(t,n){return eo(t,n||this.contentEl())}$$(t,n){return FP(t,n||this.contentEl())}hasClass(t){return Kc(this.el_,t)}addClass(...t){zo(this.el_,...t)}removeClass(...t){Vm(this.el_,...t)}toggleClass(t,n){OP(this.el_,t,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(t){return PP(this.el_,t)}setAttribute(t,n){_u(this.el_,t,n)}removeAttribute(t){jm(this.el_,t)}width(t,n){return this.dimension("width",t,n)}height(t,n){return this.dimension("height",t,n)}dimensions(t,n){this.width(t,!0),this.height(n)}dimension(t,n,i){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[t]=n:n==="auto"?this.el_.style[t]="":this.el_.style[t]=n+"px",i||this.trigger("componentresize");return}if(!this.el_)return 0;const r=this.el_.style[t],s=r.indexOf("px");return parseInt(s!==-1?r.slice(0,s):this.el_["offset"+An(t)],10)}currentDimension(t){let n=0;if(t!=="width"&&t!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Tu(this.el_,t),n=parseFloat(n),n===0||isNaN(n)){const i="offset".concat(An(t));n=this.el_[i]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const t=this.el_.getBoundingClientRect(),n={x:t.x,y:t.y,width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left},i={x:t.left+t.width/2,y:t.top+t.height/2,width:0,height:0,top:t.top+t.height/2,right:t.left+t.width/2,bottom:t.top+t.height/2,left:t.left+t.width/2};return{boundingClientRect:n,center:i}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(t){this.player_&&(t.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&t.stopPropagation(),this.player_.handleKeyDown(t))}handleKeyPress(t){this.handleKeyDown(t)}emitTapEvents(){let t=0,n=null;const i=10,r=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(n={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},t=oe.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(n){const l=o.touches[0].pageX-n.pageX,u=o.touches[0].pageY-n.pageY;Math.sqrt(l*l+u*u)>i&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){n=null,s===!0&&oe.performance.now()-t<r&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const t=nn(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});const i=function(r){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(t,n){var i;return t=nn(this,t),this.clearTimersOnDispose_(),i=oe.setTimeout(()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),t()},n),this.setTimeoutIds_.add(i),i}clearTimeout(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_.delete(t),oe.clearTimeout(t)),t}setInterval(t,n){t=nn(this,t),this.clearTimersOnDispose_();const i=oe.setInterval(t,n);return this.setIntervalIds_.add(i),i}clearInterval(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_.delete(t),oe.clearInterval(t)),t}requestAnimationFrame(t){this.clearTimersOnDispose_();var n;return t=nn(this,t),n=oe.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),t()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(t,n){this.namedRafs_.has(t)&&this.cancelNamedAnimationFrame(t),this.clearTimersOnDispose_(),n=nn(this,n);const i=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(t)&&this.namedRafs_.delete(t)});return this.namedRafs_.set(t,i),t}cancelNamedAnimationFrame(t){this.namedRafs_.has(t)&&(this.cancelAnimationFrame(this.namedRafs_.get(t)),this.namedRafs_.delete(t))}cancelAnimationFrame(t){return this.rafIds_.has(t)&&(this.rafIds_.delete(t),oe.cancelAnimationFrame(t)),t}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([t,n])=>{this[t].forEach((i,r)=>this[n](r))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(t){return(t||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(t){function n(s){const a=oe.getComputedStyle(s,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function i(s){return!(!n(s.parentElement)||!n(s)||s.style.opacity==="0"||oe.getComputedStyle(s).height==="0px"||oe.getComputedStyle(s).width==="0px")}function r(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const a={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(a.x<0||a.x>(Ve.documentElement.clientWidth||oe.innerWidth)||a.y<0||a.y>(Ve.documentElement.clientHeight||oe.innerHeight))return!1;let o=Ve.elementFromPoint(a.x,a.y);for(;o;){if(o===s)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return t||(t=this.el()),!!(r(t)&&i(t)&&(!t.parentElement||t.tabIndex>=0))}static registerComponent(t,n){if(typeof t!="string"||!t)throw new Error('Illegal component name, "'.concat(t,'"; must be a non-empty string.'));const i=Ie.getComponent("Tech"),r=i&&i.isTech(n),s=Ie===n||Ie.prototype.isPrototypeOf(n.prototype);if(r||!s){let o;throw r?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error('Illegal component, "'.concat(t,'"; ').concat(o,"."))}t=An(t),Ie.components_||(Ie.components_={});const a=Ie.getComponent("Player");if(t==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0){for(let u=0;u<l.length;u++)if(o[l[u]]!==null)throw new Error("Can not register Player component after player has been created.")}}return Ie.components_[t]=n,Ie.components_[Xc(t)]=n,n}static getComponent(t){if(!(!t||!Ie.components_))return Ie.components_[t]}}Ie.registerComponent("Component",Ie);function hae(e,t,n){if(typeof t!="number"||t<0||t>n)throw new Error("Failed to execute '".concat(e,"' on 'TimeRanges': The index provided (").concat(t,") is non-numeric or out of bounds (0-").concat(n,")."))}function fC(e,t,n,i){return hae(e,i,n.length-1),n[i][t]}function Mv(e){let t;return e===void 0||e.length===0?t={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:t={length:e.length,start:fC.bind(null,"start",0,e),end:fC.bind(null,"end",1,e)},oe.Symbol&&oe.Symbol.iterator&&(t[oe.Symbol.iterator]=()=>(e||[]).values()),t}function zr(e,t){return Array.isArray(e)?Mv(e):e===void 0||t===void 0?Mv():Mv([[e,t]])}const KP=function(e,t){e=e<0?0:e;let n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600);const s=Math.floor(t/60%60),a=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),r=r>0||a>0?r+":":"",i=((r||s>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n};let Hb=KP;function XP(e){Hb=e}function QP(){Hb=KP}function el(e,t=e){return Hb(e,t)}var pae=Object.freeze({__proto__:null,createTimeRanges:zr,createTimeRange:zr,setFormatTime:XP,resetFormatTime:QP,formatTime:el});function JP(e,t){let n=0,i,r;if(!t)return 0;(!e||!e.length)&&(e=zr(0,0));for(let s=0;s<e.length;s++)i=e.start(s),r=e.end(s),r>t&&(r=t),n+=r-i;return n/t}function _n(e){if(e instanceof _n)return e;typeof e=="number"?this.code=e:typeof e=="string"?this.message=e:Ds(e)&&(typeof e.code=="number"&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=_n.defaultMessages[this.code]||"")}_n.prototype.code=0;_n.prototype.message="";_n.prototype.status=null;_n.prototype.metadata=null;_n.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];_n.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};_n.MEDIA_ERR_CUSTOM=0;_n.prototype.MEDIA_ERR_CUSTOM=0;_n.MEDIA_ERR_ABORTED=1;_n.prototype.MEDIA_ERR_ABORTED=1;_n.MEDIA_ERR_NETWORK=2;_n.prototype.MEDIA_ERR_NETWORK=2;_n.MEDIA_ERR_DECODE=3;_n.prototype.MEDIA_ERR_DECODE=3;_n.MEDIA_ERR_SRC_NOT_SUPPORTED=4;_n.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;_n.MEDIA_ERR_ENCRYPTED=5;_n.prototype.MEDIA_ERR_ENCRYPTED=5;function Qc(e){return e!=null&&typeof e.then=="function"}function vs(e){Qc(e)&&e.then(null,t=>{})}const Cy=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((n,i,r)=>(e[i]&&(n[i]=e[i]),n),{cues:e.cues&&Array.prototype.map.call(e.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},mae=function(e){const t=e.$$("track"),n=Array.prototype.map.call(t,r=>r.track);return Array.prototype.map.call(t,function(r){const s=Cy(r.track);return r.src&&(s.src=r.src),s}).concat(Array.prototype.filter.call(e.textTracks(),function(r){return n.indexOf(r)===-1}).map(Cy))},gae=function(e,t){return e.forEach(function(n){const i=t.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(r=>i.addCue(r))}),t.textTracks()};var wy={textTracksToJson:mae,jsonToTextTracks:gae,trackToJson:Cy};const Nv="vjs-modal-dialog";class $u extends Ie{constructor(t,n){super(t,n),this.handleKeyDown_=i=>this.handleKeyDown(i),this.close_=i=>this.close(i),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=lt("div",{className:"".concat(Nv,"-content")},{role:"document"}),this.descEl_=lt("p",{className:"".concat(Nv,"-description vjs-control-text"),id:this.el().getAttribute("aria-describedby")}),co(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":"".concat(this.id(),"_description"),"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return"".concat(Nv," vjs-hidden ").concat(super.buildCSSClass())}label(){return this.localize(this.options_.label||"Modal Window")}description(){let t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(t){return typeof t=="boolean"&&this[t?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(t){if(typeof t=="boolean"){const n=this.closeable_=!!t;let i=this.getChild("closeButton");if(n&&!i){const r=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(i,"close",this.close_)}!n&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(t){const n=this.contentEl(),i=n.parentNode,r=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(n),this.empty(),BP(n,t),this.trigger("modalfill"),r?i.insertBefore(n,r):i.appendChild(n);const s=this.getChild("closeButton");s&&i.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),zm(this.contentEl()),this.trigger("modalempty")}content(t){return typeof t<"u"&&(this.content_=t),this.content_}conditionalFocus_(){const t=Ve.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(t)||n===t)&&(this.previouslyActiveEl_=t,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(t){if(this.trigger({type:"modalKeydown",originalEvent:t,target:this,bubbles:!0}),t.stopPropagation(),t.key==="Escape"&&this.closeable()){t.preventDefault(),this.close();return}if(t.key!=="Tab")return;const n=this.focusableEls_(),i=this.el_.querySelector(":focus");let r;for(let s=0;s<n.length;s++)if(i===n[s]){r=s;break}Ve.activeElement===this.el_&&(r=0),t.shiftKey&&r===0?(n[n.length-1].focus(),t.preventDefault()):!t.shiftKey&&r===n.length-1&&(n[0].focus(),t.preventDefault())}focusableEls_(){const t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,n=>(n instanceof oe.HTMLAnchorElement||n instanceof oe.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof oe.HTMLInputElement||n instanceof oe.HTMLSelectElement||n instanceof oe.HTMLTextAreaElement||n instanceof oe.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof oe.HTMLIFrameElement||n instanceof oe.HTMLObjectElement||n instanceof oe.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}$u.prototype.options_={pauseOnOpen:!0,temporary:!0};Ie.registerComponent("ModalDialog",$u);class tl extends Yi{constructor(t=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<t.length;n++)this.addTrack(t[n])}addTrack(t){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=()=>{this.trigger({track:t,type:"labelchange",target:this})},oa(t)&&t.addEventListener("labelchange",t.labelchange_)}removeTrack(t){let n;for(let i=0,r=this.length;i<r;i++)if(this[i]===t){n=this[i],n.off&&n.off(),this.tracks_.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(t){let n=null;for(let i=0,r=this.length;i<r;i++){const s=this[i];if(s.id===t){n=s;break}}return n}}tl.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const e in tl.prototype.allowedEvents_)tl.prototype["on"+e]=null;const Bv=function(e,t){for(let n=0;n<e.length;n++)!Object.keys(e[n]).length||t.id===e[n].id||(e[n].enabled=!1)};class ZP extends tl{constructor(t=[]){for(let n=t.length-1;n>=0;n--)if(t[n].enabled){Bv(t,t[n]);break}super(t),this.changing_=!1}addTrack(t){t.enabled&&Bv(this,t),super.addTrack(t),t.addEventListener&&(t.enabledChange_=()=>{this.changing_||(this.changing_=!0,Bv(this,t),this.changing_=!1,this.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))}removeTrack(t){super.removeTrack(t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)}}const Fv=function(e,t){for(let n=0;n<e.length;n++)!Object.keys(e[n]).length||t.id===e[n].id||(e[n].selected=!1)};class eR extends tl{constructor(t=[]){for(let n=t.length-1;n>=0;n--)if(t[n].selected){Fv(t,t[n]);break}super(t),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(t){t.selected&&Fv(this,t),super.addTrack(t),t.addEventListener&&(t.selectedChange_=()=>{this.changing_||(this.changing_=!0,Fv(this,t),this.changing_=!1,this.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))}removeTrack(t){super.removeTrack(t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)}}class zb extends tl{addTrack(t){super.addTrack(t),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),t.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(t){super.removeTrack(t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}toJSON(){return this.tracks_.map(t=>t.toJSON())}}class vae{constructor(t=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,i=t.length;n<i;n++)this.addTrackElement_(t[n])}addTrackElement_(t){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(t)===-1&&this.trackElements_.push(t)}getTrackElementByTrack_(t){let n;for(let i=0,r=this.trackElements_.length;i<r;i++)if(t===this.trackElements_[i].track){n=this.trackElements_[i];break}return n}removeTrackElement_(t){for(let n=0,i=this.trackElements_.length;n<i;n++)if(t===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class Sp{constructor(t){Sp.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(t){const n=this.length||0;let i=0;const r=t.length;this.cues_=t,this.length_=t.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(n<r)for(i=n;i<r;i++)s.call(this,i)}getCueById(t){let n=null;for(let i=0,r=this.length;i<r;i++){const s=this[i];if(s.id===t){n=s;break}}return n}}const yae={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},_ae={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},bae={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},hC={disabled:"disabled",hidden:"hidden",showing:"showing"};class qb extends Yi{constructor(t={}){super();const n={id:t.id||"vjs_track_"+pr(),kind:t.kind||"",language:t.language||""};let i=t.label||"";for(const r in n)Object.defineProperty(this,r,{get(){return n[r]},set(){}});Object.defineProperty(this,"label",{get(){return i},set(r){r!==i&&(i=r,this.trigger("labelchange"))}})}}const Wb=function(e){return new URL(e,Ve.baseURI)},tR=function(e){return new URL(e,Ve.baseURI).href},Gb=function(e){if(typeof e=="string"){const n=e.split("?")[0].replace(/\/+$/,"").match(/\.([^.\/]+)$/);return n?n[1].toLowerCase():""}return""},Ym=function(e,t=oe.location){return Wb(e).origin!==t.origin};var Tae=Object.freeze({__proto__:null,parseUrl:Wb,getAbsoluteURL:tR,getFileExtension:Gb,isCrossOrigin:Ym});const pC=function(e,t){const n=new oe.WebVTT.Parser(oe,oe.vttjs,oe.WebVTT.StringDecoder()),i=[];n.oncue=function(r){t.addCue(r)},n.onparsingerror=function(r){i.push(r)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(oe.console&&oe.console.groupCollapsed&&oe.console.groupCollapsed("Text Track parsing errors for ".concat(t.src)),i.forEach(r=>St.error(r)),oe.console&&oe.console.groupEnd&&oe.console.groupEnd()),n.flush()},mC=function(e,t){const n={uri:e},i=Ym(e);i&&(n.cors=i);const r=t.tech_.crossOrigin()==="use-credentials";r&&(n.withCredentials=r),iP(n,nn(this,function(s,a,o){if(s)return St.error(s,a);t.loaded_=!0,typeof oe.WebVTT!="function"?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){St.error("vttjs failed to load, stopping trying to process ".concat(t.src));return}return pC(o,t)}):pC(o,t)}))};class Wd extends qb{constructor(t={}){if(!t.tech)throw new Error("A tech was not provided.");const n=Ht(t,{kind:bae[t.kind]||"subtitles",language:t.language||t.srclang||""});let i=hC[n.mode]||"disabled";const r=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(i="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new Sp(this.cues_),a=new Sp(this.activeCues_);let o=!1;this.timeupdateHandler=nn(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),i!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return r},set(){}},mode:{get(){return i},set(u){hC[u]&&i!==u&&(i=u,!this.preload_&&i!=="disabled"&&this.cues.length===0&&mC(this.src,this),this.stopTracking(),i!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const u=this.tech_.currentTime(),c=[];for(let d=0,f=this.cues.length;d<f;d++){const h=this.cues[d];h.startTime<=u&&h.endTime>=u&&c.push(h)}if(o=!1,c.length!==this.activeCues_.length)o=!0;else for(let d=0;d<c.length;d++)this.activeCues_.indexOf(c[d])===-1&&(o=!0);return this.activeCues_=c,a.setCues_(this.activeCues_),a},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&mC(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(t){let n=t;if(!("getCueAsHTML"in n)){n=new oe.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(const r in t)r in n||(n[r]=t[r]);n.id=t.id,n.originalCue_=t}const i=this.tech_.textTracks();for(let r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}toJSON(){return wy.trackToJson(this)}removeCue(t){let n=this.cues_.length;for(;n--;){const i=this.cues_[n];if(i===t||i.originalCue_&&i.originalCue_===t){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}Wd.prototype.allowedEvents_={cuechange:"cuechange"};class nR extends qb{constructor(t={}){const n=Ht(t,{kind:_ae[t.kind]||""});super(n);let i=!1;Object.defineProperty(this,"enabled",{get(){return i},set(r){typeof r!="boolean"||r===i||(i=r,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class iR extends qb{constructor(t={}){const n=Ht(t,{kind:yae[t.kind]||""});super(n);let i=!1;Object.defineProperty(this,"selected",{get(){return i},set(r){typeof r!="boolean"||r===i||(i=r,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class pa extends Yi{constructor(t={}){super();let n;const i=new Wd(t);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return i}}}),n=pa.NONE,i.addEventListener("loadeddata",()=>{n=pa.LOADED,this.trigger({type:"load",target:this})})}}pa.prototype.allowedEvents_={load:"load"};pa.NONE=0;pa.LOADING=1;pa.LOADED=2;pa.ERROR=3;const ur={audio:{ListClass:ZP,TrackClass:nR,capitalName:"Audio"},video:{ListClass:eR,TrackClass:iR,capitalName:"Video"},text:{ListClass:zb,TrackClass:Wd,capitalName:"Text"}};Object.keys(ur).forEach(function(e){ur[e].getterName="".concat(e,"Tracks"),ur[e].privateName="".concat(e,"Tracks_")});const Au={remoteText:{ListClass:zb,TrackClass:Wd,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:vae,TrackClass:pa,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Di=Object.assign({},ur,Au);Au.names=Object.keys(Au);ur.names=Object.keys(ur);Di.names=[].concat(Au.names).concat(ur.names);function Aae(e,t,n,i,r={}){const s=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;const a=new Di.text.TrackClass(r);return s.addTrack(a),a}class gt extends Ie{constructor(t={},n=function(){}){t.reportTouchActivity=!1,super(null,t,n),this.onDurationChange_=i=>this.onDurationChange(i),this.trackProgress_=i=>this.trackProgress(i),this.trackCurrentTime_=i=>this.trackCurrentTime(i),this.stopTrackingCurrentTime_=i=>this.stopTrackingCurrentTime(i),this.disposeSourceHandler_=i=>this.disposeSourceHandler(i),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Di.names.forEach(i=>{const r=Di[i];t&&t[r.getterName]&&(this[r.privateName]=t[r.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(i=>{t["native".concat(i,"Tracks")]===!1&&(this["featuresNative".concat(i,"Tracks")]=!1)}),t.nativeCaptions===!1||t.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(t.nativeCaptions===!0||t.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=t.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Di.text.ListClass,this.initTrackListeners(),t.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(t){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(t),1)),this.trigger({src:t,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(nn(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(t){this.duration_=this.duration()}buffered(){return zr(0,0)}bufferedPercent(){return JP(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(ur.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(t){t=[].concat(t),t.forEach(n=>{const i=this["".concat(n,"Tracks")]()||[];let r=i.length;for(;r--;){const s=i[r];n==="text"&&this.removeRemoteTextTrack(s),i.removeTrack(s)}})}cleanupAutoTextTracks(){const t=this.autoRemoteTextTracks_||[];let n=t.length;for(;n--;){const i=t[n];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(t){return t!==void 0&&(this.error_=new _n(t),this.trigger("error")),this.error_}played(){return this.hasStarted_?zr(0,0):zr()}play(){}setScrubbing(t){}scrubbing(){}setCurrentTime(t){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){ur.names.forEach(t=>{const n=ur[t],i=()=>{this.trigger("".concat(t,"trackchange"))},r=this[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),this.on("dispose",()=>{r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)})})}addWebVttScript_(){if(!oe.WebVTT)if(Ve.body.contains(this.el())){if(!this.options_["vtt.js"]&&yu($E)&&Object.keys($E).length>0){this.trigger("vttjsloaded");return}const t=Ve.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=()=>{this.trigger("vttjsloaded")},t.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{t.onload=null,t.onerror=null}),oe.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const t=this.textTracks(),n=this.remoteTextTracks(),i=o=>t.addTrack(o.track),r=o=>t.removeTrack(o.track);n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<t.length;o++){const l=t[o];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};a(),t.addEventListener("change",a),t.addEventListener("addtrack",a),t.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",r),t.removeEventListener("change",a),t.removeEventListener("addtrack",a),t.removeEventListener("removetrack",a);for(let o=0;o<t.length;o++)t[o].removeEventListener("cuechange",s)})}addTextTrack(t,n,i){if(!t)throw new Error("TextTrack kind is required but was not provided");return Aae(this,t,n,i)}createRemoteTextTrack(t){const n=Ht(t,{tech:this});return new Au.remoteTextEl.TrackClass(n)}addRemoteTextTrack(t={},n){const i=this.createRemoteTextTrack(t);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(i.track)),i}removeRemoteTextTrack(t){const n=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(t){const n=pr();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),t())})):this.requestNamedAnimationFrame(n,t),n}cancelVideoFrameCallback(t){this.queuedHanders_.has(t)?this.queuedHanders_.delete(t):this.cancelNamedAnimationFrame(t)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(t){}overrideNativeVideoTracks(t){}canPlayType(t){return""}static canPlayType(t){return""}static canPlaySource(t,n){return gt.canPlayType(t.type)}static isTech(t){return t.prototype instanceof gt||t instanceof gt||t===gt}static registerTech(t,n){if(gt.techs_||(gt.techs_={}),!gt.isTech(n))throw new Error("Tech ".concat(t," must be a Tech"));if(!gt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!gt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=An(t),gt.techs_[t]=n,gt.techs_[Xc(t)]=n,t!=="Tech"&&gt.defaultTechOrder_.push(t),n}static getTech(t){if(t){if(gt.techs_&&gt.techs_[t])return gt.techs_[t];if(t=An(t),oe&&oe.videojs&&oe.videojs[t])return St.warn("The ".concat(t," tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)")),oe.videojs[t]}}}Di.names.forEach(function(e){const t=Di[e];gt.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}});gt.prototype.featuresVolumeControl=!0;gt.prototype.featuresMuteControl=!0;gt.prototype.featuresFullscreenResize=!1;gt.prototype.featuresPlaybackRate=!1;gt.prototype.featuresProgressEvents=!1;gt.prototype.featuresSourceset=!1;gt.prototype.featuresTimeupdateEvents=!1;gt.prototype.featuresNativeTextTracks=!1;gt.prototype.featuresVideoFrameCallback=!1;gt.withSourceHandlers=function(e){e.registerSourceHandler=function(n,i){let r=e.sourceHandlers;r||(r=e.sourceHandlers=[]),i===void 0&&(i=r.length),r.splice(i,0,n)},e.canPlayType=function(n){const i=e.sourceHandlers||[];let r;for(let s=0;s<i.length;s++)if(r=i[s].canPlayType(n),r)return r;return""},e.selectSourceHandler=function(n,i){const r=e.sourceHandlers||[];let s;for(let a=0;a<r.length;a++)if(s=r[a].canHandleSource(n,i),s)return r[a];return null},e.canPlaySource=function(n,i){const r=e.selectSourceHandler(n,i);return r?r.canHandleSource(n,i):""},["seekable","seeking","duration"].forEach(function(n){const i=this[n];typeof i=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(n){let i=e.selectSourceHandler(n,this.options_);i||(e.nativeSourceHandler?i=e.nativeSourceHandler:St.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==e.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=i.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Ie.registerComponent("Tech",gt);gt.registerTech("Tech",gt);gt.defaultTechOrder_=[];const qo={},xp={},Ep={};function Sae(e,t){qo[e]=qo[e]||[],qo[e].push(t)}function xae(e,t,n){e.setTimeout(()=>wo(t,qo[t.type],n,e),1)}function Eae(e,t){e.forEach(n=>n.setTech&&n.setTech(t))}function Cae(e,t,n){return e.reduceRight(Yb(n),t[n]())}function wae(e,t,n,i){return t[n](e.reduce(Yb(n),i))}function gC(e,t,n,i=null){const r="call"+An(n),s=e.reduce(Yb(r),i),a=s===Ep,o=a?null:t[n](s);return Oae(e,n,o,a),o}const Dae={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},kae={setCurrentTime:1,setMuted:1,setVolume:1},vC={play:1,pause:1};function Yb(e){return(t,n)=>t===Ep?Ep:n[e]?n[e](t):t}function Oae(e,t,n,i){for(let r=e.length-1;r>=0;r--){const s=e[r];s[t]&&s[t](i,n)}}function Iae(e){xp.hasOwnProperty(e.id())&&delete xp[e.id()]}function Pae(e,t){const n=xp[e.id()];let i=null;if(n==null)return i=t(e),xp[e.id()]=[[t,i]],i;for(let r=0;r<n.length;r++){const[s,a]=n[r];s===t&&(i=a)}return i===null&&(i=t(e),n.push([t,i])),i}function wo(e={},t=[],n,i,r=[],s=!1){const[a,...o]=t;if(typeof a=="string")wo(e,qo[a],n,i,r,s);else if(a){const l=Pae(i,a);if(!l.setSource)return r.push(l),wo(e,o,n,i,r,s);l.setSource(Object.assign({},e),function(u,c){if(u)return wo(e,o,n,i,r,s);r.push(l),wo(c,e.type===c.type?o:qo[c.type],n,i,r,s)})}else o.length?wo(e,o,n,i,r,s):s?n(e,r):wo(e,qo["*"],n,i,r,!0)}const Rae={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Cp=function(e=""){const t=Gb(e);return Rae[t.toLowerCase()]||""},Lae=(e,t)=>{if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;const n=e.cache_.sources.filter(r=>r.src===t);if(n.length)return n[0].type;const i=e.$$("source");for(let r=0;r<i.length;r++){const s=i[r];if(s.type&&s.src&&s.src===t)return s.type}return Cp(t)},rR=function(e){if(Array.isArray(e)){let t=[];e.forEach(function(n){n=rR(n),Array.isArray(n)?t=t.concat(n):Ds(n)&&t.push(n)}),e=t}else typeof e=="string"&&e.trim()?e=[yC({src:e})]:Ds(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[yC(e)]:e=[];return e};function yC(e){if(!e.type){const t=Cp(e.src);t&&(e.type=t)}return e}var Mae='<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play">\n      <path d="M16 10v28l22-14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">\n      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">\n      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">\n      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">\n      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">\n      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">\n      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">\n      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">\n      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">\n      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">\n      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">\n      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">\n      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">\n      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">\n      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">\n      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">\n      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">\n      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-share">\n      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">\n      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-square">\n      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">\n      <circle cx="24" cy="24" r="20"></circle>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">\n      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">\n      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">\n      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">\n      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">\n      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">\n      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">\n      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">\n      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">\n      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>\n      <path fill="none" d="M-1-3h24v24H-1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">\n      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">\n      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">\n      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">\n      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">\n      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>\n    </symbol>\n  </defs>\n</svg>';const _C=_p?10009:bp?461:8,xl={codes:{play:415,pause:19,ff:417,rw:412,back:_C},names:{415:"play",19:"pause",417:"ff",412:"rw",[_C]:"back"},isEventKey(e,t){return t=t.toLowerCase(),!!(this.names[e.keyCode]&&this.names[e.keyCode]===t)},getEventName(e){if(this.names[e.keyCode])return this.names[e.keyCode];if(this.codes[e.code]){const t=this.codes[e.code];return this.names[t]}return null}},bC=5;class Nae extends Yi{constructor(t){super(),this.player_=t,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(t){const n=t.originalEvent?t.originalEvent:t;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(n.key)){if(this.isPaused_)return;n.preventDefault();const i=n.key.substring(5).toLowerCase();this.move(i)}else if(xl.isEventKey(n,"play")||xl.isEventKey(n,"pause")||xl.isEventKey(n,"ff")||xl.isEventKey(n,"rw")){n.preventDefault();const i=xl.getEventName(n);this.performMediaAction_(i)}else xl.isEventKey(n,"Back")&&t.target&&typeof t.target.closeable=="function"&&t.target.closeable()&&(n.preventDefault(),t.target.close())}performMediaAction_(t){if(this.player_)switch(t){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+bC);break;case"rw":this.userSeek_(this.player_.currentTime()-bC);break}}userSeek_(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(t){const n=t.relatedTarget;let i=null;const r=this.getCurrentComponent(t.target);n&&(i=!!n.closest(".video-js"),n.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!t.currentTarget.contains(t.relatedTarget)&&!i||!n)&&(r&&r.name()==="CloseButton"?this.refocusComponent():(this.pause(),r&&r.el()&&(this.lastFocusedComponent_=r)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const t=this.player_,n=[];function i(r){for(const s of r)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&n.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&i(s.children_)}return t.children_.forEach(r=>{if(r.hasOwnProperty("el_"))if(r.getIsFocusable&&r.getIsAvailableToBeFocused&&r.getIsFocusable()&&r.getIsAvailableToBeFocused(r.el())){n.push(r);return}else r.hasOwnProperty("children_")&&r.children_.length>0?i(r.children_):r.hasOwnProperty("items")&&r.items.length>0?i(r.items):this.findSuitableDOMChild(r)&&n.push(r);if(r.name_==="ErrorDisplay"&&r.opened_){const s=r.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((o,l)=>{n.push({name:()=>"ModalButton"+(l+1),el:()=>o,getPositions:()=>{const u=o.getBoundingClientRect(),c={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},d={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:c,center:d}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>o.focus()})})}}),this.focusableComponents=n,this.focusableComponents}findSuitableDOMChild(t){function n(i){if(t.getIsFocusable(i)&&t.getIsAvailableToBeFocused(i))return i;for(let r=0;r<i.children.length;r++){const s=i.children[r],a=n(s);if(a)return a}return null}return t.el()?n(t.el()):null}getCurrentComponent(t){this.updateFocusableComponents();const n=t||document.activeElement;if(this.focusableComponents.length){for(const i of this.focusableComponents)if(i.el()===n)return i}}add(t){const n=[...this.focusableComponents];t.hasOwnProperty("el_")&&t.getIsFocusable()&&t.getIsAvailableToBeFocused(t.el())&&n.push(t),this.focusableComponents=n,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(t){for(let n=0;n<this.focusableComponents.length;n++)if(this.focusableComponents[n].name()===t.name()){this.focusableComponents.splice(n,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(t){const n=this.getCurrentComponent();if(!n)return;const i=n.getPositions(),r=this.focusableComponents.filter(a=>a!==n&&this.isInDirection_(i.boundingClientRect,a.getPositions().boundingClientRect,t)),s=this.findBestCandidate_(i.center,r,t);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:t,focusedComponent:n})}findBestCandidate_(t,n,i){let r=1/0,s=null;for(const a of n){const o=a.getPositions().center,l=this.calculateDistance_(t,o,i);l<r&&(r=l,s=a)}return s}isInDirection_(t,n,i){switch(i){case"right":return n.left>=t.right;case"left":return n.right<=t.left;case"down":return n.top>=t.bottom;case"up":return n.bottom<=t.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let t=0;t<this.focusableComponents.length;t++)if(this.focusableComponents[t].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[t]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(t){typeof t=="object"&&(t.getIsAvailableToBeFocused(t.el())?t.focus():this.findSuitableDOMChild(t)&&this.findSuitableDOMChild(t).focus())}calculateDistance_(t,n,i){const r=Math.abs(t.x-n.x),s=Math.abs(t.y-n.y);let a;switch(i){case"right":case"left":a=r+s*100;break;case"up":a=s*2+r*.5;break;case"down":a=s*5+r;break;default:a=r+s}return a}searchForTrackSelect_(){const t=this;for(const n of t.updateFocusableComponents())if(n.constructor.name==="TextTrackSelect"){t.focus(n);break}}}class Bae extends Ie{constructor(t,n,i){const r=Ht({createEl:!1},n);if(super(t,r,i),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let s=0,a=n.playerOptions.techOrder;s<a.length;s++){const o=An(a[s]);let l=gt.getTech(o);if(o||(l=Ie.getComponent(o)),l&&l.isSupported()){t.loadTech_(o);break}}else t.src(n.playerOptions.sources)}}Ie.registerComponent("MediaLoader",Bae);class Km extends Ie{constructor(t,n){super(t,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=i=>this.handleMouseOver(i),this.handleMouseOut_=i=>this.handleMouseOut(i),this.handleClick_=i=>this.handleClick(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.emitTapEvents(),this.enable()}createEl(t="div",n={},i={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),t==="button"&&St.error("Creating a ClickableComponent with an HTML element of ".concat(t," is not supported; use a Button instead.")),i=Object.assign({role:"button"},i),this.tabIndex_=n.tabIndex;const r=lt(t,n,i);return this.player_.options_.experimentalSvgIcons||r.appendChild(lt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(t){return this.controlTextEl_=lt("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_}controlText(t,n=this.el()){if(t===void 0)return this.controlText_||"Need Text";const i=this.localize(t);this.controlText_=t,co(this.controlTextEl_,i),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",i)}buildCSSClass(){return"vjs-control vjs-button ".concat(super.buildCSSClass())}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(t){t.key===" "||t.key==="Enter"?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):super.handleKeyDown(t)}}Ie.registerComponent("ClickableComponent",Km);class Dy extends Km{constructor(t,n){super(t,n),this.update(),this.update_=i=>this.update(i),t.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return lt("div",{className:"vjs-poster"})}crossOrigin(t){if(typeof t>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(t!==null&&t!=="anonymous"&&t!=="use-credentials"){this.player_.log.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(t,'"'));return}this.$("img")&&(this.$("img").crossOrigin=t)}update(t){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(t){if(!t){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(lt("picture",{className:"vjs-poster",tabIndex:-1},{},lt("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=t}handleClick(t){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?vs(this.player_.play()):this.player_.pause())}}Dy.prototype.crossorigin=Dy.prototype.crossOrigin;Ie.registerComponent("PosterImage",Dy);const ir="#222",TC="#ccc",Fae={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function $v(e,t){let n;if(e.length===4)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else if(e.length===7)n=e.slice(1);else throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function cs(e,t,n){try{e.style[t]=n}catch(i){return}}function AC(e){return e?"".concat(e,"px"):""}class $ae extends Ie{constructor(t,n,i){super(t,n,i);const r=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};t.on("loadstart",a=>this.toggleDisplay(a)),t.on("useractive",r),t.on("userinactive",r),t.on("texttrackchange",r),t.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),t.ready(nn(this,function(){if(t.tech_&&t.tech_.featuresNativeTextTracks){this.hide();return}t.on("fullscreenchange",s),t.on("playerresize",s);const a=oe.screen.orientation||oe,o=oe.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),t.on("dispose",()=>a.removeEventListener(o,s));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const t={captions:1,subtitles:1},n=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage;let r,s,a;for(let o=0;o<n.length;o++){const l=n[o];i&&i.enabled&&i.language&&i.language===l.language&&l.kind in t?l.kind===i.kind?a=l:a||(a=l):i&&!i.enabled?(a=null,r=null,s=null):l.default&&(l.kind==="descriptions"&&!r?r=l:l.kind in t&&!s&&(s=l))}a?a.mode="showing":s?s.mode="showing":r&&(r.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof oe.WebVTT=="function"&&oe.WebVTT.processCues(oe,[],this.el_)}updateDisplay(){const t=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const a=[];for(let o=0;o<t.length;++o){const l=t[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let i=null,r=null,s=t.length;for(;s--;){const a=t[s];a.mode==="showing"&&(a.kind==="descriptions"?i=a:r=a)}if(r?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):i&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i)),!oe.CSS.supports("inset","10px")){const a=this.el_,o=a.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;a.style="",cs(a,"position","relative"),cs(a,"height",u-l+"px"),cs(a,"top","unset"),Tp?cs(a,"bottom",u+"px"):cs(a,"bottom","0px"),o.length>0&&o.forEach(c=>{if(c.style.inset){const d=c.style.inset.split(" ");d.length===3&&Object.assign(c.style,{top:d[0],right:d[1],bottom:d[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!oe.CSS.supports("inset-inline: 10px"))return;const t=this.player_.currentWidth(),n=this.player_.currentHeight(),i=t/n,r=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(i-r)>.1&&(i>r?s=Math.round((t-n*r)/2):a=Math.round((n-t/r)/2)),cs(this.el_,"insetInline",AC(s)),cs(this.el_,"insetBlock",AC(a))}updateDisplayState(t){const n=this.player_.textTrackSettings.getValues(),i=t.activeCues;let r=i.length;for(;r--;){const s=i[r];if(!s)continue;const a=s.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&cs(a.firstChild,"color",$v(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&cs(a.firstChild,"backgroundColor",$v(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?cs(a,"backgroundColor",$v(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?a.firstChild.style.textShadow="2px 2px 3px ".concat(ir,", 2px 2px 4px ").concat(ir,", 2px 2px 5px ").concat(ir):n.edgeStyle==="raised"?a.firstChild.style.textShadow="1px 1px ".concat(ir,", 2px 2px ").concat(ir,", 3px 3px ").concat(ir):n.edgeStyle==="depressed"?a.firstChild.style.textShadow="1px 1px ".concat(TC,", 0 1px ").concat(TC,", -1px -1px ").concat(ir,", 0 -1px ").concat(ir):n.edgeStyle==="uniform"&&(a.firstChild.style.textShadow="0 0 4px ".concat(ir,", 0 0 4px ").concat(ir,", 0 0 4px ").concat(ir,", 0 0 4px ").concat(ir))),n.fontPercent&&n.fontPercent!==1){const o=oe.parseFloat(a.style.fontSize);a.style.fontSize=o*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Fae[n.fontFamily])}}updateForTrack(t){if(Array.isArray(t)||(t=[t]),typeof oe.WebVTT!="function"||t.every(i=>!i.activeCues))return;const n=[];for(let i=0;i<t.length;++i){const r=t[i];for(let s=0;s<r.activeCues.length;++s)n.push(r.activeCues[s])}oe.WebVTT.processCues(oe,n,this.el_);for(let i=0;i<t.length;++i){const r=t[i];for(let s=0;s<r.activeCues.length;++s){const a=r.activeCues[s].displayState;zo(a,"vjs-text-track-cue","vjs-text-track-cue-"+(r.language?r.language:i)),r.language&&_u(a,"lang",r.language)}this.player_.textTrackSettings&&this.updateDisplayState(r)}}}Ie.registerComponent("TextTrackDisplay",$ae);class Uae extends Ie{createEl(){const t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),i=lt("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),r=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Ie.registerComponent("LoadingSpinner",Uae);class pi extends Km{createEl(t,n={},i={}){t="button",n=Object.assign({className:this.buildCSSClass()},n),i=Object.assign({type:"button"},i);const r=lt(t,n,i);return this.player_.options_.experimentalSvgIcons||r.appendChild(lt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}addChild(t,n={}){const i=this.constructor.name;return St.warn("Adding an actionable (user controllable) child to a Button (".concat(i,") is not supported; use a ClickableComponent instead.")),Ie.prototype.addChild.call(this,t,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(t){if(t.key===" "||t.key==="Enter"){t.stopPropagation();return}super.handleKeyDown(t)}}Ie.registerComponent("Button",pi);class sR extends pi{constructor(t,n){super(t,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",i=>this.handleMouseDown(i))}buildCSSClass(){return"vjs-big-play-button"}handleClick(t){const n=this.player_.play();if(t.type==="tap"||this.mouseused_&&"clientX"in t&&"clientY"in t){vs(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(!r){this.player_.tech(!0).focus();return}const s=()=>r.focus();Qc(n)?n.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(t){this.mouseused_=!1,super.handleKeyDown(t)}handleMouseDown(t){this.mouseused_=!0}}sR.prototype.controlText_="Play Video";Ie.registerComponent("BigPlayButton",sR);class Vae extends pi{constructor(t,n){super(t,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return"vjs-close-button ".concat(super.buildCSSClass())}handleClick(t){this.trigger({type:"close",bubbles:!1})}handleKeyDown(t){t.key==="Escape"?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):super.handleKeyDown(t)}}Ie.registerComponent("CloseButton",Vae);class aR extends pi{constructor(t,n={}){super(t,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(t,"play",i=>this.handlePlay(i)),this.on(t,"pause",i=>this.handlePause(i)),n.replay&&this.on(t,"ended",i=>this.handleEnded(i))}buildCSSClass(){return"vjs-play-control ".concat(super.buildCSSClass())}handleClick(t){this.player_.paused()?vs(this.player_.play()):this.player_.pause()}handleSeeked(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)}handlePlay(t){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}aR.prototype.controlText_="Play";Ie.registerComponent("PlayToggle",aR);class Uu extends Ie{constructor(t,n){super(t,n),this.on(t,["timeupdate","ended","seeking"],i=>this.update(i)),this.updateTextNode_()}createEl(){const t=this.buildCSSClass(),n=super.createEl("div",{className:"".concat(t," vjs-time-control vjs-control")}),i=lt("span",{className:"vjs-control-text",textContent:"".concat(this.localize(this.labelText_),"")},{role:"presentation"});return n.appendChild(i),this.contentEl_=lt("span",{className:"".concat(t,"-display")},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(t){!this.player_.options_.enableSmoothSeeking&&t.type==="seeking"||this.updateContent(t)}updateTextNode_(t=0){t=el(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,St.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Ve.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(t){}}Uu.prototype.labelText_="Time";Uu.prototype.controlText_="Time";Ie.registerComponent("TimeDisplay",Uu);class Kb extends Uu{buildCSSClass(){return"vjs-current-time"}updateContent(t){let n;this.player_.ended()?n=this.player_.duration():t&&t.target&&typeof t.target.pendingSeekTime=="function"?n=t.target.pendingSeekTime():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}Kb.prototype.labelText_="Current Time";Kb.prototype.controlText_="Current Time";Ie.registerComponent("CurrentTimeDisplay",Kb);class Xb extends Uu{constructor(t,n){super(t,n);const i=r=>this.updateContent(r);this.on(t,"durationchange",i),this.on(t,"loadstart",i),this.on(t,"loadedmetadata",i)}buildCSSClass(){return"vjs-duration"}updateContent(t){const n=this.player_.duration();this.updateTextNode_(n)}}Xb.prototype.labelText_="Duration";Xb.prototype.controlText_="Duration";Ie.registerComponent("DurationDisplay",Xb);class jae extends Ie{createEl(){const t=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return n.appendChild(i),t.appendChild(n),t}}Ie.registerComponent("TimeDivider",jae);class Qb extends Uu{constructor(t,n){super(t,n),this.on(t,"durationchange",i=>this.updateContent(i))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const t=super.createEl();return this.options_.displayNegative!==!1&&t.insertBefore(lt("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t}updateContent(t){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}Qb.prototype.labelText_="Remaining Time";Qb.prototype.controlText_="Remaining Time";Ie.registerComponent("RemainingTimeDisplay",Qb);class Hae extends Ie{constructor(t,n){super(t,n),this.updateShowing(),this.on(this.player(),"durationchange",i=>this.updateShowing(i))}createEl(){const t=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=lt("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(lt("span",{className:"vjs-control-text",textContent:"".concat(this.localize("Stream Type"),"")})),this.contentEl_.appendChild(Ve.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,super.dispose()}updateShowing(t){this.player().duration()===1/0?this.show():this.hide()}}Ie.registerComponent("LiveDisplay",Hae);class oR extends pi{constructor(t,n){super(t,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=i=>this.updateLiveEdgeStatus(i),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const t=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",t),this.textEl_=lt("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}oR.prototype.controlText_="Seek to live, currently playing live";Ie.registerComponent("SeekToLive",oR);function Gd(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))}var zae=Object.freeze({__proto__:null,clamp:Gd});class Jb extends Ie{constructor(t,n){super(t,n),this.handleMouseDown_=i=>this.handleMouseDown(i),this.handleMouseUp_=i=>this.handleMouseUp(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.handleClick_=i=>this.handleClick(i),this.handleMouseMove_=i=>this.handleMouseMove(i),this.update_=i=>this.update(i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(t,n={},i={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(t,n,i)}handleMouseDown(t){const n=this.bar.el_.ownerDocument;t.type==="mousedown"&&t.preventDefault(),t.type==="touchstart"&&!ks&&t.preventDefault(),RP(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)}handleMouseMove(t){}handleMouseUp(t){const n=this.bar.el_.ownerDocument;LP(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(t*100).toFixed(2)+"%"})),t}getProgress(){return Number(Gd(this.getPercent(),0,1).toFixed(4))}calculateDistance(t){const n=Hm(this.el_,t);return this.vertical()?n.y:n.x}handleKeyDown(t){const n=this.options_.playerOptions.spatialNavigation,i=n&&n.enabled,r=n&&n.horizontalSeek;i?r&&t.key==="ArrowLeft"||!r&&t.key==="ArrowDown"?(t.preventDefault(),t.stopPropagation(),this.stepBack()):r&&t.key==="ArrowRight"||!r&&t.key==="ArrowUp"?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(this.pendingSeekTime()&&(this.pendingSeekTime(null),this.userSeek_(this.player_.currentTime())),super.handleKeyDown(t)):t.key==="ArrowLeft"||t.key==="ArrowDown"?(t.preventDefault(),t.stopPropagation(),this.stepBack()):t.key==="ArrowUp"||t.key==="ArrowRight"?(t.preventDefault(),t.stopPropagation(),this.stepForward()):super.handleKeyDown(t)}handleClick(t){t.stopPropagation(),t.preventDefault()}vertical(t){if(t===void 0)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Ie.registerComponent("Slider",Jb);const Uv=(e,t)=>Gd(e/t*100,0,100).toFixed(2)+"%";class qae extends Ie{constructor(t,n){super(t,n),this.partEls_=[],this.on(t,"progress",i=>this.update(i))}createEl(){const t=super.createEl("div",{className:"vjs-load-progress"}),n=lt("span",{className:"vjs-control-text"}),i=lt("span",{textContent:this.localize("Loaded")}),r=Ve.createTextNode(": ");return this.percentageEl_=lt("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(i),n.appendChild(r),n.appendChild(this.percentageEl_),t}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(t){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,i=this.player_.buffered(),r=n&&n.isLive()?n.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=Uv(s,r);this.percent_!==o&&(this.el_.style.width=o,co(this.percentageEl_,o),this.percent_=o);for(let l=0;l<i.length;l++){const u=i.start(l),c=i.end(l);let d=a[l];d||(d=this.el_.appendChild(lt()),a[l]=d),!(d.dataset.start===u&&d.dataset.end===c)&&(d.dataset.start=u,d.dataset.end=c,d.style.left=Uv(u,s),d.style.width=Uv(c-u,s))}for(let l=a.length;l>i.length;l--)this.el_.removeChild(a[l-1]);a.length=i.length})}}Ie.registerComponent("LoadProgressBar",qae);class Wae extends Ie{constructor(t,n){super(t,n),this.update=Os(nn(this,this.update),mr)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(t,n,i){const r=Td(this.el_),s=bu(this.player_.el()),a=t.width*n;if(!s||!r)return;let o=t.left-s.left+a,l=t.width-a+(s.right-t.right);l||(l=t.width-a,o=a);let u=r.width/2;o<u?u+=u-o:l<u&&(u=l),u<0?u=0:u>r.width&&(u=r.width),u=Math.round(u),this.el_.style.right="-".concat(u,"px"),this.write(i)}write(t){co(this.el_,t)}updateTime(t,n,i,r){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-n*o;s=(l<1?"":"-")+el(l,o)}else s=el(i,a);this.update(t,n,s),r&&r()})}}Ie.registerComponent("TimeTooltip",Wae);class Zb extends Ie{constructor(t,n){super(t,n),this.setIcon("circle"),this.update=Os(nn(this,this.update),mr)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(t,n,i){const r=this.getChild("timeTooltip");if(!r)return;const s=i&&i.target&&typeof i.target.pendingSeekTime=="function"?i.target.pendingSeekTime():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(t,n,s)}}Zb.prototype.options_={children:[]};!fi&&!Kr&&Zb.prototype.options_.children.push("timeTooltip");Ie.registerComponent("PlayProgressBar",Zb);class lR extends Ie{constructor(t,n){super(t,n),this.update=Os(nn(this,this.update),mr)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(t,n){const i=n*this.player_.duration();this.getChild("timeTooltip").updateTime(t,n,i,()=>{this.el_.style.left="".concat(t.width*n,"px")})}}lR.prototype.options_={children:["timeTooltip"]};Ie.registerComponent("MouseTimeDisplay",lR);class Xm extends Jb{constructor(t,n){n=Ht(Xm.prototype.options_,n),n.children=[...n.children];const i=t.options_.disableSeekWhileScrubbingOnMobile&&(fi||Kr)||t.options_.disableSeekWhileScrubbingOnSTV;(!fi&&!Kr||i)&&n.children.splice(1,0,"mouseTimeDisplay"),super(t,n),this.shouldDisableSeekWhileScrubbing_=i,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=nn(this,this.update),this.update=Os(this.update_,mr),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=t=>this.enableInterval_(t),this.disableIntervalHandler_=t=>this.disableInterval_(t),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ve&&"visibilityState"in Ve&&this.on(Ve,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(t){Ve.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,mr))}disableInterval_(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&t.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(t){if(Ve.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const i=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),r=this.player_.liveTracker;let s=this.player_.duration();r&&r.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==i||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[el(i,s),el(s,s)],"{1} of {2}")),this.currentTime_=i,this.duration_=s),this.bar&&this.bar.update(bu(this.el()),this.getProgress(),t)}),n}userSeek_(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}pendingSeekTime(t){if(t!==void 0)if(t!==null){const n=this.player_.duration();this.pendingSeekTime_=Math.max(0,Math.min(t,n))}else this.pendingSeekTime_=null;return this.pendingSeekTime_}getPercent(){if(this.pendingSeekTime()!==null)return this.pendingSeekTime()/this.player_.duration();const t=this.getCurrentTime_();let n;const i=this.player_.liveTracker;return i&&i.isLive()?(n=(t-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(n=1)):n=t/this.player_.duration(),n}handleMouseDown(t){Ad(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbing_||this.player_.pause(),super.handleMouseDown(t))}handleMouseMove(t,n=!1){if(!Ad(t)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let i;const r=this.calculateDistance(t),s=this.player_.liveTracker;if(!s||!s.isLive())i=r*this.player_.duration(),i===this.player_.duration()&&(i=i-.1);else{if(r>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(i=a+r*s.liveWindow(),i>=o&&(i=o),i<=a&&(i=a+.1),i===1/0)return}this.shouldDisableSeekWhileScrubbing_?this.pendingSeekTime(i):this.userSeek_(i),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const t=this.getChild("mouseTimeDisplay");t&&t.show()}disable(){super.disable();const t=this.getChild("mouseTimeDisplay");t&&t.hide()}handleMouseUp(t){super.handleMouseUp(t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?vs(this.player_.play()):this.update_()}handlePendingSeek_(t){this.player_.paused()||this.player_.pause();const n=this.pendingSeekTime()!==null?this.pendingSeekTime():this.player_.currentTime();this.pendingSeekTime(n+t),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}stepForward(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(this.options().stepSeconds):this.userSeek_(this.player_.currentTime()+this.options().stepSeconds)}stepBack(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(-this.options().stepSeconds):this.userSeek_(this.player_.currentTime()-this.options().stepSeconds)}handleAction(t){this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(t){const n=this.player_.liveTracker;if(t.key===" "||t.key==="Enter")t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(t.key==="Home")t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(t.key==="End")t.preventDefault(),t.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(t.key)){t.preventDefault(),t.stopPropagation();const i=parseInt(t.key,10)*.1;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else t.key==="PageDown"?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-this.options().stepSeconds*this.options().pageMultiplier)):t.key==="PageUp"?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+this.options().stepSeconds*this.options().pageMultiplier)):super.handleKeyDown(t)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ve&&"visibilityState"in Ve&&this.off(Ve,"visibilitychange",this.toggleVisibility_),super.dispose()}}Xm.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar",stepSeconds:5,pageMultiplier:12};Ie.registerComponent("SeekBar",Xm);class uR extends Ie{constructor(t,n){super(t,n),this.handleMouseMove=Os(nn(this,this.handleMouseMove),mr),this.throttledHandleMouseSeek=Os(nn(this,this.handleMouseSeek),mr),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.handleMouseDownHandler_=i=>this.handleMouseDown(i),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(t){const n=this.getChild("seekBar");if(!n)return;const i=n.getChild("playProgressBar"),r=n.getChild("mouseTimeDisplay");if(!i&&!r)return;const s=n.el(),a=Td(s);let o=Hm(s,t).x;o=Gd(o,0,1),r&&r.update(a,o),i&&i.update(a,n.getProgress())}handleMouseSeek(t){const n=this.getChild("seekBar");n&&n.handleMouseMove(t)}enabled(){return this.enabled_}disable(){if(this.children().forEach(t=>t.disable&&t.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&vs(this.player_.play())}}enable(){this.children().forEach(t=>t.enable&&t.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseDown(t){const n=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(t),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(t){const n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()}}uR.prototype.options_={children:["seekBar"]};Ie.registerComponent("ProgressControl",uR);class cR extends pi{constructor(t,n){super(t,n),this.setIcon("picture-in-picture-enter"),this.on(t,["enterpictureinpicture","leavepictureinpicture"],i=>this.handlePictureInPictureChange(i)),this.on(t,["disablepictureinpicturechanged","loadedmetadata"],i=>this.handlePictureInPictureEnabledChange(i)),this.on(t,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return"vjs-picture-in-picture-control vjs-hidden ".concat(super.buildCSSClass())}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Ve.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in oe?this.enable():this.disable()}handlePictureInPictureChange(t){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Ve.exitPictureInPicture=="function"&&super.show()}}cR.prototype.controlText_="Picture-in-Picture";Ie.registerComponent("PictureInPictureToggle",cR);class dR extends pi{constructor(t,n){super(t,n),this.setIcon("fullscreen-enter"),this.on(t,"fullscreenchange",i=>this.handleFullscreenChange(i)),Ve[t.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return"vjs-fullscreen-control ".concat(super.buildCSSClass())}handleFullscreenChange(t){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}dR.prototype.controlText_="Fullscreen";Ie.registerComponent("FullscreenToggle",dR);const Gae=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})};class Yae extends Ie{createEl(){const t=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",t),t.appendChild(super.createEl("span",{className:"vjs-control-text"})),t}}Ie.registerComponent("VolumeLevel",Yae);class Kae extends Ie{constructor(t,n){super(t,n),this.update=Os(nn(this,this.update),mr)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(t,n,i,r){if(!i){const s=bu(this.el_),a=bu(this.player_.el()),o=t.width*n;if(!a||!s)return;const l=t.left-a.left+o,u=t.width-o+(a.right-t.right);let c=s.width/2;l<c?c+=c-l:u<c&&(c=u),c<0?c=0:c>s.width&&(c=s.width),this.el_.style.right="-".concat(c,"px")}this.write("".concat(r,"%"))}write(t){co(this.el_,t)}updateVolume(t,n,i,r,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(t,n,i,r.toFixed(0)),s&&s()})}}Ie.registerComponent("VolumeLevelTooltip",Kae);class fR extends Ie{constructor(t,n){super(t,n),this.update=Os(nn(this,this.update),mr)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(t,n,i){const r=100*n;this.getChild("volumeLevelTooltip").updateVolume(t,n,i,r,()=>{i?this.el_.style.bottom="".concat(t.height*n,"px"):this.el_.style.left="".concat(t.width*n,"px")})}}fR.prototype.options_={children:["volumeLevelTooltip"]};Ie.registerComponent("MouseVolumeLevelDisplay",fR);class Qm extends Jb{constructor(t,n){super(t,n),this.on("slideractive",i=>this.updateLastVolume_(i)),this.on(t,"volumechange",i=>this.updateARIAAttributes(i)),t.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(t){Ad(t)&&super.handleMouseDown(t)}handleMouseMove(t){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const i=this.el(),r=bu(i),s=this.vertical();let a=Hm(i,t);a=s?a.y:a.x,a=Gd(a,0,1),n.update(r,a,s)}Ad(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(t){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const t=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(t)})}}Qm.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!fi&&!Kr&&Qm.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Qm.prototype.playerEvent="volumechange";Ie.registerComponent("VolumeBar",Qm);class hR extends Ie{constructor(t,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||yu(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(t,n),Gae(this,t),this.throttledHandleMouseMove=Os(nn(this,this.handleMouseMove),mr),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.on("mousedown",i=>this.handleMouseDown(i)),this.on("touchstart",i=>this.handleMouseDown(i)),this.on("mousemove",i=>this.handleMouseMove(i)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),super.createEl("div",{className:"vjs-volume-control vjs-control ".concat(t)})}handleMouseDown(t){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(t){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(t){this.volumeBar.handleMouseMove(t)}}hR.prototype.options_={children:["volumeBar"]};Ie.registerComponent("VolumeControl",hR);const Xae=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})};class pR extends pi{constructor(t,n){super(t,n),Xae(this,t),this.on(t,["loadstart","volumechange"],i=>this.update(i))}buildCSSClass(){return"vjs-mute-control ".concat(super.buildCSSClass())}handleClick(t){const n=this.player_.volume(),i=this.player_.lastVolume_();if(n===0){const r=i<.1?.1:i;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(t){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const t=this.player_.volume();let n=3;this.setIcon("volume-high"),fi&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),t===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):t<.33?(this.setIcon("volume-low"),n=1):t<.67&&(this.setIcon("volume-medium"),n=2),Vm(this.el_,[0,1,2,3].reduce((i,r)=>i+"".concat(r?" ":"","vjs-vol-").concat(r),"")),zo(this.el_,"vjs-vol-".concat(n))}updateControlText_(){const n=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)}}pR.prototype.controlText_="Mute";Ie.registerComponent("MuteToggle",pR);class mR extends Ie{constructor(t,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||yu(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(t,n),this.handleKeyPressHandler_=i=>this.handleKeyPress(i),this.on(t,["loadstart"],i=>this.volumePanelState_(i)),this.on(this.muteToggle,"keyup",i=>this.handleKeyPress(i)),this.on(this.volumeControl,"keyup",i=>this.handleVolumeControlKeyUp(i)),this.on("keydown",i=>this.handleKeyPress(i)),this.on("mouseover",i=>this.handleMouseOver(i)),this.on("mouseout",i=>this.handleMouseOut(i)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),super.createEl("div",{className:"vjs-volume-panel vjs-control ".concat(t)})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(t){t.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(t){this.addClass("vjs-hover"),Gi(Ve,"keyup",this.handleKeyPressHandler_)}handleMouseOut(t){this.removeClass("vjs-hover"),hi(Ve,"keyup",this.handleKeyPressHandler_)}handleKeyPress(t){t.key==="Escape"&&this.handleMouseOut()}}mR.prototype.options_={children:["muteToggle","volumeControl"]};Ie.registerComponent("VolumePanel",mR);class gR extends pi{constructor(t,n){super(t,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon("forward-".concat(this.skipTime)),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(t.language())])),this.show()):this.hide()}getSkipForwardTime(){const t=this.options_.playerOptions;return t.controlBar&&t.controlBar.skipButtons&&t.controlBar.skipButtons.forward}buildCSSClass(){return"vjs-skip-forward-".concat(this.getSkipForwardTime()," ").concat(super.buildCSSClass())}handleClick(t){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),i=this.player_.liveTracker,r=i&&i.isLive()?i.seekableEnd():this.player_.duration();let s;n+this.skipTime<=r?s=n+this.skipTime:s=r,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}gR.prototype.controlText_="Skip Forward";Ie.registerComponent("SkipForward",gR);class vR extends pi{constructor(t,n){super(t,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon("replay-".concat(this.skipTime)),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(t.language())])),this.show()):this.hide()}getSkipBackwardTime(){const t=this.options_.playerOptions;return t.controlBar&&t.controlBar.skipButtons&&t.controlBar.skipButtons.backward}buildCSSClass(){return"vjs-skip-backward-".concat(this.getSkipBackwardTime()," ").concat(super.buildCSSClass())}handleClick(t){const n=this.player_.currentTime(),i=this.player_.liveTracker,r=i&&i.isLive()&&i.seekableStart();let s;r&&n-this.skipTime<=r?s=r:n>=this.skipTime?s=n-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}vR.prototype.controlText_="Skip Backward";Ie.registerComponent("SkipBackward",vR);class yR extends Ie{constructor(t,n){super(t,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",i=>this.handleKeyDown(i)),this.boundHandleBlur_=i=>this.handleBlur(i),this.boundHandleTapClick_=i=>this.handleTapClick(i)}addEventListenerForItem(t){t instanceof Ie&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(t){t instanceof Ie&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))}removeChild(t){typeof t=="string"&&(t=this.getChild(t)),this.removeEventListenerForItem(t),super.removeChild(t)}addItem(t){const n=this.addChild(t);n&&this.addEventListenerForItem(n)}createEl(){const t=this.options_.contentElType||"ul";this.contentEl_=lt(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),Gi(n,"click",function(i){i.preventDefault(),i.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(t){const n=t.relatedTarget||Ve.activeElement;if(!this.children().some(i=>i.el()===n)){const i=this.menuButton_;i&&i.buttonPressed_&&n!==i.el().firstChild&&i.unpressButton()}}handleTapClick(t){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const i=n.filter(r=>r.el()===t.target)[0];if(!i)return;i.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(t){t.key==="ArrowLeft"||t.key==="ArrowDown"?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(t.key==="ArrowRight"||t.key==="ArrowUp")&&(t.preventDefault(),t.stopPropagation(),this.stepBack())}stepForward(){let t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_+1),this.focus(t)}stepBack(){let t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_-1),this.focus(t)}focus(t=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.focusedChild_=t,n[t].el_.focus())}}Ie.registerComponent("Menu",yR);class eT extends Ie{constructor(t,n={}){super(t,n),this.menuButton_=new pi(t,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=pi.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const r=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",r),this.on(this.menuButton_,"click",r),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Gi(Ve,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const t=new yR(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=lt("li",{className:"vjs-menu-title",textContent:An(this.options_.title),tabIndex:-1}),i=new Ie(this.player_,{el:n});t.addItem(i)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(t){super.setIcon(t,this.menuButton_.el_)}buildWrapperCSSClass(){let t="vjs-menu-button";this.options_.inline===!0?t+="-inline":t+="-popup";const n=pi.prototype.buildCSSClass();return"vjs-menu-button ".concat(t," ").concat(n," ").concat(super.buildCSSClass())}buildCSSClass(){let t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup","vjs-menu-button ".concat(t," ").concat(super.buildCSSClass())}controlText(t,n=this.menuButton_.el()){return this.menuButton_.controlText(t,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(t){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(t){this.removeClass("vjs-hover"),hi(Ve,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(t){t.key==="Escape"||t.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!t.key==="Tab"&&(t.preventDefault(),this.menuButton_.focus())):(t.key==="Up"||t.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))}handleMenuKeyUp(t){(t.key==="Escape"||t.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(t){this.handleSubmenuKeyDown(t)}handleSubmenuKeyDown(t){(t.key==="Escape"||t.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!t.key==="Tab"&&(t.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),fi&&DP())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Ie.registerComponent("MenuButton",eT);class tT extends eT{constructor(t,n){const i=n.tracks;if(super(t,n),this.items.length<=1&&this.hide(),!i)return;const r=nn(this,this.update);i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),i.addEventListener("labelchange",r),this.player_.on("ready",r),this.player_.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r),i.removeEventListener("labelchange",r)})}}Ie.registerComponent("TrackButton",tT);class Yd extends Km{constructor(t,n){super(t,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(t,n,i){this.nonIconControl=!0;const r=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),i),s=lt("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?r.appendChild(s):r.replaceChild(s,r.querySelector(".vjs-icon-placeholder")),r}handleKeyDown(t){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(t.key)||super.handleKeyDown(t)}handleClick(t){this.selected(!0)}selected(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Ie.registerComponent("MenuItem",Yd);class Kd extends Yd{constructor(t,n){const i=n.track,r=t.textTracks();n.label=i.label||i.language||"Unknown",n.selected=i.mode==="showing",super(t,n),this.track=i,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(t.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){t.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",a)}),r.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof oe.Event!="object")try{o=new oe.Event("change")}catch(l){}o||(o=Ve.createEvent("Event"),o.initEvent("change",!0,!0)),r.dispatchEvent(o)})}this.handleTracksChange()}handleClick(t){const n=this.track,i=this.player_.textTracks();if(super.handleClick(t),!!i)for(let r=0;r<i.length;r++){const s=i[r];this.kinds.indexOf(s.kind)!==-1&&(s===n?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(t){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(t){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Ie.registerComponent("TextTrackMenuItem",Kd);class _R extends Kd{constructor(t,n){n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(t,n)}handleTracksChange(t){const n=this.player().textTracks();let i=!0;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(t){const n=this.player().textTracks();let i=!0;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Ie.registerComponent("OffTextTrackMenuItem",_R);class Vu extends tT{constructor(t,n={}){n.tracks=t.textTracks(),super(t,n)}createItems(t=[],n=Kd){let i;this.label_&&(i="".concat(this.label_," off")),t.push(new _R(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;const r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<r.length;s++){const a=r[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new n(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass("vjs-".concat(a.kind,"-menu-item")),t.push(o)}}return t}}Ie.registerComponent("TextTrackButton",Vu);class bR extends Yd{constructor(t,n){const i=n.track,r=n.cue,s=t.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=r.text,n.selected=r.startTime<=s&&s<r.endTime,super(t,n),this.track=i,this.cue=r}handleClick(t){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Ie.registerComponent("ChaptersTrackMenuItem",bR);class nT extends Vu{constructor(t,n,i){super(t,n,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(r=>{r.selected(this.track_.activeCues[0]===r.cue)})}}buildCSSClass(){return"vjs-chapters-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-chapters-button ".concat(super.buildWrapperCSSClass())}update(t){if(t&&t.track&&t.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const t=this.player_.textTracks()||[];for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(An(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const t=[];if(!this.track_)return t;const n=this.track_.cues;if(!n)return t;for(let i=0,r=n.length;i<r;i++){const s=n[i],a=new bR(this.player_,{track:this.track_,cue:s});t.push(a)}return t}}nT.prototype.kind_="chapters";nT.prototype.controlText_="Chapters";Ie.registerComponent("ChaptersButton",nT);class iT extends Vu{constructor(t,n,i){super(t,n,i),this.setIcon("audio-description");const r=t.textTracks(),s=nn(this,this.handleTracksChange);r.addEventListener("change",s),this.on("dispose",function(){r.removeEventListener("change",s)})}handleTracksChange(t){const n=this.player().textTracks();let i=!1;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(a.kind!==this.kind_&&a.mode==="showing"){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return"vjs-descriptions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-descriptions-button ".concat(super.buildWrapperCSSClass())}}iT.prototype.kind_="descriptions";iT.prototype.controlText_="Descriptions";Ie.registerComponent("DescriptionsButton",iT);class rT extends Vu{constructor(t,n,i){super(t,n,i),this.setIcon("subtitles")}buildCSSClass(){return"vjs-subtitles-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subtitles-button ".concat(super.buildWrapperCSSClass())}}rT.prototype.kind_="subtitles";rT.prototype.controlText_="Subtitles";Ie.registerComponent("SubtitlesButton",rT);class sT extends Kd{constructor(t,n){n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(t,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(t){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Ie.registerComponent("CaptionSettingsMenuItem",sT);class aT extends Vu{constructor(t,n,i){super(t,n,i),this.setIcon("captions")}buildCSSClass(){return"vjs-captions-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-captions-button ".concat(super.buildWrapperCSSClass())}createItems(){const t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new sT(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(t)}}aT.prototype.kind_="captions";aT.prototype.controlText_="Captions";Ie.registerComponent("CaptionsButton",aT);class TR extends Kd{createEl(t,n,i){const r=super.createEl(t,n,i),s=r.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",r):s.appendChild(lt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(lt("span",{className:"vjs-control-text",textContent:" ".concat(this.localize("Captions"))}))),r}}Ie.registerComponent("SubsCapsMenuItem",TR);class oT extends Vu{constructor(t,n={}){super(t,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(An(this.label_))}buildCSSClass(){return"vjs-subs-caps-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-subs-caps-button ".concat(super.buildWrapperCSSClass())}createItems(){let t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new sT(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=super.createItems(t,TR),t}}oT.prototype.kinds_=["captions","subtitles"];oT.prototype.controlText_="Subtitles";Ie.registerComponent("SubsCapsButton",oT);class AR extends Yd{constructor(t,n){const i=n.track,r=t.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,super(t,n),this.track=i,this.addClass("vjs-".concat(i.kind,"-menu-item"));const s=(...a)=>{this.handleTracksChange.apply(this,a)};r.addEventListener("change",s),this.on("dispose",()=>{r.removeEventListener("change",s)})}createEl(t,n,i){const r=super.createEl(t,n,i),s=r.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(lt("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(lt("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),r}handleClick(t){if(super.handleClick(t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let i=0;i<n.length;i++){const r=n[i];r!==this.track&&(r.enabled=r===this.track)}}}handleTracksChange(t){this.selected(this.track.enabled)}}Ie.registerComponent("AudioTrackMenuItem",AR);class SR extends tT{constructor(t,n={}){n.tracks=t.audioTracks(),super(t,n),this.setIcon("audio")}buildCSSClass(){return"vjs-audio-button ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-audio-button ".concat(super.buildWrapperCSSClass())}createItems(t=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let i=0;i<n.length;i++){const r=n[i];t.push(new AR(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return t}}SR.prototype.controlText_="Audio Track";Ie.registerComponent("AudioTrackButton",SR);class lT extends Yd{constructor(t,n){const i=n.rate,r=parseFloat(i,10);n.label=i,n.selected=r===t.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(t,n),this.label=i,this.rate=r,this.on(t,"ratechange",s=>this.update(s))}handleClick(t){super.handleClick(),this.player().playbackRate(this.rate)}update(t){this.selected(this.player().playbackRate()===this.rate)}}lT.prototype.contentElType="button";Ie.registerComponent("PlaybackRateMenuItem",lT);class xR extends eT{constructor(t,n){super(t,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(t,"loadstart",i=>this.updateVisibility(i)),this.on(t,"ratechange",i=>this.updateLabel(i)),this.on(t,"playbackrateschange",i=>this.handlePlaybackRateschange(i))}createEl(){const t=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=lt("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return"vjs-playback-rate ".concat(super.buildCSSClass())}buildWrapperCSSClass(){return"vjs-playback-rate ".concat(super.buildWrapperCSSClass())}createItems(){const t=this.playbackRates(),n=[];for(let i=t.length-1;i>=0;i--)n.push(new lT(this.player(),{rate:t[i]+"x"}));return n}handlePlaybackRateschange(t){this.update()}playbackRates(){const t=this.player();return t.playbackRates&&t.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}xR.prototype.controlText_="Playback Rate";Ie.registerComponent("PlaybackRateMenuButton",xR);class ER extends Ie{buildCSSClass(){return"vjs-spacer ".concat(super.buildCSSClass())}createEl(t="div",n={},i={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(t,n,i)}}Ie.registerComponent("Spacer",ER);class Qae extends ER{buildCSSClass(){return"vjs-custom-control-spacer ".concat(super.buildCSSClass())}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}Ie.registerComponent("CustomControlSpacer",Qae);class CR extends Ie{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}CR.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Ie.registerComponent("ControlBar",CR);class wR extends $u{constructor(t,n){super(t,n),this.on(t,"error",i=>{this.open(i)})}buildCSSClass(){return"vjs-error-display ".concat(super.buildCSSClass())}content(){const t=this.player().error();return t?this.localize(t.message):""}}wR.prototype.options_=Object.assign({},$u.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Ie.registerComponent("ErrorDisplay",wR);class DR extends Ie{constructor(t,n={}){super(t,n),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),lt("select",{id:this.options_.id},{},this.options_.SelectOptions.map(n=>{const i=(this.options_.labelId?this.options_.labelId:"vjs-track-option-".concat(pr()))+"-"+n[1].replace(/\W+/g,""),r=lt("option",{id:i,value:this.localize(n[0]),textContent:this.localize(n[1])});return r.setAttribute("aria-labelledby","".concat(this.selectLabelledbyIds," ").concat(i)),r}))}}Ie.registerComponent("TextTrackSelect",DR);class Wo extends Ie{constructor(t,n={}){super(t,n);const i=lt("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(i);const r=this.options_.selects;for(const s of r){const a=this.options_.selectConfigs[s],o=a.className,l=a.id.replace("%s",this.options_.id_);let u=null;const c="vjs_select_".concat(pr());if(this.options_.type==="colors"){u=lt("span",{className:o});const f=lt("label",{id:l,className:"vjs-label",textContent:this.localize(a.label)});f.setAttribute("for",c),u.appendChild(f)}const d=new DR(t,{SelectOptions:a.options,legendId:this.options_.legendId,id:c,labelId:l});this.addChild(d),this.options_.type==="colors"&&(u.appendChild(d.el()),this.el().appendChild(u))}}createEl(){return lt("fieldset",{className:this.options_.className})}}Ie.registerComponent("TextTrackFieldset",Wo);class kR extends Ie{constructor(t,n={}){super(t,n);const i=this.options_.textTrackComponentid,r=new Wo(t,{id_:i,legendId:"captions-text-legend-".concat(i),legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(r);const s=new Wo(t,{id_:i,legendId:"captions-background-".concat(i),legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const a=new Wo(t,{id_:i,legendId:"captions-window-".concat(i),legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return lt("div",{className:"vjs-track-settings-colors"})}}Ie.registerComponent("TextTrackSettingsColors",kR);class OR extends Ie{constructor(t,n={}){super(t,n);const i=this.options_.textTrackComponentid,r=new Wo(t,{id_:i,legendId:"captions-font-size-".concat(i),legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(r);const s=new Wo(t,{id_:i,legendId:"captions-edge-style-".concat(i),legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const a=new Wo(t,{id_:i,legendId:"captions-font-family-".concat(i),legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return lt("div",{className:"vjs-track-settings-font"})}}Ie.registerComponent("TextTrackSettingsFont",OR);class IR extends Ie{constructor(t,n={}){super(t,n);const i=new pi(t,{controlText:this.localize("restore all settings to the default values"),className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const r=this.localize("Done"),s=new pi(t,{controlText:r,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=r,this.addChild(s)}createEl(){return lt("div",{className:"vjs-track-settings-controls"})}}Ie.registerComponent("TrackSettingsControls",IR);const Vv="vjs-text-track-settings",SC=["#000","Black"],xC=["#00F","Blue"],EC=["#0FF","Cyan"],CC=["#0F0","Green"],wC=["#F0F","Magenta"],DC=["#F00","Red"],kC=["#FFF","White"],OC=["#FF0","Yellow"],jv=["1","Opaque"],Hv=["0.5","Semi-Transparent"],IC=["0","Transparent"],Wa={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[SC,kC,DC,CC,xC,OC,wC,EC],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[jv,Hv,IC],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[kC,SC,DC,CC,xC,OC,wC,EC],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:e=>e==="1.00"?null:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[jv,Hv],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[IC,Hv,jv],className:"vjs-window-opacity vjs-opacity"}};Wa.windowColor.options=Wa.backgroundColor.options;function PR(e,t){if(t&&(e=t(e)),e&&e!=="none")return e}function Jae(e,t){const n=e.options[e.options.selectedIndex].value;return PR(n,t)}function Zae(e,t,n){if(t){for(let i=0;i<e.options.length;i++)if(PR(e.options[i].value,n)===t){e.selectedIndex=i;break}}}class eoe extends $u{constructor(t,n){n.temporary=!1,super(t,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(t),this.endDialog=lt("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(t){const n=new kR(t,{textTrackComponentid:this.id_,selectConfigs:Wa,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(n);const i=new OR(t,{textTrackComponentid:this.id_,selectConfigs:Wa,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(i);const r=new IR(t);this.addChild(r)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),Wl(Wa,t=>{this.on(this.$(t.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return TP(Wa,(t,n,i)=>{const r=Jae(this.$(n.selector),n.parser);return r!==void 0&&(t[i]=r),t},{})}setValues(t){Wl(Wa,(n,i)=>{Zae(this.$(n.selector),t[i],n.parser)})}setDefaults(){Wl(Wa,t=>{const n=t.hasOwnProperty("default")?t.default:0;this.$(t.selector).selectedIndex=n})}restoreSettings(){let t;try{t=JSON.parse(oe.localStorage.getItem(Vv))}catch(n){St.warn(n)}t&&this.setValues(t)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const t=this.getValues();try{Object.keys(t).length?oe.localStorage.setItem(Vv,JSON.stringify(t)):oe.localStorage.removeItem(Vv)}catch(n){St.warn(n)}}updateDisplay(){const t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}Ie.registerComponent("TextTrackSettings",eoe);class toe extends Ie{constructor(t,n){let i=n.ResizeObserver||oe.ResizeObserver;n.ResizeObserver===null&&(i=!1);const r=Ht({createEl:!i,reportTouchActivity:!1},n);super(t,r),this.ResizeObserver=n.ResizeObserver||oe.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=zP(()=>{this.resizeHandler()},100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(t.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){hi(this,"resize",s),hi(this,"unload",a),a=null};Gi(this.el_.contentWindow,"unload",a),Gi(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Ie.registerComponent("ResizeManager",toe);const noe={trackingThreshold:20,liveTolerance:15};class ioe extends Ie{constructor(t,n){const i=Ht(noe,n,{createEl:!1});super(t,i),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=r=>this.handlePlay(r),this.handleFirstTimeupdate_=r=>this.handleFirstTimeupdate(r),this.handleSeeked_=r=>this.handleSeeked(r),this.seekToLiveEdge_=r=>this.seekToLiveEdge(r),this.reset_(),this.on(this.player_,"durationchange",r=>this.handleDurationchange(r)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const t=this.player_.seekable();if(!t||!t.length)return;const n=Number(oe.performance.now().toFixed(4)),i=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+i;const r=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||r===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,mr),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const t=this.player_.seekable(),n=[];let i=t?t.length:0;for(;i--;)n.push(t.end(i));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const t=this.player_.seekable(),n=[];let i=t?t.length:0;for(;i--;)n.push(t.start(i));return n.length?n.sort()[0]:0}liveWindow(){const t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const t=this.seekableEnd();return this.lastSeekEnd_!==-1&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Ie.registerComponent("LiveTracker",ioe);class roe extends Ie{constructor(t,n){super(t,n),this.on("statechanged",i=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:lt("div",{className:"vjs-title-bar-title",id:"vjs-title-bar-title-".concat(pr())}),description:lt("div",{className:"vjs-title-bar-description",id:"vjs-title-bar-description-".concat(pr())})},lt("div",{className:"vjs-title-bar"},{},AP(this.els))}updateDom_(){const t=this.player_.tech_,n=t&&t.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(r=>{const s=this.state[r],a=this.els[r],o=i[r];zm(a),s&&co(a,s),n&&(n.removeAttribute(o),s&&n.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(t){this.setState(t)}dispose(){const t=this.player_.tech_,n=t&&t.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Ie.registerComponent("TitleBar",roe);const soe={initialDisplay:4e3,position:[],takeFocus:!1};class aoe extends pi{constructor(t,n){n=Ht(soe,n),super(t,n),this.controlText(n.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],i=>{this.removeClass("force-display")})}buildCSSClass(){return"vjs-transient-button focus-visible ".concat(this.options_.position.map(t=>"vjs-".concat(t)).join(" "))}createEl(){const t=lt("button",{},{type:"button",class:this.buildCSSClass()},lt("span"));return this.controlTextEl_=t.querySelector("span"),t}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}Ie.registerComponent("TransientButton",aoe);const ky=e=>{const t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;const n=e.$$("source"),i=[];let r="";if(!n.length)return!1;for(let s=0;s<n.length;s++){const a=n[s].src;a&&i.indexOf(a)===-1&&i.push(a)}return i.length?(i.length===1&&(r=i[0]),e.triggerSourceset(r),!0):!1},ooe=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(e){const t=Ve.createElement(this.nodeName.toLowerCase());t.innerHTML=e;const n=Ve.createDocumentFragment();for(;t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",oe.Element.prototype.appendChild.call(this,n),this.innerHTML}}),RR=(e,t)=>{let n={};for(let i=0;i<e.length&&(n=Object.getOwnPropertyDescriptor(e[i],t),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},loe=e=>RR([e.el(),oe.HTMLMediaElement.prototype,oe.Element.prototype,ooe],"innerHTML"),PC=function(e){const t=e.el();if(t.resetSourceWatch_)return;const n={},i=loe(e),r=s=>(...a)=>{const o=s.apply(t,a);return ky(e),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{t[s]&&(n[s]=t[s],t[s]=r(n[s]))}),Object.defineProperty(t,"innerHTML",Ht(i,{set:r(i.set)})),t.resetSourceWatch_=()=>{t.resetSourceWatch_=null,Object.keys(n).forEach(s=>{t[s]=n[s]}),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)},uoe=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?tR(oe.Element.prototype.getAttribute.call(this,"src")):""},set(e){return oe.Element.prototype.setAttribute.call(this,"src",e),e}}),coe=e=>RR([e.el(),oe.HTMLMediaElement.prototype,uoe],"src"),doe=function(e){if(!e.featuresSourceset)return;const t=e.el();if(t.resetSourceset_)return;const n=coe(e),i=t.setAttribute,r=t.load;Object.defineProperty(t,"src",Ht(n,{set:s=>{const a=n.set.call(t,s);return e.triggerSourceset(t.src),a}})),t.setAttribute=(s,a)=>{const o=i.call(t,s,a);return/src/i.test(s)&&e.triggerSourceset(t.src),o},t.load=()=>{const s=r.call(t);return ky(e)||(e.triggerSourceset(""),PC(e)),s},t.currentSrc?e.triggerSourceset(t.currentSrc):ky(e)||PC(e),t.resetSourceset_=()=>{t.resetSourceset_=null,t.load=r,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}};class Ye extends gt{constructor(t,n){super(t,n);const i=t.source;let r=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",i&&(this.el_.currentSrc!==i.src||t.tag&&t.tag.initNetworkState_===3)?this.setSource(i):this.handleLateInit_(this.el_),t.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const l=s[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!r&&!this.el_.hasAttribute("crossorigin")&&Ym(l.src)&&(r=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&r&&St.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(bd||$m)&&t.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Ye.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){doe(this)}restoreMetadataTracksInIOSNativePlayer_(){const t=this.textTracks();let n;const i=()=>{n=[];for(let s=0;s<t.length;s++){const a=t[s];a.kind==="metadata"&&n.push({track:a,storedMode:a.mode})}};i(),t.addEventListener("change",i),this.on("dispose",()=>t.removeEventListener("change",i));const r=()=>{for(let s=0;s<n.length;s++){const a=n[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}t.removeEventListener("change",r)};this.on("webkitbeginfullscreen",()=>{t.removeEventListener("change",i),t.removeEventListener("change",r),t.addEventListener("change",r)}),this.on("webkitendfullscreen",()=>{t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",r)})}overrideNative_(t,n){if(n!==this["featuresNative".concat(t,"Tracks")])return;const i=t.toLowerCase();this["".concat(i,"TracksListeners_")]&&Object.keys(this["".concat(i,"TracksListeners_")]).forEach(r=>{this.el()["".concat(i,"Tracks")].removeEventListener(r,this["".concat(i,"TracksListeners_")][r])}),this["featuresNative".concat(t,"Tracks")]=!n,this["".concat(i,"TracksListeners_")]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(t){this.overrideNative_("Audio",t)}overrideNativeVideoTracks(t){this.overrideNative_("Video",t)}proxyNativeTracksForType_(t){const n=ur[t],i=this.el()[n.getterName],r=this[n.getterName]();if(!this["featuresNative".concat(n.capitalName,"Tracks")]||!i||!i.addEventListener)return;const s={change:o=>{const l={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(l),t==="text"&&this[Au.remoteText.getterName]().trigger(l)},addtrack(o){r.addTrack(o.track)},removetrack(o){r.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<r.length;l++){let u=!1;for(let c=0;c<i.length;c++)if(i[c]===r[l]){u=!0;break}u||o.push(r[l])}for(;o.length;)r.removeTrack(o.shift())};this[n.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const l=s[o];i.addEventListener(o,l),this.on("dispose",u=>i.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){ur.names.forEach(t=>{this.proxyNativeTracksForType_(t)})}createEl(){let t=this.options_.tag;if(!t||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(t){const i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),Ye.disposeMediaElement(t),t=i}else{t=Ve.createElement("video");const i=this.options_.tag&&qa(this.options_.tag),r=Ht({},i);(!bd||this.options_.nativeControlsForTouch!==!0)&&delete r.controls,IP(t,Object.assign(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&_u(t,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let i=0;i<n.length;i++){const r=n[i],s=this.options_[r];typeof s<"u"&&(s?_u(t,r,r):jm(t,r),t[r]=s)}return t}handleLateInit_(t){if(t.networkState===0||t.networkState===3)return;if(t.readyState===0){let i=!1;const r=function(){i=!0};this.on("loadstart",r);const s=function(){i||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",s),i||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),t.readyState>=2&&n.push("loadeddata"),t.readyState>=3&&n.push("canplay"),t.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(i){this.trigger(i)},this)})}setScrubbing(t){this.isScrubbing_=t}scrubbing(){return this.isScrubbing_}setCurrentTime(t){try{this.isScrubbing_&&this.el_.fastSeek&&Um?this.el_.fastSeek(t):this.el_.currentTime=t}catch(n){St(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Kr&&ks&&this.el_.currentTime===0){const t=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",t)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)vs(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{t.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):super.requestVideoFrameCallback(t)}cancelVideoFrameCallback(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):super.cancelVideoFrameCallback(t)}src(t){if(t===void 0)return this.el_.src;this.setSrc(t)}addSourceElement(t,n){if(!t)return St.error("Invalid source URL."),!1;const i={src:t};n&&(i.type=n);const r=lt("source",{},i);return this.el_.appendChild(r),!0}removeSourceElement(t){if(!t)return St.error("Source URL is required to remove the source element."),!1;const n=this.el_.querySelectorAll("source");for(const i of n)if(i.src===t)return this.el_.removeChild(i),!0;return St.warn("No matching source element found with src: ".concat(t)),!1}reset(){Ye.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(t){this.el_.controls=!!t}addTextTrack(t,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,i):super.addTextTrack(t,n,i)}createRemoteTextTrack(t){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(t);const n=Ve.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n}addRemoteTextTrack(t,n){const i=super.addRemoteTextTrack(t,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(t){if(super.removeRemoteTextTrack(t),this.featuresNativeTextTracks){const n=this.$$("track");let i=n.length;for(;i--;)(t===n[i]||t===n[i].track)&&this.el().removeChild(n[i])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const t={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),oe.performance&&(t.creationTime=oe.performance.now()),t}}Nm(Ye,"TEST_VID",function(){if(!Nu())return;const e=Ve.createElement("video"),t=Ve.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e});Ye.isSupported=function(){try{Ye.TEST_VID.volume=.5}catch(e){return!1}return!!(Ye.TEST_VID&&Ye.TEST_VID.canPlayType)};Ye.canPlayType=function(e){return Ye.TEST_VID.canPlayType(e)};Ye.canPlaySource=function(e,t){return Ye.canPlayType(e.type)};Ye.canControlVolume=function(){try{const e=Ye.TEST_VID.volume;Ye.TEST_VID.volume=e/2+.1;const t=e!==Ye.TEST_VID.volume;return t&&fi?(oe.setTimeout(()=>{Ye&&Ye.prototype&&(Ye.prototype.featuresVolumeControl=e!==Ye.TEST_VID.volume)}),!1):t}catch(e){return!1}};Ye.canMuteVolume=function(){try{const e=Ye.TEST_VID.muted;return Ye.TEST_VID.muted=!e,Ye.TEST_VID.muted?_u(Ye.TEST_VID,"muted","muted"):jm(Ye.TEST_VID,"muted","muted"),e!==Ye.TEST_VID.muted}catch(e){return!1}};Ye.canControlPlaybackRate=function(){if(Kr&&ks&&Bm<58)return!1;try{const e=Ye.TEST_VID.playbackRate;return Ye.TEST_VID.playbackRate=e/2+.1,e!==Ye.TEST_VID.playbackRate}catch(e){return!1}};Ye.canOverrideAttributes=function(){try{const e=()=>{};Object.defineProperty(Ve.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(Ve.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(Ve.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(Ve.createElement("audio"),"innerHTML",{get:e,set:e})}catch(e){return!1}return!0};Ye.supportsNativeTextTracks=function(){return Um||fi&&ks};Ye.supportsNativeVideoTracks=function(){return!!(Ye.TEST_VID&&Ye.TEST_VID.videoTracks)};Ye.supportsNativeAudioTracks=function(){return!!(Ye.TEST_VID&&Ye.TEST_VID.audioTracks)};Ye.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([e,t]){Nm(Ye.prototype,e,()=>Ye[t](),!0)});Ye.prototype.featuresVolumeControl=Ye.canControlVolume();Ye.prototype.movingMediaElementInDOM=!fi;Ye.prototype.featuresFullscreenResize=!0;Ye.prototype.featuresProgressEvents=!0;Ye.prototype.featuresTimeupdateEvents=!0;Ye.prototype.featuresVideoFrameCallback=!!(Ye.TEST_VID&&Ye.TEST_VID.requestVideoFrameCallback);Ye.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),typeof e.load=="function"&&(function(){try{e.load()}catch(t){}})()}};Ye.resetMediaElement=function(e){if(!e)return;const t=e.querySelectorAll("source");let n=t.length;for(;n--;)e.removeChild(t[n]);e.removeAttribute("src"),typeof e.load=="function"&&(function(){try{e.load()}catch(i){}})()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){Ye.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){Ye.prototype["set"+An(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(e){Ye.prototype[e]=function(){return this.el_[e]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(e){Ye.prototype["set"+An(e)]=function(t){this.el_[e]=t}});["pause","load","play"].forEach(function(e){Ye.prototype[e]=function(){return this.el_[e]()}});gt.withSourceHandlers(Ye);Ye.nativeSourceHandler={};Ye.nativeSourceHandler.canPlayType=function(e){try{return Ye.TEST_VID.canPlayType(e)}catch(t){return""}};Ye.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return Ye.nativeSourceHandler.canPlayType(e.type);if(e.src){const n=Gb(e.src);return Ye.nativeSourceHandler.canPlayType("video/".concat(n))}return""};Ye.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)};Ye.nativeSourceHandler.dispose=function(){};Ye.registerSourceHandler(Ye.nativeSourceHandler);gt.registerTech("Html5",Ye);const LR=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],zv={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Oy=["tiny","xsmall","small","medium","large","xlarge","huge"],Ih={};Oy.forEach(e=>{const t=e.charAt(0)==="x"?"x-".concat(e.substring(1)):e;Ih[e]="vjs-layout-".concat(t)});const foe={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class $t extends Ie{constructor(t,n,i){if(t.id=t.id||n.id||"vjs_video_".concat(pr()),n=Object.assign($t.getTagSettings(t),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const a=t.closest("[lang]");a&&(n.language=a.getAttribute("lang"))}if(super(null,n,i),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=_P(this.id_),this.fsApi_=gp,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=t,this.tagAttributes=t&&qa(t),this.language(this.options_.language),n.languages){const a={};Object.getOwnPropertyNames(n.languages).forEach(function(o){a[o.toLowerCase()]=n.languages[o]}),this.languages_=a}else this.languages_=$t.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,t.controls=!1,t.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],t.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error('plugin "'.concat(a,'" does not exist'))}),this.scrubbing_=!1,this.el_=this.createEl(),jb(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Gi(Ve,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const r=Ht(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(a=>{this[a](n.plugins[a])}),n.debug&&this.debug(!0),this.options_.playerOptions=r,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const o=new oe.DOMParser().parseFromString(Mae,"image/svg+xml");if(o.querySelector("parsererror"))St.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=o.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(t.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),n.spatialNavigation&&n.spatialNavigation.enabled&&(this.spatialNavigation=new Nae(this),this.addClass("vjs-spatial-navigation-enabled")),bd&&this.addClass("vjs-touch-enabled"),fi||this.addClass("vjs-workinghover"),$t.players[this.id_]=this;const s=_y.split(".")[0];this.addClass("vjs-v".concat(s)),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),hi(Ve,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),hi(Ve,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),$t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Iae(this),Di.names.forEach(t=>{const n=Di[t],i=this[n.getterName]();i&&i.off&&i.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let t=this.tag,n,i=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");const r=this.tag.tagName.toLowerCase()==="video-js";i?n=this.el_=t.parentNode:r||(n=this.el_=super.createEl("div"));const s=qa(t);if(r){for(n=this.el_=t,t=this.tag=Ve.createElement("video");n.children.length;)t.appendChild(n.firstChild);Kc(n,"video-js")||zo(n,"video-js"),n.appendChild(t),i=this.playerElIngest_=n,Object.keys(n).forEach(l=>{try{t[l]=n[l]}catch(u){}})}t.setAttribute("tabindex","-1"),s.tabindex="-1",ks&&Fm&&(t.setAttribute("role","application"),s.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){r&&l==="class"||n.setAttribute(l,s[l]),r&&t.setAttribute(l,s[l])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>wP[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),oe.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=jP("vjs-styles-dimensions");const l=eo(".vjs-styles-defaults"),u=eo("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=t.getElementsByTagName("a");for(let l=0;l<o.length;l++){const u=o.item(l);zo(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!i&&t.parentNode.insertBefore(n,t),Ty(t,n),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(t){if(typeof t>"u")return this.techGet_("crossOrigin");if(t!==null&&t!=="anonymous"&&t!=="use-credentials"){St.warn('crossOrigin must be null,  "anonymous" or "use-credentials", given "'.concat(t,'"'));return}this.techCall_("setCrossOrigin",t),this.posterImage&&this.posterImage.crossOrigin(t)}width(t){return this.dimension("width",t)}height(t){return this.dimension("height",t)}dimension(t,n){const i=t+"_";if(n===void 0)return this[i]||0;if(n===""||n==="auto"){this[i]=void 0,this.updateStyleEl_();return}const r=parseFloat(n);if(isNaN(r)){St.error('Improper value "'.concat(n,'" supplied for for ').concat(t));return}this[i]=r,this.updateStyleEl_()}fluid(t){if(t===void 0)return!!this.fluid_;this.fluid_=!!t,oa(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),uae(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(t){if(t===void 0)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(t){if(t===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(oe.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(o>=0&&(u.width=o),l>=0&&(u.height=l));return}let t,n,i,r;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?i=this.aspectRatio_:this.videoWidth()>0?i=this.videoWidth()+":"+this.videoHeight():i="16:9";const s=i.split(":"),a=s[1]/s[0];this.width_!==void 0?t=this.width_:this.height_!==void 0?t=this.height_/a:t=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=t*a,/^[^a-zA-Z]/.test(this.id())?r="dimensions-"+this.id():r=this.id()+"-dimensions",this.addClass(r),HP(this.styleEl_,"\n      .".concat(r," {\n        width: ").concat(t,"px;\n        height: ").concat(n,"px;\n      }\n\n      .").concat(r,".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ").concat(a*100,"%;\n      }\n    "))}loadTech_(t,n){this.tech_&&this.unloadTech_();const i=An(t),r=t.charAt(0).toLowerCase()+t.slice(1);i!=="Html5"&&this.tag&&(gt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:n,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:"".concat(this.id(),"_").concat(r,"_api"),playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Di.names.forEach(l=>{const u=Di[l];a[u.getterName]=this[u.privateName]}),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[t.toLowerCase()]),this.tag&&(a.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=gt.getTech(t);if(!o)throw new Error("No Tech named '".concat(i,"' exists! '").concat(i,"' should be registered using videojs.registerTech()'"));this.tech_=new o(a),this.tech_.ready(nn(this,this.handleTechReady_),!0),wy.jsonToTextTracks(this.textTracksJson_||[],this.tech_),LR.forEach(l=>{this.on(this.tech_,l,u=>this["handleTech".concat(An(l),"_")](u))}),Object.keys(zv).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this["handleTech".concat(zv[l],"_")].bind(this),event:u});return}this["handleTech".concat(zv[l],"_")](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(i!=="Html5"||!this.tag)&&Ty(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Di.names.forEach(t=>{const n=Di[t];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=wy.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(t){return t===void 0&&St.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}version(){return{"video.js":_y}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(t){if(!this.tech_||typeof t!="string")return;const n=()=>{const r=this.muted();this.muted(!0);const s=()=>{this.muted(r)};this.playTerminatedQueue_.push(s);const a=this.play();if(Qc(a))return a.catch(o=>{throw s(),new Error("Rejection at manualAutoplay. Restoring muted value. ".concat(o||""))})};let i;if(t==="any"&&!this.muted()?(i=this.play(),Qc(i)&&(i=i.catch(n))):t==="muted"&&!this.muted()?i=n():i=this.play(),!!Qc(i))return i.then(()=>{this.trigger({type:"autoplay-success",autoplay:t})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:t})})}updateSourceCaches_(t=""){let n=t,i="";typeof n!="string"&&(n=t.src,i=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!i&&(i=Lae(this,n)),this.cache_.source=Ht({},t,{src:n,type:i});const r=this.cache_.sources.filter(l=>l.src&&l.src===n),s=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const u=qa(a[l]);s.push(u),u.src&&u.src===n&&o.push(u.src)}o.length&&!r.length?this.cache_.sources=s:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(t){if(!this.changingSrc_){let n=s=>this.updateSourceCaches_(s);const i=this.currentSource().src,r=t.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=()=>{}),n(r),t.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})}hasStarted(t){if(t===void 0)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(t=>t.callback(t.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const t=this.currentTime(),n=()=>{t!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(t){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,t):this.paused()?vs(this.play()):this.pause())}handleTechDoubleClick_(t){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),i=>i.contains(t.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,t):this.isInPictureInPicture()&&!Ve.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(t){t.cancelable&&t.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(t){const n=t.target.player;if(n&&n!==this)return;const i=this.el();let r=Ve[this.fsApi_.fullscreenElement]===i;!r&&i.matches&&(r=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}handleTechFullscreenChange_(t,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(t,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(t){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(t){this.isInPictureInPicture(!1)}handleTechError_(){const t=this.tech_.error();t&&this.error(t)}handleTechTextData_(){let t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(t,n){this.ready(function(){if(t in kae)return wae(this.middleware_,this.tech_,t,n);if(t in vC)return gC(this.middleware_,this.tech_,t,n);try{this.tech_&&this.tech_[t](n)}catch(i){throw St(i),i}},!0)}techGet_(t){if(!(!this.tech_||!this.tech_.isReady_)){if(t in Dae)return Cae(this.middleware_,this.tech_,t);if(t in vC)return gC(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(n){throw this.tech_[t]===void 0?(St("Video.js: ".concat(t," method not defined for ").concat(this.techName_," playback technology."),n),n):n.name==="TypeError"?(St("Video.js: ".concat(t," unavailable on ").concat(this.techName_," playback technology element."),n),this.tech_.isReady_=!1,n):(St(n),n)}}}play(){return new Promise(t=>{this.play_(t)})}play_(t=vs){this.playCallbacks_.push(t);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),i=!!(Um||fi);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&i&&this.load();return}const r=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),r===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)}runPlayTerminatedQueue_(){const t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(n){n()})}runPlayCallbacks_(t){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(i){i(t)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||zr(0,0)}scrubbing(t){if(typeof t>"u")return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(t){if(t===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(t<0&&(t=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",t),this.cache_.initTime=0,isFinite(t)&&(this.cache_.currentTime=Number(t))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(t){if(t===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let t=this.techGet_("buffered");return(!t||!t.length)&&(t=zr(0,0)),t}seekable(){let t=this.techGet_("seekable");return(!t||!t.length)&&(t=zr(0,0)),t}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return JP(this.buffered(),this.duration())}bufferedEnd(){const t=this.buffered(),n=this.duration();let i=t.end(t.length-1);return i>n&&(i=n),i}volume(t){let n;if(t!==void 0){n=Math.max(0,Math.min(1,t)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(t){if(t!==void 0){this.techCall_("setMuted",t);return}return this.techGet_("muted")||!1}defaultMuted(t){return t!==void 0&&this.techCall_("setDefaultMuted",t),this.techGet_("defaultMuted")||!1}lastVolume_(t){if(t!==void 0&&t!==0){this.cache_.lastVolume=t;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(t){if(t!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!t,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(t){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((i,r)=>{function s(){n.off("fullscreenerror",o),n.off("fullscreenchange",a)}function a(){s(),i()}function o(u,c){s(),r(c)}n.one("fullscreenchange",a),n.one("fullscreenerror",o);const l=n.requestFullscreenHelper_(t);l&&(l.then(s,s),l.then(i,r))})}requestFullscreenHelper_(t){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},t!==void 0&&(n=t)),this.fsApi_.requestFullscreen){const i=this.el_[this.fsApi_.requestFullscreen](n);return i&&i.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),i}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const t=this;return new Promise((n,i)=>{function r(){t.off("fullscreenerror",a),t.off("fullscreenchange",s)}function s(){r(),n()}function a(l,u){r(),i(u)}t.one("fullscreenchange",s),t.one("fullscreenerror",a);const o=t.exitFullscreenHelper_();o&&(o.then(r,r),o.then(n,i))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const t=Ve[this.fsApi_.exitFullscreen]();return t&&vs(t.then(()=>this.isFullscreen(!1))),t}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Ve.documentElement.style.overflow,Gi(Ve,"keydown",this.boundFullWindowOnEscKey_),Ve.documentElement.style.overflow="hidden",zo(Ve.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(t){t.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,hi(Ve,"keydown",this.boundFullWindowOnEscKey_),Ve.documentElement.style.overflow=this.docOrigOverflow,Vm(Ve.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(t){if(t===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(t){if(t!==void 0){this.isInPictureInPicture_=!!t,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&oe.documentPictureInPicture){const t=Ve.createElement(this.el().tagName);return t.classList=this.el().classList,t.classList.add("vjs-pip-container"),this.posterImage&&t.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&t.appendChild(this.titleBar.el().cloneNode(!0)),t.appendChild(lt("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),oe.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>($P(n),this.el_.parentNode.insertBefore(t,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:n}),n.addEventListener("pagehide",i=>{const r=i.target.querySelector(".video-js");t.parentNode.replaceChild(r,t),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in Ve&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(oe.documentPictureInPicture&&oe.documentPictureInPicture.window)return oe.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Ve)return Ve.exitPictureInPicture()}handleKeyDown(t){const{userActions:n}=this.options_;!n||!n.hotkeys||(r=>{const s=r.tagName.toLowerCase();if(r.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?a.indexOf(r.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,t):this.handleHotkeys(t))}handleHotkeys(t){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=a=>t.key.toLowerCase()==="f",muteKey:r=a=>t.key.toLowerCase()==="m",playPauseKey:s=a=>t.key.toLowerCase()==="k"||t.key.toLowerCase()===" "}=n;if(i.call(this,t)){t.preventDefault(),t.stopPropagation();const a=Ie.getComponent("FullscreenToggle");Ve[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,t)}else r.call(this,t)?(t.preventDefault(),t.stopPropagation(),Ie.getComponent("MuteToggle").prototype.handleClick.call(this,t)):s.call(this,t)&&(t.preventDefault(),t.stopPropagation(),Ie.getComponent("PlayToggle").prototype.handleClick.call(this,t))}canPlayType(t){let n;for(let i=0,r=this.options_.techOrder;i<r.length;i++){const s=r[i];let a=gt.getTech(s);if(a||(a=Ie.getComponent(s)),!a){St.error('The "'.concat(s,'" tech is undefined. Skipped browser support check for that tech.'));continue}if(a.isSupported()&&(n=a.canPlayType(t),n))return n}return""}selectSource(t){const n=this.options_.techOrder.map(o=>[o,gt.getTech(o)]).filter(([o,l])=>l?l.isSupported():(St.error('The "'.concat(o,'" tech is undefined. Skipped browser support check for that tech.')),!1)),i=function(o,l,u){let c;return o.some(d=>l.some(f=>{if(c=u(d,f),c)return!0})),c};let r;const s=o=>(l,u)=>o(u,l),a=([o,l],u)=>{if(l.canPlaySource(u,this.options_[o.toLowerCase()]))return{source:u,tech:o}};return this.options_.sourceOrder?r=i(t,n,s(a)):r=i(n,t,a),r||!1}handleSrc_(t,n){if(typeof t>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=rR(t);if(!i.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),xae(this,i[0],(r,s)=>{if(this.middleware_=s,n||(this.cache_.sources=i),this.updateSourceCaches_(r),this.src_(r)){if(i.length>1)return this.handleSrc_(i.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}Eae(s,this.tech_)}),i.length>1){const r=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},s=()=>{this.off("error",r)};this.one("error",r),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",r),this.off("playing",s)}}}src(t){return this.handleSrc_(t,!1)}src_(t){const n=this.selectSource([t]);return n?YP(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(t,n){return this.tech_?this.tech_.addSourceElement(t,n):!1}removeSourceElement(t){return this.tech_?this.tech_.removeSourceElement(t):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const t=this.play();vs(t.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),oa(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:t,durationDisplay:n,progressControl:i,remainingTimeDisplay:r}=this.controlBar||{},{seekBar:s}=i||{};t&&t.updateContent(),n&&n.updateContent(),r&&r.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const t=this.currentSource(),n=[];return Object.keys(t).length!==0&&n.push(t),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(t){if(t!==void 0){this.techCall_("setPreload",t),this.options_.preload=t;return}return this.techGet_("preload")}autoplay(t){if(t===void 0)return this.options_.autoplay||!1;let n;typeof t=="string"&&/(any|play|muted)/.test(t)||t===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_(typeof t=="string"?t:"play"),n=!1):t?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(t){return t!==void 0&&(this.techCall_("setPlaysinline",t),this.options_.playsinline=t),this.techGet_("playsinline")}loop(t){if(t!==void 0){this.techCall_("setLoop",t),this.options_.loop=t;return}return this.techGet_("loop")}poster(t){if(t===void 0)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(t){if(t===void 0)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(t){if(t===void 0)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(t){if(t===void 0)return this.error_||null;if(Za("beforeerror").forEach(n=>{const i=n(this,t);if(!(Ds(i)&&!Array.isArray(i)||typeof i=="string"||typeof i=="number"||i===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}t=i}),this.options_.suppressNotSupportedError&&t&&t.code===4){const n=function(){this.error(t)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(t===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new _n(t),this.addClass("vjs-error"),St.error("(CODE:".concat(this.error_.code," ").concat(_n.errorTypes[this.error_.code],")"),this.error_.message,this.error_),this.trigger("error"),Za("error").forEach(n=>n(this,this.error_))}reportUserActivity(t){this.userActivity_=!0}userActive(t){if(t===void 0)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let t,n,i;const r=nn(this,this.reportUserActivity),s=function(d){(d.screenX!==n||d.screenY!==i)&&(n=d.screenX,i=d.screenY,r())},a=function(){r(),this.clearInterval(t),t=this.setInterval(r,250)},o=function(d){r(),this.clearInterval(t)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!fi&&!Kr&&(l.on("mouseenter",function(d){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(d){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r);let u;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const d=this.options_.inactivityTimeout;d<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},d))};this.setInterval(c,250)}playbackRate(t){if(t!==void 0){this.techCall_("setPlaybackRate",t);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(t){return t!==void 0?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(t){if(t!==void 0){this.isAudio_=!!t;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const t=this.getChild("ControlBar");!t||this.audioOnlyCache_.controlBarHeight===t.currentHeight()||(this.audioOnlyCache_.controlBarHeight=t.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const t=this.children(),n=this.getChild("ControlBar"),i=n&&n.currentHeight();t.forEach(r=>{r!==n&&r.el_&&!r.hasClass("vjs-hidden")&&(r.hide(),this.audioOnlyCache_.hiddenChildren.push(r))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=i,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(t=>t.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(t){if(typeof t!="boolean"||t===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=t,t){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(t){return typeof t!="boolean"||t===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=t,t?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(t,n,i){if(this.tech_)return this.tech_.addTextTrack(t,n,i)}addRemoteTextTrack(t,n){if(this.tech_)return this.tech_.addRemoteTextTrack(t,n)}removeRemoteTextTrack(t={}){let{track:n}=t;if(n||(n=t),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(t){if(t===void 0)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),oa(this)&&this.trigger("languagechange"))}languages(){return Ht($t.prototype.options_.languages,this.languages_)}toJSON(){const t=Ht(this.options_),n=t.tracks;t.tracks=[];for(let i=0;i<n.length;i++){let r=n[i];r=Ht(r),r.player=void 0,t.tracks[i]=r}return t}createModal(t,n){n=n||{},n.content=t||"";const i=new $u(this,n);return this.addChild(i),i.on("dispose",()=>{this.removeChild(i)}),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;const t=this.currentBreakpoint(),n=this.currentWidth();for(let i=0;i<Oy.length;i++){const r=Oy[i],s=this.breakpoints_[r];if(n<=s){if(t===r)return;t&&this.removeClass(Ih[t]),this.addClass(Ih[r]),this.breakpoint_=r;break}}}removeCurrentBreakpoint_(){const t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)}breakpoints(t){return t===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},foe,t),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(t){if(t===void 0)return this.responsive_;t=!!t;const n=this.responsive_;if(t!==n)return this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Ih[this.breakpoint_]||""}loadMedia(t,n){if(!t||typeof t!="object")return;const i=this.crossOrigin();this.reset(),this.cache_.media=Ht(t);const{artist:r,artwork:s,description:a,poster:o,src:l,textTracks:u,title:c}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:Cp(o)}]),i&&this.crossOrigin(i),l&&this.src(l),o&&this.poster(o),Array.isArray(u)&&u.forEach(d=>this.addRemoteTextTrack(d,!1)),this.titleBar&&this.titleBar.update({title:c,description:a||r||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const t=this.poster(),n=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),r={src:n,textTracks:i};return t&&(r.poster=t,r.artwork=[{src:r.poster,type:Cp(r.poster)}]),r}return Ht(this.cache_.media)}static getTagSettings(t){const n={sources:[],tracks:[]},i=qa(t),r=i["data-setup"];if(Kc(t,"vjs-fill")&&(i.fill=!0),Kc(t,"vjs-fluid")&&(i.fluid=!0),r!==null)try{Object.assign(i,JSON.parse(r||"{}"))}catch(s){St.error("data-setup",s)}if(Object.assign(n,i),t.hasChildNodes()){const s=t.childNodes;for(let a=0,o=s.length;a<o;a++){const l=s[a],u=l.nodeName.toLowerCase();u==="source"?n.sources.push(qa(l)):u==="track"&&n.tracks.push(qa(l))}}return n}debug(t){if(t===void 0)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(t){if(t===void 0)return this.cache_.playbackRates;Array.isArray(t)&&t.every(n=>typeof n=="number")&&(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))}}$t.prototype.videoTracks=()=>{};$t.prototype.audioTracks=()=>{};$t.prototype.textTracks=()=>{};$t.prototype.remoteTextTracks=()=>{};$t.prototype.remoteTextTrackEls=()=>{};Di.names.forEach(function(e){const t=Di[e];$t.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}});$t.prototype.crossorigin=$t.prototype.crossOrigin;$t.players={};const Cc=oe.navigator;$t.prototype.options_={techOrder:gt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Cc&&(Cc.languages&&Cc.languages[0]||Cc.userLanguage||Cc.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1,disableSeekWhileScrubbingOnSTV:!1};LR.forEach(function(e){$t.prototype["handleTech".concat(An(e),"_")]=function(){return this.trigger(e)}});Ie.registerComponent("Player",$t);const wp="plugin",Kl="activePlugins_",Ll={},Dp=e=>Ll.hasOwnProperty(e),Ph=e=>Dp(e)?Ll[e]:void 0,MR=(e,t)=>{e[Kl]=e[Kl]||{},e[Kl][t]=!0},kp=(e,t,n)=>{const i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},hoe=function(e,t){const n=function(){kp(this,{name:e,plugin:t,instance:null},!0);const i=t.apply(this,arguments);return MR(this,e),kp(this,{name:e,plugin:t,instance:i}),i};return Object.keys(t).forEach(function(i){n[i]=t[i]}),n},RC=(e,t)=>(t.prototype.name=e,function(...n){kp(this,{name:e,plugin:t,instance:null},!0);const i=new t(this,...n);return this[e]=()=>i,kp(this,i.getEventHash()),i});class Fi{constructor(t){if(this.constructor===Fi)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),jb(this),delete this.trigger,GP(this,this.constructor.defaultState),MR(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(t={}){return t.name=this.name,t.plugin=this.constructor,t.instance=this,t}trigger(t,n={}){return Fu(this.eventBusEl_,t,this.getEventHash(n))}handleStateChanged(t){}dispose(){const{name:t,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Kl][t]=!1,this.player=this.state=null,n[t]=RC(t,Ll[t])}static isBasic(t){const n=typeof t=="string"?Ph(t):t;return typeof n=="function"&&!Fi.prototype.isPrototypeOf(n.prototype)}static registerPlugin(t,n){if(typeof t!="string")throw new Error('Illegal plugin name, "'.concat(t,'", must be a string, was ').concat(typeof t,"."));if(Dp(t))St.warn('A plugin named "'.concat(t,'" already exists. You may want to avoid re-registering plugins!'));else if($t.prototype.hasOwnProperty(t))throw new Error('Illegal plugin name, "'.concat(t,'", cannot share a name with an existing player method!'));if(typeof n!="function")throw new Error('Illegal plugin for "'.concat(t,'", must be a function, was ').concat(typeof n,"."));return Ll[t]=n,t!==wp&&(Fi.isBasic(n)?$t.prototype[t]=hoe(t,n):$t.prototype[t]=RC(t,n)),n}static deregisterPlugin(t){if(t===wp)throw new Error("Cannot de-register base plugin.");Dp(t)&&(delete Ll[t],delete $t.prototype[t])}static getPlugins(t=Object.keys(Ll)){let n;return t.forEach(i=>{const r=Ph(i);r&&(n=n||{},n[i]=r)}),n}static getPluginVersion(t){const n=Ph(t);return n&&n.VERSION||""}}Fi.getPlugin=Ph;Fi.BASE_PLUGIN_NAME=wp;Fi.registerPlugin(wp,Fi);$t.prototype.usingPlugin=function(e){return!!this[Kl]&&this[Kl][e]===!0};$t.prototype.hasPlugin=function(e){return!!Dp(e)};function poe(e,t){let n=!1;return function(...i){return n||St.warn(e),n=!0,t.apply(this,i)}}function es(e,t,n,i){return poe("".concat(t," is deprecated and will be removed in ").concat(e,".0; please use ").concat(n," instead."),i)}var moe={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const NR=e=>e.indexOf("#")===0?e.slice(1):e;function Te(e,t,n){let i=Te.getPlayer(e);if(i)return t&&St.warn('Player "'.concat(e,'" is already initialised. Options will not be applied.')),n&&i.ready(n),i;const r=typeof e=="string"?eo("#"+NR(e)):e;if(!Bu(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in r?r.getRootNode()instanceof oe.ShadowRoot:!1)?r.getRootNode():r.ownerDocument.body;(!r.ownerDocument.defaultView||!a.contains(r))&&St.warn("The element supplied is not included in the DOM"),t=t||{},t.restoreEl===!0&&(t.restoreEl=(r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),Za("beforesetup").forEach(l=>{const u=l(r,Ht(t));if(!Ds(u)||Array.isArray(u)){St.error("please return an object in beforesetup hooks");return}t=Ht(t,u)});const o=Ie.getComponent("Player");return i=new o(r,t,n),Za("setup").forEach(l=>l(i)),i}Te.hooks_=Qs;Te.hooks=Za;Te.hook=Kse;Te.hookOnce=Xse;Te.removeHook=yP;if(oe.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Nu()){let e=eo(".vjs-styles-defaults");if(!e){e=jP("vjs-styles-defaults");const t=eo("head");t&&t.insertBefore(e,t.firstChild),HP(e,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}Sy(1,Te);Te.VERSION=_y;Te.options=$t.prototype.options_;Te.getPlayers=()=>$t.players;Te.getPlayer=e=>{const t=$t.players;let n;if(typeof e=="string"){const i=NR(e),r=t[i];if(r)return r;n=eo("#"+i)}else n=e;if(Bu(n)){const{player:i,playerId:r}=n;if(i||t[r])return i||t[r]}};Te.getAllPlayers=()=>Object.keys($t.players).map(e=>$t.players[e]).filter(Boolean);Te.players=$t.players;Te.getComponent=Ie.getComponent;Te.registerComponent=(e,t)=>(gt.isTech(t)&&St.warn("The ".concat(e," tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")),Ie.registerComponent.call(Ie,e,t));Te.getTech=gt.getTech;Te.registerTech=gt.registerTech;Te.use=Sae;Object.defineProperty(Te,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Te.middleware,"TERMINATOR",{value:Ep,writeable:!1,enumerable:!0});Te.browser=wP;Te.obj=Zse;Te.mergeOptions=es(9,"videojs.mergeOptions","videojs.obj.merge",Ht);Te.defineLazyProperty=es(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Nm);Te.bind=es(9,"videojs.bind","native Function.prototype.bind",nn);Te.registerPlugin=Fi.registerPlugin;Te.deregisterPlugin=Fi.deregisterPlugin;Te.plugin=(e,t)=>(St.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Fi.registerPlugin(e,t));Te.getPlugins=Fi.getPlugins;Te.getPlugin=Fi.getPlugin;Te.getPluginVersion=Fi.getPluginVersion;Te.addLanguage=function(e,t){return e=(""+e).toLowerCase(),Te.options.languages=Ht(Te.options.languages,{[e]:t}),Te.options.languages[e]};Te.log=St;Te.createLogger=_P;Te.time=pae;Te.createTimeRange=es(9,"videojs.createTimeRange","videojs.time.createTimeRanges",zr);Te.createTimeRanges=es(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",zr);Te.formatTime=es(9,"videojs.formatTime","videojs.time.formatTime",el);Te.setFormatTime=es(9,"videojs.setFormatTime","videojs.time.setFormatTime",XP);Te.resetFormatTime=es(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",QP);Te.parseUrl=es(9,"videojs.parseUrl","videojs.url.parseUrl",Wb);Te.isCrossOrigin=es(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Ym);Te.EventTarget=Yi;Te.any=Vb;Te.on=Gi;Te.one=Wm;Te.off=hi;Te.trigger=Fu;Te.xhr=iP;Te.TrackList=tl;Te.TextTrack=Wd;Te.TextTrackList=zb;Te.AudioTrack=nR;Te.AudioTrackList=ZP;Te.VideoTrack=iR;Te.VideoTrackList=eR;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(e=>{Te[e]=function(){return St.warn("videojs.".concat(e,"() is deprecated; use videojs.dom.").concat(e,"() instead")),UP[e].apply(null,arguments)}});Te.computedStyle=es(9,"videojs.computedStyle","videojs.dom.computedStyle",Tu);Te.dom=UP;Te.fn=lae;Te.num=zae;Te.str=fae;Te.url=Tae;Te.Error=moe;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class goe{constructor(t){let n=this;return n.id=t.id,n.label=n.id,n.width=t.width,n.height=t.height,n.bitrate=t.bandwidth,n.frameRate=t.frameRate,n.enabled_=t.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(i){n.enabled_(i)}}),n}}class Op extends Te.EventTarget{constructor(){super();let t=this;return t.levels_=[],t.selectedIndex_=-1,Object.defineProperty(t,"selectedIndex",{get(){return t.selectedIndex_}}),Object.defineProperty(t,"length",{get(){return t.levels_.length}}),t[Symbol.iterator]=()=>t.levels_.values(),t}addQualityLevel(t){let n=this.getQualityLevelById(t.id);if(n)return n;const i=this.levels_.length;return n=new goe(t),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(t){let n=null;for(let i=0,r=this.length;i<r;i++)if(this[i]===t){n=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:t,type:"removequalitylevel"}),n}getQualityLevelById(t){for(let n=0,i=this.length;n<i;n++){const r=this[n];if(r.id===t)return r}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}Op.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const e in Op.prototype.allowedEvents_)Op.prototype["on"+e]=null;var BR="4.1.0";const voe=function(e,t){const n=e.qualityLevels,i=new Op,r=function(){i.dispose(),e.qualityLevels=n,e.off("dispose",r)};return e.on("dispose",r),e.qualityLevels=()=>i,e.qualityLevels.VERSION=BR,i},FR=function(e){return voe(this,Te.obj.merge({},e))};Te.registerPlugin("qualityLevels",FR);FR.VERSION=BR;/*! @name @videojs/http-streaming @version 3.17.2 @license Apache-2.0 */const Li=Pm,Ip=(e,t)=>t&&t.responseURL&&e!==t.responseURL?t.responseURL:e,br=e=>Te.log.debug?Te.log.debug.bind(Te,"VHS:","".concat(e," >")):function(){};function Ut(...e){const t=Te.obj||Te;return(t.merge||t.mergeOptions).apply(t,e)}function Kn(...e){const t=Te.time||Te;return(t.createTimeRanges||t.createTimeRanges).apply(t,e)}function yoe(e){if(e.length===0)return"Buffered Ranges are empty";let t="Buffered Ranges: \n";for(let n=0;n<e.length;n++){const i=e.start(n),r=e.end(n);t+="".concat(i," --> ").concat(r,". Duration (").concat(r-i,")\n")}return t}const ys=1/30,_s=ys*3,$R=function(e,t){const n=[];let i;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return Kn(n)},Ml=function(e,t){return $R(e,function(n,i){return n-_s<=t&&i+_s>=t})},ch=function(e,t){return $R(e,function(n){return n-ys>=t})},_oe=function(e){if(e.length<2)return Kn();const t=[];for(let n=1;n<e.length;n++){const i=e.end(n-1),r=e.start(n);t.push([i,r])}return Kn(t)},boe=function(e,t){let n=null,i=null,r=0;const s=[],a=[];if(!e||!e.length||!t||!t.length)return Kn();let o=e.length;for(;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(o=t.length;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(s.sort(function(l,u){return l.time-u.time}),o=0;o<s.length;o++)s[o].type==="start"?(r++,r===2&&(n=s[o].time)):s[o].type==="end"&&(r--,r===1&&(i=s[o].time)),n!==null&&i!==null&&(a.push([n,i]),n=null,i=null);return Kn(a)},UR=e=>{const t=[];if(!e||!e.length)return"";for(let n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},Toe=function(e,t,n=1){return((e.length?e.end(e.length-1):0)-t)/n},Ro=e=>{const t=[];for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},Aoe=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e||e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1},qv=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},uT=function(e,t){let n=0;if(!e||!e.length)return n;for(let i=0;i<e.length;i++){const r=e.start(i),s=e.end(i);if(!(t>s)){if(t>r&&t<=s){n+=s-t;continue}n+=s-r}}return n},cT=(e,t)=>{if(!t.preload)return t.duration;let n=0;return(t.parts||[]).forEach(function(i){n+=i.duration}),(t.preloadHints||[]).forEach(function(i){i.type==="PART"&&(n+=e.partTargetDuration)}),n},Iy=e=>(e.segments||[]).reduce((t,n,i)=>(n.parts?n.parts.forEach(function(r,s){t.push({duration:r.duration,segmentIndex:i,partIndex:s,part:r,segment:n})}):t.push({duration:n.duration,segmentIndex:i,partIndex:null,segment:n,part:null}),t),[]),VR=e=>{const t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},jR=({preloadSegment:e})=>{if(!e)return;const{parts:t,preloadHints:n}=e;let i=(n||[]).reduce((r,s)=>r+(s.type==="PART"?1:0),0);return i+=t&&t.length?t.length:0,i},HR=(e,t)=>{if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;const n=VR(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?t.partTargetDuration*3:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?t.targetDuration*3:0},Soe=function(e,t){let n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if(typeof r.start<"u")return{result:r.start,precise:!0};if(typeof r.end<"u")return{result:r.end-r.duration,precise:!0}}for(;i--;){if(r=e.segments[i],typeof r.end<"u")return{result:n+r.end,precise:!0};if(n+=cT(e,r),typeof r.start<"u")return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},xoe=function(e,t){let n=0,i,r=t-e.mediaSequence;for(;r<e.segments.length;r++){if(i=e.segments[r],typeof i.start<"u")return{result:i.start-n,precise:!0};if(n+=cT(e,i),typeof i.end<"u")return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},zR=function(e,t,n){if(typeof t>"u"&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;const i=Soe(e,t);if(i.precise)return i.result;const r=xoe(e,t);return r.precise?r.result:i.result+n},qR=function(e,t,n){if(!e)return 0;if(typeof n!="number"&&(n=0),typeof t>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return oe.Infinity}return zR(e,t,n)},Jc=function({defaultDuration:e,durationList:t,startIndex:n,endIndex:i}){let r=0;if(n>i&&([n,i]=[i,n]),n<0){for(let s=n;s<Math.min(0,i);s++)r+=e;n=0}for(let s=n;s<i;s++)r+=t[s].duration;return r},WR=function(e,t,n,i){if(!e||!e.segments)return null;if(e.endList)return qR(e);if(t===null)return null;t=t||0;let r=zR(e,e.mediaSequence+e.segments.length,t);return n&&(i=typeof i=="number"?i:HR(null,e),r-=i),Math.max(0,r)},Eoe=function(e,t,n){const r=t||0;let s=WR(e,t,!0,n);return s===null?Kn():(s<r&&(s=r),Kn(r,s))},Coe=function({playlist:e,currentTime:t,startingSegmentIndex:n,startingPartIndex:i,startTime:r,exactManifestTimings:s}){let a=t-r;const o=Iy(e);let l=0;for(let u=0;u<o.length;u++){const c=o[u];if(n===c.segmentIndex&&!(typeof i=="number"&&typeof c.partIndex=="number"&&i!==c.partIndex)){l=u;break}}if(a<0){if(l>0)for(let u=l-1;u>=0;u--){const c=o[u];if(a+=c.duration,s){if(a<0)continue}else if(a+ys<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:r-Jc({defaultDuration:e.targetDuration,durationList:o,startIndex:l,endIndex:u})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:t}}if(l<0){for(let u=l;u<0;u++)if(a-=e.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:t};l=0}for(let u=l;u<o.length;u++){const c=o[u];a-=c.duration;const d=c.duration>ys,f=a===0,h=d&&a+ys>=0;if(!((f||h)&&u!==o.length-1)){if(s){if(a>0)continue}else if(a-ys>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:r+Jc({defaultDuration:e.targetDuration,durationList:o,startIndex:l,endIndex:u})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:t}},GR=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},dT=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Jm=function(e){const t=GR(e);return!e.disabled&&!t},woe=function(e){return e.disabled},Doe=function(e){for(let t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},YR=function(e,t){return t.attributes&&t.attributes[e]},koe=function(e,t,n,i=0){return YR("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-i*8)/t:NaN},Py=(e,t)=>{if(e.playlists.length===1)return!0;const n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(i=>Jm(i)?(i.attributes.BANDWIDTH||0)<n:!1).length===0},fT=(e,t)=>!e&&!t||!e&&t||e&&!t?!1:!!(e===t||e.id&&t.id&&e.id===t.id||e.resolvedUri&&t.resolvedUri&&e.resolvedUri===t.resolvedUri||e.uri&&t.uri&&e.uri===t.uri),LC=function(e,t){const n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{};let i=!1;for(const r in n){for(const s in n[r])if(i=t(n[r][s]),i)break;if(i)break}return!!i},Xd=e=>{if(!e||!e.playlists||!e.playlists.length)return LC(e,n=>n.playlists&&n.playlists.length||n.uri);for(let t=0;t<e.playlists.length;t++){const n=e.playlists[t],i=n.attributes&&n.attributes.CODECS;if(!(i&&i.split(",").every(s=>aP(s))||LC(e,s=>fT(n,s))))return!1}return!0};var Mi={liveEdgeDelay:HR,duration:qR,seekable:Eoe,getMediaInfoForTime:Coe,isEnabled:Jm,isDisabled:woe,isExcluded:GR,isIncompatible:dT,playlistEnd:WR,isAes:Doe,hasAttribute:YR,estimateSegmentRequestTime:koe,isLowestEnabledRendition:Py,isAudioOnly:Xd,playlistMatch:fT,segmentDurationWithParts:cT};const{log:KR}=Te,Xl=(e,t)=>"".concat(e,"-").concat(t),XR=(e,t,n)=>"placeholder-uri-".concat(e,"-").concat(t,"-").concat(n),Ooe=({onwarn:e,oninfo:t,manifestString:n,customTagParsers:i=[],customTagMappers:r=[],llhls:s})=>{const a=new vre;e&&a.on("warn",e),t&&a.on("info",t),i.forEach(u=>a.addParser(u)),r.forEach(u=>a.addTagMapper(u)),a.push(n),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){o.hasOwnProperty(u)&&delete o[u]}),o.segments&&o.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!o.targetDuration){let u=10;o.segments&&o.segments.length&&(u=o.segments.reduce((c,d)=>Math.max(c,d.duration),0)),e&&e({message:"manifest has no targetDuration defaulting to ".concat(u)}),o.targetDuration=u}const l=VR(o);if(l.length&&!o.partTargetDuration){const u=l.reduce((c,d)=>Math.max(c,d.duration),0);e&&(e({message:"manifest has no partTargetDuration defaulting to ".concat(u)}),KR.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=u}return o},ju=(e,t)=>{e.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(e.mediaGroups[n])for(const i in e.mediaGroups[n])for(const r in e.mediaGroups[n][i]){const s=e.mediaGroups[n][i][r];t(s,n,i,r)}})},QR=({playlist:e,uri:t,id:n})=>{e.id=n,e.playlistErrors_=0,t&&(e.uri=t),e.attributes=e.attributes||{}},Ioe=e=>{let t=e.playlists.length;for(;t--;){const n=e.playlists[t];QR({playlist:n,id:Xl(t,n.uri)}),n.resolvedUri=Li(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||KR.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Poe=e=>{ju(e,t=>{t.uri&&(t.resolvedUri=Li(e.uri,t.uri))})},Roe=(e,t)=>{const n=Xl(0,t),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:oe.location.href,resolvedUri:oe.location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[t]=i.playlists[0],i},JR=(e,t,n=XR)=>{e.uri=t;for(let r=0;r<e.playlists.length;r++)if(!e.playlists[r].uri){const s="placeholder-uri-".concat(r);e.playlists[r].uri=s}const i=Xd(e);ju(e,(r,s,a,o)=>{if(!r.playlists||!r.playlists.length){if(i&&s==="AUDIO"&&!r.uri)for(let l=0;l<e.playlists.length;l++){const u=e.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===a)return}r.playlists=[kn({},r)]}r.playlists.forEach(function(l,u){const c=n(s,a,o,l),d=Xl(u,c);l.uri?l.resolvedUri=l.resolvedUri||Li(e.uri,l.uri):(l.uri=u===0?c:d,l.resolvedUri=l.uri),l.id=l.id||d,l.attributes=l.attributes||{},e.playlists[l.id]=l,e.playlists[l.uri]=l})}),Ioe(e),Poe(e)};class MC{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(t=[]){if(this.offset_!==null||!t.length)return;const[n]=t;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(t=[]){if(!t.length)return;const[n]=t,i=n.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=t.reduce((r,s)=>(r.set(s.id,s),r),new Map)}processDateRange(t){this.pendingDateRanges_.delete(t.id),this.processedDateRanges_.set(t.id,t)}getDateRangesToProcess(){if(this.offset_===null)return[];const t={},n=[];this.pendingDateRanges_.forEach((i,r)=>{if(!this.processedDateRanges_.has(r)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),n.push(i),!!i.class))if(t[i.class]){const s=t[i.class].push(i);i.classListIndex=s-1}else t[i.class]=[i],i.classListIndex=0});for(const i of n){const r=t[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&r[i.classListIndex+1]?i.endTime=r[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return n}trimProcessedDateRanges_(t){new Map(this.processedDateRanges_).forEach((i,r)=>{i.startDate.getTime()<t&&this.processedDateRanges_.delete(r)})}}const ZR=22,Go=({requestType:e,request:t,error:n,parseFailure:i})=>{const r=t.status<200||t.status>299,s=t.status>=400&&t.status<=499,a={uri:t.uri,requestType:e},o=r&&!s||i;if(n&&s)a.error=kn({},n),a.errorType=Te.Error.NetworkRequestFailed;else if(t.aborted)a.errorType=Te.Error.NetworkRequestAborted;else if(t.timedout)a.errorType=Te.Error.NetworkRequestTimeout;else if(o){const l=i?Te.Error.NetworkBodyParserFailed:Te.Error.NetworkBadStatus;a.errorType=l,a.status=t.status,a.headers=t.headers}return a},Loe=br("CodecUtils"),eL=function(e){const t=e.attributes||{};if(t.CODECS)return ps(t.CODECS)},tL=(e,t)=>{const n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},Moe=(e,t)=>{if(!tL(e,t))return!0;const n=t.attributes||{},i=e.mediaGroups.AUDIO[n.AUDIO];for(const r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1},Sd=function(e){const t={};return e.forEach(({mediaType:n,type:i,details:r})=>{t[n]=t[n]||[],t[n].push(sP("".concat(i).concat(r)))}),Object.keys(t).forEach(function(n){if(t[n].length>1){Loe("multiple ".concat(n," codecs found as attributes: ").concat(t[n].join(", "),". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.")),t[n]=null;return}t[n]=t[n][0]}),t},NC=function(e){let t=0;return e.audio&&t++,e.video&&t++,t},Zc=function(e,t){const n=t.attributes||{},i=Sd(eL(t)||[]);if(tL(e,t)&&!i.audio&&!Moe(e,t)){const r=Sd(_re(e,n.AUDIO)||[]);r.audio&&(i.audio=r.audio)}return i},{EventTarget:Noe}=Te,Boe=(e,t)=>{if(t.endList||!t.serverControl)return e;const n={};if(t.serverControl.canBlockReload){const{preloadSegment:i}=t;let r=t.mediaSequence+t.segments.length;if(i){const s=i.parts||[],a=jR(t)-1;a>-1&&a!==s.length-1&&(n._HLS_part=a),(a>-1||s.length)&&r--}n._HLS_msn=r}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const i=new oe.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(r){n.hasOwnProperty(r)&&i.searchParams.set(r,n[r])}),e=i.toString()}return e},Foe=(e,t)=>{if(!e)return t;const n=Ut(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(let i=0;i<t.parts.length;i++)e.parts&&e.parts[i]&&(n.parts[i]=Ut(e.parts[i],t.parts[i]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},$oe=(e,t,n)=>{const i=e.slice(),r=t.slice();n=n||0;const s=[];let a;for(let o=0;o<r.length;o++){const l=i[o+n],u=r[o];l?(a=l.map||a,s.push(Foe(l,u))):(a&&!u.map&&(u.map=a),s.push(u))}return s},nL=(e,t)=>{!e.resolvedUri&&e.uri&&(e.resolvedUri=Li(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Li(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Li(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Li(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=Li(t,n.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=Li(t,n.uri))})},iL=function(e){const t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let i=0;i<n.preloadHints.length;i++)if(n.preloadHints[i].type==="MAP")return t}n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},rL=(e,t)=>e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment,Ry=(e,t,n=rL)=>{const i=Ut(e,{}),r=i.playlists[t.id];if(!r||n(r,t))return null;t.segments=iL(t);const s=Ut(r,t);if(s.preloadSegment&&!t.preloadSegment&&delete s.preloadSegment,r.segments){if(t.skip){t.segments=t.segments||[];for(let a=0;a<t.skip.skippedSegments;a++)t.segments.unshift({skipped:!0})}s.segments=$oe(r.segments,t.segments,t.mediaSequence-r.mediaSequence)}s.segments.forEach(a=>{nL(a,s.resolvedUri)});for(let a=0;a<i.playlists.length;a++)i.playlists[a].id===t.id&&(i.playlists[a]=s);return i.playlists[t.id]=s,i.playlists[t.uri]=s,ju(e,(a,o,l,u)=>{if(a.playlists)for(let c=0;c<a.playlists.length;c++)t.id===a.playlists[c].id&&(a.playlists[c]=s)}),i},Ly=(e,t)=>{const n=e.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],s=r&&r.duration||i&&i.duration;return t&&s?s*1e3:(e.partTargetDuration||e.targetDuration||10)*500},BC=(e,t,n)=>{if(!e)return;const i=[];return e.forEach(r=>{if(!r.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:o}=r.attributes;i.push({id:r.id,bandwidth:s,resolution:a,codecs:o})}),{type:t,isLive:n,renditions:i}};class Nl extends Noe{constructor(t,n,i={}){if(super(),!t)throw new Error("A non-empty playlist URL or object is required");this.logger_=br("PlaylistLoader");const{withCredentials:r=!1}=i;this.src=t,this.vhs_=n,this.withCredentials=r,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;const s=n.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new MC,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const t=this.media();if(!t)return;this.dateRangesStorage_.setOffset(t.segments),this.dateRangesStorage_.setPendingDateRanges(t.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const t=this.media();let n=Li(this.main.uri,t.uri);this.llhls&&(n=Boe(n,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,r)=>{if(this.request){if(i)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(t,n,i){const{uri:r,id:s}=n;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[s],status:t.status,message:"HLS playlist request error at URL: ".concat(r,"."),responseText:t.responseText,code:t.status>=500?4:2,metadata:Go({requestType:t.requestType,request:t,error:t.error})},this.trigger("error")}parseManifest_({url:t,manifestString:n}){try{const i=Ooe({onwarn:({message:r})=>this.logger_("m3u8-parser warn for ".concat(t,": ").concat(r)),oninfo:({message:r})=>this.logger_("m3u8-parser info for ".concat(t,": ").concat(r)),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls});return!i.playlists||!i.playlists.length||this.excludeAudioOnlyVariants(i.playlists),i}catch(i){this.error=i,this.error.metadata={errorType:Te.Error.StreamingHlsPlaylistParserError,error:i}}}excludeAudioOnlyVariants(t){const n=i=>{const r=i.attributes||{},{width:s,height:a}=r.RESOLUTION||{};if(s&&a)return!0;const o=eL(i)||[];return!!Sd(o).video};t.some(n)&&t.forEach(i=>{n(i)||(i.excludeUntil=1/0)})}haveMetadata({playlistString:t,playlistObject:n,url:i,id:r}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:i}};this.trigger({type:"playlistparsestart",metadata:s});const a=n||this.parseManifest_({url:i,manifestString:t});a.lastRequest=Date.now(),QR({playlist:a,uri:i,id:r});const o=Ry(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[r]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Ly(this.media(),!!o)),s.parsedPlaylist=BC(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),oe.clearTimeout(this.mediaUpdateTimeout),oe.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new MC,this.off()}stopRequest(){if(this.request){const t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}media(t,n){if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof t=="string"){if(!this.main.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.main.playlists[t]}if(oe.clearTimeout(this.finalRenditionTimeout),n){const o=(t.partTargetDuration||t.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=oe.setTimeout(this.media.bind(this,t,!1),o);return}const i=this.state,r=!this.media_||t.id!==this.media_.id,s=this.main.playlists[t.id];if(s&&s.endList||t.endList&&t.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,r&&(this.trigger("mediachanging"),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Ly(t,!0)),!r)return;if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=t;const a={playlistInfo:{type:"media",uri:t.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(t.lastRequest=Date.now(),t.resolvedUri=Ip(t.resolvedUri,l),o)return this.playlistRequestError(this.request,t,i);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:t.uri,id:t.id}),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(oe.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(t){this.mediaUpdateTimeout&&(oe.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(t){const i=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=oe.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},i);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(t){this.mediaUpdateTimeout&&(oe.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=oe.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(t)},t))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=oe.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const t={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:t}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,i)=>{if(!this.request)return;if(this.request=null,n)return this.error={status:i.status,message:"HLS playlist request error at URL: ".concat(this.src,"."),responseText:i.responseText,code:2,metadata:Go({requestType:i.requestType,request:i,error:n})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:t}),this.src=Ip(this.src,i),this.trigger({type:"playlistparsestart",metadata:t});const r=this.parseManifest_({manifestString:i.responseText,url:this.src});t.parsedPlaylist=BC(r.playlists,t.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:t}),this.setupInitialPlaylist(r)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(t){if(this.state="HAVE_MAIN_MANIFEST",t.playlists){this.main=t,JR(this.main,this.srcUri()),t.playlists.forEach(i=>{i.segments=iL(i),i.segments.forEach(r=>{nL(r,i.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||oe.location.href;this.main=Roe(t,n),this.haveMetadata({playlistObject:t,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(t,n){const i=this.main,r=t.ID;let s=i.playlists.length;for(;s--;){const a=i.playlists[s];if(a.attributes["PATHWAY-ID"]===r){const o=a.resolvedUri,l=a.id;if(n){const u=this.createCloneURI_(a.resolvedUri,t),c=Xl(r,u),d=this.createCloneAttributes_(r,a.attributes),f=this.createClonePlaylist_(a,c,t,d);i.playlists[s]=f,i.playlists[c]=f,i.playlists[u]=f}else i.playlists.splice(s,1);delete i.playlists[l],delete i.playlists[o]}}this.updateOrDeleteCloneMedia(t,n)}updateOrDeleteCloneMedia(t,n){const i=this.main,r=t.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||!i.mediaGroups[s][r])){for(const a in i.mediaGroups[s])if(a===r){for(const o in i.mediaGroups[s][a])i.mediaGroups[s][a][o].playlists.forEach((u,c)=>{const d=i.playlists[u.id],f=d.id,h=d.resolvedUri;delete i.playlists[f],delete i.playlists[h]});delete i.mediaGroups[s][a]}}}),n&&this.createClonedMediaGroups_(t)}addClonePathway(t,n={}){const i=this.main,r=i.playlists.length,s=this.createCloneURI_(n.resolvedUri,t),a=Xl(t.ID,s),o=this.createCloneAttributes_(t.ID,n.attributes),l=this.createClonePlaylist_(n,a,t,o);i.playlists[r]=l,i.playlists[a]=l,i.playlists[s]=l,this.createClonedMediaGroups_(t)}createClonedMediaGroups_(t){const n=t.ID,i=t["BASE-ID"],r=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!r.mediaGroups[s]||r.mediaGroups[s][n]))for(const a in r.mediaGroups[s]){if(a===i)r.mediaGroups[s][n]={};else continue;for(const o in r.mediaGroups[s][a]){const l=r.mediaGroups[s][a][o];r.mediaGroups[s][n][o]=kn({},l);const u=r.mediaGroups[s][n][o],c=this.createCloneURI_(l.resolvedUri,t);u.resolvedUri=c,u.uri=c,u.playlists=[],l.playlists.forEach((d,f)=>{const h=r.playlists[d.id],m=XR(s,n,o),p=Xl(n,m);if(h&&!r.playlists[p]){const g=this.createClonePlaylist_(h,p,t),_=g.resolvedUri;r.playlists[p]=g,r.playlists[_]=g}u.playlists[f]=this.createClonePlaylist_(d,p,t)})}}})}createClonePlaylist_(t,n,i,r){const s=this.createCloneURI_(t.resolvedUri,i),a={resolvedUri:s,uri:s,id:n};return t.segments&&(a.segments=[]),r&&(a.attributes=r),Ut(t,a)}createCloneURI_(t,n){const i=new URL(t);i.hostname=n["URI-REPLACEMENT"].HOST;const r=n["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(r))i.searchParams.set(s,r[s]);return i.href}createCloneAttributes_(t,n){const i={"PATHWAY-ID":t};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(r=>{n[r]&&(i[r]=t)}),i}getKeyIdSet(t){const n=new Set;if(!t||!t.contentProtection)return n;for(const i in t.contentProtection)if(t.contentProtection[i]&&t.contentProtection[i].attributes&&t.contentProtection[i].attributes.keyId){const r=t.contentProtection[i].attributes.keyId;n.add(r.toLowerCase())}return n}}const My=function(e,t,n,i){const r=e.responseType==="arraybuffer"?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&t.code==="ETIMEDOUT"&&(e.timedout=!0),!t&&!e.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(t=new Error("XHR Failed with a response of: "+(e&&(r||e.responseText)))),i(t,e)},Uoe=(e,t)=>{if(!e||!e.size)return;let n=t;return e.forEach(i=>{n=i(n)}),n},Voe=(e,t,n,i)=>{!e||!e.size||e.forEach(r=>{r(t,n,i)})},sL=function(){const e=function t(n,i){n=Ut({timeout:45e3},n);const r=t.beforeRequest||Te.Vhs.xhr.beforeRequest,s=t._requestCallbackSet||Te.Vhs.xhr._requestCallbackSet||new Set,a=t._responseCallbackSet||Te.Vhs.xhr._responseCallbackSet;r&&typeof r=="function"&&(Te.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(r));const o=Te.Vhs.xhr.original===!0?Te.xhr:Te.Vhs.xhr,l=Uoe(s,n);s.delete(r);const u=o(l||n,function(d,f){return Voe(a,u,d,f),My(u,d,f,i)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=n.uri,u.requestType=n.requestType,u.requestTime=Date.now(),u};return e.original=!0,e},joe=function(e){let t;const n=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?t=oe.BigInt(e.offset)+oe.BigInt(e.length)-oe.BigInt(1):t=e.offset+e.length-1,"bytes="+n+"-"+t},Ny=function(e){const t={};return e.byterange&&(t.Range=joe(e.byterange)),t},Hoe=function(e,t){return e.start(t)+"-"+e.end(t)},zoe=function(e,t){const n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},qoe=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},aL=function(e){const t={};return Object.keys(e).forEach(n=>{const i=e[n];lP(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i}),t},Pp=function(e){const t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},oL=function(e){return e.resolvedUri},lL=e=>{const t=Array.prototype.slice.call(e),n=16;let i="",r,s;for(let a=0;a<t.length/n;a++)r=t.slice(a*n,a*n+n).map(zoe).join(""),s=t.slice(a*n,a*n+n).map(qoe).join(""),i+=r+" "+s+"\n";return i},Woe=({bytes:e})=>lL(e),Goe=e=>{let t="",n;for(n=0;n<e.length;n++)t+=Hoe(e,n)+" ";return t};var Yoe=Object.freeze({__proto__:null,createTransferableMessage:aL,initSegmentId:Pp,segmentKeyId:oL,hexDump:lL,tagDump:Woe,textRanges:Goe});const uL=.25,Koe=(e,t)=>{if(!t.dateTimeObject)return null;const n=t.videoTimingInfo.transmuxerPrependedSeconds,r=t.videoTimingInfo.transmuxedPresentationStart+n,s=e-r;return new Date(t.dateTimeObject.getTime()+s*1e3)},Xoe=e=>e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds,Qoe=(e,t)=>{let n;try{n=new Date(e)}catch(l){return null}if(!t||!t.segments||t.segments.length===0)return null;let i=t.segments[0];if(n<new Date(i.dateTimeObject))return null;for(let l=0;l<t.segments.length-1;l++){i=t.segments[l];const u=new Date(t.segments[l+1].dateTimeObject);if(n<u)break}const r=t.segments[t.segments.length-1],s=r.dateTimeObject,a=r.videoTimingInfo?Xoe(r.videoTimingInfo):r.duration+r.duration*uL,o=new Date(s.getTime()+a*1e3);return n>o?null:(n>new Date(s)&&(i=r),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Mi.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},Joe=(e,t)=>{if(!t||!t.segments||t.segments.length===0)return null;let n=0,i;for(let s=0;s<t.segments.length&&(i=t.segments[s],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,!(e<=n));s++);const r=t.segments[t.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+r.duration*uL)return null;i=r}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},Zoe=(e,t)=>{let n,i;try{n=new Date(e),i=new Date(t)}catch(a){}const r=n.getTime();return(i.getTime()-r)/1e3},ele=e=>{if(!e.segments||e.segments.length===0)return!1;for(let t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0},tle=({playlist:e,time:t=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!e||t===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const i=Joe(t,e);if(!i)return n({message:"valid programTime was not found"});if(i.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const r={mediaSeconds:t},s=Koe(t,i.segment);return s&&(r.programDateTime=s.toISOString()),n(null,r)},cL=({programTime:e,playlist:t,retryCount:n=2,seekTo:i,pauseAfterSeek:r=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof e>"u"||!t||!i)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!ele(t))return a({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri});const o=Qoe(e,t);if(!o)return a({message:"".concat(e," was not found in the stream")});const l=o.segment,u=Zoe(l.dateTimeObject,e);if(o.type==="estimate"){if(n===0)return a({message:"".concat(e," is not buffered yet. Try again")});i(o.estimatedStart+u),s.one("seeked",()=>{cL({programTime:e,playlist:t,retryCount:n-1,seekTo:i,pauseAfterSeek:r,tech:s,callback:a})});return}const c=l.start+u,d=()=>a(null,s.currentTime());s.one("seeked",d),r&&s.pause(),i(c)},Wv=(e,t)=>{if(e.readyState===4)return t()},nle=(e,t,n,i)=>{let r=[],s,a=!1;const o=function(d,f,h,m){return f.abort(),a=!0,n(d,f,h,m)},l=function(d,f){if(a)return;if(d)return d.metadata=Go({requestType:i,request:f,error:d}),o(d,f,"",r);const h=f.responseText.substring(r&&r.byteLength||0,f.responseText.length);if(r=kre(r,uP(h,!0)),s=s||Ic(r),r.length<10||s&&r.length<s+2)return Wv(f,()=>o(d,f,"",r));const m=Nb(r);return m==="ts"&&r.length<188?Wv(f,()=>o(d,f,"",r)):!m&&r.length<376?Wv(f,()=>o(d,f,"",r)):o(null,f,m,r)},c=t({uri:e,beforeSend(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function({total:f,loaded:h}){return My(d,null,{statusCode:d.status},l)})}},function(d,f){return My(c,d,f,l)});return c},{EventTarget:ile}=Te,FC=function(e,t){if(!rL(e,t)||e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx||e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(let n=0;n<e.segments.length;n++){const i=e.segments[n],r=t.segments[n];if(i.uri!==r.uri)return!1;if(!i.byterange&&!r.byterange)continue;const s=i.byterange,a=r.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},rle=(e,t,n,i)=>{const r=i.attributes.NAME||n;return"placeholder-uri-".concat(e,"-").concat(t,"-").concat(r)},sle=({mainXml:e,srcUrl:t,clientOffset:n,sidxMapping:i,previousManifest:r})=>{const s=wse(e,{manifestUri:t,clientOffset:n,sidxMapping:i,previousManifest:r});return JR(s,t,rle),s},ale=(e,t)=>{ju(e,(n,i,r,s)=>{(!t.mediaGroups[i][r]||!(s in t.mediaGroups[i][r]))&&delete e.mediaGroups[i][r][s]})},ole=(e,t,n)=>{let i=!0,r=Ut(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts});for(let s=0;s<t.playlists.length;s++){const a=t.playlists[s];if(a.sidx){const l=Lm(a.sidx);n&&n[l]&&n[l].sidx&&Rb(a,n[l].sidx,a.sidx.resolvedUri)}const o=Ry(r,a,FC);o&&(r=o,i=!1)}return ju(t,(s,a,o,l)=>{if(s.playlists&&s.playlists.length){const u=s.playlists[0].id,c=Ry(r,s.playlists[0],FC);c&&(r=c,l in r.mediaGroups[a][o]||(r.mediaGroups[a][o][l]=s),r.mediaGroups[a][o][l].playlists[0]=r.playlists[u],i=!1)}}),ale(r,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(i=!1),i?null:r},lle=(e,t)=>(!e.map&&!t.map||!!(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length,$C=(e,t)=>{const n={};for(const i in e){const s=e[i].sidx;if(s){const a=Lm(s);if(!t[a])break;const o=t[a].sidxInfo;lle(o,s)&&(n[a]=t[a])}}return n},ule=(e,t)=>{let i=$C(e.playlists,t);return ju(e,(r,s,a,o)=>{if(r.playlists&&r.playlists.length){const l=r.playlists;i=Ut(i,$C(l,t))}}),i};class By extends ile{constructor(t,n,i={},r){super(),this.isPaused_=!0,this.mainPlaylistLoader_=r||this,r||(this.isMain_=!0);const{withCredentials:s=!1}=i;if(this.vhs_=n,this.withCredentials=s,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!t)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=br("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=t,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=t}get isPaused(){return this.isPaused_}requestErrored_(t,n,i){if(!this.request)return!0;if(this.request=null,t)return this.error=typeof t=="object"&&!(t instanceof Error)?t:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2,metadata:t.metadata},i&&(this.state=i),this.trigger("error"),!0}addSidxSegments_(t,n,i){const r=t.sidx&&Lm(t.sidx);if(!t.sidx||!r||this.mainPlaylistLoader_.sidxMapping_[r]){oe.clearTimeout(this.mediaRequest_),this.mediaRequest_=oe.setTimeout(()=>i(!1),0);return}const s=Ip(t.sidx.resolvedUri),a=(l,u)=>{if(this.requestErrored_(l,u,n))return;const c=this.mainPlaylistLoader_.sidxMapping_,{requestType:d}=u;let f;try{f=Pse(rt(u.response).subarray(8))}catch(h){h.metadata=Go({requestType:d,request:u,parseFailure:!0}),this.requestErrored_(h,u,n);return}return c[r]={sidxInfo:t.sidx,sidx:f},Rb(t,f,t.sidx.resolvedUri),i(!0)},o="dash-sidx";this.request=nle(s,this.vhs_.xhr,(l,u,c,d)=>{if(l)return a(l,u);if(!c||c!=="mp4"){const m=c||"unknown";return a({status:u.status,message:"Unsupported ".concat(m," container type for sidx segment at URL: ").concat(s),response:"",playlist:t,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:f,length:h}=t.sidx.byterange;if(d.length>=h+f)return a(l,{response:d.subarray(f,f+h),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:Ny({byterange:t.sidx.byterange})},a)},o)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},oe.clearTimeout(this.minimumUpdatePeriodTimeout_),oe.clearTimeout(this.mediaRequest_),oe.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}media(t){if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof t=="string"){if(!this.mainPlaylistLoader_.main.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.mainPlaylistLoader_.main.playlists[t]}const i=!this.media_||t.id!==this.media_.id;if(i&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList){this.state="HAVE_METADATA",this.media_=t,i&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,n,r=>{this.haveMetadata({startingState:n,playlist:t})}))}haveMetadata({startingState:t,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,oe.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(n.id),t==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),oe.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(oe.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(t){this.isPaused_=!1,oe.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(t){const i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=oe.setTimeout(()=>this.load(),i);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){oe.clearTimeout(this.mediaRequest_),this.mediaRequest_=oe.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((t,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(t){const n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:n}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(i,r)=>{if(i){const{requestType:a}=r;i.metadata=Go({requestType:a,request:r,error:i})}if(this.requestErrored_(i,r)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:n});const s=r.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?this.mainLoaded_=Date.parse(r.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=Ip(this.mainPlaylistLoader_.srcUrl,r),s){this.handleMain_(),this.syncClientServerClock_(()=>t(r,s));return}return t(r,s)})}syncClientServerClock_(t){const n=Dse(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),t();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),t();this.request=this.vhs_.xhr({uri:Li(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(i,r)=>{if(!this.request)return;if(i){const{requestType:a}=r;return this.error.metadata=Go({requestType:a,request:r,error:i}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),t()}let s;n.method==="HEAD"?!r.responseHeaders||!r.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(r.responseHeaders.date):s=Date.parse(r.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),t()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){oe.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const t=this.mainPlaylistLoader_.main,n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:n});let i;try{i=sle({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:t})}catch(s){this.error=s,this.error.metadata={errorType:Te.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}t&&(i=ole(t,i,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=i||t;const r=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(r&&r!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=r),(!t||i&&i.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(i),i){const{duration:s,endList:a}=i,o=[];i.playlists.forEach(u=>{o.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const l={duration:s,isLive:!a,renditions:o};n.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:n})}return!!i}updateMinimumUpdatePeriodTimeout_(){const t=this.mainPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(oe.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);let n=t.main&&t.main.minimumUpdatePeriod;if(n===0&&(t.media()?n=t.media().targetDuration*1e3:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_("found invalid minimumUpdatePeriod of ".concat(n,", not setting a timeout"));return}this.createMUPTimeout_(n)}createMUPTimeout_(t){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=oe.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(t)},t)}refreshXml_(){this.requestMain_((t,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=ule(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,i=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(t){if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==n[t];if(i?this.media_=n[t]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const r=()=>{this.media().endList||(this.mediaUpdateTimeout=oe.setTimeout(()=>{this.trigger("mediaupdatetimeout"),r()},Ly(this.media(),!!i)))};r()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(t){if(t&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(i=>({cueTime:i.start,frames:[{data:i.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(t){if(t.contentProtection){const n=new Set;for(const i in t.contentProtection){const r=t.contentProtection[i].attributes["cenc:default_KID"];r&&n.add(r.replace(/-/g,"").toLowerCase())}return n}}}var zn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const cle=e=>{const t=new Uint8Array(new ArrayBuffer(e.length));for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer},dL=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},dle=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(t){const n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}},fL=function(e){return function(){const t=dle(e),n=dL(new Worker(t));n.objURL=t;const i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),i.call(this)},n}},hL=function(e){return"var browserWorkerPolyFill = ".concat(dL.toString(),";\n")+"browserWorkerPolyFill(self);\n"+e},pL=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},fle=hL(pL(function(){var e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=function(){this.init=function(){var v={};this.on=function(S,C){v[S]||(v[S]=[]),v[S]=v[S].concat(C)},this.off=function(S,C){var E;return v[S]?(E=v[S].indexOf(C),v[S]=v[S].slice(),v[S].splice(E,1),E>-1):!1},this.trigger=function(S){var C,E,P,M;if(C=v[S],!!C)if(arguments.length===2)for(P=C.length,E=0;E<P;++E)C[E].call(this,arguments[1]);else{for(M=[],E=arguments.length,E=1;E<arguments.length;++E)M.push(arguments[E]);for(P=C.length,E=0;E<P;++E)C[E].apply(this,M)}},this.dispose=function(){v={}}}};t.prototype.pipe=function(v){return this.on("data",function(S){v.push(S)}),this.on("done",function(S){v.flush(S)}),this.on("partialdone",function(S){v.partialFlush(S)}),this.on("endedtimeline",function(S){v.endTimeline(S)}),this.on("reset",function(S){v.reset(S)}),v},t.prototype.push=function(v){this.trigger("data",v)},t.prototype.flush=function(v){this.trigger("done",v)},t.prototype.partialFlush=function(v){this.trigger("partialdone",v)},t.prototype.endTimeline=function(v){this.trigger("endedtimeline",v)},t.prototype.reset=function(v){this.trigger("reset",v)};var n=t,i=Math.pow(2,32),r=function(v){var S=new DataView(v.buffer,v.byteOffset,v.byteLength),C;return S.getBigUint64?(C=S.getBigUint64(0),C<Number.MAX_SAFE_INTEGER?Number(C):C):S.getUint32(0)*i+S.getUint32(4)},s={getUint64:r,MAX_UINT32:i},a=s.MAX_UINT32,o,l,u,c,d,f,h,m,p,g,_,y,b,A,T,k,O,I,w,D,R,L,B,N,$,F,V,U,Y,ne,z,W,le,ye,ae,ke;(function(){var v;if(B={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(v in B)B.hasOwnProperty(v)&&(B[v]=[v.charCodeAt(0),v.charCodeAt(1),v.charCodeAt(2),v.charCodeAt(3)]);N=new Uint8Array([105,115,111,109]),F=new Uint8Array([97,118,99,49]),$=new Uint8Array([0,0,0,1]),V=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),U=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Y={video:V,audio:U},W=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),z=new Uint8Array([0,0,0,0,0,0,0,0]),le=new Uint8Array([0,0,0,0,0,0,0,0]),ye=le,ae=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ke=le,ne=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(v){var S=[],C=0,E,P,M;for(E=1;E<arguments.length;E++)S.push(arguments[E]);for(E=S.length;E--;)C+=S[E].byteLength;for(P=new Uint8Array(C+8),M=new DataView(P.buffer,P.byteOffset,P.byteLength),M.setUint32(0,P.byteLength),P.set(v,4),E=0,C=8;E<S.length;E++)P.set(S[E],C),C+=S[E].byteLength;return P},l=function(){return o(B.dinf,o(B.dref,W))},u=function(v){return o(B.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,v.audioobjecttype<<3|v.samplingfrequencyindex>>>1,v.samplingfrequencyindex<<7|v.channelcount<<3,6,1,2]))},c=function(){return o(B.ftyp,N,$,N,F)},k=function(v){return o(B.hdlr,Y[v])},d=function(v){return o(B.mdat,v)},T=function(v){var S=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,v.duration>>>24&255,v.duration>>>16&255,v.duration>>>8&255,v.duration&255,85,196,0,0]);return v.samplerate&&(S[12]=v.samplerate>>>24&255,S[13]=v.samplerate>>>16&255,S[14]=v.samplerate>>>8&255,S[15]=v.samplerate&255),o(B.mdhd,S)},A=function(v){return o(B.mdia,T(v),k(v.type),h(v))},f=function(v){return o(B.mfhd,new Uint8Array([0,0,0,0,(v&4278190080)>>24,(v&16711680)>>16,(v&65280)>>8,v&255]))},h=function(v){return o(B.minf,v.type==="video"?o(B.vmhd,ne):o(B.smhd,z),l(),I(v))},m=function(v,S){for(var C=[],E=S.length;E--;)C[E]=D(S[E]);return o.apply(null,[B.moof,f(v)].concat(C))},p=function(v){for(var S=v.length,C=[];S--;)C[S]=y(v[S]);return o.apply(null,[B.moov,_(4294967295)].concat(C).concat(g(v)))},g=function(v){for(var S=v.length,C=[];S--;)C[S]=R(v[S]);return o.apply(null,[B.mvex].concat(C))},_=function(v){var S=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(v&4278190080)>>24,(v&16711680)>>16,(v&65280)>>8,v&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(B.mvhd,S)},O=function(v){var S=v.samples||[],C=new Uint8Array(4+S.length),E,P;for(P=0;P<S.length;P++)E=S[P].flags,C[P+4]=E.dependsOn<<4|E.isDependedOn<<2|E.hasRedundancy;return o(B.sdtp,C)},I=function(v){return o(B.stbl,w(v),o(B.stts,ke),o(B.stsc,ye),o(B.stsz,ae),o(B.stco,le))},(function(){var v,S;w=function(C){return o(B.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),C.type==="video"?v(C):S(C))},v=function(C){var E=C.sps||[],P=C.pps||[],M=[],J=[],ee,re;for(ee=0;ee<E.length;ee++)M.push((E[ee].byteLength&65280)>>>8),M.push(E[ee].byteLength&255),M=M.concat(Array.prototype.slice.call(E[ee]));for(ee=0;ee<P.length;ee++)J.push((P[ee].byteLength&65280)>>>8),J.push(P[ee].byteLength&255),J=J.concat(Array.prototype.slice.call(P[ee]));if(re=[B.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(C.width&65280)>>8,C.width&255,(C.height&65280)>>8,C.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(B.avcC,new Uint8Array([1,C.profileIdc,C.profileCompatibility,C.levelIdc,255].concat([E.length],M,[P.length],J))),o(B.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],C.sarRatio){var ue=C.sarRatio[0],ge=C.sarRatio[1];re.push(o(B.pasp,new Uint8Array([(ue&4278190080)>>24,(ue&16711680)>>16,(ue&65280)>>8,ue&255,(ge&4278190080)>>24,(ge&16711680)>>16,(ge&65280)>>8,ge&255])))}return o.apply(null,re)},S=function(C){return o(B.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(C.channelcount&65280)>>8,C.channelcount&255,(C.samplesize&65280)>>8,C.samplesize&255,0,0,0,0,(C.samplerate&65280)>>8,C.samplerate&255,0,0]),u(C))}})(),b=function(v){var S=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,0,(v.duration&4278190080)>>24,(v.duration&16711680)>>16,(v.duration&65280)>>8,v.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(v.width&65280)>>8,v.width&255,0,0,(v.height&65280)>>8,v.height&255,0,0]);return o(B.tkhd,S)},D=function(v){var S,C,E,P,M,J,ee;return S=o(B.tfhd,new Uint8Array([0,0,0,58,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),J=Math.floor(v.baseMediaDecodeTime/a),ee=Math.floor(v.baseMediaDecodeTime%a),C=o(B.tfdt,new Uint8Array([1,0,0,0,J>>>24&255,J>>>16&255,J>>>8&255,J&255,ee>>>24&255,ee>>>16&255,ee>>>8&255,ee&255])),M=92,v.type==="audio"?(E=L(v,M),o(B.traf,S,C,E)):(P=O(v),E=L(v,P.length+M),o(B.traf,S,C,E,P))},y=function(v){return v.duration=v.duration||4294967295,o(B.trak,b(v),A(v))},R=function(v){var S=new Uint8Array([0,0,0,0,(v.id&4278190080)>>24,(v.id&16711680)>>16,(v.id&65280)>>8,v.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return v.type!=="video"&&(S[S.length-1]=0),o(B.trex,S)},(function(){var v,S,C;C=function(E,P){var M=0,J=0,ee=0,re=0;return E.length&&(E[0].duration!==void 0&&(M=1),E[0].size!==void 0&&(J=2),E[0].flags!==void 0&&(ee=4),E[0].compositionTimeOffset!==void 0&&(re=8)),[0,0,M|J|ee|re,1,(E.length&4278190080)>>>24,(E.length&16711680)>>>16,(E.length&65280)>>>8,E.length&255,(P&4278190080)>>>24,(P&16711680)>>>16,(P&65280)>>>8,P&255]},S=function(E,P){var M,J,ee,re,ue,ge;for(re=E.samples||[],P+=20+16*re.length,ee=C(re,P),J=new Uint8Array(ee.length+re.length*16),J.set(ee),M=ee.length,ge=0;ge<re.length;ge++)ue=re[ge],J[M++]=(ue.duration&4278190080)>>>24,J[M++]=(ue.duration&16711680)>>>16,J[M++]=(ue.duration&65280)>>>8,J[M++]=ue.duration&255,J[M++]=(ue.size&4278190080)>>>24,J[M++]=(ue.size&16711680)>>>16,J[M++]=(ue.size&65280)>>>8,J[M++]=ue.size&255,J[M++]=ue.flags.isLeading<<2|ue.flags.dependsOn,J[M++]=ue.flags.isDependedOn<<6|ue.flags.hasRedundancy<<4|ue.flags.paddingValue<<1|ue.flags.isNonSyncSample,J[M++]=ue.flags.degradationPriority&61440,J[M++]=ue.flags.degradationPriority&15,J[M++]=(ue.compositionTimeOffset&4278190080)>>>24,J[M++]=(ue.compositionTimeOffset&16711680)>>>16,J[M++]=(ue.compositionTimeOffset&65280)>>>8,J[M++]=ue.compositionTimeOffset&255;return o(B.trun,J)},v=function(E,P){var M,J,ee,re,ue,ge;for(re=E.samples||[],P+=20+8*re.length,ee=C(re,P),M=new Uint8Array(ee.length+re.length*8),M.set(ee),J=ee.length,ge=0;ge<re.length;ge++)ue=re[ge],M[J++]=(ue.duration&4278190080)>>>24,M[J++]=(ue.duration&16711680)>>>16,M[J++]=(ue.duration&65280)>>>8,M[J++]=ue.duration&255,M[J++]=(ue.size&4278190080)>>>24,M[J++]=(ue.size&16711680)>>>16,M[J++]=(ue.size&65280)>>>8,M[J++]=ue.size&255;return o(B.trun,M)},L=function(E,P){return E.type==="audio"?v(E,P):S(E,P)}})();var q={ftyp:c,mdat:d,moof:m,moov:p,initSegment:function(v){var S=c(),C=p(v),E;return E=new Uint8Array(S.byteLength+C.byteLength),E.set(S),E.set(C,S.byteLength),E}},ve=function(v){var S,C,E=[],P=[];for(P.byteLength=0,P.nalCount=0,P.duration=0,E.byteLength=0,S=0;S<v.length;S++)C=v[S],C.nalUnitType==="access_unit_delimiter_rbsp"?(E.length&&(E.duration=C.dts-E.dts,P.byteLength+=E.byteLength,P.nalCount+=E.length,P.duration+=E.duration,P.push(E)),E=[C],E.byteLength=C.data.byteLength,E.pts=C.pts,E.dts=C.dts):(C.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(E.keyFrame=!0),E.duration=C.dts-E.dts,E.byteLength+=C.data.byteLength,E.push(C));return P.length&&(!E.duration||E.duration<=0)&&(E.duration=P[P.length-1].duration),P.byteLength+=E.byteLength,P.nalCount+=E.length,P.duration+=E.duration,P.push(E),P},X=function(v){var S,C,E=[],P=[];for(E.byteLength=0,E.nalCount=0,E.duration=0,E.pts=v[0].pts,E.dts=v[0].dts,P.byteLength=0,P.nalCount=0,P.duration=0,P.pts=v[0].pts,P.dts=v[0].dts,S=0;S<v.length;S++)C=v[S],C.keyFrame?(E.length&&(P.push(E),P.byteLength+=E.byteLength,P.nalCount+=E.nalCount,P.duration+=E.duration),E=[C],E.nalCount=C.length,E.byteLength=C.byteLength,E.pts=C.pts,E.dts=C.dts,E.duration=C.duration):(E.duration+=C.duration,E.nalCount+=C.length,E.byteLength+=C.byteLength,E.push(C));return P.length&&E.duration<=0&&(E.duration=P[P.length-1].duration),P.byteLength+=E.byteLength,P.nalCount+=E.nalCount,P.duration+=E.duration,P.push(E),P},Z=function(v){var S;return!v[0][0].keyFrame&&v.length>1&&(S=v.shift(),v.byteLength-=S.byteLength,v.nalCount-=S.nalCount,v[0][0].dts=S.dts,v[0][0].pts=S.pts,v[0][0].duration+=S.duration),v},he=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},H=function(v,S){var C=he();return C.dataOffset=S,C.compositionTimeOffset=v.pts-v.dts,C.duration=v.duration,C.size=4*v.length,C.size+=v.byteLength,v.keyFrame&&(C.flags.dependsOn=2,C.flags.isNonSyncSample=0),C},K=function(v,S){var C,E,P,M,J,ee=S||0,re=[];for(C=0;C<v.length;C++)for(M=v[C],E=0;E<M.length;E++)J=M[E],P=H(J,ee),ee+=P.size,re.push(P);return re},se=function(v){var S,C,E,P,M,J,ee=0,re=v.byteLength,ue=v.nalCount,ge=re+4*ue,Oe=new Uint8Array(ge),ze=new DataView(Oe.buffer);for(S=0;S<v.length;S++)for(P=v[S],C=0;C<P.length;C++)for(M=P[C],E=0;E<M.length;E++)J=M[E],ze.setUint32(ee,J.data.byteLength),ee+=4,Oe.set(J.data,ee),ee+=J.data.byteLength;return Oe},_e=function(v,S){var C,E=S||0,P=[];return C=H(v,E),P.push(C),P},Ae=function(v){var S,C,E=0,P=v.byteLength,M=v.length,J=P+4*M,ee=new Uint8Array(J),re=new DataView(ee.buffer);for(S=0;S<v.length;S++)C=v[S],re.setUint32(E,C.data.byteLength),E+=4,ee.set(C.data,E),E+=C.data.byteLength;return ee},Ce={groupNalsIntoFrames:ve,groupFramesIntoGops:X,extendFirstKeyFrame:Z,generateSampleTable:K,concatenateNalData:se,generateSampleTableForFrame:_e,concatenateNalDataForFrame:Ae},Q=[33,16,5,32,164,27],te=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ce=function(v){for(var S=[];v--;)S.push(0);return S},me=function(v){return Object.keys(v).reduce(function(S,C){return S[C]=new Uint8Array(v[C].reduce(function(E,P){return E.concat(P)},[])),S},{})},Ne,Pe=function(){if(!Ne){var v={96e3:[Q,[227,64],ce(154),[56]],88200:[Q,[231],ce(170),[56]],64e3:[Q,[248,192],ce(240),[56]],48e3:[Q,[255,192],ce(268),[55,148,128],ce(54),[112]],44100:[Q,[255,192],ce(268),[55,163,128],ce(84),[112]],32e3:[Q,[255,192],ce(268),[55,234],ce(226),[112]],24e3:[Q,[255,192],ce(268),[55,255,128],ce(268),[111,112],ce(126),[224]],16e3:[Q,[255,192],ce(268),[55,255,128],ce(268),[111,255],ce(269),[223,108],ce(195),[1,192]],12e3:[te,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,253,128],ce(259),[56]],11025:[te,ce(268),[3,127,248],ce(268),[6,255,240],ce(268),[13,255,224],ce(268),[27,255,192],ce(268),[55,175,128],ce(108),[112]],8e3:[te,ce(268),[3,121,16],ce(47),[7]]};Ne=me(v)}return Ne},pe=9e4,xe,We,Xe,ht,sn,Wt,Nn;xe=function(v){return v*pe},We=function(v,S){return v*S},Xe=function(v){return v/pe},ht=function(v,S){return v/S},sn=function(v,S){return xe(ht(v,S))},Wt=function(v,S){return We(Xe(v),S)},Nn=function(v,S,C){return Xe(C?v:v-S)};var yt={ONE_SECOND_IN_TS:pe,secondsToVideoTs:xe,secondsToAudioTs:We,videoTsToSeconds:Xe,audioTsToSeconds:ht,audioTsToVideoTs:sn,videoTsToAudioTs:Wt,metadataTsToSeconds:Nn},Tr=Pe,ts=yt,jn=function(v){var S,C,E=0;for(S=0;S<v.length;S++)C=v[S],E+=C.data.byteLength;return E},yi=function(v,S,C,E){var P,M=0,J=0,ee=0,re=0,ue,ge,Oe;if(S.length&&(P=ts.audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),M=Math.ceil(ts.ONE_SECOND_IN_TS/(v.samplerate/1024)),C&&E&&(J=P-Math.max(C,E),ee=Math.floor(J/M),re=ee*M),!(ee<1||re>ts.ONE_SECOND_IN_TS/2))){for(ue=Tr()[v.samplerate],ue||(ue=S[0].data),ge=0;ge<ee;ge++)Oe=S[0],S.splice(0,0,{data:ue,dts:Oe.dts-M,pts:Oe.pts-M});return v.baseMediaDecodeTime-=Math.floor(ts.videoTsToAudioTs(re,v.samplerate)),re}},Ca=function(v,S,C){return S.minSegmentDts>=C?v:(S.minSegmentDts=1/0,v.filter(function(E){return E.dts>=C?(S.minSegmentDts=Math.min(S.minSegmentDts,E.dts),S.minSegmentPts=S.minSegmentDts,!0):!1}))},Ar=function(v){var S,C,E=[];for(S=0;S<v.length;S++)C=v[S],E.push({size:C.data.byteLength,duration:1024});return E},Qd=function(v){var S,C,E=0,P=new Uint8Array(jn(v));for(S=0;S<v.length;S++)C=v[S],P.set(C.data,E),E+=C.data.byteLength;return P},Hu={prefixWithSilence:yi,trimAdtsFramesByEarliestDts:Ca,generateSampleTable:Ar,concatenateFrameData:Qd},Jd=yt.ONE_SECOND_IN_TS,j=function(v,S){typeof S.pts=="number"&&(v.timelineStartInfo.pts===void 0&&(v.timelineStartInfo.pts=S.pts),v.minSegmentPts===void 0?v.minSegmentPts=S.pts:v.minSegmentPts=Math.min(v.minSegmentPts,S.pts),v.maxSegmentPts===void 0?v.maxSegmentPts=S.pts:v.maxSegmentPts=Math.max(v.maxSegmentPts,S.pts)),typeof S.dts=="number"&&(v.timelineStartInfo.dts===void 0&&(v.timelineStartInfo.dts=S.dts),v.minSegmentDts===void 0?v.minSegmentDts=S.dts:v.minSegmentDts=Math.min(v.minSegmentDts,S.dts),v.maxSegmentDts===void 0?v.maxSegmentDts=S.dts:v.maxSegmentDts=Math.max(v.maxSegmentDts,S.dts))},G=function(v){delete v.minSegmentDts,delete v.maxSegmentDts,delete v.minSegmentPts,delete v.maxSegmentPts},de=function(v,S){var C,E,P=v.minSegmentDts;return S||(P-=v.timelineStartInfo.dts),C=v.timelineStartInfo.baseMediaDecodeTime,C+=P,C=Math.max(0,C),v.type==="audio"&&(E=v.samplerate/Jd,C*=E,C=Math.floor(C)),C},Ee={clearDtsInfo:G,calculateTrackBaseMediaDecodeTime:de,collectDtsInfo:j},He=4,ut=128,Gt=function(v){for(var S=0,C={payloadType:-1,payloadSize:0},E=0,P=0;S<v.byteLength&&v[S]!==ut;){for(;v[S]===255;)E+=255,S++;for(E+=v[S++];v[S]===255;)P+=255,S++;if(P+=v[S++],!C.payload&&E===He){var M=String.fromCharCode(v[S+3],v[S+4],v[S+5],v[S+6]);if(M==="GA94"){C.payloadType=E,C.payloadSize=P,C.payload=v.subarray(S,S+P);break}else C.payload=void 0}S+=P,E=0,P=0}return C},ri=function(v){return v.payload[0]!==181||(v.payload[1]<<8|v.payload[2])!==49||String.fromCharCode(v.payload[3],v.payload[4],v.payload[5],v.payload[6])!=="GA94"||v.payload[7]!==3?null:v.payload.subarray(8,v.payload.length-1)},Ui=function(v,S){var C=[],E,P,M,J;if(!(S[0]&64))return C;for(P=S[0]&31,E=0;E<P;E++)M=E*3,J={type:S[M+2]&3,pts:v},S[M+2]&4&&(J.ccData=S[M+3]<<8|S[M+4],C.push(J));return C},ns=function(v){for(var S=v.byteLength,C=[],E=1,P,M;E<S-2;)v[E]===0&&v[E+1]===0&&v[E+2]===3?(C.push(E+2),E+=2):E++;if(C.length===0)return v;P=S-C.length,M=new Uint8Array(P);var J=0;for(E=0;E<P;J++,E++)J===C[0]&&(J++,C.shift()),M[E]=v[J];return M},Xi={parseSei:Gt,parseUserData:ri,parseCaptionPackets:Ui,discardEmulationPreventionBytes:ns,USER_DATA_REGISTERED_ITU_T_T35:He},Sr=n,Qi=Xi,bn=function(v){v=v||{},bn.prototype.init.call(this),this.parse708captions_=typeof v.parse708captions=="boolean"?v.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new dn(0,0),new dn(0,1),new dn(1,0),new dn(1,1)],this.parse708captions_&&(this.cc708Stream_=new It({captionServices:v.captionServices})),this.reset(),this.ccStreams_.forEach(function(S){S.on("data",this.trigger.bind(this,"data")),S.on("partialdone",this.trigger.bind(this,"partialdone")),S.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};bn.prototype=new Sr,bn.prototype.push=function(v){var S,C,E;if(v.nalUnitType==="sei_rbsp"&&(S=Qi.parseSei(v.escapedRBSP),!!S.payload&&S.payloadType===Qi.USER_DATA_REGISTERED_ITU_T_T35&&(C=Qi.parseUserData(S),!!C))){if(v.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(v.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}E=Qi.parseCaptionPackets(v.pts,C),this.captionPackets_=this.captionPackets_.concat(E),this.latestDts_!==v.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=v.dts}},bn.prototype.flushCCStreams=function(v){this.ccStreams_.forEach(function(S){return v==="flush"?S.flush():S.partialFlush()},this)},bn.prototype.flushStream=function(v){if(!this.captionPackets_.length){this.flushCCStreams(v);return}this.captionPackets_.forEach(function(S,C){S.presortIndex=C}),this.captionPackets_.sort(function(S,C){return S.pts===C.pts?S.presortIndex-C.presortIndex:S.pts-C.pts}),this.captionPackets_.forEach(function(S){S.type<2?this.dispatchCea608Packet(S):this.dispatchCea708Packet(S)},this),this.captionPackets_.length=0,this.flushCCStreams(v)},bn.prototype.flush=function(){return this.flushStream("flush")},bn.prototype.partialFlush=function(){return this.flushStream("partialFlush")},bn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(v){v.reset()})},bn.prototype.dispatchCea608Packet=function(v){this.setsTextOrXDSActive(v)?this.activeCea608Channel_[v.type]=null:this.setsChannel1Active(v)?this.activeCea608Channel_[v.type]=0:this.setsChannel2Active(v)&&(this.activeCea608Channel_[v.type]=1),this.activeCea608Channel_[v.type]!==null&&this.ccStreams_[(v.type<<1)+this.activeCea608Channel_[v.type]].push(v)},bn.prototype.setsChannel1Active=function(v){return(v.ccData&30720)===4096},bn.prototype.setsChannel2Active=function(v){return(v.ccData&30720)===6144},bn.prototype.setsTextOrXDSActive=function(v){return(v.ccData&28928)===256||(v.ccData&30974)===4138||(v.ccData&30974)===6186},bn.prototype.dispatchCea708Packet=function(v){this.parse708captions_&&this.cc708Stream_.push(v)};var Ji={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Rs=function(v){var S=Ji[v]||v;return v&4096&&v===S?"":String.fromCharCode(S)},is=function(v){return 32<=v&&v<=127||160<=v&&v<=255},Jt=function(v){this.windowNum=v,this.reset()};Jt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Jt.prototype.getText=function(){return this.rows.join("\n")},Jt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Jt.prototype.newLine=function(v){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(v),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Jt.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Jt.prototype.addText=function(v){this.rows[this.rowIdx]+=v},Jt.prototype.backspace=function(){if(!this.isEmpty()){var v=this.rows[this.rowIdx];this.rows[this.rowIdx]=v.substr(0,v.length-1)}};var fo=function(v,S,C){this.serviceNum=v,this.text="",this.currentWindow=new Jt(-1),this.windows=[],this.stream=C,typeof S=="string"&&this.createTextDecoder(S)};fo.prototype.init=function(v,S){this.startPts=v;for(var C=0;C<8;C++)this.windows[C]=new Jt(C),typeof S=="function"&&(this.windows[C].beforeRowOverflow=S)},fo.prototype.setCurrentWindow=function(v){this.currentWindow=this.windows[v]},fo.prototype.createTextDecoder=function(v){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(v)}catch(S){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+v+" encoding. "+S})}};var It=function(v){v=v||{},It.prototype.init.call(this);var S=this,C=v.captionServices||{},E={},P;Object.keys(C).forEach(M=>{P=C[M],/^SERVICE/.test(M)&&(E[M]=P.encoding)}),this.serviceEncodings=E,this.current708Packet=null,this.services={},this.push=function(M){M.type===3?(S.new708Packet(),S.add708Bytes(M)):(S.current708Packet===null&&S.new708Packet(),S.add708Bytes(M))}};It.prototype=new Sr,It.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},It.prototype.add708Bytes=function(v){var S=v.ccData,C=S>>>8,E=S&255;this.current708Packet.ptsVals.push(v.pts),this.current708Packet.data.push(C),this.current708Packet.data.push(E)},It.prototype.push708Packet=function(){var v=this.current708Packet,S=v.data,C=null,E=null,P=0,M=S[P++];for(v.seq=M>>6,v.sizeCode=M&63;P<S.length;P++)M=S[P++],C=M>>5,E=M&31,C===7&&E>0&&(M=S[P++],C=M),this.pushServiceBlock(C,P,E),E>0&&(P+=E-1)},It.prototype.pushServiceBlock=function(v,S,C){var E,P=S,M=this.current708Packet.data,J=this.services[v];for(J||(J=this.initService(v,P));P<S+C&&P<M.length;P++)E=M[P],is(E)?P=this.handleText(P,J):E===24?P=this.multiByteCharacter(P,J):E===16?P=this.extendedCommands(P,J):128<=E&&E<=135?P=this.setCurrentWindow(P,J):152<=E&&E<=159?P=this.defineWindow(P,J):E===136?P=this.clearWindows(P,J):E===140?P=this.deleteWindows(P,J):E===137?P=this.displayWindows(P,J):E===138?P=this.hideWindows(P,J):E===139?P=this.toggleWindows(P,J):E===151?P=this.setWindowAttributes(P,J):E===144?P=this.setPenAttributes(P,J):E===145?P=this.setPenColor(P,J):E===146?P=this.setPenLocation(P,J):E===143?J=this.reset(P,J):E===8?J.currentWindow.backspace():E===12?J.currentWindow.clearText():E===13?J.currentWindow.pendingNewLine=!0:E===14?J.currentWindow.clearText():E===141&&P++},It.prototype.extendedCommands=function(v,S){var C=this.current708Packet.data,E=C[++v];return is(E)&&(v=this.handleText(v,S,{isExtended:!0})),v},It.prototype.getPts=function(v){return this.current708Packet.ptsVals[Math.floor(v/2)]},It.prototype.initService=function(v,S){var E="SERVICE"+v,C=this,E,P;return E in this.serviceEncodings&&(P=this.serviceEncodings[E]),this.services[v]=new fo(v,P,C),this.services[v].init(this.getPts(S),function(M){C.flushDisplayed(M,C.services[v])}),this.services[v]},It.prototype.handleText=function(v,S,C){var E=C&&C.isExtended,P=C&&C.isMultiByte,M=this.current708Packet.data,J=E?4096:0,ee=M[v],re=M[v+1],ue=S.currentWindow,ge,Oe;function ze(Re){return Re.map(it=>("0"+(it&255).toString(16)).slice(-2)).join("")}if(P?(Oe=[ee,re],v++):Oe=[ee],S.textDecoder_&&!E)ge=S.textDecoder_.decode(new Uint8Array(Oe));else if(P){const Re=ze(Oe);ge=String.fromCharCode(parseInt(Re,16))}else ge=Rs(J|ee);return ue.pendingNewLine&&!ue.isEmpty()&&ue.newLine(this.getPts(v)),ue.pendingNewLine=!1,ue.addText(ge),v},It.prototype.multiByteCharacter=function(v,S){var C=this.current708Packet.data,E=C[v+1],P=C[v+2];return is(E)&&is(P)&&(v=this.handleText(++v,S,{isMultiByte:!0})),v},It.prototype.setCurrentWindow=function(v,S){var C=this.current708Packet.data,E=C[v],P=E&7;return S.setCurrentWindow(P),v},It.prototype.defineWindow=function(v,S){var C=this.current708Packet.data,E=C[v],P=E&7;S.setCurrentWindow(P);var M=S.currentWindow;return E=C[++v],M.visible=(E&32)>>5,M.rowLock=(E&16)>>4,M.columnLock=(E&8)>>3,M.priority=E&7,E=C[++v],M.relativePositioning=(E&128)>>7,M.anchorVertical=E&127,E=C[++v],M.anchorHorizontal=E,E=C[++v],M.anchorPoint=(E&240)>>4,M.rowCount=E&15,E=C[++v],M.columnCount=E&63,E=C[++v],M.windowStyle=(E&56)>>3,M.penStyle=E&7,M.virtualRowCount=M.rowCount+1,v},It.prototype.setWindowAttributes=function(v,S){var C=this.current708Packet.data,E=C[v],P=S.currentWindow.winAttr;return E=C[++v],P.fillOpacity=(E&192)>>6,P.fillRed=(E&48)>>4,P.fillGreen=(E&12)>>2,P.fillBlue=E&3,E=C[++v],P.borderType=(E&192)>>6,P.borderRed=(E&48)>>4,P.borderGreen=(E&12)>>2,P.borderBlue=E&3,E=C[++v],P.borderType+=(E&128)>>5,P.wordWrap=(E&64)>>6,P.printDirection=(E&48)>>4,P.scrollDirection=(E&12)>>2,P.justify=E&3,E=C[++v],P.effectSpeed=(E&240)>>4,P.effectDirection=(E&12)>>2,P.displayEffect=E&3,v},It.prototype.flushDisplayed=function(v,S){for(var C=[],E=0;E<8;E++)S.windows[E].visible&&!S.windows[E].isEmpty()&&C.push(S.windows[E].getText());S.endPts=v,S.text=C.join("\n\n"),this.pushCaption(S),S.startPts=v},It.prototype.pushCaption=function(v){v.text!==""&&(this.trigger("data",{startPts:v.startPts,endPts:v.endPts,text:v.text,stream:"cc708_"+v.serviceNum}),v.text="",v.startPts=v.endPts)},It.prototype.displayWindows=function(v,S){var C=this.current708Packet.data,E=C[++v],P=this.getPts(v);this.flushDisplayed(P,S);for(var M=0;M<8;M++)E&1<<M&&(S.windows[M].visible=1);return v},It.prototype.hideWindows=function(v,S){var C=this.current708Packet.data,E=C[++v],P=this.getPts(v);this.flushDisplayed(P,S);for(var M=0;M<8;M++)E&1<<M&&(S.windows[M].visible=0);return v},It.prototype.toggleWindows=function(v,S){var C=this.current708Packet.data,E=C[++v],P=this.getPts(v);this.flushDisplayed(P,S);for(var M=0;M<8;M++)E&1<<M&&(S.windows[M].visible^=1);return v},It.prototype.clearWindows=function(v,S){var C=this.current708Packet.data,E=C[++v],P=this.getPts(v);this.flushDisplayed(P,S);for(var M=0;M<8;M++)E&1<<M&&S.windows[M].clearText();return v},It.prototype.deleteWindows=function(v,S){var C=this.current708Packet.data,E=C[++v],P=this.getPts(v);this.flushDisplayed(P,S);for(var M=0;M<8;M++)E&1<<M&&S.windows[M].reset();return v},It.prototype.setPenAttributes=function(v,S){var C=this.current708Packet.data,E=C[v],P=S.currentWindow.penAttr;return E=C[++v],P.textTag=(E&240)>>4,P.offset=(E&12)>>2,P.penSize=E&3,E=C[++v],P.italics=(E&128)>>7,P.underline=(E&64)>>6,P.edgeType=(E&56)>>3,P.fontStyle=E&7,v},It.prototype.setPenColor=function(v,S){var C=this.current708Packet.data,E=C[v],P=S.currentWindow.penColor;return E=C[++v],P.fgOpacity=(E&192)>>6,P.fgRed=(E&48)>>4,P.fgGreen=(E&12)>>2,P.fgBlue=E&3,E=C[++v],P.bgOpacity=(E&192)>>6,P.bgRed=(E&48)>>4,P.bgGreen=(E&12)>>2,P.bgBlue=E&3,E=C[++v],P.edgeRed=(E&48)>>4,P.edgeGreen=(E&12)>>2,P.edgeBlue=E&3,v},It.prototype.setPenLocation=function(v,S){var C=this.current708Packet.data,E=C[v],P=S.currentWindow.penLoc;return S.currentWindow.pendingNewLine=!0,E=C[++v],P.row=E&15,E=C[++v],P.column=E&63,v},It.prototype.reset=function(v,S){var C=this.getPts(v);return this.flushDisplayed(C,S),this.initService(S.serviceNum,v)};var Zd={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ef=function(v){return v===null?"":(v=Zd[v]||v,String.fromCharCode(v))},tf=14,KL=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ho=function(){for(var v=[],S=tf+1;S--;)v.push({text:"",indent:0,offset:0});return v},dn=function(v,S){dn.prototype.init.call(this),this.field_=v||0,this.dataChannel_=S||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(C){var E,P,M,J,ee;if(E=C.ccData&32639,E===this.lastControlCode_){this.lastControlCode_=null;return}if((E&61440)===4096?this.lastControlCode_=E:E!==this.PADDING_&&(this.lastControlCode_=null),M=E>>>8,J=E&255,E!==this.PADDING_)if(E===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(E===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(C.pts),this.flushDisplayed(C.pts),P=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=P,this.startPts_=C.pts;else if(E===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(C.pts);else if(E===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(C.pts);else if(E===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(C.pts);else if(E===this.CARRIAGE_RETURN_)this.clearFormatting(C.pts),this.flushDisplayed(C.pts),this.shiftRowsUp_(),this.startPts_=C.pts;else if(E===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(E===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(C.pts),this.displayed_=ho();else if(E===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ho();else if(E===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(C.pts),this.displayed_=ho()),this.mode_="paintOn",this.startPts_=C.pts;else if(this.isSpecialCharacter(M,J))M=(M&3)<<8,ee=ef(M|J),this[this.mode_](C.pts,ee),this.column_++;else if(this.isExtCharacter(M,J))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),M=(M&3)<<8,ee=ef(M|J),this[this.mode_](C.pts,ee),this.column_++;else if(this.isMidRowCode(M,J))this.clearFormatting(C.pts),this[this.mode_](C.pts," "),this.column_++,(J&14)===14&&this.addFormatting(C.pts,["i"]),(J&1)===1&&this.addFormatting(C.pts,["u"]);else if(this.isOffsetControlCode(M,J)){const ue=J&3;this.nonDisplayed_[this.row_].offset=ue,this.column_+=ue}else if(this.isPAC(M,J)){var re=KL.indexOf(E&7968);if(this.mode_==="rollUp"&&(re-this.rollUpRows_+1<0&&(re=this.rollUpRows_-1),this.setRollUp(C.pts,re)),re!==this.row_&&re>=0&&re<=14&&(this.clearFormatting(C.pts),this.row_=re),J&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(C.pts,["u"]),(E&16)===16){const ue=(E&14)>>1;this.column_=ue*4,this.nonDisplayed_[this.row_].indent+=ue}this.isColorPAC(J)&&(J&14)===14&&this.addFormatting(C.pts,["i"])}else this.isNormalChar(M)&&(J===0&&(J=null),ee=ef(M),ee+=ef(J),this[this.mode_](C.pts,ee),this.column_+=ee.length)}};dn.prototype=new Sr,dn.prototype.flushDisplayed=function(v){const S=E=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+E+"."})},C=[];this.displayed_.forEach((E,P)=>{if(E&&E.text&&E.text.length){try{E.text=E.text.trim()}catch(M){S(P)}E.text.length&&C.push({text:E.text,line:P+1,position:10+Math.min(70,E.indent*10)+E.offset*2.5})}else E==null&&S(P)}),C.length&&this.trigger("data",{startPts:this.startPts_,endPts:v,content:C,stream:this.name_})},dn.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ho(),this.nonDisplayed_=ho(),this.lastControlCode_=null,this.column_=0,this.row_=tf,this.rollUpRows_=2,this.formatting_=[]},dn.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},dn.prototype.isSpecialCharacter=function(v,S){return v===this.EXT_&&S>=48&&S<=63},dn.prototype.isExtCharacter=function(v,S){return(v===this.EXT_+1||v===this.EXT_+2)&&S>=32&&S<=63},dn.prototype.isMidRowCode=function(v,S){return v===this.EXT_&&S>=32&&S<=47},dn.prototype.isOffsetControlCode=function(v,S){return v===this.OFFSET_&&S>=33&&S<=35},dn.prototype.isPAC=function(v,S){return v>=this.BASE_&&v<this.BASE_+8&&S>=64&&S<=127},dn.prototype.isColorPAC=function(v){return v>=64&&v<=79||v>=96&&v<=127},dn.prototype.isNormalChar=function(v){return v>=32&&v<=127},dn.prototype.setRollUp=function(v,S){if(this.mode_!=="rollUp"&&(this.row_=tf,this.mode_="rollUp",this.flushDisplayed(v),this.nonDisplayed_=ho(),this.displayed_=ho()),S!==void 0&&S!==this.row_)for(var C=0;C<this.rollUpRows_;C++)this.displayed_[S-C]=this.displayed_[this.row_-C],this.displayed_[this.row_-C]={text:"",indent:0,offset:0};S===void 0&&(S=this.row_),this.topRow_=S-this.rollUpRows_+1},dn.prototype.addFormatting=function(v,S){this.formatting_=this.formatting_.concat(S);var C=S.reduce(function(E,P){return E+"<"+P+">"},"");this[this.mode_](v,C)},dn.prototype.clearFormatting=function(v){if(this.formatting_.length){var S=this.formatting_.reverse().reduce(function(C,E){return C+"</"+E+">"},"");this.formatting_=[],this[this.mode_](v,S)}},dn.prototype.popOn=function(v,S){var C=this.nonDisplayed_[this.row_].text;C+=S,this.nonDisplayed_[this.row_].text=C},dn.prototype.rollUp=function(v,S){var C=this.displayed_[this.row_].text;C+=S,this.displayed_[this.row_].text=C},dn.prototype.shiftRowsUp_=function(){var v;for(v=0;v<this.topRow_;v++)this.displayed_[v]={text:"",indent:0,offset:0};for(v=this.row_+1;v<tf+1;v++)this.displayed_[v]={text:"",indent:0,offset:0};for(v=this.topRow_;v<this.row_;v++)this.displayed_[v]=this.displayed_[v+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},dn.prototype.paintOn=function(v,S){var C=this.displayed_[this.row_].text;C+=S,this.displayed_[this.row_].text=C};var vT={CaptionStream:bn,Cea608Stream:dn,Cea708Stream:It},nf={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},XL=n,QL=8589934592,JL=4294967296,yT="shared",eg=function(v,S){var C=1;for(v>S&&(C=-1);Math.abs(S-v)>JL;)v+=C*QL;return v},tg=function(v){var S,C;tg.prototype.init.call(this),this.type_=v||yT,this.push=function(E){if(E.type==="metadata"){this.trigger("data",E);return}this.type_!==yT&&E.type!==this.type_||(C===void 0&&(C=E.dts),E.dts=eg(E.dts,C),E.pts=eg(E.pts,C),S=E.dts,this.trigger("data",E))},this.flush=function(){C=S,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){C=void 0,S=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};tg.prototype=new XL;var _T={TimestampRolloverStream:tg,handleRollover:eg},ZL=(v,S,C)=>{if(!v)return-1;for(var E=C;E<v.length;E++)if(v[E]===S)return E;return-1},eM={typedArrayIndexOf:ZL},rf=eM.typedArrayIndexOf,sf={Utf8:3},bT=function(v,S,C){var E,P="";for(E=S;E<C;E++)P+="%"+("00"+v[E].toString(16)).slice(-2);return P},zu=function(v,S,C){return decodeURIComponent(bT(v,S,C))},qu=function(v,S,C){return unescape(bT(v,S,C))},Wu=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},Gu={APIC:function(v){var S=1,C,E,P="-->";v.data[0]===sf.Utf8&&(C=rf(v.data,0,S),!(C<0)&&(v.mimeType=qu(v.data,S,C),S=C+1,v.pictureType=v.data[S],S++,E=rf(v.data,0,S),!(E<0)&&(v.description=zu(v.data,S,E),S=E+1,v.mimeType===P?v.url=qu(v.data,S,v.data.length):v.pictureData=v.data.subarray(S,v.data.length))))},"T*":function(v){v.data[0]===sf.Utf8&&(v.value=zu(v.data,1,v.data.length).replace(/\0*$/,""),v.values=v.value.split("\0"))},TXXX:function(v){var S;v.data[0]===sf.Utf8&&(S=rf(v.data,0,1),S!==-1&&(v.description=zu(v.data,1,S),v.value=zu(v.data,S+1,v.data.length).replace(/\0*$/,""),v.data=v.value))},"W*":function(v){v.url=qu(v.data,0,v.data.length).replace(/\0.*$/,"")},WXXX:function(v){var S;v.data[0]===sf.Utf8&&(S=rf(v.data,0,1),S!==-1&&(v.description=zu(v.data,1,S),v.url=qu(v.data,S+1,v.data.length).replace(/\0.*$/,"")))},PRIV:function(v){var S;for(S=0;S<v.data.length;S++)if(v.data[S]===0){v.owner=qu(v.data,0,S);break}v.privateData=v.data.subarray(S+1),v.data=v.privateData}},tM=function(v){var S,C,E=10,P=0,M=[];if(!(v.length<10||v[0]!==73||v[1]!==68||v[2]!==51)){P=Wu(v.subarray(6,10)),P+=10;var J=v[5]&64;J&&(E+=4,E+=Wu(v.subarray(10,14)),P-=Wu(v.subarray(16,20)));do{if(S=Wu(v.subarray(E+4,E+8)),S<1)break;C=String.fromCharCode(v[E],v[E+1],v[E+2],v[E+3]);var ee={id:C,data:v.subarray(E+10,E+S+10)};ee.key=ee.id,Gu[ee.id]?Gu[ee.id](ee):ee.id[0]==="T"?Gu["T*"](ee):ee.id[0]==="W"&&Gu["W*"](ee),M.push(ee),E+=10,E+=S}while(E<P);return M}},TT={parseId3Frames:tM,parseSyncSafeInteger:Wu,frameParsers:Gu},nM=n,iM=nf,wa=TT,af;af=function(v){var S={descriptor:v&&v.descriptor},C=0,E=[],P=0,M;if(af.prototype.init.call(this),this.dispatchType=iM.METADATA_STREAM_TYPE.toString(16),S.descriptor)for(M=0;M<S.descriptor.length;M++)this.dispatchType+=("00"+S.descriptor[M].toString(16)).slice(-2);this.push=function(J){var ee,re,ue,ge,Oe,ze;if(J.type==="timed-metadata"){if(J.dataAlignmentIndicator&&(P=0,E.length=0),E.length===0&&(J.data.length<10||J.data[0]!==73||J.data[1]!==68||J.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(E.push(J),P+=J.data.byteLength,E.length===1&&(C=wa.parseSyncSafeInteger(J.data.subarray(6,10)),C+=10),!(P<C)){for(ee={data:new Uint8Array(C),frames:[],pts:E[0].pts,dts:E[0].dts},Oe=0;Oe<C;)ee.data.set(E[0].data.subarray(0,C-Oe),Oe),Oe+=E[0].data.byteLength,P-=E[0].data.byteLength,E.shift();re=10,ee.data[5]&64&&(re+=4,re+=wa.parseSyncSafeInteger(ee.data.subarray(10,14)),C-=wa.parseSyncSafeInteger(ee.data.subarray(16,20)));do{if(ue=wa.parseSyncSafeInteger(ee.data.subarray(re+4,re+8)),ue<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(ze=String.fromCharCode(ee.data[re],ee.data[re+1],ee.data[re+2],ee.data[re+3]),ge={id:ze,data:ee.data.subarray(re+10,re+ue+10)},ge.key=ge.id,wa.frameParsers[ge.id]?wa.frameParsers[ge.id](ge):ge.id[0]==="T"?wa.frameParsers["T*"](ge):ge.id[0]==="W"&&wa.frameParsers["W*"](ge),ge.owner==="com.apple.streaming.transportStreamTimestamp"){var Re=ge.data,it=(Re[3]&1)<<30|Re[4]<<22|Re[5]<<14|Re[6]<<6|Re[7]>>>2;it*=4,it+=Re[7]&3,ge.timeStamp=it,ee.pts===void 0&&ee.dts===void 0&&(ee.pts=ge.timeStamp,ee.dts=ge.timeStamp),this.trigger("timestamp",ge)}ee.frames.push(ge),re+=10,re+=ue}while(re<C);this.trigger("data",ee)}}}},af.prototype=new nM;var rM=af,ng=n,ig=vT,xr=nf,sM=_T.TimestampRolloverStream,of,Yu,lf,al=188,rg=71;of=function(){var v=new Uint8Array(al),S=0;of.prototype.init.call(this),this.push=function(C){var E=0,P=al,M;for(S?(M=new Uint8Array(C.byteLength+S),M.set(v.subarray(0,S)),M.set(C,S),S=0):M=C;P<M.byteLength;){if(M[E]===rg&&M[P]===rg){this.trigger("data",M.subarray(E,P)),E+=al,P+=al;continue}E++,P++}E<M.byteLength&&(v.set(M.subarray(E),0),S=M.byteLength-E)},this.flush=function(){S===al&&v[0]===rg&&(this.trigger("data",v),S=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){S=0,this.trigger("reset")}},of.prototype=new ng,Yu=function(){var v,S,C,E;Yu.prototype.init.call(this),E=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,v=function(P,M){var J=0;M.payloadUnitStartIndicator&&(J+=P[J]+1),M.type==="pat"?S(P.subarray(J),M):C(P.subarray(J),M)},S=function(P,M){M.section_number=P[7],M.last_section_number=P[8],E.pmtPid=(P[10]&31)<<8|P[11],M.pmtPid=E.pmtPid},C=function(P,M){var J,ee,re,ue;if(P[5]&1){for(E.programMapTable={video:null,audio:null,"timed-metadata":{}},J=(P[1]&15)<<8|P[2],ee=3+J-4,re=(P[10]&15)<<8|P[11],ue=12+re;ue<ee;){var ge=P[ue],Oe=(P[ue+1]&31)<<8|P[ue+2];ge===xr.H264_STREAM_TYPE&&E.programMapTable.video===null?E.programMapTable.video=Oe:ge===xr.ADTS_STREAM_TYPE&&E.programMapTable.audio===null?E.programMapTable.audio=Oe:ge===xr.METADATA_STREAM_TYPE&&(E.programMapTable["timed-metadata"][Oe]=ge),ue+=((P[ue+3]&15)<<8|P[ue+4])+5}M.programMapTable=E.programMapTable}},this.push=function(P){var M={},J=4;if(M.payloadUnitStartIndicator=!!(P[1]&64),M.pid=P[1]&31,M.pid<<=8,M.pid|=P[2],(P[3]&48)>>>4>1&&(J+=P[J]+1),M.pid===0)M.type="pat",v(P.subarray(J),M),this.trigger("data",M);else if(M.pid===this.pmtPid)for(M.type="pmt",v(P.subarray(J),M),this.trigger("data",M);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([P,J,M]):this.processPes_(P,J,M)},this.processPes_=function(P,M,J){J.pid===this.programMapTable.video?J.streamType=xr.H264_STREAM_TYPE:J.pid===this.programMapTable.audio?J.streamType=xr.ADTS_STREAM_TYPE:J.streamType=this.programMapTable["timed-metadata"][J.pid],J.type="pes",J.data=P.subarray(M),this.trigger("data",J)}},Yu.prototype=new ng,Yu.STREAM_TYPES={h264:27,adts:15},lf=function(){var v=this,S=!1,C={data:[],size:0},E={data:[],size:0},P={data:[],size:0},M,J=function(re,ue){var ge;const Oe=re[0]<<16|re[1]<<8|re[2];ue.data=new Uint8Array,Oe===1&&(ue.packetLength=6+(re[4]<<8|re[5]),ue.dataAlignmentIndicator=(re[6]&4)!==0,ge=re[7],ge&192&&(ue.pts=(re[9]&14)<<27|(re[10]&255)<<20|(re[11]&254)<<12|(re[12]&255)<<5|(re[13]&254)>>>3,ue.pts*=4,ue.pts+=(re[13]&6)>>>1,ue.dts=ue.pts,ge&64&&(ue.dts=(re[14]&14)<<27|(re[15]&255)<<20|(re[16]&254)<<12|(re[17]&255)<<5|(re[18]&254)>>>3,ue.dts*=4,ue.dts+=(re[18]&6)>>>1)),ue.data=re.subarray(9+re[8]))},ee=function(re,ue,ge){var Oe=new Uint8Array(re.size),ze={type:ue},Re=0,it=0,bt=!1,Hn;if(!(!re.data.length||re.size<9)){for(ze.trackId=re.data[0].pid,Re=0;Re<re.data.length;Re++)Hn=re.data[Re],Oe.set(Hn.data,it),it+=Hn.data.byteLength;J(Oe,ze),bt=ue==="video"||ze.packetLength<=re.size,(ge||bt)&&(re.size=0,re.data.length=0),bt&&v.trigger("data",ze)}};lf.prototype.init.call(this),this.push=function(re){({pat:function(){},pes:function(){var ue,ge;switch(re.streamType){case xr.H264_STREAM_TYPE:ue=C,ge="video";break;case xr.ADTS_STREAM_TYPE:ue=E,ge="audio";break;case xr.METADATA_STREAM_TYPE:ue=P,ge="timed-metadata";break;default:return}re.payloadUnitStartIndicator&&ee(ue,ge,!0),ue.data.push(re),ue.size+=re.data.byteLength},pmt:function(){var ue={type:"metadata",tracks:[]};M=re.programMapTable,M.video!==null&&ue.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+M.video,codec:"avc",type:"video"}),M.audio!==null&&ue.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+M.audio,codec:"adts",type:"audio"}),S=!0,v.trigger("data",ue)}})[re.type]()},this.reset=function(){C.size=0,C.data.length=0,E.size=0,E.data.length=0,this.trigger("reset")},this.flushStreams_=function(){ee(C,"video"),ee(E,"audio"),ee(P,"timed-metadata")},this.flush=function(){if(!S&&M){var re={type:"metadata",tracks:[]};M.video!==null&&re.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+M.video,codec:"avc",type:"video"}),M.audio!==null&&re.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+M.audio,codec:"adts",type:"audio"}),v.trigger("data",re)}S=!1,this.flushStreams_(),this.trigger("done")}},lf.prototype=new ng;var AT={PAT_PID:0,MP2T_PACKET_LENGTH:al,TransportPacketStream:of,TransportParseStream:Yu,ElementaryStream:lf,TimestampRolloverStream:sM,CaptionStream:ig.CaptionStream,Cea608Stream:ig.Cea608Stream,Cea708Stream:ig.Cea708Stream,MetadataStream:rM};for(var sg in xr)xr.hasOwnProperty(sg)&&(AT[sg]=xr[sg]);var aM=AT,oM=n,lM=yt.ONE_SECOND_IN_TS,uf,ST=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];uf=function(v){var S,C=0;uf.prototype.init.call(this),this.skipWarn_=function(E,P){this.trigger("log",{level:"warn",message:"adts skiping bytes ".concat(E," to ").concat(P," in frame ").concat(C," outside syncword")})},this.push=function(E){var P=0,M,J,ee,re,ue;if(v||(C=0),E.type==="audio"){S&&S.length?(ee=S,S=new Uint8Array(ee.byteLength+E.data.byteLength),S.set(ee),S.set(E.data,ee.byteLength)):S=E.data;for(var ge;P+7<S.length;){if(S[P]!==255||(S[P+1]&246)!==240){typeof ge!="number"&&(ge=P),P++;continue}if(typeof ge=="number"&&(this.skipWarn_(ge,P),ge=null),J=(~S[P+1]&1)*2,M=(S[P+3]&3)<<11|S[P+4]<<3|(S[P+5]&224)>>5,re=((S[P+6]&3)+1)*1024,ue=re*lM/ST[(S[P+2]&60)>>>2],S.byteLength-P<M)break;this.trigger("data",{pts:E.pts+C*ue,dts:E.dts+C*ue,sampleCount:re,audioobjecttype:(S[P+2]>>>6&3)+1,channelcount:(S[P+2]&1)<<2|(S[P+3]&192)>>>6,samplerate:ST[(S[P+2]&60)>>>2],samplingfrequencyindex:(S[P+2]&60)>>>2,samplesize:16,data:S.subarray(P+7+J,P+M)}),C++,P+=M}typeof ge=="number"&&(this.skipWarn_(ge,P),ge=null),S=S.subarray(P)}},this.flush=function(){C=0,this.trigger("done")},this.reset=function(){S=void 0,this.trigger("reset")},this.endTimeline=function(){S=void 0,this.trigger("endedtimeline")}},uf.prototype=new oM;var uM=uf,xT;xT=function(v){var S=v.byteLength,C=0,E=0;this.length=function(){return 8*S},this.bitsAvailable=function(){return 8*S+E},this.loadWord=function(){var P=v.byteLength-S,M=new Uint8Array(4),J=Math.min(4,S);if(J===0)throw new Error("no bytes available");M.set(v.subarray(P,P+J)),C=new DataView(M.buffer).getUint32(0),E=J*8,S-=J},this.skipBits=function(P){var M;E>P?(C<<=P,E-=P):(P-=E,M=Math.floor(P/8),P-=M*8,S-=M,this.loadWord(),C<<=P,E-=P)},this.readBits=function(P){var M=Math.min(E,P),J=C>>>32-M;return E-=M,E>0?C<<=M:S>0&&this.loadWord(),M=P-M,M>0?J<<M|this.readBits(M):J},this.skipLeadingZeros=function(){var P;for(P=0;P<E;++P)if((C&2147483648>>>P)!==0)return C<<=P,E-=P,P;return this.loadWord(),P+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var P=this.skipLeadingZeros();return this.readBits(P+1)-1},this.readExpGolomb=function(){var P=this.readUnsignedExpGolomb();return 1&P?1+P>>>1:-1*(P>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var cM=xT,ET=n,dM=cM,cf,df,CT;df=function(){var v=0,S,C;df.prototype.init.call(this),this.push=function(E){var P;C?(P=new Uint8Array(C.byteLength+E.data.byteLength),P.set(C),P.set(E.data,C.byteLength),C=P):C=E.data;for(var M=C.byteLength;v<M-3;v++)if(C[v+2]===1){S=v+5;break}for(;S<M;)switch(C[S]){case 0:if(C[S-1]!==0){S+=2;break}else if(C[S-2]!==0){S++;break}v+3!==S-2&&this.trigger("data",C.subarray(v+3,S-2));do S++;while(C[S]!==1&&S<M);v=S-2,S+=3;break;case 1:if(C[S-1]!==0||C[S-2]!==0){S+=3;break}this.trigger("data",C.subarray(v+3,S-2)),v=S-2,S+=3;break;default:S+=3;break}C=C.subarray(v),S-=v,v=0},this.reset=function(){C=null,v=0,this.trigger("reset")},this.flush=function(){C&&C.byteLength>3&&this.trigger("data",C.subarray(v+3)),C=null,v=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},df.prototype=new ET,CT={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},cf=function(){var v=new df,S,C,E,P,M,J,ee;cf.prototype.init.call(this),S=this,this.push=function(re){re.type==="video"&&(C=re.trackId,E=re.pts,P=re.dts,v.push(re))},v.on("data",function(re){var ue={trackId:C,pts:E,dts:P,data:re,nalUnitTypeCode:re[0]&31};switch(ue.nalUnitTypeCode){case 5:ue.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ue.nalUnitType="sei_rbsp",ue.escapedRBSP=M(re.subarray(1));break;case 7:ue.nalUnitType="seq_parameter_set_rbsp",ue.escapedRBSP=M(re.subarray(1)),ue.config=J(ue.escapedRBSP);break;case 8:ue.nalUnitType="pic_parameter_set_rbsp";break;case 9:ue.nalUnitType="access_unit_delimiter_rbsp";break}S.trigger("data",ue)}),v.on("done",function(){S.trigger("done")}),v.on("partialdone",function(){S.trigger("partialdone")}),v.on("reset",function(){S.trigger("reset")}),v.on("endedtimeline",function(){S.trigger("endedtimeline")}),this.flush=function(){v.flush()},this.partialFlush=function(){v.partialFlush()},this.reset=function(){v.reset()},this.endTimeline=function(){v.endTimeline()},ee=function(re,ue){var ge=8,Oe=8,ze,Re;for(ze=0;ze<re;ze++)Oe!==0&&(Re=ue.readExpGolomb(),Oe=(ge+Re+256)%256),ge=Oe===0?ge:Oe},M=function(re){for(var ue=re.byteLength,ge=[],Oe=1,ze,Re;Oe<ue-2;)re[Oe]===0&&re[Oe+1]===0&&re[Oe+2]===3?(ge.push(Oe+2),Oe+=2):Oe++;if(ge.length===0)return re;ze=ue-ge.length,Re=new Uint8Array(ze);var it=0;for(Oe=0;Oe<ze;it++,Oe++)it===ge[0]&&(it++,ge.shift()),Re[Oe]=re[it];return Re},J=function(re){var ue=0,ge=0,Oe=0,ze=0,Re,it,bt,Hn,Vi,ka,tc,nc,ic,rc,Sf,an=[1,1],sc,Cr;if(Re=new dM(re),it=Re.readUnsignedByte(),Hn=Re.readUnsignedByte(),bt=Re.readUnsignedByte(),Re.skipUnsignedExpGolomb(),CT[it]&&(Vi=Re.readUnsignedExpGolomb(),Vi===3&&Re.skipBits(1),Re.skipUnsignedExpGolomb(),Re.skipUnsignedExpGolomb(),Re.skipBits(1),Re.readBoolean()))for(Sf=Vi!==3?8:12,Cr=0;Cr<Sf;Cr++)Re.readBoolean()&&(Cr<6?ee(16,Re):ee(64,Re));if(Re.skipUnsignedExpGolomb(),ka=Re.readUnsignedExpGolomb(),ka===0)Re.readUnsignedExpGolomb();else if(ka===1)for(Re.skipBits(1),Re.skipExpGolomb(),Re.skipExpGolomb(),tc=Re.readUnsignedExpGolomb(),Cr=0;Cr<tc;Cr++)Re.skipExpGolomb();if(Re.skipUnsignedExpGolomb(),Re.skipBits(1),nc=Re.readUnsignedExpGolomb(),ic=Re.readUnsignedExpGolomb(),rc=Re.readBits(1),rc===0&&Re.skipBits(1),Re.skipBits(1),Re.readBoolean()&&(ue=Re.readUnsignedExpGolomb(),ge=Re.readUnsignedExpGolomb(),Oe=Re.readUnsignedExpGolomb(),ze=Re.readUnsignedExpGolomb()),Re.readBoolean()&&Re.readBoolean()){switch(sc=Re.readUnsignedByte(),sc){case 1:an=[1,1];break;case 2:an=[12,11];break;case 3:an=[10,11];break;case 4:an=[16,11];break;case 5:an=[40,33];break;case 6:an=[24,11];break;case 7:an=[20,11];break;case 8:an=[32,11];break;case 9:an=[80,33];break;case 10:an=[18,11];break;case 11:an=[15,11];break;case 12:an=[64,33];break;case 13:an=[160,99];break;case 14:an=[4,3];break;case 15:an=[3,2];break;case 16:an=[2,1];break;case 255:{an=[Re.readUnsignedByte()<<8|Re.readUnsignedByte(),Re.readUnsignedByte()<<8|Re.readUnsignedByte()];break}}an&&an[0]/an[1]}return{profileIdc:it,levelIdc:bt,profileCompatibility:Hn,width:(nc+1)*16-ue*2-ge*2,height:(2-rc)*(ic+1)*16-Oe*2-ze*2,sarRatio:an}}},cf.prototype=new ET;var fM={H264Stream:cf},hM=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],wT=function(v,S){var C=v[S+6]<<21|v[S+7]<<14|v[S+8]<<7|v[S+9],E=v[S+5],P=(E&16)>>4;return C=C>=0?C:0,P?C+20:C+10},DT=function(v,S){return v.length-S<10||v[S]!==73||v[S+1]!==68||v[S+2]!==51?S:(S+=wT(v,S),DT(v,S))},pM=function(v){var S=DT(v,0);return v.length>=S+2&&(v[S]&255)===255&&(v[S+1]&240)===240&&(v[S+1]&22)===16},kT=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},mM=function(v,S,C){var E,P="";for(E=S;E<C;E++)P+="%"+("00"+v[E].toString(16)).slice(-2);return P},gM=function(v,S,C){return unescape(mM(v,S,C))},vM=function(v,S){var C=(v[S+5]&224)>>5,E=v[S+4]<<3,P=v[S+3]&6144;return P|E|C},yM=function(v,S){return v[S]===73&&v[S+1]===68&&v[S+2]===51?"timed-metadata":v[S]&!0&&(v[S+1]&240)===240?"audio":null},_M=function(v){for(var S=0;S+5<v.length;){if(v[S]!==255||(v[S+1]&246)!==240){S++;continue}return hM[(v[S+2]&60)>>>2]}return null},bM=function(v){var S,C,E,P;S=10,v[5]&64&&(S+=4,S+=kT(v.subarray(10,14)));do{if(C=kT(v.subarray(S+4,S+8)),C<1)return null;if(P=String.fromCharCode(v[S],v[S+1],v[S+2],v[S+3]),P==="PRIV"){E=v.subarray(S+10,S+C+10);for(var M=0;M<E.byteLength;M++)if(E[M]===0){var J=gM(E,0,M);if(J==="com.apple.streaming.transportStreamTimestamp"){var ee=E.subarray(M+1),re=(ee[3]&1)<<30|ee[4]<<22|ee[5]<<14|ee[6]<<6|ee[7]>>>2;return re*=4,re+=ee[7]&3,re}break}}S+=10,S+=C}while(S<v.byteLength);return null},ag={isLikelyAacData:pM,parseId3TagSize:wT,parseAdtsSize:vM,parseType:yM,parseSampleRate:_M,parseAacTimestamp:bM},TM=n,OT=ag,ff;ff=function(){var v=new Uint8Array,S=0;ff.prototype.init.call(this),this.setTimestamp=function(C){S=C},this.push=function(C){var E=0,P=0,M,J,ee,re;for(v.length?(re=v.length,v=new Uint8Array(C.byteLength+re),v.set(v.subarray(0,re)),v.set(C,re)):v=C;v.length-P>=3;){if(v[P]===73&&v[P+1]===68&&v[P+2]===51){if(v.length-P<10||(E=OT.parseId3TagSize(v,P),P+E>v.length))break;J={type:"timed-metadata",data:v.subarray(P,P+E)},this.trigger("data",J),P+=E;continue}else if((v[P]&255)===255&&(v[P+1]&240)===240){if(v.length-P<7||(E=OT.parseAdtsSize(v,P),P+E>v.length))break;ee={type:"audio",data:v.subarray(P,P+E),pts:S,dts:S},this.trigger("data",ee),P+=E;continue}P++}M=v.length-P,M>0?v=v.subarray(P):v=new Uint8Array},this.reset=function(){v=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){v=new Uint8Array,this.trigger("endedtimeline")}},ff.prototype=new TM;var AM=ff,SM=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],xM=SM,EM=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],CM=EM,hf=n,Ku=q,Xu=Ce,pf=Hu,Er=Ee,Ls=aM,mf=yt,IT=uM,wM=fM.H264Stream,DM=AM,kM=ag.isLikelyAacData,OM=yt.ONE_SECOND_IN_TS,PT=xM,RT=CM,gf,Qu,vf,po,IM=function(v,S){S.stream=v,this.trigger("log",S)},LT=function(v,S){for(var C=Object.keys(S),E=0;E<C.length;E++){var P=C[E];P==="headOfPipeline"||!S[P].on||S[P].on("log",IM.bind(v,P))}},MT=function(v,S){var C;if(v.length!==S.length)return!1;for(C=0;C<v.length;C++)if(v[C]!==S[C])return!1;return!0},NT=function(v,S,C,E,P,M){var J=C-S,ee=E-S,re=P-C;return{start:{dts:v,pts:v+J},end:{dts:v+ee,pts:v+re},prependedContentDuration:M,baseMediaDecodeTime:v}};Qu=function(v,S){var C=[],E,P=0,M=0,J=1/0;S=S||{},E=S.firstSequenceNumber||0,Qu.prototype.init.call(this),this.push=function(ee){Er.collectDtsInfo(v,ee),v&&PT.forEach(function(re){v[re]=ee[re]}),C.push(ee)},this.setEarliestDts=function(ee){P=ee},this.setVideoBaseMediaDecodeTime=function(ee){J=ee},this.setAudioAppendStart=function(ee){M=ee},this.flush=function(){var ee,re,ue,ge,Oe,ze,Re;if(C.length===0){this.trigger("done","AudioSegmentStream");return}ee=pf.trimAdtsFramesByEarliestDts(C,v,P),v.baseMediaDecodeTime=Er.calculateTrackBaseMediaDecodeTime(v,S.keepOriginalTimestamps),Re=pf.prefixWithSilence(v,ee,M,J),v.samples=pf.generateSampleTable(ee),ue=Ku.mdat(pf.concatenateFrameData(ee)),C=[],re=Ku.moof(E,[v]),ge=new Uint8Array(re.byteLength+ue.byteLength),E++,ge.set(re),ge.set(ue,re.byteLength),Er.clearDtsInfo(v),Oe=Math.ceil(OM*1024/v.samplerate),ee.length&&(ze=ee.length*Oe,this.trigger("segmentTimingInfo",NT(mf.audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),ee[0].dts,ee[0].pts,ee[0].dts+ze,ee[0].pts+ze,Re||0)),this.trigger("timingInfo",{start:ee[0].pts,end:ee[0].pts+ze})),this.trigger("data",{track:v,boxes:ge}),this.trigger("done","AudioSegmentStream")},this.reset=function(){Er.clearDtsInfo(v),C=[],this.trigger("reset")}},Qu.prototype=new hf,gf=function(v,S){var C,E=[],P=[],M,J;S=S||{},C=S.firstSequenceNumber||0,gf.prototype.init.call(this),delete v.minPTS,this.gopCache_=[],this.push=function(ee){Er.collectDtsInfo(v,ee),ee.nalUnitType==="seq_parameter_set_rbsp"&&!M&&(M=ee.config,v.sps=[ee.data],RT.forEach(function(re){v[re]=M[re]},this)),ee.nalUnitType==="pic_parameter_set_rbsp"&&!J&&(J=ee.data,v.pps=[ee.data]),E.push(ee)},this.flush=function(){for(var ee,re,ue,ge,Oe,ze,Re=0,it,bt;E.length&&E[0].nalUnitType!=="access_unit_delimiter_rbsp";)E.shift();if(E.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(ee=Xu.groupNalsIntoFrames(E),ue=Xu.groupFramesIntoGops(ee),ue[0][0].keyFrame||(re=this.getGopForFusion_(E[0],v),re?(Re=re.duration,ue.unshift(re),ue.byteLength+=re.byteLength,ue.nalCount+=re.nalCount,ue.pts=re.pts,ue.dts=re.dts,ue.duration+=re.duration):ue=Xu.extendFirstKeyFrame(ue)),P.length){var Hn;if(S.alignGopsAtEnd?Hn=this.alignGopsAtEnd_(ue):Hn=this.alignGopsAtStart_(ue),!Hn){this.gopCache_.unshift({gop:ue.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}Er.clearDtsInfo(v),ue=Hn}Er.collectDtsInfo(v,ue),v.samples=Xu.generateSampleTable(ue),Oe=Ku.mdat(Xu.concatenateNalData(ue)),v.baseMediaDecodeTime=Er.calculateTrackBaseMediaDecodeTime(v,S.keepOriginalTimestamps),this.trigger("processedGopsInfo",ue.map(function(Vi){return{pts:Vi.pts,dts:Vi.dts,byteLength:Vi.byteLength}})),it=ue[0],bt=ue[ue.length-1],this.trigger("segmentTimingInfo",NT(v.baseMediaDecodeTime,it.dts,it.pts,bt.dts+bt.duration,bt.pts+bt.duration,Re)),this.trigger("timingInfo",{start:ue[0].pts,end:ue[ue.length-1].pts+ue[ue.length-1].duration}),this.gopCache_.unshift({gop:ue.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),E=[],this.trigger("baseMediaDecodeTime",v.baseMediaDecodeTime),this.trigger("timelineStartInfo",v.timelineStartInfo),ge=Ku.moof(C,[v]),ze=new Uint8Array(ge.byteLength+Oe.byteLength),C++,ze.set(ge),ze.set(Oe,ge.byteLength),this.trigger("data",{track:v,boxes:ze}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),E=[],this.gopCache_.length=0,P.length=0,this.trigger("reset")},this.resetStream_=function(){Er.clearDtsInfo(v),M=void 0,J=void 0},this.getGopForFusion_=function(ee){var re=45e3,ue=1/0,ge,Oe,ze,Re,it;for(it=0;it<this.gopCache_.length;it++)Re=this.gopCache_[it],ze=Re.gop,!(!(v.pps&&MT(v.pps[0],Re.pps[0]))||!(v.sps&&MT(v.sps[0],Re.sps[0])))&&(ze.dts<v.timelineStartInfo.dts||(ge=ee.dts-ze.dts-ze.duration,ge>=-1e4&&ge<=re&&(!Oe||ue>ge)&&(Oe=Re,ue=ge)));return Oe?Oe.gop:null},this.alignGopsAtStart_=function(ee){var re,ue,ge,Oe,ze,Re,it,bt;for(ze=ee.byteLength,Re=ee.nalCount,it=ee.duration,re=ue=0;re<P.length&&ue<ee.length&&(ge=P[re],Oe=ee[ue],ge.pts!==Oe.pts);){if(Oe.pts>ge.pts){re++;continue}ue++,ze-=Oe.byteLength,Re-=Oe.nalCount,it-=Oe.duration}return ue===0?ee:ue===ee.length?null:(bt=ee.slice(ue),bt.byteLength=ze,bt.duration=it,bt.nalCount=Re,bt.pts=bt[0].pts,bt.dts=bt[0].dts,bt)},this.alignGopsAtEnd_=function(ee){var re,ue,ge,Oe,ze,Re;for(re=P.length-1,ue=ee.length-1,ze=null,Re=!1;re>=0&&ue>=0;){if(ge=P[re],Oe=ee[ue],ge.pts===Oe.pts){Re=!0;break}if(ge.pts>Oe.pts){re--;continue}re===P.length-1&&(ze=ue),ue--}if(!Re&&ze===null)return null;var it;if(Re?it=ue:it=ze,it===0)return ee;var bt=ee.slice(it),Hn=bt.reduce(function(Vi,ka){return Vi.byteLength+=ka.byteLength,Vi.duration+=ka.duration,Vi.nalCount+=ka.nalCount,Vi},{byteLength:0,duration:0,nalCount:0});return bt.byteLength=Hn.byteLength,bt.duration=Hn.duration,bt.nalCount=Hn.nalCount,bt.pts=bt[0].pts,bt.dts=bt[0].dts,bt},this.alignGopsWith=function(ee){P=ee}},gf.prototype=new hf,po=function(v,S){this.numberOfTracks=0,this.metadataStream=S,v=v||{},typeof v.remux<"u"?this.remuxTracks=!!v.remux:this.remuxTracks=!0,typeof v.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=v.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,po.prototype.init.call(this),this.push=function(C){if(C.content||C.text)return this.pendingCaptions.push(C);if(C.frames)return this.pendingMetadata.push(C);this.pendingTracks.push(C.track),this.pendingBytes+=C.boxes.byteLength,C.track.type==="video"&&(this.videoTrack=C.track,this.pendingBoxes.push(C.boxes)),C.track.type==="audio"&&(this.audioTrack=C.track,this.pendingBoxes.unshift(C.boxes))}},po.prototype=new hf,po.prototype.flush=function(v){var S=0,C={captions:[],captionStreams:{},metadata:[],info:{}},E,P,M,J=0,ee;if(this.pendingTracks.length<this.numberOfTracks){if(v!=="VideoSegmentStream"&&v!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(J=this.videoTrack.timelineStartInfo.pts,RT.forEach(function(re){C.info[re]=this.videoTrack[re]},this)):this.audioTrack&&(J=this.audioTrack.timelineStartInfo.pts,PT.forEach(function(re){C.info[re]=this.audioTrack[re]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?C.type=this.pendingTracks[0].type:C.type="combined",this.emittedTracks+=this.pendingTracks.length,M=Ku.initSegment(this.pendingTracks),C.initSegment=new Uint8Array(M.byteLength),C.initSegment.set(M),C.data=new Uint8Array(this.pendingBytes),ee=0;ee<this.pendingBoxes.length;ee++)C.data.set(this.pendingBoxes[ee],S),S+=this.pendingBoxes[ee].byteLength;for(ee=0;ee<this.pendingCaptions.length;ee++)E=this.pendingCaptions[ee],E.startTime=mf.metadataTsToSeconds(E.startPts,J,this.keepOriginalTimestamps),E.endTime=mf.metadataTsToSeconds(E.endPts,J,this.keepOriginalTimestamps),C.captionStreams[E.stream]=!0,C.captions.push(E);for(ee=0;ee<this.pendingMetadata.length;ee++)P=this.pendingMetadata[ee],P.cueTime=mf.metadataTsToSeconds(P.pts,J,this.keepOriginalTimestamps),C.metadata.push(P);for(C.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",C),ee=0;ee<C.captions.length;ee++)E=C.captions[ee],this.trigger("caption",E);for(ee=0;ee<C.metadata.length;ee++)P=C.metadata[ee],this.trigger("id3Frame",P)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},po.prototype.setRemux=function(v){this.remuxTracks=v},vf=function(v){var S=this,C=!0,E,P;vf.prototype.init.call(this),v=v||{},this.baseMediaDecodeTime=v.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var M={};this.transmuxPipeline_=M,M.type="aac",M.metadataStream=new Ls.MetadataStream,M.aacStream=new DM,M.audioTimestampRolloverStream=new Ls.TimestampRolloverStream("audio"),M.timedMetadataTimestampRolloverStream=new Ls.TimestampRolloverStream("timed-metadata"),M.adtsStream=new IT,M.coalesceStream=new po(v,M.metadataStream),M.headOfPipeline=M.aacStream,M.aacStream.pipe(M.audioTimestampRolloverStream).pipe(M.adtsStream),M.aacStream.pipe(M.timedMetadataTimestampRolloverStream).pipe(M.metadataStream).pipe(M.coalesceStream),M.metadataStream.on("timestamp",function(J){M.aacStream.setTimestamp(J.timeStamp)}),M.aacStream.on("data",function(J){J.type!=="timed-metadata"&&J.type!=="audio"||M.audioSegmentStream||(P=P||{timelineStartInfo:{baseMediaDecodeTime:S.baseMediaDecodeTime},codec:"adts",type:"audio"},M.coalesceStream.numberOfTracks++,M.audioSegmentStream=new Qu(P,v),M.audioSegmentStream.on("log",S.getLogTrigger_("audioSegmentStream")),M.audioSegmentStream.on("timingInfo",S.trigger.bind(S,"audioTimingInfo")),M.adtsStream.pipe(M.audioSegmentStream).pipe(M.coalesceStream),S.trigger("trackinfo",{hasAudio:!!P,hasVideo:!!E}))}),M.coalesceStream.on("data",this.trigger.bind(this,"data")),M.coalesceStream.on("done",this.trigger.bind(this,"done")),LT(this,M)},this.setupTsPipeline=function(){var M={};this.transmuxPipeline_=M,M.type="ts",M.metadataStream=new Ls.MetadataStream,M.packetStream=new Ls.TransportPacketStream,M.parseStream=new Ls.TransportParseStream,M.elementaryStream=new Ls.ElementaryStream,M.timestampRolloverStream=new Ls.TimestampRolloverStream,M.adtsStream=new IT,M.h264Stream=new wM,M.captionStream=new Ls.CaptionStream(v),M.coalesceStream=new po(v,M.metadataStream),M.headOfPipeline=M.packetStream,M.packetStream.pipe(M.parseStream).pipe(M.elementaryStream).pipe(M.timestampRolloverStream),M.timestampRolloverStream.pipe(M.h264Stream),M.timestampRolloverStream.pipe(M.adtsStream),M.timestampRolloverStream.pipe(M.metadataStream).pipe(M.coalesceStream),M.h264Stream.pipe(M.captionStream).pipe(M.coalesceStream),M.elementaryStream.on("data",function(J){var ee;if(J.type==="metadata"){for(ee=J.tracks.length;ee--;)!E&&J.tracks[ee].type==="video"?(E=J.tracks[ee],E.timelineStartInfo.baseMediaDecodeTime=S.baseMediaDecodeTime):!P&&J.tracks[ee].type==="audio"&&(P=J.tracks[ee],P.timelineStartInfo.baseMediaDecodeTime=S.baseMediaDecodeTime);E&&!M.videoSegmentStream&&(M.coalesceStream.numberOfTracks++,M.videoSegmentStream=new gf(E,v),M.videoSegmentStream.on("log",S.getLogTrigger_("videoSegmentStream")),M.videoSegmentStream.on("timelineStartInfo",function(re){P&&!v.keepOriginalTimestamps&&(P.timelineStartInfo=re,M.audioSegmentStream.setEarliestDts(re.dts-S.baseMediaDecodeTime))}),M.videoSegmentStream.on("processedGopsInfo",S.trigger.bind(S,"gopInfo")),M.videoSegmentStream.on("segmentTimingInfo",S.trigger.bind(S,"videoSegmentTimingInfo")),M.videoSegmentStream.on("baseMediaDecodeTime",function(re){P&&M.audioSegmentStream.setVideoBaseMediaDecodeTime(re)}),M.videoSegmentStream.on("timingInfo",S.trigger.bind(S,"videoTimingInfo")),M.h264Stream.pipe(M.videoSegmentStream).pipe(M.coalesceStream)),P&&!M.audioSegmentStream&&(M.coalesceStream.numberOfTracks++,M.audioSegmentStream=new Qu(P,v),M.audioSegmentStream.on("log",S.getLogTrigger_("audioSegmentStream")),M.audioSegmentStream.on("timingInfo",S.trigger.bind(S,"audioTimingInfo")),M.audioSegmentStream.on("segmentTimingInfo",S.trigger.bind(S,"audioSegmentTimingInfo")),M.adtsStream.pipe(M.audioSegmentStream).pipe(M.coalesceStream)),S.trigger("trackinfo",{hasAudio:!!P,hasVideo:!!E})}}),M.coalesceStream.on("data",this.trigger.bind(this,"data")),M.coalesceStream.on("id3Frame",function(J){J.dispatchType=M.metadataStream.dispatchType,S.trigger("id3Frame",J)}),M.coalesceStream.on("caption",this.trigger.bind(this,"caption")),M.coalesceStream.on("done",this.trigger.bind(this,"done")),LT(this,M)},this.setBaseMediaDecodeTime=function(M){var J=this.transmuxPipeline_;v.keepOriginalTimestamps||(this.baseMediaDecodeTime=M),P&&(P.timelineStartInfo.dts=void 0,P.timelineStartInfo.pts=void 0,Er.clearDtsInfo(P),J.audioTimestampRolloverStream&&J.audioTimestampRolloverStream.discontinuity()),E&&(J.videoSegmentStream&&(J.videoSegmentStream.gopCache_=[]),E.timelineStartInfo.dts=void 0,E.timelineStartInfo.pts=void 0,Er.clearDtsInfo(E),J.captionStream.reset()),J.timestampRolloverStream&&J.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(M){P&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(M)},this.setRemux=function(M){var J=this.transmuxPipeline_;v.remux=M,J&&J.coalesceStream&&J.coalesceStream.setRemux(M)},this.alignGopsWith=function(M){E&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(M)},this.getLogTrigger_=function(M){var J=this;return function(ee){ee.stream=M,J.trigger("log",ee)}},this.push=function(M){if(C){var J=kM(M);J&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!J&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),C=!1}this.transmuxPipeline_.headOfPipeline.push(M)},this.flush=function(){C=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},vf.prototype=new hf;var PM={Transmuxer:vf},RM=function(v){return v>>>0},LM=function(v){return("00"+v.toString(16)).slice(-2)},yf={toUnsigned:RM,toHexString:LM},MM=function(v){var S="";return S+=String.fromCharCode(v[0]),S+=String.fromCharCode(v[1]),S+=String.fromCharCode(v[2]),S+=String.fromCharCode(v[3]),S},BT=MM,NM=yf.toUnsigned,BM=BT,FT=function(v,S){var C=[],E,P,M,J,ee;if(!S.length)return null;for(E=0;E<v.byteLength;)P=NM(v[E]<<24|v[E+1]<<16|v[E+2]<<8|v[E+3]),M=BM(v.subarray(E+4,E+8)),J=P>1?E+P:v.byteLength,M===S[0]&&(S.length===1?C.push(v.subarray(E+8,J)):(ee=FT(v.subarray(E+8,J),S.slice(1)),ee.length&&(C=C.concat(ee)))),E=J;return C},og=FT,FM=yf.toUnsigned,$M=s.getUint64,UM=function(v){var S={version:v[0],flags:new Uint8Array(v.subarray(1,4))};return S.version===1?S.baseMediaDecodeTime=$M(v.subarray(4)):S.baseMediaDecodeTime=FM(v[4]<<24|v[5]<<16|v[6]<<8|v[7]),S},lg=UM,VM=function(v){var S=new DataView(v.buffer,v.byteOffset,v.byteLength),C={version:v[0],flags:new Uint8Array(v.subarray(1,4)),trackId:S.getUint32(4)},E=C.flags[2]&1,P=C.flags[2]&2,M=C.flags[2]&8,J=C.flags[2]&16,ee=C.flags[2]&32,re=C.flags[0]&65536,ue=C.flags[0]&131072,ge;return ge=8,E&&(ge+=4,C.baseDataOffset=S.getUint32(12),ge+=4),P&&(C.sampleDescriptionIndex=S.getUint32(ge),ge+=4),M&&(C.defaultSampleDuration=S.getUint32(ge),ge+=4),J&&(C.defaultSampleSize=S.getUint32(ge),ge+=4),ee&&(C.defaultSampleFlags=S.getUint32(ge)),re&&(C.durationIsEmpty=!0),!E&&ue&&(C.baseDataOffsetIsMoof=!0),C},$T=VM,jM=function(v){return{isLeading:(v[0]&12)>>>2,dependsOn:v[0]&3,isDependedOn:(v[1]&192)>>>6,hasRedundancy:(v[1]&48)>>>4,paddingValue:(v[1]&14)>>>1,isNonSyncSample:v[1]&1,degradationPriority:v[2]<<8|v[3]}},HM=jM,UT=HM,zM=function(v){var S={version:v[0],flags:new Uint8Array(v.subarray(1,4)),samples:[]},C=new DataView(v.buffer,v.byteOffset,v.byteLength),E=S.flags[2]&1,P=S.flags[2]&4,M=S.flags[1]&1,J=S.flags[1]&2,ee=S.flags[1]&4,re=S.flags[1]&8,ue=C.getUint32(4),ge=8,Oe;for(E&&(S.dataOffset=C.getInt32(ge),ge+=4),P&&ue&&(Oe={flags:UT(v.subarray(ge,ge+4))},ge+=4,M&&(Oe.duration=C.getUint32(ge),ge+=4),J&&(Oe.size=C.getUint32(ge),ge+=4),re&&(S.version===1?Oe.compositionTimeOffset=C.getInt32(ge):Oe.compositionTimeOffset=C.getUint32(ge),ge+=4),S.samples.push(Oe),ue--);ue--;)Oe={},M&&(Oe.duration=C.getUint32(ge),ge+=4),J&&(Oe.size=C.getUint32(ge),ge+=4),ee&&(Oe.flags=UT(v.subarray(ge,ge+4)),ge+=4),re&&(S.version===1?Oe.compositionTimeOffset=C.getInt32(ge):Oe.compositionTimeOffset=C.getUint32(ge),ge+=4),S.samples.push(Oe);return S},VT=zM,jT={tfdt:lg,trun:VT},HT={parseTfdt:jT.tfdt,parseTrun:jT.trun},qM=function(v){for(var S=0,C=String.fromCharCode(v[S]),E="";C!=="\0";)E+=C,S++,C=String.fromCharCode(v[S]);return E+=C,E},WM={uint8ToCString:qM},_f=WM.uint8ToCString,GM=s.getUint64,YM=function(v){var S=4,C=v[0],E,P,M,J,ee,re,ue,ge;if(C===0){E=_f(v.subarray(S)),S+=E.length,P=_f(v.subarray(S)),S+=P.length;var Oe=new DataView(v.buffer);M=Oe.getUint32(S),S+=4,ee=Oe.getUint32(S),S+=4,re=Oe.getUint32(S),S+=4,ue=Oe.getUint32(S),S+=4}else if(C===1){var Oe=new DataView(v.buffer);M=Oe.getUint32(S),S+=4,J=GM(v.subarray(S)),S+=8,re=Oe.getUint32(S),S+=4,ue=Oe.getUint32(S),S+=4,E=_f(v.subarray(S)),S+=E.length,P=_f(v.subarray(S)),S+=P.length}ge=new Uint8Array(v.subarray(S,v.byteLength));var ze={scheme_id_uri:E,value:P,timescale:M||1,presentation_time:J,presentation_time_delta:ee,event_duration:re,id:ue,message_data:ge};return XM(C,ze)?ze:void 0},KM=function(v,S,C,E){return v||v===0?v/S:E+C/S},XM=function(v,S){var C=S.scheme_id_uri!=="\0",E=v===0&&zT(S.presentation_time_delta)&&C,P=v===1&&zT(S.presentation_time)&&C;return!(v>1)&&E||P},zT=function(v){return v!==void 0||v!==null},QM={parseEmsgBox:YM,scaleTime:KM},Ju;typeof window<"u"?Ju=window:typeof e<"u"?Ju=e:typeof self<"u"?Ju=self:Ju={};var qT=Ju,bf=yf.toUnsigned,Zu=yf.toHexString,wn=og,ol=BT,ug=QM,JM=$T,ZM=VT,eN=lg,tN=s.getUint64,WT,GT,YT,KT,XT,cg,QT,dg=qT,nN=TT.parseId3Frames;WT=function(v){var S={},C=wn(v,["moov","trak"]);return C.reduce(function(E,P){var M,J,ee,re,ue;return M=wn(P,["tkhd"])[0],!M||(J=M[0],ee=J===0?12:20,re=bf(M[ee]<<24|M[ee+1]<<16|M[ee+2]<<8|M[ee+3]),ue=wn(P,["mdia","mdhd"])[0],!ue)?null:(J=ue[0],ee=J===0?12:20,E[re]=bf(ue[ee]<<24|ue[ee+1]<<16|ue[ee+2]<<8|ue[ee+3]),E)},S)},GT=function(v,S){var C;C=wn(S,["moof","traf"]);var E=C.reduce(function(P,M){var J=wn(M,["tfhd"])[0],ee=bf(J[4]<<24|J[5]<<16|J[6]<<8|J[7]),re=v[ee]||9e4,ue=wn(M,["tfdt"])[0],ge=new DataView(ue.buffer,ue.byteOffset,ue.byteLength),Oe;ue[0]===1?Oe=tN(ue.subarray(4,12)):Oe=ge.getUint32(4);let ze;return typeof Oe=="bigint"?ze=Oe/dg.BigInt(re):typeof Oe=="number"&&!isNaN(Oe)&&(ze=Oe/re),ze<Number.MAX_SAFE_INTEGER&&(ze=Number(ze)),ze<P&&(P=ze),P},1/0);return typeof E=="bigint"||isFinite(E)?E:0},YT=function(v,S){var C=wn(S,["moof","traf"]),E=0,P=0,M;if(C&&C.length){var J=wn(C[0],["tfhd"])[0],ee=wn(C[0],["trun"])[0],re=wn(C[0],["tfdt"])[0];if(J){var ue=JM(J);M=ue.trackId}if(re){var ge=eN(re);E=ge.baseMediaDecodeTime}if(ee){var Oe=ZM(ee);Oe.samples&&Oe.samples.length&&(P=Oe.samples[0].compositionTimeOffset||0)}}var ze=v[M]||9e4;typeof E=="bigint"&&(P=dg.BigInt(P),ze=dg.BigInt(ze));var Re=(E+P)/ze;return typeof Re=="bigint"&&Re<Number.MAX_SAFE_INTEGER&&(Re=Number(Re)),Re},KT=function(v){var S=wn(v,["moov","trak"]),C=[];return S.forEach(function(E){var P=wn(E,["mdia","hdlr"]),M=wn(E,["tkhd"]);P.forEach(function(J,ee){var re=ol(J.subarray(8,12)),ue=M[ee],ge,Oe,ze;re==="vide"&&(ge=new DataView(ue.buffer,ue.byteOffset,ue.byteLength),Oe=ge.getUint8(0),ze=Oe===0?ge.getUint32(12):ge.getUint32(20),C.push(ze))})}),C},cg=function(v){var S=v[0],C=S===0?12:20;return bf(v[C]<<24|v[C+1]<<16|v[C+2]<<8|v[C+3])},XT=function(v){var S=wn(v,["moov","trak"]),C=[];return S.forEach(function(E){var P={},M=wn(E,["tkhd"])[0],J,ee;M&&(J=new DataView(M.buffer,M.byteOffset,M.byteLength),ee=J.getUint8(0),P.id=ee===0?J.getUint32(12):J.getUint32(20));var re=wn(E,["mdia","hdlr"])[0];if(re){var ue=ol(re.subarray(8,12));ue==="vide"?P.type="video":ue==="soun"?P.type="audio":P.type=ue}var ge=wn(E,["mdia","minf","stbl","stsd"])[0];if(ge){var Oe=ge.subarray(8);P.codec=ol(Oe.subarray(4,8));var ze=wn(Oe,[P.codec])[0],Re,it;ze&&(/^[asm]vc[1-9]$/i.test(P.codec)?(Re=ze.subarray(78),it=ol(Re.subarray(4,8)),it==="avcC"&&Re.length>11?(P.codec+=".",P.codec+=Zu(Re[9]),P.codec+=Zu(Re[10]),P.codec+=Zu(Re[11])):P.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(P.codec)?(Re=ze.subarray(28),it=ol(Re.subarray(4,8)),it==="esds"&&Re.length>20&&Re[19]!==0?(P.codec+="."+Zu(Re[19]),P.codec+="."+Zu(Re[20]>>>2&63).replace(/^0/,"")):P.codec="mp4a.40.2"):P.codec=P.codec.toLowerCase())}var bt=wn(E,["mdia","mdhd"])[0];bt&&(P.timescale=cg(bt)),C.push(P)}),C},QT=function(v,S=0){var C=wn(v,["emsg"]);return C.map(E=>{var P=ug.parseEmsgBox(new Uint8Array(E)),M=nN(P.message_data);return{cueTime:ug.scaleTime(P.presentation_time,P.timescale,P.presentation_time_delta,S),duration:ug.scaleTime(P.event_duration,P.timescale),frames:M}})};var ec={findBox:wn,parseType:ol,timescale:WT,startTime:GT,compositionStartTime:YT,videoTrackIds:KT,tracks:XT,getTimescaleFromMediaHeader:cg,getEmsgID3:QT};const{parseTrun:iN}=HT,{findBox:JT}=ec;var ZT=qT,rN=function(v){var S=JT(v,["moof","traf"]),C=JT(v,["mdat"]),E=[];return C.forEach(function(P,M){var J=S[M];E.push({mdat:P,traf:J})}),E},sN=function(v,S,C){var E=S,P=C.defaultSampleDuration||0,M=C.defaultSampleSize||0,J=C.trackId,ee=[];return v.forEach(function(re){var ue=iN(re),ge=ue.samples;ge.forEach(function(Oe){Oe.duration===void 0&&(Oe.duration=P),Oe.size===void 0&&(Oe.size=M),Oe.trackId=J,Oe.dts=E,Oe.compositionTimeOffset===void 0&&(Oe.compositionTimeOffset=0),typeof E=="bigint"?(Oe.pts=E+ZT.BigInt(Oe.compositionTimeOffset),E+=ZT.BigInt(Oe.duration)):(Oe.pts=E+Oe.compositionTimeOffset,E+=Oe.duration)}),ee=ee.concat(ge)}),ee},eA={getMdatTrafPairs:rN,parseSamples:sN},aN=Xi.discardEmulationPreventionBytes,oN=vT.CaptionStream,fg=og,lN=lg,uN=$T,{getMdatTrafPairs:cN,parseSamples:dN}=eA,fN=function(v,S){for(var C=v,E=0;E<S.length;E++){var P=S[E];if(C<P.size)return P;C-=P.size}return null},hN=function(v,S,C){var E=new DataView(v.buffer,v.byteOffset,v.byteLength),P={logs:[],seiNals:[]},M,J,ee,re;for(J=0;J+4<v.length;J+=ee)if(ee=E.getUint32(J),J+=4,!(ee<=0))switch(v[J]&31){case 6:var ue=v.subarray(J+1,J+1+ee),ge=fN(J,S);if(M={nalUnitType:"sei_rbsp",size:ee,data:ue,escapedRBSP:aN(ue),trackId:C},ge)M.pts=ge.pts,M.dts=ge.dts,re=ge;else if(re)M.pts=re.pts,M.dts=re.dts;else{P.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+J+" for trackId "+C+". See mux.js#223."});break}P.seiNals.push(M);break}return P},pN=function(v,S){var C={},E=cN(v);return E.forEach(function(P){var M=P.mdat,J=P.traf,ee=fg(J,["tfhd"]),re=uN(ee[0]),ue=re.trackId,ge=fg(J,["tfdt"]),Oe=ge.length>0?lN(ge[0]).baseMediaDecodeTime:0,ze=fg(J,["trun"]),Re,it;S===ue&&ze.length>0&&(Re=dN(ze,Oe,re),it=hN(M,Re,ue),C[ue]||(C[ue]={seiNals:[],logs:[]}),C[ue].seiNals=C[ue].seiNals.concat(it.seiNals),C[ue].logs=C[ue].logs.concat(it.logs))}),C},mN=function(v,S,C){var E;if(S===null)return null;E=pN(v,S);var P=E[S]||{};return{seiNals:P.seiNals,logs:P.logs,timescale:C}},gN=function(){var v=!1,S,C,E,P,M,J;this.isInitialized=function(){return v},this.init=function(ee){S=new oN,v=!0,J=ee?ee.isPartial:!1,S.on("data",function(re){re.startTime=re.startPts/P,re.endTime=re.endPts/P,M.captions.push(re),M.captionStreams[re.stream]=!0}),S.on("log",function(re){M.logs.push(re)})},this.isNewInit=function(ee,re){return ee&&ee.length===0||re&&typeof re=="object"&&Object.keys(re).length===0?!1:E!==ee[0]||P!==re[E]},this.parse=function(ee,re,ue){var ge;if(this.isInitialized()){if(!re||!ue)return null;if(this.isNewInit(re,ue))E=re[0],P=ue[E];else if(E===null||!P)return C.push(ee),null}else return null;for(;C.length>0;){var Oe=C.shift();this.parse(Oe,re,ue)}return ge=mN(ee,E,P),ge&&ge.logs&&(M.logs=M.logs.concat(ge.logs)),ge===null||!ge.seiNals?M.logs.length?{logs:M.logs,captions:[],captionStreams:[]}:null:(this.pushNals(ge.seiNals),this.flushStream(),M)},this.pushNals=function(ee){if(!this.isInitialized()||!ee||ee.length===0)return null;ee.forEach(function(re){S.push(re)})},this.flushStream=function(){if(!this.isInitialized())return null;J?S.partialFlush():S.flush()},this.clearParsedCaptions=function(){M.captions=[],M.captionStreams={},M.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;S.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){C=[],E=null,P=null,M?this.clearParsedCaptions():M={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},vN=gN;const{parseTfdt:yN}=HT,Da=og,{getTimescaleFromMediaHeader:_N}=ec,{parseSamples:bN,getMdatTrafPairs:TN}=eA;var tA=function(){let v=9e4;this.init=function(S){const C=Da(S,["moov","trak","mdia","mdhd"])[0];C&&(v=_N(C))},this.parseSegment=function(S){const C=[],E=TN(S);let P=0;return E.forEach(function(M){const J=M.mdat,ee=M.traf,re=Da(ee,["tfdt"])[0],ue=Da(ee,["tfhd"])[0],ge=Da(ee,["trun"]);if(re&&(P=yN(re).baseMediaDecodeTime),ge.length&&ue){const Oe=bN(ge,P,ue);let ze=0;Oe.forEach(function(Re){const it="utf-8",bt=new TextDecoder(it),Hn=J.slice(ze,ze+Re.size);if(Da(Hn,["vtte"])[0]){ze+=Re.size;return}Da(Hn,["vttc"]).forEach(function(tc){const nc=Da(tc,["payl"])[0],ic=Da(tc,["sttg"])[0],rc=Re.pts/v,Sf=(Re.pts+Re.duration)/v;let an,sc;if(nc)try{an=bt.decode(nc)}catch(Cr){console.error(Cr)}if(ic)try{sc=bt.decode(ic)}catch(Cr){console.error(Cr)}Re.duration&&an&&C.push({cueText:an,start:rc,end:Sf,settings:sc})}),ze+=Re.size})}}),C}},hg=nf,nA=function(v){var S=v[1]&31;return S<<=8,S|=v[2],S},Tf=function(v){return!!(v[1]&64)},Af=function(v){var S=0;return(v[3]&48)>>>4>1&&(S+=v[4]+1),S},AN=function(v,S){var C=nA(v);return C===0?"pat":C===S?"pmt":S?"pes":null},SN=function(v){var S=Tf(v),C=4+Af(v);return S&&(C+=v[C]+1),(v[C+10]&31)<<8|v[C+11]},xN=function(v){var S={},C=Tf(v),E=4+Af(v);if(C&&(E+=v[E]+1),!!(v[E+5]&1)){var P,M,J;P=(v[E+1]&15)<<8|v[E+2],M=3+P-4,J=(v[E+10]&15)<<8|v[E+11];for(var ee=12+J;ee<M;){var re=E+ee;S[(v[re+1]&31)<<8|v[re+2]]=v[re],ee+=((v[re+3]&15)<<8|v[re+4])+5}return S}},EN=function(v,S){var C=nA(v),E=S[C];switch(E){case hg.H264_STREAM_TYPE:return"video";case hg.ADTS_STREAM_TYPE:return"audio";case hg.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},CN=function(v){var S=Tf(v);if(!S)return null;var C=4+Af(v);if(C>=v.byteLength)return null;var E=null,P;return P=v[C+7],P&192&&(E={},E.pts=(v[C+9]&14)<<27|(v[C+10]&255)<<20|(v[C+11]&254)<<12|(v[C+12]&255)<<5|(v[C+13]&254)>>>3,E.pts*=4,E.pts+=(v[C+13]&6)>>>1,E.dts=E.pts,P&64&&(E.dts=(v[C+14]&14)<<27|(v[C+15]&255)<<20|(v[C+16]&254)<<12|(v[C+17]&255)<<5|(v[C+18]&254)>>>3,E.dts*=4,E.dts+=(v[C+18]&6)>>>1)),E},pg=function(v){switch(v){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},wN=function(v){for(var S=4+Af(v),C=v.subarray(S),E=0,P=0,M=!1,J;P<C.byteLength-3;P++)if(C[P+2]===1){E=P+5;break}for(;E<C.byteLength;)switch(C[E]){case 0:if(C[E-1]!==0){E+=2;break}else if(C[E-2]!==0){E++;break}P+3!==E-2&&(J=pg(C[P+3]&31),J==="slice_layer_without_partitioning_rbsp_idr"&&(M=!0));do E++;while(C[E]!==1&&E<C.length);P=E-2,E+=3;break;case 1:if(C[E-1]!==0||C[E-2]!==0){E+=3;break}J=pg(C[P+3]&31),J==="slice_layer_without_partitioning_rbsp_idr"&&(M=!0),P=E-2,E+=3;break;default:E+=3;break}return C=C.subarray(P),E-=P,P=0,C&&C.byteLength>3&&(J=pg(C[P+3]&31),J==="slice_layer_without_partitioning_rbsp_idr"&&(M=!0)),M},DN={parseType:AN,parsePat:SN,parsePmt:xN,parsePayloadUnitStartIndicator:Tf,parsePesType:EN,parsePesTime:CN,videoPacketContainsKeyFrame:wN},iA=nf,ll=_T.handleRollover,jt={};jt.ts=DN,jt.aac=ag;var mo=yt.ONE_SECOND_IN_TS,_i=188,rs=71,kN=function(v,S){for(var C=0,E=_i,P,M;E<v.byteLength;){if(v[C]===rs&&v[E]===rs){switch(P=v.subarray(C,E),M=jt.ts.parseType(P,S.pid),M){case"pat":S.pid=jt.ts.parsePat(P);break;case"pmt":var J=jt.ts.parsePmt(P);S.table=S.table||{},Object.keys(J).forEach(function(ee){S.table[ee]=J[ee]});break}C+=_i,E+=_i;continue}C++,E++}},rA=function(v,S,C){for(var E=0,P=_i,M,J,ee,re,ue,ge=!1;P<=v.byteLength;){if(v[E]===rs&&(v[P]===rs||P===v.byteLength)){switch(M=v.subarray(E,P),J=jt.ts.parseType(M,S.pid),J){case"pes":ee=jt.ts.parsePesType(M,S.table),re=jt.ts.parsePayloadUnitStartIndicator(M),ee==="audio"&&re&&(ue=jt.ts.parsePesTime(M),ue&&(ue.type="audio",C.audio.push(ue),ge=!0));break}if(ge)break;E+=_i,P+=_i;continue}E++,P++}for(P=v.byteLength,E=P-_i,ge=!1;E>=0;){if(v[E]===rs&&(v[P]===rs||P===v.byteLength)){switch(M=v.subarray(E,P),J=jt.ts.parseType(M,S.pid),J){case"pes":ee=jt.ts.parsePesType(M,S.table),re=jt.ts.parsePayloadUnitStartIndicator(M),ee==="audio"&&re&&(ue=jt.ts.parsePesTime(M),ue&&(ue.type="audio",C.audio.push(ue),ge=!0));break}if(ge)break;E-=_i,P-=_i;continue}E--,P--}},ON=function(v,S,C){for(var E=0,P=_i,M,J,ee,re,ue,ge,Oe,ze,Re=!1,it={data:[],size:0};P<v.byteLength;){if(v[E]===rs&&v[P]===rs){switch(M=v.subarray(E,P),J=jt.ts.parseType(M,S.pid),J){case"pes":if(ee=jt.ts.parsePesType(M,S.table),re=jt.ts.parsePayloadUnitStartIndicator(M),ee==="video"&&(re&&!Re&&(ue=jt.ts.parsePesTime(M),ue&&(ue.type="video",C.video.push(ue),Re=!0)),!C.firstKeyFrame)){if(re&&it.size!==0){for(ge=new Uint8Array(it.size),Oe=0;it.data.length;)ze=it.data.shift(),ge.set(ze,Oe),Oe+=ze.byteLength;if(jt.ts.videoPacketContainsKeyFrame(ge)){var bt=jt.ts.parsePesTime(ge);bt?(C.firstKeyFrame=bt,C.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}it.size=0}it.data.push(M),it.size+=M.byteLength}break}if(Re&&C.firstKeyFrame)break;E+=_i,P+=_i;continue}E++,P++}for(P=v.byteLength,E=P-_i,Re=!1;E>=0;){if(v[E]===rs&&v[P]===rs){switch(M=v.subarray(E,P),J=jt.ts.parseType(M,S.pid),J){case"pes":ee=jt.ts.parsePesType(M,S.table),re=jt.ts.parsePayloadUnitStartIndicator(M),ee==="video"&&re&&(ue=jt.ts.parsePesTime(M),ue&&(ue.type="video",C.video.push(ue),Re=!0));break}if(Re)break;E-=_i,P-=_i;continue}E--,P--}},IN=function(v,S){if(v.audio&&v.audio.length){var C=S;(typeof C>"u"||isNaN(C))&&(C=v.audio[0].dts),v.audio.forEach(function(M){M.dts=ll(M.dts,C),M.pts=ll(M.pts,C),M.dtsTime=M.dts/mo,M.ptsTime=M.pts/mo})}if(v.video&&v.video.length){var E=S;if((typeof E>"u"||isNaN(E))&&(E=v.video[0].dts),v.video.forEach(function(M){M.dts=ll(M.dts,E),M.pts=ll(M.pts,E),M.dtsTime=M.dts/mo,M.ptsTime=M.pts/mo}),v.firstKeyFrame){var P=v.firstKeyFrame;P.dts=ll(P.dts,E),P.pts=ll(P.pts,E),P.dtsTime=P.dts/mo,P.ptsTime=P.pts/mo}}},PN=function(v){for(var S=!1,C=0,E=null,P=null,M=0,J=0,ee;v.length-J>=3;){var re=jt.aac.parseType(v,J);switch(re){case"timed-metadata":if(v.length-J<10){S=!0;break}if(M=jt.aac.parseId3TagSize(v,J),M>v.length){S=!0;break}P===null&&(ee=v.subarray(J,J+M),P=jt.aac.parseAacTimestamp(ee)),J+=M;break;case"audio":if(v.length-J<7){S=!0;break}if(M=jt.aac.parseAdtsSize(v,J),M>v.length){S=!0;break}E===null&&(ee=v.subarray(J,J+M),E=jt.aac.parseSampleRate(ee)),C++,J+=M;break;default:J++;break}if(S)return null}if(E===null||P===null)return null;var ue=mo/E,ge={audio:[{type:"audio",dts:P,pts:P},{type:"audio",dts:P+C*1024*ue,pts:P+C*1024*ue}]};return ge},RN=function(v){var S={pid:null,table:null},C={};kN(v,S);for(var E in S.table)if(S.table.hasOwnProperty(E)){var P=S.table[E];switch(P){case iA.H264_STREAM_TYPE:C.video=[],ON(v,S,C),C.video.length===0&&delete C.video;break;case iA.ADTS_STREAM_TYPE:C.audio=[],rA(v,S,C),C.audio.length===0&&delete C.audio;break}}return C},LN=function(v,S){var C=jt.aac.isLikelyAacData(v),E;return C?E=PN(v):E=RN(v),!E||!E.audio&&!E.video?null:(IN(E,S),E)},MN={inspect:LN,parseAudioPes_:rA};const NN=function(v,S){S.on("data",function(C){const E=C.initSegment;C.initSegment={data:E.buffer,byteOffset:E.byteOffset,byteLength:E.byteLength};const P=C.data;C.data=P.buffer,v.postMessage({action:"data",segment:C,byteOffset:P.byteOffset,byteLength:P.byteLength},[C.data])}),S.on("done",function(C){v.postMessage({action:"done"})}),S.on("gopInfo",function(C){v.postMessage({action:"gopInfo",gopInfo:C})}),S.on("videoSegmentTimingInfo",function(C){const E={start:{decode:yt.videoTsToSeconds(C.start.dts),presentation:yt.videoTsToSeconds(C.start.pts)},end:{decode:yt.videoTsToSeconds(C.end.dts),presentation:yt.videoTsToSeconds(C.end.pts)},baseMediaDecodeTime:yt.videoTsToSeconds(C.baseMediaDecodeTime)};C.prependedContentDuration&&(E.prependedContentDuration=yt.videoTsToSeconds(C.prependedContentDuration)),v.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:E})}),S.on("audioSegmentTimingInfo",function(C){const E={start:{decode:yt.videoTsToSeconds(C.start.dts),presentation:yt.videoTsToSeconds(C.start.pts)},end:{decode:yt.videoTsToSeconds(C.end.dts),presentation:yt.videoTsToSeconds(C.end.pts)},baseMediaDecodeTime:yt.videoTsToSeconds(C.baseMediaDecodeTime)};C.prependedContentDuration&&(E.prependedContentDuration=yt.videoTsToSeconds(C.prependedContentDuration)),v.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:E})}),S.on("id3Frame",function(C){v.postMessage({action:"id3Frame",id3Frame:C})}),S.on("caption",function(C){v.postMessage({action:"caption",caption:C})}),S.on("trackinfo",function(C){v.postMessage({action:"trackinfo",trackInfo:C})}),S.on("audioTimingInfo",function(C){v.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:yt.videoTsToSeconds(C.start),end:yt.videoTsToSeconds(C.end)}})}),S.on("videoTimingInfo",function(C){v.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:yt.videoTsToSeconds(C.start),end:yt.videoTsToSeconds(C.end)}})}),S.on("log",function(C){v.postMessage({action:"log",log:C})})};class sA{constructor(S,C){this.options=C||{},this.self=S,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new PM.Transmuxer(this.options),NN(this.self,this.transmuxer)}pushMp4Captions(S){this.captionParser||(this.captionParser=new vN,this.captionParser.init());const C=new Uint8Array(S.data,S.byteOffset,S.byteLength),E=this.captionParser.parse(C,S.trackIds,S.timescales);this.self.postMessage({action:"mp4Captions",captions:E&&E.captions||[],logs:E&&E.logs||[],data:C.buffer},[C.buffer])}initMp4WebVttParser(S){this.webVttParser||(this.webVttParser=new tA);const C=new Uint8Array(S.data,S.byteOffset,S.byteLength);this.webVttParser.init(C)}getMp4WebVttText(S){this.webVttParser||(this.webVttParser=new tA);const C=new Uint8Array(S.data,S.byteOffset,S.byteLength),E=this.webVttParser.parseSegment(C);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:E||[],data:C.buffer},[C.buffer])}probeMp4StartTime({timescales:S,data:C}){const E=ec.startTime(S,C);this.self.postMessage({action:"probeMp4StartTime",startTime:E,data:C},[C.buffer])}probeMp4Tracks({data:S}){const C=ec.tracks(S);this.self.postMessage({action:"probeMp4Tracks",tracks:C,data:S},[S.buffer])}probeEmsgID3({data:S,offset:C}){const E=ec.getEmsgID3(S,C);this.self.postMessage({action:"probeEmsgID3",id3Frames:E,emsgData:S},[S.buffer])}probeTs({data:S,baseStartTime:C}){const E=typeof C=="number"&&!isNaN(C)?C*yt.ONE_SECOND_IN_TS:void 0,P=MN.inspect(S,E);let M=null;P&&(M={hasVideo:P.video&&P.video.length===2||!1,hasAudio:P.audio&&P.audio.length===2||!1},M.hasVideo&&(M.videoStart=P.video[0].ptsTime),M.hasAudio&&(M.audioStart=P.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:M,data:S},[S.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(S){const C=new Uint8Array(S.data,S.byteOffset,S.byteLength);this.transmuxer.push(C)}reset(){this.transmuxer.reset()}setTimestampOffset(S){const C=S.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(yt.secondsToVideoTs(C)))}setAudioAppendStart(S){this.transmuxer.setAudioAppendStart(Math.ceil(yt.secondsToVideoTs(S.appendStart)))}setRemux(S){this.transmuxer.setRemux(S.remux)}flush(S){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(S){this.transmuxer.alignGopsWith(S.gopsToAlignWith.slice())}}self.onmessage=function(v){if(v.data.action==="init"&&v.data.options){this.messageHandlers=new sA(self,v.data.options);return}this.messageHandlers||(this.messageHandlers=new sA(self)),v.data&&v.data.action&&v.data.action!=="init"&&this.messageHandlers[v.data.action]&&this.messageHandlers[v.data.action](v.data)}}));var hle=fL(fle);const ple=(e,t,n)=>{const{type:i,initSegment:r,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:u}=e.data.segment;t.buffer.push({captions:s,captionStreams:a,metadata:o});const c=e.data.segment.boxes||{data:e.data.segment.data},d={type:i,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};typeof l<"u"&&(d.videoFrameDtsTime=l),typeof u<"u"&&(d.videoFramePtsTime=u),n(d)},mle=({transmuxedData:e,callback:t})=>{e.buffer=[],t(e)},gle=(e,t)=>{t.gopInfo=e.data.gopInfo},mL=e=>{const{transmuxer:t,bytes:n,audioAppendStart:i,gopsToAlignWith:r,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:d,onId3:f,onCaptions:h,onDone:m,onEndedTimeline:p,onTransmuxerLog:g,isEndOfTimeline:_,segment:y,triggerSegmentEventFn:b}=e,A={buffer:[]};let T=_;const k=I=>{t.currentTransmux===e&&(I.data.action==="data"&&ple(I,A,a),I.data.action==="trackinfo"&&o(I.data.trackInfo),I.data.action==="gopInfo"&&gle(I,A),I.data.action==="audioTimingInfo"&&l(I.data.audioTimingInfo),I.data.action==="videoTimingInfo"&&u(I.data.videoTimingInfo),I.data.action==="videoSegmentTimingInfo"&&c(I.data.videoSegmentTimingInfo),I.data.action==="audioSegmentTimingInfo"&&d(I.data.audioSegmentTimingInfo),I.data.action==="id3Frame"&&f([I.data.id3Frame],I.data.id3Frame.dispatchType),I.data.action==="caption"&&h(I.data.caption),I.data.action==="endedtimeline"&&(T=!1,p()),I.data.action==="log"&&g(I.data.log),I.data.type==="transmuxed"&&(T||(t.onmessage=null,mle({transmuxedData:A,callback:m}),gL(t))))},O=()=>{const I={message:"Received an error message from the transmuxer worker",metadata:{errorType:Te.Error.StreamingFailedToTransmuxSegment,segmentInfo:Do({segment:y})}};m(null,I)};if(t.onmessage=k,t.onerror=O,i&&t.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),typeof s<"u"&&t.postMessage({action:"setRemux",remux:s}),n.byteLength){const I=n instanceof ArrayBuffer?n:n.buffer,w=n instanceof ArrayBuffer?0:n.byteOffset;b({type:"segmenttransmuxingstart",segment:y}),t.postMessage({action:"push",data:I,byteOffset:w,byteLength:n.byteLength},[I])}_&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},gL=e=>{e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():mL(e.currentTransmux))},UC=(e,t)=>{e.postMessage({action:t}),gL(e)},vL=(e,t)=>{if(!t.currentTransmux){t.currentTransmux=e,UC(t,e);return}t.transmuxQueue.push(UC.bind(null,t,e))},vle=e=>{vL("reset",e)},yle=e=>{vL("endTimeline",e)},yL=e=>{if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,mL(e);return}e.transmuxer.transmuxQueue.push(e)},_le=e=>{const t=new hle;t.currentTransmux=null,t.transmuxQueue=[];const n=t.terminate;return t.terminate=()=>(t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)),t.postMessage({action:"init",options:e}),t};var Gv={reset:vle,endTimeline:yle,transmux:yL,createTransmuxer:_le};const Ql=function(e){const t=e.transmuxer,n=e.endAction||e.action,i=e.callback,r=kn({},e,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===n&&(t.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,e.byteOffset||0,e.byteLength||a.data.data.byteLength),e.data&&(e.data=a.data.data)),i(a.data))};if(t.addEventListener("message",s),e.data){const a=e.data instanceof ArrayBuffer;r.byteOffset=a?0:e.data.byteOffset,r.byteLength=e.data.byteLength;const o=[a?e.data:e.data.buffer];t.postMessage(r,o)}else t.postMessage(r)},bs={FAILURE:2,TIMEOUT:-101,ABORTED:-102},_L="wvtt",Fy=e=>{e.forEach(t=>{t.abort()})},ble=e=>({bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}),Tle=e=>{const t=e.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},hT=(e,t)=>{const{requestType:n}=t,i=Go({requestType:n,request:t,error:e});return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:bs.TIMEOUT,xhr:t,metadata:i}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:bs.ABORTED,xhr:t,metadata:i}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:bs.FAILURE,xhr:t,metadata:i}:t.responseType==="arraybuffer"&&t.response.byteLength===0?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:bs.FAILURE,xhr:t,metadata:i}:null},VC=(e,t,n,i)=>(r,s)=>{const a=s.response,o=hT(r,s);if(o)return n(o,e);if(a.byteLength!==16)return n({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:bs.FAILURE,xhr:s},e);const l=new DataView(a),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let d=0;d<t.length;d++)t[d].bytes=u;const c={uri:s.uri};return i({type:"segmentkeyloadcomplete",segment:e,keyInfo:c}),n(null,e)},Ale=(e,t)=>{t===_L&&e.transmuxer.postMessage({action:"initMp4WebVttParser",data:e.map.bytes})},Sle=(e,t,n)=>{t===_L&&Ql({action:"getMp4WebVttText",data:e.bytes,transmuxer:e.transmuxer,callback:({data:i,mp4VttCues:r})=>{e.bytes=i,n(null,e,{mp4VttCues:r})}})},bL=(e,t)=>{const n=Nb(e.map.bytes);if(n!=="mp4"){const i=e.map.resolvedUri||e.map.uri,r=n||"unknown";return t({internal:!0,message:"Found unsupported ".concat(r," container for initialization segment at URL: ").concat(i),code:bs.FAILURE,metadata:{mediaType:r}})}Ql({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:({tracks:i,data:r})=>(e.map.bytes=r,i.forEach(function(s){e.map.tracks=e.map.tracks||{},!e.map.tracks[s.type]&&(e.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[s.id]=s.timescale),s.type==="text"&&Ale(e,s.codec))}),t(null))})},xle=({segment:e,finishProcessingFn:t,triggerSegmentEventFn:n})=>(i,r)=>{const s=hT(i,r);if(s)return t(s,e);const a=new Uint8Array(r.response);if(n({type:"segmentloaded",segment:e}),e.map.key)return e.map.encryptedBytes=a,t(null,e);e.map.bytes=a,bL(e,function(o){if(o)return o.xhr=r,o.status=r.status,t(o,e);t(null,e)})},Ele=({segment:e,finishProcessingFn:t,responseType:n,triggerSegmentEventFn:i})=>(r,s)=>{const a=hT(r,s);if(a)return t(a,e);i({type:"segmentloaded",segment:e});const o=n==="arraybuffer"||!s.responseText?s.response:cle(s.responseText.substring(e.lastReachedChar||0));return e.stats=ble(s),e.key?e.encryptedBytes=new Uint8Array(o):e.bytes=new Uint8Array(o),t(null,e)},Cle=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})=>{const m=e.map&&e.map.tracks||{},p=!!(m.audio&&m.video);let g=i.bind(null,e,"audio","start");const _=i.bind(null,e,"audio","end");let y=i.bind(null,e,"video","start");const b=i.bind(null,e,"video","end"),A=()=>yL({bytes:t,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:p,onData:T=>{T.type=T.type==="combined"?"video":T.type,c(e,T)},onTrackInfo:T=>{n&&(p&&(T.isMuxed=!0),n(e,T))},onAudioTimingInfo:T=>{g&&typeof T.start<"u"&&(g(T.start),g=null),_&&typeof T.end<"u"&&_(T.end)},onVideoTimingInfo:T=>{y&&typeof T.start<"u"&&(y(T.start),y=null),b&&typeof T.end<"u"&&b(T.end)},onVideoSegmentTimingInfo:T=>{const k={pts:{start:T.start.presentation,end:T.end.presentation},dts:{start:T.start.decode,end:T.end.decode}};h({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:k}),r(T)},onAudioSegmentTimingInfo:T=>{const k={pts:{start:T.start.pts,end:T.end.pts},dts:{start:T.start.dts,end:T.end.dts}};h({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:k}),s(T)},onId3:(T,k)=>{a(e,T,k)},onCaptions:T=>{o(e,[T])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:f,onDone:(T,k)=>{d&&(T.type=T.type==="combined"?"video":T.type,h({type:"segmenttransmuxingcomplete",segment:e}),d(k,e,T))},segment:e,triggerSegmentEventFn:h});Ql({action:"probeTs",transmuxer:e.transmuxer,data:t,baseStartTime:e.baseStartTime,callback:T=>{e.bytes=t=T.data;const k=T.result;k&&(n(e,{hasAudio:k.hasAudio,hasVideo:k.hasVideo,isMuxed:p}),n=null),A()}})},TL=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})=>{let m=new Uint8Array(t);if(Gse(m)){e.isFmp4=!0;const{tracks:p}=e.map;if(p.text&&(!p.audio||!p.video)){c(e,{data:m,type:"text"}),Sle(e,p.text.codec,d);return}const _={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&p.audio.codec!=="enca"&&(_.audioCodec=p.audio.codec),p.video&&p.video.codec&&p.video.codec!=="encv"&&(_.videoCodec=p.video.codec),p.video&&p.audio&&(_.isMuxed=!0),n(e,_);const y=(b,A)=>{c(e,{data:m,type:_.hasAudio&&!_.isMuxed?"audio":"video"}),A&&A.length&&a(e,A),b&&b.length&&o(e,b),d(null,e,{})};Ql({action:"probeMp4StartTime",timescales:e.map.timescales,data:m,transmuxer:e.transmuxer,callback:({data:b,startTime:A})=>{t=b.buffer,e.bytes=m=b,_.hasAudio&&!_.isMuxed&&i(e,"audio","start",A),_.hasVideo&&i(e,"video","start",A),Ql({action:"probeEmsgID3",data:m,transmuxer:e.transmuxer,offset:A,callback:({emsgData:T,id3Frames:k})=>{if(t=T.buffer,e.bytes=m=T,!p.video||!T.byteLength||!e.transmuxer){y(void 0,k);return}Ql({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:m,timescales:e.map.timescales,trackIds:[p.video.id],callback:O=>{t=O.data.buffer,e.bytes=m=O.data,O.logs.forEach(function(I){f(Ut(I,{stream:"mp4CaptionParser"}))}),y(O.captions,k)}})}})}});return}if(!e.transmuxer){d(null,e,{});return}if(typeof e.container>"u"&&(e.container=Nb(m)),e.container!=="ts"&&e.container!=="aac"){n(e,{hasAudio:!1,hasVideo:!1}),d(null,e,{});return}Cle({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})},AL=function({id:e,key:t,encryptedBytes:n,decryptionWorker:i,segment:r,doneFn:s},a){const o=u=>{if(u.data.source===e){i.removeEventListener("message",o);const c=u.data.decrypted;a(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};i.onerror=()=>{const u="An error occurred in the decryption worker",c=Do({segment:r}),d={message:u,metadata:{error:new Error(u),errorType:Te.Error.StreamingFailedToDecryptSegment,segmentInfo:c,keyInfo:{uri:r.key.resolvedUri||r.map.key.resolvedUri}}};s(d,r)},i.addEventListener("message",o);let l;t.bytes.slice?l=t.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(t.bytes)),i.postMessage(aL({source:e,encrypted:n,key:l,iv:t.iv}),[n.buffer,l.buffer])},wle=({decryptionWorker:e,segment:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})=>{h({type:"segmentdecryptionstart"}),AL({id:t.requestId,key:t.key,encryptedBytes:t.encryptedBytes,decryptionWorker:e,segment:t,doneFn:d},m=>{t.bytes=m,h({type:"segmentdecryptioncomplete",segment:t}),TL({segment:t,bytes:t.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})})},Dle=({activeXhrs:e,decryptionWorker:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})=>{let m=0,p=!1;return(g,_)=>{if(!p){if(g)return p=!0,Fy(e),d(g,_);if(m+=1,m===e.length){const y=function(){if(_.encryptedBytes)return wle({decryptionWorker:t,segment:_,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h});TL({segment:_,bytes:_.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})};if(_.endOfAllRequests=Date.now(),_.map&&_.map.encryptedBytes&&!_.map.bytes)return h({type:"segmentdecryptionstart",segment:_}),AL({decryptionWorker:t,id:_.requestId+"-init",encryptedBytes:_.map.encryptedBytes,key:_.map.key,segment:_,doneFn:d},b=>{_.map.bytes=b,h({type:"segmentdecryptioncomplete",segment:_}),bL(_,A=>{if(A)return Fy(e),d(A,_);y()})});y()}}}},kle=({loadendState:e,abortFn:t})=>n=>{n.target.aborted&&t&&!e.calledAbortFn&&(t(),e.calledAbortFn=!0)},Ole=({segment:e,progressFn:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>d=>{if(!d.target.aborted)return e.stats=Ut(e.stats,Tle(d)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(d,e)},Ile=({xhr:e,xhrOptions:t,decryptionWorker:n,segment:i,abortFn:r,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:h,dataFn:m,doneFn:p,onTransmuxerLog:g,triggerSegmentEventFn:_})=>{const y=[],b=Dle({activeXhrs:y,decryptionWorker:n,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:h,dataFn:m,doneFn:p,onTransmuxerLog:g,triggerSegmentEventFn:_});if(i.key&&!i.key.bytes){const I=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&I.push(i.map.key);const w=Ut(t,{uri:i.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),D=VC(i,I,b,_),R={uri:i.key.resolvedUri};_({type:"segmentkeyloadstart",segment:i,keyInfo:R});const L=e(w,D);y.push(L)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const L=Ut(t,{uri:i.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),B=VC(i,[i.map.key],b,_),N={uri:i.map.key.resolvedUri};_({type:"segmentkeyloadstart",segment:i,keyInfo:N});const $=e(L,B);y.push($)}const w=Ut(t,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:Ny(i.map),requestType:"segment-media-initialization"}),D=xle({segment:i,finishProcessingFn:b,triggerSegmentEventFn:_});_({type:"segmentloadstart",segment:i});const R=e(w,D);y.push(R)}const A=Ut(t,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:Ny(i),requestType:"segment"}),T=Ele({segment:i,finishProcessingFn:b,responseType:A.responseType,triggerSegmentEventFn:_});_({type:"segmentloadstart",segment:i});const k=e(A,T);k.addEventListener("progress",Ole({segment:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:h,dataFn:m})),y.push(k);const O={};return y.forEach(I=>{I.addEventListener("loadend",kle({loadendState:O,abortFn:r}))}),()=>Fy(y)},dh=br("PlaylistSelector"),jC=function(e){if(!e||!e.playlist)return;const t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})},Jl=function(e,t){if(!e)return"";const n=oe.getComputedStyle(e);return n?n[t]:""},Zl=function(e,t){const n=e.slice();e.sort(function(i,r){const s=t(i,r);return s===0?n.indexOf(i)-n.indexOf(r):s})},pT=function(e,t){let n,i;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||oe.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||oe.Number.MAX_VALUE,n-i},Ple=function(e,t){let n,i;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||oe.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||oe.Number.MAX_VALUE,n===i&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i};let SL=function(e){const{main:t,bandwidth:n,playerWidth:i,playerHeight:r,playerObjectFit:s,limitRenditionByPlayerDimensions:a,playlistController:o}=e;if(!t)return;const l={bandwidth:n,width:i,height:r,limitRenditionByPlayerDimensions:a};let u=t.playlists;Mi.isAudioOnly(t)&&(u=o.getAudioTrackPlaylists_(),l.audioOnly=!0);let c=u.map(O=>{let I;const w=O.attributes&&O.attributes.RESOLUTION&&O.attributes.RESOLUTION.width,D=O.attributes&&O.attributes.RESOLUTION&&O.attributes.RESOLUTION.height;return I=O.attributes&&O.attributes.BANDWIDTH,I=I||oe.Number.MAX_VALUE,{bandwidth:I,width:w,height:D,playlist:O}});Zl(c,(O,I)=>O.bandwidth-I.bandwidth),c=c.filter(O=>!Mi.isIncompatible(O.playlist));let d=c.filter(O=>Mi.isEnabled(O.playlist));d.length||(d=c.filter(O=>!Mi.isDisabled(O.playlist)));const f=d.filter(O=>O.bandwidth*zn.BANDWIDTH_VARIANCE<n);let h=f[f.length-1];const m=f.filter(O=>O.bandwidth===h.bandwidth)[0];if(a===!1){const O=m||d[0]||c[0];if(O&&O.playlist){let I="sortedPlaylistReps";return m&&(I="bandwidthBestRep"),d[0]&&(I="enabledPlaylistReps"),dh("choosing ".concat(jC(O)," using ").concat(I," with options"),l),O.playlist}return dh("could not choose a playlist with options",l),null}const p=f.filter(O=>O.width&&O.height);Zl(p,(O,I)=>O.width-I.width);const g=p.filter(O=>O.width===i&&O.height===r);h=g[g.length-1];const _=g.filter(O=>O.bandwidth===h.bandwidth)[0];let y,b,A;_||(y=p.filter(O=>s==="cover"?O.width>i&&O.height>r:O.width>i||O.height>r),b=y.filter(O=>O.width===y[0].width&&O.height===y[0].height),h=b[b.length-1],A=b.filter(O=>O.bandwidth===h.bandwidth)[0]);let T;if(o.leastPixelDiffSelector){const O=p.map(I=>(I.pixelDiff=Math.abs(I.width-i)+Math.abs(I.height-r),I));Zl(O,(I,w)=>I.pixelDiff===w.pixelDiff?w.bandwidth-I.bandwidth:I.pixelDiff-w.pixelDiff),T=O[0]}const k=T||A||_||m||d[0]||c[0];if(k&&k.playlist){let O="sortedPlaylistReps";return T?O="leastPixelDiffRep":A?O="resolutionPlusOneRep":_?O="resolutionBestRep":m?O="bandwidthBestRep":d[0]&&(O="enabledPlaylistReps"),dh("choosing ".concat(jC(k)," using ").concat(O," with options"),l),k.playlist}return dh("could not choose a playlist with options",l),null};const HC=function(){let e=this.useDevicePixelRatio&&oe.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(e=this.customPixelRatio),SL({main:this.playlists.main,bandwidth:this.systemBandwidth,playerWidth:parseInt(Jl(this.tech_.el(),"width"),10)*e,playerHeight:parseInt(Jl(this.tech_.el(),"height"),10)*e,playerObjectFit:this.usePlayerObjectFit?Jl(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})},Rle=function(e){let t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let i=this.useDevicePixelRatio&&oe.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),SL({main:this.playlists.main,bandwidth:t,playerWidth:parseInt(Jl(this.tech_.el(),"width"),10)*i,playerHeight:parseInt(Jl(this.tech_.el(),"height"),10)*i,playerObjectFit:this.usePlayerObjectFit?Jl(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})}},Lle=function(e){const{main:t,currentTime:n,bandwidth:i,duration:r,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=e,u=t.playlists.filter(m=>!Mi.isIncompatible(m));let c=u.filter(Mi.isEnabled);c.length||(c=u.filter(m=>!Mi.isDisabled(m)));const f=c.filter(Mi.hasAttribute.bind(null,"BANDWIDTH")).map(m=>{const g=l.getSyncPoint(m,r,o,n)?1:2,y=Mi.estimateSegmentRequestTime(s,i,m)*g-a;return{playlist:m,rebufferingImpact:y}}),h=f.filter(m=>m.rebufferingImpact<=0);return Zl(h,(m,p)=>pT(p.playlist,m.playlist)),h.length?h[0]:(Zl(f,(m,p)=>m.rebufferingImpact-p.rebufferingImpact),f[0]||null)},Mle=function(){const e=this.playlists.main.playlists.filter(Mi.isEnabled);return Zl(e,(n,i)=>pT(n,i)),e.filter(n=>!!Zc(this.playlists.main,n).video)[0]||null},Nle=e=>{let t=0,n;return e.bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(i=>{n.set(i,t),t+=i.byteLength})),n};function xL(e){try{return new URL(e).pathname.split("/").slice(-2).join("/")}catch(t){return""}}const Ble=function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"});let i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);const r=t.textTracks().getTrackById(i);if(r)e[n]=r;else{const s=t.options_.vhs&&t.options_.vhs.captionServices||{};let a=n,o=n,l=!1;const u=s[i];u&&(a=u.label,o=u.language,l=u.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:i,default:l,label:a,language:o},!1).track}}},Fle=function({inbandTextTracks:e,captionArray:t,timestampOffset:n}){if(!t)return;const i=oe.WebKitDataCue||oe.VTTCue;t.forEach(r=>{const s=r.stream;r.content?r.content.forEach(a=>{const o=new i(r.startTime+n,r.endTime+n,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",e[s].addCue(o)}):e[s].addCue(new i(r.startTime+n,r.endTime+n,r.text))})},$le=function(e){Object.defineProperties(e.frame,{id:{get(){return Te.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get(){return Te.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get(){return Te.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},Ule=({inbandTextTracks:e,metadataArray:t,timestampOffset:n,videoDuration:i})=>{if(!t)return;const r=oe.WebKitDataCue||oe.VTTCue,s=e.metadataTrack_;if(!s||(t.forEach(c=>{const d=c.cueTime+n;typeof d!="number"||oe.isNaN(d)||d<0||!(d<1/0)||!c.frames||!c.frames.length||c.frames.forEach(f=>{const h=new r(d,d,f.value||f.url||f.data||"");h.frame=f,h.value=f,$le(h),s.addCue(h)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let c=0;c<a.length;c++)a[c]&&o.push(a[c]);const l=o.reduce((c,d)=>{const f=c[d.startTime]||[];return f.push(d),c[d.startTime]=f,c},{}),u=Object.keys(l).sort((c,d)=>Number(c)-Number(d));u.forEach((c,d)=>{const f=l[c],h=isFinite(i)?i:c,m=Number(u[d+1])||h;f.forEach(p=>{p.endTime=m})})},Vle={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},jle=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),Hle=({inbandTextTracks:e,dateRanges:t})=>{const n=e.metadataTrack_;if(!n)return;const i=oe.WebKitDataCue||oe.VTTCue;t.forEach(r=>{for(const s of Object.keys(r)){if(jle.has(s))continue;const a=new i(r.startTime,r.endTime,"");a.id=r.id,a.type="com.apple.quicktime.HLS",a.value={key:Vle[s],data:r[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(a)}r.processDateRange()})},zC=(e,t,n)=>{e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Te.browser.IS_ANY_SAFARI||(e.metadataTrack_.inBandMetadataTrackDispatchType=t))},Rc=function(e,t,n){let i,r;if(n&&n.cues)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime>=e&&r.endTime<=t&&n.removeCue(r)},zle=function(e){const t=e.cues;if(!t)return;const n={};for(let i=t.length-1;i>=0;i--){const r=t[i],s="".concat(r.startTime,"-").concat(r.endTime,"-").concat(r.text);n[s]?e.removeCue(r):n[s]=r}},qle=(e,t,n)=>{if(typeof t>"u"||t===null||!e.length)return[];const i=Math.ceil((t-n+3)*Po.ONE_SECOND_IN_TS);let r;for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)},Wle=(e,t,n)=>{if(!t.length)return e;if(n)return t.slice();const i=t[0].pts;let r=0;for(r;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)},Gle=(e,t,n,i)=>{const r=Math.ceil((t-i)*Po.ONE_SECOND_IN_TS),s=Math.ceil((n-i)*Po.ONE_SECOND_IN_TS),a=e.slice();let o=e.length;for(;o--&&!(e[o].pts<=s););if(o===-1)return a;let l=o+1;for(;l--&&!(e[l].pts<=r););return l=Math.max(l,0),a.splice(l,o-l+1),a},Yle=function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;const n=Object.keys(e).sort(),i=Object.keys(t).sort();if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(s!==i[r]||e[s]!==t[s])return!1}return!0},Kle=function(e,t,n){t=t||[];const i=[];let r=0;for(let s=0;s<t.length;s++){const a=t[s];if(e===a.timeline&&(i.push(s),r+=a.duration,r>n))return s}return i.length===0?0:i[i.length-1]},wc=1,Xle=500,qC=e=>typeof e=="number"&&isFinite(e),fh=1/60,Qle=(e,t,n)=>e!=="main"||!t||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,Jle=(e,t,n)=>{let i=t-zn.BACK_BUFFER_LENGTH;e.length&&(i=Math.max(i,e.start(0)));const r=t-n;return Math.min(r,i)},El=e=>{const{startOfSegment:t,duration:n,segment:i,part:r,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:u,timeline:c}=e,d=o.length-1;let f="mediaIndex/partIndex increment";e.getMediaInfoForTime?f="getMediaInfoForTime (".concat(e.getMediaInfoForTime,")"):e.isSyncRequest&&(f="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(f+=" with independent ".concat(e.independent));const h=typeof u=="number",m=e.segment.uri?"segment":"pre-segment",p=h?jR({preloadSegment:i})-1:0;return"".concat(m," [").concat(s+l,"/").concat(s+d,"]")+(h?" part [".concat(u,"/").concat(p,"]"):"")+" segment start/end [".concat(i.start," => ").concat(i.end,"]")+(h?" part start/end [".concat(r.start," => ").concat(r.end,"]"):"")+" startOfSegment [".concat(t,"]")+" duration [".concat(n,"]")+" timeline [".concat(c,"]")+" selected by [".concat(f,"]")+" playlist [".concat(a,"]")},WC=e=>"".concat(e,"TimingInfo"),Zle=({segmentTimeline:e,currentTimeline:t,startOfSegment:n,buffered:i,overrideCheck:r})=>!r&&e===t?null:e<t?n:i.length?i.end(i.length-1):n,$y=({timelineChangeController:e,currentTimeline:t,segmentTimeline:n,loaderType:i,audioDisabled:r})=>{if(t===n)return!1;if(i==="audio"){const s=e.lastTimelineChange({type:"main"});return!s||s.to!==n}if(i==="main"&&r){const s=e.pendingTimelineChange({type:"audio"});return!(s&&s.to===n)}return!1},eue=e=>{if(!e)return!1;const t=e.pendingTimelineChange({type:"audio"}),n=e.pendingTimelineChange({type:"main"}),i=t&&n,r=i&&t.to!==n.to;return!!(i&&t.from!==-1&&n.from!==-1&&r)},tue=e=>{const t=e.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=e.timelineChangeController_.pendingTimelineChange({type:"main"});return t&&n&&t.to<n.to},$a=e=>{const t=e.pendingSegment_;if(!t)return;if($y({timelineChangeController:e.timelineChangeController_,currentTimeline:e.currentTimeline_,segmentTimeline:t.timeline,loaderType:e.loaderType_,audioDisabled:e.audioDisabled_})&&eue(e.timelineChangeController_)){if(tue(e)){e.timelineChangeController_.trigger("audioTimelineBehind");return}e.timelineChangeController_.trigger("fixBadTimelineChange")}},nue=e=>{let t=0;return["video","audio"].forEach(function(n){const i=e["".concat(n,"TimingInfo")];if(!i)return;const{start:r,end:s}=i;let a;typeof r=="bigint"||typeof s=="bigint"?a=oe.BigInt(s)-oe.BigInt(r):typeof r=="number"&&typeof s=="number"&&(a=s-r),typeof a<"u"&&a>t&&(t=a)}),typeof t=="bigint"&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t},GC=({segmentDuration:e,maxDuration:t})=>e?Math.round(e)>t+ys:!1,iue=(e,t)=>{if(t!=="hls")return null;const n=nue({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;const i=e.playlist.targetDuration,r=GC({segmentDuration:n,maxDuration:i*2}),s=GC({segmentDuration:n,maxDuration:i}),a="Segment with index ".concat(e.mediaIndex," ")+"from playlist ".concat(e.playlist.id," ")+"has a duration of ".concat(n," ")+"when the reported duration is ".concat(e.duration," ")+"and the target duration is ".concat(i,". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return r||s?{severity:r?"warn":"info",message:a}:null},Do=({type:e,segment:t})=>{if(!t)return;const n=!!(t.key||t.map&&t.map.ke),i=!!(t.map&&!t.map.bytes),r=t.startOfSegment===void 0?t.start:t.startOfSegment;return{type:e||t.type,uri:t.resolvedUri||t.uri,start:r,duration:t.duration,isEncrypted:n,isMediaInitialization:i}};class Uy extends Te.EventTarget{constructor(t,n={}){if(super(),!t)throw new TypeError("Initialization settings are required");if(typeof t.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=t.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=t.hasPlayed,this.currentTime_=t.currentTime,this.seekable_=t.seekable,this.seeking_=t.seeking,this.duration_=t.duration,this.mediaSource_=t.mediaSource,this.vhs_=t.vhs,this.loaderType_=t.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=t.segmentMetadataTrack,this.goalBufferLength_=t.goalBufferLength,this.sourceType_=t.sourceType,this.sourceUpdater_=t.sourceUpdater,this.inbandTextTracks_=t.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=t.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=t.parse708captions,this.useDtsForTimestampOffset_=t.useDtsForTimestampOffset,this.captionServices_=t.captionServices,this.exactManifestTimings=t.exactManifestTimings,this.addMetadataToTextTrack=t.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=t.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=t.decrypter,this.syncController_=t.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=br("SegmentLoader[".concat(this.loaderType_,"]")),Object.defineProperty(this,"state",{get(){return this.state_},set(i){i!==this.state_&&(this.logger_("".concat(this.state_," -> ").concat(i)),this.state_=i,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():$a(this)}),this.sourceUpdater_.on("codecschange",i=>{this.trigger(kn({type:"codecschange"},i))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():$a(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",i=>{this.trigger(kn({type:"timelinechange"},i)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():$a(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():$a(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return Gv.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&oe.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,oe.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(t){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==t}error(t){return typeof t<"u"&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&Gv.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return Kn();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:i,isMuxed:r}=t;if(i&&n&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(t,n=!1){if(!t)return null;const i=Pp(t);let r=this.initSegments_[i];return n&&!r&&t.bytes&&(this.initSegments_[i]=r={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),r||t}segmentKey(t,n=!1){if(!t)return null;const i=oL(t);let r=this.keyCache_[i];this.cacheEncryptionKeys_&&n&&!r&&t.bytes&&(this.keyCache_[i]=r={resolvedUri:t.resolvedUri,bytes:t.bytes});const s={resolvedUri:(r||t).resolvedUri};return r&&(s.bytes=r.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(t,n={}){if(!t||this.playlist_&&this.playlist_.endList&&t.endList&&this.playlist_.uri===t.uri)return;const i=this.playlist_,r=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=n,this.state==="INIT"&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(t));let s=null;if(i&&(i.id?s=i.id:i.uri&&(s=i.uri)),this.logger_("playlist update [".concat(s," => ").concat(t.id||t.uri,"]")),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(t,this.currentTime_()),this.logger_("Playlist update:\ncurrentTime: ".concat(this.currentTime_(),"\nbufferedEnd: ").concat(qv(this.buffered_()),"\n"),this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==t.uri){this.mediaIndex!==null&&(!t.endList&&typeof t.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=t.mediaSequence-i.mediaSequence;if(this.logger_("live window shift [".concat(a,"]")),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_("currently processing part (index ".concat(this.partIndex,") no longer exists.")),this.resetLoader(),this.mediaIndex=l}}r&&(r.mediaIndex-=a,r.mediaIndex<0?(r.mediaIndex=null,r.partIndex=null):(r.mediaIndex>=0&&(r.segment=t.segments[r.mediaIndex]),r.partIndex>=0&&r.segment.parts&&(r.part=r.segment.parts[r.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,t)}pause(){this.checkBufferTimeout_&&(oe.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(t){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&Gv.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const t=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!t&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(t,n,i=()=>{},r=!1){if(n===1/0&&(n=this.duration_()),n<=t){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&i()};(r||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(t,n,a)),(r||this.loaderType_==="main")&&(this.gopBuffer_=Gle(this.gopBuffer_,t,n,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(t,n,a));for(const o in this.inbandTextTracks_)Rc(t,n,this.inbandTextTracks_[o]);Rc(t,n,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&oe.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=oe.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&oe.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=oe.setTimeout(this.monitorBufferTick_.bind(this),Xle)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const t=this.chooseNextRequest_();if(!t)return;const n={segmentInfo:Do({type:this.loaderType_,segment:t})};this.trigger({type:"segmentselected",metadata:n}),typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t)}isEndOfStream_(t=this.mediaIndex,n=this.playlist_,i=this.partIndex){if(!n||!this.mediaSource_)return!1;const r=typeof t=="number"&&n.segments[t],s=t+1===n.segments.length,a=!r||!r.parts||i+1===r.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const t=this.buffered_(),n=qv(t)||0,i=uT(t,this.currentTime_()),r=!this.hasPlayed_()&&i>=1,s=i>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||r||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=Kle(this.currentTimeline_,a,n),this.logger_("choose next request. Can not find sync point. Fallback to media Index: ".concat(o.mediaIndex));else if(this.mediaIndex!==null){const f=a[this.mediaIndex],h=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=f.end?f.end:n,f.parts&&f.parts[h+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=h+1):o.mediaIndex=this.mediaIndex+1}else{let f,h,m;const p=this.fetchAtBuffer_?n:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_("chooseNextRequest_ request after Quality Switch:\nFor TargetTime: ".concat(p,".\nCurrentTime: ").concat(this.currentTime_(),"\nBufferedEnd: ").concat(n,"\nFetch At Buffer: ").concat(this.fetchAtBuffer_,"\n"),this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const g=this.getSyncInfoFromMediaSequenceSync_(p);if(!g){const _="No sync info found while using media sequence sync";return this.error({message:_,metadata:{errorType:Te.Error.StreamingFailedToSelectNextSegment,error:new Error(_)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_("chooseNextRequest_ mediaSequence syncInfo (".concat(g.start," --> ").concat(g.end,")")),f=g.segmentIndex,h=g.partIndex,m=g.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const g=Mi.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:p,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});f=g.segmentIndex,h=g.partIndex,m=g.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd ".concat(p):"currentTime ".concat(p),o.mediaIndex=f,o.startOfSegment=m,o.partIndex=h,this.logger_("choose next request. Playlist switched and we have a sync point. Media Index: ".concat(o.mediaIndex," "))}const l=a[o.mediaIndex];let u=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!u)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&u&&!c&&!u.independent)if(o.partIndex===0){const f=a[o.mediaIndex-1],h=f.parts&&f.parts.length&&f.parts[f.parts.length-1];h&&h.independent&&(o.mediaIndex-=1,o.partIndex=f.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const d=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&d&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(t){if(!this.mediaSequenceSync_)return null;const n=Math.max(t,this.mediaSequenceSync_.start);t!==n&&this.logger_("getSyncInfoFromMediaSequenceSync_. Pulled target time from ".concat(t," to ").concat(n));const i=this.mediaSequenceSync_.getSyncInfoForTime(n);if(!i)return null;if(!i.isAppended)return i;const r=this.mediaSequenceSync_.getSyncInfoForTime(i.end);return r?(r.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),r):null}generateSegmentInfo_(t){const{independent:n,playlist:i,mediaIndex:r,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:u}=t,c=i.segments[r],d=typeof o=="number"&&c.parts[o],f={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||c.resolvedUri,mediaIndex:r,partIndex:d?o:null,isSyncRequest:a,startOfSegment:s,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:d&&d.duration||c.duration,segment:c,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:n},h=typeof l<"u"?l:this.isPendingTimestampOffset_;f.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:h});const m=qv(this.sourceUpdater_.audioBuffered());return typeof m=="number"&&(f.audioAppendStart=m-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(f.gopsToAlignWith=qle(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),f}timestampOffsetForSegment_(t){return Zle(t)}earlyAbortWhenNeeded_(t){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),i=t.bandwidth,r=this.pendingSegment_.duration,s=Mi.estimateSegmentRequestTime(r,i,this.playlist_,t.bytesReceived),a=Toe(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=Lle({main:this.vhs_.playlists.main,currentTime:n,bandwidth:i,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const u=s-a-o.rebufferingImpact;let c=.5;a<=ys&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*zn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(t){this.logger_("Aborting ".concat(El(t))),this.mediaRequestsAborted+=1}handleProgress_(t,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(t,n){const{hasAudio:i,hasVideo:r}=n,s={segmentInfo:Do({type:this.loaderType_,segment:t}),trackInfo:{hasAudio:i,hasVideo:r}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},Yle(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(t.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()?this.processCallQueue_():$a(this))))}handleTimingInfo_(t,n,i,r){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;const s=this.pendingSegment_,a=WC(n);s[a]=s[a]||{},s[a][i]=r,this.logger_("timinginfo: ".concat(n," - ").concat(i," - ").concat(r)),this.hasEnoughInfoToAppend_()?this.processCallQueue_():$a(this)}handleCaptions_(t,n){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,n));return}const r=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};n.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=s[a.stream];o.startTime=Math.min(o.startTime,a.startTime+r),o.endTime=Math.max(o.endTime,a.endTime+r),o.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:o,endTime:l,captions:u}=s[a],c=this.inbandTextTracks_;this.logger_("adding cues from ".concat(o," -> ").concat(l," for ").concat(a)),Ble(c,this.vhs_.tech_,a),Rc(o,l,c[a]),Fle({captionArray:u,inbandTextTracks:c,timestampOffset:r})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(t,n,i){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,n,i));return}this.addMetadataToTextTrack(i,n,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(t=>t()),this.metadataQueue_.caption.forEach(t=>t()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const t=this.callQueue_;this.callQueue_=[],t.forEach(n=>n())}processLoadQueue_(){const t=this.loadQueue_;this.loadQueue_=[],t.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const t=this.pendingSegment_;return t?this.getCurrentMediaInfo_()?!$y({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(t=this.pendingSegment_){return t&&t.trackInfo||this.currentMediaInfo_}getMediaInfo_(t=this.pendingSegment_){return this.getCurrentMediaInfo_(t)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const t=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!t||!n)return!1;const{hasAudio:i,hasVideo:r,isMuxed:s}=n;return!(r&&!t.videoTimingInfo||i&&!this.audioDisabled_&&!s&&!t.audioTimingInfo||$y({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(t,n){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){$a(this),this.callQueue_.push(this.handleData_.bind(this,t,n));return}const i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),this.mediaSource_.readyState!=="closed"){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),i.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),i.isFmp4=t.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[WC(n.type)].start;else{const r=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&r&&r.hasVideo;let a;s&&(a=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,n.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=this.chooseNextRequest_();if(r.mediaIndex!==i.mediaIndex||r.partIndex!==i.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,n)}}updateAppendInitSegmentStatus(t,n){this.loaderType_==="main"&&typeof t.timestampOffset=="number"&&!t.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==t.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:t,initSegment:n,map:i,playlist:r}){if(i){const s=Pp(i);if(this.activeInitSegmentId_===s)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=s}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=r,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:t,type:n,bytes:i},r){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Ro(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Ro(a).join(", "));const o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0;if(l-o<=wc&&c-u<=wc){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+"Appended byte length: ".concat(i.byteLength,", ")+"audio buffer: ".concat(Ro(s).join(", "),", ")+"video buffer: ".concat(Ro(a).join(", "),", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:t,type:n,bytes:i}));const f=this.currentTime_()-wc;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ".concat(f)),this.remove(0,f,()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in ".concat(wc,"s")),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=oe.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},wc*1e3)},!0)}handleAppendError_({segmentInfo:t,type:n,bytes:i},r){if(r){if(r.code===ZR){this.handleQuotaExceededError_({segmentInfo:t,type:n,bytes:i});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",r),this.error({message:"".concat(n," append of ").concat(i.length,"b failed for segment ")+"#".concat(t.mediaIndex," in playlist ").concat(t.playlist.id),metadata:{errorType:Te.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:t,type:n,initSegment:i,data:r,bytes:s}){if(!s){const o=[r];let l=r.byteLength;i&&(o.unshift(i),l+=i.byteLength),s=Nle({bytes:l,segments:o})}const a={segmentInfo:Do({type:this.loaderType_,segment:t})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:t,type:n,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:t,type:n,bytes:s}))}handleSegmentTimingInfo_(t,n,i){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const r=this.pendingSegment_.segment,s="".concat(t,"TimingInfo");r[s]||(r[s]={}),r[s].transmuxerPrependedSeconds=i.prependedContentDuration||0,r[s].transmuxedPresentationStart=i.start.presentation,r[s].transmuxedDecodeStart=i.start.decode,r[s].transmuxedPresentationEnd=i.end.presentation,r[s].transmuxedDecodeEnd=i.end.decode,r[s].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(t,n){const{type:i,data:r}=n;if(!r||!r.byteLength||i==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:i,initSegment:n.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:i,initSegment:s,data:r})}loadSegment_(t){if(this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),typeof t.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){$a(this),this.loadQueue_.push(()=>{const n=kn({},t,{forceTimestampOffset:!0});kn(t,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(t)});return}this.updateTransmuxerAndRequestSegment_(t)}updateTransmuxerAndRequestSegment_(t){this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));const n=this.createSimplifiedSegmentObj_(t),i=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex),r=this.mediaIndex!==null,s=t.timeline!==this.currentTimeline_&&t.timeline>0,a=i||r&&s;this.logger_("Requesting\n".concat(xL(t.uri),"\n").concat(El(t))),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=Ile({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:u})=>{this.logger_("".concat(El(t)," logged from transmuxer stream ").concat(u," as a ").concat(l,": ").concat(o))},triggerSegmentEventFn:({type:o,segment:l,keyInfo:u,trackInfo:c,timingInfo:d})=>{const h={segmentInfo:Do({segment:l})};u&&(h.keyInfo=u),c&&(h.trackInfo=c),d&&(h.timingInfo=d),this.trigger({type:o,metadata:h})}})}trimBackBuffer_(t){const n=Jle(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(t){const n=t.segment,i=t.part,r=t.segment.key||t.segment.map&&t.segment.map.key,s=t.segment.map&&!t.segment.map.bytes,a={resolvedUri:i?i.resolvedUri:n.resolvedUri,byterange:i?i.byterange:n.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part,type:this.loaderType_,start:t.startOfSegment,duration:t.duration,isEncrypted:r,isMediaInitialization:s},o=t.playlist.segments[t.mediaIndex-1];if(o&&o.timeline===n.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),n.key){const l=n.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);a.key=this.segmentKey(n.key),a.key.iv=l}return n.map&&(a.map=this.initSegmentForMap(n.map)),a}saveTransferStats_(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)}saveBandwidthRelatedStats_(t,n){if(this.pendingSegment_.byteLength=n.bytesReceived,t<fh){this.logger_("Ignoring segment's bandwidth because its duration of ".concat(t)+" is less than the min to record ".concat(fh));return}const i={bandwidthInfo:{from:this.bandwidth,to:n.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:i}),this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(t,n,i){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,n,i));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(t){if(this.pendingSegment_=null,this.state="READY",t.code===bs.ABORTED)return;if(this.pause(),t.code===bs.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(t),this.trigger("error");return}const r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,n.stats),r.endOfAllRequests=n.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=Wle(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}setTimeMapping_(t){const n=this.syncController_.mappingForTimeline(t);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(t){typeof t.start=="number"&&typeof t.end=="number"?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration}shouldUpdateTransmuxerTimestampOffset_(t){return t===null?!1:this.loaderType_==="main"&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:t,playlist:n,mediaIndex:i,firstVideoFrameTimeForData:r,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof t<"u")return t;if(!a)return l.start;const u=n.segments[i-1];return i===0||!u||typeof u.start>"u"||u.end!==r+s?r:o.start}waitForAppendsToComplete_(t){const n=this.getCurrentMediaInfo_(t);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:i,hasVideo:r,isMuxed:s}=n,a=this.loaderType_==="main"&&r,o=!this.audioDisabled_&&i&&!s;if(t.waitingOnAppends=0,!t.hasAppendedData_){!t.timingInfo&&typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),this.checkAppendsDone_(t);return}a&&t.waitingOnAppends++,o&&t.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))}checkAppendsDone_(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,t.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(t){const n=Qle(this.loaderType_,this.getCurrentMediaInfo_(),t);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(t){if(t.timestampOffset===null||typeof t.timingInfo.start!="number"||t.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;t.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t.segment.videoTimingInfo,audioTimingInfo:t.segment.audioTimingInfo,timingInfo:t.timingInfo}),t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),n=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t,audioTimingInfo:n,timingInfo:i}){return this.useDtsForTimestampOffset_?t&&typeof t.transmuxedDecodeStart=="number"?t.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(t){t.timingInfo=t.timingInfo||{};const n=this.getMediaInfo_(),r=this.loaderType_==="main"&&n&&n.hasVideo&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;r&&(t.timingInfo.end=typeof r.end=="number"?r.end:r.start+t.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:Do({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const t=this.pendingSegment_;t.part&&t.part.syncInfo?t.part.syncInfo.markAppended():t.segment.syncInfo&&t.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=iue(t,this.sourceType_);if(n&&(n.severity==="warn"?Te.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest&&(this.trigger("syncinfoupdate"),!t.hasAppendedData_)){this.logger_("Throwing away un-appended sync request ".concat(El(t)));return}this.logger_("Appended ".concat(El(t))),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");const i=t.segment,r=t.part,s=i.end&&this.currentTime_()-i.end>t.playlist.targetDuration*3,a=r&&r.end&&this.currentTime_()-r.end>t.playlist.partTargetDuration*3;if(s||a){this.logger_("bad ".concat(s?"segment":"part"," ").concat(El(t))),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(t){if(t.duration<fh){this.logger_("Ignoring segment's throughput because its duration of ".concat(t.duration)+" is less than the min to record ".concat(fh));return}const n=this.throughput.rate,i=Date.now()-t.endOfAllRequests+1,r=Math.floor(t.byteLength/i*8*1e3);this.throughput.rate+=(r-n)/++this.throughput.count}addSegmentMetadataCue_(t){if(!this.segmentMetadataTrack_)return;const n=t.segment,i=n.start,r=n.end;if(!qC(i)||!qC(r))return;Rc(i,r,this.segmentMetadataTrack_);const s=oe.WebKitDataCue||oe.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:i,end:r},o=JSON.stringify(a),l=new s(i,r,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}function Js(){}const EL=function(e){return typeof e!="string"?e:e.replace(/./,t=>t.toUpperCase())},rue=["video","audio"],Vy=(e,t)=>{const n=t["".concat(e,"Buffer")];return n&&n.updating||t.queuePending[e]},sue=(e,t)=>{for(let n=0;n<t.length;n++){const i=t[n];if(i.type==="mediaSource")return null;if(i.type===e)return n}return null},eu=(e,t)=>{if(t.queue.length===0)return;let n=0,i=t.queue[n];if(i.type==="mediaSource"){!t.updating()&&t.mediaSource.readyState!=="closed"&&(t.queue.shift(),i.action(t),i.doneFn&&i.doneFn(),eu("audio",t),eu("video",t));return}if(e!=="mediaSource"&&!(!t.ready()||t.mediaSource.readyState==="closed"||Vy(e,t))){if(i.type!==e){if(n=sue(e,t.queue),n===null)return;i=t.queue[n]}if(t.queue.splice(n,1),t.queuePending[e]=i,i.action(e,t),!i.doneFn){t.queuePending[e]=null,eu(e,t);return}}},CL=(e,t)=>{const n=t["".concat(e,"Buffer")],i=EL(e);n&&(n.removeEventListener("updateend",t["on".concat(i,"UpdateEnd_")]),n.removeEventListener("error",t["on".concat(i,"Error_")]),t.codecs[e]=null,t["".concat(e,"Buffer")]=null)},gs=(e,t)=>e&&t&&Array.prototype.indexOf.call(e.sourceBuffers,t)!==-1,ji={appendBuffer:(e,t,n)=>(i,r)=>{const s=r["".concat(i,"Buffer")];if(gs(r.mediaSource,s)){r.logger_("Appending segment ".concat(t.mediaIndex,"'s ").concat(e.length," bytes to ").concat(i,"Buffer"));try{s.appendBuffer(e)}catch(a){r.logger_("Error with code ".concat(a.code," ")+(a.code===ZR?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment ".concat(t.mediaIndex," to ").concat(i,"Buffer")),r.queuePending[i]=null,n(a)}}},remove:(e,t)=>(n,i)=>{const r=i["".concat(n,"Buffer")];if(gs(i.mediaSource,r)){i.logger_("Removing ".concat(e," to ").concat(t," from ").concat(n,"Buffer"));try{r.remove(e,t)}catch(s){i.logger_("Remove ".concat(e," to ").concat(t," from ").concat(n,"Buffer failed"))}}},timestampOffset:e=>(t,n)=>{const i=n["".concat(t,"Buffer")];gs(n.mediaSource,i)&&(n.logger_("Setting ".concat(t,"timestampOffset to ").concat(e)),i.timestampOffset=e)},callback:e=>(t,n)=>{e()},endOfStream:e=>t=>{if(t.mediaSource.readyState==="open"){t.logger_("Calling mediaSource endOfStream(".concat(e||"",")"));try{t.mediaSource.endOfStream(e)}catch(n){Te.log.warn("Failed to call media source endOfStream",n)}}},duration:e=>t=>{t.logger_("Setting mediaSource duration to ".concat(e));try{t.mediaSource.duration=e}catch(n){Te.log.warn("Failed to set media source duration",n)}},abort:()=>(e,t)=>{if(t.mediaSource.readyState!=="open")return;const n=t["".concat(e,"Buffer")];if(gs(t.mediaSource,n)){t.logger_("calling abort on ".concat(e,"Buffer"));try{n.abort()}catch(i){Te.log.warn("Failed to abort on ".concat(e,"Buffer"),i)}}},addSourceBuffer:(e,t)=>n=>{const i=EL(e),r=pu(t);n.logger_("Adding ".concat(e,"Buffer with codec ").concat(t," to mediaSource"));const s=n.mediaSource.addSourceBuffer(r);s.addEventListener("updateend",n["on".concat(i,"UpdateEnd_")]),s.addEventListener("error",n["on".concat(i,"Error_")]),n.codecs[e]=t,n["".concat(e,"Buffer")]=s},removeSourceBuffer:e=>t=>{const n=t["".concat(e,"Buffer")];if(CL(e,t),!!gs(t.mediaSource,n)){t.logger_("Removing ".concat(e,"Buffer with codec ").concat(t.codecs[e]," from mediaSource"));try{t.mediaSource.removeSourceBuffer(n)}catch(i){Te.log.warn("Failed to removeSourceBuffer ".concat(e,"Buffer"),i)}}},changeType:e=>(t,n)=>{const i=n["".concat(t,"Buffer")],r=pu(e);if(!gs(n.mediaSource,i))return;const s=e.substring(0,e.indexOf(".")),a=n.codecs[t];if(a.substring(0,a.indexOf("."))===s)return;const l={codecsChangeInfo:{from:a,to:e}};n.trigger({type:"codecschange",metadata:l}),n.logger_("changing ".concat(t,"Buffer codec from ").concat(a," to ").concat(e));try{i.changeType(r),n.codecs[t]=e}catch(u){l.errorType=Te.Error.StreamingCodecsChangeError,l.error=u,u.metadata=l,n.error_=u,n.trigger("error"),Te.log.warn("Failed to changeType on ".concat(t,"Buffer"),u)}}},Hi=({type:e,sourceUpdater:t,action:n,doneFn:i,name:r})=>{t.queue.push({type:e,action:n,doneFn:i,name:r}),eu(e,t)},YC=(e,t)=>n=>{const i=t["".concat(e,"Buffered")](),r=yoe(i);if(t.logger_('received "updateend" event for '.concat(e," Source Buffer: "),r),t.queuePending[e]){const s=t.queuePending[e].doneFn;t.queuePending[e]=null,s&&s(t["".concat(e,"Error_")])}eu(e,t)};class wL extends Te.EventTarget{constructor(t){super(),this.mediaSource=t,this.sourceopenListener_=()=>eu("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=br("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=YC("video",this),this.onAudioUpdateEnd_=YC("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(t,n){Hi({type:"mediaSource",sourceUpdater:this,action:ji.addSourceBuffer(t,n),name:"addSourceBuffer"})}abort(t){Hi({type:t,sourceUpdater:this,action:ji.abort(t),name:"abort"})}removeSourceBuffer(t){if(!this.canRemoveSourceBuffer()){Te.log.error("removeSourceBuffer is not supported!");return}Hi({type:"mediaSource",sourceUpdater:this,action:ji.removeSourceBuffer(t),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Te.browser.IS_FIREFOX&&oe.MediaSource&&oe.MediaSource.prototype&&typeof oe.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return oe.SourceBuffer&&oe.SourceBuffer.prototype&&typeof oe.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(t,n){if(!this.canChangeType()){Te.log.error("changeType is not supported!");return}Hi({type:t,sourceUpdater:this,action:ji.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(t){if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(n=>{const i=t[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,i);this.canChangeType()&&this.changeType(n,i)})}appendBuffer(t,n){const{segmentInfo:i,type:r,bytes:s}=t;if(this.processedAppend_=!0,r==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([t,n]),this.logger_("delayed audio append of ".concat(s.length," until video append"));return}const a=n;if(Hi({type:r,sourceUpdater:this,action:ji.appendBuffer(s,i||{mediaIndex:-1},a),doneFn:n,name:"appendBuffer"}),r==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio ".concat(o.length," appendBuffers")),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return gs(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Kn()}videoBuffered(){return gs(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Kn()}buffered(){const t=gs(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=gs(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!t?this.audioBuffered():t&&!n?this.videoBuffered():boe(this.audioBuffered(),this.videoBuffered())}setDuration(t,n=Js){Hi({type:"mediaSource",sourceUpdater:this,action:ji.duration(t),name:"duration",doneFn:n})}endOfStream(t=null,n=Js){typeof t!="string"&&(t=void 0),Hi({type:"mediaSource",sourceUpdater:this,action:ji.endOfStream(t),name:"endOfStream",doneFn:n})}removeAudio(t,n,i=Js){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){i();return}Hi({type:"audio",sourceUpdater:this,action:ji.remove(t,n),doneFn:i,name:"remove"})}removeVideo(t,n,i=Js){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){i();return}Hi({type:"video",sourceUpdater:this,action:ji.remove(t,n),doneFn:i,name:"remove"})}updating(){return!!(Vy("audio",this)||Vy("video",this))}audioTimestampOffset(t){return typeof t<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Hi({type:"audio",sourceUpdater:this,action:ji.timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_}videoTimestampOffset(t){return typeof t<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==t&&(Hi({type:"video",sourceUpdater:this,action:ji.timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_}audioQueueCallback(t){this.audioBuffer&&Hi({type:"audio",sourceUpdater:this,action:ji.callback(t),name:"callback"})}videoQueueCallback(t){this.videoBuffer&&Hi({type:"video",sourceUpdater:this,action:ji.callback(t),name:"callback"})}dispose(){this.trigger("dispose"),rue.forEach(t=>{this.abort(t),this.canRemoveSourceBuffer()?this.removeSourceBuffer(t):this["".concat(t,"QueueCallback")](()=>CL(t,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const KC=e=>decodeURIComponent(escape(String.fromCharCode.apply(null,e))),aue=e=>{const t=new Uint8Array(e);return Array.from(t).map(n=>n.toString(16).padStart(2,"0")).join("")},XC=new Uint8Array("\n\n".split("").map(e=>e.charCodeAt(0)));class oue extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class lue extends Uy{constructor(t,n={}){super(t,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=t.featuresNativeTextTracks,this.loadVttJs=t.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Kn();const t=this.subtitlesTrack_.cues,n=t[0].startTime,i=t[t.length-1].startTime;return Kn([[n,i]])}initSegmentForMap(t,n=!1){if(!t)return null;const i=Pp(t);let r=this.initSegments_[i];if(n&&!r&&t.bytes){const s=XC.byteLength+t.bytes.byteLength,a=new Uint8Array(s);a.set(t.bytes),a.set(XC,t.bytes.byteLength),this.initSegments_[i]=r={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:a}}return r||t}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(t){return typeof t>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(t,n){Rc(t,n,this.subtitlesTrack_)}fillBuffer_(){const t=this.chooseNextRequest_();if(t){if(this.syncController_.timestampOffsetForTimeline(t.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(t)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t}stopForError(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(t,n,i){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(t){t.code===bs.TIMEOUT&&this.handleTimeout_(),t.code===bs.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(t);return}const r=this.pendingSegment_,s=i.mp4VttCues&&i.mp4VttCues.length;s&&(r.mp4VttCues=i.mp4VttCues),this.saveBandwidthRelatedStats_(r.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const a=r.segment;if(a.map&&(a.map.bytes=n.map.bytes),r.bytes=n.bytes,typeof oe.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(t,n,i),()=>this.stopForError({message:"Error loading vtt.js"}));return}a.requested=!0;try{this.parseVTTCues_(r)}catch(o){this.stopForError({message:o.message,metadata:{errorType:Te.Error.StreamingVttParserError,error:o}});return}if(s||this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,r.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new oe.VTTCue(o.startTime,o.endTime,o.text):o)}),zle(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(t,n){const i=t&&t.type==="vtt",r=n&&n.type==="text";i&&r&&super.handleData_(t,n)}updateTimingInfoEnd_(){}parseMp4VttCues_(t){const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();t.mp4VttCues.forEach(i=>{const r=i.start+n,s=i.end+n,a=new oe.VTTCue(r,s,i.cueText);i.settings&&i.settings.split(" ").forEach(o=>{const l=o.split(":"),u=l[0],c=l[1];a[u]=isNaN(c)?c:Number(c)}),t.cues.push(a)})}parseVTTCues_(t){let n,i=!1;if(typeof oe.WebVTT!="function")throw new oue;if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},t.mp4VttCues){this.parseMp4VttCues_(t);return}typeof oe.TextDecoder=="function"?n=new oe.TextDecoder("utf8"):(n=oe.WebVTT.StringDecoder(),i=!0);const r=new oe.WebVTT.Parser(oe,oe.vttjs,n);if(r.oncue=t.cues.push.bind(t.cues),r.ontimestampmap=a=>{t.timestampmap=a},r.onparsingerror=a=>{Te.log.warn("Error encountered when parsing cues: "+a.message)},t.segment.map){let a=t.segment.map.bytes;i&&(a=KC(a)),r.parse(a)}let s=t.bytes;i&&(s=KC(s)),r.parse(s),r.flush()}updateTimeMapping_(t,n,i){const r=t.segment;if(!n)return;if(!t.cues.length){r.empty=!0;return}const{MPEGTS:s,LOCAL:a}=t.timestampmap,l=s/Po.ONE_SECOND_IN_TS-a+n.mapping;if(t.cues.forEach(u=>{const c=u.endTime-u.startTime,d=this.handleRollover_(u.startTime+l,n.time);u.startTime=Math.max(d,0),u.endTime=Math.max(d+c,0)}),!i.syncInfo){const u=t.cues[0].startTime,c=t.cues[t.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:Math.min(u,c-r.duration)}}}handleRollover_(t,n){if(n===null)return t;let i=t*Po.ONE_SECOND_IN_TS;const r=n*Po.ONE_SECOND_IN_TS;let s;for(r<i?s=-8589934592:s=8589934592;Math.abs(i-r)>4294967296;)i+=s;return i/Po.ONE_SECOND_IN_TS}}const uue=function(e,t){const n=e.cues;for(let i=0;i<n.length;i++){const r=n[i];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null},cue=function(e,t,n=0){if(!e.segments)return;let i=n,r;for(let s=0;s<e.segments.length;s++){const a=e.segments[s];if(r||(r=uue(t,i+a.duration/2)),r){if("cueIn"in a){r.endTime=i,r.adEndTime=i,i+=a.duration,r=null;continue}if(i<r.endTime){i+=a.duration;continue}r.endTime+=a.duration}else if("cueOut"in a&&(r=new oe.VTTCue(i,i+a.duration,a.cueOut),r.adStartTime=i,r.adEndTime=i+parseFloat(a.cueOut),t.addCue(r)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);r=new oe.VTTCue(i,i+a.duration,""),r.adStartTime=i-o,r.adEndTime=r.adStartTime+l,t.addCue(r)}i+=a.duration}};class QC{constructor({start:t,end:n,segmentIndex:i,partIndex:r=null,appended:s=!1}){this.start_=t,this.end_=n,this.segmentIndex_=i,this.partIndex_=r,this.appended_=s}isInRange(t){return t>=this.start&&t<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class due{constructor(t,n=[]){this.segmentSyncInfo_=t,this.partsSyncInfo_=n}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(t=>t.resetAppendedStatus())}}class DL{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(t=>t.resetAppendStatus())}update(t,n){const{mediaSequence:i,segments:r}=t;if(this.isReliable_=this.isReliablePlaylist_(i,r),!!this.isReliable_)return this.updateStorage_(r,i,this.calculateBaseTime_(i,r,n))}getSyncInfoForTime(t){for(const{segmentSyncInfo:n,partsSyncInfo:i}of this.storage_.values())if(i.length){for(const r of i)if(r.isInRange(t))return r}else if(n.isInRange(t))return n;return null}getSyncInfoForMediaSequence(t){return this.storage_.get(t)}updateStorage_(t,n,i){const r=new Map;let s="\n",a=i,o=n;this.start_=a,t.forEach((l,u)=>{const c=this.storage_.get(o),d=a,f=d+l.duration,h=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),m=new QC({start:d,end:f,appended:h,segmentIndex:u});l.syncInfo=m;let p=a;const g=(l.parts||[]).map((_,y)=>{const b=p,A=p+_.duration,T=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[y]&&c.partsSyncInfo[y].isAppended),k=new QC({start:b,end:A,appended:T,segmentIndex:u,partIndex:y});return p=A,s+="Media Sequence: ".concat(o,".").concat(y," | Range: ").concat(b," --> ").concat(A," | Appended: ").concat(T,"\n"),_.syncInfo=k,k});r.set(o,new due(m,g)),s+="".concat(xL(l.resolvedUri)," | Media Sequence: ").concat(o," | Range: ").concat(d," --> ").concat(f," | Appended: ").concat(h,"\n"),o++,a=f}),this.end_=a,this.storage_=r,this.diagnostics_=s}calculateBaseTime_(t,n,i){if(!this.storage_.size)return 0;if(this.storage_.has(t))return this.storage_.get(t).segmentSyncInfo.start;const r=Math.min(...this.storage_.keys());if(t<r){const s=r-t;let a=this.storage_.get(r).segmentSyncInfo.start;for(let o=0;o<s;o++){const l=n[o];a-=l.duration}return a}return i}isReliablePlaylist_(t,n){return t!=null&&Array.isArray(n)&&n.length}}class JC extends DL{constructor(t){super(),this.parent_=t}calculateBaseTime_(t,n,i){if(!this.storage_.size){const r=this.parent_.getSyncInfoForMediaSequence(t);return r?r.segmentSyncInfo.start:0}return super.calculateBaseTime_(t,n,i)}}const fue=86400,Yv=[{name:"VOD",run:(e,t,n,i,r)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(e,t,n,i,r,s)=>{const a=e.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(r);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(e,t,n,i,r)=>{if(!Object.keys(e.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=Iy(t);r=r||0;for(let l=0;l<o.length;l++){const u=t.endList||r===0?l:o.length-(l+1),c=o[u],d=c.segment,f=e.timelineToDatetimeMappings[d.timeline];if(!f||!d.dateTimeObject)continue;let m=d.dateTimeObject.getTime()/1e3+f;if(d.parts&&typeof c.partIndex=="number")for(let g=0;g<c.partIndex;g++)m+=d.parts[g].duration;const p=Math.abs(r-m);if(a!==null&&(p===0||a<p))break;a=p,s={time:m,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return s}},{name:"Segment",run:(e,t,n,i,r)=>{let s=null,a=null;r=r||0;const o=Iy(t);for(let l=0;l<o.length;l++){const u=t.endList||r===0?l:o.length-(l+1),c=o[u],d=c.segment,f=c.part&&c.part.start||d&&d.start;if(d.timeline===i&&typeof f<"u"){const h=Math.abs(r-f);if(a!==null&&a<h)break;(!s||a===null||a>=h)&&(a=h,s={time:f,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:(e,t,n,i,r)=>{let s=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length){let a=null;for(let o=0;o<t.discontinuityStarts.length;o++){const l=t.discontinuityStarts[o],u=t.discontinuitySequence+o+1,c=e.discontinuities[u];if(c){const d=Math.abs(r-c.time);if(a!==null&&a<d)break;(!s||a===null||a>=d)&&(a=d,s={time:c.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(e,t,n,i,r)=>t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}];class hue extends Te.EventTarget{constructor(t={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const n=new DL,i=new JC(n),r=new JC(n);this.mediaSequenceStorage_={main:n,audio:i,vtt:r},this.logger_=br("SyncController")}getMediaSequenceSync(t){return this.mediaSequenceStorage_[t]||null}getSyncPoint(t,n,i,r,s){if(n!==1/0)return Yv.find(({name:l})=>l==="VOD").run(this,t,n);const a=this.runStrategies_(t,n,i,r,s);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:u}=o,{segmentIndex:c,time:d}=l;if(c<0)continue;const f=t.segments[c],h=d,m=h+f.duration;if(this.logger_("Strategy: ".concat(u,". Current time: ").concat(r,". selected segment: ").concat(c,". Time: [").concat(h," -> ").concat(m,"]}")),r>=h&&r<m)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:r})}getExpiredTime(t,n){if(!t||!t.segments)return null;const i=this.runStrategies_(t,n,t.discontinuitySequence,0);if(!i.length)return null;const r=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+Jc({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:r.segmentIndex,endIndex:0}))}runStrategies_(t,n,i,r,s){const a=[];for(let o=0;o<Yv.length;o++){const l=Yv[o],u=l.run(this,t,n,i,r,s);u&&(u.strategy=l.name,a.push({strategy:l.name,syncPoint:u}))}return a}selectSyncPoint_(t,n){let i=t[0].syncPoint,r=Math.abs(t[0].syncPoint[n.key]-n.value),s=t[0].strategy;for(let a=1;a<t.length;a++){const o=Math.abs(t[a].syncPoint[n.key]-n.value);o<r&&(r=o,i=t[a].syncPoint,s=t[a].strategy)}return this.logger_("syncPoint for [".concat(n.key,": ").concat(n.value,"] chosen with strategy")+" [".concat(s,"]: [time:").concat(i.time,",")+" segmentIndex:".concat(i.segmentIndex)+(typeof i.partIndex=="number"?",partIndex:".concat(i.partIndex):"")+"]"),i}saveExpiredSegmentInfo(t,n){const i=n.mediaSequence-t.mediaSequence;if(i>fue){Te.log.warn("Not saving expired segment info. Media sequence gap ".concat(i," is too large."));return}for(let r=i-1;r>=0;r--){const s=t.segments[r];if(s&&typeof s.start<"u"){n.syncInfo={mediaSequence:t.mediaSequence+r,time:s.start},this.logger_("playlist refresh sync: [time:".concat(n.syncInfo.time,",")+" mediaSequence: ".concat(n.syncInfo.mediaSequence,"]")),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){const n=t.segments[0],i=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:n}){const i=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),r=t.segment;i&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:r.start}));const s=r.dateTimeObject;r.discontinuity&&n&&s&&(this.timelineToDatetimeMappings[r.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].time}mappingForTimeline(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].mapping}calculateSegmentTimeMapping_(t,n,i){const r=t.segment,s=t.part;let a=this.timelines[t.timeline],o,l;if(typeof t.timestampOffset=="number")a={time:t.startOfSegment,mapping:t.startOfSegment-n.start},i&&(this.timelines[t.timeline]=a,this.trigger("timestampoffset"),this.logger_("time mapping for timeline ".concat(t.timeline,": ")+"[time: ".concat(a.time,"] [mapping: ").concat(a.mapping,"]"))),o=t.startOfSegment,l=n.end+a.mapping;else if(a)o=n.start+a.mapping,l=n.end+a.mapping;else return!1;return s&&(s.start=o,s.end=l),(!r.start||o<r.start)&&(r.start=o),r.end=l,!0}saveDiscontinuitySyncInfo_(t){const n=t.playlist,i=t.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let r=0;r<n.discontinuityStarts.length;r++){const s=n.discontinuityStarts[r],a=n.discontinuitySequence+r+1,o=s-t.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let u;o<0?u=i.start-Jc({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:t.mediaIndex,endIndex:s}):u=i.end+Jc({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:t.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class pue extends Te.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:t,from:n,to:i}){return typeof n=="number"&&typeof i=="number"&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]}lastTimelineChange({type:t,from:n,to:i}){if(typeof n=="number"&&typeof i=="number"){this.lastTimelineChanges_[t]={type:t,from:n,to:i},delete this.pendingTimelineChanges_[t];const r={timelineChangeInfo:{from:n,to:i}};this.trigger({type:"timelinechange",metadata:r})}return this.lastTimelineChanges_[t]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const mue=hL(pL(function(){var e=(function(){function p(){this.listeners={}}var g=p.prototype;return g.on=function(y,b){this.listeners[y]||(this.listeners[y]=[]),this.listeners[y].push(b)},g.off=function(y,b){if(!this.listeners[y])return!1;var A=this.listeners[y].indexOf(b);return this.listeners[y]=this.listeners[y].slice(0),this.listeners[y].splice(A,1),A>-1},g.trigger=function(y){var b=this.listeners[y];if(b)if(arguments.length===2)for(var A=b.length,T=0;T<A;++T)b[T].call(this,arguments[1]);else for(var k=Array.prototype.slice.call(arguments,1),O=b.length,I=0;I<O;++I)b[I].apply(this,k)},g.dispose=function(){this.listeners={}},g.pipe=function(y){this.on("data",function(b){y.push(b)})},p})();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function t(p){return p.subarray(0,p.byteLength-p[p.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const n=function(){const p=[[[],[],[],[],[]],[[],[],[],[],[]]],g=p[0],_=p[1],y=g[4],b=_[4];let A,T,k;const O=[],I=[];let w,D,R,L,B,N;for(A=0;A<256;A++)I[(O[A]=A<<1^(A>>7)*283)^A]=A;for(T=k=0;!y[T];T^=w||1,k=I[k]||1)for(L=k^k<<1^k<<2^k<<3^k<<4,L=L>>8^L&255^99,y[T]=L,b[L]=T,R=O[D=O[w=O[T]]],N=R*16843009^D*65537^w*257^T*16843008,B=O[L]*257^L*16843008,A=0;A<4;A++)g[A][T]=B=B<<24^B>>>8,_[A][L]=N=N<<24^N>>>8;for(A=0;A<5;A++)g[A]=g[A].slice(0),_[A]=_[A].slice(0);return p};let i=null;class r{constructor(g){i||(i=n()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];let _,y,b;const A=this._tables[0][4],T=this._tables[1],k=g.length;let O=1;if(k!==4&&k!==6&&k!==8)throw new Error("Invalid aes key size");const I=g.slice(0),w=[];for(this._key=[I,w],_=k;_<4*k+28;_++)b=I[_-1],(_%k===0||k===8&&_%k===4)&&(b=A[b>>>24]<<24^A[b>>16&255]<<16^A[b>>8&255]<<8^A[b&255],_%k===0&&(b=b<<8^b>>>24^O<<24,O=O<<1^(O>>7)*283)),I[_]=I[_-k]^b;for(y=0;_;y++,_--)b=I[y&3?_:_-4],_<=4||y<4?w[y]=b:w[y]=T[0][A[b>>>24]]^T[1][A[b>>16&255]]^T[2][A[b>>8&255]]^T[3][A[b&255]]}decrypt(g,_,y,b,A,T){const k=this._key[1];let O=g^k[0],I=b^k[1],w=y^k[2],D=_^k[3],R,L,B;const N=k.length/4-2;let $,F=4;const V=this._tables[1],U=V[0],Y=V[1],ne=V[2],z=V[3],W=V[4];for($=0;$<N;$++)R=U[O>>>24]^Y[I>>16&255]^ne[w>>8&255]^z[D&255]^k[F],L=U[I>>>24]^Y[w>>16&255]^ne[D>>8&255]^z[O&255]^k[F+1],B=U[w>>>24]^Y[D>>16&255]^ne[O>>8&255]^z[I&255]^k[F+2],D=U[D>>>24]^Y[O>>16&255]^ne[I>>8&255]^z[w&255]^k[F+3],F+=4,O=R,I=L,w=B;for($=0;$<4;$++)A[(3&-$)+T]=W[O>>>24]<<24^W[I>>16&255]<<16^W[w>>8&255]<<8^W[D&255]^k[F++],R=O,O=I,I=w,w=D,D=R}}class s extends e{constructor(){super(e),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(g){this.jobs.push(g),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(p){return p<<24|(p&65280)<<8|(p&16711680)>>8|p>>>24},o=function(p,g,_){const y=new Int32Array(p.buffer,p.byteOffset,p.byteLength>>2),b=new r(Array.prototype.slice.call(g)),A=new Uint8Array(p.byteLength),T=new Int32Array(A.buffer);let k,O,I,w,D,R,L,B,N;for(k=_[0],O=_[1],I=_[2],w=_[3],N=0;N<y.length;N+=4)D=a(y[N]),R=a(y[N+1]),L=a(y[N+2]),B=a(y[N+3]),b.decrypt(D,R,L,B,T,N),T[N]=a(T[N]^k),T[N+1]=a(T[N+1]^O),T[N+2]=a(T[N+2]^I),T[N+3]=a(T[N+3]^w),k=D,O=R,I=L,w=B;return A};class l{constructor(g,_,y,b){const A=l.STEP,T=new Int32Array(g.buffer),k=new Uint8Array(g.byteLength);let O=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(T.subarray(O,O+A),_,y,k)),O=A;O<T.length;O+=A)y=new Uint32Array([a(T[O-4]),a(T[O-3]),a(T[O-2]),a(T[O-1])]),this.asyncStream_.push(this.decryptChunk_(T.subarray(O,O+A),_,y,k));this.asyncStream_.push(function(){b(null,t(k))})}static get STEP(){return 32e3}decryptChunk_(g,_,y,b){return function(){const A=o(g,_,y);b.set(A,g.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var d=c,f=function(g){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(g):g&&g.buffer instanceof ArrayBuffer},h=d.BigInt||Number;h("0x1"),h("0x100"),h("0x10000"),h("0x1000000"),h("0x100000000"),h("0x10000000000"),h("0x1000000000000"),h("0x100000000000000"),h("0x10000000000000000"),(function(){var p=new Uint16Array([65484]),g=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);return g[0]===255?"big":g[0]===204?"little":"unknown"})();const m=function(p){const g={};return Object.keys(p).forEach(_=>{const y=p[_];f(y)?g[_]={bytes:y.buffer,byteOffset:y.byteOffset,byteLength:y.byteLength}:g[_]=y}),g};self.onmessage=function(p){const g=p.data,_=new Uint8Array(g.encrypted.bytes,g.encrypted.byteOffset,g.encrypted.byteLength),y=new Uint32Array(g.key.bytes,g.key.byteOffset,g.key.byteLength/4),b=new Uint32Array(g.iv.bytes,g.iv.byteOffset,g.iv.byteLength/4);new l(_,y,b,function(A,T){self.postMessage(m({source:g.source,decrypted:T}),[T.buffer])})}}));var gue=fL(mue);const vue=e=>{let t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},kL=(e,t)=>{e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},jy=(e,t)=>{t.activePlaylistLoader=e,e.load()},yue=(e,t)=>()=>{const{segmentLoaders:{[e]:n,main:i},mediaTypes:{[e]:r}}=t,s=r.activeTrack(),a=r.getActiveGroup(),o=r.activePlaylistLoader,l=r.lastGroup_;if(!(a&&l&&a.id===l.id)&&(r.lastGroup_=a,r.lastTrack_=s,kL(n,r),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&i.resetEverything();return}n.resyncLoader(),jy(a.playlistLoader,r)}},_ue=(e,t)=>()=>{const{segmentLoaders:{[e]:n},mediaTypes:{[e]:i}}=t;i.lastGroup_=null,n.abort(),n.pause()},bue=(e,t)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[e]:i,main:r},mediaTypes:{[e]:s}}=t,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if(!(u&&a&&u.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,kL(i,s),!!o)){if(o.isMainPlaylist){if(!a||!u||a.id===u.id)return;const c=t.vhs.playlistController_,d=c.selectPlaylist();if(c.media()===d)return;s.logger_("track change. Switching main audio from ".concat(u.id," to ").concat(a.id)),n.pause(),r.resetEverything(),c.fastQualityChange_(d);return}if(e==="AUDIO"){if(!o.playlistLoader){r.setAudio(!0),r.resetEverything();return}i.setAudio(!0),r.setAudio(!1)}if(l===o.playlistLoader){jy(o.playlistLoader,s);return}i.track&&i.track(a),i.resetEverything(),jy(o.playlistLoader,s)}},Rp={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:n},excludePlaylist:i}=t,r=n.activeTrack(),s=n.activeGroup(),a=(s.filter(l=>l.default)[0]||s[0]).id,o=n.tracks[a];if(r===o){i({error:{message:"Problem encountered loading the default audio track."}});return}Te.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in n.tracks)n.tracks[l].enabled=n.tracks[l]===o;n.onTrackChanged()},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:n}}=t;Te.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}},ZC={AUDIO:(e,t,n)=>{if(!t)return;const{tech:i,requestOptions:r,segmentLoaders:{[e]:s}}=n;t.on("loadedmetadata",()=>{const a=t.media();s.playlist(a,r),(!i.paused()||a.endList&&i.preload()!=="none")&&s.load()}),t.on("loadedplaylist",()=>{s.playlist(t.media(),r),i.paused()||s.load()}),t.on("error",Rp[e](e,n))},SUBTITLES:(e,t,n)=>{const{tech:i,requestOptions:r,segmentLoaders:{[e]:s},mediaTypes:{[e]:a}}=n;t.on("loadedmetadata",()=>{const o=t.media();s.playlist(o,r),s.track(a.activeTrack()),(!i.paused()||o.endList&&i.preload()!=="none")&&s.load()}),t.on("loadedplaylist",()=>{s.playlist(t.media(),r),i.paused()||s.load()}),t.on("error",Rp[e](e,n))}},Tue={AUDIO:(e,t)=>{const{vhs:n,sourceType:i,segmentLoaders:{[e]:r},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[e]:{groups:o,tracks:l,logger_:u}},mainPlaylistLoader:c}=t,d=Xd(c.main);(!a[e]||Object.keys(a[e]).length===0)&&(a[e]={main:{default:{default:!0}}},d&&(a[e].main.default.playlists=c.main.playlists));for(const f in a[e]){o[f]||(o[f]=[]);for(const h in a[e][f]){let m=a[e][f][h],p;if(d?(u("AUDIO group '".concat(f,"' label '").concat(h,"' is a main playlist")),m.isMainPlaylist=!0,p=null):i==="vhs-json"&&m.playlists?p=new Nl(m.playlists[0],n,s):m.resolvedUri?p=new Nl(m.resolvedUri,n,s):m.playlists&&i==="dash"?p=new By(m.playlists[0],n,s,c):p=null,m=Ut({id:h,playlistLoader:p},m),ZC[e](e,m.playlistLoader,t),o[f].push(m),typeof l[h]>"u"){const g=new Te.AudioTrack({id:h,kind:vue(m),enabled:!1,language:m.language,default:m.default,label:h});l[h]=g}}}r.on("error",Rp[e](e,t))},SUBTITLES:(e,t)=>{const{tech:n,vhs:i,sourceType:r,segmentLoaders:{[e]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[e]:{groups:l,tracks:u}},mainPlaylistLoader:c}=t;for(const d in o[e]){l[d]||(l[d]=[]);for(const f in o[e][d]){if(!i.options_.useForcedSubtitles&&o[e][d][f].forced)continue;let h=o[e][d][f],m;if(r==="hls")m=new Nl(h.resolvedUri,i,a);else if(r==="dash"){if(!h.playlists.filter(g=>g.excludeUntil!==1/0).length)return;m=new By(h.playlists[0],i,a,c)}else r==="vhs-json"&&(m=new Nl(h.playlists?h.playlists[0]:h.resolvedUri,i,a));if(h=Ut({id:f,playlistLoader:m},h),ZC[e](e,h.playlistLoader,t),l[d].push(h),typeof u[f]>"u"){const p=n.addRemoteTextTrack({id:f,kind:"subtitles",default:h.default&&h.autoselect,language:h.language,label:f},!1).track;u[f]=p}}}s.on("error",Rp[e](e,t))},"CLOSED-CAPTIONS":(e,t)=>{const{tech:n,main:{mediaGroups:i},mediaTypes:{[e]:{groups:r,tracks:s}}}=t;for(const a in i[e]){r[a]||(r[a]=[]);for(const o in i[e][a]){const l=i[e][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=n.options_.vhs&&n.options_.vhs.captionServices||{};let c={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=Ut(c,u[c.instreamId])),c.default===void 0&&delete c.default,r[a].push(Ut({id:o},l)),typeof s[o]>"u"){const d=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;s[o]=d}}}}},OL=(e,t)=>{for(let n=0;n<e.length;n++)if(fT(t,e[n])||e[n].playlists&&OL(e[n].playlists,t))return!0;return!1},Aue=(e,t)=>n=>{const{mainPlaylistLoader:i,mediaTypes:{[e]:{groups:r}}}=t,s=i.media();if(!s)return null;let a=null;s.attributes[e]&&(a=r[s.attributes[e]]);const o=Object.keys(r);if(!a)if(e==="AUDIO"&&o.length>1&&Xd(t.main))for(let l=0;l<o.length;l++){const u=r[o[l]];if(OL(u,s)){a=u;break}}else r.main?a=r.main:o.length===1&&(a=r[o[0]]);return typeof n>"u"?a:n===null||!a?null:a.filter(l=>l.id===n.id)[0]||null},Sue={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const i in n)if(n[i].enabled)return n[i];return null},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const i in n)if(n[i].mode==="showing"||n[i].mode==="hidden")return n[i];return null}},xue=(e,{mediaTypes:t})=>()=>{const n=t[e].activeTrack();return n?t[e].activeGroup(n):null},Eue=e=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{Tue[u](u,e)});const{mediaTypes:t,mainPlaylistLoader:n,tech:i,vhs:r,segmentLoaders:{["AUDIO"]:s,main:a}}=e;["AUDIO","SUBTITLES"].forEach(u=>{t[u].activeGroup=Aue(u,e),t[u].activeTrack=Sue[u](u,e),t[u].onGroupChanged=yue(u,e),t[u].onGroupChanging=_ue(u,e),t[u].onTrackChanged=bue(u,e),t[u].getActiveGroup=xue(u,e)});const o=t.AUDIO.activeGroup();if(o){const u=(o.filter(d=>d.default)[0]||o[0]).id;t.AUDIO.tracks[u].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>t[u].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>t[u].onGroupChanging())});const l=()=>{t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",l),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",()=>{i.audioTracks().removeEventListener("change",l),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(const u in t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[u])},Cue=()=>{const e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(t=>{e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Js,activeTrack:Js,getActiveGroup:Js,onGroupChanged:Js,onTrackChanged:Js,lastTrack_:null,logger_:br("MediaGroups[".concat(t,"]"))}}),e};class ew{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(t){t===1&&(this.version_=t)}set ttl(t){this.ttl_=t||300}set reloadUri(t){t&&(this.reloadUri_=Li(this.reloadUri_,t))}set priority(t){t&&t.length&&(this.priority_=t)}set pathwayClones(t){t&&t.length&&(this.pathwayClones_=new Map(t.map(n=>[n.ID,n])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class wue extends Te.EventTarget{constructor(t,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new ew,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=br("Content Steering"),this.xhr_=t,this.getBandwidth_=n}assignTagProperties(t,n){this.manifestType_=n.serverUri?"HLS":"DASH";const i=n.serverUri||n.serverURL;if(!i){this.logger_("steering manifest URL is ".concat(i,", cannot request steering manifest.")),this.trigger("error");return}if(i.startsWith("data:")){this.decodeDataUriManifest_(i.substring(i.indexOf(",")+1));return}this.steeringManifest.reloadUri=Li(t,i),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart,this.proxyServerUrl_=n.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(t){const n=this.steeringManifest.reloadUri;if(!n)return;const i=t?n:this.getRequestURI(n);if(!i){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const r={contentSteeringInfo:{uri:i}};this.trigger({type:"contentsteeringloadstart",metadata:r}),this.request_=this.xhr_({uri:i,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_("manifest request 410 ".concat(s,".")),this.logger_("There will be no more content steering requests to ".concat(i," this session.")),this.excludedSteeringManifestURLs.add(i);return}if(a.status===429){const u=a.responseHeaders["retry-after"];this.logger_("manifest request 429 ".concat(s,".")),this.logger_("content steering will retry in ".concat(u," seconds.")),this.startTTLTimeout_(parseInt(u,10));return}this.logger_("manifest failed to load ".concat(s,".")),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:r});let o;try{o=JSON.parse(this.request_.responseText)}catch(u){const c={errorType:Te.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:c})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:r.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(t){const n=new oe.URL(t),i=new oe.URL(this.proxyServerUrl_);return i.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(i.toString())}decodeDataUriManifest_(t){const n=JSON.parse(oe.atob(t));this.assignSteeringProperties_(n)}setSteeringParams_(t){const n=new oe.URL(t),i=this.getPathway(),r=this.getBandwidth_();if(i){const s="_".concat(this.manifestType_,"_pathway");n.searchParams.set(s,i)}if(r){const s="_".concat(this.manifestType_,"_throughput");n.searchParams.set(s,r)}return n.toString()}assignSteeringProperties_(t){if(this.steeringManifest.version=t.VERSION,!this.steeringManifest.version){this.logger_("manifest version is ".concat(t.VERSION,", which is not supported.")),this.trigger("error");return}this.steeringManifest.ttl=t.TTL,this.steeringManifest.reloadUri=t["RELOAD-URI"],this.steeringManifest.priority=t["PATHWAY-PRIORITY"]||t["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=t["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const i=(r=>{for(const s of r)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==i&&(this.currentPathway=i,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(t){if(!t)return null;const n=r=>this.excludedSteeringManifestURLs.has(r);if(this.proxyServerUrl_){const r=this.setProxyServerUrl_(t);if(!n(r))return r}const i=this.setSteeringParams_(t);return n(i)?null:i}startTTLTimeout_(t=this.steeringManifest.ttl){const n=t*1e3;this.ttlTimeout_=oe.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){oe.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new ew}addAvailablePathway(t){t&&this.availablePathways_.add(t)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(t){return this.availablePathways_.delete(t)}didDASHTagChange(t,n){return!n&&this.steeringManifest.reloadUri||n&&(Li(t,n.serverURL)!==this.steeringManifest.reloadUri||n.defaultServiceLocation!==this.defaultPathway||n.queryBeforeStart!==this.queryBeforeStart||n.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const Due=(e,t)=>{let n=null;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(null,i)},t)}},kue=10;let Ua;const Oue=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Iue=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Pue=function({currentPlaylist:e,buffered:t,currentTime:n,nextPlaylist:i,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:l}){if(!i)return Te.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u="allowing switch ".concat(e&&e.id||"null"," -> ").concat(i.id);if(!e)return l("".concat(u," as current playlist is not set")),!0;if(i.id===e.id)return!1;const c=!!Ml(t,n).length;if(!e.endList)return!c&&typeof e.partTargetDuration=="number"?(l("not ".concat(u," as current playlist is live llhls, but currentTime isn't in buffered.")),!1):(l("".concat(u," as current playlist is live")),!0);const d=uT(t,n),f=o?zn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:zn.MAX_BUFFER_LOW_WATER_LINE;if(a<f)return l("".concat(u," as duration < max low water line (").concat(a," < ").concat(f,")")),!0;const h=i.attributes.BANDWIDTH,m=e.attributes.BANDWIDTH;if(h<m&&(!o||d<s)){let p="".concat(u," as next bandwidth < current bandwidth (").concat(h," < ").concat(m,")");return o&&(p+=" and forwardBuffer < bufferHighWaterLine (".concat(d," < ").concat(s,")")),l(p),!0}if((!o||h>m)&&d>=r){let p="".concat(u," as forwardBuffer >= bufferLowWaterLine (").concat(d," >= ").concat(r,")");return o&&(p+=" and next bandwidth > current bandwidth (".concat(h," > ").concat(m,")")),l(p),!0}return l("not ".concat(u," as no switching criteria met")),!1};class Rue extends Te.EventTarget{constructor(t){super(),this.fastQualityChange_=Due(this.fastQualityChange_.bind(this),100);const{src:n,withCredentials:i,tech:r,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:d,bufferBasedABR:f,leastPixelDiffSelector:h,captionServices:m,experimentalUseMMS:p}=t;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:g}=t;(g===null||typeof g>"u")&&(g=1/0),Ua=a,this.bufferBasedABR=!!f,this.leastPixelDiffSelector=!!h,this.withCredentials=i,this.tech_=r,this.vhs_=r.vhs,this.player_=t.player_,this.sourceType_=c,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=g,this.enableLowInitialPlaylist=u,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:g,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=Cue(),p&&oe.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new oe.ManagedMediaSource,this.usingManagedMediaSource_=!0,Te.log("Using ManagedMediaSource")):oe.MediaSource&&(this.mediaSource=new oe.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=Kn(),this.hasPlayed_=!1,this.syncController_=new hue(t),this.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.segmentMetadataTrack_.mode="hidden",this.decrypter_=new gue,this.sourceUpdater_=new wL(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new pue,this.keyStatusMap_=new Map;const _={vhs:this.vhs_,parse708captions:t.parse708captions,useDtsForTimestampOffset:t.useDtsForTimestampOffset,captionServices:m,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:t.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new By(n,this.vhs_,Ut(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Nl(n,this.vhs_,Ut(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Uy(Ut(_,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),t),this.audioSegmentLoader_=new Uy(Ut(_,{loaderType:"audio"}),t),this.subtitleSegmentLoader_=new lue(Ut(_,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((A,T)=>{function k(){r.off("vttjserror",O),A()}function O(){r.off("vttjsloaded",k),T()}r.one("vttjsloaded",k),r.one("vttjserror",O),r.addWebVttScript_()})}),t);const y=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new wue(this.vhs_.xhr,y),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Oue.forEach(A=>{this[A+"_"]=Iue.bind(this,A)}),this.logger_=br("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const b=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(b,()=>{const A=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-A,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const t=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return t===-1||n===-1?-1:t+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(t="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,t)}switchMedia_(t,n,i){const r=this.media(),s=r&&(r.id||r.uri),a=t&&(t.id||t.uri);if(s&&s!==a){this.logger_("switch media ".concat(s," -> ").concat(a," from ").concat(n));const o={renditionInfo:{id:a,bandwidth:t.attributes.BANDWIDTH,resolution:t.attributes.RESOLUTION,codecs:t.attributes.CODECS},cause:n};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-".concat(n)})}this.mainPlaylistLoader_.media(t,i)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(t=>{const n=this.mediaTypes_[t],i=n?n.activeGroup():null,r=this.contentSteeringController_.getPathway();if(i&&r){const a=(i.length?i[0].playlists:i.playlists).filter(o=>o.attributes.serviceLocation===r);a.length&&this.mediaTypes_[t].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=oe.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(oe.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const t=this.main(),n=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return n;const i=t.mediaGroups.AUDIO,r=Object.keys(i);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=i.main||r.length&&i[r[0]];for(const l in o)if(o[l].default){s={label:l};break}}if(!s)return n;const a=[];for(const o in i)if(i[o][s.label]){const l=i[o][s.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(t.playlists.length)for(let u=0;u<t.playlists.length;u++){const c=t.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===o&&a.push(c)}}return a.length?a:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const n=this.mainPlaylistLoader_.media(),i=n.targetDuration*1.5*1e3;Py(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,n.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.mainSegmentLoader_.load()),Eue({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),n),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let n=this.mainPlaylistLoader_.media();if(!n){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let i;if(this.enableLowInitialPlaylist&&(i=this.selectInitialPlaylist()),i||(i=this.selectPlaylist()),!i||!this.shouldSwitchToMedia_(i)||(this.initialMedia_=i,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;n=this.initialMedia_}this.handleUpdatedMediaPlaylist(n)}),this.mainPlaylistLoader_.on("error",()=>{const n=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const n=this.mainPlaylistLoader_.media(),i=n.targetDuration*1.5*1e3;Py(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const n=this.mainPlaylistLoader_.media();if(n.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(n)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(n=>{this.mainPlaylistLoader_.on(n,i=>{this.player_.trigger(kn({},i))})})}handleUpdatedMediaPlaylist(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(t,n){const i=t.mediaGroups||{};let r=!0;const s=Object.keys(i.AUDIO);for(const a in i.AUDIO)for(const o in i.AUDIO[a])i.AUDIO[a][o].uri||(r=!1);r&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Ua.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(i.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(t){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),r=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return Pue({buffered:a,currentTime:i,currentPlaylist:n,nextPlaylist:t,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const i=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const i=this.audioSegmentLoader_.pendingSegment_;if(!i||!i.segment||!i.segment.syncInfo)return;const r=i.segment.syncInfo.end+.01;this.tech_.setCurrentTime(r)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",i=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:kue}))});const t=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const i=this.getCodecsOrExclude_();i&&this.sourceUpdater_.addOrChangeSourceBuffers(i)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(i=>{this.mainSegmentLoader_.on(i,r=>{this.player_.trigger(kn({},r))}),this.audioSegmentLoader_.on(i,r=>{this.player_.trigger(kn({},r))}),this.subtitleSegmentLoader_.on(i,r=>{this.player_.trigger(kn({},r))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(t=this.selectPlaylist()){if(t&&t===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(t,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const t=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0))return this.tech_.setCurrentTime(t.end(t.length-1))}setupFirstPlay(){const t=this.mainPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList||t.start){const n=this.seekable();if(!n.length)return!1;const i=n.end(0);let r=i;if(t.start){const s=t.start.timeOffset;s<0?r=Math.max(i+s,n.start(0)):r=Math.min(i,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(r)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const t=this.tech_.play();typeof t<"u"&&typeof t.then=="function"&&t.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const t=this.inbandTextTracks_.metadataTrack_.cues;if(!t||!t.length)return;const n=this.duration();t[t.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?t=t&&this.audioSegmentLoader_.ended_:t=this.audioSegmentLoader_.ended_}t&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(t){if(!this.seekable().length)return!1;const i=this.syncController_.getExpiredTime(t,this.duration());if(i===null)return!1;const r=Ua.Playlist.playlistEnd(t,i),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return r-s<=_s;const o=a.end(a.length-1);return o-s<=_s&&r-o<=_s}excludePlaylist({playlistToExclude:t=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:i}){if(t=t||this.mainPlaylistLoader_.media(),i=i||n.playlistExclusionDuration||this.playlistExclusionDuration,!t){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}t.playlistErrors_++;const r=this.mainPlaylistLoader_.main.playlists,s=r.filter(Jm),a=s.length===1&&s[0]===t;if(r.length===1&&i!==1/0)return Te.log.warn("Problem encountered with playlist ".concat(t.id,". ")+"Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const m=this.pathwayAttribute_(t),p=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(m),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(m)},p);return}let h=!1;r.forEach(m=>{if(m===t)return;const p=m.excludeUntil;typeof p<"u"&&p!==1/0&&(h=!0,delete m.excludeUntil)}),h&&(Te.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;t.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+i*1e3,t.excludeUntil=o,n.reason&&(t.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=n.internal?this.logger_:Te.log.warn,c=n.message?" "+n.message:"";u("".concat(n.internal?"Internal problem":"Problem"," encountered with playlist ").concat(t.id,".")+"".concat(c," Switching to playlist ").concat(l.id,".")),l.attributes.AUDIO!==t.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==t.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=l.targetDuration/2*1e3||5*1e3,f=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",a||f)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(t,n){const i=[],r=t==="all";(r||t==="main")&&i.push(this.mainPlaylistLoader_);const s=[];(r||t==="audio")&&s.push("AUDIO"),(r||t==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&i.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this["".concat(a,"SegmentLoader_")];o&&(t===a||t==="all")&&i.push(o)}),i.forEach(a=>n.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(t){const n=Ml(this.tech_.buffered(),t);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return t;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const t=this.mainPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:Ua.Playlist.duration(t):1/0:0}seekable(){return this.seekable_}getSeekableRange_(t,n){const i=t.media();if(!i)return null;const r=this.syncController_.getMediaSequenceSync(n);if(r&&r.isReliable){const o=r.start,l=r.end;if(!isFinite(o)||!isFinite(l))return null;const u=Ua.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,i),c=Math.max(o,l-u);return Kn([[o,c]])}const s=this.syncController_.getExpiredTime(i,this.duration());if(s===null)return null;const a=Ua.Playlist.seekable(i,s,Ua.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,i));return a.length?a:null}computeFinalSeekable_(t,n){if(!n)return t;const i=t.start(0),r=t.end(0),s=n.start(0),a=n.end(0);return s>r||i>a?t:Kn([[Math.max(i,s),Math.min(r,a)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const t=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!t)return;let n;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!n))return;const i=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(t,n),!this.seekable_||i&&i.length&&this.seekable_.length&&i.start(0)===this.seekable_.start(0)&&i.end(0)===this.seekable_.end(0))return;this.logger_("seekable updated [".concat(UR(this.seekable_),"]"));const r={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:r}),this.tech_.trigger("seekablechanged")}updateDuration(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,t),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(t){const r=this.seekable();if(!r.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<r.end(r.length-1))&&this.sourceUpdater_.setDuration(r.end(r.length-1));return}const n=this.tech_.buffered();let i=Ua.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(t=>{const n=this.mediaTypes_[t].groups;for(const i in n)n[i].forEach(r=>{r.playlistLoader&&r.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=t?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!i)}getCodecsOrExclude_(){const t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();t.video=t.main;const i=Zc(this.main(),n),r={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(r.video=i.video||t.main.videoCodec||Tre),t.main.isMuxed&&(r.video+=",".concat(i.audio||t.main.audioCodec||HE)),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||s)&&(r.audio=i.audio||t.main.audioCodec||t.audio.audioCodec||HE,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),!r.audio&&!r.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(u,c)=>u?Yc(c,this.usingManagedMediaSource_):Dv(c),o={};let l;if(["video","audio"].forEach(function(u){if(r.hasOwnProperty(u)&&!a(t[u].isFmp4,r[u])){const c=t[u].isFmp4?"browser":"muxer";o[c]=o[c]||[],o[c].push(r[u]),u==="audio"&&(l=c)}}),s&&l&&n.attributes.AUDIO){const u=n.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==n&&(c.excludeUntil=1/0)}),this.logger_("excluding audio group ".concat(u," as ").concat(l,' does not support codec(s): "').concat(r.audio,'"'))}if(Object.keys(o).length){const u=Object.keys(o).reduce((c,d)=>(c&&(c+=", "),c+="".concat(d,' does not support codec(s): "').concat(o[d].join(","),'"'),c),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const d=(ps(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,f=(ps(r[c]||"")[0]||{}).type;d&&f&&d.toLowerCase()!==f.toLowerCase()&&u.push('"'.concat(this.sourceUpdater_.codecs[c],'" -> "').concat(r[c],'"'))}),u.length){this.excludePlaylist({playlistToExclude:n,error:{message:"Codec switching not supported: ".concat(u.join(", "),"."),internal:!0},playlistExclusionDuration:1/0});return}}return r}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const t=this.getCodecsOrExclude_();if(!t)return;this.sourceUpdater_.createSourceBuffers(t);const n=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const t=this.main().playlists,n=[];Object.keys(t).forEach(i=>{const r=t[i];if(n.indexOf(r.id)!==-1)return;n.push(r.id);const s=Zc(this.main,r),a=[];s.audio&&!Dv(s.audio)&&!Yc(s.audio,this.usingManagedMediaSource_)&&a.push("audio codec ".concat(s.audio)),s.video&&!Dv(s.video)&&!Yc(s.video,this.usingManagedMediaSource_)&&a.push("video codec ".concat(s.video)),s.text&&s.text==="stpp.ttml.im1t"&&a.push("text codec ".concat(s.text)),a.length&&(r.excludeUntil=1/0,this.logger_("excluding ".concat(r.id," for unsupported: ").concat(a.join(", "))))})}excludeIncompatibleVariants_(t){const n=[],i=this.main().playlists,r=Sd(ps(t)),s=NC(r),a=r.video&&ps(r.video)[0]||null,o=r.audio&&ps(r.audio)[0]||null;Object.keys(i).forEach(l=>{const u=i[l];if(n.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;n.push(u.id);const c=[],d=Zc(this.mainPlaylistLoader_.main,u),f=NC(d);if(!(!d.audio&&!d.video)){if(f!==s&&c.push('codec count "'.concat(f,'" !== "').concat(s,'"')),!this.sourceUpdater_.canChangeType()){const h=d.video&&ps(d.video)[0]||null,m=d.audio&&ps(d.audio)[0]||null;h&&a&&h.type.toLowerCase()!==a.type.toLowerCase()&&c.push('video codec "'.concat(h.type,'" !== "').concat(a.type,'"')),m&&o&&m.type.toLowerCase()!==o.type.toLowerCase()&&c.push('audio codec "'.concat(m.type,'" !== "').concat(o.type,'"'))}c.length&&(u.excludeUntil=1/0,this.logger_("excluding ".concat(u.id,": ").concat(c.join(" && "))))}})}updateAdCues_(t){let n=0;const i=this.seekable();i.length&&(n=i.start(0)),cue(t,this.cueTagsTrack_,n)}goalBufferLength(){const t=this.tech_.currentTime(),n=zn.GOAL_BUFFER_LENGTH,i=zn.GOAL_BUFFER_LENGTH_RATE,r=Math.max(n,zn.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+t*i,r)}bufferLowWaterLine(){const t=this.tech_.currentTime(),n=zn.BUFFER_LOW_WATER_LINE,i=zn.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(n,zn.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(n,zn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+t*i,this.bufferBasedABR?s:r)}bufferHighWaterLine(){return zn.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(t){zC(this.inbandTextTracks_,"com.apple.streaming",this.tech_),Hle({inbandTextTracks:this.inbandTextTracks_,dateRanges:t})}addMetadataToTextTrack(t,n,i){const r=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();zC(this.inbandTextTracks_,t,this.tech_),Ule({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:r,videoDuration:i})}pathwayAttribute_(t){return t.attributes["PATHWAY-ID"]||t.attributes.serviceLocation}initContentSteeringController_(){const t=this.main();if(t.contentSteering){for(const n of t.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(n));if(this.contentSteeringController_.assignTagProperties(t.uri,t.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(n=>{this.contentSteeringController_.on(n,i=>{this.trigger(kn({},i))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const n=this.main();(this.contentSteeringController_.didDASHTagChange(n.uri,n.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),a=[];for(const o of n.playlists){const l=o.attributes.serviceLocation;if(l&&(a.push(l),!s.has(l)))return!0}return!!(!a.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const t=this.contentSteeringController_.getPathway();if(!t)return;this.handlePathwayClones_();const i=this.main().playlists,r=new Set;let s=!1;Object.keys(i).forEach(a=>{const o=i[a],l=this.pathwayAttribute_(o),u=l&&t!==l;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!u&&(delete o.excludeUntil,delete o.lastExcludeReason_,s=!0);const d=!o.excludeUntil&&o.excludeUntil!==1/0;!r.has(o.id)&&u&&d&&(r.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_("excluding ".concat(o.id," for ").concat(o.lastExcludeReason_)))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const l=o.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==t&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const n=this.main().playlists,i=this.contentSteeringController_.currentPathwayClones,r=this.contentSteeringController_.nextPathwayClones;if(i&&i.size||r&&r.size){for(const[a,o]of i.entries())r.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(a));for(const[a,o]of r.entries()){const l=i.get(a);if(!l){n.filter(c=>c.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(c=>{this.mainPlaylistLoader_.addClonePathway(o,c)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(l,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...r])))}}equalPathwayClones_(t,n){if(t["BASE-ID"]!==n["BASE-ID"]||t.ID!==n.ID||t["URI-REPLACEMENT"].HOST!==n["URI-REPLACEMENT"].HOST)return!1;const i=t["URI-REPLACEMENT"].PARAMS,r=n["URI-REPLACEMENT"].PARAMS;for(const s in i)if(i[s]!==r[s])return!1;for(const s in r)if(i[s]!==r[s])return!1;return!0}changeSegmentPathway_(){const t=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(t,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let t=0;const n="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(i=>{const r=this.mainPlaylistLoader_.getKeyIdSet(i);!r||!r.size||r.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,l=i.lastExcludeReason_===n&&i.excludeUntil===1/0;o?o&&l&&(delete i.excludeUntil,delete i.lastExcludeReason_,this.logger_("enabling playlist ".concat(i.id," because key ID ").concat(s," is ").concat(a))):(i.excludeUntil!==1/0&&i.lastExcludeReason_!==n&&(i.excludeUntil=1/0,i.lastExcludeReason_=n,this.logger_("excluding playlist ".concat(i.id," because the key ID ").concat(s," doesn't exist in the keyStatusMap or is not ").concat(a))),t++)})}),t>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(i=>{const r=i&&i.attributes&&i.attributes.RESOLUTION&&i.attributes.RESOLUTION.height<720,s=i.excludeUntil===1/0&&i.lastExcludeReason_===n;r&&s&&(delete i.excludeUntil,Te.log.warn("enabling non-HD playlist ".concat(i.id," because all playlists were excluded due to ").concat(n," key IDs")))})}addKeyStatus_(t,n){const s=(typeof t=="string"?t:aue(t)).slice(0,32).toLowerCase();this.logger_("KeyStatus '".concat(n,"' with key ID ").concat(s," added to the keyStatusMap")),this.keyStatusMap_.set(s,n)}updatePlaylistByKeyStatus(t,n){this.addKeyStatus_(t,n),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const Lue=(e,t,n)=>i=>{const r=e.main.playlists[t],s=dT(r),a=Jm(r);if(typeof i>"u")return a;i?delete r.disabled:r.disabled=!0;const o={renditionInfo:{id:t,bandwidth:r.attributes.BANDWIDTH,resolution:r.attributes.RESOLUTION,codecs:r.attributes.CODECS},cause:"fast-quality"};return i!==a&&!s&&(i?(n(r),e.trigger({type:"renditionenabled",metadata:o})):e.trigger({type:"renditiondisabled",metadata:o})),i};class Mue{constructor(t,n,i){const{playlistController_:r}=t,s=r.fastQualityChange_.bind(r);if(n.attributes){const a=n.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=Zc(r.main(),n),this.playlist=n,this.id=i,this.enabled=Lue(t.playlists,n.id,s)}}const Nue=function(e){e.representations=()=>{const t=e.playlistController_.main(),n=Xd(t)?e.playlistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter(i=>!dT(i)).map((i,r)=>new Mue(e,i,i.id)):[]}},tw=["seeking","seeked","pause","playing","error"];class Bue extends Te.EventTarget{constructor(t){super(),this.playlistController_=t.playlistController,this.tech_=t.tech,this.seekable=t.seekable,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=t.liveRangeSafeTimeDelta,this.media=t.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=br("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),r=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},a["".concat(c,"SegmentLoader_")].on("appendsdone",l[c].updateend),a["".concat(c,"SegmentLoader_")].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(d=>{a["".concat(d,"SegmentLoader_")][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",r),this.tech_.on(tw,s),this.tech_.on("canplay",i),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",r),this.tech_.off(tw,s),this.tech_.off("canplay",i),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(c=>{a["".concat(c,"SegmentLoader_")].off("appendsdone",l[c].updateend),a["".concat(c,"SegmentLoader_")].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&oe.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&oe.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=oe.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(t){const n=this.playlistController_["".concat(t,"SegmentLoader_")];this["".concat(t,"StalledDownloads_")]>0&&this.logger_("resetting possible stalled download count for ".concat(t," loader")),this["".concat(t,"StalledDownloads_")]=0,this["".concat(t,"Buffered_")]=n.buffered_()}checkSegmentDownloads_(t){const n=this.playlistController_,i=n["".concat(t,"SegmentLoader_")],r=i.buffered_(),s=Aoe(this["".concat(t,"Buffered_")],r);if(this["".concat(t,"Buffered_")]=r,s){const a={bufferedRanges:r};n.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(t);return}this["".concat(t,"StalledDownloads_")]++,this.logger_("found #".concat(this["".concat(t,"StalledDownloads_")]," ").concat(t," appends that did not increase buffer (possible stalled download)"),{playlistId:i.playlist_&&i.playlist_.id,buffered:Ro(r)}),!(this["".concat(t,"StalledDownloads_")]<10)&&(this.logger_("".concat(t," loader stalled download exclusion")),this.resetSegmentDownloads_(t),this.tech_.trigger({type:"usage",name:"vhs-".concat(t,"-download-exclusion")}),t!=="subtitle"&&n.excludePlaylist({error:{message:"Excessive ".concat(t," segment downloading detected.")},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const t=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===t&&(!n.length||t+_s>=n.end(n.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&t===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(t===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Kn([this.lastRecordedTime,t]));const i={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:i}),this.consecutiveUpdates=0,this.lastRecordedTime=t}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const n=this.seekable(),i=this.tech_.currentTime(),r=this.afterSeekableWindow_(n,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(r&&(s=n.end(n.length-1)),this.beforeSeekableWindow_(n,i)){const m=n.start(0);s=m+(m===n.end(0)?0:_s)}if(typeof s<"u")return this.logger_("Trying to seek outside of seekable at time ".concat(i," with ")+"seekable range ".concat(UR(n),". Seeking to ")+"".concat(s,".")),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),l=a.audioBuffer?a.audioBuffered():null,u=a.videoBuffer?a.videoBuffered():null,c=this.media(),d=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-ys)*2,f=[l,u];for(let m=0;m<f.length;m++){if(!f[m])continue;if(uT(f[m],i)<d)return!1}const h=ch(o,i);return h.length===0?!1:(s=h.start(0)+_s,this.logger_("Buffered region starts (".concat(h.start(0),") ")+" just beyond seek point (".concat(i,"). Seeking to ").concat(s,".")),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const t=this.tech_.currentTime(),n=this.tech_.buffered(),i=Ml(n,t);if(i.length&&t+3<=i.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at ".concat(t," while inside a buffered region ")+"[".concat(i.start(0)," -> ").concat(i.end(0),"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const t=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(t,n)){const o=t.end(t.length-1);return this.logger_("Fell out of live window at time ".concat(n,". Seeking to ")+"live point (seekable end) ".concat(o)),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const i=this.tech_.vhs.playlistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=ch(r,n);return a.length>0?(this.logger_("Stopped at ".concat(n," and seeking to ").concat(a.start(0))),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(t,n,i,r=!1){if(!t.length)return!1;let s=t.end(t.length-1)+_s;const a=!i.endList,o=typeof i.partTargetDuration=="number";return a&&(o||r)&&(s=t.end(t.length-1)+i.targetDuration*3),n>s}beforeSeekableWindow_(t,n){return!!(t.length&&t.start(0)>0&&n<t.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:t,audioBuffered:n,currentTime:i}){if(!t)return;let r;if(t.length&&n.length){const s=Ml(t,i-3),a=Ml(t,i),o=Ml(n,i);o.length&&!a.length&&s.length&&(r={start:s.end(0),end:o.end(0)})}else ch(t,i).length||(r=this.gapFromVideoUnderflow_(t,i));return r?(this.logger_("Encountered a gap in video from ".concat(r.start," to ").concat(r.end,". ")+"Seeking to current time ".concat(i)),!0):!1}skipTheGap_(t){const n=this.tech_.buffered(),i=this.tech_.currentTime(),r=ch(n,i);if(this.resetTimeUpdate_(),r.length===0||i!==t)return;this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",t,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+ys);const s={gapInfo:{from:i,to:r.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(t,n){const i=_oe(t);for(let r=0;r<i.length;r++){const s=i.start(r),a=i.end(r);if(n-s<4&&n-s>2)return{start:s,end:a}}return null}}const Fue={errorInterval:30,getSource(e){const n=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return e(n)}},IL=function(e,t){let n=0,i=0;const r=Ut(Fue,t);e.ready(()=>{e.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){i&&e.currentTime(i)},a=function(c){c!=null&&(i=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",s),e.src(c),e.trigger({type:"usage",name:"vhs-error-reload"}),e.play())},o=function(){if(Date.now()-n<r.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!r.getSource||typeof r.getSource!="function"){Te.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),r.getSource.call(e,a)},l=function(){e.off("loadedmetadata",s),e.off("error",o),e.off("dispose",l)},u=function(c){l(),IL(e,c)};e.on("error",o),e.on("dispose",l),e.reloadSourceOnError=u},$ue=function(e){IL(this,e)};var PL="3.17.2",Uue="7.1.0",Vue="1.3.1",jue="7.2.0",Hue="4.0.2";const yn={PlaylistLoader:Nl,Playlist:Mi,utils:Yoe,STANDARD_PLAYLIST_SELECTOR:HC,INITIAL_PLAYLIST_SELECTOR:Mle,lastBandwidthSelector:HC,movingAverageBandwidthSelector:Rle,comparePlaylistBandwidth:pT,comparePlaylistResolution:Ple,xhr:sL()};Object.keys(zn).forEach(e=>{Object.defineProperty(yn,e,{get(){return Te.log.warn("using Vhs.".concat(e," is UNSAFE be sure you know what you are doing")),zn[e]},set(t){if(Te.log.warn("using Vhs.".concat(e," is UNSAFE be sure you know what you are doing")),typeof t!="number"||t<0){Te.log.warn("value of Vhs.".concat(e," must be greater than or equal to 0"));return}zn[e]=t}})});const RL="videojs-vhs",LL=function(e,t){const n=t.media();let i=-1;for(let r=0;r<e.length;r++)if(e[r].id===n.id){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})},zue=function(e,t){t.representations().forEach(n=>{e.addQualityLevel(n)}),LL(e,t.playlists)};yn.canPlaySource=function(){return Te.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const que=(e,t,n)=>{if(!e)return e;let i={};t&&t.attributes&&t.attributes.CODECS&&(i=Sd(ps(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);const r=pu(i.video),s=pu(i.audio),a={};for(const o in e)a[o]={},s&&(a[o].audioContentType=s),r&&(a[o].videoContentType=r),t.contentProtection&&t.contentProtection[o]&&t.contentProtection[o].pssh&&(a[o].pssh=t.contentProtection[o].pssh),typeof e[o]=="string"&&(a[o].url=e[o]);return Ut(e,a)},Wue=(e,t)=>e.reduce((n,i)=>{if(!i.contentProtection)return n;const r=t.reduce((s,a)=>{const o=i.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(r).length&&n.push(r),n},[]),Gue=({player:e,sourceKeySystems:t,audioMedia:n,mainPlaylists:i})=>{if(!e.eme.initializeMediaKeys)return Promise.resolve();const r=n?i.concat([n]):i,s=Wue(r,Object.keys(t)),a=[],o=[];return s.forEach(l=>{o.push(new Promise((u,c)=>{e.tech_.one("keysessioncreated",u)})),a.push(new Promise((u,c)=>{e.eme.initializeMediaKeys({keySystems:l},d=>{if(d){c(d);return}u()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},Yue=({player:e,sourceKeySystems:t,media:n,audioMedia:i})=>{const r=que(t,n,i);return r?(e.currentSource().keySystems=r,r&&!e.eme?(Te.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},ML=()=>{if(!oe.localStorage)return null;const e=oe.localStorage.getItem(RL);if(!e)return null;try{return JSON.parse(e)}catch(t){return null}},Kue=e=>{if(!oe.localStorage)return!1;let t=ML();t=t?Ut(t,e):e;try{oe.localStorage.setItem(RL,JSON.stringify(t))}catch(n){return!1}return t},Xue=e=>e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e,NL=(e,t)=>{e._requestCallbackSet||(e._requestCallbackSet=new Set),e._requestCallbackSet.add(t)},BL=(e,t)=>{e._responseCallbackSet||(e._responseCallbackSet=new Set),e._responseCallbackSet.add(t)},FL=(e,t)=>{e._requestCallbackSet&&(e._requestCallbackSet.delete(t),e._requestCallbackSet.size||delete e._requestCallbackSet)},$L=(e,t)=>{e._responseCallbackSet&&(e._responseCallbackSet.delete(t),e._responseCallbackSet.size||delete e._responseCallbackSet)};yn.supportsNativeHls=(function(){if(!Ve||!Ve.createElement)return!1;const e=Ve.createElement("video");return Te.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(n){return/maybe|probably/i.test(e.canPlayType(n))}):!1})();yn.supportsNativeDash=(function(){return!Ve||!Ve.createElement||!Te.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Ve.createElement("video").canPlayType("application/dash+xml"))})();yn.supportsTypeNatively=e=>e==="hls"?yn.supportsNativeHls:e==="dash"?yn.supportsNativeDash:!1;yn.isSupported=function(){return Te.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};yn.xhr.onRequest=function(e){NL(yn.xhr,e)};yn.xhr.onResponse=function(e){BL(yn.xhr,e)};yn.xhr.offRequest=function(e){FL(yn.xhr,e)};yn.xhr.offResponse=function(e){$L(yn.xhr,e)};const Que=Te.getComponent("Component");class UL extends Que{constructor(t,n,i){if(super(n,i.vhs),typeof i.initialBandwidth=="number"&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=br("VhsHandler"),n.options_&&n.options_.playerId){const r=Te.getPlayer(n.options_.playerId);this.player_=r}if(this.tech_=n,this.source_=t,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Ve,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],r=>{const s=Ve.fullscreenElement||Ve.webkitFullscreenElement||Ve.mozFullScreenElement||Ve.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(t={}){if(this.options_=Ut(this.options_,t),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.usePlayerObjectFit=this.options_.usePlayerObjectFit||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=typeof this.options_.useNetworkInformationApi<"u"?this.options_.useNetworkInformationApi:!0,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const i=ML();i&&i.bandwidth&&(this.options_.bandwidth=i.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),i&&i.throughput&&(this.options_.throughput=i.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=zn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===zn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","usePlayerObjectFit","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(i=>{typeof this.source_[i]<"u"&&(this.options_[i]=this.source_[i])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio,this.usePlayerObjectFit=this.options_.usePlayerObjectFit;const n=this.options_.customPixelRatio;typeof n=="number"&&n>=0&&(this.customPixelRatio=n)}setOptions(t={}){this.setOptions_(t)}src(t,n){if(!t)return;this.setOptions_(),this.options_.src=Xue(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=yn,this.options_.sourceType=oP(n),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new Rue(this.options_);const i=Ut({liveRangeSafeTimeDelta:_s},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new Bue(i),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=Te.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const r=this.options_.bufferBasedABR?yn.movingAverageBandwidthSelector(.55):yn.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=yn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=oe.navigator.connection||oe.navigator.mozConnection||oe.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&s>=o?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){Te.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Ro(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Ro(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&Kue({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{Nue(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=oe.URL.createObjectURL(this.playlistController_.mediaSource),(Te.browser.IS_ANY_SAFARI||Te.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const t=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),Gue({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const t=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=Yue({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});if(this.player_.tech_.on("keystatuschange",i=>{this.playlistController_.updatePlaylistByKeyStatus(i.keyId,i.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const t=Te.players[this.tech_.options_.playerId];!t||!t.qualityLevels||this.qualityLevels_||(this.qualityLevels_=t.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{zue(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{LL(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":PL,"mux.js":Uue,"mpd-parser":Vue,"m3u8-parser":jue,"aes-decrypter":Hue}}version(){return this.constructor.version()}canChangeType(){return wL.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(t){this.playlistController_.setCurrentTime(t)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&oe.URL.revokeObjectURL&&(oe.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(t,n){return tle({playlist:this.playlistController_.media(),time:t,callback:n})}seekToProgramTime(t,n,i=!0,r=2){return cL({programTime:t,playlist:this.playlistController_.media(),retryCount:r,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=t=>{NL(this.xhr,t)},this.xhr.onResponse=t=>{BL(this.xhr,t)},this.xhr.offRequest=t=>{FL(this.xhr,t)},this.xhr.offResponse=t=>{$L(this.xhr,t)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const t=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],n=["gapjumped","playedrangeschanged"];t.forEach(i=>{this.playlistController_.on(i,r=>{this.player_.trigger(kn({},r))})}),n.forEach(i=>{this.playbackWatcher_.on(i,r=>{this.player_.trigger(kn({},r))})})}}const Lp={name:"videojs-http-streaming",VERSION:PL,canHandleSource(e,t={}){const n=Ut(Te.options,t);return!n.vhs.experimentalUseMMS&&!Yc("avc1.4d400d,mp4a.40.2",!1)?!1:Lp.canPlayType(e.type,n)},handleSource(e,t,n={}){const i=Ut(Te.options,n);return t.vhs=new UL(e,t,i),t.vhs.xhr=sL(),t.vhs.setupXhrHooks_(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){const n=oP(e);if(!n)return"";const i=Lp.getOverrideNative(t);return!yn.supportsTypeNatively(n)||i?"maybe":""},getOverrideNative(e={}){const{vhs:t={}}=e,n=!(Te.browser.IS_ANY_SAFARI||Te.browser.IS_IOS),{overrideNative:i=n}=t;return i}},Jue=()=>Yc("avc1.4d400d,mp4a.40.2",!0);Jue()&&Te.getTech("Html5").registerSourceHandler(Lp,0);Te.VhsHandler=UL;Te.VhsSourceHandler=Lp;Te.Vhs=yn;Te.use||Te.registerComponent("Vhs",yn);Te.options.vhs=Te.options.vhs||{};(!Te.getPlugin||!Te.getPlugin("reloadSourceOnError"))&&Te.registerPlugin("reloadSourceOnError",$ue);function Kv(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}var Zue={src:{type:String,onChange:function(e,t){return e.src(t)}},width:{type:Number,onChange:function(e,t){return e.width(t)},onEvent:function(e,t){e.on(["playerresize","resize"],(function(){return t(e.width())}))}},height:{type:Number,onChange:function(e,t){return e.height(t)},onEvent:function(e,t){e.on(["playerresize","resize"],(function(){return t(e.height())}))}},preload:{type:String,onChange:function(e,t){return e.preload(t)}},loop:{type:Boolean,onChange:function(e,t){return e.loop(t)}},muted:{type:Boolean,onChange:function(e,t){return e.muted(t)},onEvent:function(e,t){return e.on("volumechange",(function(){return t(e.muted())}))}},poster:{type:String,onChange:function(e,t){return e.poster(t)},onEvent:function(e,t){return e.on("posterchange",(function(){return t(e.poster())}))}},controls:{type:Boolean,onChange:function(e,t){return e.controls(t)},onEvent:function(e,t){e.on("controlsenabled",(function(){return t(!0)})),e.on("controlsdisabled",(function(){return t(!1)}))}},autoplay:{type:[Boolean,String],onChange:function(e,t){return e.autoplay(t)}},crossorigin:{type:String,onChange:function(e,t){return e.crossOrigin(t)}},crossOrigin:{type:String,onChange:function(e,t){return e.crossOrigin(t)}},playsinline:{type:Boolean,onChange:function(e,t){return e.playsinline(t)}},playsInline:{type:Boolean,onChange:function(e,t){return e.playsinline(t)}}},ece={id:{type:String},sources:{type:Array,onChange:function(e,t){return e.src(t)}},tracks:{type:Array,onChange:function(e,t){for(var n=e.remoteTextTracks(),i=(n==null?void 0:n.length)||0;i--;)e.removeRemoteTextTrack(n[i]);e.ready((function(){t.forEach((function(r){return e.addRemoteTextTrack(r,!1)}))}))}},textTrackSettings:{type:Object,onChange:function(e,t){return e.textTrackSettings.options(t)}},language:{type:String,onChange:function(e,t){return e.language(t)},onEvent:function(e,t){return e.on("languagechange",(function(){return t(e.language())}))}},languages:{type:Object},playbackRates:{type:Array,onChange:function(e,t){return e.playbackRates(t!=null?t:[])},onEvent:function(e,t){e.on("playbackrateschange",(function(){return t(e.playbackRates())}))}},audioOnlyMode:{type:Boolean,onChange:function(e,t){return e.audioOnlyMode(t)}},audioPosterMode:{type:Boolean,onChange:function(e,t){return e.audioPosterMode(t)}},responsive:{type:Boolean,onChange:function(e,t){return e.responsive(t)}},breakpoints:{type:Object,onChange:function(e,t){return e.breakpoints(t)}},fluid:{type:Boolean,onChange:function(e,t){return e.fluid(t)}},fill:{type:Boolean,onChange:function(e,t){return e.fill(t)}},aspectRatio:{type:String,onChange:function(e,t){return e.aspectRatio(t)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(e,t){return e.disablePictureInPicture(t)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},tce={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(e,t){return e.controlBar.options(t)}}},nce={html5:{type:Object}},ice={volume:{type:Number,onChange:function(e,t){return e.volume(t)},onEvent:function(e,t){return e.on("volumechange",(function(){return t(e.volume())}))}},playbackRate:{type:Number,onChange:function(e,t){e.playbackRate(t),e.defaultPlaybackRate(t)},onEvent:function(e,t){e.on("ratechange",(function(){t(e.playbackRate())}))}},options:{type:Object}},xd=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Zue),ece),tce),nce),ice),mT=Object.keys(xd),VL=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),jL=Object.keys(VL);Object.values(VL);var Xv=function(e){var t,n=e==null?void 0:e.trim().replace(/\s+/g," ");return n&&(t=n.split(" "))!==null&&t!==void 0?t:[]},Qv={src:{getter:function(e){return e.src()}},currentSrc:{getter:function(e){return e.currentSrc()}},currentSource:{getter:function(e){return e.currentSource()}},width:{events:["resize","playerresize"],getter:function(e){return e.width()}},height:{events:["resize","playerresize"],getter:function(e){return e.height()}},currentWidth:{events:["resize","playerresize"],getter:function(e){return e.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(e){return e.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(e){return e.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(e){return e.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(e){return e.controls()}},volume:{events:["volumechange"],getter:function(e){return e.volume()}},muted:{events:["volumechange"],getter:function(e){return e.muted()}},poster:{events:["posterchange"],getter:function(e){return e.poster()}},seeking:{events:["seeking"],getter:function(e){return e.seeking()}},paused:{events:["pause","play","playing"],getter:function(e){return e.paused()}},ended:{events:["ended","play"],getter:function(e){return e.ended()}},currentTime:{events:["timeupdate"],getter:function(e){return e.currentTime()}},duration:{events:["durationchange"],getter:function(e){return e.duration()}},playbackRate:{events:["ratechange"],getter:function(e){return e.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(e){return e.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(e){return e.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(e){return e.isInPictureInPicture()}},isLive:{getter:function(e){var t;return(t=e.liveTracker)===null||t===void 0?void 0:t.isLive()}},language:{events:["languagechange"],getter:function(e){return e.language()}},userActive:{events:["useractive","userinactive"],getter:function(e){return e.userActive()}},readyState:{events:["loadeddata"],getter:function(e){return e.readyState()}},networkState:{events:["loadeddata","error"],getter:function(e){return e.networkState()}},error:{events:["loadeddata","error"],getter:function(e){return e.error()}},buffered:{events:["progress"],getter:function(e){return e.buffered()}},bufferedPercent:{events:["progress"],getter:function(e){return e.bufferedPercent()}},played:{events:["timeupdate"],getter:function(e){return e.played()}},seekable:{events:["progress","seeked"],getter:function(e){return e.seekable()}},audioTracks:{getter:function(e){var t;return(t=e.audioTracks)===null||t===void 0?void 0:t.call(e)}},videoTracks:{getter:function(e){var t;return(t=e.videoTracks)===null||t===void 0?void 0:t.call(e)}},textTracks:{getter:function(e){var t;return(t=e.textTracks)===null||t===void 0?void 0:t.call(e)}}},HL=mT.filter((function(e){return!!xd[e].onEvent})),zL=function(e){return"update:"+e},rce=jL.concat(HL.map(zL)),sce=mT.reduce((function(e,t){var n,i=xd[t],r=Array.isArray(i.type)?i.type:[i.type],s=Object.assign({},i);return r.includes(Boolean)&&(s.default=void 0),Object.assign(Object.assign({},e),((n={})[t]=s,n))}),{}),Rh=Se({name:"VueVideoPlayer",props:Object.assign(Object.assign({},sce),{class:[String,Object,Array]}),emits:rce.concat(["mounted"],["unmounted"]),setup:function(e,t){var n=kt(e),i=n.class,r=Kv(n,["class"]),s=Ts(!1),a=Ts(null),o=Ts(null),l=fe((function(){return o.value?o.value.player:null})),u=ie(null),c=fe((function(){return u.value?tu(u.value):null}));return Et((function(){var d,f=(function(h){var m,p=h.props,g=h.element,_=h.className,y=h.onEvent,b=p.options;b===void 0&&(b={});var A=Kv(p,["options"]),T={};Object.keys(A).forEach((function(B){var N=A[B];N!==void 0&&(T[B]=N)}));var k=Object.assign(Object.assign({},T),b),O=k.volume,I=k.playbackRate,w=Kv(k,["volume","playbackRate"]),D=Object.assign(Object.assign({},w),{playsinline:(m=w.playsinline)!==null&&m!==void 0?m:w.playsInline}),R=Te(g,D,(function(){var B=this;jL.forEach((function(N){B.on(N,(function($){y(N,$)}))})),w.src&&!w.sources&&this.src(w.src),O&&Number.isFinite(O)&&this.volume(O),I&&Number.isFinite(I)&&(this.defaultPlaybackRate(I),setTimeout((function(){B.playbackRate(I)}),0))}));_&&Xv(_).map((function(B){return R.addClass(B)}));var L=function(B){var N;(N=R.options)===null||N===void 0||N.call(R,B!=null?B:{})};return{player:R,dispose:function(){return R.dispose()},updateClassNames:function(B,N){Xv(B).map((function($){return R.removeClass($)})),Xv(N).map((function($){return R.addClass($)}))},updateOptions:L,updatePropOption:function(B,N){var $,F,V;L((($={})[B]=N,$)),(V=(F=xd[B])===null||F===void 0?void 0:F.onChange)===null||V===void 0||V.call(F,R,N)}}})({element:a.value,props:r,onEvent:t.emit});d={player:f.player,onEvent:t.emit},HL.forEach((function(h){var m,p;(p=(m=xd[h])===null||m===void 0?void 0:m.onEvent)===null||p===void 0||p.call(m,d.player,(function(g){d.onEvent(zL(h),g)}))})),De((function(){return e.class}),(function(h,m){var p=Vt(m),g=Vt(h);f.updateClassNames(p,g)}),{immediate:!0}),De((function(){return e.options}),(function(h){return f.updateOptions(h!=null?h:{})}),{deep:!0}),mT.filter((function(h){return h!=="options"})).forEach((function(h){De((function(){return e[h]}),(function(m){return f.updatePropOption(h,m)}),{deep:!0})})),(function(h,m){var p=Object.keys(Qv),g=p.reduce((function(y,b){var A;return Object.assign(Object.assign({},y),((A={})[b]=Qv[b].getter(h),A))}),{playing:!1,waiting:!1}),_=function(y,b){g[y]=b,m.onUpdate(y,b,Object.assign({},g))};h.on(["pause","ended"],(function(){_("playing",!1)})),h.on(["play","playing"],(function(){_("playing",!0)})),h.on("waiting",(function(){_("waiting",!0);var y=h.currentTime(),b=function(){y!==h.currentTime()&&(_("waiting",!1),h.off("timeupdate",b))};h.on("timeupdate",b)})),p.forEach((function(y){var b,A=Qv[y];h.on(["loadstart","loadedmetadata"].concat((b=A.events)!==null&&b!==void 0?b:[]),(function(){_(y,A.getter(h))}))})),m.onInit(Object.assign({},g))})(f.player,{onInit:function(h){u.value=h},onUpdate:function(h,m){u.value&&(u.value[h]=m)}}),o.value=f,s.value=!0,t.emit("mounted",{video:a.value,player:l.value,state:c.value})})),Oi((function(){o.value&&(o.value.dispose(),o.value=null,u.value=null,t.emit("unmounted"))})),function(){var d,f;return Es("div",{"data-vjs-player":"",class:Vt(i)},[Es("video",{class:["video-js","v-video-player"],ref:a}),s.value&&((f=(d=t.slots).default)===null||f===void 0?void 0:f.call(d,{video:a.value,player:l.value,state:c.value}))])}}}),ace=function(e){e.component("VideoPlayer",Rh),e.component(Rh.name,Rh)},oce={VideoPlayer:Rh,install:ace},lce="vue3-tree-org",uce="4.2.2";const on=function(e){return Object.prototype.toString.call(e)==="[object Object]"},hs=function(e){return typeof e=="string"},Zs=function(e){return typeof e=="number"},zi={print:(e,t,n)=>hs(t)||typeof n=="boolean",pretty:(e,t,n)=>hs(t)&&hs(e)||typeof n=="string",primary:(e,t)=>hs(e)||typeof t=="boolean",success:(e,t)=>hs(e)||typeof t=="boolean",info:(e,t)=>hs(e)||typeof t=="boolean",warning:(e,t)=>hs(e)||typeof t=="boolean",danger:(e,t)=>hs(e)||typeof t=="boolean"};function Cl(e="default"){let t="";switch(e){case"primary":t="#2d8cf0";break;case"success":t="#19be6b";break;case"info":t="#909399";break;case"warning":t="#ff9900";break;case"danger":t="#ff4d4f";break;case"default":t="#35495E";break;default:t=e}return t}zi.print=function(e,t="default",n=!1){return typeof e=="object"?(console.dir(e),!0):(n?console.log("%c ".concat(e," "),"background:".concat(Cl(t),"; padding: 2px; border-radius: 4px;color: #fff;")):console.log("%c ".concat(e," "),"color: ".concat(Cl(t),";")),!0)},zi.pretty=function(e,t,n="primary"){return console.log("%c ".concat(e," %c ").concat(t," %c"),"background:".concat(Cl(n),";border:1px solid ").concat(Cl(n),"; padding: 1px; border-radius: 4px 0 0 4px; color: #fff;"),"border:1px solid ".concat(Cl(n),"; padding: 1px; border-radius: 0 4px 4px 0; color: ").concat(Cl(n),";"),"background:transparent"),!0},zi.primary=function(e,t=!1){return this.print&&this.print(e,"primary",t),!0},zi.success=function(e,t=!1){return this.print&&this.print(e,"success",t),!0},zi.info=function(e,t=!1){return this.print&&this.print(e,"info",t),!0},zi.warning=function(e,t=!1){return this.print&&this.print(e,"warning",t),!0},zi.danger=function(e,t=!1){return this.print&&this.print(e,"danger",t),!0};var cce={async install(e){e.config.globalProperties.$log=zi,zi.pretty("["+lce+"] "+uce,"success")}};const Bl=(function(){let e=!1;return{get:()=>e,set:t=>{e=t}}})(),qL=function(e,t,n){const{id:i,children:r}=t;if(e[i]===n)return e;if(Array.isArray(e[r])){const s=e[r];for(let a=0,o=s.length;a<o;a++){const l=s[a],u=qL(l,t,n);if(u)return u}}},dce=function(e,t){const{parenNode:n,onlyOneNode:i,cloneNodeDrag:r}=t;if(n.value){const{keys:s}=t,{id:a,pid:o,children:l}=s,u=n.value.$$data,c=JSON.parse(JSON.stringify(e.$$data));r?((function(d,f,h){const{children:m}=f;if(on(d))p(d);else if(Array.isArray(d))for(let g=0,_=d.length;g<_;g++)p(d[g]);function p(g){if(h(g),Array.isArray(g[m])){const _=g[m];for(let y=0,b=_.length;y<b;y++)p(_[y])}}})(c,s,(function(d){typeof d[a]=="string"&&d[a].indexOf("clone-node")!==-1&&(d[a]="clone-node-".concat(d[a]))})),i&&Array.isArray(c[l])&&(c[l]=[]),c[s.pid]=u[s.id],u[l]?u[l].push(c):u[l]=[c]):((function(d,f){const{keys:h,data:m,onlyOneNode:p}=f,{id:g,pid:_,children:y}=h,b=qL(m,h,d[_]),A=b[y];let T;for(let O=0,I=A.length;O<I;O++)if(A[O][g]===d[g]){A.splice(O,1),T=O;break}const k=d[y];p&&T!==void 0&&k&&(d[y]=[],k.forEach((O=>{O[_]=b[g]})),b[y].splice(T,0,...k))})(c,t),c[o]=u[a],u[l]?u[l].push(c):u[l]=[].concat(c))}},WL={beforeMount(e,t){const{l:n,t:i}=t.modifiers,{drag:r,dragData:s,node:a,emit:o,beforeDragEnd:l,initNodes:u}=t.value,{value:c}=t,d={...s};e.addEventListener("mousedown",(function(T){const k=T.target;if(r===!1||T.button!==0||a.focused||a.$$data.noDragging||k.className.indexOf("tree-org-node-btn")>-1)return!1;(function(O){O.stopPropagation(),p=O.screenX,g=O.screenY,h=0,d.contextmenu.value=!1;const{keys:I,onlyOneNode:w}=d;if(w){const{children:D}=I,R={...a.$$data};R[D]=[],d.cloneData.value=u(R)}else d.cloneData.value=u(a.$$data)})(T),document.addEventListener("mousemove",_),document.addEventListener("mouseup",y),A("start")}));let f,h=0,m=!1,p=0,g=0;function _(T){return T.preventDefault(),!(Math.abs(T.screenX-p)<5&&Math.abs(T.screenY-g)<5)&&(m||(m=!0,(function(k){Bl.set(!0),d.nodeMoving.value=!0,a.moving=!0;let O=e;for(;!O.classList.contains("tree-org-node");)h+=O.offsetLeft,O=O.offsetParent;h+=2,f=document.querySelector("#clone-tree-org"),f&&(f.style.width="".concat(O.clientWidth,"px"),f.style.opacity="0.8",f.style.left=k.clientX-h+"px",f.style.top=k.clientY+2+"px")})(T)),n&&i&&c?(f&&(f.style.left=T.clientX-h+"px",f.style.top=T.clientY+2+"px"),void A("move")):n&&c?(e.style.left=T.clientX-h+"px",void A("move")):void(i&&c&&(e.style.top=T.clientY+"px",A("move"))))}function y(T){if(document.removeEventListener("mousemove",_),document.removeEventListener("mouseup",y),m){if(typeof l=="function"){const k=l(a,d.parenNode.value);k&&k.then?k.then((()=>{b(T)}),(()=>{})):k!==!1&&b(T)}else b(T);m=!1,f=null,a.moving=!1,d.nodeMoving.value=!1,setTimeout((()=>{Bl.set(!1)}),200)}}function b(T){const k=document.querySelector(".tree-org-node__moving");if(k&&k.contains(T.target))return A("end"),!1;dce(a,d),A("end")}function A(T){T!=="start"?T!=="move"?T==="end"&&o("on-node-drag-end",a,d.parenNode.value):o("on-node-drag",a):o("on-node-drag-start",a)}}},Jv={onClick:"onNodeClick",onDblclick:"onNodeDblclick",onContextmenu:"onNodeContextmenu",onMouseenter:"onNodeMouseenter",onMouseleave:"onNodeMouseleave"};function fce(e,t){if(typeof e=="function")return function(n){n.target.className.indexOf("org-tree-node-btn")>-1||e(n,t)}}const GL=(e,t,n)=>!(Array.isArray(e[t])&&e[t].length>0)&&!n||e.isLeaf,YL=(e,t,n)=>{const{attrs:i}=n,r=["tree-org-node"],s=[],{expand:a,children:o,id:l}=t;return GL(t,"children",i.lazy)?r.push("is-leaf"):i.collapsable&&!a&&r.push("collapsed"),t.moving&&r.push("tree-org-node__moving"),s.push(hce(e,t,n)),i.collapsable&&!a||s.push(pce(e,o,n)),un(e("div",{class:r,key:l},s),[[On,!t.hidden]])},hce=(e,t,n)=>{const{attrs:i}=n,r=i.props,s=i.renderContent,{label:a}=t,o=[];if(n.slots.default)o.push(n.slots.default({node:t}));else if(typeof s=="function"){zi.warning("scoped-slot header is easier to use. We recommend users to use scoped-slot header.");const T=s(e,t);T&&o.push(T)}else o.push(e("div",{class:"tree-org-node__text"},a));i.collapsable&&!GL(t,"children",i.lazy)&&o.push(((T,k,O)=>{const{attrs:I}=O,w=I.onOnExpand,D=["tree-org-node__expand"];k.expand&&D.push("expanded");const R=[];return O.slots.expand?R.push(O.slots.expand({node:k})):R.push(T("span",{class:"tree-org-node__expand-btn"})),T("span",{class:D,onMousedown:L=>{L.stopPropagation()},onDblclick:L=>{L.stopPropagation()},onClick:L=>{L.stopPropagation(),w&&w(L,k)}},R)})(e,t,n));const l=["tree-org-node__inner"];let{labelStyle:u,labelClassName:c,selectedClassName:d,selectedKey:f}=i;typeof c=="function"&&(c=c(t)),c&&l.push(c),t.className&&l.push(t.className),typeof d=="function"&&(d=d(t)),f!==void 0&&(f=Array.isArray(f)?f:[f]),d&&f&&f.includes(t.id)&&l.push(d);const h=["tree-org-node__content"];t.$$root&&h.push("is-root_".concat(i.suffix)),t.label||h.push("is-empty"),t.$$focused&&h.push("is-edit");const m=Uh("nodedrag"),p=[];i.vNodedrag&&m&&!t.$$root&&p.push([m,Object.assign({node:t},i.vNodedrag),"",{l:!0,t:!0}]);const g={};for(const T in Jv)if(Object.prototype.hasOwnProperty.call(Jv,T)){const k=i[Jv[T]];k&&(g[T]=fce(k,t))}const _=i.onNodeFocus,y=i.onNodeBlur,b=Uh("focus"),A=[[On,t.$$focused]];return b&&A.push([b,t.$$focused]),e("div",{class:h},[un(e("div",{class:l,style:t.style?t.style:u,...g},o),p),un(e("textarea",{class:"tree-org-node__textarea",placeholder:"",value:t.label,onFocus:T=>{_&&_(T,t.$$data,t)},onInput:T=>{t.label=T.target.value},onBlur:T=>{t.$$data.focused!==void 0&&(t.$$data.focused=!1),t.$$data[r.label]=T.target.value,t.$$focused=!1,y&&y(T,t.$$data,t)},onClick:T=>T.stopPropagation()}),A)])},pce=(e,t,n)=>{if(Array.isArray(t)&&t.length){const i=t.filter((r=>!r.$$hidden)).map((r=>YL(e,r,n)));return e("div",{class:"tree-org-node__children"},i)}return""},gT=(e,t)=>e.data&&Object.keys(e.data).length!==0?(e.data.$$root=!e.isClone,YL(Es,e.data,t)):"";gT.directives={focus:{mounted(e,{value:t}){t&&e.focus()},updated(e,{value:t}){t&&e.focus()}},nodedrag:WL};var Hy=Se({props:{scale:String,tools:Object},setup(e,{emit:t}){const n=ie(!1),i=ie(!1);function r(l){i.value=!i.value,t("onFullscreen",l)}function s(){document.isFullScreen||document.mozIsFullScreen||document.webkitIsFullScreen||!i.value||r("esc")}const a=fe((()=>n.value?"":"")),o=fe((()=>i.value?"":""));return Et((()=>{window.addEventListener("resize",s)})),Oi((()=>{window.removeEventListener("resize",s)})),{expanded:n,fullscreen:i,expandTitle:a,fullTiltle:o,handleExpand:function(){n.value=!n.value,t("onExpand")},handleScale:function(l){l==="out"?t("onScale",.1):l==="in"?t("onScale",-.1):t("onRestore")},handleFullscreen:r}}});const mce={class:"zm-tree-handle"},gce={key:0,class:"zm-tree-percent"},vce=["title"],yce={class:"zm-tree-svg"},_ce=[dt("span",{class:"zm-tree-icon"},"+",-1)],bce=[dt("span",{class:"zm-tree-icon"},"-",-1)],Tce=[dt("span",{class:"zm-tree-restore"},null,-1)],Ace=["title"],Sce={class:"zm-tree-svg"};function nw(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Zv(e,t,n,i=1){return{deltaX:Math.round(t/i/e[0])*e[0],deltaY:Math.round(n/i/e[1])*e[1]}}function wl(e,t,n){return e<t?t:n<e?n:e}Hy.render=function(e,t,n,i,r,s){return je(),ot("div",mce,[e.tools.scale?(je(),ot("div",gce,Sn(e.scale),1)):zt("v-if",!0),e.tools.expand?(je(),ot("div",{key:1,onClick:t[0]||(t[0]=(...a)=>e.handleExpand&&e.handleExpand(...a)),title:e.expandTitle,class:"zm-tree-handle-item"},[dt("span",yce,[dt("i",{class:Vt(["treefont",e.expanded?"icon-collapse":"icon-expand"])},null,2)])],8,vce)):zt("v-if",!0),e.tools.zoom?(je(),ot("div",{key:2,onClick:t[1]||(t[1]=a=>e.handleScale("out")),title:"",class:"zm-tree-handle-item zoom-out"},_ce)):zt("v-if",!0),e.tools.zoom?(je(),ot("div",{key:3,onClick:t[2]||(t[2]=a=>e.handleScale("in")),title:"",class:"zm-tree-handle-item zoom-in"},bce)):zt("v-if",!0),e.tools.restore?(je(),ot("div",{key:4,onClick:t[3]||(t[3]=a=>e.handleScale("restore")),title:"",class:"zm-tree-handle-item"},Tce)):zt("v-if",!0),e.tools.fullscreen?(je(),ot("div",{key:5,onClick:t[4]||(t[4]=(...a)=>e.handleFullscreen&&e.handleFullscreen(...a)),title:e.fullTiltle,class:"zm-tree-handle-item"},[dt("span",Sce,[dt("i",{class:Vt(["treefont",e.fullscreen?"icon-unfullscreen":"icon-fullscreen"])},null,2)])],8,Ace)):zt("v-if",!0)])},Hy.__file="src/components/tools/tools.vue";const Dc=function(e,t,n,i=!1){e&&t&&n&&e.addEventListener(t,n,i)},Eo=function(e,t,n,i=!1){e&&t&&n&&e.removeEventListener(t,n,i)},xce=(e,{emit:t},n)=>{const i={start:"mousedown",move:"mousemove",stop:"mouseup"},r={start:"touchstart",move:"touchmove",stop:"touchend"},s={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},a={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let o=i;const l=ie(e.x),u=ie(e.y),c=ie(e.z),d=ie(e.active),f=ie(!1),h=ie(0),m=ie(0),p=ie(0),g=ie(0),_=ie(0),y=ie(0);let b={},A={};function T(){b={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},A={minLeft:-1/0,maxLeft:1/0,minRight:-1/0,maxRight:1/0,minTop:-1/0,maxTop:1/0,minBottom:-1/0,maxBottom:1/0}}function k(){if(e.parent){const[N,$]=O();_.value=N||0,y.value=$||0}}function O(){if(e.parent&&n.eleRef.value){const N=window.getComputedStyle(n.eleRef.value.parentNode,null);return[parseInt(N.getPropertyValue("width"),10),parseInt(N.getPropertyValue("height"),10)]}return[0,0]}function I(N){if(N instanceof MouseEvent&&N.which!==1)return;const $=N.target||N.srcElement;if($&&n.eleRef.value&&n.eleRef.value.contains($)){if(e.dragCancel&&(function(F,V,U){let Y=F;const ne=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find((z=>Y&&nw(Y[z])))||"";if(!nw(Y[ne]))return!1;do{if(Y[ne](V))return!0;if(Y===U)return!1;Y=Y.parentNode}while(Y);return!1})($,e.dragCancel,n.eleRef.value))return void(f.value=!1);d.value||(d.value=!0,t("activated"),t("update:active",!0)),e.draggable&&(f.value=!0),N instanceof MouseEvent?(b.mouseX=N.pageX,b.mouseY=N.pageY):(b.mouseX=N.touches[0].pageX,b.mouseY=N.touches[0].pageY),b.left=l.value,b.right=h.value,b.top=u.value,b.bottom=m.value,e.parent&&(A=w()),Dc(document.documentElement,o.move,R),Dc(document.documentElement,o.stop,L)}}function w(){const N=e.grid;return{minLeft:l.value%N[0],maxLeft:Math.floor((_.value-p.value-l.value)/N[0])*N[0]+l.value,minRight:h.value%N[0],maxRight:Math.floor((_.value-p.value-h.value)/N[0])*N[0]+h.value,minTop:u.value%N[1],maxTop:Math.floor((y.value-g.value-u.value)/N[1])*N[1]+u.value,minBottom:m.value%N[1],maxBottom:Math.floor((y.value-g.value-m.value)/N[1])*N[1]+m.value}}function D(N){const $=N.target||N.srcElement;n.eleRef.value&&!n.eleRef.value.contains($)&&d.value&&!e.preventDeactivation&&(d.value=!1,t("deactivated"),t("update:active",!1))}function R(N){f.value&&(function($){const F=e.axis,V=e.grid;let U=0,Y=0;$ instanceof MouseEvent?(U=$.pageX,Y=$.pageY):(U=$.touches[0].pageX,Y=$.touches[0].pageY);const ne=F&&F!=="y"?b.mouseX-U:0,z=F&&F!=="x"?b.mouseY-Y:0,{deltaX:W,deltaY:le}=Zv(V,ne,z,e.scale),ye=wl(b.left-W,A.minLeft,A.maxLeft),ae=wl(b.top-le,A.minTop,A.maxTop),ke=wl(b.right+W,A.minRight,A.maxRight),q=wl(b.bottom+le,A.minBottom,A.maxBottom);l.value=ye,u.value=ae,h.value=ke,m.value=q,t("dragging",l.value,u.value)})(N)}function L(){T(),f.value&&(f.value=!1,t("dragstop",l.value,u.value))}jp((()=>{T()})),Et((()=>{!e.enableNativeDrag&&n.eleRef.value&&(n.eleRef.value.ondragstart=()=>!1);const[N,$]=O();if(_.value=N,y.value=$,n.eleRef.value){const[F,V]=(function(U){const Y=window.getComputedStyle(U);return[parseFloat(Y.getPropertyValue("width")),parseFloat(Y.getPropertyValue("height"))]})(n.eleRef.value);p.value=F,g.value=V,h.value=_.value-p.value-l.value,m.value=y.value-g.value-u.value}Dc(document.documentElement,"mousedown",D),Dc(document.documentElement,"touchend touchcancel",D),Dc(window,"resize",k)})),Xr((()=>{Eo(document.documentElement,"mousedown",D),Eo(document.documentElement,"touchstart",L),Eo(document.documentElement,"mousemove",R),Eo(document.documentElement,"touchmove",R),Eo(document.documentElement,"mouseup",L),Eo(document.documentElement,"touchend touchcancel",D),Eo(window,"resize",k)}));const B=fe((()=>({transform:"translate(".concat(l.value,"px, ").concat(u.value,"px)"),zIndex:c.value,...f.value&&e.disableUserSelect?s:a})));return De((()=>e.active),(N=>{d.value=N,t(N?"activated":"deactivated")})),De((()=>e.z),(N=>{(N>=0||N==="auto")&&(c.value=N)})),De((()=>e.x),(N=>{f.value||(e.parent&&(A=w()),(function($){const{deltaX:F}=Zv(e.grid,$,u.value,e.scale),V=wl(F,A.minLeft,A.maxLeft);l.value=V,h.value=_.value-p.value-V})(N))})),De((()=>e.y),(N=>{f.value||(e.parent&&(A=w()),(function($){const{deltaY:F}=Zv(e.grid,l.value,$,e.scale),V=wl(F,A.minTop,A.maxTop);u.value=V,m.value=y.value-g.value-V})(N))})),{enabled:d,dragging:f,style:B,resetBoundsAndMouseState:T,elementTouchDown:function(N){o=r,I(N)},elementMouseDown:function(N){o=i,I(N)}}},zy=Symbol("wrapper");function Ece(e,t){if((n=e)===null||typeof n!="object"||e.__elPropsReservedKey)return e;var n;const{values:i,required:r,default:s,type:a,validator:o}=e,l=i||o?u=>{let c=!1,d=[];if(i&&(d=[...i,s],c=c||d.includes(u)),o&&(c=c||o(u)),!c&&d.length>0){const f=[...new Set(d)].map((h=>JSON.stringify(h))).join(", ");O3("Invalid prop: validation failed".concat(t?' for prop "'.concat(t,'"'):"",". Expected one of [").concat(f,"], got value ").concat(JSON.stringify(u),"."))}return c}:void 0;return{type:typeof a=="object"&&Object.getOwnPropertySymbols(a).includes(zy)?a[zy]:a,validator:l,__elPropsReservedKey:!0,default:s,required:!!r}}const Zm=e=>(function(t){let n=-1;const i=t?t.length:0,r={};for(;++n<i;){const s=t[n];r[s[0]]=s[1]}return r})(Object.entries(e).map((([t,n])=>[t,Ece(n,t)]))),Yo=e=>({[zy]:e});var qy=Se({replace:!0,name:"Draggable",props:Zm({className:{type:String,default:"zm-draggable"},classNameDraggable:{type:String,default:"draggable"},classNameDragging:{type:String,default:"dragging"},classNameActive:{type:String,default:"active"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:e=>typeof e=="string"?e==="auto":e>=0},dragCancel:String,axis:{type:String,default:"both",validator:e=>["x","y","both"].includes(e)},grid:{type:Array,default:()=>[1,1]},parent:{type:Boolean,default:!1},scale:{type:Number,default:1,validator:e=>e>0}}),emits:{activated:()=>!0,deactivated:()=>!0,dragging:(e,t)=>Zs(e)&&Zs(t),dragstop:(e,t)=>Zs(e)&&Zs(t),"update:active":e=>typeof e=="boolean"},setup(e,t){const n=ie(),i=xce(e,t,{eleRef:n});return{top,eleRef:n,...i}}});qy.render=function(e,t,n,i,r,s){return je(),ot("div",{style:xs(e.style),class:Vt([{[e.classNameActive]:e.enabled,[e.classNameDragging]:e.dragging,[e.classNameDraggable]:e.draggable},e.className]),ref:"eleRef",onMousedown:t[0]||(t[0]=(...a)=>e.elementMouseDown&&e.elementMouseDown(...a)),onTouchstart:t[1]||(t[1]=(...a)=>e.elementTouchDown&&e.elementTouchDown(...a))},[oi(e.$slots,"default")],38)},qy.__file="src/components/draggable/src/draggable.vue";var Wy=Se({components:{TreeOrgNode:gT},props:Zm({data:{type:Object,required:!0},props:{type:Yo(Object)},modelValue:Boolean,horizontal:Boolean,selectedKey:String,collapsable:Boolean,renderContent:Function,labelStyle:Object,labelClassName:{type:[Function,String]}}),setup:(e,t)=>({defaultSlot:!!t.slots.default,expandSlot:!!t.slots.expand})});Wy.render=function(e,t,n,i,r,s){const a=Kt("tree-org-node");return je(),wt(va,{to:"body"},[un(dt("div",{id:"clone-tree-org",class:Vt(["clone-tree-org tree-org",{horizontal:e.horizontal,collapsable:e.collapsable}])},[x(a,{data:e.data,props:e.props,isClone:!1,horizontal:e.horizontal,labelStyle:e.labelStyle,collapsable:e.collapsable,renderContent:e.renderContent,labelClassName:e.labelClassName},Vh({_:2},[e.defaultSlot?{name:"default",fn:Ze((({node:o})=>[oi(e.$slots,"default",{node:o})]))}:void 0,e.expandSlot?{name:"expand",fn:Ze((({node:o})=>[oi(e.$slots,"expand",{node:o})]))}:void 0]),1032,["data","props","horizontal","labelStyle","collapsable","renderContent","labelClassName"])],2),[[On,e.modelValue]])])},Wy.__file="src/components/clone-org/clone-org.vue";const Cce=(e,{emit:t},n)=>{const i=ie("");function r(c,d,f){if(c[d.id]===f)return c;if(Array.isArray(c[d.children])){const h=c[d.children];for(let m=0,p=h.length;m<p;m++){const g=r(h[m],d,f);if(g)return g}}}function s(){const{props:c,data:d,node:f}=e;if(e.nodeDelete)return void e.nodeDelete(f.$$data);if(f.$$root)return void zi.pretty("[] ","","danger");const{id:h,children:m}=c,p=r(d,c,f.pid);if(p){const g=p[m];for(let _=0,y=g.length;_<y;_++)if(g[_][h]===f.id){g.splice(_,1),t("onNodeDelete",f.$$data,f);break}}}function a(){const{nodeEdit:c,node:d}=e;c?c(d.$$data):(d.$$focused=!0,t("onNodeFocus",d.$$data))}function o(c){if(e.modelValue){if(n.eleRef.value&&n.eleRef.value.contains(c.target))return!1;t("update:modelValue",!1)}}const l=fe((()=>({left:"".concat(e.x,"px"),top:"".concat(e.y,"px")}))),u=fe((()=>!e.disabled&&!e.node.disabled));return Et((()=>{document.addEventListener("mousedown",o)})),Xr((()=>{document.removeEventListener("mousedown",o)})),{position:l,editable:u,handleMenu:function(c){const d=c.target;if(d.className==="zm-tree-menu-item"){const f=d.getAttribute("action");switch(f){case"copy":(function(){if(e.nodeCopy)return void e.nodeCopy(e.node.$$data);i.value=e.node.label,Ke((()=>{n.inputRef&&n.inputRef.value&&(n.inputRef&&n.inputRef.value.select(),navigator.clipboard.writeText(i.value).then((function(){zi.pretty("[] ","","success")}),(function(){zi.pretty("[] ","","danger")})),t("onNodeCopy",i.value))}))})();break;case"add":(function(){if(e.nodeAdd)return void e.nodeAdd(e.node.$$data);const{id:h,pid:m,label:p,expand:g,children:_}=e.props,{node:y}=e,b={[h]:String(new Date().getTime()),[m]:y.id,[p]:"",[g]:!1,[_]:[],newNode:!0,focused:!0};Array.isArray(y.children)?y.$$data[_].push(b):y.$$data[_]=[b],t("onNodeFocus",b)})();break;case"edit":a();break;case"delete":s()}t("contextmenu",{command:f,node:e.node,data:e.node.$$data}),t("update:modelValue",!1)}},handleEdit:a,handleClose:o,afterEnter:function(){t("opened")},afterLeave:function(){t("closed")}}};var Gy=Se({name:"Contextmenu",props:Zm({modelValue:{type:Boolean,required:!0},data:{type:Object,required:!0},node:{type:Yo(Object),required:!0},props:{type:Yo(Object)},x:Number,y:Number,menus:{type:Yo(Array)},nodeAdd:Function,nodeDelete:Function,nodeEdit:Function,nodeCopy:Function,disabled:Boolean}),emits:{onNodeDelete:(e,t)=>on(e)&&on(t),onNodeCopy:e=>hs(e),contextmenu:e=>on(e),onNodeFocus:e=>on(e),opened:()=>!0,closed:()=>!0,"update:modelValue":e=>typeof e=="boolean"},setup(e,t){const n=ie(),i=ie();return{eleRef:i,inputRef:n,copyText:ie(""),oldData:vt({}),...Cce(e,t,{inputRef:n,eleRef:i})}}});const wce=["action"];Gy.render=function(e,t,n,i,r,s){return je(),wt(va,{to:"body"},[x(Od,{name:"dialog-fade",onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,persisted:""},{default:Ze((()=>[un(dt("div",{style:xs(e.position),onClick:t[1]||(t[1]=(...a)=>e.handleMenu&&e.handleMenu(...a)),ref:"eleRef",class:"zm-tree-contextmenu"},[dt("ul",null,[(je(!0),ot(ct,null,Pr(e.menus,(a=>(je(),ot(ct,null,[e.editable||!["add","edit","delete"].includes(a.command)?(je(),ot("li",{class:"zm-tree-menu-item",action:a.command,key:a.command},Sn(a.name),9,wce)):zt("v-if",!0)],64)))),256))]),un(dt("textarea",{class:"copy-textarea",ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=a=>e.copyText=a)},null,512),[[tF,e.copyText]])],4),[[On,e.modelValue]])])),_:1},8,["onAfterEnter","onAfterLeave"])])},Gy.__file="src/components/contextmenu/src/contextmenu.vue";const Dce=[{name:"",command:"copy"},{name:"",command:"add"},{name:"",command:"edit"},{name:"",command:"delete"}],kce=Zm({data:{type:Object,required:!0},center:Boolean,props:{type:Yo(Object),default:()=>({id:"id",pid:"pid",label:"label",expand:"expand",children:"children"})},toolBar:{type:[Object,Boolean],default:()=>({expand:!0,scale:!0,zoom:!0,restore:!0,fullscreen:!0})},disabled:{type:Boolean,default:!1},scalable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},draggableOnNode:{type:Boolean,default:!1},nodeDraggable:{type:Boolean,default:!0},cloneNodeDrag:{type:Boolean,default:!0},onlyOneNode:{type:Boolean,default:!0},clickDelay:{type:Number,default:260},lazy:Boolean,load:{type:Yo(Function)},defaultExpandLevel:Number,defaultExpandKeys:{type:Array,default:()=>[]},beforeDragEnd:Function,horizontal:Boolean,selectedKey:{type:[Array,String,Number]},collapsable:Boolean,renderContent:Function,labelStyle:Object,labelClassName:{type:[Function,String]},selectedClassName:{type:[Function,String]},defineMenus:{type:Yo([Array,Function]),default:()=>Dce},nodeAdd:Function,nodeDelete:Function,nodeEdit:Function,nodeCopy:Function,filterNodeMethod:Function}),Oce=(e,{emit:t},n)=>{const i=ie(0),r=ie(0),s=ie(!1);function a(z,W){const le=n.zoomRef.value,ye=n.treeRef.value;let ae=le.clientWidth/2;const ke=le.clientHeight/2;let q=le.clientHeight-ye.clientHeight,ve=le.clientWidth-ye.clientWidth;if(q>0&&(q=0),ve>0&&(ve=0),e.center){const X=(le.clientWidth-ye.clientWidth)/2;ve-=X,ae-=X}i.value=z>ae?ae:z<ve?ve:z,r.value=W<q?q:W>ke?ke:W}function o(z,W){a(z,W),setTimeout((()=>{Bl.set(!1)}),200),t("on-drag-stop",{x:z,y:W})}const l=ie(!1),u=vt({value:{}}),c=ie(!1),d=ie(0),f=ie(0),h=ie({}),m=ie([]),p=ie(1);function g(z){if(!e.scalable)return;const W=Number((Number(p.value)+z).toFixed(1));p.value=z>0?Math.min(3,W):Math.max(.3,W)}function _(z,W,le){if(s.value=!0,console.log(e.center,e.horizontal,z.offsetLeft,W),!e.center||e.horizontal){const ae=z.offsetLeft-W;i.value-=ae}const ye=z.offsetTop-le;r.value-=ye,a(i.value,r.value)}let y;const b=vt(Object.assign({id:"id",pid:"pid",label:"label",expand:"expand",children:"children",isLeaf:"isLeaf"},e.props)),A=ie(!1);function T(z){z.forEach((W=>{W.expand&&(W.expand=!1,F.delete(W.id)),W.children&&T(W.children)}))}const k=ie(!1);function O(z,W){Array.isArray(z)?z.forEach((le=>{W&&F.add(le.id),le.expand=W,W&&F.add(le.id),le.children&&O(le.children,W)})):(W&&F.add(z.id),z.expand=W,W&&F.add(z.id),z.children&&O(z.children,W))}function I(z){U.value=V(z)}const w=fe((()=>({width:100/p.value+"%",height:100/p.value+"%",transform:"scale(".concat(p.value,")")}))),D=fe((()=>"".concat(Math.round(100*p.value),"%"))),R=fe((()=>e.draggableOnNode&&!e.nodeDraggable?"":".tree-org-node__content:not(.is-root_".concat(ne,")>.tree-org-node__inner"))),L=fe((()=>k.value?"":"")),B=fe((()=>k.value?"":"")),N=ie({}),$=fe((()=>{const{cloneNodeDrag:z,onlyOneNode:W,data:le}=e;return{drag:e.nodeDraggable,dragData:{keys:b,nodeMoving:l,stopClick:Bl,parenNode:u,cloneNodeDrag:z,onlyOneNode:W,contextmenu:c,cloneData:N,data:le},beforeDragEnd:e.beforeDragEnd,initNodes:V,emit:t}}));De((()=>e.horizontal),(()=>{Ke((()=>{o(i.value,r.value)}))}));let F=new Set(e.defaultExpandKeys);function V(z){const{defaultExpandLevel:W=0}=e,le=(ye,ae)=>{const{id:ke,label:q,pid:ve,expand:X,children:Z,isLeaf:he}=b,H={};Object.keys(ye).map((Ce=>{["hidden","disabled","className","style"].includes(Ce)&&(H[Ce]=ye[Ce])}));const K=ye[Z],se=ae+1,_e=ye[X],Ae=ye[ke];return(_e||_e===void 0&&ae<W)&&F.add(Ae),{...H,id:Ae,label:ye[q],pid:ye[ve],expand:F.has(Ae),children:K?K.map((Ce=>le(Ce,se))):void 0,isLeaf:ye[he],$$level:ae,$$data:ye,$$focused:ye.focused||!1}};return le(z,0)}const U=ie(V(e.data));De((()=>e.data),((z,W)=>{z!==W&&(F=new Set(e.defaultExpandKeys)),I(e.data)}),{deep:!0});const Y=vt({visible:!0,data:{expand:!0,scale:!0,zoom:!0,restore:!0,fullscreen:!0}});jp((()=>{typeof e.toolBar=="object"?Object.assign(Y.data,e.toolBar):e.toolBar||(Y.visible=!1)}));const ne=(function(z){z=z||32;const W="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",le=W.length;let ye="";for(let ae=0;ae<z;ae++)ye+=W.charAt(Math.floor(Math.random()*le));return ye})(6);return{keys:b,left:i,top:r,menuX:d,menuY:f,suffix:ne,nodeMoving:l,zoomStyle:w,tools:Y,zoomPercent:D,dragCancel:R,expandTitle:L,fullTiltle:B,nodeargs:$,expanded:k,fullscreen:A,treeData:U,autoDragging:s,contextmenu:c,nodeMenus:m,menuData:h,cloneData:N,filter:function(z){const W=e.filterNodeMethod;if(!W)throw new Error("[Tree] filterNodeMethod is required when filter");const le=function(ye){const ae=ye.children||[];if(ae.forEach((ke=>{ke.$$hidden=!W.call(ke,z,ke),le(ke)})),ye.$$hidden&&ae.length){let ke=!0;ke=ae.some((q=>!q.$$hidden)),ye.$$hidden=!ke}z&&!ye.$$hidden&&ye.children&&(ye.expand=!0)};le(U.value)},setData:I,zoomWheel:function(z){e.scalable&&(z.preventDefault(),z.deltaY<0?g(.1):g(-.1),t("on-zoom",p.value))},onDrag:function(z,W){Bl.set(!0),s.value=!1,i.value=z,r.value=W,t("on-drag",{x:z,y:W})},onDragStop:o,expandChange:function(){k.value=!k.value,k.value||(F.clear(),Ke((()=>{o(i.value,r.value)}))),O(U.value,k.value),t("on-expand-all",k.value)},handleFullscreen:function(z){A.value=!A.value,z!=="esc"&&(A.value?(function(){const W=n.eleRef.value;W.requestFullscreen&&W.requestFullscreen()})():document.exitFullscreen&&document.exitFullscreen())},zoomOrgchart:g,restoreOrgchart:function(){p.value=1,i.value=0,r.value=0,t("on-restore")},handleExpand:function(z,W){z.stopPropagation();const le=document.querySelector(".is-root_".concat(ne));if(le){const ye=le.offsetLeft,ae=le.offsetTop;W.expand=!W.expand;let ke=!0;W.expand?(F.add(W.id),e.lazy&&e.load&&(ke=!1,(function(q,ve,X){ve(q,((Z,he)=>{const{children:H}=b;q.isLeaf=!Z.length,Z.length&&(q.$$data[H]=Z,he&&X())}))})(W,e.load,(()=>{Ke((()=>{_(le,ye,ae)}))})))):!W.expand&&W.children&&(F.delete(W.id),T(W.children)),Ke((()=>{ke&&_(le,ye,ae)})),t("on-expand",z,W.$$data,W)}},getExpandKeys:function(){return[...F]},setExpandKeys:function(z){F=new Set(z),I(e.data)},nodeMouseenter:function(z,W){return l.value&&(u.value=W),t("on-node-mouseenter",z,W.$$data,W),!0},nodeMouseleave:function(z,W){return l.value&&(u.value=null),t("on-node-mouseleave",z,W.$$data,W),!0},nodeContextmenu:function(z,W){z.stopPropagation(),z.preventDefault();const{defineMenus:le}=e;Array.isArray(le)?m.value=le:typeof le=="function"&&(m.value=le(z,W)||[]),c.value=!0,d.value=z.clientX,f.value=z.clientY,h.value=W},handleFocus:function(z,W,le){t("on-node-focus",z,W,le)},handleBlur:function(z,W,le){const{id:ye,label:ae}=b,ke=h.value.children||[];for(let q=ke.length;q>0;q--){const ve=ke[q-1];if(ve[ye]===""&&ve[ae]===""){ke.splice(q-1,1);break}}t("on-node-blur",z,W,le)},handleClick:function(z,W){Bl.get()||(clearTimeout(y),y=setTimeout((()=>{t("on-node-click",z,W.$$data,W)}),e.clickDelay))},handleDblclick:function(z,W){clearTimeout(y),t("on-node-dblclick",z,W.$$data,W)}}};var ko=Se({name:"vue3TreeOrg",components:{Tools:Hy,CloneOrg:Wy,Draggable:qy,Contextmenu:Gy,TreeOrgNode:gT},directives:{nodedrag:WL},props:kce,emits:{"on-drag":({x:e,y:t})=>Zs(e)&&Zs(t),"on-drag-stop":({x:e,y:t})=>Zs(e)&&Zs(t),"on-restore":()=>!0,"on-zoom":e=>Zs(e),"on-expand":(e,t,n)=>e instanceof MouseEvent&&on(n)&&on(t),"on-expand-all":e=>typeof e=="boolean","on-node-blur":(e,t,n)=>e instanceof FocusEvent&&on(n)&&on(t),"on-node-click":(e,t,n)=>e instanceof MouseEvent&&on(n)&&on(t),"on-node-dblclick":(e,t,n)=>e instanceof MouseEvent&&on(n)&&on(t),"on-node-mouseenter":(e,t,n)=>e instanceof MouseEvent&&on(n)&&on(t),"on-node-mouseleave":(e,t,n)=>e instanceof MouseEvent&&on(n)&&on(t),"on-contextmenu":e=>on(e),"on-node-copy":e=>hs(e),"on-node-delete":e=>on(e),"on-node-drag-start":e=>on(e),"on-node-drag":e=>on(e),"on-node-drag-end":(e,t)=>on(e)&&on(t),"on-node-focus":(e,t,n)=>e instanceof FocusEvent&&on(n)&&on(t)},setup(e,t){const n=!!t.slots.default,i=!!t.slots.expand,r=ie(),s=ie(),a=ie();return{eleRef:r,treeRef:s,zoomRef:a,defaultSlot:n,expandSlot:i,...Oce(e,t,{eleRef:r,treeRef:s,zoomRef:a})}}});const Ice={ref:"eleRef",class:"zm-tree-org"},Pce={class:"tree-org-node__text"},Rce=dt("span",{class:"tree-org-node__expand-btn"},null,-1),Lce={class:"tree-org-node__text"},Mce=dt("span",{class:"tree-org-node__expand-btn"},null,-1);ko.render=function(e,t,n,i,r,s){const a=Kt("tree-org-node"),o=Kt("Draggable"),l=Kt("Tools"),u=Kt("clone-org"),c=Kt("Contextmenu");return je(),ot("div",Ice,[dt("div",{ref:"zoomRef",class:Vt(["zoom-container",{"is-center":e.center&&!e.horizontal}]),style:xs(e.zoomStyle),onWheel:t[0]||(t[0]=(...d)=>e.zoomWheel&&e.zoomWheel(...d))},[x(o,{x:e.left,y:e.top,class:Vt({dragging:e.autoDragging}),onDragging:e.onDrag,onDragstop:e.onDragStop,draggable:e.draggable,"drag-cancel":e.dragCancel},{default:Ze((()=>[dt("div",{ref:"treeRef",class:Vt(["tree-org",{horizontal:e.horizontal,collapsable:e.collapsable}])},[x(a,{data:e.treeData,props:e.keys,lazy:e.lazy,suffix:e.suffix,horizontal:e.horizontal,labelStyle:e.labelStyle,collapsable:e.collapsable,renderContent:e.renderContent,selectedKey:e.selectedKey,defaultExpandLevel:e.defaultExpandLevel,selectedClassName:e.selectedClassName,labelClassName:e.labelClassName,vNodedrag:e.nodeargs,onOnExpand:e.handleExpand,onNodeClick:e.handleClick,onNodeDblclick:e.handleDblclick,onNodeMouseenter:e.nodeMouseenter,onNodeMouseleave:e.nodeMouseleave,onNodeContextmenu:e.nodeContextmenu,onNodeFocus:e.handleFocus,onNodeBlur:e.handleBlur},Vh({_:2},[e.defaultSlot?{name:"default",fn:Ze((({node:d})=>[oi(e.$slots,"default",{node:d},(()=>[dt("div",Pce,[dt("span",null,Sn(d.label),1)])]))]))}:void 0,e.expandSlot?{name:"expand",fn:Ze((({node:d})=>[oi(e.$slots,"expand",{node:d},(()=>[Rce]))]))}:void 0]),1032,["data","props","lazy","suffix","horizontal","labelStyle","collapsable","renderContent","selectedKey","defaultExpandLevel","selectedClassName","labelClassName","vNodedrag","onOnExpand","onNodeClick","onNodeDblclick","onNodeMouseenter","onNodeMouseleave","onNodeContextmenu","onNodeFocus","onNodeBlur"])],2)])),_:3},8,["x","y","class","onDragging","onDragstop","draggable","drag-cancel"])],38),e.tools.visible?(je(),wt(l,{key:0,tools:e.tools.data,scale:e.zoomPercent,onOnExpand:e.expandChange,onOnScale:e.zoomOrgchart,onOnRestore:e.restoreOrgchart,onOnFullscreen:e.handleFullscreen},null,8,["tools","scale","onOnExpand","onOnScale","onOnRestore","onOnFullscreen"])):zt("v-if",!0),e.nodeDraggable?(je(),wt(u,{key:1,modelValue:e.nodeMoving,"onUpdate:modelValue":t[1]||(t[1]=d=>e.nodeMoving=d),props:e.keys,data:e.cloneData,horizontal:e.horizontal,"label-style":e.labelStyle,collapsable:e.collapsable,"render-content":e.renderContent,"label-class-name":e.labelClassName},Vh({_:2},[e.defaultSlot?{name:"default",fn:Ze((({node:d})=>[oi(e.$slots,"default",{node:d},(()=>[dt("div",Lce,[dt("span",null,Sn(d[e.keys.label]),1)])]))]))}:void 0,e.expandSlot?{name:"expand",fn:Ze((({node:d})=>[oi(e.$slots,"expand",{node:d},(()=>[Mce]))]))}:void 0]),1032,["modelValue","props","data","horizontal","label-style","collapsable","render-content","label-class-name"])):zt("v-if",!0),e.nodeMenus.length?(je(),wt(c,{key:2,modelValue:e.contextmenu,"onUpdate:modelValue":t[2]||(t[2]=d=>e.contextmenu=d),x:e.menuX,y:e.menuY,node:e.menuData,data:e.data,props:e.keys,menus:e.nodeMenus,disabled:e.disabled,"node-add":e.nodeAdd,"node-delete":e.nodeDelete,"node-edit":e.nodeEdit,"node-copy":e.nodeCopy,onContextmenu:t[3]||(t[3]=d=>{e.$emit("on-contextmenu",d)}),onOnNodeCopy:t[4]||(t[4]=d=>{e.$emit("on-node-copy",d)}),onOnNodeDelete:t[5]||(t[5]=d=>{e.$emit("on-node-delete",d)})},null,8,["modelValue","x","y","node","data","props","menus","disabled","node-add","node-delete","node-edit","node-copy"])):zt("v-if",!0)],512)},ko.__file="src/components/tree-org/src/tree.vue",ko.install=function(e){e.component(ko.name,ko)};const Nce=[ko];var Bce={install:function(e){Nce.forEach((t=>{e.component(t.name,t)})),e.use(cce)},Vue3TreeOrg:ko};const Ea=g_(mne),Fce=tq();Jr.component("v-datetime-picker",GI);Jr.component("v-collapse",Dne);Jr.component("v-sub-input",kne);Jr.component("v-group-button",Tie);Jr.component("v-treeselect",Iie);Jr.component("v-inputselect",jie);Jr.component("v-label",zie);Jr.component("v-cascader",Gie);Ea.use(Fce);Ea.use(Vd);Ea.use(HO);Ea.use(hy);Ea.use(b7);Ea.use(Jr);Ea.use(oce);Ea.use(Bce);Ea.mount("#app");export{Iie as $,fs as A,GI as B,vi as C,_D as D,Pr as E,ct as F,Vn as G,Mn as H,pt as I,ci as J,Gde as K,H$ as L,g1 as M,Ude as N,Kt as O,Vde as P,zde as Q,jde as R,aa as S,jie as T,QI as U,Kde as V,Hde as W,Pde as X,Rde as Y,Lde as Z,Jne as _,Vce as __vite_legacy_guard,je as a,yr as a$,Uh as a0,V2 as a1,nm as a2,Ps as a3,Wi as a4,TE as a5,Xr as a6,Om as a7,UD as a8,am as a9,Qde as aA,nt as aB,Oi as aC,fe as aD,Kw as aE,Hce as aF,Ade as aG,gne as aH,be as aI,jY as aJ,lee as aK,Es as aL,Ts as aM,En as aN,i0 as aO,mn as aP,_a as aQ,$r as aR,Vh as aS,Ln as aT,oi as aU,aV,Ir as aW,ab as aX,JD as aY,AD as aZ,Rd as a_,IU as aa,PU as ab,aF as ac,Sn as ad,Vt as ae,zce as af,Ri as ag,Tde as ah,bde as ai,Ke as aj,j_ as ak,su as al,Pd as am,P_ as an,sm as ao,M_ as ap,Jn as aq,_U as ar,Y_ as as,Gce as at,xt as au,xs as av,gde as aw,Xde as ax,gr as ay,Fne as az,Ge as b,rF as b0,GU as b1,HU as b2,tt as b3,tj as b4,DD as b5,Lne as b6,Mde as b7,Nde as b8,Bde as b9,DO as bA,bU as bB,Vne as bC,Yde as bD,Ld as bE,jce as bF,b3 as bG,Y8 as bH,Dde as bI,Sde as bJ,Ede as bK,xde as bL,Cde as bM,wde as bN,eie as bO,Ide as bP,Ode as bQ,kde as bR,D_ as bS,w_ as bT,z$ as bU,$de as ba,Fde as bb,Xo as bc,hQ as bd,I9 as be,vde as bf,Jr as bg,T9 as bh,Qie as bi,op as bj,ao as bk,F_ as bl,fde as bm,hde as bn,pde as bo,mde as bp,Vd as bq,I_ as br,yde as bs,_de as bt,h7 as bu,Ch as bv,dde as bw,X9 as bx,LD as by,uee as bz,wt as c,Se as d,EE as e,_m as f,ot as g,x as h,dt as i,jd as j,_ie as k,vt as l,Ze as m,qde as n,Et as o,pp as p,Wde as q,ie as r,qce as s,Wce as t,Ud as u,Ki as v,De as w,un as x,zt as y,On as z};
