System.register(["./index-legacy-CK9unWWd.js","./index-legacy-lCP6nJJd.js"],function(e,t){"use strict";var a,l,n,o,r,u,s,i,d,m,c,f,p,y,_,v,b;return{setters:[e=>{a=e.d,l=e.l,n=e.w,o=e.g,r=e.a,u=e.h,s=e.b,i=e.G,d=e.B,m=e.F,c=e.k,f=e.r,p=e.c,y=e._,_=e.m,v=e.I},e=>{b=e.g}],execute:function(){const t=a({__name:"SearchForm",props:{form:{default:()=>({})}},emits:["update:form"],setup(e,{emit:t}){const a=e,c=t,f=l({...a.form});return n(f,e=>{c("update:form",e)},{deep:!0}),n(()=>a.form,e=>{Object.assign(f,e)},{deep:!0,immediate:!0}),(e,t)=>{const a=i,l=d;return r(),o(m,null,[u(a,{modelValue:s(f).name,"onUpdate:modelValue":t[0]||(t[0]=e=>s(f).name=e),type:"text",name:"text",label:"",placeholder:"请输入名称"},null,8,["modelValue"]),u(l,{modelValue:s(f).start_date,"onUpdate:modelValue":t[1]||(t[1]=e=>s(f).start_date=e),placeholder:"开始时间"},null,8,["modelValue"]),u(l,{modelValue:s(f).end_date,"onUpdate:modelValue":t[2]||(t[2]=e=>s(f).end_date=e),placeholder:"结束时间"},null,8,["modelValue"])],64)}}});e("_",a({__name:"list",props:{type:{}},setup(e){const a=e;async function l({pageNum:e,form:t}){const l=await b({page:e,...t,type:a.type});return{total:Number(l.count),data:l.data}}const{routerPush:n}=c(),o=f({name:"",no:"",start_date:"",end_date:""}),s=[{icon:"search",key:"search"}];function i(e){const t=e.files.substring(e.files.lastIndexOf("/")+1),a=[{value:e.name,label:"名称"},{value:e.no,label:"文号"},{value:e.authority,label:"颁布机构"},{value:e.issue_date,label:"颁布日期"},{value:e.work_date,label:"生效日期"},{value:e.revision_date,label:"修订日期"},{value:e.category,label:"类别"},{value:e.note,label:"备注"},{value:t,label:"附件",renderType:"slot"}];n("institutionalizedDetail",{detail:JSON.stringify(a)})}const d=[{title:"名称",key:"name"},{title:"颁布机构",key:"authority"},{title:"日期",key:"issue_date"},{title:"附件",key:"files",width:55}];return(e,a)=>{const n=v,m=y;return r(),p(m,{form:o.value,"onUpdate:form":a[1]||(a[1]=e=>o.value=e),columns:d,request:l,floating:s,onOnRowClick:i},{"cell-files":_(({row:e})=>[u(n,{"class-prefix":"iconfujian",class:"iconfont menu-icon",name:"extra",alt:e.files},null,8,["alt"])]),searchForm:_(()=>[u(t,{form:o.value,"onUpdate:form":a[0]||(a[0]=e=>o.value=e)},null,8,["form"])]),_:1},8,["form"])}}}))}}});
