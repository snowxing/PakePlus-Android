import{_ as F,m as nt,y as lt,E as $,A as vt,w as C,bU as q,cJ as gt,Z as R,cn as U,J as Q,ei as j,K as I,a6 as ot,F as st,z as O,M as tt,N as et,a2 as at,a1 as rt,aA as ht,aU as ut,H as ct,a$ as dt,al as mt,B as yt,Y as ft}from"./install-CoVyZzHx.js";import{S as it}from"./install-BO7C1UUT.js";import{c as pt}from"./createSeriesDataSimply-BFEE_GIw.js";var wt=(function(){function w(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return w})(),St=(function(w){F(r,w);function r(t){var i=w.call(this,t)||this;return i.type="pointer",i}return r.prototype.getDefaultShape=function(){return new wt},r.prototype.buildPath=function(t,i){var m=Math.cos,g=Math.sin,e=i.r,u=i.width,v=i.angle,x=i.x-m(v)*u*(u>=e/3?1:2),y=i.y-g(v)*u*(u>=e/3?1:2);v=i.angle-Math.PI/2,t.moveTo(x,y),t.lineTo(i.x+m(v)*u,i.y+g(v)*u),t.lineTo(i.x+m(i.angle)*e,i.y+g(i.angle)*e),t.lineTo(i.x-m(v)*u,i.y-g(v)*u),t.lineTo(x,y)},r})(nt);function At(w,r){var t=w.get("center"),i=r.getWidth(),m=r.getHeight(),g=Math.min(i,m),e=C(t[0],r.getWidth()),u=C(t[1],r.getHeight()),v=C(w.get("radius"),g/2);return{cx:e,cy:u,r:v}}function Y(w,r){var t=w==null?"":w+"";return r&&(dt(r)?t=r.replace("{value}",t):mt(r)&&(t=r(w))),t}var Pt=(function(w){F(r,w);function r(){var t=w!==null&&w.apply(this,arguments)||this;return t.type=r.type,t}return r.prototype.render=function(t,i,m){this.group.removeAll();var g=t.get(["axisLine","lineStyle","color"]),e=At(t,m);this._renderMain(t,i,m,g,e),this._data=t.getData()},r.prototype.dispose=function(){},r.prototype._renderMain=function(t,i,m,g,e){var u=this.group,v=t.get("clockwise"),x=-t.get("startAngle")/180*Math.PI,y=-t.get("endAngle")/180*Math.PI,D=t.getModel("axisLine"),V=D.get("roundCap"),L=V?it:$,f=D.get("show"),H=D.getModel("lineStyle"),_=H.get("width"),c=[x,y];lt(c,!v),x=c[0],y=c[1];for(var n=y-x,A=x,b=[],N=0;f&&N<g.length;N++){var E=Math.min(Math.max(g[N][0],0),1);y=x+n*E;var k=new L({shape:{startAngle:A,endAngle:y,cx:e.cx,cy:e.cy,clockwise:v,r0:e.r-_,r:e.r},silent:!0});k.setStyle({fill:g[N][1]}),k.setStyle(H.getLineStyle(["color","width"])),b.push(k),A=y}b.reverse(),vt(b,function(T){return u.add(T)});var M=function(T){if(T<=0)return g[0][1];var a;for(a=0;a<g.length;a++)if(g[a][0]>=T&&(a===0?0:g[a-1][0])<T)return g[a][1];return g[a-1][1]};this._renderTicks(t,i,m,M,e,x,y,v,_),this._renderTitleAndDetail(t,i,m,M,e),this._renderAnchor(t,e),this._renderPointer(t,i,m,M,e,x,y,v,_)},r.prototype._renderTicks=function(t,i,m,g,e,u,v,x,y){for(var D=this.group,V=e.cx,L=e.cy,f=e.r,H=+t.get("min"),_=+t.get("max"),c=t.getModel("splitLine"),n=t.getModel("axisTick"),A=t.getModel("axisLabel"),b=t.get("splitNumber"),N=n.get("splitNumber"),E=C(c.get("length"),f),k=C(n.get("length"),f),M=u,T=(v-u)/b,a=T/N,d=c.getModel("lineStyle").getLineStyle(),S=n.getModel("lineStyle").getLineStyle(),p=c.get("distance"),o,s,l=0;l<=b;l++){if(o=Math.cos(M),s=Math.sin(M),c.get("show")){var h=p?p+y:y,P=new q({shape:{x1:o*(f-h)+V,y1:s*(f-h)+L,x2:o*(f-E-h)+V,y2:s*(f-E-h)+L},style:d,silent:!0});d.stroke==="auto"&&P.setStyle({stroke:g(l/b)}),D.add(P)}if(A.get("show")){var h=A.get("distance")+p,z=Y(gt(l/b*(_-H)+H),A.get("formatter")),G=g(l/b),W=o*(f-E-h)+V,K=s*(f-E-h)+L,J=A.get("rotate"),B=0;J==="radial"?(B=-M+2*Math.PI,B>Math.PI/2&&(B+=Math.PI)):J==="tangential"?B=-M-Math.PI/2:yt(J)&&(B=J*Math.PI/180),B===0?D.add(new R({style:U(A,{text:z,x:W,y:K,verticalAlign:s<-.8?"top":s>.8?"bottom":"middle",align:o<-.4?"left":o>.4?"right":"center"},{inheritColor:G}),silent:!0})):D.add(new R({style:U(A,{text:z,x:W,y:K,verticalAlign:"middle",align:"center"},{inheritColor:G}),silent:!0,originX:W,originY:K,rotation:B}))}if(n.get("show")&&l!==b){var h=n.get("distance");h=h?h+y:y;for(var Z=0;Z<=N;Z++){o=Math.cos(M),s=Math.sin(M);var X=new q({shape:{x1:o*(f-h)+V,y1:s*(f-h)+L,x2:o*(f-k-h)+V,y2:s*(f-k-h)+L},silent:!0,style:S});S.stroke==="auto"&&X.setStyle({stroke:g((l+Z/N)/b)}),D.add(X),M+=a}M-=a}else M+=T}},r.prototype._renderPointer=function(t,i,m,g,e,u,v,x,y){var D=this.group,V=this._data,L=this._progressEls,f=[],H=t.get(["pointer","show"]),_=t.getModel("progress"),c=_.get("show"),n=t.getData(),A=n.mapDimension("value"),b=+t.get("min"),N=+t.get("max"),E=[b,N],k=[u,v];function M(a,d){var S=n.getItemModel(a),p=S.getModel("pointer"),o=C(p.get("width"),e.r),s=C(p.get("length"),e.r),l=t.get(["pointer","icon"]),h=p.get("offsetCenter"),P=C(h[0],e.r),z=C(h[1],e.r),G=p.get("keepAspect"),W;return l?W=at(l,P-o/2,z-s,o,s,null,G):W=new St({shape:{angle:-Math.PI/2,width:o,r:s,x:P,y:z}}),W.rotation=-(d+Math.PI/2),W.x=e.cx,W.y=e.cy,W}function T(a,d){var S=_.get("roundCap"),p=S?it:$,o=_.get("overlap"),s=o?_.get("width"):y/n.count(),l=o?e.r-s:e.r-(a+1)*s,h=o?e.r:e.r-a*s,P=new p({shape:{startAngle:u,endAngle:d,cx:e.cx,cy:e.cy,clockwise:x,r0:l,r:h}});return o&&(P.z2=O(n.get(A,a),[b,N],[100,0],!0)),P}(c||H)&&(n.diff(V).add(function(a){var d=n.get(A,a);if(H){var S=M(a,u);Q(S,{rotation:-((isNaN(+d)?k[0]:O(d,E,k,!0))+Math.PI/2)},t),D.add(S),n.setItemGraphicEl(a,S)}if(c){var p=T(a,u),o=_.get("clip");Q(p,{shape:{endAngle:O(d,E,k,o)}},t),D.add(p),j(t.seriesIndex,n.dataType,a,p),f[a]=p}}).update(function(a,d){var S=n.get(A,a);if(H){var p=V.getItemGraphicEl(d),o=p?p.rotation:u,s=M(a,o);s.rotation=o,I(s,{rotation:-((isNaN(+S)?k[0]:O(S,E,k,!0))+Math.PI/2)},t),D.add(s),n.setItemGraphicEl(a,s)}if(c){var l=L[d],h=l?l.shape.endAngle:u,P=T(a,h),z=_.get("clip");I(P,{shape:{endAngle:O(S,E,k,z)}},t),D.add(P),j(t.seriesIndex,n.dataType,a,P),f[a]=P}}).execute(),n.each(function(a){var d=n.getItemModel(a),S=d.getModel("emphasis"),p=S.get("focus"),o=S.get("blurScope"),s=S.get("disabled");if(H){var l=n.getItemGraphicEl(a),h=n.getItemVisual(a,"style"),P=h.fill;if(l instanceof ot){var z=l.style;l.useStyle(st({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},h))}else l.useStyle(h),l.type!=="pointer"&&l.setColor(P);l.setStyle(d.getModel(["pointer","itemStyle"]).getItemStyle()),l.style.fill==="auto"&&l.setStyle("fill",g(O(n.get(A,a),E,[0,1],!0))),l.z2EmphasisLift=0,tt(l,d),et(l,p,o,s)}if(c){var G=f[a];G.useStyle(n.getItemVisual(a,"style")),G.setStyle(d.getModel(["progress","itemStyle"]).getItemStyle()),G.z2EmphasisLift=0,tt(G,d),et(G,p,o,s)}}),this._progressEls=f)},r.prototype._renderAnchor=function(t,i){var m=t.getModel("anchor"),g=m.get("show");if(g){var e=m.get("size"),u=m.get("icon"),v=m.get("offsetCenter"),x=m.get("keepAspect"),y=at(u,i.cx-e/2+C(v[0],i.r),i.cy-e/2+C(v[1],i.r),e,e,null,x);y.z2=m.get("showAbove")?1:0,y.setStyle(m.getModel("itemStyle").getItemStyle()),this.group.add(y)}},r.prototype._renderTitleAndDetail=function(t,i,m,g,e){var u=this,v=t.getData(),x=v.mapDimension("value"),y=+t.get("min"),D=+t.get("max"),V=new rt,L=[],f=[],H=t.isAnimationEnabled(),_=t.get(["pointer","showAbove"]);v.diff(this._data).add(function(c){L[c]=new R({silent:!0}),f[c]=new R({silent:!0})}).update(function(c,n){L[c]=u._titleEls[n],f[c]=u._detailEls[n]}).execute(),v.each(function(c){var n=v.getItemModel(c),A=v.get(x,c),b=new rt,N=g(O(A,[y,D],[0,1],!0)),E=n.getModel("title");if(E.get("show")){var k=E.get("offsetCenter"),M=e.cx+C(k[0],e.r),T=e.cy+C(k[1],e.r),a=L[c];a.attr({z2:_?0:2,style:U(E,{x:M,y:T,text:v.getName(c),align:"center",verticalAlign:"middle"},{inheritColor:N})}),b.add(a)}var d=n.getModel("detail");if(d.get("show")){var S=d.get("offsetCenter"),p=e.cx+C(S[0],e.r),o=e.cy+C(S[1],e.r),s=C(d.get("width"),e.r),l=C(d.get("height"),e.r),h=t.get(["progress","show"])?v.getItemVisual(c,"style").fill:N,a=f[c],P=d.get("formatter");a.attr({z2:_?0:2,style:U(d,{x:p,y:o,text:Y(A,P),width:isNaN(s)?null:s,height:isNaN(l)?null:l,align:"center",verticalAlign:"middle"},{inheritColor:h})}),ht(a,{normal:d},A,function(G){return Y(G,P)}),H&&ut(a,c,v,t,{getFormattedLabel:function(G,W,K,J,B,Z){return Y(Z?Z.interpolatedValue:A,P)}}),b.add(a)}V.add(b)}),this.group.add(V),this._titleEls=L,this._detailEls=f},r.type="gauge",r})(ct),bt=(function(w){F(r,w);function r(){var t=w!==null&&w.apply(this,arguments)||this;return t.type=r.type,t.visualStyleAccessPath="itemStyle",t}return r.prototype.getInitialData=function(t,i){return pt(this,["value"])},r.type="series.gauge",r.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},r})(ft);function Et(w){w.registerChartView(Pt),w.registerSeriesModel(bt)}export{Et as i};
