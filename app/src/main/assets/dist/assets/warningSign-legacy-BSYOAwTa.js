System.register(["./index-legacy-CK9unWWd.js"],function(e,n){"use strict";var t,a,r,l,o,u,i,s,m,c,f,d,p,g,y,w,_,h;return{setters:[e=>{t=e.aB,a=e.d,r=e.r,l=e.l,o=e.w,u=e.o,i=e.c,s=e.a,m=e.G,c=e.k,f=e.m,d=e.h,p=e.au,g=e.b,y=e.i,w=e.ad,_=e._,h=e.e}],execute:function(){const n=a({__name:"warningSignSearchForm",props:{form:{default:{}}},emits:["update:form"],setup(e,{emit:n}){const t=e,a=n;r([]);const c=l({...t.form});return o(c,e=>{a("update:form",e)},{deep:!0}),u(()=>{}),(e,n)=>{const t=m;return s(),i(t,{modelValue:c.name,"onUpdate:modelValue":n[0]||(n[0]=e=>c.name=e),type:"text",name:"text",placeholder:"请输入警示标志名称"},null,8,["modelValue"])}}}),v=e("default",a({__name:"warningSign",setup(e){async function a({pageNum:e,form:n}){const a=await async function(e){return t.get("/ensafe/warning_list",{params:e})}({page:e,...n});return{total:Number(a.count),data:a.data}}const{routerPush:l}=c(),o=r({field:"",name:"",type:0}),u=[{icon:"search",key:"search"}];function m(e){const n=[{label:"编号",value:e.no},{label:"警示标志名称",value:e.warning_name},{label:"警示标志类型",value:v.value?.[e.warning_type]},{label:"备注",value:e.remarks},{label:"图样附件",value:e.files.split(","),renderType:"image"}];l("siteDetail",{detail:JSON.stringify(n)})}const h=[{title:"警示标志名称",key:"warning_name",width:"30%"},{title:"编号",key:"no",width:"30%"},{title:"类型",key:"warning_type",width:"20%"}];let v=r({1:"禁止标志",2:"警告标志",3:"指令标志",4:"提示标志"});return(e,t)=>{const r=_;return s(),i(r,{form:g(o),"onUpdate:form":t[1]||(t[1]=e=>p(o)?o.value=e:null),columns:h,request:a,floating:u,onOnRowClick:m},{"cell-warning_type":f(({row:e})=>[y("div",null,w(g(v)[e.warning_type]),1)]),searchForm:f(()=>[d(n,{form:g(o),"onUpdate:form":t[0]||(t[0]=e=>p(o)?o.value=e:null)},null,8,["form"])]),_:1},8,["form"])}}}));"function"==typeof h&&h(v)}}});
