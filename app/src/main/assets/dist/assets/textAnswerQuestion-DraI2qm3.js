import{d as j,u as Q,r as u,o as V,g as i,a as r,i as e,y as d,c as F,m as g,J as c,ad as a,F as h,E as J,h as T,H as $,ae as p,ao as E,p as k,e as A}from"./index-5kp1FiRg.js";/* empty css              */import{b as I}from"./learningMaterials-UVGlHBHD.js";const z={class:"p-3px mt-5px"},G={class:"mb-2px"},H={class:"text-14px"},L={key:0},M=["onClick"],R={class:"label w-30px h-30px rounded-full bg-gray-100 flex items-center justify-center mr-10px"},K={class:"flex-1"},P={key:1},U=["onClick"],W={class:"label w-30px h-30px rounded-full bg-gray-100 flex items-center justify-center mr-10px"},X={class:"flex-1"},Y={class:"text-center py-3px px-50px"},Z={key:0,class:"selection p-15px bg-white mt-10px"},ee={key:0,class:"my-10px"},te={class:"text-blue-400"},se={class:"time flex justify-between mt-15px"},ne={class:"text-center flex-1"},ae={class:"text-green-600 font-bold text-16px"},oe={class:"text-center flex-1 border-l-1 border-r-1 border-gray-200"},le={class:"text-green-600 font-bold text-16px"},re={class:"text-center flex-1"},ie={class:"text-red-600 font-bold text-16px"},ue={key:1,class:"analysis p-15px bg-white mt-10px"},de={class:"text-14px text-gray-700"},ce=j({__name:"textAnswerQuestion",setup(pe){const C=Q(),t=u({}),x=u({}),v=u(!1),f=u(!1),o=u([]);let _=new Date;const y=u(0),q=async()=>{const n=await I({id:C.query.id});n.myAnswer=[],t.value=n,x.value=JSON.parse(n.items)};V(()=>{_=new Date,q()});const B=n=>{if(n==0)return"单选";if(n==1)return"判断";if(n==2)return"多选"};function m(n,s){s==2?t.value.myAnswer.indexOf(n)>-1?t.value.myAnswer.splice(t.value.myAnswer.indexOf(n),1):(t.value.myAnswer.push(n),t.value.myAnswer=t.value.myAnswer.sort()):t.value.myAnswer=[n]}function D(n){const s=k(n);return k(new Date).diff(s,"second")+" 秒"}function N(){t.value.items=JSON.stringify(x.value),o.value.answer=t.value.answer,o.value.this_answer=t.value.myAnswer.join(","),v.value||(y.value=D(_)),v.value=!0,f.value=!0}return(n,s)=>{const b=E,w=$;return r(),i(h,null,[e("div",z,[e("div",G,[t.value.qtype?(r(),F(b,{key:0,type:"danger",class:"mr-6px"},{default:g(()=>[c(" ["+a(B(t.value.qtype))+"] ",1)]),_:1})):d("",!0),e("span",H,a(t.value.question),1)]),(r(!0),i(h,null,J(x.value,(l,O)=>(r(),i("div",{class:"option",key:O},[t.value.qtype==1||t.value.qtype==0?(r(),i("div",L,[e("div",{class:p(["option-item flex items-center p-10px rounded-4px mb-5px border-1 border-gray-200",t.value.myAnswer.indexOf(l.label)>-1?"bg-blue-50 border-blue-300":"bg-white"]),onClick:S=>m(l.label,t.value.qtype)},[e("div",R,a(l.label),1),e("div",K,a(l.title),1)],10,M)])):d("",!0),t.value.qtype==2?(r(),i("div",P,[e("div",{class:p(["option-item flex items-center p-10px rounded-4px mb-5px border-1 border-gray-200",t.value.myAnswer.indexOf(l.label)>-1?"bg-blue-50 border-blue-300":"bg-white"]),onClick:S=>m(l.label,t.value.qtype)},[e("div",W,a(l.label),1),e("div",X,a(l.title),1)],10,U)])):d("",!0)]))),128)),e("div",Y,[T(w,{onClick:s[0]||(s[0]=l=>N()),type:"primary",round:"",class:"w-full"},{default:g(()=>[...s[1]||(s[1]=[c(" 确认 ",-1)])]),_:1})])]),f.value?(r(),i("div",Z,[e("div",{class:p([o.value.answer==o.value.this_answer?"text-green-600":"text-red-600","font-bold"])},a(o.value.answer==o.value.this_answer?"正确":"错误"),3),v.value?(r(),i("div",ee,[s[2]||(s[2]=c(" 正确答案是",-1)),e("span",te,a(" "+o.value.answer),1),s[3]||(s[3]=c("， 你的答案是",-1)),e("span",{class:p(o.value.this_answer?"text-red-600":"text-gray-600")},a(" "+(o.value.this_answer||"未作答")),3)])):d("",!0),e("div",se,[e("div",ne,[s[4]||(s[4]=e("h5",{class:"text-12px text-gray-600"},"个人答题用时",-1)),e("p",ae,a(y.value),1)]),e("div",oe,[s[5]||(s[5]=e("h5",{class:"text-12px text-gray-600"},"全企业正确率",-1)),e("p",le,a(t.value.accuracy)+"%",1)]),e("div",re,[s[6]||(s[6]=e("h5",{class:"text-12px text-gray-600"},"易错题",-1)),e("p",ie,a(t.value.fallible),1)])])])):d("",!0),f.value?(r(),i("div",ue,[s[7]||(s[7]=e("h5",{class:"text-red-600 font-bold mb-10px"},"解析",-1)),e("p",de,a(t.value.analysis),1)])):d("",!0)],64)}}});typeof A=="function"&&A(ce);export{ce as default};
