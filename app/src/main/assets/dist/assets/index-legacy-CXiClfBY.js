System.register(["./index-legacy-CK9unWWd.js","./v-uploader.vue_vue_type_script_setup_true_lang-legacy-DykKa8ts.js","./trainingClassList-legacy-DcG04OPt.js","./TrainCourseList.vue_vue_type_script_setup_true_lang-legacy-Bq9BAKae.js","./useTabsListener-legacy-BqsF0NKt.js"],function(e,t){"use strict";var a,l,n,u,o,s,i,r,d,c,m,p,y,_,f,v,h,g,b,k,V,w,x,q,U,j,C,I,T,F,L,N,R,S,z,A,D,O,Q,B;return{setters:[e=>{a=e.d,l=e.l,n=e.r,u=e.o,o=e.A,s=e.w,i=e.g,r=e.a,d=e.F,c=e.h,m=e.G,p=e.b,y=e.U,_=e.k,f=e.i,v=e.J,h=e.y,g=e.ad,b=e.I,k=e.bB,V=e.bA,w=e.v,x=e.j,q=e._,U=e.au,j=e.m,C=e.aq,I=e.a2,T=e.D,F=e.bE,L=e.H,N=e.x,R=e.z,S=e.e},e=>{z=e._},e=>{A=e.e,D=e.f,O=e.h},e=>{Q=e._},e=>{B=e.u}],execute:function(){const t=a({__name:"TrainQuestionSearch",props:{form:{}},emits:["update:form"],setup(e,{emit:t}){const a=t,_=l({...e.form}),f=n([]);return u(async()=>{o({id:"22",deep:1}).then(e=>{f.value=e.map(e=>({text:e.title,value:e.node_id}))})}),s(_,e=>{a("update:form",e)},{deep:!0}),(e,t)=>{const a=m,l=y;return r(),i(d,null,[c(a,{modelValue:p(_).title,"onUpdate:modelValue":t[0]||(t[0]=e=>p(_).title=e),type:"text",name:"text",label:"标题",placeholder:"请输入查询内容"},null,8,["modelValue"]),c(l,{value:p(_).industry_id,"onUpdate:value":t[1]||(t[1]=e=>p(_).industry_id=e),label:"行业分类",columns:p(f)},null,8,["value","columns"])],64)}}}),E={class:"card-title"},G={class:"card-row"},H={class:"card-col"},J={class:"card-col"},K={class:"card-footer"},P=w(a({__name:"RowCardRender",props:{item:{},index:{},type:{}},emits:["clickItem"],setup(e,{emit:t}){const a=e,l=t,{title:n,keywords:u,industry_name:o,content:s,...d}=a.item,{routerPush:m}=_();function y(e){"question"===a.type?k({title:"标题",message:"确认是否删除"}).then(()=>{A(V({id:a.item.id})).then(()=>{l("clickItem",a.item)})}).catch(()=>{}):m("superTeacherDetail",{id:e.id})}return(e,t)=>{const l=b;return r(),i("div",{class:"custom-card van-hairline--bottom",onClick:t[0]||(t[0]=e=>y(a.item))},[f("div",E,[v(" 标题："+g(p(n))+" ",1),"question"===a.type?(r(),i("span",{key:0,style:{float:"right"},onClick:y},[c(l,{name:"delete-o"})])):h("",!0)]),f("div",G,[f("div",H," 行业："+g(p(o)),1),f("div",J," 关键字："+g(p(u)),1)]),f("div",K," 提问详情："+g(p(s)),1)])}}}),[["__scopeId","data-v-3f72c0e6"]]),M={style:{margin:"16px"}},W=a({__name:"TrainQuestionList",props:{type:{}},setup(e){const a=e,{userInfo:s}=x(),d={question:{api:D,params:{staff_id:s.id}},answer:{api:D,params:{}}};async function _({pageNum:e,form:t}){const{api:l,params:n}=d[a.type],u=await l({...n,page:e,page_size:20,...t});return{total:Number(u.count),data:u.data}}const h=n({title:"",industry_id:""}),g=l({title:"",keywords:"",content:"",industry_id:"",info_price:0,attachment:[],is_anonymous:!1}),b="question"===a.type?[{icon:"add",key:"add"},{icon:"search",key:"search"}]:[{icon:"search",key:"search"}],k=n(!1);function w(e){"add"===e.key&&(k.value=!0)}function N(e){O(V(Object.assign({},g,{is_anonymous:!0===g.is_anonymous?1:2,attachment:g.attachment.map(e=>e.url).join(",")}))).then(()=>{k.value=!1})}const R=n([]);function S(){g.attachment=[]}u(async()=>{o({id:"22",deep:1}).then(e=>{R.value=e.map(e=>({text:e.title,value:e.node_id}))})});const A=n(null);function Q(e){"question"===a.type&&(k.value=!1,A.value?.reload())}return(a,l)=>{const n=q,u=m,o=y,s=z,d=F,V=T,x=L,D=I,O=C;return r(),i("div",null,[c(n,{ref_key:"tableRef",ref:A,form:p(h),"onUpdate:form":l[1]||(l[1]=e=>U(h)?h.value=e:null),request:_,floating:p(b),onOnFloatingClick:w},{row:j(({item:t,index:a})=>[c(P,{item:t,index:a,type:e.type,onClickItem:Q},null,8,["item","index","type"])]),searchForm:j(()=>[c(t,{form:p(h),"onUpdate:form":l[0]||(l[0]=e=>U(h)?h.value=e:null)},null,8,["form"])]),_:1},8,["form","floating"]),c(O,{show:p(k),"onUpdate:show":l[8]||(l[8]=e=>U(k)?k.value=e:null),position:"bottom",style:{height:"70%"},onClose:S},{default:j(()=>[c(D,{onSubmit:N},{default:j(()=>[c(V,{inset:""},{default:j(()=>[c(u,{modelValue:p(g).title,"onUpdate:modelValue":l[2]||(l[2]=e=>p(g).title=e),name:"title",label:"标题",placeholder:"标题",rules:[{required:!0,message:"请填写标题"}]},null,8,["modelValue"]),c(u,{modelValue:p(g).keywords,"onUpdate:modelValue":l[3]||(l[3]=e=>p(g).keywords=e),name:"keywords",label:"关键字",placeholder:"关键字",rules:[{required:!0,message:"请填写关键字"}]},null,8,["modelValue"]),c(o,{value:p(g).industry_id,"onUpdate:value":l[4]||(l[4]=e=>p(g).industry_id=e),name:"industry_id",columns:p(R),label:"行业/技术分类",placeholder:"行业/技术分类",rules:[{required:!0,message:"请选择行业/技术分类"}]},null,8,["value","columns"]),c(u,{modelValue:p(g).content,"onUpdate:modelValue":l[5]||(l[5]=e=>p(g).content=e),type:"textarea",name:"content",label:"提问内容",placeholder:"提问内容",rules:[{required:!0,message:"请填写提问内容"}]},null,8,["modelValue"]),c(s,{modelValue:p(g).attachment,"onUpdate:modelValue":l[6]||(l[6]=e=>p(g).attachment=e),multiple:!0,"max-count":5},null,8,["modelValue"]),c(u,{"label-width":"130",name:"is_anonymous"},{input:j(()=>[c(d,{modelValue:p(g).is_anonymous,"onUpdate:modelValue":l[7]||(l[7]=e=>p(g).is_anonymous=e),shape:"square"},null,8,["modelValue"]),l[9]||(l[9]=v(" 不显示我的名称 ",-1))]),_:1})]),_:1}),f("div",M,[c(x,{round:"",block:"",type:"primary","native-type":"submit"},{default:j(()=>[...l[10]||(l[10]=[v(" 提交 ",-1)])]),_:1})])]),_:1})]),_:1},8,["show"])])}}}),X={class:"flex-center h-[100vh] w-100% items-center"},Y=e("default",a({__name:"index",setup(e){const t=n("1");return B("secure-click-tab",e=>{t.value=e.name}),(e,a)=>{const l=W;return r(),i("div",X,[N(c(Q,{type:"2",teach_type:"2"},null,512),[[R,"1"===t.value]]),N(c(l,{type:"question"},null,512),[[R,"2"===t.value]]),N(c(l,{type:"answer"},null,512),[[R,"3"===t.value]])])}}}));"function"==typeof S&&S(Y)}}});
