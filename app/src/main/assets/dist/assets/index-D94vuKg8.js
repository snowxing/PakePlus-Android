import{d as f,l as x,w as b,c as $,a as d,b as v,G as B,r as p,g as k,h as i,_ as C,m as w,aq as E,x as F,z as U,e as g}from"./index-5kp1FiRg.js";import V from"./detail-ew4YeckH.js";import{a as L}from"./accident-mBQzO3bB.js";import{t as q}from"./map-CcCcE9hR.js";import{u as D}from"./useTabsListener-CnvSNM1v.js";import"./Detail-CBGWh8FM.js";/* empty css                                                               */const N=f({__name:"EndListSearchForm",props:{form:{}},emits:["update:form"],setup(_,{emit:n}){const a=_,s=n,l=x({...a.form});return b(l,c=>{s("update:form",c)},{deep:!0}),(c,o)=>{const r=B;return d(),$(r,{modelValue:v(l).staff_name,"onUpdate:modelValue":o[0]||(o[0]=t=>v(l).staff_name=t),type:"text",name:"text",label:"事故名称",placeholder:"请输入事故名称"},null,8,["modelValue"])}}}),S=f({__name:"EndList",setup(_){async function n({pageNum:r,form:t}){var u;const m=await L({page:r,...t});return{total:Number(m.count),data:(u=m.data)==null?void 0:u.map(e=>{const h=q.find(y=>"".concat(y.value)==="".concat(e.select_3));return{...e,select_3:h?h.label:e.select_3}})}}const a=[{title:"事故名称",key:"input_1",width:"20%",align:"center"},{title:"整改措施",key:"input_4",width:"20%"},{title:"事故类型",key:"select_3",width:"20%",align:"right"},{title:"责任人",key:"treeselect_5",width:"20%",align:"right"},{title:"事故时间",key:"date_2",width:"20%",align:"right"}],s=p(!1),l=p([]);function c(r){}const o=p({staff_name:""});return(r,t)=>{const m=C,u=E;return d(),k("div",null,[i(m,{form:o.value,"onUpdate:form":t[1]||(t[1]=e=>o.value=e),columns:a,request:n,floating:[{icon:"search",key:"search"}],onOnRowClick:c},{searchForm:w(()=>[i(N,{form:o.value,"onUpdate:form":t[0]||(t[0]=e=>o.value=e)},null,8,["form"])]),_:1},8,["form"]),i(u,{show:s.value,"onUpdate:show":t[2]||(t[2]=e=>s.value=e),position:"bottom",style:{height:"70%"}},{default:w(()=>[i(V,{items:l.value},null,8,["items"])]),_:1},8,["show"])])}}}),z={class:"flex-center h-[100vh] w-100% items-center"},G=f({__name:"index",setup(_){const n=p("");return D("accidentEnd-click-tab",a=>{n.value=a.name}),(a,s)=>(d(),k("div",z,[F(i(S,null,null,512),[[U,n.value==="1"]])]))}});typeof g=="function"&&g(G);export{G as default};
