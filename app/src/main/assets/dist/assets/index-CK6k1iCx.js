import{aB as g,d as V,k as j,r as z,l as E,g as d,a as i,h as a,m as n,au as v,b as w,aY as I,aZ as S,i as t,J as x,ad as r,F as q,E as D,I as J,H as L,_ as U,e as y}from"./index-5kp1FiRg.js";import{_ as H}from"./SearchForm.vue_vue_type_script_setup_true_lang-CeXXaBgy.js";const O=_=>g.get("/annualplan/risk_plan_list",{params:_}),T=_=>g.post("/formeditor/job_process",_),Y={class:"todo-list"},Z=["data-index","data-id"],A={class:"text-14px font-600 mb-10px text-left break-words"},G={class:"text-center w-50px inline-block"},K={class:"text-12px mb-10px text-left break-words"},M={class:"break-words"},Q={class:"text-12px mb-10px text-left break-words"},W={class:"break-words"},X={class:"text-12px mb-10px"},ss={class:"break-words"},ts={class:"text-12px mb-10px text-left break-words"},es={class:"break-words"},as={class:"text-12px mb-10px text-left break-words"},ns={class:"break-words"},os={key:0,class:"flex"},ls={key:1},rs={class:"mt-20px flex justify-between"},ps=V({__name:"index",setup(_){const{routerPush:m}=j(),c=z(!1);async function h({pageNum:o}){const s=await O({page:o,status:-1})||{};return{total:Number(s.count||0),data:s.data||[]}}const p=E({status:"",type:"",sender:"",start:"",end:""});function C(o){m("task-process",{task_id:0,app_id:14,param:"launch|3-".concat(o.id)})}function $(o){if(console.warn(o,"item"),c.value=!c.value,o.exe_process_inst_id==="0")m("task-process",{task_id:0,app_id:12,param:"plan_task|".concat(o.contens,"-3-").concat(o.id)});else if(c.value){const s={process_inst_id:o.exe_process_inst_id};T(s)}}function B(o){console.warn("item",o)}return(o,s)=>{const l=S,k=I,F=J,b=L,N=H,P=U;return i(),d("div",Y,[a(P,{form:w(p),"onUpdate:form":s[1]||(s[1]=e=>v(p)?p.value=e:null),request:h},{row:n(({item:e,index:u})=>[(i(),d("div",{key:u,class:"item mx-15px mt-15px p-10px rounded-10px bg-white","data-index":u,"data-id":e.id},[a(k,{class:"p-10px"},{default:n(()=>[a(l,{span:"24"},{default:n(()=>[t("div",A,[t("span",G,r(u+1),1),x(" "+r(e.etp_id_name),1)])]),_:2},1024),a(l,{span:"24"},{default:n(()=>[t("div",K,[s[2]||(s[2]=t("span",null,"检查内容：",-1)),t("span",M,r(e.contens),1)])]),_:2},1024),a(l,{span:"24"},{default:n(()=>[t("div",Q,[s[3]||(s[3]=t("span",null,"计划时间：",-1)),t("span",W,r(e.year)+" "+r(e.month),1)])]),_:2},1024),a(l,{span:"24"},{default:n(()=>[a(k,null,{default:n(()=>[a(l,{span:"12",class:"!p-0"},{default:n(()=>[t("div",X,[s[4]||(s[4]=t("span",null,"检查类型：",-1)),t("span",ss,r(e.check),1)])]),_:2},1024),a(l,{span:"12",class:"!p-0"},{default:n(()=>[t("div",ts,[s[5]||(s[5]=t("span",null,"负责人：",-1)),t("span",es,r(e.staff||"-"),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024),a(l,{span:"24"},{default:n(()=>[t("div",as,[s[6]||(s[6]=t("span",null,"备注：",-1)),t("span",ns,r(e.remarks),1)])]),_:2},1024),a(l,{span:"24"},{default:n(()=>[t("div",null,[e.files?(i(),d("div",os,[(i(!0),d(q,null,D(JSON.parse(e.files),(f,R)=>(i(),d("div",{key:R},[a(F,{name:"description",size:"30px",class:"text-blue-500",onClick:ds=>B(f)},null,8,["onClick"])]))),128))])):(i(),d("div",ls))])]),_:2},1024),a(l,{span:"24"},{default:n(()=>[t("div",rs,[a(b,{type:"primary",size:"small",onClick:f=>C(e)},{default:n(()=>[...s[7]||(s[7]=[x(" 计划变更 ",-1)])]),_:1},8,["onClick"]),a(b,{type:"primary",size:"small",onClick:f=>$(e)},{default:n(()=>[x(r(e.exe_process_inst_id==="0"?"执行任务":"执行进度"),1)]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024)],8,Z))]),searchForm:n(()=>[a(N,{form:w(p),"onUpdate:form":s[0]||(s[0]=e=>v(p)?p.value=e:null)},null,8,["form"])]),_:1},8,["form"])])}}});typeof y=="function"&&y(ps);export{ps as default};
