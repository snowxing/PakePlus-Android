import{d as _,l as w,w as k,c as g,a as v,b as d,G as x,r as c,g as h,h as u,_ as B,m as f,aq as T,x as C,z as F,e as b}from"./index-5kp1FiRg.js";import U from"./detail-ew4YeckH.js";import{s as V}from"./improve-DL5FWc6v.js";import{u as L}from"./useTabsListener-CnvSNM1v.js";import"./Detail-CBGWh8FM.js";/* empty css                                                               */const $=_({__name:"BaseListSearchForm",props:{form:{}},emits:["update:form"],setup(p,{emit:l}){const o=p,n=l,s=w({...o.form});return k(s,i=>{n("update:form",i)},{deep:!0}),(i,a)=>{const e=x;return v(),g(e,{modelValue:d(s).evaluate,"onUpdate:modelValue":a[0]||(a[0]=t=>d(s).evaluate=t),type:"text",name:"text",label:"评定项目",placeholder:"请输入评定项目"},null,8,["modelValue"])}}}),j=_({__name:"BaseList",setup(p){async function l({pageNum:e,form:t}){const m=await V({page:e,...t});return{total:Number(m.count),data:m.data}}const o=[{title:"评定项目",key:"evaluate",width:"30%",align:"center"},{title:"评定内容",key:"content",width:"40%"},{title:"实际得分",key:"score",width:"30%",align:"right"}],n=c(!1),s=c([]);function i(e){n.value=!0,s.value=[{label:"项目编号",value:e.project_no},{label:"项目类别",value:e.project_type},{label:"评定项目",value:e.evaluate},{label:"适用范围",value:e.apply_range},{label:"评定内容",value:e.content,renderType:"list"},{label:"评定指标",value:e.index,renderType:"list"},{label:"标准依据",value:e.basis,renderType:"list"},{label:"记分方法",value:e.scoring_way,renderType:"list"},{label:"满分分值",value:e.score},{label:"实际得分",value:e.actual_score},{label:"存在问题",value:e.problem,renderType:"list"},{label:"责任部门",value:e.department},{label:"责任岗位",value:e.post},{label:"备注",value:e.remarks,renderType:"list"}]}const a=c({evaluate:""});return(e,t)=>{const m=B,y=T;return v(),h("div",null,[u(m,{form:a.value,"onUpdate:form":t[1]||(t[1]=r=>a.value=r),columns:o,request:l,floating:[{icon:"search",key:"search"}],onOnRowClick:i},{searchForm:f(()=>[u($,{form:a.value,"onUpdate:form":t[0]||(t[0]=r=>a.value=r)},null,8,["form"])]),_:1},8,["form"]),u(y,{show:n.value,"onUpdate:show":t[2]||(t[2]=r=>n.value=r),position:"bottom",style:{height:"70%"}},{default:f(()=>[u(U,{items:s.value},null,8,["items"])]),_:1},8,["show"])])}}}),q={class:"flex-center h-[100vh] w-100% items-center"},D=_({__name:"index",setup(p){const l=c("");return L("improveBase-click-tab",o=>{l.value=o.name}),(o,n)=>(v(),h("div",q,[C(u(j,null,null,512),[[F,l.value==="1"]])]))}});typeof b=="function"&&b(D);export{D as default};
