System.register([],function(e,t){"use strict";return{execute:function(){
/**
      * @vue/shared v3.5.24
      * (c) 2018-present Yuxi (Evan) You and Vue contributors
      * @license MIT
      **/
function n(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}e({A:LB,E:Si,J:ea,K:async function(e){const t=new FormData;for(const n in e)t.append(n,hI(e[n])||gI(e[n])?JSON.stringify(e[n]):e[n]);return BO.post("/ensafe/invest_edit",t)},N:async function(e){return BO.get("/ensafe/goal_list",{params:e})},O:gi,P:async function(e){return BO.get("/ensafe/goal_get",{params:e})},Q:async function(e){return BO.get("/annualplan/investment_plan_list",{params:e})},R:async function(e){return BO.get("/ensafe/safe_plan_list",{params:e})},V:async function(e){return BO.get("/tree/get_child",{params:e})},W:async function(e){return BO.get("/ensafe/safe_plan_get",{params:e})},X:async function(e){return BO.get("/enbase/staff_list",{params:e})},Y:async function(e){return BO.get("/enbase/staff_get",{params:e})},Z:async function(e){return BO.get("/role/role_list",{params:e})},a:Ur,a0:bi,a4:gI,a7:tB,aA:async function(e){return BO.get("/ensafe/check_record_statistics_list",{params:e})},aE:yi,aF:function(e){g(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:i,delay:r=200,hydrate:a,timeout:s,suspensible:o=!0,onError:l}=e;let c,u=null,d=0;const h=()=>{let e;return u||(e=u=t().catch(e=>{if(e=e instanceof Error?e:new Error(String(e)),l)return new Promise((t,n)=>{l(e,()=>t((d++,u=null,h())),()=>n(e),d+1)});throw e}).then(t=>e!==u&&u?u:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),c=t,t)))};return Bn({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(e,t,n){let i=!1;(t.bu||(t.bu=[])).push(()=>i=!0);const r=()=>{i||n()},s=a?()=>{const n=a(r,t=>function(e,t){if(qn(e)&&"["===e.data){let n=1,i=e.nextSibling;for(;i;){if(1===i.nodeType){if(!1===t(i))break}else if(qn(i))if("]"===i.data){if(0===--n)break}else"["===i.data&&n++;i=i.nextSibling}}else t(e)}(e,t));n&&(t.bum||(t.bum=[])).push(n)}:r;c?s():h().then(()=>!t.isUnmounted&&s())},get __asyncResolved(){return c},setup(){const e=ca;if(Fn(e),c)return()=>Hn(c,e);const t=t=>{u=null,zt(t,e,13,!i)};if(o&&e.suspense||ga)return h().then(t=>()=>Hn(t,e)).catch(e=>(t(e),()=>i?Qr(i,{error:e}):null));const a=St(!1),l=St(),d=St(!!r);return r&&setTimeout(()=>{d.value=!1},r),null!=s&&setTimeout(()=>{if(!a.value&&!l.value){const e=new Error(`Async component timed out after ${s}ms.`);t(e),l.value=e}},s),h().then(()=>{a.value=!0,e.parent&&Wn(e.parent.vnode)&&e.parent.update()}).catch(e=>{t(e),l.value=e}),()=>a.value&&c?Hn(c,e):l.value&&i?Qr(i,{error:l.value}):n&&!d.value?Hn(n,e):void 0}})},aG:function(){jR.children=[],jR.active=""},aK:BR,aL:wa,aM:wt,aN:Xi,aO:Dt,aQ:br,aR:Gi,aS:wi,aU:Ai,aX:uI,ae:H,af:function(e,t){const n=Qr(jr,null,e);return n.staticCount=t,n},ag:Rd,ah:function(e){return BO.get("/assessment/ai_answer",{params:e})},ai:function(e){return BO.get("/aianalyzer/simplechat_law",{params:e})},aj:Jt,ar:cm,as:LA,at:function(e){const t=vt(e),n={};for(const i in t){const r=t[i];r.effect?n[i]=Sa({get:()=>e[i],set(t){e[i]=t}}):(Tt(r)||pt(r))&&(n[i]=Rt(e,i))}return n},au:Tt,av:U,ax:async function(e){return BO.get("/ensafe/risk_list",{params:e})},ay:Kn,az:RB,b:xt,b3:aa,b6:PB,b7:async function(e){return BO.get("/enbase/team_list",{params:e})},b8:async function(e){return BO.post("/Standingbook/get_book_account_data_list",e)},b9:async function(e){return BO.get("/enemergency/evacuation_list",{params:e})},bC:function e(t,n,i=null){for(const r of t){if(r.value===n)return i;if(r.children&&r.children.length>0){const t=e(r.children,n,r);if(null!==t)return t}}return null},bD:async function(e){return BO.get("/enknowbase/kb_list",{params:e})},bF:function(e){if(!e)return null;let{class:t,style:n}=e;return t&&!v(t)&&(e.class=H(t)),n&&(e.style=U(n)),e},bG:Jr,bI:async function(e){return BO.get("/app/get_list",{params:e})},bJ:async function(e){return BO.get("/task/get_todo_list",{params:e})},bK:async function(e){return BO.get("/task/send_list",{params:e})},bL:async function(e){return BO.get("/task/get_finish_list",{params:e})},bM:async function(e){return BO.get("/task/notice_list",{params:e})},bN:async function(e){return BO.get("/task/delay_list",{params:e})},bO:XB,bP:async function(e){return BO.get("/process/view_task",{params:e})},bQ:async function(e){return BO.get("/process/start_data",{params:e})},bR:async function(e){return BO.get("/task/get_data",{params:e})},ba:async function(e){return BO.get("/enemergency/contacts_list",{params:e})},bb:async function(e){return BO.get("/Enemergency/get_event_disposal_database_list",{params:e})},bc:Fg,bd:QD,bf:function(e){return BO.postForm("/user/auth_code",e)},bk:CO,bs:function(e){return BO.postForm("/user/signup_sms",e)},bt:function(e){return BO.postForm("/user/signin_no_pwd",e)},bv:CL,bw:function(e){const t=Xi(sO,{}).value;t&&function(e,t,n){const i=()=>{e[t].delete(n)};ci(i),Qn(i),Kn(()=>{e[t].add(n)}),e[t].add(n)}(t,"leaveGuards",e)},bz:FR,c:Hr,d:Bn,f:SO,g:zr,i:Kr,k:mF,l:ct,m:cn,n:async function(e){return BO.get("/ensafe/invest_list",{params:e})},q:async function(e){return BO.get("/statistics/get_input_statistics",{params:e})},r:St,u:wO,w:_r,x:un,y:ta});const i={},r=[],a=()=>{},s=()=>!1,o=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),l=e=>e.startsWith("onUpdate:"),c=Object.assign,u=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},d=Object.prototype.hasOwnProperty,h=(e,t)=>d.call(e,t),p=Array.isArray,f=e=>"[object Map]"===S(e),m=e=>"[object Set]"===S(e),g=e=>"function"==typeof e,v=e=>"string"==typeof e,y=e=>"symbol"==typeof e,b=e=>null!==e&&"object"==typeof e,_=e=>(b(e)||g(e))&&g(e.then)&&g(e.catch),T=Object.prototype.toString,S=e=>T.call(e),w=e=>S(e).slice(8,-1),A=e=>"[object Object]"===S(e),k=e=>v(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,x=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),C=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},E=/-\w/g,O=C(e=>e.replace(E,e=>e.slice(1).toUpperCase())),I=/\B([A-Z])/g,D=C(e=>e.replace(I,"-$1").toLowerCase()),P=C(e=>e.charAt(0).toUpperCase()+e.slice(1)),L=C(e=>e?`on${P(e)}`:""),R=(e,t)=>!Object.is(e,t),M=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},N=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},j=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let B;const F=()=>B||(B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function U(e){if(p(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=v(i)?z(i):U(i);if(r)for(const e in r)t[e]=r[e]}return t}if(v(e)||b(e))return e}const $=/;(?![^(]*\))/g,V=/:([^]+)/,q=/\/\*[^]*?\*\//g;function z(e){const t={};return e.replace(q,"").split($).forEach(e=>{if(e){const n=e.split(V);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function H(e){let t="";if(v(e))t=e;else if(p(e))for(let n=0;n<e.length;n++){const i=H(e[n]);i&&(t+=i+" ")}else if(b(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const W=n("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function G(e){return!!e||""===e}const X=e=>!(!e||!0!==e.__v_isRef),Y=e("ad",e=>v(e)?e:null==e?"":p(e)||b(e)&&(e.toString===T||!g(e.toString))?X(e)?Y(e.value):JSON.stringify(e,K,2):String(e)),K=(e,t)=>X(t)?K(e,t.value):f(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],i)=>(e[Q(t,i)+" =>"]=n,e),{})}:m(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Q(e))}:y(t)?Q(t):!b(t)||p(t)||A(t)?t:String(t),Q=(e,t="")=>{var n;return y(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};
/**
      * @vue/reactivity v3.5.24
      * (c) 2018-present Yuxi (Evan) You and Vue contributors
      * @license MIT
      **/
let J,Z;class ee{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=J,!e&&J&&(this.index=(J.scopes||(J.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=J;try{return J=this,e()}finally{J=t}}}on(){1===++this._on&&(this.prevScope=J,J=this)}off(){this._on>0&&0===--this._on&&(J=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function te(e){return new ee(e)}function ne(){return J}function ie(e,t=!1){J&&J.cleanups.push(e)}const re=new WeakSet;class ae{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,J&&J.active&&J.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,re.has(this)&&(re.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||ce(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,Se(this),he(this);const e=Z,t=ye;Z=this,ye=!0;try{return this.fn()}finally{pe(this),Z=e,ye=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)ge(e);this.deps=this.depsTail=void 0,Se(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?re.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fe(this)&&this.run()}get dirty(){return fe(this)}}let se,oe,le=0;function ce(e,t=!1){if(e.flags|=8,t)return e.next=oe,void(oe=e);e.next=se,se=e}function ue(){le++}function de(){if(--le>0)return;if(oe){let e=oe;for(oe=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;se;){let t=se;for(se=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,1&t.flags)try{t.trigger()}catch(RT){e||(e=RT)}t=n}}if(e)throw e}function he(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function pe(e){let t,n=e.depsTail,i=n;for(;i;){const e=i.prevDep;-1===i.version?(i===n&&(n=e),ge(i),ve(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=e}e.deps=t,e.depsTail=n}function fe(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(me(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function me(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===we)return;if(e.globalVersion=we,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!fe(e)))return;e.flags|=2;const t=e.dep,n=Z,i=ye;Z=e,ye=!0;try{he(e);const n=e.fn(e._value);(0===t.version||R(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(RT){throw t.version++,RT}finally{Z=n,ye=i,pe(e),e.flags&=-3}}function ge(e,t=!1){const{dep:n,prevSub:i,nextSub:r}=e;if(i&&(i.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)ge(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function ve(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ye=!0;const be=[];function _e(){be.push(ye),ye=!1}function Te(){const e=be.pop();ye=void 0===e||e}function Se(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=Z;Z=void 0;try{t()}finally{Z=e}}}let we=0;class Ae{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ke{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Z||!ye||Z===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==Z)t=this.activeLink=new Ae(Z,this),Z.deps?(t.prevDep=Z.depsTail,Z.depsTail.nextDep=t,Z.depsTail=t):Z.deps=Z.depsTail=t,xe(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=Z.depsTail,t.nextDep=void 0,Z.depsTail.nextDep=t,Z.depsTail=t,Z.deps===t&&(Z.deps=e)}return t}trigger(e){this.version++,we++,this.notify(e)}notify(e){ue();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{de()}}}function xe(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)xe(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Ce=new WeakMap,Ee=Symbol(""),Oe=Symbol(""),Ie=Symbol("");function De(e,t,n){if(ye&&Z){let t=Ce.get(e);t||Ce.set(e,t=new Map);let i=t.get(n);i||(t.set(n,i=new ke),i.map=t,i.key=n),i.track()}}function Pe(e,t,n,i,r,a){const s=Ce.get(e);if(!s)return void we++;const o=e=>{e&&e.trigger()};if(ue(),"clear"===t)s.forEach(o);else{const r=p(e),a=r&&k(n);if(r&&"length"===n){const e=Number(i);s.forEach((t,n)=>{("length"===n||n===Ie||!y(n)&&n>=e)&&o(t)})}else switch((void 0!==n||s.has(void 0))&&o(s.get(n)),a&&o(s.get(Ie)),t){case"add":r?a&&o(s.get("length")):(o(s.get(Ee)),f(e)&&o(s.get(Oe)));break;case"delete":r||(o(s.get(Ee)),f(e)&&o(s.get(Oe)));break;case"set":f(e)&&o(s.get(Ee))}}de()}function Le(e){const t=vt(e);return t===e?t:(De(t,0,Ie),mt(e)?t:t.map(bt))}function Re(e){return De(e=vt(e),0,Ie),e}const Me={__proto__:null,[Symbol.iterator](){return Ne(this,Symbol.iterator,bt)},concat(...e){return Le(this).concat(...e.map(e=>p(e)?Le(e):e))},entries(){return Ne(this,"entries",e=>(e[1]=bt(e[1]),e))},every(e,t){return Be(this,"every",e,t,void 0,arguments)},filter(e,t){return Be(this,"filter",e,t,e=>e.map(bt),arguments)},find(e,t){return Be(this,"find",e,t,bt,arguments)},findIndex(e,t){return Be(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Be(this,"findLast",e,t,bt,arguments)},findLastIndex(e,t){return Be(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Be(this,"forEach",e,t,void 0,arguments)},includes(...e){return Ue(this,"includes",e)},indexOf(...e){return Ue(this,"indexOf",e)},join(e){return Le(this).join(e)},lastIndexOf(...e){return Ue(this,"lastIndexOf",e)},map(e,t){return Be(this,"map",e,t,void 0,arguments)},pop(){return $e(this,"pop")},push(...e){return $e(this,"push",e)},reduce(e,...t){return Fe(this,"reduce",e,t)},reduceRight(e,...t){return Fe(this,"reduceRight",e,t)},shift(){return $e(this,"shift")},some(e,t){return Be(this,"some",e,t,void 0,arguments)},splice(...e){return $e(this,"splice",e)},toReversed(){return Le(this).toReversed()},toSorted(e){return Le(this).toSorted(e)},toSpliced(...e){return Le(this).toSpliced(...e)},unshift(...e){return $e(this,"unshift",e)},values(){return Ne(this,"values",bt)}};function Ne(e,t,n){const i=Re(e),r=i[t]();return i===e||mt(e)||(r._next=r.next,r.next=()=>{const e=r._next();return e.done||(e.value=n(e.value)),e}),r}const je=Array.prototype;function Be(e,t,n,i,r,a){const s=Re(e),o=s!==e&&!mt(e),l=s[t];if(l!==je[t]){const t=l.apply(e,a);return o?bt(t):t}let c=n;s!==e&&(o?c=function(t,i){return n.call(this,bt(t),i,e)}:n.length>2&&(c=function(t,i){return n.call(this,t,i,e)}));const u=l.call(s,c,i);return o&&r?r(u):u}function Fe(e,t,n,i){const r=Re(e);let a=n;return r!==e&&(mt(e)?n.length>3&&(a=function(t,i,r){return n.call(this,t,i,r,e)}):a=function(t,i,r){return n.call(this,t,bt(i),r,e)}),r[t](a,...i)}function Ue(e,t,n){const i=vt(e);De(i,0,Ie);const r=i[t](...n);return-1!==r&&!1!==r||!gt(n[0])?r:(n[0]=vt(n[0]),i[t](...n))}function $e(e,t,n=[]){_e(),ue();const i=vt(e)[t].apply(e,n);return de(),Te(),i}const Ve=n("__proto__,__v_isRef,__isVue"),qe=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(y));function ze(e){y(e)||(e=String(e));const t=vt(this);return De(t,0,e),t.hasOwnProperty(e)}class He{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if("__v_isReactive"===t)return!i;if("__v_isReadonly"===t)return i;if("__v_isShallow"===t)return r;if("__v_raw"===t)return n===(i?r?lt:ot:r?st:at).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const a=p(e);if(!i){let e;if(a&&(e=Me[t]))return e;if("hasOwnProperty"===t)return ze}const s=Reflect.get(e,t,Tt(e)?e:n);if(y(t)?qe.has(t):Ve(t))return s;if(i||De(e,0,t),r)return s;if(Tt(s)){const e=a&&k(t)?s:s.value;return i&&b(e)?dt(e):e}return b(s)?i?dt(s):ct(s):s}}class We extends He{constructor(e=!1){super(!1,e)}set(e,t,n,i){let r=e[t];if(!this._isShallow){const t=ft(r);if(mt(n)||ft(n)||(r=vt(r),n=vt(n)),!p(e)&&Tt(r)&&!Tt(n))return t||(r.value=n),!0}const a=p(e)&&k(t)?Number(t)<e.length:h(e,t),s=Reflect.set(e,t,n,Tt(e)?e:i);return e===vt(i)&&(a?R(n,r)&&Pe(e,"set",t,n):Pe(e,"add",t,n)),s}deleteProperty(e,t){const n=h(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Pe(e,"delete",t,void 0),i}has(e,t){const n=Reflect.has(e,t);return y(t)&&qe.has(t)||De(e,0,t),n}ownKeys(e){return De(e,0,p(e)?"length":Ee),Reflect.ownKeys(e)}}class Ge extends He{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Xe=new We,Ye=new Ge,Ke=new We(!0),Qe=e=>e,Je=e=>Reflect.getPrototypeOf(e);function Ze(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function et(e,t){const n={get(n){const i=this.__v_raw,r=vt(i),a=vt(n);e||(R(n,a)&&De(r,0,n),De(r,0,a));const{has:s}=Je(r),o=t?Qe:e?_t:bt;return s.call(r,n)?o(i.get(n)):s.call(r,a)?o(i.get(a)):void(i!==r&&i.get(n))},get size(){const t=this.__v_raw;return!e&&De(vt(t),0,Ee),t.size},has(t){const n=this.__v_raw,i=vt(n),r=vt(t);return e||(R(t,r)&&De(i,0,t),De(i,0,r)),t===r?n.has(t):n.has(t)||n.has(r)},forEach(n,i){const r=this,a=r.__v_raw,s=vt(a),o=t?Qe:e?_t:bt;return!e&&De(s,0,Ee),a.forEach((e,t)=>n.call(i,o(e),o(t),r))}};return c(n,e?{add:Ze("add"),set:Ze("set"),delete:Ze("delete"),clear:Ze("clear")}:{add(e){t||mt(e)||ft(e)||(e=vt(e));const n=vt(this);return Je(n).has.call(n,e)||(n.add(e),Pe(n,"add",e,e)),this},set(e,n){t||mt(n)||ft(n)||(n=vt(n));const i=vt(this),{has:r,get:a}=Je(i);let s=r.call(i,e);s||(e=vt(e),s=r.call(i,e));const o=a.call(i,e);return i.set(e,n),s?R(n,o)&&Pe(i,"set",e,n):Pe(i,"add",e,n),this},delete(e){const t=vt(this),{has:n,get:i}=Je(t);let r=n.call(t,e);r||(e=vt(e),r=n.call(t,e)),i&&i.call(t,e);const a=t.delete(e);return r&&Pe(t,"delete",e,void 0),a},clear(){const e=vt(this),t=0!==e.size,n=e.clear();return t&&Pe(e,"clear",void 0,void 0),n}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=function(e,t,n){return function(...i){const r=this.__v_raw,a=vt(r),s=f(a),o="entries"===e||e===Symbol.iterator&&s,l="keys"===e&&s,c=r[e](...i),u=n?Qe:t?_t:bt;return!t&&De(a,0,l?Oe:Ee),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:o?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}(i,e,t)}),n}function tt(e,t){const n=et(e,t);return(t,i,r)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(h(n,i)&&i in t?n:t,i,r)}const nt={get:tt(!1,!1)},it={get:tt(!1,!0)},rt={get:tt(!0,!1)},at=new WeakMap,st=new WeakMap,ot=new WeakMap,lt=new WeakMap;function ct(e){return ft(e)?e:ht(e,!1,Xe,nt,at)}function ut(e){return ht(e,!1,Ke,it,st)}function dt(e){return ht(e,!0,Ye,rt,ot)}function ht(e,t,n,i,r){if(!b(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const a=function(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(w(e))}(e);if(0===a)return e;const s=r.get(e);if(s)return s;const o=new Proxy(e,2===a?i:n);return r.set(e,o),o}function pt(e){return ft(e)?pt(e.__v_raw):!(!e||!e.__v_isReactive)}function ft(e){return!(!e||!e.__v_isReadonly)}function mt(e){return!(!e||!e.__v_isShallow)}function gt(e){return!!e&&!!e.__v_raw}function vt(e){const t=e&&e.__v_raw;return t?vt(t):e}function yt(e){return!h(e,"__v_skip")&&Object.isExtensible(e)&&N(e,"__v_skip",!0),e}const bt=e=>b(e)?ct(e):e,_t=e=>b(e)?dt(e):e;function Tt(e){return!!e&&!0===e.__v_isRef}function St(e){return At(e,!1)}function wt(e){return At(e,!0)}function At(e,t){return Tt(e)?e:new kt(e,t)}class kt{constructor(e,t){this.dep=new ke,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:vt(e),this._value=t?e:bt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||mt(e)||ft(e);e=n?e:vt(e),R(e,t)&&(this._rawValue=e,this._value=n?e:bt(e),this.dep.trigger())}}function xt(e){return Tt(e)?e.value:e}function Ct(e){return g(e)?e():xt(e)}const Et={get:(e,t,n)=>"__v_raw"===t?e:xt(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Tt(r)&&!Tt(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Ot(e){return pt(e)?e:new Proxy(e,Et)}class It{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new ke,{get:n,set:i}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function Dt(e){const t=p(e)?new Array(e.length):{};for(const n in e)t[n]=Mt(e,n);return t}class Pt{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return function(e,t){const n=Ce.get(e);return n&&n.get(t)}(vt(this._object),this._key)}}class Lt{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Rt(e,t,n){return Tt(e)?e:g(e)?new Lt(e):b(e)&&arguments.length>1?Mt(e,t,n):St(e)}function Mt(e,t,n){const i=e[t];return Tt(i)?i:new Pt(e,t,n)}class Nt{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new ke(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=we-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&Z!==this)return ce(this,!0),!0}get value(){const e=this.dep.track();return me(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const jt={},Bt=new WeakMap;let Ft;function Ut(e,t,n=i){const{immediate:r,deep:s,once:o,scheduler:l,augmentJob:c,call:d}=n,h=e=>s?e:mt(e)||!1===s||0===s?$t(e,1):$t(e);let f,m,v,y,b=!1,_=!1;if(Tt(e)?(m=()=>e.value,b=mt(e)):pt(e)?(m=()=>h(e),b=!0):p(e)?(_=!0,b=e.some(e=>pt(e)||mt(e)),m=()=>e.map(e=>Tt(e)?e.value:pt(e)?h(e):g(e)?d?d(e,2):e():void 0)):m=g(e)?t?d?()=>d(e,2):e:()=>{if(v){_e();try{v()}finally{Te()}}const t=Ft;Ft=f;try{return d?d(e,3,[y]):e(y)}finally{Ft=t}}:a,t&&s){const e=m,t=!0===s?1/0:s;m=()=>$t(e(),t)}const T=ne(),S=()=>{f.stop(),T&&T.active&&u(T.effects,f)};if(o&&t){const e=t;t=(...t)=>{e(...t),S()}}let w=_?new Array(e.length).fill(jt):jt;const A=e=>{if(1&f.flags&&(f.dirty||e))if(t){const e=f.run();if(s||b||(_?e.some((e,t)=>R(e,w[t])):R(e,w))){v&&v();const n=Ft;Ft=f;try{const n=[e,w===jt?void 0:_&&w[0]===jt?[]:w,y];w=e,d?d(t,3,n):t(...n)}finally{Ft=n}}}else f.run()};return c&&c(A),f=new ae(m),f.scheduler=l?()=>l(A,!1):A,y=e=>function(e,t=!1,n=Ft){if(n){let t=Bt.get(n);t||Bt.set(n,t=[]),t.push(e)}}(e,!1,f),v=f.onStop=()=>{const e=Bt.get(f);if(e){if(d)d(e,4);else for(const t of e)t();Bt.delete(f)}},t?r?A(!0):w=f.run():l?l(A.bind(null,!0),!0):f.run(),S.pause=f.pause.bind(f),S.resume=f.resume.bind(f),S.stop=S,S}function $t(e,t=1/0,n){if(t<=0||!b(e)||e.__v_skip)return e;if(((n=n||new Map).get(e)||0)>=t)return e;if(n.set(e,t),t--,Tt(e))$t(e.value,t,n);else if(p(e))for(let i=0;i<e.length;i++)$t(e[i],t,n);else if(m(e)||f(e))e.forEach(e=>{$t(e,t,n)});else if(A(e)){for(const i in e)$t(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&$t(e[i],t,n)}return e}
/**
      * @vue/runtime-core v3.5.24
      * (c) 2018-present Yuxi (Evan) You and Vue contributors
      * @license MIT
      **/function Vt(e,t,n,i){try{return i?e(...i):e()}catch(RT){zt(RT,t,n)}}function qt(e,t,n,i){if(g(e)){const r=Vt(e,t,n,i);return r&&_(r)&&r.catch(e=>{zt(e,t,n)}),r}if(p(e)){const r=[];for(let a=0;a<e.length;a++)r.push(qt(e[a],t,n,i));return r}}function zt(e,t,n,r=!0){t&&t.vnode;const{errorHandler:a,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||i;if(t){let i=t.parent;const r=t.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,s))return;i=i.parent}if(a)return _e(),Vt(a,null,10,[e,r,s]),void Te()}!function(e,t,n,i=!0,r=!1){if(r)throw e;console.error(e)}(e,0,0,r,s)}const Ht=[];let Wt=-1;const Gt=[];let Xt=null,Yt=0;const Kt=Promise.resolve();let Qt=null;function Jt(e){const t=Qt||Kt;return e?t.then(this?e.bind(this):e):t}function Zt(e){if(!(1&e.flags)){const t=rn(e),n=Ht[Ht.length-1];!n||!(2&e.flags)&&t>=rn(n)?Ht.push(e):Ht.splice(function(e){let t=Wt+1,n=Ht.length;for(;t<n;){const i=t+n>>>1,r=Ht[i],a=rn(r);a<e||a===e&&2&r.flags?t=i+1:n=i}return t}(t),0,e),e.flags|=1,en()}}function en(){Qt||(Qt=Kt.then(an))}function tn(e,t,n=Wt+1){for(;n<Ht.length;n++){const t=Ht[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;Ht.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function nn(e){if(Gt.length){const e=[...new Set(Gt)].sort((e,t)=>rn(e)-rn(t));if(Gt.length=0,Xt)return void Xt.push(...e);for(Xt=e,Yt=0;Yt<Xt.length;Yt++){const e=Xt[Yt];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}Xt=null,Yt=0}}const rn=e=>null==e.id?2&e.flags?-1:1/0:e.id;function an(e){try{for(Wt=0;Wt<Ht.length;Wt++){const e=Ht[Wt];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Vt(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;Wt<Ht.length;Wt++){const e=Ht[Wt];e&&(e.flags&=-2)}Wt=-1,Ht.length=0,nn(),Qt=null,(Ht.length||Gt.length)&&an()}}let sn=null,on=null;function ln(e){const t=sn;return sn=e,on=e&&e.type.__scopeId||null,t}function cn(e,t=sn,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&Vr(-1);const r=ln(t);let a;try{a=e(...n)}finally{ln(r),i._d&&Vr(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function un(e,t){if(null===sn)return e;const n=_a(sn),r=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[e,s,o,l=i]=t[a];e&&(g(e)&&(e={mounted:e,updated:e}),e.deep&&$t(s),r.push({dir:e,instance:n,value:s,oldValue:void 0,arg:o,modifiers:l}))}return e}function dn(e,t,n,i){const r=e.dirs,a=t&&t.dirs;for(let s=0;s<r.length;s++){const o=r[s];a&&(o.oldValue=a[s].value);let l=o.dir[i];l&&(_e(),qt(l,n,8,[e.el,o,e,t]),Te())}}const hn=Symbol("_vte"),pn=e=>e.__isTeleport,fn=e=>e&&(e.disabled||""===e.disabled),mn=e=>e&&(e.defer||""===e.defer),gn=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,vn=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,yn=(e,t)=>{const n=e&&e.to;return v(n)?t?t(n):null:n},bn={name:"Teleport",__isTeleport:!0,process(e,t,n,i,r,a,s,o,l,c){const{mc:u,pc:d,pbc:h,o:{insert:p,querySelector:f,createText:m,createComment:g}}=c,v=fn(t.props);let{shapeFlag:y,children:b,dynamicChildren:_}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");p(e,n,i),p(c,n,i);const d=(e,t)=>{16&y&&u(b,e,t,r,a,s,o,l)},h=()=>{const e=t.target=yn(t.props,f),n=wn(e,t,m,p);e&&("svg"!==s&&gn(e)?s="svg":"mathml"!==s&&vn(e)&&(s="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(e),v||(d(e,n),Sn(t,!1)))};v&&(d(n,c),Sn(t,!0)),mn(t.props)?(t.el.__isMounted=!1,ur(()=>{h(),delete t.el.__isMounted},a)):h()}else{if(mn(t.props)&&!1===e.el.__isMounted)return void ur(()=>{bn.process(e,t,n,i,r,a,s,o,l,c)},a);t.el=e.el,t.targetStart=e.targetStart;const u=t.anchor=e.anchor,p=t.target=e.target,m=t.targetAnchor=e.targetAnchor,g=fn(e.props),y=g?n:p,b=g?u:m;if("svg"===s||gn(p)?s="svg":("mathml"===s||vn(p))&&(s="mathml"),_?(h(e.dynamicChildren,_,y,r,a,s,o),fr(e,t,!0)):l||d(e,t,y,b,r,a,s,o,!1),v)g?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):_n(t,n,u,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=yn(t.props,f);e&&_n(t,e,null,c,0)}else g&&_n(t,p,m,c,1);Sn(t,v)}},remove(e,t,n,{um:i,o:{remove:r}},a){const{shapeFlag:s,children:o,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=e;if(d&&(r(c),r(u)),a&&r(l),16&s){const e=a||!fn(h);for(let r=0;r<o.length;r++){const a=o[r];i(a,t,n,e,!!a.dynamicChildren)}}},move:_n,hydrate:function(e,t,n,i,r,a,{o:{nextSibling:s,parentNode:o,querySelector:l,insert:c,createText:u}},d){function h(e,t,l,c){t.anchor=d(s(e),t,o(e),n,i,r,a),t.targetStart=l,t.targetAnchor=c}const p=t.target=yn(t.props,l),f=fn(t.props);if(p){const o=p._lpa||p.firstChild;if(16&t.shapeFlag)if(f)h(e,t,o,o&&s(o));else{t.anchor=s(e);let l=o;for(;l;){if(l&&8===l.nodeType)if("teleport start anchor"===l.data)t.targetStart=l;else if("teleport anchor"===l.data){t.targetAnchor=l,p._lpa=t.targetAnchor&&s(t.targetAnchor);break}l=s(l)}t.targetAnchor||wn(p,t,u,c),d(o&&s(o),t,p,n,i,r,a)}Sn(t,f)}else f&&16&t.shapeFlag&&h(e,t,e,s(e));return t.anchor&&s(t.anchor)}};function _n(e,t,n,{o:{insert:i},m:r},a=2){0===a&&i(e.targetAnchor,t,n);const{el:s,anchor:o,shapeFlag:l,children:c,props:u}=e,d=2===a;if(d&&i(s,t,n),(!d||fn(u))&&16&l)for(let h=0;h<c.length;h++)r(c[h],t,n,2);d&&i(o,t,n)}const Tn=bn;function Sn(e,t){const n=e.ctx;if(n&&n.ut){let i,r;for(t?(i=e.el,r=e.anchor):(i=e.targetStart,r=e.targetAnchor);i&&i!==r;)1===i.nodeType&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function wn(e,t,n,i){const r=t.targetStart=n(""),a=t.targetAnchor=n("");return r[hn]=a,e&&(i(r,e),i(a,e)),a}const An=Symbol("_leaveCb"),kn=Symbol("_enterCb"),xn=[Function,Array],Cn={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xn,onEnter:xn,onAfterEnter:xn,onEnterCancelled:xn,onBeforeLeave:xn,onLeave:xn,onAfterLeave:xn,onLeaveCancelled:xn,onBeforeAppear:xn,onAppear:xn,onAfterAppear:xn,onAppearCancelled:xn},En=e=>{const t=e.subTree;return t.component?En(t.component):t},On={name:"BaseTransition",props:Cn,setup(e,{slots:t}){const n=ua(),i=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ai(()=>{e.isMounted=!0}),li(()=>{e.isUnmounting=!0}),e}();return()=>{const r=t.default&&jn(t.default(),!0);if(!r||!r.length)return;const a=In(r),s=vt(e),{mode:o}=s;if(i.isLeaving)return Rn(a);const l=Mn(a);if(!l)return Rn(a);let c=Ln(l,s,i,n,e=>c=e);l.type!==Nr&&Nn(l,c);let u=n.subTree&&Mn(n.subTree);if(u&&u.type!==Nr&&!Gr(u,l)&&En(n).type!==Nr){let e=Ln(u,s,i,n);if(Nn(u,e),"out-in"===o&&l.type!==Nr)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,u=void 0},Rn(a);"in-out"===o&&l.type!==Nr?e.delayLeave=(e,t,n)=>{Pn(i,u)[String(u.key)]=u,e[An]=()=>{t(),e[An]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{n(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return a}}};function In(e){let t=e[0];if(e.length>1)for(const n of e)if(n.type!==Nr){t=n;break}return t}const Dn=On;function Pn(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Ln(e,t,n,i,r){const{appear:a,mode:s,persisted:o=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:_}=t,T=String(e.key),S=Pn(n,e),w=(e,t)=>{e&&qt(e,i,9,t)},A=(e,t)=>{const n=t[1];w(e,t),p(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},k={mode:s,persisted:o,beforeEnter(t){let i=l;if(!n.isMounted){if(!a)return;i=v||l}t[An]&&t[An](!0);const r=S[T];r&&Gr(e,r)&&r.el[An]&&r.el[An](),w(i,[t])},enter(e){let t=c,i=u,r=d;if(!n.isMounted){if(!a)return;t=y||c,i=b||u,r=_||d}let s=!1;const o=e[kn]=t=>{s||(s=!0,w(t?r:i,[e]),k.delayedLeave&&k.delayedLeave(),e[kn]=void 0)};t?A(t,[e,o]):o()},leave(t,i){const r=String(e.key);if(t[kn]&&t[kn](!0),n.isUnmounting)return i();w(h,[t]);let a=!1;const s=t[An]=n=>{a||(a=!0,i(),w(n?g:m,[t]),t[An]=void 0,S[r]===e&&delete S[r])};S[r]=e,f?A(f,[t,s]):s()},clone(e){const a=Ln(e,t,n,i,r);return r&&r(a),a}};return k}function Rn(e){if(Wn(e))return(e=Zr(e)).children=null,e}function Mn(e){if(!Wn(e))return pn(e.type)&&e.children?In(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&g(n.default))return n.default()}}function Nn(e,t){6&e.shapeFlag&&e.component?(e.transition=t,Nn(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function jn(e,t=!1,n){let i=[],r=0;for(let a=0;a<e.length;a++){let s=e[a];const o=null==n?s.key:String(n)+String(null!=s.key?s.key:a);s.type===Rr?(128&s.patchFlag&&r++,i=i.concat(jn(s.children,t,o))):(t||s.type!==Nr)&&i.push(null!=o?Zr(s,{key:o}):s)}if(r>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}function Bn(e,t){return g(e)?(()=>c({name:e.name},t,{setup:e}))():e}function Fn(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Un=new WeakMap;function $n(e,t,n,r,a=!1){if(p(e))return void e.forEach((e,i)=>$n(e,t&&(p(t)?t[i]:t),n,r,a));if(zn(r)&&!a)return void(512&r.shapeFlag&&r.type.__asyncResolved&&r.component.subTree.component&&$n(e,t,n,r.component.subTree));const o=4&r.shapeFlag?_a(r.component):r.el,l=a?null:o,{i:c,r:d}=e,f=t&&t.r,m=c.refs===i?c.refs={}:c.refs,y=c.setupState,b=vt(y),_=y===i?s:e=>h(b,e);if(null!=f&&f!==d)if(Vn(t),v(f))m[f]=null,_(f)&&(y[f]=null);else if(Tt(f)){f.value=null;const e=t;e.k&&(m[e.k]=null)}if(g(d))Vt(d,c,12,[l,m]);else{const t=v(d),i=Tt(d);if(t||i){const r=()=>{if(e.f){const n=t?_(d)?y[d]:m[d]:d.value;if(a)p(n)&&u(n,o);else if(p(n))n.includes(o)||n.push(o);else if(t)m[d]=[o],_(d)&&(y[d]=m[d]);else{const t=[o];d.value=t,e.k&&(m[e.k]=t)}}else t?(m[d]=l,_(d)&&(y[d]=l)):i&&(d.value=l,e.k&&(m[e.k]=l))};if(l){const t=()=>{r(),Un.delete(e)};t.id=-1,Un.set(e,t),ur(t,n)}else Vn(e),r()}}}function Vn(e){const t=Un.get(e);t&&(t.flags|=8,Un.delete(e))}const qn=e=>8===e.nodeType;F().requestIdleCallback,F().cancelIdleCallback;const zn=e=>!!e.type.__asyncLoader;function Hn(e,t){const{ref:n,props:i,children:r,ce:a}=t.vnode,s=Qr(e,i,r);return s.ref=n,s.ce=a,delete t.vnode.ce,s}const Wn=e=>e.type.__isKeepAlive,Gn={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=ua(),i=n.ctx;if(!i.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const r=new Map,a=new Set;let s=null;const o=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:d}}}=i,h=d("div");function p(e){ei(e),u(e,n,o,!0)}function f(e){r.forEach((t,n)=>{const i=Ta(t.type);i&&!e(i)&&m(n)})}function m(e){const t=r.get(e);!t||s&&Gr(t,s)?s&&ei(s):p(t),r.delete(e),a.delete(e)}i.activate=(e,t,n,i,r)=>{const a=e.component;c(e,t,n,0,o),l(a.vnode,e,t,n,a,o,i,e.slotScopeIds,r),ur(()=>{a.isDeactivated=!1,a.a&&M(a.a);const t=e.props&&e.props.onVnodeMounted;t&&sa(t,a.parent,e)},o)},i.deactivate=e=>{const t=e.component;gr(t.m),gr(t.a),c(e,h,null,1,o),ur(()=>{t.da&&M(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&sa(n,t.parent,e),t.isDeactivated=!0},o)},_r(()=>[e.include,e.exclude],([e,t])=>{e&&f(t=>Yn(e,t)),t&&f(e=>!Yn(t,e))},{flush:"post",deep:!0});let g=null;const v=()=>{null!=g&&(Lr(n.subTree.type)?ur(()=>{r.set(g,ti(n.subTree))},n.subTree.suspense):r.set(g,ti(n.subTree)))};return ai(v),oi(v),li(()=>{r.forEach(e=>{const{subTree:t,suspense:i}=n,r=ti(t);if(e.type===r.type&&e.key===r.key){ei(r);const e=r.component.da;return void(e&&ur(e,i))}p(e)})}),()=>{if(g=null,!t.default)return s=null;const n=t.default(),i=n[0];if(n.length>1)return s=null,n;if(!Wr(i)||!(4&i.shapeFlag||128&i.shapeFlag))return s=null,i;let o=ti(i);if(o.type===Nr)return s=null,o;const l=o.type,c=Ta(zn(o)?o.type.__asyncResolved||{}:l),{include:u,exclude:d,max:h}=e;if(u&&(!c||!Yn(u,c))||d&&c&&Yn(d,c))return o.shapeFlag&=-257,s=o,i;const p=null==o.key?l:o.key,f=r.get(p);return o.el&&(o=Zr(o),128&i.shapeFlag&&(i.ssContent=o)),g=p,f?(o.el=f.el,o.component=f.component,o.transition&&Nn(o,o.transition),o.shapeFlag|=512,a.delete(p),a.add(p)):(a.add(p),h&&a.size>parseInt(h,10)&&m(a.values().next().value)),o.shapeFlag|=256,s=o,Lr(i.type)?i:o}}},Xn=Gn;function Yn(e,t){return p(e)?e.some(e=>Yn(e,t)):v(e)?e.split(",").includes(t):"[object RegExp]"===S(e)&&(e.lastIndex=0,e.test(t))}function Kn(e,t){Jn(e,"a",t)}function Qn(e,t){Jn(e,"da",t)}function Jn(e,t,n=ca){const i=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(ni(t,i,n),n){let e=n.parent;for(;e&&e.parent;)Wn(e.parent.vnode)&&Zn(i,t,n,e),e=e.parent}}function Zn(e,t,n,i){const r=ni(t,e,i,!0);ci(()=>{u(i[t],r)},n)}function ei(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ti(e){return 128&e.shapeFlag?e.ssContent:e}function ni(e,t,n=ca,i=!1){if(n){const r=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...i)=>{_e();const r=pa(n),a=qt(t,n,e,i);return r(),Te(),a});return i?r.unshift(a):r.push(a),a}}const ii=e=>(t,n=ca)=>{ga&&"sp"!==e||ni(e,(...e)=>t(...e),n)},ri=ii("bm"),ai=e("o",ii("m")),si=ii("bu"),oi=ii("u"),li=e("aC",ii("bum")),ci=e("a6",ii("um")),ui=ii("sp"),di=ii("rtg"),hi=ii("rtc");function pi(e,t=ca){ni("ec",e,t)}const fi="components",mi="directives";function gi(e,t){return _i(fi,e,!0,t)||e}const vi=Symbol.for("v-ndc");function yi(e){return v(e)?_i(fi,e,!1)||e:e||vi}function bi(e){return _i(mi,e)}function _i(e,t,n=!0,i=!1){const r=sn||ca;if(r){const n=r.type;if(e===fi){const e=Ta(n,!1);if(e&&(e===t||e===O(t)||e===P(O(t))))return n}const a=Ti(r[e]||n[e],t)||Ti(r.appContext[e],t);return!a&&i?n:a}}function Ti(e,t){return e&&(e[t]||e[O(t)]||e[P(O(t))])}function Si(e,t,n,i){let r;const a=n,s=p(e);if(s||v(e)){let n=!1,i=!1;s&&pt(e)&&(n=!mt(e),i=ft(e),e=Re(e)),r=new Array(e.length);for(let s=0,o=e.length;s<o;s++)r[s]=t(n?i?_t(bt(e[s])):bt(e[s]):e[s],s,void 0,a)}else if("number"==typeof e){r=new Array(e);for(let n=0;n<e;n++)r[n]=t(n+1,n,void 0,a)}else if(b(e))if(e[Symbol.iterator])r=Array.from(e,(e,n)=>t(e,n,void 0,a));else{const n=Object.keys(e);r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const s=n[i];r[i]=t(e[s],s,i,a)}}else r=[];return r}function wi(e,t){for(let n=0;n<t.length;n++){const i=t[n];if(p(i))for(let t=0;t<i.length;t++)e[i[t].name]=i[t].fn;else i&&(e[i.name]=i.key?(...e)=>{const t=i.fn(...e);return t&&(t.key=i.key),t}:i.fn)}return e}function Ai(e,t,n={},i,r){if(sn.ce||sn.parent&&zn(sn.parent)&&sn.parent.ce){const e=Object.keys(n).length>0;return"default"!==t&&(n.name=t),Ur(),Hr(Rr,null,[Qr("slot",n,i&&i())],e?-2:64)}let a=e[t];a&&a._c&&(a._d=!1),Ur();const s=a&&ki(a(n)),o=n.key||s&&s.key,l=Hr(Rr,{key:(o&&!y(o)?o:`_${t}`)+(!s&&i?"_fb":"")},s||(i?i():[]),s&&1===e._?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),a&&a._c&&(a._d=!0),l}function ki(e){return e.some(e=>!Wr(e)||e.type!==Nr&&!(e.type===Rr&&!ki(e.children)))?e:null}const xi=e=>e?ma(e)?_a(e):xi(e.parent):null,Ci=c(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>xi(e.parent),$root:e=>xi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Mi(e),$forceUpdate:e=>e.f||(e.f=()=>{Zt(e.update)}),$nextTick:e=>e.n||(e.n=Jt.bind(e.proxy)),$watch:e=>Sr.bind(e)}),Ei=(e,t)=>e!==i&&!e.__isScriptSetup&&h(e,t),Oi={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:n,setupState:r,data:a,props:s,accessCache:o,type:l,appContext:c}=e;let u;if("$"!==t[0]){const l=o[t];if(void 0!==l)switch(l){case 1:return r[t];case 2:return a[t];case 4:return n[t];case 3:return s[t]}else{if(Ei(r,t))return o[t]=1,r[t];if(a!==i&&h(a,t))return o[t]=2,a[t];if((u=e.propsOptions[0])&&h(u,t))return o[t]=3,s[t];if(n!==i&&h(n,t))return o[t]=4,n[t];Di&&(o[t]=0)}}const d=Ci[t];let p,f;return d?("$attrs"===t&&De(e.attrs,0,""),d(e)):(p=l.__cssModules)&&(p=p[t])?p:n!==i&&h(n,t)?(o[t]=4,n[t]):(f=c.config.globalProperties,h(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:r,setupState:a,ctx:s}=e;return Ei(a,t)?(a[t]=n,!0):r!==i&&h(r,t)?(r[t]=n,!0):!(h(e.props,t)||"$"===t[0]&&t.slice(1)in e||(s[t]=n,0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:a,propsOptions:s,type:o}},l){let c,u;return!!(n[l]||e!==i&&"$"!==l[0]&&h(e,l)||Ei(t,l)||(c=s[0])&&h(c,l)||h(r,l)||h(Ci,l)||h(a.config.globalProperties,l)||(u=o.__cssModules)&&u[l])},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:h(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Ii(e){return p(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}let Di=!0;function Pi(e){const t=Mi(e),n=e.proxy,i=e.ctx;Di=!1,t.beforeCreate&&Li(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:o,watch:l,provide:c,inject:u,created:d,beforeMount:h,mounted:f,beforeUpdate:m,updated:v,activated:y,deactivated:_,beforeDestroy:T,beforeUnmount:S,destroyed:w,unmounted:A,render:k,renderTracked:x,renderTriggered:C,errorCaptured:E,serverPrefetch:O,expose:I,inheritAttrs:D,components:P,directives:L,filters:R}=t;if(u&&function(e,t){p(e)&&(e=Fi(e));for(const n in e){const i=e[n];let r;r=b(i)?"default"in i?Xi(i.from||n,i.default,!0):Xi(i.from||n):Xi(i),Tt(r)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e}):t[n]=r}}(u,i),o)for(const a in o){const e=o[a];g(e)&&(i[a]=e.bind(n))}if(r){const t=r.call(n,n);b(t)&&(e.data=ct(t))}if(Di=!0,s)for(const p in s){const e=s[p],t=g(e)?e.bind(n,n):g(e.get)?e.get.bind(n,n):a,r=!g(e)&&g(e.set)?e.set.bind(n):a,o=Sa({get:t,set:r});Object.defineProperty(i,p,{enumerable:!0,configurable:!0,get:()=>o.value,set:e=>o.value=e})}if(l)for(const a in l)Ri(l[a],i,n,a);if(c){const e=g(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{Gi(t,e[t])})}function M(e,t){p(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(d&&Li(d,e,"c"),M(ri,h),M(ai,f),M(si,m),M(oi,v),M(Kn,y),M(Qn,_),M(pi,E),M(hi,x),M(di,C),M(li,S),M(ci,A),M(ui,O),p(I))if(I.length){const t=e.exposed||(e.exposed={});I.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||(e.exposed={});k&&e.render===a&&(e.render=k),null!=D&&(e.inheritAttrs=D),P&&(e.components=P),L&&(e.directives=L),O&&Fn(e)}function Li(e,t,n){qt(p(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ri(e,t,n,i){let r=i.includes(".")?wr(n,i):()=>n[i];if(v(e)){const n=t[e];g(n)&&_r(r,n)}else if(g(e))_r(r,e.bind(n));else if(b(e))if(p(e))e.forEach(e=>Ri(e,t,n,i));else{const i=g(e.handler)?e.handler.bind(n):t[e.handler];g(i)&&_r(r,i,e)}}function Mi(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let l;return o?l=o:r.length||n||i?(l={},r.length&&r.forEach(e=>Ni(l,e,s,!0)),Ni(l,t,s)):l=t,b(t)&&a.set(t,l),l}function Ni(e,t,n,i=!1){const{mixins:r,extends:a}=t;a&&Ni(e,a,n,!0),r&&r.forEach(t=>Ni(e,t,n,!0));for(const s in t)if(i&&"expose"===s);else{const i=ji[s]||n&&n[s];e[s]=i?i(e[s],t[s]):t[s]}return e}const ji={data:Bi,props:Vi,emits:Vi,methods:$i,computed:$i,beforeCreate:Ui,created:Ui,beforeMount:Ui,mounted:Ui,beforeUpdate:Ui,updated:Ui,beforeDestroy:Ui,beforeUnmount:Ui,destroyed:Ui,unmounted:Ui,activated:Ui,deactivated:Ui,errorCaptured:Ui,serverPrefetch:Ui,components:$i,directives:$i,watch:function(e,t){if(!e)return t;if(!t)return e;const n=c(Object.create(null),e);for(const i in t)n[i]=Ui(e[i],t[i]);return n},provide:Bi,inject:function(e,t){return $i(Fi(e),Fi(t))}};function Bi(e,t){return t?e?function(){return c(g(e)?e.call(this,this):e,g(t)?t.call(this,this):t)}:t:e}function Fi(e){if(p(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ui(e,t){return e?[...new Set([].concat(e,t))]:t}function $i(e,t){return e?c(Object.create(null),e,t):t}function Vi(e,t){return e?p(e)&&p(t)?[...new Set([...e,...t])]:c(Object.create(null),Ii(e),Ii(null!=t?t:{})):t}function qi(){return{app:null,config:{isNativeTag:s,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zi=0;function Hi(e,t){return function(t,n=null){g(t)||(t=c({},t)),null==n||b(n)||(n=null);const i=qi(),r=new WeakSet,a=[];let s=!1;const o=i.app={_uid:zi++,_component:t,_props:n,_container:null,_context:i,_instance:null,version:Aa,get config(){return i.config},set config(e){},use:(e,...t)=>(r.has(e)||(e&&g(e.install)?(r.add(e),e.install(o,...t)):g(e)&&(r.add(e),e(o,...t))),o),mixin:e=>(i.mixins.includes(e)||i.mixins.push(e),o),component:(e,t)=>t?(i.components[e]=t,o):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,o):i.directives[e],mount(r,a,l){if(!s){const a=o._ceVNode||Qr(t,n);return a.appContext=i,!0===l?l="svg":!1===l&&(l=void 0),e(a,r,l),s=!0,o._container=r,r.__vue_app__=o,_a(a.component)}},onUnmount(e){a.push(e)},unmount(){s&&(qt(a,o._instance,16),e(null,o._container),delete o._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,o),runWithContext(e){const t=Wi;Wi=o;try{return e()}finally{Wi=t}}};return o}}let Wi=null;function Gi(e,t){if(ca){let n=ca.provides;const i=ca.parent&&ca.parent.provides;i===n&&(n=ca.provides=Object.create(i)),n[e]=t}}function Xi(e,t,n=!1){const i=ua();if(i||Wi){let r=Wi?Wi._context.provides:i?null==i.parent||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return n&&g(t)?t.call(i&&i.proxy):t}}function Yi(){return!(!ua()&&!Wi)}const Ki={},Qi=()=>Object.create(Ki),Ji=e=>Object.getPrototypeOf(e)===Ki;function Zi(e,t,n,r){const[a,s]=e.propsOptions;let o,l=!1;if(t)for(let i in t){if(x(i))continue;const c=t[i];let u;a&&h(a,u=O(i))?s&&s.includes(u)?(o||(o={}))[u]=c:n[u]=c:Er(e.emitsOptions,i)||i in r&&c===r[i]||(r[i]=c,l=!0)}if(s){const t=vt(n),r=o||i;for(let i=0;i<s.length;i++){const o=s[i];n[o]=er(a,t,o,r[o],e,!h(r,o))}}return l}function er(e,t,n,i,r,a){const s=e[n];if(null!=s){const e=h(s,"default");if(e&&void 0===i){const e=s.default;if(s.type!==Function&&!s.skipFactory&&g(e)){const{propsDefaults:a}=r;if(n in a)i=a[n];else{const s=pa(r);i=a[n]=e.call(null,t),s()}}else i=e;r.ce&&r.ce._setProp(n,i)}s[0]&&(a&&!e?i=!1:!s[1]||""!==i&&i!==D(n)||(i=!0))}return i}const tr=new WeakMap;function nr(e,t,n=!1){const a=n?tr:t.propsCache,s=a.get(e);if(s)return s;const o=e.props,l={},u=[];let d=!1;if(!g(e)){const i=e=>{d=!0;const[n,i]=nr(e,t,!0);c(l,n),i&&u.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!o&&!d)return b(e)&&a.set(e,r),r;if(p(o))for(let r=0;r<o.length;r++){const e=O(o[r]);ir(e)&&(l[e]=i)}else if(o)for(const i in o){const e=O(i);if(ir(e)){const t=o[i],n=l[e]=p(t)||g(t)?{type:t}:c({},t),r=n.type;let a=!1,s=!0;if(p(r))for(let e=0;e<r.length;++e){const t=r[e],n=g(t)&&t.name;if("Boolean"===n){a=!0;break}"String"===n&&(s=!1)}else a=g(r)&&"Boolean"===r.name;n[0]=a,n[1]=s,(a||h(n,"default"))&&u.push(e)}}const f=[l,u];return b(e)&&a.set(e,f),f}function ir(e){return"$"!==e[0]&&!x(e)}const rr=e=>"_"===e||"_ctx"===e||"$stable"===e,ar=e=>p(e)?e.map(na):[na(e)],sr=(e,t,n)=>{if(t._n)return t;const i=cn((...e)=>ar(t(...e)),n);return i._c=!1,i},or=(e,t,n)=>{const i=e._ctx;for(const r in e){if(rr(r))continue;const n=e[r];if(g(n))t[r]=sr(0,n,i);else if(null!=n){const e=ar(n);t[r]=()=>e}}},lr=(e,t)=>{const n=ar(t);e.slots.default=()=>n},cr=(e,t,n)=>{for(const i in t)!n&&rr(i)||(e[i]=t[i])},ur=function(e,t){var n;t&&t.pendingBranch?p(e)?t.effects.push(...e):t.effects.push(e):(p(n=e)?Gt.push(...n):Xt&&-1===n.id?Xt.splice(Yt+1,0,n):1&n.flags||(Gt.push(n),n.flags|=1),en())};function dr(e){return function(e){F().__VUE__=!0;const{insert:t,remove:n,patchProp:s,createElement:o,createText:l,createComment:c,setText:u,setElementText:d,parentNode:p,nextSibling:f,setScopeId:m=a,insertStaticContent:g}=e,v=(e,t,n,i=null,r=null,a=null,s=void 0,o=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Gr(e,t)&&(i=J(e),G(e,r,a,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case Mr:y(e,t,n,i);break;case Nr:b(e,t,n,i);break;case jr:null==e&&T(t,n,i,s);break;case Rr:R(e,t,n,i,r,a,s,o,l);break;default:1&d?A(e,t,n,i,r,a,s,o,l):6&d?j(e,t,n,i,r,a,s,o,l):(64&d||128&d)&&c.process(e,t,n,i,r,a,s,o,l,ne)}null!=u&&r?$n(u,e&&e.ref,a,t||e,!t):null==u&&e&&null!=e.ref&&$n(e.ref,null,a,e,!0)},y=(e,n,i,r)=>{if(null==e)t(n.el=l(n.children),i,r);else{const t=n.el=e.el;n.children!==e.children&&u(t,n.children)}},b=(e,n,i,r)=>{null==e?t(n.el=c(n.children||""),i,r):n.el=e.el},T=(e,t,n,i)=>{[e.el,e.anchor]=g(e.children,t,n,i,e.el,e.anchor)},S=({el:e,anchor:n},i,r)=>{let a;for(;e&&e!==n;)a=f(e),t(e,i,r),e=a;t(n,i,r)},w=({el:e,anchor:t})=>{let i;for(;e&&e!==t;)i=f(e),n(e),e=i;n(t)},A=(e,t,n,i,r,a,s,o,l)=>{if("svg"===t.type?s="svg":"math"===t.type&&(s="mathml"),null==e)k(t,n,i,r,a,s,o,l);else{const n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),I(e,t,r,a,s,o,l)}finally{n&&n._endPatch()}}},k=(e,n,i,r,a,l,c,u)=>{let h,p;const{props:f,shapeFlag:m,transition:g,dirs:v}=e;if(h=e.el=o(e.type,l,f&&f.is,f),8&m?d(h,e.children):16&m&&E(e.children,h,null,r,a,hr(e,l),c,u),v&&dn(e,null,r,"created"),C(h,e,e.scopeId,c,r),f){for(const e in f)"value"===e||x(e)||s(h,e,null,f[e],l,r);"value"in f&&s(h,"value",null,f.value,l),(p=f.onVnodeBeforeMount)&&sa(p,r,e)}v&&dn(e,null,r,"beforeMount");const y=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(a,g);y&&g.beforeEnter(h),t(h,n,i),((p=f&&f.onVnodeMounted)||y||v)&&ur(()=>{p&&sa(p,r,e),y&&g.enter(h),v&&dn(e,null,r,"mounted")},a)},C=(e,t,n,i,r)=>{if(n&&m(e,n),i)for(let a=0;a<i.length;a++)m(e,i[a]);if(r){let n=r.subTree;if(t===n||Lr(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=r.vnode;C(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},E=(e,t,n,i,r,a,s,o,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=o?ia(e[c]):na(e[c]);v(null,l,t,n,i,r,a,s,o)}},I=(e,t,n,r,a,o,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:p}=t;u|=16&e.patchFlag;const f=e.props||i,m=t.props||i;let g;if(n&&pr(n,!1),(g=m.onVnodeBeforeUpdate)&&sa(g,n,t,e),p&&dn(t,e,n,"beforeUpdate"),n&&pr(n,!0),(f.innerHTML&&null==m.innerHTML||f.textContent&&null==m.textContent)&&d(c,""),h?P(e.dynamicChildren,h,c,n,r,hr(t,a),o):l||q(e,t,c,null,n,r,hr(t,a),o,!1),u>0){if(16&u)L(c,f,m,n,a);else if(2&u&&f.class!==m.class&&s(c,"class",null,m.class,a),4&u&&s(c,"style",f.style,m.style,a),8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const i=e[t],r=f[i],o=m[i];o===r&&"value"!==i||s(c,i,r,o,a,n)}}1&u&&e.children!==t.children&&d(c,t.children)}else l||null!=h||L(c,f,m,n,a);((g=m.onVnodeUpdated)||p)&&ur(()=>{g&&sa(g,n,t,e),p&&dn(t,e,n,"updated")},r)},P=(e,t,n,i,r,a,s)=>{for(let o=0;o<t.length;o++){const l=e[o],c=t[o],u=l.el&&(l.type===Rr||!Gr(l,c)||198&l.shapeFlag)?p(l.el):n;v(l,c,u,null,i,r,a,s,!0)}},L=(e,t,n,r,a)=>{if(t!==n){if(t!==i)for(const i in t)x(i)||i in n||s(e,i,t[i],null,a,r);for(const i in n){if(x(i))continue;const o=n[i],l=t[i];o!==l&&"value"!==i&&s(e,i,l,o,a,r)}"value"in n&&s(e,"value",t.value,n.value,a)}},R=(e,n,i,r,a,s,o,c,u)=>{const d=n.el=e?e.el:l(""),h=n.anchor=e?e.anchor:l("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=n;m&&(c=c?c.concat(m):m),null==e?(t(d,i,r),t(h,i,r),E(n.children||[],i,h,a,s,o,c,u)):p>0&&64&p&&f&&e.dynamicChildren?(P(e.dynamicChildren,f,i,a,s,o,c),(null!=n.key||a&&n===a.subTree)&&fr(e,n,!0)):q(e,n,i,h,a,s,o,c,u)},j=(e,t,n,i,r,a,s,o,l)=>{t.slotScopeIds=o,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,s,l):B(t,n,i,r,a,s,l):U(e,t,l)},B=(e,t,n,r,a,s,o)=>{const l=e.component=function(e,t,n){const r=e.type,a=(t?t.appContext:e.appContext)||oa,s={uid:la++,vnode:e,type:r,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ee(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:nr(r,a),emitsOptions:Cr(r,a),emit:null,emitted:null,propsDefaults:i,inheritAttrs:r.inheritAttrs,ctx:i,data:i,props:i,attrs:i,slots:i,refs:i,setupState:i,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=kr.bind(null,s),e.ce&&e.ce(s),s}(e,r,a);if(Wn(e)&&(l.ctx.renderer=ne),function(e,t=!1,n=!1){t&&ha(t);const{props:i,children:r}=e.vnode,a=ma(e);(function(e,t,n,i=!1){const r={},a=Qi();e.propsDefaults=Object.create(null),Zi(e,t,r,a);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);n?e.props=i?r:ut(r):e.type.props?e.props=r:e.props=a,e.attrs=a})(e,i,a,t),((e,t,n)=>{const i=e.slots=Qi();if(32&e.vnode.shapeFlag){const e=t._;e?(cr(i,t,n),n&&N(i,"_",e,!0)):or(t,i)}else t&&lr(e,t)})(e,r,n||t);a&&function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Oi);const{setup:i}=n;if(i){_e();const n=e.setupContext=i.length>1?function(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,ba),slots:e.slots,emit:e.emit,expose:t}}(e):null,r=pa(e),a=Vt(i,e,0,[e.props,n]),s=_(a);if(Te(),r(),!s&&!e.sp||zn(e)||Fn(e),s){if(a.then(fa,fa),t)return a.then(t=>{va(e,t)}).catch(t=>{zt(t,e,0)});e.asyncDep=a}else va(e,a)}else ya(e)}(e,t);t&&ha(!1)}(l,!1,o),l.asyncDep){if(a&&a.registerDep(l,$,o),!e.el){const i=l.subTree=Qr(Nr);b(null,i,t,n),e.placeholder=i.el}}else $(l,e,t,n,a,s,o)},U=(e,t,n)=>{const i=t.component=e.component;if(function(e,t,n){const{props:i,children:r,component:a}=e,{props:s,children:o,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!o||o&&o.$stable)||i!==s&&(i?!s||Pr(i,s,c):!!s);if(1024&l)return!0;if(16&l)return i?Pr(i,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==i[n]&&!Er(c,n))return!0}}return!1}(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void V(i,t,n);i.next=t,i.update()}else t.el=e.el,i.vnode=t},$=(e,t,n,i,r,a,s)=>{const o=()=>{if(e.isMounted){let{next:t,bu:n,u:i,parent:l,vnode:c}=e;{const n=mr(e);if(n)return t&&(t.el=c.el,V(e,t,s)),void n.asyncDep.then(()=>{e.isUnmounted||o()})}let u,d=t;pr(e,!1),t?(t.el=c.el,V(e,t,s)):t=c,n&&M(n),(u=t.props&&t.props.onVnodeBeforeUpdate)&&sa(u,l,t,c),pr(e,!0);const h=Or(e),f=e.subTree;e.subTree=h,v(f,h,p(f.el),J(f),e,r,a),t.el=h.el,null===d&&function({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i!==e)break;(e=t.vnode).el=n,t=t.parent}}(e,h.el),i&&ur(i,r),(u=t.props&&t.props.onVnodeUpdated)&&ur(()=>sa(u,l,t,c),r)}else{let s;const{el:o,props:l}=t,{bm:c,m:u,parent:d,root:h,type:p}=e,f=zn(t);pr(e,!1),c&&M(c),!f&&(s=l&&l.onVnodeBeforeMount)&&sa(s,d,t),pr(e,!0);{h.ce&&!1!==h.ce._def.shadowRoot&&h.ce._injectChildStyle(p);const s=e.subTree=Or(e);v(null,s,n,i,e,r,a),t.el=s.el}if(u&&ur(u,r),!f&&(s=l&&l.onVnodeMounted)){const e=t;ur(()=>sa(s,d,e),r)}(256&t.shapeFlag||d&&zn(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&ur(e.a,r),e.isMounted=!0,t=n=i=null}};e.scope.on();const l=e.effect=new ae(o);e.scope.off();const c=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>Zt(u),pr(e,!0),c()},V=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,i){const{props:r,attrs:a,vnode:{patchFlag:s}}=e,o=vt(r),[l]=e.propsOptions;let c=!1;if(!(i||s>0)||16&s){let i;Zi(e,t,r,a)&&(c=!0);for(const a in o)t&&(h(t,a)||(i=D(a))!==a&&h(t,i))||(l?!n||void 0===n[a]&&void 0===n[i]||(r[a]=er(l,o,a,void 0,e,!0)):delete r[a]);if(a!==o)for(const e in a)t&&h(t,e)||(delete a[e],c=!0)}else if(8&s){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];if(Er(e.emitsOptions,s))continue;const u=t[s];if(l)if(h(a,s))u!==a[s]&&(a[s]=u,c=!0);else{const t=O(s);r[t]=er(l,o,t,u,e,!1)}else u!==a[s]&&(a[s]=u,c=!0)}}c&&Pe(e.attrs,"set","")}(e,t.props,r,n),((e,t,n)=>{const{vnode:r,slots:a}=e;let s=!0,o=i;if(32&r.shapeFlag){const e=t._;e?n&&1===e?s=!1:cr(a,t,n):(s=!t.$stable,or(t,a)),o=t}else t&&(lr(e,t),o={default:1});if(s)for(const i in a)rr(i)||null!=o[i]||delete a[i]})(e,t.children,n),_e(),tn(e),Te()},q=(e,t,n,i,r,a,s,o,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void H(c,h,n,i,r,a,s,o,l);if(256&p)return void z(c,h,n,i,r,a,s,o,l)}8&f?(16&u&&Q(c,r,a),h!==c&&d(n,h)):16&u?16&f?H(c,h,n,i,r,a,s,o,l):Q(c,r,a,!0):(8&u&&d(n,""),16&f&&E(h,n,i,r,a,s,o,l))},z=(e,t,n,i,a,s,o,l,c)=>{t=t||r;const u=(e=e||r).length,d=t.length,h=Math.min(u,d);let p;for(p=0;p<h;p++){const i=t[p]=c?ia(t[p]):na(t[p]);v(e[p],i,n,null,a,s,o,l,c)}u>d?Q(e,a,s,!0,!1,h):E(t,n,i,a,s,o,l,c,h)},H=(e,t,n,i,a,s,o,l,c)=>{let u=0;const d=t.length;let h=e.length-1,p=d-1;for(;u<=h&&u<=p;){const i=e[u],r=t[u]=c?ia(t[u]):na(t[u]);if(!Gr(i,r))break;v(i,r,n,null,a,s,o,l,c),u++}for(;u<=h&&u<=p;){const i=e[h],r=t[p]=c?ia(t[p]):na(t[p]);if(!Gr(i,r))break;v(i,r,n,null,a,s,o,l,c),h--,p--}if(u>h){if(u<=p){const e=p+1,r=e<d?t[e].el:i;for(;u<=p;)v(null,t[u]=c?ia(t[u]):na(t[u]),n,r,a,s,o,l,c),u++}}else if(u>p)for(;u<=h;)G(e[u],a,s,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?ia(t[u]):na(t[u]);null!=e.key&&g.set(e.key,u)}let y,b=0;const _=p-m+1;let T=!1,S=0;const w=new Array(_);for(u=0;u<_;u++)w[u]=0;for(u=f;u<=h;u++){const i=e[u];if(b>=_){G(i,a,s,!0);continue}let r;if(null!=i.key)r=g.get(i.key);else for(y=m;y<=p;y++)if(0===w[y-m]&&Gr(i,t[y])){r=y;break}void 0===r?G(i,a,s,!0):(w[r-m]=u+1,r>=S?S=r:T=!0,v(i,t[r],n,null,a,s,o,l,c),b++)}const A=T?function(e){const t=e.slice(),n=[0];let i,r,a,s,o;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}for(a=0,s=n.length-1;a<s;)o=a+s>>1,e[n[o]]<l?a=o+1:s=o;l<e[n[a]]&&(a>0&&(t[i]=n[a-1]),n[a]=i)}}for(a=n.length,s=n[a-1];a-- >0;)n[a]=s,s=t[s];return n}(w):r;for(y=A.length-1,u=_-1;u>=0;u--){const e=m+u,r=t[e],h=t[e+1],p=e+1<d?h.el||h.placeholder:i;0===w[u]?v(null,r,n,p,a,s,o,l,c):T&&(y<0||u!==A[y]?W(r,n,p,2):y--)}}},W=(e,i,r,a,s=null)=>{const{el:o,type:l,transition:c,children:u,shapeFlag:d}=e;if(6&d)W(e.component.subTree,i,r,a);else if(128&d)e.suspense.move(i,r,a);else if(64&d)l.move(e,i,r,ne);else if(l!==Rr)if(l!==jr)if(2!==a&&1&d&&c)if(0===a)c.beforeEnter(o),t(o,i,r),ur(()=>c.enter(o),s);else{const{leave:a,delayLeave:s,afterLeave:l}=c,u=()=>{e.ctx.isUnmounted?n(o):t(o,i,r)},d=()=>{o._isLeaving&&o[An](!0),a(o,()=>{u(),l&&l()})};s?s(o,u,d):d()}else t(o,i,r);else S(e,i,r);else{t(o,i,r);for(let e=0;e<u.length;e++)W(u[e],i,r,a);t(e.anchor,i,r)}},G=(e,t,n,i=!1,r=!1)=>{const{type:a,props:s,ref:o,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h,cacheIndex:p}=e;if(-2===d&&(r=!1),null!=o&&(_e(),$n(o,null,n,e,!0),Te()),null!=p&&(t.renderCache[p]=void 0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,m=!zn(e);let g;if(m&&(g=s&&s.onVnodeBeforeUnmount)&&sa(g,t,e),6&u)K(e.component,n,i);else{if(128&u)return void e.suspense.unmount(n,i);f&&dn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,ne,i):c&&!c.hasOnce&&(a!==Rr||d>0&&64&d)?Q(c,t,n,!1,!0):(a===Rr&&384&d||!r&&16&u)&&Q(l,t,n),i&&X(e)}(m&&(g=s&&s.onVnodeUnmounted)||f)&&ur(()=>{g&&sa(g,t,e),f&&dn(e,null,t,"unmounted")},n)},X=e=>{const{type:t,el:i,anchor:r,transition:a}=e;if(t===Rr)return void Y(i,r);if(t===jr)return void w(e);const s=()=>{n(i),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(1&e.shapeFlag&&a&&!a.persisted){const{leave:t,delayLeave:n}=a,r=()=>t(i,s);n?n(e.el,s,r):r()}else s()},Y=(e,t)=>{let i;for(;e!==t;)i=f(e),n(e),e=i;n(t)},K=(e,t,n)=>{const{bum:i,scope:r,job:a,subTree:s,um:o,m:l,a:c}=e;gr(l),gr(c),i&&M(i),r.stop(),a&&(a.flags|=8,G(s,e,t,n)),o&&ur(o,t),ur(()=>{e.isUnmounted=!0},t)},Q=(e,t,n,i=!1,r=!1,a=0)=>{for(let s=a;s<e.length;s++)G(e[s],t,n,i,r)},J=e=>{if(6&e.shapeFlag)return J(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=f(e.anchor||e.el),n=t&&t[hn];return n?f(n):t};let Z=!1;const te=(e,t,n)=>{null==e?t._vnode&&G(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),t._vnode=e,Z||(Z=!0,tn(),nn(),Z=!1)},ne={p:v,um:G,m:W,r:X,mt:B,mc:E,pc:q,pbc:P,n:J,o:e};let ie;return{render:te,hydrate:ie,createApp:Hi(te)}}(e)}function hr({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function pr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function fr(e,t,n=!1){const i=e.children,r=t.children;if(p(i)&&p(r))for(let a=0;a<i.length;a++){const e=i[a];let t=r[a];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=r[a]=ia(r[a]),t.el=e.el),n||-2===t.patchFlag||fr(e,t)),t.type===Mr&&-1!==t.patchFlag&&(t.el=e.el),t.type!==Nr||t.el||(t.el=e.el)}}function mr(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:mr(t)}function gr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const vr=Symbol.for("v-scx"),yr=()=>Xi(vr);function br(e,t){return Tr(e,null,t)}function _r(e,t,n){return Tr(e,t,n)}function Tr(e,t,n=i){const{immediate:r,deep:s,flush:o,once:l}=n,u=c({},n),d=t&&r||!t&&"post"!==o;let h;if(ga)if("sync"===o){const e=yr();h=e.__watcherHandles||(e.__watcherHandles=[])}else if(!d){const e=()=>{};return e.stop=a,e.resume=a,e.pause=a,e}const p=ca;u.call=(e,t,n)=>qt(e,p,t,n);let f=!1;"post"===o?u.scheduler=e=>{ur(e,p&&p.suspense)}:"sync"!==o&&(f=!0,u.scheduler=(e,t)=>{t?e():Zt(e)}),u.augmentJob=e=>{t&&(e.flags|=4),f&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};const m=Ut(e,t,u);return ga&&(h?h.push(m):d&&m()),m}function Sr(e,t,n){const i=this.proxy,r=v(e)?e.includes(".")?wr(i,e):()=>i[e]:e.bind(i,i);let a;g(t)?a=t:(a=t.handler,n=t);const s=pa(this),o=Tr(r,a.bind(i),n);return s(),o}function wr(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const Ar=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${O(t)}Modifiers`]||e[`${D(t)}Modifiers`];function kr(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||i;let a=n;const s=t.startsWith("update:"),o=s&&Ar(r,t.slice(7));let l;o&&(o.trim&&(a=n.map(e=>v(e)?e.trim():e)),o.number&&(a=n.map(j)));let c=r[l=L(t)]||r[l=L(O(t))];!c&&s&&(c=r[l=L(D(t))]),c&&qt(c,e,6,a);const u=r[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,qt(u,e,6,a)}}const xr=new WeakMap;function Cr(e,t,n=!1){const i=n?xr:t.emitsCache,r=i.get(e);if(void 0!==r)return r;const a=e.emits;let s={},o=!1;if(!g(e)){const i=e=>{const n=Cr(e,t,!0);n&&(o=!0,c(s,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return a||o?(p(a)?a.forEach(e=>s[e]=null):c(s,a),b(e)&&i.set(e,s),s):(b(e)&&i.set(e,null),null)}function Er(e,t){return!(!e||!o(t))&&(t=t.slice(2).replace(/Once$/,""),h(e,t[0].toLowerCase()+t.slice(1))||h(e,D(t))||h(e,t))}function Or(e){const{type:t,vnode:n,proxy:i,withProxy:r,propsOptions:[a],slots:s,attrs:o,emit:c,render:u,renderCache:d,props:h,data:p,setupState:f,ctx:m,inheritAttrs:g}=e,v=ln(e);let y,b;try{if(4&n.shapeFlag){const e=r||i,t=e;y=na(u.call(t,e,d,h,f,p,m)),b=o}else{const e=t;y=na(e.length>1?e(h,{attrs:o,slots:s,emit:c}):e(h,null)),b=t.props?o:Ir(o)}}catch(RT){Br.length=0,zt(RT,e,1),y=Qr(Nr)}let _=y;if(b&&!1!==g){const e=Object.keys(b),{shapeFlag:t}=_;e.length&&7&t&&(a&&e.some(l)&&(b=Dr(b,a)),_=Zr(_,b,!1,!0))}return n.dirs&&(_=Zr(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&Nn(_,n.transition),y=_,ln(v),y}const Ir=e=>{let t;for(const n in e)("class"===n||"style"===n||o(n))&&((t||(t={}))[n]=e[n]);return t},Dr=(e,t)=>{const n={};for(const i in e)l(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function Pr(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const a=i[r];if(t[a]!==e[a]&&!Er(n,a))return!0}return!1}const Lr=e=>e.__isSuspense,Rr=e("F",Symbol.for("v-fgt")),Mr=Symbol.for("v-txt"),Nr=Symbol.for("v-cmt"),jr=Symbol.for("v-stc"),Br=[];let Fr=null;function Ur(e=!1){Br.push(Fr=e?null:[])}let $r=1;function Vr(e,t=!1){$r+=e,e<0&&Fr&&t&&(Fr.hasOnce=!0)}function qr(e){return e.dynamicChildren=$r>0?Fr||r:null,Br.pop(),Fr=Br[Br.length-1]||null,$r>0&&Fr&&Fr.push(e),e}function zr(e,t,n,i,r,a){return qr(Kr(e,t,n,i,r,a,!0))}function Hr(e,t,n,i,r){return qr(Qr(e,t,n,i,r,!0))}function Wr(e){return!!e&&!0===e.__v_isVNode}function Gr(e,t){return e.type===t.type&&e.key===t.key}const Xr=({key:e})=>null!=e?e:null,Yr=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?v(e)||Tt(e)||g(e)?{i:sn,r:e,k:t,f:!!n}:e:null);function Kr(e,t=null,n=null,i=0,r=null,a=(e===Rr?0:1),s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xr(t),ref:t&&Yr(t),scopeId:on,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:sn};return o?(ra(l,n),128&a&&e.normalize(l)):n&&(l.shapeFlag|=v(n)?8:16),$r>0&&!s&&Fr&&(l.patchFlag>0||6&a)&&32!==l.patchFlag&&Fr.push(l),l}const Qr=e("h",function(e,t=null,n=null,i=0,r=null,a=!1){if(e&&e!==vi||(e=Nr),Wr(e)){const i=Zr(e,t,!0);return n&&ra(i,n),$r>0&&!a&&Fr&&(6&i.shapeFlag?Fr[Fr.indexOf(e)]=i:Fr.push(i)),i.patchFlag=-2,i}if(function(e){return g(e)&&"__vccOpts"in e}(e)&&(e=e.__vccOpts),t){t=Jr(t);let{class:e,style:n}=t;e&&!v(e)&&(t.class=H(e)),b(n)&&(gt(n)&&!p(n)&&(n=c({},n)),t.style=U(n))}const s=v(e)?1:Lr(e)?128:pn(e)?64:b(e)?4:g(e)?2:0;return Kr(e,t,n,i,r,s,a,!0)});function Jr(e){return e?gt(e)||Ji(e)?c({},e):e:null}function Zr(e,t,n=!1,i=!1){const{props:r,ref:a,patchFlag:s,children:o,transition:l}=e,c=t?aa(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&Xr(c),ref:t&&t.ref?n&&a?p(a)?a.concat(Yr(t)):[a,Yr(t)]:Yr(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Rr?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Zr(e.ssContent),ssFallback:e.ssFallback&&Zr(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&i&&Nn(u,l.clone(u)),u}function ea(e=" ",t=0){return Qr(Mr,null,e,t)}function ta(e="",t=!1){return t?(Ur(),Hr(Nr,null,e)):Qr(Nr,null,e)}function na(e){return null==e||"boolean"==typeof e?Qr(Nr):p(e)?Qr(Rr,null,e.slice()):Wr(e)?ia(e):Qr(Mr,null,String(e))}function ia(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Zr(e)}function ra(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if(p(t))n=16;else if("object"==typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),ra(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||Ji(t)?3===i&&sn&&(1===sn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=sn}}else g(t)?(t={default:t,_ctx:sn},n=32):(t=String(t),64&i?(n=16,t=[ea(t)]):n=8);e.children=t,e.shapeFlag|=n}function aa(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=H([t.class,i.class]));else if("style"===e)t.style=U([t.style,i.style]);else if(o(e)){const n=t[e],r=i[e];!r||n===r||p(n)&&n.includes(r)||(t[e]=n?[].concat(n,r):r)}else""!==e&&(t[e]=i[e])}return t}function sa(e,t,n,i=null){qt(e,t,7,[n,i])}const oa=qi();let la=0,ca=null;const ua=e("aP",()=>ca||sn);let da,ha;{const e=F(),t=(t,n)=>{let i;return(i=e[t])||(i=e[t]=[]),i.push(n),e=>{i.length>1?i.forEach(t=>t(e)):i[0](e)}};da=t("__VUE_INSTANCE_SETTERS__",e=>ca=e),ha=t("__VUE_SSR_SETTERS__",e=>ga=e)}const pa=e=>{const t=ca;return da(e),e.scope.on(),()=>{e.scope.off(),da(t)}},fa=()=>{ca&&ca.scope.off(),da(null)};function ma(e){return 4&e.vnode.shapeFlag}let ga=!1;function va(e,t,n){g(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:b(t)&&(e.setupState=Ot(t)),ya(e)}function ya(e,t,n){const i=e.type;e.render||(e.render=i.render||a);{const t=pa(e);_e();try{Pi(e)}finally{Te(),t()}}}const ba={get:(e,t)=>(De(e,0,""),e[t])};function _a(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ot(yt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Ci?Ci[n](e):void 0,has:(e,t)=>t in e||t in Ci})):e.proxy}function Ta(e,t=!0){return g(e)?e.displayName||e.name:e.name||t&&e.__name}const Sa=e("aD",(e,t)=>{const n=function(e,t,n=!1){let i,r;return g(e)?i=e:(i=e.get,r=e.set),new Nt(i,r,n)}(e,0,ga);return n});function wa(e,t,n){try{Vr(-1);const i=arguments.length;return 2===i?b(t)&&!p(t)?Wr(t)?Qr(e,null,[t]):Qr(e,t):Qr(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Wr(n)&&(n=[n]),Qr(e,t,n))}finally{Vr(1)}}const Aa="3.5.24",ka=a;
/**
      * @vue/runtime-dom v3.5.24
      * (c) 2018-present Yuxi (Evan) You and Vue contributors
      * @license MIT
      **/
let xa;const Ca="undefined"!=typeof window&&window.trustedTypes;if(Ca)try{xa=Ca.createPolicy("vue",{createHTML:e=>e})}catch(xZ){}const Ea=xa?e=>xa.createHTML(e):e=>e,Oa="undefined"!=typeof document?document:null,Ia=Oa&&Oa.createElement("template"),Da={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r="svg"===t?Oa.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?Oa.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?Oa.createElement(e,{is:n}):Oa.createElement(e);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>Oa.createTextNode(e),createComment:e=>Oa.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Oa.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,r,a){const s=n?n.previousSibling:t.lastChild;if(r&&(r===a||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),r!==a&&(r=r.nextSibling););else{Ia.innerHTML=Ea("svg"===i?`<svg>${e}</svg>`:"mathml"===i?`<math>${e}</math>`:e);const r=Ia.content;if("svg"===i||"mathml"===i){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Pa="transition",La="animation",Ra=Symbol("_vtc"),Ma={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Na=c({},Cn,Ma),ja=e=>(e.displayName="Transition",e.props=Na,e),Ba=ja((e,{slots:t})=>wa(Dn,function(e){const t={};for(const c in e)c in Ma||(t[c]=e[c]);if(!1===e.css)return t;const{name:n="v",type:i,duration:r,enterFromClass:a=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:l=a,appearActiveClass:u=s,appearToClass:d=o,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=function(e){if(null==e)return null;if(b(e))return[$a(e.enter),$a(e.leave)];{const t=$a(e);return[t,t]}}(r),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:T,onLeave:S,onLeaveCancelled:w,onBeforeAppear:A=y,onAppear:k=_,onAppearCancelled:x=T}=t,C=(e,t,n,i)=>{e._enterCancelled=i,qa(e,t?d:o),qa(e,t?u:s),n&&n()},E=(e,t)=>{e._isLeaving=!1,qa(e,h),qa(e,f),qa(e,p),t&&t()},O=e=>(t,n)=>{const r=e?k:_,s=()=>C(t,e,n);Fa(r,[t,s]),za(()=>{qa(t,e?l:a),Va(t,e?d:o),Ua(r)||Wa(t,i,g,s)})};return c(t,{onBeforeEnter(e){Fa(y,[e]),Va(e,a),Va(e,s)},onBeforeAppear(e){Fa(A,[e]),Va(e,l),Va(e,u)},onEnter:O(!1),onAppear:O(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>E(e,t);Va(e,h),e._enterCancelled?(Va(e,p),Ya(e)):(Ya(e),Va(e,p)),za(()=>{e._isLeaving&&(qa(e,h),Va(e,f),Ua(S)||Wa(e,i,v,n))}),Fa(S,[e,n])},onEnterCancelled(e){C(e,!1,void 0,!0),Fa(T,[e])},onAppearCancelled(e){C(e,!0,void 0,!0),Fa(x,[e])},onLeaveCancelled(e){E(e),Fa(w,[e])}})}(e),t)),Fa=(e,t=[])=>{p(e)?e.forEach(e=>e(...t)):e&&e(...t)},Ua=e=>!!e&&(p(e)?e.some(e=>e.length>1):e.length>1);function $a(e){const t=(e=>{const t=v(e)?Number(e):NaN;return isNaN(t)?e:t})(e);return t}function Va(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[Ra]||(e[Ra]=new Set)).add(t)}function qa(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const n=e[Ra];n&&(n.delete(t),n.size||(e[Ra]=void 0))}function za(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Ha=0;function Wa(e,t,n,i){const r=e._endId=++Ha,a=()=>{r===e._endId&&i()};if(null!=n)return setTimeout(a,n);const{type:s,timeout:o,propCount:l}=function(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i(`${Pa}Delay`),a=i(`${Pa}Duration`),s=Ga(r,a),o=i(`${La}Delay`),l=i(`${La}Duration`),c=Ga(o,l);let u=null,d=0,h=0;t===Pa?s>0&&(u=Pa,d=s,h=a.length):t===La?c>0&&(u=La,d=c,h=l.length):(d=Math.max(s,c),u=d>0?s>c?Pa:La:null,h=u?u===Pa?a.length:l.length:0);const p=u===Pa&&/\b(?:transform|all)(?:,|$)/.test(i(`${Pa}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:p}}(e,t);if(!s)return i();const c=s+"end";let u=0;const d=()=>{e.removeEventListener(c,h),a()},h=t=>{t.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),e.addEventListener(c,h)}function Ga(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,n)=>Xa(t)+Xa(e[n])))}function Xa(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function Ya(e){return(e?e.ownerDocument:document).body.offsetHeight}const Ka=Symbol("_vod"),Qa=Symbol("_vsh"),Ja=e("z",{name:"show",beforeMount(e,{value:t},{transition:n}){e[Ka]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Za(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Za(e,!0),i.enter(e)):i.leave(e,()=>{Za(e,!1)}):Za(e,t))},beforeUnmount(e,{value:t}){Za(e,t)}});function Za(e,t){e.style.display=t?e[Ka]:"none",e[Qa]=!t}const es=Symbol(""),ts=/(?:^|;)\s*display\s*:/,ns=/\s*!important$/;function is(e,t,n){if(p(n))n.forEach(n=>is(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=function(e,t){const n=as[t];if(n)return n;let i=O(t);if("filter"!==i&&i in e)return as[t]=i;i=P(i);for(let r=0;r<rs.length;r++){const n=rs[r]+i;if(n in e)return as[t]=n}return t}(e,t);ns.test(n)?e.setProperty(D(i),n.replace(ns,""),"important"):e[i]=n}}const rs=["Webkit","Moz","ms"],as={},ss="http://www.w3.org/1999/xlink";function os(e,t,n,i,r,a=W(t)){i&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(ss,t.slice(6,t.length)):e.setAttributeNS(ss,t,n):null==n||a&&!G(n)?e.removeAttribute(t):e.setAttribute(t,a?"":y(n)?String(n):n)}function ls(e,t,n,i,r){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?Ea(n):n));const a=e.tagName;if("value"===t&&"PROGRESS"!==a&&!a.includes("-")){const i="OPTION"===a?e.getAttribute("value")||"":e.value,r=null==n?"checkbox"===e.type?"on":"":String(n);return i===r&&"_value"in e||(e.value=r),null==n&&e.removeAttribute(t),void(e._value=n)}let s=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=G(n):null==n&&"string"===i?(n="",s=!0):"number"===i&&(n=0,s=!0)}try{e[t]=n}catch(xZ){}s&&e.removeAttribute(r||t)}function cs(e,t,n,i){e.addEventListener(t,n,i)}const us=Symbol("_vei");function ds(e,t,n,i,r=null){const a=e[us]||(e[us]={}),s=a[t];if(i&&s)s.value=i;else{const[n,o]=function(e){let t;if(hs.test(e)){let n;for(t={};n=e.match(hs);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):D(e.slice(2));return[n,t]}(t);if(i){const s=a[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();qt(function(e,t){if(p(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=ms(),n}(i,r);cs(e,n,s,o)}else s&&(function(e,t,n,i){e.removeEventListener(t,n,i)}(e,n,s,o),a[t]=void 0)}}const hs=/(?:Once|Passive|Capture)$/;let ps=0;const fs=Promise.resolve(),ms=()=>ps||(fs.then(()=>ps=0),ps=Date.now()),gs=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,vs=e=>{const t=e.props["onUpdate:modelValue"]||!1;return p(t)?e=>M(t,e):t};function ys(e){e.target.composing=!0}function bs(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const _s=Symbol("_assign");function Ts(e,t,n){return t&&(e=e.trim()),n&&(e=j(e)),e}const Ss={created(e,{modifiers:{lazy:t,trim:n,number:i}},r){e[_s]=vs(r);const a=i||r.props&&"number"===r.props.type;cs(e,t?"change":"input",t=>{t.target.composing||e[_s](Ts(e.value,n,a))}),(n||a)&&cs(e,"change",()=>{e.value=Ts(e.value,n,a)}),t||(cs(e,"compositionstart",ys),cs(e,"compositionend",bs),cs(e,"change",bs))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:i,trim:r,number:a}},s){if(e[_s]=vs(s),e.composing)return;const o=null==t?"":t;if((!a&&"number"!==e.type||/^0\d/.test(e.value)?e.value:j(e.value))!==o){if(document.activeElement===e&&"range"!==e.type){if(i&&t===n)return;if(r&&e.value.trim()===o)return}e.value=o}}},ws=["ctrl","shift","alt","meta"],As={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ws.some(n=>e[`${n}Key`]&&!t.includes(n))},ks=e("b0",(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(n,...i)=>{for(let e=0;e<t.length;e++){const i=As[t[e]];if(i&&i(n,t))return}return e(n,...i)})}),xs={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cs=e("ac",(e,t)=>{const n=e._withKeys||(e._withKeys={}),i=t.join(".");return n[i]||(n[i]=n=>{if(!("key"in n))return;const i=D(n.key);return t.some(e=>e===i||xs[e]===i)?e(n):void 0})}),Es=c({patchProp:(e,t,n,i,r,a)=>{const s="svg"===r;"class"===t?function(e,t,n){const i=e[Ra];i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,i,s):"style"===t?function(e,t,n){const i=e.style,r=v(n);let a=!1;if(n&&!r){if(t)if(v(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&is(i,t,"")}else for(const e in t)null==n[e]&&is(i,e,"");for(const e in n)"display"===e&&(a=!0),is(i,e,n[e])}else if(r){if(t!==n){const e=i[es];e&&(n+=";"+e),i.cssText=n,a=ts.test(n)}}else t&&e.removeAttribute("style");Ka in e&&(e[Ka]=a?i.display:"",e[Qa]&&(i.display="none"))}(e,n,i):o(t)?l(t)||ds(e,t,0,i,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,i){if(i)return"innerHTML"===t||"textContent"===t||!!(t in e&&gs(t)&&g(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("sandbox"===t&&"IFRAME"===e.tagName)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}return(!gs(t)||!v(n))&&t in e}(e,t,i,s))?(ls(e,t,i),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||os(e,t,i,s,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&v(i)?("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),os(e,t,i,s)):ls(e,O(t),i,0,t)}},Da);let Os;const Is=(...e)=>{const t=(Os||(Os=dr(Es))).createApp(...e),{mount:n}=t;return t.mount=e=>{const i=function(e){return v(e)?document.querySelector(e):e}(e);if(!i)return;const r=t._component;g(r)||r.render||r.template||(r.template=i.innerHTML),1===i.nodeType&&(i.textContent="");const a=n(i,!1,function(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),a},t};function Ds(){}const Ps=Object.assign,Ls="undefined"!=typeof window,Rs=e=>null!==e&&"object"==typeof e,Ms=e=>null!=e,Ns=e=>"function"==typeof e,js=e=>Rs(e)&&Ns(e.then)&&Ns(e.catch),Bs=e=>"[object Date]"===Object.prototype.toString.call(e)&&!Number.isNaN(e.getTime());function Fs(e){return e=e.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(e)||/^0[0-9-]{10,13}$/.test(e)}const Us=e=>"number"==typeof e||/^\d+(\.\d+)?$/.test(e);function $s(e,t){const n=t.split(".");let i=e;return n.forEach(e=>{var t;i=Rs(i)&&null!=(t=i[e])?t:""}),i}function Vs(e,t,n){return t.reduce((t,i)=>(n&&void 0===e[i]||(t[i]=e[i]),t),{})}const qs=(e,t)=>JSON.stringify(e)===JSON.stringify(t),zs=e=>Array.isArray(e)?e:[e],Hs=null,Ws=[Number,String],Gs={type:Boolean,default:!0},Xs=e=>({type:e,required:!0}),Ys=()=>({type:Array,default:()=>[]}),Ks=e=>({type:Number,default:e}),Qs=e=>({type:Ws,default:e}),Js=e=>({type:String,default:e});var Zs="undefined"!=typeof window;function eo(e){return Zs?requestAnimationFrame(e):-1}function to(e){Zs&&cancelAnimationFrame(e)}function no(e){eo(()=>eo(e))}var io=(e,t)=>({top:0,left:0,right:e,bottom:t,width:e,height:t}),ro=e=>{const t=xt(e);if(t===window){const e=t.innerWidth,n=t.innerHeight;return io(e,n)}return(null==t?void 0:t.getBoundingClientRect)?t.getBoundingClientRect():io(0,0)};function ao(e){const t=Xi(e,null);if(t){const e=ua(),{link:n,unlink:i,internalChildren:r}=t;return n(e),ci(()=>i(e)),{parent:t,index:Sa(()=>r.indexOf(e))}}return{parent:null,index:St(-1)}}var so=(e,t)=>{const n=e.indexOf(t);return-1===n?e.findIndex(e=>void 0!==t.key&&null!==t.key&&e.type===t.type&&e.key===t.key):n};function oo(e,t,n){const i=function(e){const t=[],n=e=>{Array.isArray(e)&&e.forEach(e=>{var i;Wr(e)&&(t.push(e),(null==(i=e.component)?void 0:i.subTree)&&(t.push(e.component.subTree),n(e.component.subTree.children)),e.children&&n(e.children))})};return n(e),t}(e.subTree.children);n.sort((e,t)=>so(i,e.vnode)-so(i,t.vnode));const r=n.map(e=>e.proxy);t.sort((e,t)=>r.indexOf(e)-r.indexOf(t))}function lo(e){const t=ct([]),n=ct([]),i=ua();return{children:t,linkChildren:r=>{Gi(e,Object.assign({link:e=>{e.proxy&&(n.push(e),t.push(e.proxy),oo(i,t,n))},unlink:e=>{const i=n.indexOf(e);t.splice(i,1),n.splice(i,1)},children:t,internalChildren:n},r))}}}var co,uo,ho=1e3,po=6e4,fo=36e5,mo=24*fo;function go(e){let t,n,i,r;const a=St(e.time),s=Sa(()=>{return{total:e=a.value,days:Math.floor(e/mo),hours:Math.floor(e%mo/fo),minutes:Math.floor(e%fo/po),seconds:Math.floor(e%po/ho),milliseconds:Math.floor(e%ho)};var e}),o=()=>{i=!1,to(t)},l=()=>Math.max(n-Date.now(),0),c=t=>{var n,i;a.value=t,null==(n=e.onChange)||n.call(e,s.value),0===t&&(o(),null==(i=e.onFinish)||i.call(e))},u=()=>{t=eo(()=>{i&&(c(l()),a.value>0&&u())})},d=()=>{t=eo(()=>{if(i){const n=l();e=n,t=a.value,(Math.floor(e/1e3)!==Math.floor(t/1e3)||0===n)&&c(n),a.value>0&&d()}var e,t})},h=()=>{Zs&&(e.millisecond?u():d())};return li(o),Kn(()=>{r&&(i=!0,r=!1,h())}),Qn(()=>{i&&(o(),r=!0)}),{start:()=>{i||(n=Date.now()+a.value,i=!0,h())},pause:o,reset:(t=e.time)=>{o(),a.value=t},current:s}}function vo(e){let t;ai(()=>{e(),Jt(()=>{t=!0})}),Kn(()=>{t&&e()})}function yo(e,t,n={}){if(!Zs)return;const{target:i=window,passive:r=!1,capture:a=!1}=n;let s,o=!1;const l=n=>{if(o)return;const i=xt(n);i&&!s&&(i.addEventListener(e,t,{capture:a,passive:r}),s=!0)},c=n=>{if(o)return;const i=xt(n);i&&s&&(i.removeEventListener(e,t,a),s=!1)};let u;return ci(()=>c(i)),Qn(()=>c(i)),vo(()=>l(i)),Tt(i)&&(u=_r(i,(e,t)=>{c(t),l(e)})),()=>{null==u||u(),c(i),o=!0}}function bo(e,t,n={}){if(!Zs)return;const{eventName:i="click"}=n;yo(i,n=>{(Array.isArray(e)?e:[e]).every(e=>{const t=xt(e);return t&&!t.contains(n.target)})&&t(n)},{target:document})}var _o,To=/scroll|auto|overlay/i,So=Zs?window:void 0;function wo(e){return"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType}function Ao(e,t=So){let n=e;for(;n&&n!==t&&wo(n);){const{overflowY:e}=window.getComputedStyle(n);if(To.test(e))return n;n=n.parentNode}return t}function ko(e,t=So){const n=St();return ai(()=>{e.value&&(n.value=Ao(e.value,t))}),n}var xo=Symbol("van-field");function Co(e){const t=Xi(xo,null);t&&!t.customValue.value&&(t.customValue.value=e,_r(e,()=>{t.resetValidation(),t.validateWithTrigger("onChange")}))}function Eo(e){const t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}function Oo(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}function Io(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function Do(e){Oo(window,e),Oo(document.body,e)}function Po(e,t){if(e===window)return 0;const n=t?Eo(t):Io();return ro(e).top+n}const Lo=!!Ls&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());function Ro(){Lo&&Do(Io())}const Mo=e=>e.stopPropagation();function No(e,t){("boolean"!=typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&Mo(e)}function jo(e){const t=xt(e);if(!t)return!1;const n=window.getComputedStyle(t),i="none"===n.display,r=null===t.offsetParent&&"fixed"!==n.position;return i||r}const{width:Bo,height:Fo}=function(){if(!co&&(co=St(0),uo=St(0),Zs)){const e=()=>{co.value=window.innerWidth,uo.value=window.innerHeight};e(),window.addEventListener("resize",e,{passive:!0}),window.addEventListener("orientationchange",e,{passive:!0})}return{width:co,height:uo}}();function Uo(e){const t=window.getComputedStyle(e);return"none"!==t.transform||"none"!==t.perspective||["transform","perspective","filter"].some(e=>(t.willChange||"").includes(e))}function $o(e){if(Ms(e))return Us(e)?`${e}px`:String(e)}function Vo(e){if(Ms(e)){if(Array.isArray(e))return{width:$o(e[0]),height:$o(e[1])};const t=$o(e);return{width:t,height:t}}}function qo(e){const t={};return void 0!==e&&(t.zIndex=+e),t}let zo;function Ho(e){return+(e=e.replace(/rem/g,""))*function(){if(!zo){const e=document.documentElement,t=e.style.fontSize||window.getComputedStyle(e).fontSize;zo=parseFloat(t)}return zo}()}function Wo(e){if("number"==typeof e)return e;if(Ls){if(e.includes("rem"))return Ho(e);if(e.includes("vw"))return function(e){return+(e=e.replace(/vw/g,""))*Bo.value/100}(e);if(e.includes("vh"))return function(e){return+(e=e.replace(/vh/g,""))*Fo.value/100}(e)}return parseFloat(e)}const Go=/-(\w)/g,Xo=e=>e.replace(Go,(e,t)=>t.toUpperCase());function Yo(e,t=2){let n=e+"";for(;n.length<t;)n="0"+n;return n}const Ko=(e,t,n)=>Math.min(Math.max(e,t),n);function Qo(e,t,n){const i=e.indexOf(t);return-1===i?e:"-"===t&&0!==i?e.slice(0,i):e.slice(0,i+1)+e.slice(i).replace(n,"")}function Jo(e,t=!0,n=!0){e=t?Qo(e,".",/\./g):e.split(".")[0];const i=t?/[^-0-9.]/g:/[^-0-9]/g;return(e=n?Qo(e,"-",/-/g):e.replace(/-/,"")).replace(i,"")}function Zo(e,t){const n=10**10;return Math.round((e+t)*n)/n}const{hasOwnProperty:el}=Object.prototype;function tl(e,t){return Object.keys(t).forEach(n=>{!function(e,t,n){const i=t[n];Ms(i)&&(el.call(e,n)&&Rs(i)?e[n]=tl(Object(e[n]),i):e[n]=i)}(e,t,n)}),e}var nl={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(e,t)=>`${e}${t}`,rangePrompt:e=>` ${e} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:e=>`${e}`,condition:e=>`${e}`},vanCouponCell:{title:"",count:e=>`${e}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const il=St("zh-CN"),rl=ct({"zh-CN":nl}),al={messages:()=>rl[il.value],use(e,t){il.value=e,this.add({[e]:t})},add(e={}){tl(rl,e)}};var sl=al;function ol(e){const t=Xo(e)+".";return(e,...n)=>{const i=sl.messages(),r=$s(i,t+e)||$s(i,e);return Ns(r)?r(...n):r}}function ll(e,t){return t?"string"==typeof t?` ${e}--${t}`:Array.isArray(t)?t.reduce((t,n)=>t+ll(e,n),""):Object.keys(t).reduce((n,i)=>n+(t[i]?ll(e,i):""),""):""}function cl(e){return(t,n)=>(t&&"string"!=typeof t&&(n=t,t=""),`${t=t?`${e}__${t}`:e}${ll(t,n)}`)}function ul(e){const t=`van-${e}`;return[t,cl(t),ol(t)]}const dl="van-hairline",hl=`${dl}--top`,pl=`${dl}--left`,fl=`${dl}--right`,ml=`${dl}--bottom`,gl=`${dl}--surround`,vl=`${dl}--top-bottom`,yl=`${dl}-unset--top-bottom`,bl="van-haptics-feedback",_l=Symbol("van-form");function Tl(e,{args:t=[],done:n,canceled:i,error:r}){if(e){const a=e.apply(null,t);js(a)?a.then(e=>{e?n():i&&i()}).catch(r||Ds):a?n():i&&i()}else n()}function Sl(e){return e.install=t=>{const{name:n}=e;n&&(t.component(n,e),t.component(Xo(`-${n}`),e))},e}function wl(e,t){return e.reduce((e,n)=>Math.abs(e-t)<Math.abs(n-t)?e:n)}const Al=Symbol();function kl(e){const t=Xi(Al,null);t&&_r(t,t=>{t&&e()})}const xl=(e,t)=>{const n=St(),i=()=>{n.value=ro(e).height};return ai(()=>{if(Jt(i),t)for(let e=1;e<=3;e++)setTimeout(i,100*e)}),kl(()=>Jt(i)),_r([Bo,Fo],i),n};function Cl(e,t){const n=xl(e,!0);return e=>Qr("div",{class:t("placeholder"),style:{height:n.value?`${n.value}px`:void 0}},[e()])}const[El,Ol]=ul("action-bar"),Il=Symbol(El);var Dl=Bn({name:El,props:{placeholder:Boolean,safeAreaInsetBottom:Gs},setup(e,{slots:t}){const n=St(),i=Cl(n,Ol),{linkChildren:r}=lo(Il);r();const a=()=>{var i;return Qr("div",{ref:n,class:[Ol(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(i=t.default)?void 0:i.call(t)])};return()=>e.placeholder?i(a):a()}});const Pl=Sl(Dl);function Ll(e){const t=ua();t&&Ps(t.proxy,e)}const Rl={to:[String,Object],url:String,replace:Boolean};function Ml({to:e,url:t,replace:n,$router:i}){e&&i?i[n?"replace":"push"](e):t&&(n?location.replace(t):location.href=t)}function Nl(){const e=ua().proxy;return()=>Ml(e)}const[jl,Bl]=ul("badge");var Fl=Bn({name:jl,props:{dot:Boolean,max:Ws,tag:Js("div"),color:String,offset:Array,content:Ws,showZero:Gs,position:Js("top-right")},setup(e,{slots:t}){const n=()=>{if(t.content)return!0;const{content:n,showZero:i}=e;return Ms(n)&&""!==n&&(i||0!==n&&"0"!==n)},i=()=>{const{dot:i,max:r,content:a}=e;if(!i&&n())return t.content?t.content():Ms(r)&&Us(a)&&+a>+r?`${r}+`:a},r=e=>e.startsWith("-")?e.replace("-",""):`-${e}`,a=Sa(()=>{const n={background:e.color};if(e.offset){const[i,a]=e.offset,{position:s}=e,[o,l]=s.split("-");t.default?(n[o]="number"==typeof a?$o("top"===o?a:-a):"top"===o?$o(a):r(a),n[l]="number"==typeof i?$o("left"===l?i:-i):"left"===l?$o(i):r(i)):(n.marginTop=$o(a),n.marginLeft=$o(i))}return n}),s=()=>{if(n()||e.dot)return Qr("div",{class:Bl([e.position,{dot:e.dot,fixed:!!t.default}]),style:a.value},[i()])};return()=>{if(t.default){const{tag:n}=e;return Qr(n,{class:Bl("wrapper")},{default:()=>[t.default(),s()]})}return s()}}});const Ul=Sl(Fl);let $l=2e3;const[Vl,ql]=ul("config-provider"),zl=Symbol(Vl);function Hl(e={},t={}){Object.keys(e).forEach(n=>{e[n]!==t[n]&&document.documentElement.style.setProperty(n,e[n])}),Object.keys(t).forEach(t=>{e[t]||document.documentElement.style.removeProperty(t)})}var Wl=Bn({name:Vl,props:{tag:Js("div"),theme:Js("light"),zIndex:Number,themeVars:Object,themeVarsDark:Object,themeVarsLight:Object,themeVarsScope:Js("local"),iconPrefix:String},setup(e,{slots:t}){const n=Sa(()=>function(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"").replace(/([a-zA-Z])(\d)/g,"$1-$2");t[`--van-${i}`]=e[n]}),t}(Ps({},e.themeVars,"dark"===e.theme?e.themeVarsDark:e.themeVarsLight)));if(Ls){const t=()=>{document.documentElement.classList.add(`van-theme-${e.theme}`)},i=(t=e.theme)=>{document.documentElement.classList.remove(`van-theme-${t}`)};_r(()=>e.theme,(e,n)=>{n&&i(n),t()},{immediate:!0}),Kn(t),Qn(i),li(i),_r(n,(t,n)=>{"global"===e.themeVarsScope&&Hl(t,n)}),_r(()=>e.themeVarsScope,(e,t)=>{"global"===t&&Hl({},n.value),"global"===e&&Hl(n.value,{})}),"global"===e.themeVarsScope&&Hl(n.value,{})}return Gi(zl,e),br(()=>{var t;void 0!==e.zIndex&&(t=e.zIndex,$l=t)}),()=>Qr(e.tag,{class:ql(),style:"local"===e.themeVarsScope?n.value:void 0},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}});const[Gl,Xl]=ul("icon");var Yl=Bn({name:Gl,props:{dot:Boolean,tag:Js("i"),name:String,size:Ws,badge:Ws,color:String,badgeProps:Object,classPrefix:String},setup(e,{slots:t}){const n=Xi(zl,null),i=Sa(()=>e.classPrefix||(null==n?void 0:n.iconPrefix)||Xl());return()=>{const{tag:n,dot:r,name:a,size:s,badge:o,color:l}=e,c=(e=>null==e?void 0:e.includes("/"))(a);return Qr(Ul,aa({dot:r,tag:n,class:[i.value,c?"":`${i.value}-${a}`],style:{color:l,fontSize:$o(s)},content:o},e.badgeProps),{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t),c&&Qr("img",{class:Xl("image"),src:a},null)]}})}}});const Kl=e("I",Sl(Yl));var Ql=Kl;const[Jl,Zl]=ul("loading"),ec=Array(12).fill(null).map((e,t)=>Qr("i",{class:Zl("line",String(t+1))},null)),tc=Qr("svg",{class:Zl("circular"),viewBox:"25 25 50 50"},[Qr("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]);var nc=Bn({name:Jl,props:{size:Ws,type:Js("circular"),color:String,vertical:Boolean,textSize:Ws,textColor:String},setup(e,{slots:t}){const n=Sa(()=>Ps({color:e.color},Vo(e.size))),i=()=>{const i="spinner"===e.type?ec:tc;return Qr("span",{class:Zl("spinner",e.type),style:n.value},[t.icon?t.icon():i])},r=()=>{var n;if(t.default)return Qr("span",{class:Zl("text"),style:{fontSize:$o(e.textSize),color:null!=(n=e.textColor)?n:e.color}},[t.default()])};return()=>{const{type:t,vertical:n}=e;return Qr("div",{class:Zl([t,{vertical:n}]),"aria-live":"polite","aria-busy":!0},[i(),r()])}}});const ic=e("a$",Sl(nc)),[rc,ac]=ul("button");var sc=Bn({name:rc,props:Ps({},Rl,{tag:Js("button"),text:String,icon:String,type:Js("default"),size:Js("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Js("button"),loadingSize:Ws,loadingText:String,loadingType:String,iconPosition:Js("left")}),emits:["click"],setup(e,{emit:t,slots:n}){const i=Nl(),r=()=>e.loading?n.loading?n.loading():Qr(ic,{size:e.loadingSize,type:e.loadingType,class:ac("loading")},null):n.icon?Qr("div",{class:ac("icon")},[n.icon()]):e.icon?Qr(Kl,{name:e.icon,class:ac("icon"),classPrefix:e.iconPrefix},null):void 0,a=()=>{let t;if(t=e.loading?e.loadingText:n.default?n.default():e.text,t)return Qr("span",{class:ac("text")},[t])},s=()=>{const{color:t,plain:n}=e;if(t){const e={color:n?t:"white"};return n||(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},o=n=>{e.loading?No(n):e.disabled||(t("click",n),i())};return()=>{const{tag:t,type:n,size:i,block:l,round:c,plain:u,square:d,loading:h,disabled:p,hairline:f,nativeType:m,iconPosition:g}=e,v=[ac([n,i,{plain:u,block:l,round:c,square:d,loading:h,disabled:p,hairline:f}]),{[gl]:f}];return Qr(t,{type:m,class:v,style:s(),disabled:p,onClick:o},{default:()=>[Qr("div",{class:ac("content")},["left"===g&&r(),a(),"right"===g&&r()])]})}}});const oc=e("H",Sl(sc)),[lc,cc]=ul("action-bar-button");var uc=Bn({name:lc,props:Ps({},Rl,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup(e,{slots:t}){const n=Nl(),{parent:i,index:r}=ao(Il),a=Sa(()=>{if(i){const e=i.children[r.value-1];return!(e&&"isButton"in e)}}),s=Sa(()=>{if(i){const e=i.children[r.value+1];return!(e&&"isButton"in e)}});return Ll({isButton:!0}),()=>{const{type:i,icon:r,text:o,color:l,loading:c,disabled:u}=e;return Qr(oc,{class:cc([i,{last:s.value,first:a.value}]),size:"large",type:i,icon:r,color:l,loading:c,disabled:u,onClick:n},{default:()=>[t.default?t.default():o]})}}});const dc=Sl(uc),[hc,pc]=ul("action-bar-icon");var fc=Bn({name:hc,props:Ps({},Rl,{dot:Boolean,text:String,icon:String,color:String,badge:Ws,iconClass:Hs,badgeProps:Object,iconPrefix:String}),setup(e,{slots:t}){const n=Nl();ao(Il);const i=()=>{const{dot:n,badge:i,icon:r,color:a,iconClass:s,badgeProps:o,iconPrefix:l}=e;return t.icon?Qr(Ul,aa({dot:n,class:pc("icon"),content:i},o),{default:t.icon}):Qr(Kl,{tag:"div",dot:n,name:r,badge:i,color:a,class:[pc("icon"),s],badgeProps:o,classPrefix:l},null)};return()=>Qr("div",{role:"button",class:pc(),tabindex:0,onClick:n},[i(),t.default?t.default():e.text])}});const mc=Sl(fc),gc={show:Boolean,zIndex:Ws,overlay:Gs,duration:Ws,teleport:[String,Object],lockScroll:Gs,lazyRender:Gs,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:Hs,transitionAppear:Boolean,closeOnClickOverlay:Gs},vc=Object.keys(gc);function yc(){const e=St(0),t=St(0),n=St(0),i=St(0),r=St(0),a=St(0),s=St(""),o=St(!0),l=()=>{n.value=0,i.value=0,r.value=0,a.value=0,s.value="",o.value=!0};return{move:l=>{const c=l.touches[0];n.value=(c.clientX<0?0:c.clientX)-e.value,i.value=c.clientY-t.value,r.value=Math.abs(n.value),a.value=Math.abs(i.value),(!s.value||r.value<10&&a.value<10)&&(s.value=function(e,t){return e>t?"horizontal":t>e?"vertical":""}(r.value,a.value)),o.value&&(r.value>5||a.value>5)&&(o.value=!1)},start:n=>{l(),e.value=n.touches[0].clientX,t.value=n.touches[0].clientY},reset:l,startX:e,startY:t,deltaX:n,deltaY:i,offsetX:r,offsetY:a,direction:s,isVertical:()=>"vertical"===s.value,isHorizontal:()=>"horizontal"===s.value,isTap:o}}let bc=0;const _c="van-overflow-hidden";function Tc(e,t){const n=yc(),i=t=>{n.move(t);const i=n.deltaY.value>0?"10":"01",r=Ao(t.target,e.value),{scrollHeight:a,offsetHeight:s,scrollTop:o}=r;let l="11";0===o?l=s>=a?"00":"01":o+s>=a&&(l="10"),"11"===l||!n.isVertical()||parseInt(l,2)&parseInt(i,2)||No(t,!0)},r=()=>{document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",i,{passive:!1}),bc||document.body.classList.add(_c),bc++},a=()=>{bc&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",i),bc--,bc||document.body.classList.remove(_c))},s=()=>t()&&a();vo(()=>t()&&r()),Qn(s),li(s),_r(t,e=>{e?r():a()})}function Sc(e){const t=St(!1);return _r(e,e=>{e&&(t.value=e)},{immediate:!0}),e=>()=>t.value?e():null}const wc=()=>{var e;const{scopeId:t}=(null==(e=ua())?void 0:e.vnode)||{};return t?{[t]:""}:null},[Ac,kc]=ul("overlay");var xc=Bn({name:Ac,inheritAttrs:!1,props:{show:Boolean,zIndex:Ws,duration:Ws,className:Hs,lockScroll:Gs,lazyRender:Gs,customStyle:Object,teleport:[String,Object]},setup(e,{attrs:t,slots:n}){const i=St(),r=Sc(()=>e.show||!e.lazyRender)(()=>{var r;const a=Ps(qo(e.zIndex),e.customStyle);return Ms(e.duration)&&(a.animationDuration=`${e.duration}s`),un(Qr("div",aa({ref:i,style:a,class:[kc(),e.className]},t),[null==(r=n.default)?void 0:r.call(n)]),[[Ja,e.show]])});return yo("touchmove",t=>{e.lockScroll&&No(t,!0)},{target:i}),()=>{const t=Qr(Ba,{name:"van-fade",appear:!0},{default:r});return e.teleport?Qr(Tn,{to:e.teleport},{default:()=>[t]}):t}}});const Cc=Sl(xc),Ec=Ps({},gc,{round:Boolean,position:Js("center"),closeIcon:Js("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Js("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[Oc,Ic]=ul("popup");var Dc=Bn({name:Oc,inheritAttrs:!1,props:Ec,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:n,slots:i}){let r,a;const s=St(),o=St(),l=Sc(()=>e.show||!e.lazyRender),c=Sa(()=>{const t={zIndex:s.value};return Ms(e.duration)&&(t["center"===e.position?"animationDuration":"transitionDuration"]=`${e.duration}s`),t}),u=()=>{r||(r=!0,s.value=void 0!==e.zIndex?+e.zIndex:++$l,t("open"))},d=()=>{r&&Tl(e.beforeClose,{done(){r=!1,t("close"),t("update:show",!1)}})},h=n=>{t("clickOverlay",n),e.closeOnClickOverlay&&d()},p=()=>{if(e.overlay){const t=Ps({show:e.show,class:e.overlayClass,zIndex:s.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},e.overlayProps);return Qr(Cc,aa(t,wc(),{onClick:h}),{default:i["overlay-content"]})}},f=e=>{t("clickCloseIcon",e),d()},m=()=>{if(e.closeable)return Qr(Kl,{role:"button",tabindex:0,name:e.closeIcon,class:[Ic("close-icon",e.closeIconPosition),bl],classPrefix:e.iconPrefix,onClick:f},null)};let g;const v=()=>{g&&clearTimeout(g),g=setTimeout(()=>{t("opened")})},y=()=>t("closed"),b=e=>t("keydown",e),_=l(()=>{var t;const{destroyOnClose:r,round:a,position:s,safeAreaInsetTop:l,safeAreaInsetBottom:u,show:d}=e;if(d||!r)return un(Qr("div",aa({ref:o,style:c.value,role:"dialog",tabindex:0,class:[Ic({round:a,[s]:s}),{"van-safe-area-top":l,"van-safe-area-bottom":u}],onKeydown:b},n,wc()),[null==(t=i.default)?void 0:t.call(i),m()]),[[Ja,d]])}),T=()=>{const{position:t,transition:n,transitionAppear:i}=e;return Qr(Ba,{name:n||("center"===t?"van-fade":`van-popup-slide-${t}`),appear:i,onAfterEnter:v,onAfterLeave:y},{default:_})};return _r(()=>e.show,e=>{e&&!r&&(u(),0===n.tabindex&&Jt(()=>{var e;null==(e=o.value)||e.focus()})),!e&&r&&(r=!1,t("close"))}),Ll({popupRef:o}),Tc(o,()=>e.show&&e.lockScroll),yo("popstate",()=>{e.closeOnPopstate&&(d(),a=!1)}),ai(()=>{e.show&&u()}),Kn(()=>{a&&(t("update:show",!0),a=!1)}),Qn(()=>{e.show&&e.teleport&&(d(),a=!0)}),Gi(Al,()=>e.show),()=>e.teleport?Qr(Tn,{to:e.teleport},{default:()=>[p(),T()]}):Qr(Rr,null,[p(),T()])}});const Pc=e("aq",Sl(Dc)),[Lc,Rc]=ul("action-sheet"),Mc=Ps({},gc,{title:String,round:Gs,actions:Ys(),closeIcon:Js("cross"),closeable:Gs,cancelText:String,description:String,closeOnPopstate:Gs,closeOnClickAction:Boolean,safeAreaInsetBottom:Gs}),Nc=[...vc,"round","closeOnPopstate","safeAreaInsetBottom"];var jc=Bn({name:Lc,props:Mc,emits:["select","cancel","update:show"],setup(e,{slots:t,emit:n}){const i=e=>n("update:show",e),r=()=>{i(!1),n("cancel")},a=()=>{if(e.title)return Qr("div",{class:Rc("header")},[e.title,e.closeable&&Qr(Kl,{name:e.closeIcon,class:[Rc("close"),bl],onClick:r},null)])},s=()=>{if(t.cancel||e.cancelText)return[Qr("div",{class:Rc("gap")},null),Qr("button",{type:"button",class:Rc("cancel"),onClick:r},[t.cancel?t.cancel():e.cancelText])]},o=e=>{if(e.icon)return Qr(Kl,{class:Rc("item-icon"),name:e.icon},null)},l=(e,n)=>e.loading?Qr(ic,{class:Rc("loading-icon")},null):t.action?t.action({action:e,index:n}):[Qr("span",{class:Rc("name")},[e.name]),e.subname&&Qr("div",{class:Rc("subname")},[e.subname])],c=(t,r)=>{const{color:a,loading:s,callback:c,disabled:u,className:d}=t;return Qr("button",{type:"button",style:{color:a},class:[Rc("item",{loading:s,disabled:u}),d],onClick:()=>{u||s||(c&&c(t),e.closeOnClickAction&&i(!1),Jt(()=>n("select",t,r)))}},[o(t),l(t,r)])},u=()=>{if(e.description||t.description){const n=t.description?t.description():e.description;return Qr("div",{class:Rc("description")},[n])}};return()=>Qr(Pc,aa({class:Rc(),position:"bottom","onUpdate:show":i},Vs(e,Nc)),{default:()=>{var n;return[a(),u(),Qr("div",{class:Rc("content")},[e.actions.map(c),null==(n=t.default)?void 0:n.call(t)]),s()]}})}});const Bc=e("a1",Sl(jc)),[Fc,Uc,$c]=ul("picker"),Vc=e=>e.find(e=>!e.disabled)||e[0];function qc(e,t){for(let n=t=Ko(t,0,e.length);n<e.length;n++)if(!e[n].disabled)return n;for(let n=t-1;n>=0;n--)if(!e[n].disabled)return n;return 0}const zc=(e,t,n)=>void 0!==t&&e.some(e=>e[n.value]===t);function Hc(e,t,n){const i=e.findIndex(e=>e[n.value]===t);return e[qc(e,i)]}const[Wc,Gc]=ul("picker-column"),Xc=Symbol(Wc);var Yc=Bn({name:Wc,props:{value:Ws,fields:Xs(Object),options:Ys(),readonly:Boolean,allowHtml:Boolean,optionHeight:Xs(Number),swipeDuration:Xs(Ws),visibleOptionNum:Xs(Ws)},emits:["change","clickOption","scrollInto"],setup(e,{emit:t,slots:n}){let i,r,a,s,o;const l=St(),c=St(),u=St(0),d=St(0),h=yc(),p=()=>e.options.length,f=()=>e.optionHeight*(+e.visibleOptionNum-1)/2,m=n=>{let r=qc(e.options,n);const a=-r*e.optionHeight,s=()=>{r>p()-1&&(r=qc(e.options,n));const i=e.options[r][e.fields.value];i!==e.value&&t("change",i)};i&&a!==u.value?o=s:s(),u.value=a},g=()=>e.readonly||!e.options.length,v=t=>Ko(Math.round(-t/e.optionHeight),0,p()-1),y=Sa(()=>v(u.value)),b=()=>{i=!1,d.value=0,o&&(o(),o=null)},_=e=>{if(!g()){if(h.start(e),i){const e=function(e){const{transform:t}=window.getComputedStyle(e),n=t.slice(7,t.length-1).split(", ")[5];return Number(n)}(c.value);u.value=Math.min(0,e-f())}d.value=0,r=u.value,a=Date.now(),s=r,o=null}},T=()=>{if(g())return;const t=u.value-s,n=Date.now()-a;if(n<300&&Math.abs(t)>15)return void((t,n)=>{const i=Math.abs(t/n);t=u.value+i/.003*(t<0?-1:1);const r=v(t);d.value=+e.swipeDuration,m(r)})(t,n);const r=v(u.value);d.value=200,m(r),setTimeout(()=>{i=!1},0)},S=()=>{const r={height:`${e.optionHeight}px`};return e.options.map((a,s)=>{const l=a[e.fields.text],{disabled:c}=a,u=a[e.fields.value],h={role:"button",style:r,tabindex:c?-1:0,class:[Gc("item",{disabled:c,selected:u===e.value}),a.className],onClick:()=>(n=>{i||g()||(o=null,d.value=200,m(n),t("clickOption",e.options[n]))})(s)},p={class:"van-ellipsis",[e.allowHtml?"innerHTML":"textContent"]:l};return Qr("li",h,[n.option?n.option(a,s):Qr("div",p,null)])})};return ao(Xc),Ll({stopMomentum:b}),br(()=>{const t=i?Math.floor(-u.value/e.optionHeight):e.options.findIndex(t=>t[e.fields.value]===e.value),n=qc(e.options,t),r=-n*e.optionHeight;i&&n<t&&b(),u.value=r}),yo("touchmove",n=>{if(g())return;h.move(n),h.isVertical()&&(i=!0,No(n,!0));const o=Ko(r+h.deltaY.value,-p()*e.optionHeight,e.optionHeight),l=v(o);l!==y.value&&t("scrollInto",e.options[l]),u.value=o;const c=Date.now();c-a>300&&(a=c,s=o)},{target:l}),()=>Qr("div",{ref:l,class:Gc(),onTouchstartPassive:_,onTouchend:T,onTouchcancel:T},[Qr("ul",{ref:c,style:{transform:`translate3d(0, ${u.value+f()}px, 0)`,transitionDuration:`${d.value}ms`,transitionProperty:d.value?"all":"none"},class:Gc("wrapper"),onTransitionend:b},[S()])])}});const[Kc]=ul("picker-toolbar"),Qc={title:String,cancelButtonText:String,confirmButtonText:String},Jc=["cancel","confirm","title","toolbar"],Zc=Object.keys(Qc);var eu=Bn({name:Kc,props:Qc,emits:["confirm","cancel"],setup(e,{emit:t,slots:n}){const i=()=>t("cancel"),r=()=>t("confirm"),a=()=>{var t;const r=null!=(t=e.cancelButtonText)?t:$c("cancel");if(n.cancel||r)return Qr("button",{type:"button",class:[Uc("cancel"),bl],onClick:i},[n.cancel?n.cancel():r])},s=()=>{var t;const i=null!=(t=e.confirmButtonText)?t:$c("confirm");if(n.confirm||i)return Qr("button",{type:"button",class:[Uc("confirm"),bl],onClick:r},[n.confirm?n.confirm():i])};return()=>Qr("div",{class:Uc("toolbar")},[n.toolbar?n.toolbar():[a(),n.title?n.title():e.title?Qr("div",{class:[Uc("title"),"van-ellipsis"]},[e.title]):void 0,s()]])}});const tu=(e,t)=>{const n=St(e());return _r(e,e=>{e!==n.value&&(n.value=e)}),_r(n,n=>{n!==e()&&t(n)}),n};let nu=0;function iu(){const e=ua(),{name:t="unknown"}=(null==e?void 0:e.type)||{};return`${t}-${++nu}`}function ru(){const e=St([]),t=[];return si(()=>{e.value=[]}),[e,n=>(t[n]||(t[n]=t=>{e.value[n]=t}),t[n])]}function au(e,t){if(!Ls||!window.IntersectionObserver)return;const n=new IntersectionObserver(e=>{t(e[0].intersectionRatio>0)},{root:document.body}),i=()=>{e.value&&n.unobserve(e.value)};Qn(i),li(i),vo(()=>{e.value&&n.observe(e.value)})}const[su,ou]=ul("sticky");var lu=Bn({name:su,props:{zIndex:Ws,position:Js("top"),container:Object,offsetTop:Qs(0),offsetBottom:Qs(0)},emits:["scroll","change"],setup(e,{emit:t,slots:n}){const i=St(),r=ko(i),a=ct({fixed:!1,width:0,height:0,transform:0}),s=St(!1),o=Sa(()=>Wo("top"===e.position?e.offsetTop:e.offsetBottom)),l=Sa(()=>{if(s.value)return;const{fixed:e,height:t,width:n}=a;return e?{width:`${n}px`,height:`${t}px`}:void 0}),c=Sa(()=>{if(!a.fixed||s.value)return;const t=Ps(qo(e.zIndex),{width:`${a.width}px`,height:`${a.height}px`,[e.position]:`${o.value}px`});return a.transform&&(t.transform=`translate3d(0, ${a.transform}px, 0)`),t}),u=()=>{if(!i.value||jo(i))return;const{container:n,position:r}=e,s=ro(i),l=Eo(window);if(a.width=s.width,a.height=s.height,"top"===r)if(n){const e=ro(n),t=e.bottom-o.value-a.height;a.fixed=o.value>s.top&&e.bottom>0,a.transform=t<0?t:0}else a.fixed=o.value>s.top;else{const{clientHeight:e}=document.documentElement;if(n){const t=ro(n),i=e-t.top-o.value-a.height;a.fixed=e-o.value<s.bottom&&e>t.top,a.transform=i<0?-i:0}else a.fixed=e-o.value<s.bottom}(e=>{t("scroll",{scrollTop:e,isFixed:a.fixed})})(l)};return _r(()=>a.fixed,e=>t("change",e)),yo("scroll",u,{target:r,passive:!0}),au(i,u),_r([Bo,Fo],()=>{i.value&&!jo(i)&&a.fixed&&(s.value=!0,Jt(()=>{const e=ro(i);a.width=e.width,a.height=e.height,s.value=!1}))}),()=>{var e;return Qr("div",{ref:i,style:l.value},[Qr("div",{class:ou({fixed:a.fixed&&!s.value}),style:c.value},[null==(e=n.default)?void 0:e.call(n)])])}}});const cu=Sl(lu),[uu,du]=ul("swipe"),hu={loop:Gs,width:Ws,height:Ws,vertical:Boolean,autoplay:Qs(0),duration:Qs(500),touchable:Gs,lazyRender:Boolean,initialSwipe:Qs(0),indicatorColor:String,showIndicators:Gs,stopPropagation:Gs},pu=Symbol(uu);var fu=Bn({name:uu,props:hu,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:n}){const i=St(),r=St(),a=ct({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let s=!1;const o=yc(),{children:l,linkChildren:c}=lo(pu),u=Sa(()=>l.length),d=Sa(()=>a[e.vertical?"height":"width"]),h=Sa(()=>e.vertical?o.deltaY.value:o.deltaX.value),p=Sa(()=>a.rect?(e.vertical?a.rect.height:a.rect.width)-d.value*u.value:0),f=Sa(()=>d.value?Math.ceil(Math.abs(p.value)/d.value):u.value),m=Sa(()=>u.value*d.value),g=Sa(()=>(a.active+u.value)%u.value),v=Sa(()=>{const t=e.vertical?"vertical":"horizontal";return o.direction.value===t}),y=Sa(()=>{const t={transitionDuration:`${a.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+a.offset.toFixed(2)}px)`};if(d.value){const n=e.vertical?"height":"width",i=e.vertical?"width":"height";t[n]=`${m.value}px`,t[i]=e[i]?`${e[i]}px`:""}return t}),b=(t,n=0)=>{let i=t*d.value;e.loop||(i=Math.min(i,-p.value));let r=n-i;return e.loop||(r=Ko(r,p.value,0)),r},_=({pace:n=0,offset:i=0,emitChange:r})=>{if(u.value<=1)return;const{active:s}=a,o=(t=>{const{active:n}=a;return t?e.loop?Ko(n+t,-1,u.value):Ko(n+t,0,f.value):n})(n),c=b(o,i);if(e.loop){if(l[0]&&c!==p.value){const e=c<p.value;l[0].setOffset(e?m.value:0)}if(l[u.value-1]&&0!==c){const e=c>0;l[u.value-1].setOffset(e?-m.value:0)}}a.active=o,a.offset=c,r&&o!==s&&t("change",g.value)},T=()=>{a.swiping=!0,a.active<=-1?_({pace:u.value}):a.active>=u.value&&_({pace:-u.value})},S=()=>{T(),o.reset(),no(()=>{a.swiping=!1,_({pace:1,emitChange:!0})})};let w;const A=()=>clearTimeout(w),k=()=>{A(),+e.autoplay>0&&u.value>1&&(w=setTimeout(()=>{S(),k()},+e.autoplay))},x=(t=+e.initialSwipe)=>{if(!i.value)return;const n=()=>{var n,r;if(!jo(i)){const t={width:i.value.offsetWidth,height:i.value.offsetHeight};a.rect=t,a.width=+(null!=(n=e.width)?n:t.width),a.height=+(null!=(r=e.height)?r:t.height)}u.value&&-1===(t=Math.min(u.value-1,t))&&(t=u.value-1),a.active=t,a.swiping=!0,a.offset=b(t),l.forEach(e=>{e.setOffset(0)}),k()};jo(i)?Jt().then(n):n()},C=()=>x(a.active);let E;const O=t=>{!e.touchable||t.touches.length>1||(o.start(t),s=!1,E=Date.now(),A(),T())},I=()=>{if(!e.touchable||!a.swiping)return;const n=Date.now()-E,i=h.value/n;if((Math.abs(i)>.25||Math.abs(h.value)>d.value/2)&&v.value){const t=e.vertical?o.offsetY.value:o.offsetX.value;let n=0;n=e.loop?t>0?h.value>0?-1:1:0:-Math[h.value>0?"ceil":"floor"](h.value/d.value),_({pace:n,emitChange:!0})}else h.value&&_({pace:0});s=!1,a.swiping=!1,t("dragEnd",{index:g.value}),k()},D=(t,n)=>{const i=n===g.value,r=i?{backgroundColor:e.indicatorColor}:void 0;return Qr("i",{style:r,class:du("indicator",{active:i})},null)};return Ll({prev:()=>{T(),o.reset(),no(()=>{a.swiping=!1,_({pace:-1,emitChange:!0})})},next:S,state:a,resize:C,swipeTo:(t,n={})=>{T(),o.reset(),no(()=>{let i;i=e.loop&&t===u.value?0===a.active?0:t:t%u.value,n.immediate?no(()=>{a.swiping=!1}):a.swiping=!1,_({pace:i-a.active,emitChange:!0})})}}),c({size:d,props:e,count:u,activeIndicator:g}),_r(()=>e.initialSwipe,e=>x(+e)),_r(u,()=>x(a.active)),_r(()=>e.autoplay,k),_r([Bo,Fo,()=>e.width,()=>e.height],C),_r(function(){if(!_o&&(_o=St("visible"),Zs)){const e=()=>{_o.value=document.hidden?"hidden":"visible"};e(),window.addEventListener("visibilitychange",e)}return _o}(),e=>{"visible"===e?k():A()}),ai(x),Kn(()=>x(a.active)),kl(()=>x(a.active)),Qn(A),li(A),yo("touchmove",n=>{e.touchable&&a.swiping&&(o.move(n),v.value)&&(!e.loop&&(0===a.active&&h.value>0||a.active===u.value-1&&h.value<0)||(No(n,e.stopPropagation),_({offset:h.value}),s||(t("dragStart",{index:g.value}),s=!0)))},{target:r}),()=>{var t;return Qr("div",{ref:i,class:du()},[Qr("div",{ref:r,style:y.value,class:du("track",{vertical:e.vertical}),onTouchstartPassive:O,onTouchend:I,onTouchcancel:I},[null==(t=n.default)?void 0:t.call(n)]),n.indicator?n.indicator({active:g.value,total:u.value}):e.showIndicators&&u.value>1?Qr("div",{class:du("indicators",{vertical:e.vertical})},[Array(u.value).fill("").map(D)]):void 0])}}});const mu=e("bT",Sl(fu)),[gu,vu]=ul("tabs");var yu=Bn({name:gu,props:{count:Xs(Number),inited:Boolean,animated:Boolean,duration:Xs(Ws),swipeable:Boolean,lazyRender:Boolean,currentIndex:Xs(Number)},emits:["change"],setup(e,{emit:t,slots:n}){const i=St(),r=e=>t("change",e),a=()=>{var t;const a=null==(t=n.default)?void 0:t.call(n);return e.animated||e.swipeable?Qr(mu,{ref:i,loop:!1,class:vu("track"),duration:1e3*+e.duration,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[a]}):a},s=t=>{const n=i.value;n&&n.state.active!==t&&n.swipeTo(t,{immediate:!e.inited})};return _r(()=>e.currentIndex,s),ai(()=>{s(e.currentIndex)}),Ll({swipeRef:i}),()=>Qr("div",{class:vu("content",{animated:e.animated||e.swipeable})},[a()])}});const[bu,_u]=ul("tabs"),Tu={type:Js("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:Qs(0),duration:Qs(.3),animated:Boolean,ellipsis:Gs,swipeable:Boolean,scrollspy:Boolean,offsetTop:Qs(0),background:String,lazyRender:Gs,showHeader:Gs,lineWidth:Ws,lineHeight:Ws,beforeChange:Function,swipeThreshold:Qs(5),titleActiveColor:String,titleInactiveColor:String},Su=Symbol(bu);var wu=Bn({name:bu,props:Tu,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:t,slots:n}){let i,r,a,s,o;const l=St(),c=St(),u=St(),d=St(),h=iu(),p=ko(l),[f,m]=ru(),{children:g,linkChildren:v}=lo(Su),y=ct({inited:!1,position:"",lineStyle:{},currentIndex:-1}),b=Sa(()=>g.length>+e.swipeThreshold||!e.ellipsis||e.shrink),_=Sa(()=>({borderColor:e.color,background:e.background})),T=(e,t)=>{var n;return null!=(n=e.name)?n:t},S=Sa(()=>{const e=g[y.currentIndex];if(e)return T(e,y.currentIndex)}),w=Sa(()=>Wo(e.offsetTop)),A=Sa(()=>e.sticky?w.value+i:0),k=t=>{const n=c.value,i=f.value;if(!(b.value&&n&&i&&i[y.currentIndex]))return;const r=i[y.currentIndex].$el,a=r.offsetLeft-(n.offsetWidth-r.offsetWidth)/2;s&&s(),s=function(e,t,n){let i,r=0;const a=e.scrollLeft,s=0===n?1:Math.round(1e3*n/16);let o=a;return function n(){o+=(t-a)/s,e.scrollLeft=o,++r<s&&(i=eo(n))}(),function(){to(i)}}(n,a,t?0:+e.duration)},x=()=>{const t=y.inited;Jt(()=>{const n=f.value;if(!n||!n[y.currentIndex]||"line"!==e.type||jo(l.value))return;const i=n[y.currentIndex].$el,{lineWidth:r,lineHeight:a}=e,s=i.offsetLeft+i.offsetWidth/2,o={width:$o(r),backgroundColor:e.color,transform:`translateX(${s}px) translateX(-50%)`};if(t&&(o.transitionDuration=`${e.duration}s`),Ms(a)){const e=$o(a);o.height=e,o.borderRadius=e}y.lineStyle=o})},C=(n,i)=>{const r=(e=>{const t=e<y.currentIndex?-1:1;for(;e>=0&&e<g.length;){if(!g[e].disabled)return e;e+=t}})(n);if(!Ms(r))return;const s=g[r],o=T(s,r),c=null!==y.currentIndex;y.currentIndex!==r&&(y.currentIndex=r,i||k(),x()),o!==e.active&&(t("update:active",o),c&&t("change",o,s.title)),a&&!e.scrollspy&&Do(Math.ceil(Po(l.value)-w.value))},E=(e,t)=>{const n=g.findIndex((t,n)=>T(t,n)===e);C(-1===n?0:n,t)},O=(t=!1)=>{if(e.scrollspy){const n=g[y.currentIndex].$el;if(n&&p.value){const i=Po(n,p.value)-A.value;r=!0,o&&o(),o=function(e,t,n,i){let r,a=Eo(e);const s=a<t,o=0===n?1:Math.round(1e3*n/16),l=(t-a)/o;return function n(){a+=l,(s&&a>t||!s&&a<t)&&(a=t),Oo(e,a),s&&a<t||!s&&a>t?r=eo(n):i&&(r=eo(i))}(),function(){to(r)}}(p.value,i,t?0:+e.duration,()=>{r=!1})}}},I=(n,i,r)=>{const{title:a,disabled:s}=g[i],o=T(g[i],i);s||(Tl(e.beforeChange,{args:[o],done:()=>{C(i),O()}}),Ml(n)),t("clickTab",{name:o,title:a,event:r,disabled:s})},D=e=>{a=e.isFixed,t("scroll",e)},P=()=>{if("line"===e.type&&g.length)return Qr("div",{class:_u("line"),style:y.lineStyle},null)},L=()=>{var t,i,r;const{type:a,border:s,sticky:o}=e,l=[Qr("div",{ref:o?void 0:u,class:[_u("wrap"),{[vl]:"line"===a&&s}]},[Qr("div",{ref:c,role:"tablist",class:_u("nav",[a,{shrink:e.shrink,complete:b.value}]),style:_.value,"aria-orientation":"horizontal"},[null==(t=n["nav-left"])?void 0:t.call(n),g.map(e=>e.renderTitle(I)),P(),null==(i=n["nav-right"])?void 0:i.call(n)])]),null==(r=n["nav-bottom"])?void 0:r.call(n)];return o?Qr("div",{ref:u},[l]):l},R=()=>{x(),Jt(()=>{var e,t;k(!0),null==(t=null==(e=d.value)?void 0:e.swipeRef.value)||t.resize()})};return _r(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],x),_r(Bo,R),_r(()=>e.active,e=>{e!==S.value&&E(e)}),_r(()=>g.length,()=>{y.inited&&(E(e.active),x(),Jt(()=>{k(!0)}))}),Ll({resize:R,scrollTo:e=>{Jt(()=>{E(e),O(!0)})}}),Kn(x),kl(x),vo(()=>{E(e.active,!0),Jt(()=>{y.inited=!0,u.value&&(i=ro(u.value).height),k(!0)})}),au(l,x),yo("scroll",()=>{if(e.scrollspy&&!r){const e=(()=>{for(let e=0;e<g.length;e++){const{top:t}=ro(g[e].$el);if(t>A.value)return 0===e?0:e-1}return g.length-1})();C(e)}},{target:p,passive:!0}),v({id:h,props:e,setLine:x,scrollable:b,onRendered:(e,n)=>t("rendered",e,n),currentName:S,setTitleRefs:m,scrollIntoView:k}),()=>Qr("div",{ref:l,class:_u([e.type])},[e.showHeader?e.sticky?Qr(cu,{container:l.value,offsetTop:w.value,onScroll:D},{default:()=>[L()]}):L():null,Qr(yu,{ref:d,count:g.length,inited:y.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:y.currentIndex,onChange:C},{default:()=>{var e;return[null==(e=n.default)?void 0:e.call(n)]}})])}});const Au=Symbol(),ku=Symbol(),xu=()=>Xi(ku,null),[Cu,Eu]=ul("tab"),Ou=Bn({name:Cu,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:Ws,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:Gs},setup(e,{slots:t}){const n=Sa(()=>{const t={},{type:n,color:i,disabled:r,isActive:a,activeColor:s,inactiveColor:o}=e;i&&"card"===n&&(t.borderColor=i,r||(a?t.backgroundColor=i:t.color=i));const l=a?s:o;return l&&(t.color=l),t}),i=()=>{const n=Qr("span",{class:Eu("text",{ellipsis:!e.scrollable})},[t.title?t.title():e.title]);return e.dot||Ms(e.badge)&&""!==e.badge?Qr(Ul,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[n]}):n};return()=>Qr("div",{id:e.id,role:"tab",class:[Eu([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:n.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls,"data-allow-mismatch":"attribute"},[i()])}}),[Iu,Du]=ul("swipe-item");var Pu=Bn({name:Iu,setup(e,{slots:t}){let n;const i=ct({offset:0,inited:!1,mounted:!1}),{parent:r,index:a}=ao(pu);if(!r)return;const s=Sa(()=>{const e={},{vertical:t}=r.props;return r.size.value&&(e[t?"height":"width"]=`${r.size.value}px`),i.offset&&(e.transform=`translate${t?"Y":"X"}(${i.offset}px)`),e}),o=Sa(()=>{const{loop:e,lazyRender:t}=r.props;if(!t||n)return!0;if(!i.mounted)return!1;const s=r.activeIndicator.value,o=r.count.value-1,l=0===s&&e?o:s-1,c=s===o&&e?0:s+1;return n=a.value===s||a.value===l||a.value===c,n});return ai(()=>{Jt(()=>{i.mounted=!0})}),Ll({setOffset:e=>{i.offset=e}}),()=>{var e;return Qr("div",{class:Du(),style:s.value},[o.value?null==(e=t.default)?void 0:e.call(t):null])}}});const Lu=e("bS",Sl(Pu)),[Ru,Mu]=ul("tab");var Nu=Bn({name:Ru,props:Ps({},Rl,{dot:Boolean,name:Ws,badge:Ws,title:String,disabled:Boolean,titleClass:Hs,titleStyle:[String,Object],showZeroBadge:Gs}),setup(e,{slots:t}){const n=iu(),i=St(!1),r=ua(),{parent:a,index:s}=ao(Su);if(!a)return;const o=()=>{var t;return null!=(t=e.name)?t:s.value},l=Sa(()=>{const t=o()===a.currentName.value;return t&&!i.value&&(i.value=!0,a.props.lazyRender&&Jt(()=>{a.onRendered(o(),e.title)})),t}),c=St(""),u=St("");br(()=>{const{titleClass:t,titleStyle:n}=e;c.value=t?H(t):"",u.value=n&&"string"!=typeof n?function(e){if(!e)return"";if(v(e))return e;let t="";for(const n in e){const i=e[n];(v(i)||"number"==typeof i)&&(t+=`${n.startsWith("--")?n:D(n)}:${i};`)}return t}(U(n)):n});const d=St(!l.value);return _r(l,e=>{e?d.value=!1:no(()=>{d.value=!0})}),_r(()=>e.title,()=>{a.setLine(),a.scrollIntoView()}),(e=>{const t=xu();Gi(Au,e),Gi(ku,Sa(()=>(null==t||t.value)&&e.value))})(l),Ll({id:n,renderTitle:i=>Qr(Ou,aa({key:n,id:`${a.id}-${s.value}`,ref:a.setTitleRefs(s.value),style:u.value,class:c.value,isActive:l.value,controls:n,scrollable:a.scrollable.value,activeColor:a.props.titleActiveColor,inactiveColor:a.props.titleInactiveColor,onClick:e=>i(r.proxy,s.value,e)},Vs(a.props,["type","color","shrink"]),Vs(e,["dot","badge","title","disabled","showZeroBadge"])),{title:t.title})}),()=>{var e;const r=`${a.id}-${s.value}`,{animated:o,swipeable:c,scrollspy:u,lazyRender:h}=a.props;if(!t.default&&!o)return;const p=u||l.value;if(o||c)return Qr(Lu,{id:n,role:"tabpanel",class:Mu("panel-wrapper",{inactive:d.value}),tabindex:l.value?0:-1,"aria-hidden":!l.value,"aria-labelledby":r,"data-allow-mismatch":"attribute"},{default:()=>{var e;return[Qr("div",{class:Mu("panel")},[null==(e=t.default)?void 0:e.call(t)])]}});const f=i.value||u||!h?null==(e=t.default)?void 0:e.call(t):null;return un(Qr("div",{id:n,role:"tabpanel",class:Mu("panel"),tabindex:p?0:-1,"aria-labelledby":r,"data-allow-mismatch":"attribute"},[f]),[[Ja,p]])}}});const ju=e("al",Sl(Nu)),Bu=e("am",Sl(wu)),[Fu,Uu]=ul("picker-group"),$u=Symbol(Fu);var Vu=Bn({name:Fu,props:Ps({tabs:Ys(),activeTab:Qs(0),nextStepText:String,showToolbar:Gs},Qc),emits:["confirm","cancel","update:activeTab"],setup(e,{emit:t,slots:n}){const i=tu(()=>e.activeTab,e=>t("update:activeTab",e)),{children:r,linkChildren:a}=lo($u);a();const s=()=>+i.value<e.tabs.length-1&&e.nextStepText,o=()=>{s()?i.value=+i.value+1:t("confirm",r.map(e=>e.confirm()))},l=()=>t("cancel");return()=>{var t,r;let a=null==(r=null==(t=n.default)?void 0:t.call(n))?void 0:r.filter(e=>e.type!==Nr).map(e=>e.type===Rr?e.children:e);a&&(a=a.reduce((e,t)=>e.concat(t),[]));const c=s()?e.nextStepText:e.confirmButtonText;return Qr("div",{class:Uu()},[e.showToolbar?Qr(eu,{title:e.title,cancelButtonText:e.cancelButtonText,confirmButtonText:c,onConfirm:o,onCancel:l},Vs(n,Jc)):null,Qr(Bu,{active:i.value,"onUpdate:active":e=>i.value=e,class:Uu("tabs"),shrink:!0,animated:!0,lazyRender:!1},{default:()=>[e.tabs.map((e,t)=>Qr(ju,{title:e,titleClass:Uu("tab-title")},{default:()=>[null==a?void 0:a[t]]}))]})])}}});const qu=Ps({loading:Boolean,readonly:Boolean,allowHtml:Boolean,optionHeight:Qs(44),showToolbar:Gs,swipeDuration:Qs(1e3),visibleOptionNum:Qs(6)},Qc);var zu=Bn({name:Fc,props:Ps({},qu,{columns:Ys(),modelValue:Ys(),toolbarPosition:Js("top"),columnsFieldNames:Object}),emits:["confirm","cancel","change","scrollInto","clickOption","update:modelValue"],setup(e,{emit:t,slots:n}){const i=St(),r=St(e.modelValue.slice(0)),{parent:a}=ao($u),{children:s,linkChildren:o}=lo(Xc);o();const l=Sa(()=>function(e){return Ps({text:"text",value:"value",children:"children"},e)}(e.columnsFieldNames)),c=Sa(()=>Wo(e.optionHeight)),u=Sa(()=>function(e,t){const n=e[0];if(n){if(Array.isArray(n))return"multiple";if(t.children in n)return"cascade"}return"default"}(e.columns,l.value)),d=Sa(()=>{const{columns:t}=e;switch(u.value){case"multiple":return t;case"cascade":return function(e,t,n){const i=[];let r={[t.children]:e},a=0;for(;r&&r[t.children];){const e=r[t.children],s=n.value[a];r=Ms(s)?Hc(e,s,t):void 0,!r&&e.length&&(r=Hc(e,Vc(e)[t.value],t)),a++,i.push(e)}return i}(t,l.value,r);default:return[t]}}),h=Sa(()=>d.value.some(e=>e.length)),p=Sa(()=>d.value.map((e,t)=>Hc(e,r.value[t],l.value))),f=Sa(()=>d.value.map((e,t)=>e.findIndex(e=>e[l.value.value]===r.value[t]))),m=(e,t)=>{if(r.value[e]!==t){const n=r.value.slice(0);n[e]=t,r.value=n}},g=()=>({selectedValues:r.value.slice(0),selectedOptions:p.value,selectedIndexes:f.value}),v=()=>{s.forEach(e=>e.stopMomentum());const e=g();return Jt(()=>{const e=g();t("confirm",e)}),e},y=()=>t("cancel",g()),b=()=>d.value.map((i,a)=>Qr(Yc,{value:r.value[a],fields:l.value,options:i,readonly:e.readonly,allowHtml:e.allowHtml,optionHeight:c.value,swipeDuration:e.swipeDuration,visibleOptionNum:e.visibleOptionNum,onChange:e=>((e,n)=>{m(n,e),"cascade"===u.value&&r.value.forEach((e,t)=>{const n=d.value[t];zc(n,e,l.value)||m(t,n.length?n[0][l.value.value]:void 0)}),Jt(()=>{t("change",Ps({columnIndex:n},g()))})})(e,a),onClickOption:e=>((e,n)=>{const i={columnIndex:n,currentOption:e};t("clickOption",Ps(g(),i)),t("scrollInto",i)})(e,a),onScrollInto:e=>{t("scrollInto",{currentOption:e,columnIndex:a})}},{option:n.option})),_=e=>{if(h.value){const t={height:`${c.value}px`},n={backgroundSize:`100% ${(e-c.value)/2}px`};return[Qr("div",{class:Uc("mask"),style:n},null),Qr("div",{class:[yl,Uc("frame")],style:t},null)]}},T=()=>{const t=c.value*+e.visibleOptionNum,r={height:`${t}px`};return e.loading||h.value||!n.empty?Qr("div",{ref:i,class:Uc("columns"),style:r},[b(),_(t)]):n.empty()},S=()=>{if(e.showToolbar&&!a)return Qr(eu,aa(Vs(e,Zc),{onConfirm:v,onCancel:y}),Vs(n,Jc))},w=e=>{e.forEach((e,t)=>{e.length&&!zc(e,r.value[t],l.value)&&m(t,Vc(e)[l.value.value])})};let A;return _r(d,e=>w(e),{immediate:!0}),_r(()=>e.modelValue,t=>{qs(t,r.value)||qs(t,A)||(r.value=t.slice(0),A=t.slice(0)),0===e.modelValue.length&&w(d.value)},{deep:!0}),_r(r,n=>{qs(n,e.modelValue)||(A=n.slice(0),t("update:modelValue",A))},{immediate:!0}),yo("touchmove",No,{target:i}),Ll({confirm:v,getSelectedOptions:()=>p.value}),()=>{var t,i;return Qr("div",{class:Uc()},["top"===e.toolbarPosition?S():null,e.loading?Qr(ic,{class:Uc("loading")},null):null,null==(t=n["columns-top"])?void 0:t.call(n),T(),null==(i=n["columns-bottom"])?void 0:i.call(n),"bottom"===e.toolbarPosition?S():null])}}});const Hu="000000",Wu=["title","cancel","confirm","toolbar","columns-top","columns-bottom"],Gu=["title","loading","readonly","optionHeight","swipeDuration","visibleOptionNum","cancelButtonText","confirmButtonText"],Xu=(e="",t=Hu,n=void 0)=>({text:e,value:t,children:n});function Yu({areaList:e,columnsNum:t,columnsPlaceholder:n}){const{city_list:i={},county_list:r={},province_list:a={}}=e,s=+t>1,o=+t>2,l=new Map;Object.keys(a).forEach(e=>{l.set(e.slice(0,2),Xu(a[e],e,(()=>{if(s)return n.length>1?[Xu(n[1],Hu,o?[]:void 0)]:[]})()))});const c=new Map;if(s){const e=()=>{if(o)return n.length>2?[Xu(n[2])]:[]};Object.keys(i).forEach(t=>{const n=Xu(i[t],t,e());c.set(t.slice(0,4),n);const r=l.get(t.slice(0,2));r&&r.children.push(n)})}o&&Object.keys(r).forEach(e=>{const t=c.get(e.slice(0,4));t&&t.children.push(Xu(r[e],e))});const u=Array.from(l.values());if(n.length){const e=o?[Xu(n[2])]:void 0,t=s?[Xu(n[1],Hu,e)]:void 0;u.unshift(Xu(n[0],Hu,t))}return u}const Ku=e("a_",Sl(zu)),[Qu,Ju]=ul("area");var Zu=Bn({name:Qu,props:Ps({},Vs(qu,Gu),{modelValue:String,columnsNum:Qs(3),columnsPlaceholder:Ys(),areaList:{type:Object,default:()=>({})}}),emits:["change","confirm","cancel","update:modelValue"],setup(e,{emit:t,slots:n}){const i=St([]),r=St(),a=Sa(()=>Yu(e)),s=(...e)=>t("change",...e),o=(...e)=>t("cancel",...e),l=(...e)=>t("confirm",...e);return _r(i,n=>{const i=n.length?n[n.length-1]:"";i&&i!==e.modelValue&&t("update:modelValue",i)},{deep:!0}),_r(()=>e.modelValue,t=>{t?t!==(i.value.length?i.value[i.value.length-1]:"")&&(i.value=[`${t.slice(0,2)}0000`,`${t.slice(0,4)}00`,t].slice(0,+e.columnsNum)):i.value=[]},{immediate:!0}),Ll({confirm:()=>{var e;return null==(e=r.value)?void 0:e.confirm()},getSelectedOptions:()=>{var e;return(null==(e=r.value)?void 0:e.getSelectedOptions())||[]}}),()=>Qr(Ku,aa({ref:r,modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,class:Ju(),columns:a.value,onChange:s,onCancel:o,onConfirm:l},Vs(e,Gu)),Vs(n,Wu))}});const ed=Sl(Zu),[td,nd]=ul("cell"),id={tag:Js("div"),icon:String,size:String,title:Ws,value:Ws,label:Ws,center:Boolean,isLink:Boolean,border:Gs,iconPrefix:String,valueClass:Hs,labelClass:Hs,titleClass:Hs,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}};var rd=Bn({name:td,props:Ps({},id,Rl),setup(e,{slots:t}){const n=Nl(),i=()=>{if(t.label||Ms(e.label))return Qr("div",{class:[nd("label"),e.labelClass]},[t.label?t.label():e.label])},r=()=>{var n;if(t.title||Ms(e.title)){const r=null==(n=t.title)?void 0:n.call(t);if(Array.isArray(r)&&0===r.length)return;return Qr("div",{class:[nd("title"),e.titleClass],style:e.titleStyle},[r||Qr("span",null,[e.title]),i()])}},a=()=>{const n=t.value||t.default;if(n||Ms(e.value))return Qr("div",{class:[nd("value"),e.valueClass]},[n?n():Qr("span",null,[e.value])])},s=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const t=e.arrowDirection&&"right"!==e.arrowDirection?`arrow-${e.arrowDirection}`:"arrow";return Qr(Kl,{name:t,class:nd("right-icon")},null)}};return()=>{var i;const{tag:o,size:l,center:c,border:u,isLink:d,required:h}=e,p=null!=(i=e.clickable)?i:d,f={center:c,required:!!h,clickable:p,borderless:!u};return l&&(f[l]=!!l),Qr(o,{class:nd(f),role:p?"button":void 0,tabindex:p?0:void 0,onClick:n},{default:()=>{var n;return[t.icon?t.icon():e.icon?Qr(Kl,{name:e.icon,class:nd("left-icon"),classPrefix:e.iconPrefix},null):void 0,r(),a(),s(),null==(n=t.extra)?void 0:n.call(t)]}})}}});const ad=e("C",Sl(rd)),[sd,od]=ul("form");var ld=Bn({name:sd,props:{colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:Ws,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:Gs,showErrorMessage:Gs,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}},emits:["submit","failed"],setup(e,{emit:t,slots:n}){const{children:i,linkChildren:r}=lo(_l),a=e=>e?i.filter(t=>e.includes(t.name)):i,s=t=>{return"string"==typeof t?(e=>{const t=i.find(t=>t.name===e);return t?new Promise((e,n)=>{t.validate().then(t=>{t?n(t):e()})}):Promise.reject()})(t):e.validateFirst?(n=t,new Promise((e,t)=>{const i=[];a(n).reduce((e,t)=>e.then(()=>{if(!i.length)return t.validate().then(e=>{e&&i.push(e)})}),Promise.resolve()).then(()=>{i.length?t(i):e()})})):(e=>new Promise((t,n)=>{const i=a(e);Promise.all(i.map(e=>e.validate())).then(e=>{(e=e.filter(Boolean)).length?n(e):t()})}))(t);var n},o=(e,t)=>{i.some(n=>n.name===e&&(n.$el.scrollIntoView(t),!0))},l=()=>i.reduce((e,t)=>(void 0!==t.name&&(e[t.name]=t.formValue.value),e),{}),c=()=>{const n=l();s().then(()=>t("submit",n)).catch(i=>{t("failed",{values:n,errors:i});const{scrollToError:r,scrollToErrorPosition:a}=e;r&&i[0].name&&o(i[0].name,a?{block:a}:void 0)})},u=e=>{No(e),c()};return r({props:e}),Ll({submit:c,validate:s,getValues:l,scrollToField:o,resetValidation:e=>{"string"==typeof e&&(e=[e]),a(e).forEach(e=>{e.resetValidation()})},getValidationStatus:()=>i.reduce((e,t)=>(e[t.name]=t.getValidationStatus(),e),{})}),()=>{var e;return Qr("form",{class:od(),onSubmit:u},[null==(e=n.default)?void 0:e.call(n)])}}});const cd=e("a2",Sl(ld));function ud(e){return Array.isArray(e)?!e.length:0!==e&&!e}function dd(e,t){const{message:n}=t;return Ns(n)?n(e,t):n||""}function hd({target:e}){e.composing=!0}function pd({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function fd(e){return[...e].length}function md(e,t){return[...e].slice(0,t).join("")}const[gd,vd]=ul("field"),yd={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:Ws,max:Number,min:Number,formatter:Function,clearIcon:Js("clear"),modelValue:Qs(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Js("focus"),formatTrigger:Js("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String};var bd=Bn({name:gd,props:Ps({},id,yd,{rows:Ws,type:Js("text"),rules:Array,autosize:[Boolean,Object],labelWidth:Ws,labelClass:Hs,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}}),emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n}){const i=iu(),r=ct({status:"unvalidated",focused:!1,validateMessage:""}),a=St(),s=St(),o=St(),{parent:l}=ao(_l),c=()=>{var t;return String(null!=(t=e.modelValue)?t:"")},u=t=>Ms(e[t])?e[t]:l&&Ms(l.props[t])?l.props[t]:void 0,d=Sa(()=>{const t=u("readonly");if(e.clearable&&!t){const t=""!==c(),n="always"===e.clearTrigger||"focus"===e.clearTrigger&&r.focused;return t&&n}return!1}),h=Sa(()=>o.value&&n.input?o.value():e.modelValue),p=Sa(()=>{var t;const n=u("required");return"auto"===n?null==(t=e.rules)?void 0:t.some(e=>e.required):n}),f=e=>e.reduce((e,t)=>e.then(()=>{if("failed"===r.status)return;let{value:e}=h;if(t.formatter&&(e=t.formatter(e,t)),!function(e,t){if(ud(e)){if(t.required)return!1;if(!1===t.validateEmpty)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}(e,t))return r.status="failed",void(r.validateMessage=dd(e,t));if(t.validator){if(ud(e)&&!1===t.validateEmpty)return;return function(e,t){return new Promise(n=>{const i=t.validator(e,t);js(i)?i.then(n):n(i)})}(e,t).then(n=>{n&&"string"==typeof n?(r.status="failed",r.validateMessage=n):!1===n&&(r.status="failed",r.validateMessage=dd(e,t))})}}),Promise.resolve()),m=()=>{r.status="unvalidated",r.validateMessage=""},g=()=>t("endValidate",{status:r.status,message:r.validateMessage}),v=(n=e.rules)=>new Promise(i=>{m(),n?(t("startValidate"),f(n).then(()=>{"failed"===r.status?(i({name:e.name,message:r.validateMessage}),g()):(r.status="passed",i(),g())})):i()}),y=t=>{if(l&&e.rules){const{validateTrigger:n}=l.props,i=zs(n).includes(t),r=e.rules.filter(e=>e.trigger?zs(e.trigger).includes(t):i);r.length&&v(r)}},b=(n,i="onChange")=>{var s,o;const l=n;n=(t=>{var n;const{maxlength:i}=e;if(Ms(i)&&fd(t)>+i){const e=c();if(e&&fd(e)===+i)return e;const s=null==(n=a.value)?void 0:n.selectionEnd;if(r.focused&&s){const e=[...t],n=e.length-+i;return e.splice(s-n,n),e.join("")}return md(t,+i)}return t})(n);const u=fd(l)-fd(n);if("number"===e.type||"digit"===e.type){const t="number"===e.type;if(n=Jo(n,t,t),"onBlur"===i&&""!==n&&(void 0!==e.min||void 0!==e.max)){const t=Ko(+n,null!=(s=e.min)?s:-1/0,null!=(o=e.max)?o:1/0);+n!==t&&(n=t.toString())}}let d=0;if(e.formatter&&i===e.formatTrigger){const{formatter:t,maxlength:i}=e;if(n=t(n),Ms(i)&&fd(n)>+i&&(n=md(n,+i)),a.value&&r.focused){const{selectionEnd:e}=a.value,n=md(l,e);d=fd(t(n))-fd(n)}}if(a.value&&a.value.value!==n)if(r.focused){let{selectionStart:e,selectionEnd:t}=a.value;if(a.value.value=n,Ms(e)&&Ms(t)){const i=fd(n);u?(e-=u,t-=u):d&&(e+=d,t+=d),a.value.setSelectionRange(Math.min(e,i),Math.min(t,i))}}else a.value.value=n;n!==e.modelValue&&t("update:modelValue",n)},_=e=>{e.target.composing||b(e.target.value)},T=()=>{var e;return null==(e=a.value)?void 0:e.blur()},S=()=>{var e;return null==(e=a.value)?void 0:e.focus()},w=()=>{const t=a.value;"textarea"===e.type&&e.autosize&&t&&function(e,t){const n=Io();e.style.height="auto";let i=e.scrollHeight;if(Rs(t)){const{maxHeight:e,minHeight:n}=t;void 0!==e&&(i=Math.min(i,e)),void 0!==n&&(i=Math.max(i,n))}i&&(e.style.height=`${i}px`,Do(n))}(t,e.autosize)},A=e=>{r.focused=!0,t("focus",e),Jt(w),u("readonly")&&T()},k=e=>{r.focused=!1,b(c(),"onBlur"),t("blur",e),u("readonly")||(y("onBlur"),Jt(w),Ro())},x=e=>t("clickInput",e),C=e=>t("clickLeftIcon",e),E=e=>t("clickRightIcon",e),O=Sa(()=>"boolean"==typeof e.error?e.error:!(!l||!l.props.showError||"failed"!==r.status)||void 0),I=Sa(()=>{const e=u("labelWidth"),t=u("labelAlign");if(e&&"top"!==t)return{width:$o(e)}}),D=n=>{13===n.keyCode&&(l&&l.props.submitOnEnter||"textarea"===e.type||No(n),"search"===e.type&&T()),t("keypress",n)},P=()=>e.id||`${i}-input`,L=()=>{const t=vd("control",[u("inputAlign"),{error:O.value,custom:!!n.input,"min-height":"textarea"===e.type&&!e.autosize}]);if(n.input)return Qr("div",{class:t,onClick:x},[n.input()]);const r={id:P(),ref:a,name:e.name,rows:void 0!==e.rows?+e.rows:void 0,class:t,disabled:u("disabled"),readonly:u("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${i}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:k,onFocus:A,onInput:_,onClick:x,onChange:pd,onKeypress:D,onCompositionend:pd,onCompositionstart:hd};return"textarea"===e.type?Qr("textarea",aa(r,{inputmode:e.inputmode}),null):Qr("input",aa((s=e.type,o=e.inputmode,"number"===s&&(s="text",null!=o||(o="decimal")),"digit"===s&&(s="tel",null!=o||(o="numeric")),{type:s,inputmode:o}),r),null);var s,o},R=()=>{const t=n["right-icon"];if(e.rightIcon||t)return Qr("div",{class:vd("right-icon"),onClick:E},[t?t():Qr(Kl,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},M=()=>{if(e.showWordLimit&&e.maxlength){const t=fd(c());return Qr("div",{class:vd("word-limit")},[Qr("span",{class:vd("word-num")},[t]),ea("/"),e.maxlength])}},N=()=>{if(l&&!1===l.props.showErrorMessage)return;const t=e.errorMessage||r.validateMessage;if(t){const e=n["error-message"],i=u("errorMessageAlign");return Qr("div",{class:vd("error-message",i)},[e?e({message:t}):t])}},j=()=>[Qr("div",{class:vd("body")},[L(),d.value&&Qr(Kl,{ref:s,name:e.clearIcon,class:vd("clear")},null),R(),n.button&&Qr("div",{class:vd("button")},[n.button()])]),M(),N()];return Ll({blur:T,focus:S,validate:v,formValue:h,resetValidation:m,getValidationStatus:()=>r.status}),Gi(xo,{customValue:o,resetValidation:m,validateWithTrigger:y}),_r(()=>e.modelValue,()=>{b(c()),m(),y("onChange"),Jt(w)}),ai(()=>{b(c(),e.formatTrigger),Jt(w)}),yo("touchstart",e=>{No(e),t("update:modelValue",""),t("clear",e)},{target:Sa(()=>{var e;return null==(e=s.value)?void 0:e.$el})}),()=>{const t=u("disabled"),r=u("labelAlign"),a=(()=>{const t=n["left-icon"];if(e.leftIcon||t)return Qr("div",{class:vd("left-icon"),onClick:C},[t?t():Qr(Kl,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])})();return Qr(ad,{size:e.size,class:vd({error:O.value,disabled:t,[`label-${r}`]:r}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:I.value,valueClass:vd("value"),titleClass:[vd("label",[r,{required:p.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:a&&"top"!==r?()=>a:null,title:()=>{const t=(()=>{const t=u("labelWidth"),r=u("labelAlign"),a=u("colon")?":":"";return n.label?[n.label(),a]:e.label?Qr("label",{id:`${i}-label`,for:n.input?void 0:P(),"data-allow-mismatch":"attribute",onClick:e=>{No(e),S()},style:"top"===r&&t?{width:$o(t)}:void 0},[e.label+a]):void 0})();return"top"===r?[a,t].filter(Boolean):t||[]},value:j,extra:n.extra})}}});const _d=e("G",Sl(bd));let Td=0;const[Sd,wd]=ul("toast"),Ad=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"];var kd=Bn({name:Sd,props:{icon:String,show:Boolean,type:Js("text"),overlay:Boolean,message:Ws,iconSize:Ws,duration:Ks(2e3),position:Js("middle"),teleport:[String,Object],wordBreak:String,className:Hs,iconPrefix:String,transition:Js("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:Hs,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:Ws},emits:["update:show"],setup(e,{emit:t,slots:n}){let i,r=!1;const a=()=>{const t=e.show&&e.forbidClick;r!==t&&(r=t,r?(Td||document.body.classList.add("van-toast--unclickable"),Td++):Td&&(Td--,Td||document.body.classList.remove("van-toast--unclickable")))},s=e=>t("update:show",e),o=()=>{e.closeOnClick&&s(!1)},l=()=>clearTimeout(i),c=()=>{const{icon:t,type:n,iconSize:i,iconPrefix:r,loadingType:a}=e;return t||"success"===n||"fail"===n?Qr(Kl,{name:t||n,size:i,class:wd("icon"),classPrefix:r},null):"loading"===n?Qr(ic,{class:wd("loading"),size:i,type:a},null):void 0},u=()=>{const{type:t,message:i}=e;return n.message?Qr("div",{class:wd("text")},[n.message()]):Ms(i)&&""!==i?"html"===t?Qr("div",{key:0,class:wd("text"),innerHTML:String(i)},null):Qr("div",{class:wd("text")},[i]):void 0};return _r(()=>[e.show,e.forbidClick],a),_r(()=>[e.show,e.type,e.message,e.duration],()=>{l(),e.show&&e.duration>0&&(i=setTimeout(()=>{s(!1)},e.duration))}),ai(a),ci(a),()=>Qr(Pc,aa({class:[wd([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:o,onClosed:l,"onUpdate:show":s},Vs(e,Ad)),{default:()=>[c(),u()]})}});function xd(){const e=ct({show:!1}),t=t=>{e.show=t},n=n=>{Ps(e,n,{transitionAppear:!0}),t(!0)},i=()=>t(!1);return Ll({open:n,close:i,toggle:t}),{open:n,close:i,state:e,toggle:t}}function Cd(e){const t=Is(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount(){t.unmount(),document.body.removeChild(n)}}}let Ed=[],Od=!1,Id=Ps({},{icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1});const Dd=new Map;function Pd(e){return Rs(e)?e:{message:e}}function Ld(){if(!Ed.length||Od){const e=function(){const{instance:e}=Cd({setup(){const e=St(""),{open:t,state:n,close:i,toggle:r}=xd(),a=()=>{};return _r(e,e=>{n.message=e}),ua().render=()=>Qr(kd,aa(n,{onClosed:a,"onUpdate:show":r}),null),{open:t,close:i,message:e}}});return e}();Ed.push(e)}return Ed[Ed.length-1]}function Rd(e={}){if(!Ls)return{};const t=Ld(),n=Pd(e);return t.open(Ps({},Id,Dd.get(n.type||Id.type),n)),t}const Md=e=>t=>Rd(Ps({type:e},Pd(t))),Nd=(e("s",Md("loading")),e("L",Md("success"))),jd=e("M",Md("fail")),Bd=(e("t",e=>{Ed.length&&Ed[0].close()}),e("bU",Sl(kd))),[Fd,Ud]=ul("switch");var $d=Bn({name:Fd,props:{size:Ws,loading:Boolean,disabled:Boolean,modelValue:Hs,activeColor:String,inactiveColor:String,activeValue:{type:Hs,default:!0},inactiveValue:{type:Hs,default:!1}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=()=>e.modelValue===e.activeValue,r=()=>{if(!e.disabled&&!e.loading){const n=i()?e.inactiveValue:e.activeValue;t("update:modelValue",n),t("change",n)}},a=()=>{if(e.loading){const t=i()?e.activeColor:e.inactiveColor;return Qr(ic,{class:Ud("loading"),color:t},null)}if(n.node)return n.node()};return Co(()=>e.modelValue),()=>{var t;const{size:s,loading:o,disabled:l,activeColor:c,inactiveColor:u}=e,d=i(),h={fontSize:$o(s),backgroundColor:d?c:u};return Qr("div",{role:"switch",class:Ud({on:d,loading:o,disabled:l}),style:h,tabindex:l?void 0:0,"aria-checked":d,onClick:r},[Qr("div",{class:Ud("node")},[a()]),null==(t=n.background)?void 0:t.call(n)])}}});const Vd=e("br",Sl($d)),[qd,zd]=ul("address-edit-detail"),Hd=ul("address-edit")[2];var Wd=Bn({name:qd,props:{show:Boolean,rows:Ws,value:String,rules:Array,focused:Boolean,maxlength:Ws,searchResult:Array,showSearchResult:Boolean},emits:["blur","focus","input","selectSearch"],setup(e,{emit:t}){const n=St(),i=()=>e.focused&&e.searchResult&&e.showSearchResult,r=()=>{if(!i())return;const{searchResult:n}=e;return n.map(e=>Qr(ad,{clickable:!0,key:(e.name||"")+(e.address||""),icon:"location-o",title:e.name,label:e.address,class:zd("search-item"),border:!1,onClick:()=>(e=>{t("selectSearch",e),t("input",`${e.address||""} ${e.name||""}`.trim())})(e)},null))},a=e=>t("blur",e),s=e=>t("focus",e),o=e=>t("input",e);return()=>{if(e.show)return Qr(Rr,null,[Qr(_d,{autosize:!0,clearable:!0,ref:n,class:zd(),rows:e.rows,type:"textarea",rules:e.rules,label:Hd("addressDetail"),border:!i(),maxlength:e.maxlength,modelValue:e.value,placeholder:Hd("addressDetail"),onBlur:a,onFocus:s,"onUpdate:modelValue":o},null),r()])}}});const[Gd,Xd,Yd]=ul("address-edit"),Kd={name:"",tel:"",city:"",county:"",province:"",areaCode:"",isDefault:!1,addressDetail:""};var Qd=Bn({name:Gd,props:{areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showArea:Gs,showDetail:Gs,showDelete:Boolean,disableArea:Boolean,searchResult:Array,telMaxlength:Ws,showSetDefault:Boolean,saveButtonText:String,areaPlaceholder:String,deleteButtonText:String,showSearchResult:Boolean,detailRows:Qs(1),detailMaxlength:Qs(200),areaColumnsPlaceholder:Ys(),addressInfo:{type:Object,default:()=>Ps({},Kd)},telValidator:{type:Function,default:Fs}},emits:["save","focus","change","delete","clickArea","changeArea","changeDetail","selectSearch","changeDefault"],setup(e,{emit:t,slots:n}){const i=St(),r=ct({}),a=St(!1),s=St(!1),o=Sa(()=>Rs(e.areaList)&&Object.keys(e.areaList).length),l=Sa(()=>{const{province:e,city:t,county:n,areaCode:i}=r;if(i){const i=[e,t,n];return e&&e===t&&i.splice(1,1),i.filter(Boolean).join("/")}return""}),c=Sa(()=>{var t;return(null==(t=e.searchResult)?void 0:t.length)&&s.value}),u=e=>{s.value="addressDetail"===e,t("focus",e)},d=(e,n)=>{t("change",{key:e,value:n})},h=Sa(()=>{const{validator:t,telValidator:n}=e,i=(e,n)=>({validator:i=>{if(t){const n=t(e,i);if(n)return n}return!!i||n}});return{name:[i("name",Yd("nameEmpty"))],tel:[i("tel",Yd("telInvalid")),{validator:n,message:Yd("telInvalid")}],areaCode:[i("areaCode",Yd("areaEmpty"))],addressDetail:[i("addressDetail",Yd("addressEmpty"))]}}),p=()=>t("save",r),f=e=>{r.addressDetail=e,t("changeDetail",e)},m=e=>{r.province=e[0].text,r.city=e[1].text,r.county=e[2].text},g=({selectedValues:e,selectedOptions:n})=>{e.some(e=>e===Hu)?Rd(Yd("areaEmpty")):(a.value=!1,m(n),t("changeArea",n))},v=()=>t("delete",r),y=()=>{setTimeout(()=>{s.value=!1})},b=()=>{if(e.showSetDefault){const e={"right-icon":()=>Qr(Vd,{modelValue:r.isDefault,"onUpdate:modelValue":e=>r.isDefault=e,onChange:e=>t("changeDefault",e)},null)};return un(Qr(ad,{center:!0,border:!1,title:Yd("defaultAddress"),class:Xd("default")},e),[[Ja,!c.value]])}};return Ll({setAreaCode:e=>{r.areaCode=e||""},setAddressDetail:e=>{r.addressDetail=e}}),_r(()=>e.addressInfo,e=>{Ps(r,Kd,e),Jt(()=>{var e;const t=null==(e=i.value)?void 0:e.getSelectedOptions();t&&t.every(e=>e&&e.value!==Hu)&&m(t)})},{deep:!0,immediate:!0}),()=>{const{disableArea:m}=e;return Qr(cd,{class:Xd(),onSubmit:p},{default:()=>{var p;return[Qr("div",{class:Xd("fields")},[Qr(_d,{modelValue:r.name,"onUpdate:modelValue":[e=>r.name=e,e=>d("name",e)],clearable:!0,label:Yd("name"),rules:h.value.name,placeholder:Yd("name"),onFocus:()=>u("name")},null),Qr(_d,{modelValue:r.tel,"onUpdate:modelValue":[e=>r.tel=e,e=>d("tel",e)],clearable:!0,type:"tel",label:Yd("tel"),rules:h.value.tel,maxlength:e.telMaxlength,placeholder:Yd("tel"),onFocus:()=>u("tel")},null),un(Qr(_d,{readonly:!0,label:Yd("area"),"is-link":!m,modelValue:l.value,rules:e.showArea?h.value.areaCode:void 0,placeholder:e.areaPlaceholder||Yd("area"),onFocus:()=>u("areaCode"),onClick:()=>{t("clickArea"),a.value=!m}},null),[[Ja,e.showArea]]),Qr(Wd,{show:e.showDetail,rows:e.detailRows,rules:h.value.addressDetail,value:r.addressDetail,focused:s.value,maxlength:e.detailMaxlength,searchResult:e.searchResult,showSearchResult:e.showSearchResult,onBlur:y,onFocus:()=>u("addressDetail"),onInput:f,onSelectSearch:e=>t("selectSearch",e)},null),null==(p=n.default)?void 0:p.call(n)]),b(),un(Qr("div",{class:Xd("buttons")},[Qr(oc,{block:!0,round:!0,type:"primary",text:e.saveButtonText||Yd("save"),class:Xd("button"),loading:e.isSaving,nativeType:"submit"},null),e.showDelete&&Qr(oc,{block:!0,round:!0,class:Xd("button"),loading:e.isDeleting,text:e.deleteButtonText||Yd("delete"),onClick:v},null)]),[[Ja,!c.value]]),Qr(Pc,{show:a.value,"onUpdate:show":e=>a.value=e,round:!0,teleport:"body",position:"bottom",lazyRender:!1},{default:()=>[Qr(ed,{modelValue:r.areaCode,"onUpdate:modelValue":e=>r.areaCode=e,ref:i,loading:!o.value,areaList:e.areaList,columnsPlaceholder:e.areaColumnsPlaceholder,onConfirm:g,onCancel:()=>{a.value=!1}},null)]})]}})}}});const Jd=Sl(Qd),[Zd,eh]=ul("radio-group"),th={shape:String,disabled:Boolean,iconSize:Ws,direction:String,modelValue:Hs,checkedColor:String},nh=Symbol(Zd);var ih=Bn({name:Zd,props:th,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:i}=lo(nh);return _r(()=>e.modelValue,e=>t("change",e)),i({props:e,updateValue:e=>t("update:modelValue",e)}),Co(()=>e.modelValue),()=>{var t;return Qr("div",{class:eh([e.direction]),role:"radiogroup"},[null==(t=n.default)?void 0:t.call(n)])}}});const rh=e("an",Sl(ih)),[ah,sh]=ul("checkbox-group"),oh={max:Ws,shape:Js("round"),disabled:Boolean,iconSize:Ws,direction:String,modelValue:Ys(),checkedColor:String},lh=Symbol(ah);var ch=Bn({name:ah,props:oh,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{children:i,linkChildren:r}=lo(lh),a=e=>t("update:modelValue",e);return _r(()=>e.modelValue,e=>t("change",e)),Ll({toggleAll:(e={})=>{"boolean"==typeof e&&(e={checked:e});const{checked:t,skipDisabled:n}=e,r=i.filter(e=>!!e.props.bindGroup&&(e.props.disabled&&n?e.checked.value:null!=t?t:!e.checked.value)).map(e=>e.name);a(r)}}),Co(()=>e.modelValue),r({props:e,updateValue:a}),()=>{var t;return Qr("div",{class:sh([e.direction])},[null==(t=n.default)?void 0:t.call(n)])}}});const uh=Sl(ch),[dh,hh]=ul("tag");var ph=Bn({name:dh,props:{size:String,mark:Boolean,show:Gs,type:Js("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean},emits:["close"],setup(e,{slots:t,emit:n}){const i=e=>{e.stopPropagation(),n("close",e)},r=()=>{var n;const{type:r,mark:a,plain:s,round:o,size:l,closeable:c}=e,u={mark:a,plain:s,round:o};l&&(u[l]=l);const d=c&&Qr(Kl,{name:"cross",class:[hh("close"),bl],onClick:i},null);return Qr("span",{style:e.plain?{color:e.textColor||e.color,borderColor:e.color}:{color:e.textColor,background:e.color},class:hh([u,r])},[null==(n=t.default)?void 0:n.call(t),d])};return()=>Qr(Ba,{name:e.closeable?"van-fade":void 0},{default:()=>[e.show?r():null]})}});const fh=e("ao",Sl(ph)),mh={name:Hs,disabled:Boolean,iconSize:Ws,modelValue:Hs,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var gh=Bn({props:Ps({},mh,{bem:Xs(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:Gs,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:t,slots:n}){const i=St(),r=t=>{if(e.parent&&e.bindGroup)return e.parent.props[t]},a=Sa(()=>{if(e.parent&&e.bindGroup){const t=r("disabled")||e.disabled;if("checkbox"===e.role){const n=r("modelValue").length,i=r("max");return t||i&&n>=+i&&!e.checked}return t}return e.disabled}),s=Sa(()=>r("direction")),o=Sa(()=>{const t=e.checkedColor||r("checkedColor");if(t&&(e.checked||e.indeterminate)&&!a.value)return{borderColor:t,backgroundColor:t}}),l=Sa(()=>e.shape||r("shape")||"round"),c=n=>{const{target:r}=n,s=i.value,o=s===r||(null==s?void 0:s.contains(r));a.value||!o&&e.labelDisabled||t("toggle"),t("click",n)},u=()=>{var t,s;const{bem:c,checked:u,indeterminate:d}=e,h=e.iconSize||r("iconSize");return Qr("div",{ref:i,class:c("icon",[l.value,{disabled:a.value,checked:u,indeterminate:d}]),style:"dot"!==l.value?{fontSize:$o(h)}:{width:$o(h),height:$o(h),borderColor:null==(t=o.value)?void 0:t.borderColor}},[n.icon?n.icon({checked:u,disabled:a.value}):"dot"!==l.value?Qr(Kl,{name:d?"minus":"success",style:o.value},null):Qr("div",{class:c("icon--dot__icon"),style:{backgroundColor:null==(s=o.value)?void 0:s.backgroundColor}},null)])},d=()=>{const{checked:t}=e;if(n.default)return Qr("span",{class:e.bem("label",[e.labelPosition,{disabled:a.value}])},[n.default({checked:t,disabled:a.value})])};return()=>{const t="left"===e.labelPosition?[d(),u()]:[u(),d()];return Qr("div",{role:e.role,class:e.bem([{disabled:a.value,"label-disabled":e.labelDisabled},s.value]),tabindex:a.value?void 0:0,"aria-checked":e.checked,onClick:c},[t])}}});const vh=Ps({},mh,{shape:String}),[yh,bh]=ul("radio");var _h=Bn({name:yh,props:vh,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:i}=ao(nh),r=()=>{i?i.updateValue(e.name):t("update:modelValue",e.name)};return()=>Qr(gh,aa({bem:bh,role:"radio",parent:i,checked:(i?i.props.modelValue:e.modelValue)===e.name,onToggle:r},e),Vs(n,["default","icon"]))}});const Th=e("ap",Sl(_h)),[Sh,wh]=ul("checkbox");var Ah=Bn({name:Sh,props:Ps({},mh,{shape:String,bindGroup:Gs,indeterminate:{type:Boolean,default:null}}),emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{parent:i}=ao(lh),r=Sa(()=>i&&e.bindGroup?-1!==i.props.modelValue.indexOf(e.name):!!e.modelValue),a=(n=!r.value)=>{i&&e.bindGroup?(t=>{const{name:n}=e,{max:r,modelValue:a}=i.props,s=a.slice();if(t)r&&s.length>=+r||s.includes(n)||(s.push(n),e.bindGroup&&i.updateValue(s));else{const t=s.indexOf(n);-1!==t&&(s.splice(t,1),e.bindGroup&&i.updateValue(s))}})(n):t("update:modelValue",n),null!==e.indeterminate&&t("change",n)};return _r(()=>e.modelValue,n=>{null===e.indeterminate&&t("change",n)}),Ll({toggle:a,props:e,checked:r}),Co(()=>e.modelValue),()=>Qr(gh,aa({bem:wh,role:"checkbox",parent:i,checked:r.value,onToggle:a},e),Vs(n,["default","icon"]))}});const kh=e("bE",Sl(Ah)),[xh,Ch]=ul("address-item");var Eh=Bn({name:xh,props:{address:Xs(Object),disabled:Boolean,switchable:Boolean,singleChoice:Boolean,defaultTagText:String,rightIcon:Js("edit")},emits:["edit","click","select"],setup(e,{slots:t,emit:n}){const i=t=>{e.switchable&&n("select"),n("click",t)},r=()=>Qr(Kl,{name:e.rightIcon,class:Ch("edit"),onClick:e=>{e.stopPropagation(),n("edit"),n("click",e)}},null),a=()=>{const{address:n,disabled:i,switchable:r,singleChoice:a}=e,s=[Qr("div",{class:Ch("name")},[`${n.name} ${n.tel}`,t.tag?t.tag(e.address):e.address.isDefault&&e.defaultTagText?Qr(fh,{type:"primary",round:!0,class:Ch("tag")},{default:()=>[e.defaultTagText]}):void 0]),Qr("div",{class:Ch("address")},[n.address])];return r&&!i?Qr(a?Th:kh,{name:n.id,iconSize:18},{default:()=>[s]}):s};return()=>{var n;const{disabled:s}=e;return Qr("div",{class:Ch({disabled:s}),onClick:i},[Qr(ad,{border:!1,titleClass:Ch("title")},{title:a,"right-icon":r}),null==(n=t.bottom)?void 0:n.call(t,Ps({},e.address,{disabled:s}))])}}});const[Oh,Ih,Dh]=ul("address-list");var Ph=Bn({name:Oh,props:{list:Ys(),modelValue:[...Ws,Array],switchable:Gs,disabledText:String,disabledList:Ys(),showAddButton:Gs,addButtonText:String,defaultTagText:String,rightIcon:Js("edit")},emits:["add","edit","select","clickItem","editDisabled","selectDisabled","update:modelValue"],setup(e,{slots:t,emit:n}){const i=Sa(()=>!Array.isArray(e.modelValue)),r=(r,a)=>{if(r)return r.map((r,s)=>((r,a,s)=>Qr(Eh,{key:r.id,address:r,disabled:s,switchable:e.switchable,singleChoice:i.value,defaultTagText:e.defaultTagText,rightIcon:e.rightIcon,onEdit:()=>n(s?"editDisabled":"edit",r,a),onClick:e=>n("clickItem",r,a,{event:e}),onSelect:()=>{if(n(s?"selectDisabled":"select",r,a),!s)if(i.value)n("update:modelValue",r.id);else{const t=e.modelValue;t.includes(r.id)?n("update:modelValue",t.filter(e=>e!==r.id)):n("update:modelValue",[...t,r.id])}}},{bottom:t["item-bottom"],tag:t.tag}))(r,s,a))};return()=>{var a,s;const o=r(e.list),l=r(e.disabledList,!0),c=e.disabledText&&Qr("div",{class:Ih("disabled-text")},[e.disabledText]);return Qr("div",{class:Ih()},[null==(a=t.top)?void 0:a.call(t),!i.value&&Array.isArray(e.modelValue)?Qr(uh,{modelValue:e.modelValue},{default:()=>[o]}):Qr(rh,{modelValue:e.modelValue},{default:()=>[o]}),c,l,null==(s=t.default)?void 0:s.call(t),e.showAddButton?Qr("div",{class:[Ih("bottom"),"van-safe-area-bottom"]},[Qr(oc,{round:!0,block:!0,type:"primary",text:e.addButtonText||Dh("add"),class:Ih("add"),onClick:()=>n("add")},null)]):void 0])}}});const Lh=Sl(Ph),[Rh,Mh]=ul("back-top");var Nh=Bn({name:Rh,inheritAttrs:!1,props:{right:Ws,bottom:Ws,zIndex:Ws,target:[String,Object],offset:Qs(200),immediate:Boolean,teleport:{type:[String,Object],default:"body"}},emits:["click"],setup(e,{emit:t,slots:n,attrs:i}){let r=!1;const a=St(!1),s=St(),o=St(),l=Sa(()=>Ps(qo(e.zIndex),{right:$o(e.right),bottom:$o(e.bottom)})),c=n=>{var i;t("click",n),null==(i=o.value)||i.scrollTo({top:0,behavior:e.immediate?"auto":"smooth"})},u=()=>{a.value=!!o.value&&Eo(o.value)>=+e.offset},d=()=>{Ls&&Jt(()=>{o.value=e.target?(()=>{const{target:t}=e;if("string"!=typeof t)return t;{const e=document.querySelector(t);if(e)return e}})():Ao(s.value),u()})};return yo("scroll",function(e,t){let n=null,i=0;return function(...r){if(n)return;const a=()=>{i=Date.now(),n=!1,e.apply(this,r)};Date.now()-i>=t?a():n=setTimeout(a,t)}}(u,100),{target:o}),ai(d),Kn(()=>{r&&(a.value=!0,r=!1)}),Qn(()=>{a.value&&e.teleport&&(a.value=!1,r=!0)}),_r(()=>e.target,d),()=>{const t=Qr("div",aa({ref:e.teleport?void 0:s,class:Mh({active:a.value}),style:l.value,onClick:c},i),[n.default?n.default():Qr(Kl,{name:"back-top",class:Mh("icon")},null)]);return e.teleport?[Qr("div",{ref:s,class:Mh("placeholder")},null),Qr(Tn,{to:e.teleport},{default:()=>[t]})]:t}}});const jh=Sl(Nh),Bh={top:Qs(10),rows:Qs(4),duration:Qs(4e3),autoPlay:Gs,delay:Ks(300),modelValue:Ys()},[Fh,Uh]=ul("barrage");var $h=Bn({name:Fh,props:Bh,emits:["update:modelValue"],setup(e,{emit:t,slots:n}){const i=St(),r=Uh("item"),a=St(0),s=[],o=St(!0),l=St(e.autoPlay),c=({id:n,text:c},u)=>{var d;const h=((t,n=e.delay)=>{const i=document.createElement("span");return i.className=r,i.innerText=String(t),i.style.animationDuration=`${e.duration}ms`,i.style.animationDelay=`${n}ms`,i.style.animationName="van-barrage",i.style.animationTimingFunction="linear",i})(c,o.value?u*e.delay:void 0);e.autoPlay||!1!==l.value||(h.style.animationPlayState="paused"),null==(d=i.value)||d.append(h),a.value++;const p=(a.value-1)%+e.rows*h.offsetHeight+ +e.top;h.style.top=`${p}px`,h.dataset.id=String(n),s.push(h),h.addEventListener("animationend",()=>{t("update:modelValue",[...e.modelValue].filter(e=>String(e.id)!==h.dataset.id))})},u=(e,t)=>{const n=new Map(t.map(e=>[e.id,e]));e.forEach((e,t)=>{n.has(e.id)?n.delete(e.id):c(e,t)}),n.forEach(e=>{const t=s.findIndex(t=>t.dataset.id===String(e.id));t>-1&&(s[t].remove(),s.splice(t,1))}),o.value=!1};_r(()=>e.modelValue.slice(),(e,t)=>u(null!=e?e:[],null!=t?t:[]),{deep:!0});const d=St({});return ai(()=>{return t=null,n=null,r=function*(){var t;d.value["--move-distance"]=`-${null==(t=i.value)?void 0:t.offsetWidth}px`,yield Jt(),u(e.modelValue,[])},new Promise((e,i)=>{var a=e=>{try{o(r.next(e))}catch(xZ){i(xZ)}},s=e=>{try{o(r.throw(e))}catch(xZ){i(xZ)}},o=t=>t.done?e(t.value):Promise.resolve(t.value).then(a,s);o((r=r.apply(t,n)).next())});var t,n,r}),Ll({play:()=>{l.value=!0,s.forEach(e=>{e.style.animationPlayState="running"})},pause:()=>{l.value=!1,s.forEach(e=>{e.style.animationPlayState="paused"})}}),()=>{var e;return Qr("div",{class:Uh(),ref:i,style:d.value},[null==(e=n.default)?void 0:e.call(n)])}}});const Vh=Sl($h),[qh,zh,Hh]=ul("calendar");function Wh(e,t){const n=e.getFullYear(),i=t.getFullYear();if(n===i){const n=e.getMonth(),i=t.getMonth();return n===i?0:n>i?1:-1}return n>i?1:-1}function Gh(e,t){const n=Wh(e,t);if(0===n){const n=e.getDate(),i=t.getDate();return n===i?0:n>i?1:-1}return n}const Xh=e=>new Date(e),Yh=e=>Array.isArray(e)?e.map(Xh):Xh(e);function Kh(e,t){const n=Xh(e);return n.setDate(n.getDate()+t),n}function Qh(e,t){const n=Xh(e);return n.setMonth(n.getMonth()+t),n.getDate()!==e.getDate()&&n.setDate(0),n}function Jh(e,t){const n=Xh(e);return n.setFullYear(n.getFullYear()+t),n.getDate()!==e.getDate()&&n.setDate(0),n}const Zh=e=>Kh(e,-1),ep=e=>Kh(e,1),tp=e=>Qh(e,-1),np=e=>Qh(e,1),ip=e=>Jh(e,-1),rp=e=>Jh(e,1),ap=()=>{const e=new Date;return e.setHours(0,0,0,0),e},sp=Ps({},qu,{modelValue:Ys(),filter:Function,formatter:{type:Function,default:(e,t)=>t}}),op=Object.keys(qu),lp=(e,t)=>32-new Date(e,t-1,32).getDate(),cp=(e,t,n,i,r,a)=>{const s=function(e,t){if(e<0)return[];const n=Array(e);let i=-1;for(;++i<e;)n[i]=t(i);return n}(t-e+1,t=>{const r=Yo(e+t);return i(n,{text:r,value:r})});return r?r(n,s,a):s},up=(e,t)=>e.map((e,n)=>{const i=t[n];if(i.length){const t=+i[0].value,n=+i[i.length-1].value;return Yo(Ko(+e,t,n))}return e}),[dp]=ul("calendar-day");var hp=Bn({name:dp,props:{item:Xs(Object),color:String,index:Number,offset:Ks(0),rowHeight:String},emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:n}){const i=Sa(()=>{const{item:t,index:n,color:i,offset:r,rowHeight:a}=e,s={height:a};if("placeholder"===t.type)return s.width="100%",s;if(0===n&&(s.marginLeft=100*r/7+"%"),i)switch(t.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":s.background=i;break;case"middle":s.color=i}return t.date&&function(e,t=0){const n=new Date(e.getFullYear(),e.getMonth()+1,0),i=t+e.getDate()-1,r=t+n.getDate()-1;return Math.floor(i/7)===Math.floor(r/7)}(t.date,r)&&(s.marginBottom=0),s}),r=()=>{"disabled"!==e.item.type?t("click",e.item):t("clickDisabledDate",e.item)},a=()=>{const{topInfo:t}=e.item;if(t||n["top-info"])return Qr("div",{class:zh("top-info")},[n["top-info"]?n["top-info"](e.item):t])},s=()=>{const{bottomInfo:t}=e.item;if(t||n["bottom-info"])return Qr("div",{class:zh("bottom-info")},[n["bottom-info"]?n["bottom-info"](e.item):t])},o=()=>{const{item:t,color:i,rowHeight:r}=e,{type:o}=t,l=[a(),n.text?n.text(e.item):e.item.text,s()];return"selected"===o?Qr("div",{class:zh("selected-day"),style:{width:r,height:r,background:i}},[l]):l};return()=>{const{type:t,className:n}=e.item;return"placeholder"===t?Qr("div",{class:zh("day"),style:i.value},null):Qr("div",{role:"gridcell",style:i.value,class:[zh("day",t),n],tabindex:"disabled"===t?void 0:-1,onClick:r},[o()])}}});const[pp]=ul("calendar-month");var fp=Bn({name:pp,props:{date:Xs(Date),type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:Ws,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number},emits:["click","clickDisabledDate"],setup(e,{emit:t,slots:n}){const[i,r]=function(e=!1){const t=St(e);return[t,(e=!t.value)=>{t.value=e}]}(),a=St(),s=St(),o=xl(s),l=Sa(()=>{return t=e.date,Hh("monthTitle",t.getFullYear(),t.getMonth()+1);var t}),c=Sa(()=>$o(e.rowHeight)),u=Sa(()=>{const t=e.date.getDate(),n=(e.date.getDay()-t%7+8)%7;return e.firstDayOfWeek?(n+7-e.firstDayOfWeek)%7:n}),d=Sa(()=>lp(e.date.getFullYear(),e.date.getMonth()+1)),h=Sa(()=>i.value||!e.lazyRender),p=t=>{const{type:n,minDate:i,maxDate:r,currentDate:a}=e;if(i&&Gh(t,i)<0||r&&Gh(t,r)>0)return"disabled";if(null===a)return"";if(Array.isArray(a)){if("multiple"===n)return(t=>{const n=t=>e.currentDate.some(e=>0===Gh(e,t));if(n(t)){const e=Zh(t),i=ep(t),r=n(e),a=n(i);return r&&a?"multiple-middle":r?"end":a?"start":"multiple-selected"}return""})(t);if("range"===n)return(t=>{const[n,i]=e.currentDate;if(!n)return"";const r=Gh(t,n);if(!i)return 0===r?"start":"";const a=Gh(t,i);return e.allowSameDay&&0===r&&0===a?"start-end":0===r?"start":0===a?"end":r>0&&a<0?"middle":""})(t)}else if("single"===n)return 0===Gh(t,a)?"selected":"";return""},f=t=>{if("range"===e.type){if("start"===t||"end"===t)return Hh(t);if("start-end"===t)return`${Hh("start")}/${Hh("end")}`}},m=()=>{if(e.showMonthTitle)return Qr("div",{class:zh("month-title")},[n["month-title"]?n["month-title"]({date:e.date,text:l.value}):l.value])},g=()=>{if(e.showMark&&h.value)return Qr("div",{class:zh("month-mark")},[e.date.getMonth()+1])},v=Sa(()=>{const e=Math.ceil((d.value+u.value)/7);return Array(e).fill({type:"placeholder"})}),y=Sa(()=>{const t=[],n=e.date.getFullYear(),i=e.date.getMonth();for(let r=1;r<=d.value;r++){const a=new Date(n,i,r),s=p(a);let o={date:a,type:s,text:r,bottomInfo:f(s)};e.formatter&&(o=e.formatter(o)),t.push(o)}return t}),b=Sa(()=>y.value.filter(e=>"disabled"===e.type)),_=(i,r)=>Qr(hp,{item:i,index:r,color:e.color,offset:u.value,rowHeight:c.value,onClick:e=>t("click",e),onClickDisabledDate:e=>t("clickDisabledDate",e)},Vs(n,["top-info","bottom-info","text"]));return Ll({getTitle:()=>l.value,getHeight:()=>o.value,setVisible:r,scrollToDate:(e,t)=>{if(a.value){const n=ro(a.value),i=v.value.length,r=(Math.ceil((t.getDate()+u.value)/7)-1)*n.height/i;Oo(e,n.top+r+e.scrollTop-ro(e).top)}},disabledDays:b}),()=>Qr("div",{class:zh("month"),ref:s},[m(),Qr("div",{ref:a,role:"grid",class:zh("days")},[g(),(h.value?y:v).value.map(_)])])}});const[mp]=ul("calendar-header");var gp=Bn({name:mp,props:{date:Date,minDate:Date,maxDate:Date,title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number,switchMode:Js("none")},emits:["clickSubtitle","panelChange"],setup(e,{slots:t,emit:n}){const i=Sa(()=>e.date&&e.minDate&&Wh(tp(e.date),e.minDate)<0),r=Sa(()=>e.date&&e.minDate&&Wh(ip(e.date),e.minDate)<0),a=Sa(()=>e.date&&e.maxDate&&Wh(np(e.date),e.maxDate)>0),s=Sa(()=>e.date&&e.maxDate&&Wh(rp(e.date),e.maxDate)>0),o=()=>{if(e.showTitle){const n=e.title||Hh("title"),i=t.title?t.title():n;return Qr("div",{class:zh("header-title")},[i])}},l=e=>n("clickSubtitle",e),c=e=>n("panelChange",e),u=n=>{const o="year-month"===e.switchMode,l=t[n?"next-month":"prev-month"],u=t[n?"next-year":"prev-year"],d=n?a.value:i.value,h=n?s.value:r.value,p=n?"arrow":"arrow-left",f=n?"arrow-double-right":"arrow-double-left",m=Qr("view",{class:zh("header-action",{disabled:d}),onClick:d?void 0:()=>c((n?np:tp)(e.date))},[l?l({disabled:d}):Qr(Kl,{class:{[bl]:!d},name:p},null)]),g=o&&Qr("view",{class:zh("header-action",{disabled:h}),onClick:h?void 0:()=>c((n?rp:ip)(e.date))},[u?u({disabled:h}):Qr(Kl,{class:{[bl]:!h},name:f},null)]);return n?[m,g]:[g,m]},d=()=>{if(e.showSubtitle){const n=t.subtitle?t.subtitle({date:e.date,text:e.subtitle}):e.subtitle,i="none"!==e.switchMode;return Qr("div",{class:zh("header-subtitle",{"with-switch":i}),onClick:l},[i?[u(),Qr("div",{class:zh("header-subtitle-text")},[n]),u(!0)]:n])}},h=()=>{const{firstDayOfWeek:t}=e,n=Hh("weekdays"),i=[...n.slice(t,7),...n.slice(0,t)];return Qr("div",{class:zh("weekdays")},[i.map(e=>Qr("span",{class:zh("weekday")},[e]))])};return()=>Qr("div",{class:zh("header")},[o(),d(),h()])}}),vp=Bn({name:qh,props:{show:Boolean,type:Js("single"),switchMode:Js("none"),title:String,color:String,round:Gs,readonly:Boolean,poppable:Gs,maxRange:Qs(null),position:Js("bottom"),teleport:[String,Object],showMark:Gs,showTitle:Gs,formatter:Function,rowHeight:Ws,confirmText:String,rangePrompt:String,lazyRender:Gs,showConfirm:Gs,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Gs,closeOnPopstate:Gs,showRangePrompt:Gs,confirmDisabledText:String,closeOnClickOverlay:Gs,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Gs,minDate:{type:Date,validator:Bs},maxDate:{type:Date,validator:Bs},firstDayOfWeek:{type:Ws,default:0,validator:e=>e>=0&&e<=6}},emits:["select","confirm","unselect","monthShow","overRange","update:show","clickSubtitle","clickDisabledDate","clickOverlay","panelChange"],setup(e,{emit:t,slots:n}){const i=Sa(()=>"none"!==e.switchMode),r=Sa(()=>e.minDate||i.value?e.minDate:ap()),a=Sa(()=>e.maxDate||i.value?e.maxDate:Qh(ap(),6)),s=(e,t=r.value,n=a.value)=>t&&-1===Gh(e,t)?t:n&&1===Gh(e,n)?n:e,o=(t=e.defaultDate)=>{const{type:n,allowSameDay:i}=e;if(null===t)return t;const o=ap();if("range"===n){Array.isArray(t)||(t=[]),1===t.length&&1===Gh(t[0],o)&&(t=[]);const e=r.value,n=a.value;return[s(t[0]||o,e,n?i?n:Zh(n):void 0),s(t[1]||(i?o:ep(o)),e?i?e:ep(e):void 0)]}return"multiple"===n?Array.isArray(t)?t.map(e=>s(e)):[s(o)]:(t&&!Array.isArray(t)||(t=o),s(t))};let l;const c=St(),u=St(o()),d=St((()=>{const e=Array.isArray(u.value)?u.value[0]:u.value;return e||s(ap())})()),h=St(),[p,f]=ru(),m=Sa(()=>e.firstDayOfWeek?+e.firstDayOfWeek%7:0),g=Sa(()=>{const e=[];if(!r.value||!a.value)return e;const t=new Date(r.value);t.setDate(1);do{e.push(new Date(t)),t.setMonth(t.getMonth()+1)}while(1!==Wh(t,a.value));return e}),v=Sa(()=>{if(u.value){if("range"===e.type)return!u.value[0]||!u.value[1];if("multiple"===e.type)return!u.value.length}return!u.value}),y=()=>{const e=Eo(c.value),n=e+l,i=g.value.map((e,t)=>p.value[t].getHeight()),r=i.reduce((e,t)=>e+t,0);if(n>r&&e>0)return;let a,s=0;const o=[-1,-1];for(let l=0;l<g.value.length;l++){const r=p.value[l];s<=n&&s+i[l]>=e&&(o[1]=l,a||(a=r,o[0]=l),p.value[l].showed||(p.value[l].showed=!0,t("monthShow",{date:r.date,title:r.getTitle()}))),s+=i[l]}g.value.forEach((e,t)=>{const n=t>=o[0]-1&&t<=o[1]+1;p.value[t].setVisible(n)}),a&&(h.value=a)},b=e=>{i.value?d.value=e:eo(()=>{g.value.some((t,n)=>0===Wh(t,e)&&(c.value&&p.value[n].scrollToDate(c.value,e),!0)),y()})},_=()=>{if(!e.poppable||e.show)if(u.value){const t="single"===e.type?u.value:u.value[0];Bs(t)&&b(t)}else i.value||eo(y)},T=()=>{e.poppable&&!e.show||(i.value||eo(()=>{l=Math.floor(ro(c).height)}),_())},S=(e=o())=>{u.value=e,_()},w=e=>{d.value=e,t("panelChange",{date:e})},A=()=>{var e;return t("confirm",null!=(e=u.value)?e:Yh(u.value))},k=(n,i)=>{const r=e=>{u.value=e,t("select",Yh(e))};if(i&&"range"===e.type){const i=(n=>{const{maxRange:i,rangePrompt:r,showRangePrompt:a}=e;return!(i&&function(e){const t=e[0].getTime();return(e[1].getTime()-t)/864e5+1}(n)>+i&&(a&&Rd(r||Hh("rangePrompt",i)),t("overRange"),1))})(n);if(!i)return void r([n[0],Kh(n[0],+e.maxRange-1)])}r(n),i&&!e.showConfirm&&A()},x=Sa(()=>p.value.reduce((e,t)=>{var n,i;return e.push(...null!=(i=null==(n=t.disabledDays)?void 0:n.value)?i:[]),e},[])),C=n=>{if(e.readonly||!n.date)return;const{date:i}=n,{type:r}=e;if("range"===r){if(!u.value)return void k([i]);const[t,n]=u.value;if(t&&!n){const n=Gh(i,t);if(1===n){const e=((e,t,n)=>{var i;return null==(i=e.find(e=>-1===Gh(t,e.date)&&-1===Gh(e.date,n)))?void 0:i.date})(x.value,t,i);if(e){const n=Zh(e);-1===Gh(t,n)?k([t,n]):k([i])}else k([t,i],!0)}else-1===n?k([i]):e.allowSameDay&&k([i,i],!0)}else k([i])}else if("multiple"===r){if(!u.value)return void k([i]);const n=u.value,r=n.findIndex(e=>0===Gh(e,i));if(-1!==r){const[e]=n.splice(r,1);t("unselect",Xh(e))}else e.maxRange&&n.length>=+e.maxRange?Rd(e.rangePrompt||Hh("rangePrompt",e.maxRange)):k([...n,i])}else k(i,!0)},E=e=>t("clickOverlay",e),O=e=>t("update:show",e),I=(s,o)=>{const l=0!==o||!e.showSubtitle;return Qr(fp,aa({ref:i.value?h:f(o),date:s,currentDate:u.value,showMonthTitle:l,firstDayOfWeek:m.value,lazyRender:!i.value&&e.lazyRender,maxDate:a.value,minDate:r.value},Vs(e,["type","color","showMark","formatter","rowHeight","showSubtitle","allowSameDay"]),{onClick:C,onClickDisabledDate:e=>t("clickDisabledDate",e)}),Vs(n,["top-info","bottom-info","month-title","text"]))},D=()=>{if(n.footer)return n.footer();if(e.showConfirm){const t=n["confirm-text"],i=v.value,r=i?e.confirmDisabledText:e.confirmText;return Qr(oc,{round:!0,block:!0,type:"primary",color:e.color,class:zh("confirm"),disabled:i,nativeType:"button",onClick:A},{default:()=>[t?t({disabled:i}):r||Hh("confirm")]})}},P=()=>{var s,o;return Qr("div",{class:zh()},[Qr(gp,{date:null==(s=h.value)?void 0:s.date,maxDate:a.value,minDate:r.value,title:e.title,subtitle:null==(o=h.value)?void 0:o.getTitle(),showTitle:e.showTitle,showSubtitle:e.showSubtitle,switchMode:e.switchMode,firstDayOfWeek:m.value,onClickSubtitle:e=>t("clickSubtitle",e),onPanelChange:w},Vs(n,["title","subtitle","prev-month","prev-year","next-month","next-year"])),Qr("div",{ref:c,class:zh("body"),onScroll:i.value?void 0:y},[i.value?I(d.value,0):g.value.map(I)]),Qr("div",{class:[zh("footer"),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[D()])])};return _r(()=>e.show,T),_r(()=>[e.type,e.minDate,e.maxDate,e.switchMode],()=>S(o(u.value))),_r(()=>e.defaultDate,e=>{S(e)}),Ll({reset:S,scrollToDate:b,getSelectedDate:()=>u.value}),vo(T),()=>e.poppable?Qr(Pc,{show:e.show,class:zh("popup"),round:e.round,position:e.position,closeable:e.showTitle||e.showSubtitle,teleport:e.teleport,closeOnPopstate:e.closeOnPopstate,safeAreaInsetTop:e.safeAreaInsetTop,closeOnClickOverlay:e.closeOnClickOverlay,onClickOverlay:E,"onUpdate:show":O},{default:P}):P()}});const yp=e("bH",Sl(vp)),[bp,_p]=ul("image");var Tp=Bn({name:bp,props:{src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:Ws,height:Ws,radius:Ws,lazyLoad:Boolean,iconSize:Ws,showError:Gs,errorIcon:Js("photo-fail"),iconPrefix:String,showLoading:Gs,loadingIcon:Js("photo"),crossorigin:String,referrerpolicy:String,decoding:String},emits:["load","error"],setup(e,{emit:t,slots:n}){const i=St(!1),r=St(!0),a=St(),{$Lazyload:s}=ua().proxy,o=Sa(()=>{const t={width:$o(e.width),height:$o(e.height)};return Ms(e.radius)&&(t.overflow="hidden",t.borderRadius=$o(e.radius)),t});_r(()=>e.src,()=>{i.value=!1,r.value=!0});const l=e=>{r.value&&(r.value=!1,t("load",e))},c=()=>{const e=new Event("load");Object.defineProperty(e,"target",{value:a.value,enumerable:!0}),l(e)},u=e=>{i.value=!0,r.value=!1,t("error",e)},d=(t,n,i)=>i?i():Qr(Kl,{name:t,size:e.iconSize,class:n,classPrefix:e.iconPrefix},null),h=()=>{if(i.value||!e.src)return;const t={alt:e.alt,class:_p("img"),decoding:e.decoding,style:{objectFit:e.fit,objectPosition:e.position},crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy};return e.lazyLoad?un(Qr("img",aa({ref:a},t),null),[[bi("lazy"),e.src]]):Qr("img",aa({ref:a,src:e.src,onLoad:l,onError:u},t),null)},p=({el:e})=>{const t=()=>{e===a.value&&r.value&&c()};a.value?t():Jt(t)},f=({el:e})=>{e!==a.value||i.value||u()};return s&&Ls&&(s.$on("loaded",p),s.$on("error",f),li(()=>{s.$off("loaded",p),s.$off("error",f)})),ai(()=>{Jt(()=>{var t;(null==(t=a.value)?void 0:t.complete)&&!e.lazyLoad&&c()})}),()=>{var t;return Qr("div",{class:_p({round:e.round,block:e.block}),style:o.value},[h(),r.value&&e.showLoading?Qr("div",{class:_p("loading")},[d(e.loadingIcon,_p("loading-icon"),n.loading)]):i.value&&e.showError?Qr("div",{class:_p("error")},[d(e.errorIcon,_p("error-icon"),n.error)]):void 0,null==(t=n.default)?void 0:t.call(n)])}}});const Sp=e("a9",Sl(Tp)),[wp,Ap]=ul("card");var kp=Bn({name:wp,props:{tag:String,num:Ws,desc:String,thumb:String,title:String,price:Ws,centered:Boolean,lazyLoad:Boolean,currency:Js(""),thumbLink:String,originPrice:Ws},emits:["clickThumb"],setup(e,{slots:t,emit:n}){const i=()=>{if(t.tag||e.tag)return Qr("div",{class:Ap("tag")},[t.tag?t.tag():Qr(fh,{mark:!0,type:"primary"},{default:()=>[e.tag]})])},r=()=>{if(t.thumb||e.thumb)return Qr("a",{href:e.thumbLink,class:Ap("thumb"),onClick:e=>n("clickThumb",e)},[t.thumb?t.thumb():Qr(Sp,{src:e.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:e.lazyLoad},null),i()])},a=()=>{const t=e.price.toString().split(".");return Qr("div",null,[Qr("span",{class:Ap("price-currency")},[e.currency]),Qr("span",{class:Ap("price-integer")},[t[0]]),t.length>1&&Qr(Rr,null,[ea("."),Qr("span",{class:Ap("price-decimal")},[t[1]])])])};return()=>{var n,i,s;const o=t.num||Ms(e.num),l=t.price||Ms(e.price),c=t["origin-price"]||Ms(e.originPrice),u=o||l||c||t.bottom,d=l&&Qr("div",{class:Ap("price")},[t.price?t.price():a()]),h=c&&Qr("div",{class:Ap("origin-price")},[t["origin-price"]?t["origin-price"]():`${e.currency} ${e.originPrice}`]),p=o&&Qr("div",{class:Ap("num")},[t.num?t.num():`x${e.num}`]),f=t.footer&&Qr("div",{class:Ap("footer")},[t.footer()]),m=u&&Qr("div",{class:Ap("bottom")},[null==(n=t["price-top"])?void 0:n.call(t),d,h,p,null==(i=t.bottom)?void 0:i.call(t)]);return Qr("div",{class:Ap()},[Qr("div",{class:Ap("header")},[r(),Qr("div",{class:Ap("content",{centered:e.centered})},[Qr("div",null,[t.title?t.title():e.title?Qr("div",{class:[Ap("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0,t.desc?t.desc():e.desc?Qr("div",{class:[Ap("desc"),"van-ellipsis"]},[e.desc]):void 0,null==(s=t.tags)?void 0:s.call(t)]),m])]),f])}}});const xp=Sl(kp),[Cp,Ep,Op]=ul("cascader");var Ip=Bn({name:Cp,props:{title:String,options:Ys(),closeable:Gs,swipeable:Gs,closeIcon:Js("cross"),showHeader:Gs,modelValue:Ws,fieldNames:Object,placeholder:String,activeColor:String},emits:["close","change","finish","clickTab","update:modelValue"],setup(e,{slots:t,emit:n}){const i=St([]),r=St(0),[a,s]=ru(),{text:o,value:l,children:c}=Ps({text:"text",value:"value",children:"children"},e.fieldNames),u=(e,t)=>{for(const n of e){if(n[l]===t)return[n];if(n[c]){const e=u(n[c],t);if(e)return[n,...e]}}},d=()=>{const{options:t,modelValue:n}=e;if(void 0!==n){const e=u(t,n);if(e){let n=t;return i.value=e.map(e=>{const t={options:n,selected:e},i=n.find(t=>t[l]===e[l]);return i&&(n=i[c]),t}),n&&i.value.push({options:n,selected:null}),void Jt(()=>{r.value=i.value.length-1})}}i.value=[{options:t,selected:null}]},h=()=>n("close"),p=({name:e,title:t})=>n("clickTab",e,t),f=(a,u,d)=>{const{disabled:h}=a,p=!(!u||a[l]!==u[l]),f=a.color||(p?e.activeColor:void 0),m=t.option?t.option({option:a,selected:p}):Qr("span",null,[a[o]]);return Qr("li",{ref:p?s(d):void 0,role:"menuitemradio",class:[Ep("option",{selected:p,disabled:h}),a.className],style:{color:f},tabindex:h?void 0:p?0:-1,"aria-checked":p,"aria-disabled":h||void 0,onClick:()=>((e,t)=>{if(e.disabled)return;if(i.value[t].selected=e,i.value.length>t+1&&(i.value=i.value.slice(0,t+1)),e[c]){const n={options:e[c],selected:null};i.value[t+1]?i.value[t+1]=n:i.value.push(n),Jt(()=>{r.value++})}const a=i.value.map(e=>e.selected).filter(Boolean);n("update:modelValue",e[l]);const s={value:e[l],tabIndex:t,selectedOptions:a};n("change",s),e[c]||n("finish",s)})(a,d)},[m,p?Qr(Kl,{name:"success",class:Ep("selected-icon")},null):null])},m=(e,t,n)=>Qr("ul",{role:"menu",class:Ep("options")},[e.map(e=>f(e,t,n))]),g=(n,i)=>{const{options:r,selected:a}=n,s=e.placeholder||Op("select"),l=a?a[o]:s;return Qr(ju,{title:l,titleClass:Ep("tab",{unselected:!a})},{default:()=>{var e,n;return[null==(e=t["options-top"])?void 0:e.call(t,{tabIndex:i}),m(r,a,i),null==(n=t["options-bottom"])?void 0:n.call(t,{tabIndex:i})]}})};return d(),_r(r,e=>{const t=a.value[e];t&&(e=>{const t=e.parentElement;t&&(t.scrollTop=e.offsetTop-(t.offsetHeight-e.offsetHeight)/2)})(t)}),_r(()=>e.options,d,{deep:!0}),_r(()=>e.modelValue,e=>{void 0!==e&&i.value.map(e=>{var t;return null==(t=e.selected)?void 0:t[l]}).includes(e)||d()}),()=>Qr("div",{class:Ep()},[e.showHeader?Qr("div",{class:Ep("header")},[Qr("h2",{class:Ep("title")},[t.title?t.title():e.title]),e.closeable?Qr(Kl,{name:e.closeIcon,class:[Ep("close-icon"),bl],onClick:h},null):null]):null,Qr(Bu,{active:r.value,"onUpdate:active":e=>r.value=e,shrink:!0,animated:!0,class:Ep("tabs"),color:e.activeColor,swipeable:e.swipeable,onClickTab:p},{default:()=>[i.value.map(g)]})])}});const Dp=Sl(Ip),[Pp,Lp]=ul("cell-group");var Rp=Bn({name:Pp,inheritAttrs:!1,props:{title:String,inset:Boolean,border:Gs},setup(e,{slots:t,attrs:n}){const i=()=>{var i;return Qr("div",aa({class:[Lp({inset:e.inset}),{[vl]:e.border&&!e.inset}]},n,wc()),[null==(i=t.default)?void 0:i.call(t)])};return()=>e.title||t.title?Qr(Rr,null,[Qr("div",{class:Lp("title",{inset:e.inset})},[t.title?t.title():e.title]),i()]):i()}});const Mp=e("D",Sl(Rp)),[Np,jp]=ul("circle");let Bp=0;const Fp=e=>Math.min(Math.max(+e,0),100);var Up=Bn({name:Np,props:{text:String,size:Ws,fill:Js("none"),rate:Qs(100),speed:Qs(0),color:[String,Object],clockwise:Gs,layerColor:String,currentRate:Ks(0),strokeWidth:Qs(40),strokeLinecap:String,startPosition:Js("top")},emits:["update:currentRate"],setup(e,{emit:t,slots:n}){const i="van-circle-"+Bp++,r=Sa(()=>+e.strokeWidth+1e3),a=Sa(()=>function(e,t){const n=e?1:0;return`M ${t/2} ${t/2} m 0, -500 a 500, 500 0 1, ${n} 0, 1000 a 500, 500 0 1, ${n} 0, -1000`}(e.clockwise,r.value)),s=Sa(()=>{const t={top:0,right:90,bottom:180,left:270}[e.startPosition];if(t)return{transform:`rotate(${t}deg)`}});_r(()=>e.rate,n=>{let i;const r=Date.now(),a=e.currentRate,s=Fp(n),o=Math.abs(1e3*(a-s)/+e.speed),l=()=>{const e=Date.now(),n=Math.min((e-r)/o,1)*(s-a)+a;t("update:currentRate",Fp(parseFloat(n.toFixed(1)))),(s>a?n<s:n>s)&&(i=eo(l))};e.speed?(i&&to(i),i=eo(l)):t("update:currentRate",s)},{immediate:!0});const o=()=>{const{strokeWidth:t,currentRate:n,strokeLinecap:r}=e,s=3140*n/100,o=Rs(e.color)?`url(#${i})`:e.color,l={stroke:o,strokeWidth:+t+1+"px",strokeLinecap:r,strokeDasharray:`${s}px 3140px`};return Qr("path",{d:a.value,style:l,class:jp("hover"),stroke:o},null)},l=()=>{const t={fill:e.fill,stroke:e.layerColor,strokeWidth:`${e.strokeWidth}px`};return Qr("path",{class:jp("layer"),style:t,d:a.value},null)},c=()=>{const{color:t}=e;if(!Rs(t))return;const n=Object.keys(t).sort((e,t)=>parseFloat(e)-parseFloat(t)).map((e,n)=>Qr("stop",{key:n,offset:e,"stop-color":t[e]},null));return Qr("defs",null,[Qr("linearGradient",{id:i,x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[n])])};return()=>Qr("div",{class:jp(),style:Vo(e.size)},[Qr("svg",{viewBox:`0 0 ${r.value} ${r.value}`,style:s.value},[c(),l(),o()]),n.default?n.default():e.text?Qr("div",{class:jp("text")},[e.text]):void 0])}});const $p=Sl(Up),[Vp,qp]=ul("row"),zp=Symbol(Vp);var Hp=Bn({name:Vp,props:{tag:Js("div"),wrap:Gs,align:String,gutter:{type:[String,Number,Array],default:0},justify:String},setup(e,{slots:t}){const{children:n,linkChildren:i}=lo(zp),r=Sa(()=>{const e=[[]];let t=0;return n.forEach((n,i)=>{t+=Number(n.span),t>24?(e.push([i]),t-=24):e[e.length-1].push(i)}),e}),a=Sa(()=>{let t=0;t=Array.isArray(e.gutter)?Number(e.gutter[0])||0:Number(e.gutter);const n=[];return t?(r.value.forEach(e=>{const i=t*(e.length-1)/e.length;e.forEach((e,r)=>{if(0===r)n.push({right:i});else{const r=t-n[e-1].right,a=i-r;n.push({left:r,right:a})}})}),n):n}),s=Sa(()=>{const{gutter:t}=e,n=[];if(Array.isArray(t)&&t.length>1){const e=Number(t[1])||0;if(e<=0)return n;r.value.forEach((t,i)=>{i!==r.value.length-1&&t.forEach(()=>{n.push({bottom:e})})})}return n});return i({spaces:a,verticalSpaces:s}),()=>{const{tag:n,wrap:i,align:r,justify:a}=e;return Qr(n,{class:qp({[`align-${r}`]:r,[`justify-${a}`]:a,nowrap:!i})},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}}});const[Wp,Gp]=ul("col");var Xp=Bn({name:Wp,props:{tag:Js("div"),span:Qs(0),offset:Ws},setup(e,{slots:t}){const{parent:n,index:i}=ao(zp),r=Sa(()=>{if(!n)return;const{spaces:e,verticalSpaces:t}=n;let r={};if(e&&e.value&&e.value[i.value]){const{left:t,right:n}=e.value[i.value];r={paddingLeft:t?`${t}px`:null,paddingRight:n?`${n}px`:null}}const{bottom:a}=t.value[i.value]||{};return Ps(r,{marginBottom:a?`${a}px`:null})});return()=>{const{tag:n,span:i,offset:a}=e;return Qr(n,{style:r.value,class:Gp({[i]:i,[`offset-${a}`]:a})},{default:()=>{var e;return[null==(e=t.default)?void 0:e.call(t)]}})}}});const Yp=e("aZ",Sl(Xp)),[Kp,Qp]=ul("collapse"),Jp=Symbol(Kp);var Zp=Bn({name:Kp,props:{border:Gs,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:i,children:r}=lo(Jp),a=e=>{t("change",e),t("update:modelValue",e)};return Ll({toggleAll:(t={})=>{if(e.accordion)return;"boolean"==typeof t&&(t={expanded:t});const{expanded:n,skipDisabled:i}=t,s=r.filter(e=>e.disabled&&i?e.expanded.value:null!=n?n:!e.expanded.value).map(e=>e.itemName.value);a(s)}}),i({toggle:(t,n)=>{const{accordion:i,modelValue:r}=e;a(i?t===r?"":t:n?r.concat(t):r.filter(e=>e!==t))},isExpanded:t=>{const{accordion:n,modelValue:i}=e;return n?i===t:i.includes(t)}}),()=>{var t;return Qr("div",{class:[Qp(),{[vl]:e.border}]},[null==(t=n.default)?void 0:t.call(n)])}}});const ef=Sl(Zp),[tf,nf]=ul("collapse-item"),rf=["icon","title","value","label","right-icon"];var af=Bn({name:tf,props:Ps({},id,{name:Ws,isLink:Gs,disabled:Boolean,readonly:Boolean,lazyRender:Gs}),setup(e,{slots:t}){const n=St(),i=St(),{parent:r,index:a}=ao(Jp);if(!r)return;const s=Sa(()=>{var t;return null!=(t=e.name)?t:a.value}),o=Sa(()=>r.isExpanded(s.value)),l=St(o.value),c=Sc(()=>l.value||!e.lazyRender),u=()=>{o.value?n.value&&(n.value.style.height=""):l.value=!1};_r(o,(e,t)=>{null!==t&&(e&&(l.value=!0),(e?Jt:eo)(()=>{if(!i.value||!n.value)return;const{offsetHeight:t}=i.value;if(t){const i=`${t}px`;n.value.style.height=e?"0":i,no(()=>{n.value&&(n.value.style.height=e?i:"0")})}else u()}))});const d=(e=!o.value)=>{r.toggle(s.value,e)},h=()=>{e.disabled||e.readonly||d()},p=()=>{const{border:n,disabled:i,readonly:r}=e,a=Vs(e,Object.keys(id));return r&&(a.isLink=!1),(i||r)&&(a.clickable=!1),Qr(ad,aa({role:"button",class:nf("title",{disabled:i,expanded:o.value,borderless:!n}),"aria-expanded":String(o.value),onClick:h},a),Vs(t,rf))},f=c(()=>{var e;return un(Qr("div",{ref:n,class:nf("wrapper"),onTransitionend:u},[Qr("div",{ref:i,class:nf("content")},[null==(e=t.default)?void 0:e.call(t)])]),[[Ja,l.value]])});return Ll({toggle:d,expanded:o,itemName:s}),()=>Qr("div",{class:[nf({border:a.value&&e.border})]},[p(),f()])}});const sf=Sl(af),of=Sl(Wl),[lf,cf,uf]=ul("contact-card");var df=Bn({name:lf,props:{tel:String,name:String,type:Js("add"),addText:String,editable:Gs},emits:["click"],setup(e,{emit:t}){const n=n=>{e.editable&&t("click",n)},i=()=>"add"===e.type?e.addText||uf("addContact"):[Qr("div",null,[`${uf("name")}${e.name}`]),Qr("div",null,[`${uf("tel")}${e.tel}`])];return()=>Qr(ad,{center:!0,icon:"edit"===e.type?"contact":"add-square",class:cf([e.type]),border:!1,isLink:e.editable,titleClass:cf("title"),onClick:n},{title:i})}});const hf=Sl(df),[pf,ff,mf]=ul("contact-edit"),gf={tel:"",name:""};var vf=Bn({name:pf,props:{isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:()=>Ps({},gf)},telValidator:{type:Function,default:Fs}},emits:["save","delete","changeDefault"],setup(e,{emit:t}){const n=ct(Ps({},gf,e.contactInfo)),i=()=>{e.isSaving||t("save",n)},r=()=>t("delete",n),a=()=>Qr(Vd,{modelValue:n.isDefault,"onUpdate:modelValue":e=>n.isDefault=e,onChange:e=>t("changeDefault",e)},null),s=()=>{if(e.showSetDefault)return Qr(ad,{title:e.setDefaultLabel,class:ff("switch-cell"),border:!1},{"right-icon":a})};return _r(()=>e.contactInfo,e=>Ps(n,gf,e)),()=>Qr(cd,{class:ff(),onSubmit:i},{default:()=>[Qr("div",{class:ff("fields")},[Qr(_d,{modelValue:n.name,"onUpdate:modelValue":e=>n.name=e,clearable:!0,label:mf("name"),rules:[{required:!0,message:mf("nameEmpty")}],maxlength:"30",placeholder:mf("name")},null),Qr(_d,{modelValue:n.tel,"onUpdate:modelValue":e=>n.tel=e,clearable:!0,type:"tel",label:mf("tel"),rules:[{validator:e.telValidator,message:mf("telInvalid")}],placeholder:mf("tel")},null)]),s(),Qr("div",{class:ff("buttons")},[Qr(oc,{block:!0,round:!0,type:"primary",text:mf("save"),class:ff("button"),loading:e.isSaving,nativeType:"submit"},null),e.isEdit&&Qr(oc,{block:!0,round:!0,text:mf("delete"),class:ff("button"),loading:e.isDeleting,onClick:r},null)])]})}});const yf=Sl(vf),[bf,_f,Tf]=ul("contact-list");var Sf=Bn({name:bf,props:{list:Array,addText:String,modelValue:Hs,defaultTagText:String},emits:["add","edit","select","update:modelValue"],setup(e,{emit:t}){const n=(n,i)=>Qr(ad,{key:n.id,isLink:!0,center:!0,class:_f("item"),titleClass:_f("item-title"),onClick:()=>{t("update:modelValue",n.id),t("select",n,i)}},{icon:()=>Qr(Kl,{name:"edit",class:_f("edit"),onClick:e=>{e.stopPropagation(),t("edit",n,i)}},null),title:()=>{const t=[`${n.name}${n.tel}`];return n.isDefault&&e.defaultTagText&&t.push(Qr(fh,{type:"primary",round:!0,class:_f("item-tag")},{default:()=>[e.defaultTagText]})),t},"right-icon":()=>Qr(Th,{class:_f("radio"),name:n.id,iconSize:18},null)});return()=>Qr("div",{class:_f()},[Qr(rh,{modelValue:e.modelValue,class:_f("group")},{default:()=>[e.list&&e.list.map(n)]}),Qr("div",{class:[_f("bottom"),"van-safe-area-bottom"]},[Qr(oc,{round:!0,block:!0,type:"primary",class:_f("add"),text:e.addText||Tf("addContact"),onClick:()=>t("add")},null)])])}});const wf=Sl(Sf),[Af,kf]=ul("count-down");var xf=Bn({name:Af,props:{time:Qs(0),format:Js("HH:mm:ss"),autoStart:Gs,millisecond:Boolean},emits:["change","finish"],setup(e,{emit:t,slots:n}){const{start:i,pause:r,reset:a,current:s}=go({time:+e.time,millisecond:e.millisecond,onChange:e=>t("change",e),onFinish:()=>t("finish")}),o=Sa(()=>function(e,t){const{days:n}=t;let{hours:i,minutes:r,seconds:a,milliseconds:s}=t;if(e.includes("DD")?e=e.replace("DD",Yo(n)):i+=24*n,e.includes("HH")?e=e.replace("HH",Yo(i)):r+=60*i,e.includes("mm")?e=e.replace("mm",Yo(r)):a+=60*r,e.includes("ss")?e=e.replace("ss",Yo(a)):s+=1e3*a,e.includes("S")){const t=Yo(s,3);e=e.includes("SSS")?e.replace("SSS",t):e.includes("SS")?e.replace("SS",t.slice(0,2)):e.replace("S",t.charAt(0))}return e}(e.format,s.value)),l=()=>{a(+e.time),e.autoStart&&i()};return _r(()=>e.time,l,{immediate:!0}),Ll({start:i,pause:r,reset:l}),()=>Qr("div",{role:"timer",class:kf()},[n.default?n.default(s.value):o.value])}});const Cf=Sl(xf);function Ef(e){const t=new Date(1e3*e);return`${t.getFullYear()}.${Yo(t.getMonth()+1)}.${Yo(t.getDate())}`}const Of=e=>(e/100).toFixed(e%100==0?0:e%10==0?1:2),[If,Df,Pf]=ul("coupon");var Lf=Bn({name:If,props:{chosen:Boolean,coupon:Xs(Object),disabled:Boolean,currency:Js("")},setup(e){const t=Sa(()=>{const{startAt:t,endAt:n}=e.coupon;return`${Ef(t)} - ${Ef(n)}`}),n=Sa(()=>{const{coupon:t,currency:n}=e;if(t.valueDesc)return[t.valueDesc,Qr("span",null,[t.unitDesc||""])];if(t.denominations){const e=Of(t.denominations);return[Qr("span",null,[n]),` ${e}`]}return t.discount?Pf("discount",((i=t.discount)/10).toFixed(i%10==0?0:1)):"";var i}),i=Sa(()=>{const t=Of(e.coupon.originCondition||0);return"0"===t?Pf("unlimited"):Pf("condition",t)});return()=>{const{chosen:r,coupon:a,disabled:s}=e,o=s&&a.reason||a.description;return Qr("div",{class:Df({disabled:s})},[Qr("div",{class:Df("content")},[Qr("div",{class:Df("head")},[Qr("h2",{class:Df("amount")},[n.value]),Qr("p",{class:Df("condition")},[a.condition||i.value])]),Qr("div",{class:Df("body")},[Qr("p",{class:Df("name")},[a.name]),Qr("p",{class:Df("valid")},[t.value]),!s&&Qr(kh,{class:Df("corner"),modelValue:r},null)])]),o&&Qr("p",{class:Df("description")},[o])])}}});const Rf=Sl(Lf),[Mf,Nf,jf]=ul("coupon-cell"),Bf={title:String,border:Gs,editable:Gs,coupons:Ys(),currency:Js(""),chosenCoupon:{type:[Number,Array],default:-1}};function Ff({coupons:e,chosenCoupon:t,currency:n}){let i=0,r=!1;return(Array.isArray(t)?t:[t]).forEach(t=>{const n=e[+t];n&&(r=!0,i+=(e=>{const{value:t,denominations:n}=e;return Ms(t)?t:Ms(n)?n:0})(n))}),r?`-${n} ${(i/100).toFixed(2)}`:0===e.length?jf("noCoupon"):jf("count",e.length)}var Uf=Bn({name:Mf,props:Bf,setup:e=>()=>{const t=Array.isArray(e.chosenCoupon)?e.chosenCoupon.length:e.coupons[+e.chosenCoupon];return Qr(ad,{class:Nf(),value:Ff(e),title:e.title||jf("title"),border:e.border,isLink:e.editable,valueClass:Nf("value",{selected:t})},null)}});const $f=Sl(Uf),[Vf,qf]=ul("empty");var zf=Bn({name:Vf,props:{image:Js("default"),imageSize:[Number,String,Array],description:String},setup(e,{slots:t}){const n=()=>{const n=t.description?t.description():e.description;if(n)return Qr("p",{class:qf("description")},[n])},i=()=>{if(t.default)return Qr("div",{class:qf("bottom")},[t.default()])},r=iu(),a=e=>`${r}-${e}`,s=e=>`url(#${a(e)})`,o=(e,t,n)=>Qr("stop",{"stop-color":e,offset:`${t}%`,"stop-opacity":n},null),l=(e,t)=>[o(e,0),o(t,100)],c=e=>[Qr("defs",null,[Qr("radialGradient",{id:a(e),cx:"50%",cy:"54%",fx:"50%",fy:"54%",r:"297%",gradientTransform:"matrix(-.16 0 0 -.33 .58 .72)","data-allow-mismatch":"attribute"},[o("#EBEDF0",0),o("#F2F3F5",100,.3)])]),Qr("ellipse",{fill:s(e),opacity:".8",cx:"80",cy:"140",rx:"46",ry:"8","data-allow-mismatch":"attribute"},null)],u=()=>[Qr("defs",null,[Qr("linearGradient",{id:a("a"),x1:"64%",y1:"100%",x2:"64%","data-allow-mismatch":"attribute"},[o("#FFF",0,.5),o("#F2F3F5",100)])]),Qr("g",{opacity:".8","data-allow-mismatch":"children"},[Qr("path",{d:"M36 131V53H16v20H2v58h34z",fill:s("a")},null),Qr("path",{d:"M123 15h22v14h9v77h-31V15z",fill:s("a")},null)])],d=()=>[Qr("defs",null,[Qr("linearGradient",{id:a("b"),x1:"64%",y1:"97%",x2:"64%",y2:"0%","data-allow-mismatch":"attribute"},[o("#F2F3F5",0,.3),o("#F2F3F5",100)])]),Qr("g",{opacity:".8","data-allow-mismatch":"children"},[Qr("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:s("b")},null),Qr("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:s("b")},null)])],h=()=>Qr("svg",{viewBox:"0 0 160 160"},[Qr("defs",{"data-allow-mismatch":"children"},[Qr("linearGradient",{id:a(1),x1:"64%",y1:"100%",x2:"64%"},[o("#FFF",0,.5),o("#F2F3F5",100)]),Qr("linearGradient",{id:a(2),x1:"50%",x2:"50%",y2:"84%"},[o("#EBEDF0",0),o("#DCDEE0",100,0)]),Qr("linearGradient",{id:a(3),x1:"100%",x2:"100%",y2:"100%"},[l("#EAEDF0","#DCDEE0")]),Qr("radialGradient",{id:a(4),cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54 0 .5 -.5)"},[o("#EBEDF0",0),o("#FFF",100,0)])]),Qr("g",{fill:"none"},[u(),Qr("path",{fill:s(4),d:"M0 139h160v21H0z","data-allow-mismatch":"attribute"},null),Qr("path",{d:"M80 54a7 7 0 0 1 3 13v27l-2 2h-2a2 2 0 0 1-2-2V67a7 7 0 0 1 3-13z",fill:s(2),"data-allow-mismatch":"attribute"},null),Qr("g",{opacity:".6","stroke-linecap":"round","stroke-width":"7","data-allow-mismatch":"children"},[Qr("path",{d:"M64 47a19 19 0 0 0-5 13c0 5 2 10 5 13",stroke:s(3)},null),Qr("path",{d:"M53 36a34 34 0 0 0 0 48",stroke:s(3)},null),Qr("path",{d:"M95 73a19 19 0 0 0 6-13c0-5-2-9-6-13",stroke:s(3)},null),Qr("path",{d:"M106 84a34 34 0 0 0 0-48",stroke:s(3)},null)]),Qr("g",{transform:"translate(31 105)"},[Qr("rect",{fill:"#EBEDF0",width:"98",height:"34",rx:"2"},null),Qr("rect",{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.1"},null),Qr("rect",{fill:"#EBEDF0",x:"15",y:"12",width:"18",height:"6",rx:"1.1"},null)])])]),p=()=>Qr("svg",{viewBox:"0 0 160 160"},[Qr("defs",{"data-allow-mismatch":"children"},[Qr("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:a(5)},[l("#F2F3F5","#DCDEE0")]),Qr("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:a(6)},[l("#EAEDF1","#DCDEE0")]),Qr("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:a(7)},[l("#EAEDF1","#DCDEE0")])]),u(),d(),Qr("g",{transform:"translate(36 50)",fill:"none"},[Qr("g",{transform:"translate(8)"},[Qr("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"},null),Qr("rect",{fill:s(5),width:"64",height:"66",rx:"2","data-allow-mismatch":"attribute"},null),Qr("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"},null),Qr("g",{transform:"translate(15 17)",fill:s(6),"data-allow-mismatch":"attribute"},[Qr("rect",{width:"34",height:"6",rx:"1"},null),Qr("path",{d:"M0 14h34v6H0z"},null),Qr("rect",{y:"28",width:"34",height:"6",rx:"1"},null)])]),Qr("rect",{fill:s(7),y:"61",width:"88",height:"28",rx:"1","data-allow-mismatch":"attribute"},null),Qr("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"},null)])]),f=()=>Qr("svg",{viewBox:"0 0 160 160"},[Qr("defs",null,[Qr("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:a(8),"data-allow-mismatch":"attribute"},[l("#EAEDF1","#DCDEE0")])]),u(),d(),c("c"),Qr("path",{d:"m59 60 21 21 21-21h3l9 9v3L92 93l21 21v3l-9 9h-3l-21-21-21 21h-3l-9-9v-3l21-21-21-21v-3l9-9h3Z",fill:s(8),"data-allow-mismatch":"attribute"},null)]),m=()=>Qr("svg",{viewBox:"0 0 160 160"},[Qr("defs",{"data-allow-mismatch":"children"},[Qr("linearGradient",{x1:"50%",y1:"100%",x2:"50%",id:a(9)},[l("#EEE","#D8D8D8")]),Qr("linearGradient",{x1:"100%",y1:"50%",y2:"50%",id:a(10)},[l("#F2F3F5","#DCDEE0")]),Qr("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:a(11)},[l("#F2F3F5","#DCDEE0")]),Qr("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:a(12)},[l("#FFF","#F7F8FA")])]),u(),d(),c("d"),Qr("g",{transform:"rotate(-45 113 -4)",fill:"none","data-allow-mismatch":"children"},[Qr("rect",{fill:s(9),x:"24",y:"52.8",width:"5.8",height:"19",rx:"1"},null),Qr("rect",{fill:s(10),x:"22.1",y:"67.3",width:"9.9",height:"28",rx:"1"},null),Qr("circle",{stroke:s(11),"stroke-width":"8",cx:"27",cy:"27",r:"27"},null),Qr("circle",{fill:s(12),cx:"27",cy:"27",r:"16"},null),Qr("path",{d:"M37 7c-8 0-15 5-16 12",stroke:s(11),"stroke-width":"3",opacity:".5","stroke-linecap":"round",transform:"rotate(45 29 13)"},null)])]),g=()=>{var n;if(t.image)return t.image();const i={error:f,search:m,network:h,default:p};return(null==(n=i[e.image])?void 0:n.call(i))||Qr("img",{src:e.image},null)};return()=>Qr("div",{class:qf()},[Qr("div",{class:qf("image"),style:Vo(e.imageSize)},[g()]),n(),i()])}});const Hf=e("b5",Sl(zf)),[Wf,Gf,Xf]=ul("coupon-list");var Yf=Bn({name:Wf,props:{code:Js(""),coupons:Ys(),currency:Js(""),showCount:Gs,emptyImage:String,enabledTitle:String,disabledTitle:String,disabledCoupons:Ys(),showExchangeBar:Gs,showCloseButton:Gs,closeButtonText:String,inputPlaceholder:String,exchangeMinLength:Ks(1),exchangeButtonText:String,displayedCouponIndex:Ks(-1),exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean,chosenCoupon:{type:[Number,Array],default:-1}},emits:["change","exchange","update:code"],setup(e,{emit:t,slots:n}){const[i,r]=ru(),a=St(),s=St(),o=St(0),l=St(0),c=St(e.code),u=Sa(()=>!e.exchangeButtonLoading&&(e.exchangeButtonDisabled||!c.value||c.value.length<e.exchangeMinLength)),d=()=>{const e=ro(a).height,t=ro(s).height+44;l.value=(e>t?e:Fo.value)-t},h=()=>{t("exchange",c.value),e.code||(c.value="")},p=e=>{Jt(()=>{var t;return null==(t=i.value[e])?void 0:t.scrollIntoView()})},f=()=>Qr(Hf,{image:e.emptyImage},{default:()=>[Qr("p",{class:Gf("empty-tip")},[Xf("noCoupon")])]}),m=()=>{if(e.showExchangeBar)return Qr("div",{ref:s,class:Gf("exchange-bar")},[Qr(_d,{modelValue:c.value,"onUpdate:modelValue":e=>c.value=e,clearable:!0,border:!1,class:Gf("field"),placeholder:e.inputPlaceholder||Xf("placeholder"),maxlength:"20"},null),Qr(oc,{plain:!0,type:"primary",class:Gf("exchange"),text:e.exchangeButtonText||Xf("exchange"),loading:e.exchangeButtonLoading,disabled:u.value,onClick:h},null)])},g=()=>{const{coupons:i,chosenCoupon:a}=e,s=e.showCount?` (${i.length})`:"",o=(e.enabledTitle||Xf("enable"))+s;return Qr(ju,{title:o},{default:()=>{var s;return[Qr("div",{class:Gf("list",{"with-bottom":e.showCloseButton}),style:{height:`${l.value}px`}},[i.map((n,i)=>Qr(Rf,{key:n.id,ref:r(i),coupon:n,chosen:Array.isArray(a)?a.includes(i):i===a,currency:e.currency,onClick:()=>t("change",Array.isArray(a)?((e=[],t=0)=>e.includes(t)?e.filter(e=>e!==t):[...e,t])(a,i):i)},null)),!i.length&&f(),null==(s=n["list-footer"])?void 0:s.call(n)])]}})},v=()=>{const{disabledCoupons:t}=e,i=e.showCount?` (${t.length})`:"",r=(e.disabledTitle||Xf("disabled"))+i;return Qr(ju,{title:r},{default:()=>{var i;return[Qr("div",{class:Gf("list",{"with-bottom":e.showCloseButton}),style:{height:`${l.value}px`}},[t.map(t=>Qr(Rf,{disabled:!0,key:t.id,coupon:t,currency:e.currency},null)),!t.length&&f(),null==(i=n["disabled-list-footer"])?void 0:i.call(n)])]}})};return _r(()=>e.code,e=>{c.value=e}),_r(Fo,d),_r(c,e=>t("update:code",e)),_r(()=>e.displayedCouponIndex,p),ai(()=>{d(),p(e.displayedCouponIndex)}),()=>Qr("div",{ref:a,class:Gf()},[m(),Qr(Bu,{active:o.value,"onUpdate:active":e=>o.value=e,class:Gf("tab")},{default:()=>[g(),v()]}),Qr("div",{class:Gf("bottom")},[n["list-button"]?n["list-button"]():un(Qr(oc,{round:!0,block:!0,type:"primary",class:Gf("close"),text:e.closeButtonText||Xf("close"),onClick:()=>t("change",Array.isArray(e.chosenCoupon)?[]:-1)},null),[[Ja,e.showCloseButton]])])])}});const Kf=Sl(Yf),Qf=(new Date).getFullYear(),[Jf]=ul("date-picker");var Zf=Bn({name:Jf,props:Ps({},sp,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(Qf-10,0,1),validator:Bs},maxDate:{type:Date,default:()=>new Date(Qf+10,11,31),validator:Bs}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=St(e.modelValue),r=St(!1),a=St(),s=Sa(()=>r.value?e.modelValue:i.value),o=t=>t===e.minDate.getFullYear(),l=t=>t===e.maxDate.getFullYear(),c=t=>{const{minDate:n,columnsType:i}=e,r=i.indexOf(t),a=s.value[r];if(a)return+a;switch(t){case"year":return n.getFullYear();case"month":return n.getMonth()+1;case"day":return n.getDate()}},u=()=>{const t=c("year"),n=c("month"),i=o(t)&&(t=>t===e.minDate.getMonth()+1)(n)?e.minDate.getDate():1,r=l(t)&&(t=>t===e.maxDate.getMonth()+1)(n)?e.maxDate.getDate():lp(t,n);return cp(i,r,"day",e.formatter,e.filter,s.value)},d=Sa(()=>e.columnsType.map(t=>{switch(t){case"year":return(()=>{const t=e.minDate.getFullYear(),n=e.maxDate.getFullYear();return cp(t,n,"year",e.formatter,e.filter,s.value)})();case"month":return(()=>{const t=c("year"),n=o(t)?e.minDate.getMonth()+1:1,i=l(t)?e.maxDate.getMonth()+1:12;return cp(n,i,"month",e.formatter,e.filter,s.value)})();case"day":return u();default:return[]}}));_r(i,n=>{qs(n,e.modelValue)||t("update:modelValue",n)}),_r(()=>e.modelValue,(e,t)=>{r.value=qs(t,i.value),e=up(e,d.value),qs(e,i.value)||(i.value=e),r.value=!1},{immediate:!0});const h=(...e)=>t("change",...e),p=(...e)=>t("cancel",...e),f=(...e)=>t("confirm",...e);return Ll({confirm:()=>{var e;return null==(e=a.value)?void 0:e.confirm()},getSelectedDate:()=>i.value}),()=>Qr(Ku,aa({ref:a,modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,columns:d.value,onChange:h,onCancel:p,onConfirm:f},Vs(e,op)),n)}});const em=Sl(Zf),[tm,nm,im]=ul("dialog"),rm=Ps({},gc,{title:String,theme:String,width:Ws,message:[String,Function],callback:Function,allowHtml:Boolean,className:Hs,transition:Js("van-dialog-bounce"),messageAlign:String,closeOnPopstate:Gs,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:Gs,closeOnClickOverlay:Boolean,keyboardEnabled:Gs,destroyOnClose:Boolean}),am=[...vc,"transition","closeOnPopstate","destroyOnClose"];var sm=Bn({name:tm,props:rm,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:t,slots:n}){const i=St(),r=ct({confirm:!1,cancel:!1}),a=e=>t("update:show",e),s=t=>{var n;a(!1),null==(n=e.callback)||n.call(e,t)},o=n=>()=>{e.show&&(t(n),e.beforeClose?(r[n]=!0,Tl(e.beforeClose,{args:[n],done(){s(n),r[n]=!1},canceled(){r[n]=!1}})):s(n))},l=o("cancel"),c=o("confirm"),u=Cs(n=>{var r,a;e.keyboardEnabled&&n.target===(null==(a=null==(r=i.value)?void 0:r.popupRef)?void 0:a.value)&&({Enter:e.showConfirmButton?c:Ds,Escape:e.showCancelButton?l:Ds}[n.key](),t("keydown",n))},["enter","esc"]),d=()=>{const t=n.title?n.title():e.title;if(t)return Qr("div",{class:nm("header",{isolated:!e.message&&!n.default})},[t])},h=t=>{const{message:n,allowHtml:i,messageAlign:r}=e,a=nm("message",{"has-title":t,[r]:r}),s=Ns(n)?n():n;return i&&"string"==typeof s?Qr("div",{class:a,innerHTML:s},null):Qr("div",{class:a},[s])},p=()=>{if(n.default)return Qr("div",{class:nm("content")},[n.default()]);const{title:t,message:i,allowHtml:r}=e;if(i){const e=!(!t&&!n.title);return Qr("div",{key:r?1:0,class:nm("content",{isolated:!e})},[h(e)])}},f=()=>n.footer?n.footer():"round-button"===e.theme?Qr(Pl,{class:nm("footer")},{default:()=>[e.showCancelButton&&Qr(dc,{type:"warning",text:e.cancelButtonText||im("cancel"),class:nm("cancel"),color:e.cancelButtonColor,loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:l},null),e.showConfirmButton&&Qr(dc,{type:"danger",text:e.confirmButtonText||im("confirm"),class:nm("confirm"),color:e.confirmButtonColor,loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:c},null)]}):Qr("div",{class:[hl,nm("footer")]},[e.showCancelButton&&Qr(oc,{size:"large",text:e.cancelButtonText||im("cancel"),class:nm("cancel"),style:{color:e.cancelButtonColor},loading:r.cancel,disabled:e.cancelButtonDisabled,onClick:l},null),e.showConfirmButton&&Qr(oc,{size:"large",text:e.confirmButtonText||im("confirm"),class:[nm("confirm"),{[pl]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:r.confirm,disabled:e.confirmButtonDisabled,onClick:c},null)]);return()=>{const{width:t,title:n,theme:r,message:s,className:o}=e;return Qr(Pc,aa({ref:i,role:"dialog",class:[nm([r]),o],style:{width:$o(t)},tabindex:0,"aria-labelledby":n||s,onKeydown:u,"onUpdate:show":a},Vs(e,am)),{default:()=>[d(),p(),f()]})}}});let om,lm=Ps({},{title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1,destroyOnClose:!1});function cm(e){return Ls?new Promise((t,n)=>{om||function(){const e={setup(){const{state:e,toggle:t}=xd();return()=>Qr(sm,aa(e,{"onUpdate:show":t}),null)}};({instance:om}=Cd(e))}(),om.open(Ps({},lm,e,{callback:e=>{("confirm"===e?t:n)(e)}}))}):Promise.resolve(void 0)}const um=e("bB",e=>cm(Ps({showCancelButton:!0},e))),dm=Sl(sm),[hm,pm]=ul("divider");var fm=Bn({name:hm,props:{dashed:Boolean,hairline:Gs,vertical:Boolean,contentPosition:Js("center")},setup:(e,{slots:t})=>()=>{var n;return Qr("div",{role:"separator",class:pm({dashed:e.dashed,hairline:e.hairline,vertical:e.vertical,[`content-${e.contentPosition}`]:!!t.default&&!e.vertical})},[!e.vertical&&(null==(n=t.default)?void 0:n.call(t))])}});const mm=Sl(fm),[gm,vm]=ul("dropdown-menu"),ym={overlay:Gs,zIndex:Ws,duration:Qs(.2),direction:Js("down"),activeColor:String,autoLocate:Boolean,closeOnClickOutside:Gs,closeOnClickOverlay:Gs,swipeThreshold:Ws},bm=Symbol(gm);var _m=Bn({name:gm,props:ym,setup(e,{slots:t}){const n=iu(),i=St(),r=St(),a=St(0),{children:s,linkChildren:o}=lo(bm),l=ko(i),c=Sa(()=>s.some(e=>e.state.showWrapper)),u=Sa(()=>e.swipeThreshold&&s.length>+e.swipeThreshold),d=Sa(()=>{if(c.value&&Ms(e.zIndex))return{zIndex:+e.zIndex+1}}),h=()=>{s.forEach(e=>{e.toggle(!1)})},p=()=>{if(r.value){const t=ro(r);"down"===e.direction?a.value=t.bottom:a.value=Fo.value-t.top}},f=(t,i)=>{const{showPopup:r}=t.state,{disabled:a,titleClass:o}=t;return Qr("div",{id:`${n}-${i}`,role:"button",tabindex:a?void 0:0,"data-allow-mismatch":"attribute",class:[vm("item",{disabled:a,grow:u.value}),{[bl]:!a}],onClick:()=>{var e;a||(e=i,s.forEach((t,n)=>{n===e?t.toggle():t.state.showPopup&&t.toggle(!1,{immediate:!0})}))}},[Qr("span",{class:[vm("title",{down:r===("down"===e.direction),active:r}),o],style:{color:r?e.activeColor:""}},[Qr("div",{class:"van-ellipsis"},[t.renderTitle()])])])};return Ll({close:h,opened:c}),o({id:n,props:e,offset:a,opened:c,updateOffset:p}),bo(i,()=>{e.closeOnClickOutside&&h()}),yo("scroll",()=>{c.value&&p()},{target:l,passive:!0}),()=>{var e;return Qr("div",{ref:i,class:vm()},[Qr("div",{ref:r,style:d.value,class:vm("bar",{opened:c.value,scrollable:u.value})},[s.map(f)]),null==(e=t.default)?void 0:e.call(t)])}}});const[Tm,Sm]=ul("dropdown-item");var wm=Bn({name:Tm,inheritAttrs:!1,props:{title:String,options:Ys(),disabled:Boolean,teleport:[String,Object],lazyRender:Gs,modelValue:Hs,titleClass:Hs},emits:["open","opened","close","closed","change","update:modelValue"],setup(e,{emit:t,slots:n,attrs:i}){const r=ct({showPopup:!1,transition:!0,showWrapper:!1}),a=St(),{parent:s,index:o}=ao(bm);if(!s)return;const l=e=>()=>t(e),c=l("open"),u=l("close"),d=l("opened"),h=()=>{r.showWrapper=!1,t("closed")},p=t=>{e.teleport&&t.stopPropagation()},f=n=>{const{activeColor:i}=s.props,{disabled:a}=n,o=n.value===e.modelValue;return Qr(ad,{role:"menuitem",key:String(n.value),icon:n.icon,title:n.text,class:Sm("option",{active:o,disabled:a}),style:{color:o?i:""},tabindex:o?0:-1,clickable:!a,onClick:()=>{a||(r.showPopup=!1,n.value!==e.modelValue&&(t("update:modelValue",n.value),t("change",n.value)))}},{value:()=>{if(o)return Qr(Kl,{class:Sm("icon"),color:a?void 0:i,name:"success"},null)}})},m=()=>{const{offset:t}=s,{autoLocate:l,zIndex:m,overlay:g,duration:v,direction:y,closeOnClickOverlay:b}=s.props,_=qo(m);let T=t.value;if(l&&a.value){const e=function(e){let t=e.parentElement;for(;t;){if(t&&"HTML"!==t.tagName&&"BODY"!==t.tagName&&Uo(t))return t;t=t.parentElement}return null}(a.value);e&&(T-=ro(e).top)}return"down"===y?_.top=`${T}px`:_.bottom=`${T}px`,un(Qr("div",aa({ref:a,style:_,class:Sm([y]),onClick:p},i),[Qr(Pc,{show:r.showPopup,"onUpdate:show":e=>r.showPopup=e,role:"menu",class:Sm("content"),overlay:g,overlayProps:{duration:r.transition&&!s.opened.value?v:0},position:"down"===y?"top":"bottom",duration:r.transition?v:0,lazyRender:e.lazyRender,overlayStyle:{position:"absolute"},"aria-labelledby":`${s.id}-${o.value}`,"data-allow-mismatch":"attribute",closeOnClickOverlay:b,onOpen:c,onClose:u,onOpened:d,onClosed:h},{default:()=>{var t;return[e.options.map(f),null==(t=n.default)?void 0:t.call(n)]}})]),[[Ja,r.showWrapper]])};return Ll({state:r,toggle:(e=!r.showPopup,t={})=>{e!==r.showPopup&&(r.showPopup=e,r.transition=!t.immediate,e&&(s.updateOffset(),r.showWrapper=!0))},renderTitle:()=>{if(n.title)return n.title();if(e.title)return e.title;const t=e.options.find(t=>t.value===e.modelValue);return t?t.text:""}}),()=>e.teleport?Qr(Tn,{to:e.teleport},{default:()=>[m()]}):m()}});const Am=e("aa",Sl(wm)),km=e("ab",Sl(_m)),xm={gap:{type:[Number,Object],default:24},icon:String,axis:Js("y"),magnetic:String,offset:Object,teleport:{type:[String,Object],default:"body"}},[Cm,Em]=ul("floating-bubble");var Om=Bn({name:Cm,inheritAttrs:!1,props:xm,emits:["click","update:offset","offsetChange"],setup(e,{slots:t,emit:n,attrs:i}){const r=St(),a=St({x:0,y:0,width:0,height:0}),s=Sa(()=>Rs(e.gap)?e.gap.x:e.gap),o=Sa(()=>Rs(e.gap)?e.gap.y:e.gap),l=Sa(()=>({top:o.value,right:Bo.value-a.value.width-s.value,bottom:Fo.value-a.value.height-o.value,left:s.value})),c=St(!1);let u=!1;const d=Sa(()=>{const e={},t=$o(a.value.x),n=$o(a.value.y);return e.transform=`translate3d(${t}, ${n}, 0)`,!c.value&&u||(e.transition="none"),e}),h=()=>{if(!b.value)return;const{width:t,height:n}=ro(r.value),{offset:i}=e;a.value={x:i?i.x:Bo.value-t-s.value,y:i?i.y:Fo.value-n-o.value,width:t,height:n}},p=yc();let f=0,m=0;const g=e=>{p.start(e),c.value=!0,f=a.value.x,m=a.value.y};yo("touchmove",t=>{if(t.preventDefault(),p.move(t),"lock"!==e.axis&&!p.isTap.value){if("x"===e.axis||"xy"===e.axis){let e=f+p.deltaX.value;e<l.value.left&&(e=l.value.left),e>l.value.right&&(e=l.value.right),a.value.x=e}if("y"===e.axis||"xy"===e.axis){let e=m+p.deltaY.value;e<l.value.top&&(e=l.value.top),e>l.value.bottom&&(e=l.value.bottom),a.value.y=e}const t=Vs(a.value,["x","y"]);n("update:offset",t)}},{target:r});const v=()=>{c.value=!1,Jt(()=>{if("x"===e.magnetic){const e=wl([l.value.left,l.value.right],a.value.x);a.value.x=e}if("y"===e.magnetic){const e=wl([l.value.top,l.value.bottom],a.value.y);a.value.y=e}if(!p.isTap.value){const e=Vs(a.value,["x","y"]);n("update:offset",e),f===e.x&&m===e.y||n("offsetChange",e)}})},y=e=>{p.isTap.value?n("click",e):e.stopPropagation()};ai(()=>{h(),Jt(()=>{u=!0})}),_r([Bo,Fo,s,o,()=>e.offset],h,{deep:!0});const b=St(!0);return Kn(()=>{b.value=!0}),Qn(()=>{e.teleport&&(b.value=!1)}),()=>{const n=un(Qr("div",aa({class:Em(),ref:r,onTouchstartPassive:g,onTouchend:v,onTouchcancel:v,onClickCapture:y,style:d.value},i),[t.default?t.default():Qr(Ql,{name:e.icon,class:Em("icon")},null)]),[[Ja,b.value]]);return e.teleport?Qr(Tn,{to:e.teleport},{default:()=>[n]}):n}}});const Im=e("by",Sl(Om)),Dm={height:Qs(0),anchors:Ys(),duration:Qs(.3),contentDraggable:Gs,lockScroll:Boolean,safeAreaInsetBottom:Gs},[Pm,Lm]=ul("floating-panel");var Rm=Bn({name:Pm,props:Dm,emits:["heightChange","update:height"],setup(e,{emit:t,slots:n}){const i=St(),r=St(),a=tu(()=>+e.height,e=>t("update:height",e)),s=Sa(()=>{var t,n;return{min:null!=(t=e.anchors[0])?t:100,max:null!=(n=e.anchors[e.anchors.length-1])?n:Math.round(.6*Fo.value)}}),o=Sa(()=>e.anchors.length>=2?e.anchors:[s.value.min,s.value.max]),l=St(!1),c=Sa(()=>({height:$o(s.value.max),transform:`translateY(calc(100% + ${$o(-a.value)}))`,transition:l.value?"none":`transform ${e.duration}s cubic-bezier(0.18, 0.89, 0.32, 1.28)`}));let u,d=-1;const h=yc(),p=e=>{h.start(e),l.value=!0,u=-a.value,d=-1},f=()=>{d=-1,l.value=!1,a.value=wl(o.value,a.value),a.value!==-u&&t("heightChange",{height:a.value})};return _r(s,()=>{a.value=wl(o.value,a.value)},{immediate:!0}),Tc(i,()=>e.lockScroll||l.value),yo("touchmove",t=>{var n;h.move(t);const i=t.target;if(r.value===i||(null==(n=r.value)?void 0:n.contains(i))){const{scrollTop:n}=r.value;if(d=Math.max(d,n),!e.contentDraggable)return;if(-u<s.value.max)No(t,!0);else if(!(n<=0&&h.deltaY.value>0)||d>0)return}const o=h.deltaY.value+u;a.value=-(e=>{const t=Math.abs(e),{min:n,max:i}=s.value;return t>i?-(i+.2*(t-i)):t<n?-(n-.2*(n-t)):e})(o)},{target:i}),()=>{var t;return Qr("div",{class:[Lm(),{"van-safe-area-bottom":e.safeAreaInsetBottom}],ref:i,style:c.value,onTouchstartPassive:p,onTouchend:f,onTouchcancel:f},[n.header?n.header():Qr("div",{class:Lm("header")},[Qr("div",{class:Lm("header-bar")},null)]),Qr("div",{class:Lm("content"),ref:r},[null==(t=n.default)?void 0:t.call(n)])])}}});const Mm=Sl(Rm),[Nm,jm]=ul("grid"),Bm={square:Boolean,center:Gs,border:Gs,gutter:Ws,reverse:Boolean,iconSize:Ws,direction:String,clickable:Boolean,columnNum:Qs(4)},Fm=Symbol(Nm);var Um=Bn({name:Nm,props:Bm,setup(e,{slots:t}){const{linkChildren:n}=lo(Fm);return n({props:e}),()=>{var n;return Qr("div",{style:{paddingLeft:$o(e.gutter)},class:[jm(),{[hl]:e.border&&!e.gutter}]},[null==(n=t.default)?void 0:n.call(t)])}}});const $m=e("b2",Sl(Um)),[Vm,qm]=ul("grid-item");var zm=Bn({name:Vm,props:Ps({},Rl,{dot:Boolean,text:String,icon:String,badge:Ws,iconColor:String,iconPrefix:String,badgeProps:Object}),setup(e,{slots:t}){const{parent:n,index:i}=ao(Fm),r=Nl();if(!n)return;const a=Sa(()=>{const{square:e,gutter:t,columnNum:r}=n.props,a=100/+r+"%",s={flexBasis:a};if(e)s.paddingTop=a;else if(t){const e=$o(t);s.paddingRight=e,i.value>=+r&&(s.marginTop=e)}return s}),s=Sa(()=>{const{square:e,gutter:t}=n.props;if(e&&t){const e=$o(t);return{right:e,bottom:e,height:"auto"}}});return()=>{const{center:i,border:o,square:l,gutter:c,reverse:u,direction:d,clickable:h}=n.props,p=[qm("content",[d,{center:i,square:l,reverse:u,clickable:h,surround:o&&c}]),{[dl]:o}];return Qr("div",{class:[qm({square:l})],style:a.value},[Qr("div",{role:h?"button":void 0,class:p,style:s.value,tabindex:h?0:void 0,onClick:r},[t.default?t.default():[t.icon?Qr(Ul,aa({dot:e.dot,content:e.badge},e.badgeProps),{default:t.icon}):e.icon?Qr(Kl,{dot:e.dot,name:e.icon,size:n.props.iconSize,badge:e.badge,class:qm("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null):void 0,t.text?t.text():e.text?Qr("span",{class:qm("text")},[e.text]):void 0]])])}}});const Hm=e("b1",Sl(zm)),[Wm,Gm]=ul("highlight");var Xm=Bn({name:Wm,props:{autoEscape:Gs,caseSensitive:Boolean,highlightClass:String,highlightTag:Js("span"),keywords:Xs([String,Array]),sourceString:Js(""),tag:Js("div"),unhighlightClass:String,unhighlightTag:Js("span")},setup(e){const t=Sa(()=>{const{autoEscape:t,caseSensitive:n,keywords:i,sourceString:r}=e,a=n?"g":"gi";let s=(Array.isArray(i)?i:[i]).filter(e=>e).reduce((e,n)=>{t&&(n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));const i=new RegExp(n,a);let s;for(;s=i.exec(r);){const t=s.index,n=i.lastIndex;t>=n?i.lastIndex++:e.push({start:t,end:n,highlight:!0})}return e},[]);s=s.sort((e,t)=>e.start-t.start).reduce((e,t)=>{const n=e[e.length-1];if(!n||t.start>n.end){const i=n?n.end:0,r=t.start;i!==r&&e.push({start:i,end:r,highlight:!1}),e.push(t)}else n.end=Math.max(n.end,t.end);return e},[]);const o=s[s.length-1];return o||s.push({start:0,end:r.length,highlight:!1}),o&&o.end<r.length&&s.push({start:o.end,end:r.length,highlight:!1}),s}),n=()=>{const{sourceString:n,highlightClass:i,unhighlightClass:r,highlightTag:a,unhighlightTag:s}=e;return t.value.map(e=>{const{start:t,end:o,highlight:l}=e,c=n.slice(t,o);return l?Qr(a,{class:[Gm("tag"),i]},{default:()=>[c]}):Qr(s,{class:r},{default:()=>[c]})})};return()=>{const{tag:t}=e;return Qr(t,{class:Gm()},{default:()=>[n()]})}}});const Ym=Sl(Xm),Km=e=>Math.sqrt((e[0].clientX-e[1].clientX)**2+(e[0].clientY-e[1].clientY)**2),Qm=ul("image-preview")[1];var Jm=Bn({props:{src:String,show:Boolean,active:Number,minZoom:Xs(Ws),maxZoom:Xs(Ws),rootWidth:Xs(Number),rootHeight:Xs(Number),disableZoom:Boolean,doubleScale:Boolean,closeOnClickImage:Boolean,closeOnClickOverlay:Boolean,vertical:Boolean},emits:["scale","close","longPress"],setup(e,{emit:t,slots:n}){const i=ct({scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,initializing:!1,imageRatio:0}),r=yc(),a=St(),s=St(),o=St(!1),l=St(!1);let c=0;const u=Sa(()=>{const{scale:e,moveX:t,moveY:n,moving:r,zooming:a,initializing:s}=i,o={transitionDuration:a||r||s?"0s":".3s"};return(1!==e||l.value)&&(o.transform=`matrix(${e}, 0, 0, ${e}, ${t}, ${n})`),o}),d=Sa(()=>{if(i.imageRatio){const{rootWidth:t,rootHeight:n}=e,r=o.value?n/i.imageRatio:t;return Math.max(0,(i.scale*r-t)/2)}return 0}),h=Sa(()=>{if(i.imageRatio){const{rootWidth:t,rootHeight:n}=e,r=o.value?n:t*i.imageRatio;return Math.max(0,(i.scale*r-n)/2)}return 0}),p=(n,r)=>{var s;if((n=Ko(n,+e.minZoom,+e.maxZoom+1))!==i.scale){const o=n/i.scale;if(i.scale=n,r){const e=ro(null==(s=a.value)?void 0:s.$el),t={x:.5*e.width,y:.5*e.height},n=i.moveX-(r.x-e.left-t.x)*(o-1),l=i.moveY-(r.y-e.top-t.y)*(o-1);i.moveX=Ko(n,-d.value,d.value),i.moveY=Ko(l,-h.value,h.value)}else i.moveX=0,i.moveY=l.value?c:0;t("scale",{scale:n,index:e.active})}},f=()=>{p(1)};let m,g,v,y,b,_,T,S,w=!1;const A=t=>{const{touches:n}=t;if(m=n.length,2===m&&e.disableZoom)return;const{offsetX:a}=r;r.start(t),g=i.moveX,v=i.moveY,S=Date.now(),w=!1,i.moving=1===m&&(1!==i.scale||l.value),i.zooming=2===m&&!a.value,i.zooming&&(y=i.scale,b=Km(n))},k=n=>{var i;const r=null==(i=s.value)?void 0:i.$el;if(!r)return;const a=r.firstElementChild,o=n.target===r,l=null==a?void 0:a.contains(n.target);!e.closeOnClickImage&&l||!e.closeOnClickOverlay&&o||t("close")},x=n=>{if(m>1)return;const a=Date.now()-S;r.isTap.value&&(a<250?e.doubleScale?T?(clearTimeout(T),T=null,(()=>{const e=i.scale>1?1:2;p(e,2===e||l.value?{x:r.startX.value,y:r.startY.value}:void 0)})()):T=setTimeout(()=>{k(n),T=null},250):k(n):a>500&&t("longPress"))},C=t=>{let n=!1;if((i.moving||i.zooming)&&(n=!0,i.moving&&g===i.moveX&&v===i.moveY&&(n=!1),!t.touches.length)){i.zooming&&(i.moveX=Ko(i.moveX,-d.value,d.value),i.moveY=Ko(i.moveY,-h.value,h.value),i.zooming=!1),i.moving=!1,g=0,v=0,y=1,i.scale<1&&f();const t=+e.maxZoom;i.scale>t&&p(t,_)}No(t,n),x(t),r.reset()},E=()=>{const{rootWidth:t,rootHeight:n}=e,r=n/t,{imageRatio:a}=i;o.value=i.imageRatio>r&&a<2.6,l.value=i.imageRatio>r&&a>=2.6,l.value&&(c=(a*t-n)/2,i.moveY=c,i.initializing=!0,eo(()=>{i.initializing=!1})),f()},O=e=>{const{naturalWidth:t,naturalHeight:n}=e.target;i.imageRatio=n/t,E()};return _r(()=>e.active,f),_r(()=>e.show,e=>{e||f()}),_r(()=>[e.rootWidth,e.rootHeight],E),yo("touchmove",t=>{const{touches:n}=t;if(r.move(t),i.moving){const{deltaX:n,deltaY:a}=r,s=n.value+g,o=a.value+v;if((e.vertical?r.isVertical()&&Math.abs(o)>h.value:r.isHorizontal()&&Math.abs(s)>d.value)&&!w)return void(i.moving=!1);w=!0,No(t,!0),i.moveX=Ko(s,-d.value,d.value),i.moveY=Ko(o,-h.value,h.value)}if(i.zooming&&(No(t,!0),2===n.length)){const e=Km(n),t=y*e/b;_=(e=>({x:(e[0].clientX+e[1].clientX)/2,y:(e[0].clientY+e[1].clientY)/2}))(n),p(t,_)}},{target:Sa(()=>{var e;return null==(e=s.value)?void 0:e.$el})}),Ll({resetScale:f}),()=>{const t={loading:()=>Qr(ic,{type:"spinner"},null)};return Qr(Lu,{ref:s,class:Qm("swipe-item"),onTouchstartPassive:A,onTouchend:C,onTouchcancel:C},{default:()=>[n.image?Qr("div",{class:Qm("image-wrap")},[n.image({src:e.src,onLoad:O,style:u.value})]):Qr(Sp,{ref:a,src:e.src,fit:"contain",class:Qm("image",{vertical:o.value}),style:u.value,onLoad:O},t)]})}}});const[Zm,eg]=ul("image-preview"),tg=["show","teleport","transition","overlayStyle","closeOnPopstate"];var ng=Bn({name:Zm,props:{show:Boolean,loop:Gs,images:Ys(),minZoom:Qs(1/3),maxZoom:Qs(3),overlay:Gs,vertical:Boolean,closeable:Boolean,showIndex:Gs,className:Hs,closeIcon:Js("clear"),transition:String,beforeClose:Function,doubleScale:Gs,overlayClass:Hs,overlayStyle:Object,swipeDuration:Qs(300),startPosition:Qs(0),showIndicators:Boolean,closeOnPopstate:Gs,closeOnClickImage:Gs,closeOnClickOverlay:Gs,closeIconPosition:Js("top-right"),teleport:[String,Object]},emits:["scale","close","closed","change","longPress","update:show"],setup(e,{emit:t,slots:n}){const i=St(),r=St(),a=ct({active:0,rootWidth:0,rootHeight:0,disableZoom:!1}),s=()=>{if(i.value){const e=ro(i.value.$el);a.rootWidth=e.width,a.rootHeight=e.height,i.value.resize()}},o=e=>t("scale",e),l=e=>t("update:show",e),c=()=>{Tl(e.beforeClose,{args:[a.active],done:()=>l(!1)})},u=e=>{e!==a.active&&(a.active=e,t("change",e))},d=()=>{if(e.showIndex)return Qr("div",{class:eg("index")},[n.index?n.index({index:a.active}):`${a.active+1} / ${e.images.length}`])},h=()=>{if(n.cover)return Qr("div",{class:eg("cover")},[n.cover()])},p=()=>{a.disableZoom=!0},f=()=>{a.disableZoom=!1},m=()=>{if(e.closeable)return Qr(Kl,{role:"button",name:e.closeIcon,class:[eg("close-icon",e.closeIconPosition),bl],onClick:c},null)},g=()=>t("closed"),v=(e,t)=>{var n;return null==(n=i.value)?void 0:n.swipeTo(e,t)};return Ll({resetScale:()=>{var e;null==(e=r.value)||e.resetScale()},swipeTo:v}),ai(s),_r([Bo,Fo],s),_r(()=>e.startPosition,e=>u(+e)),_r(()=>e.show,n=>{const{images:i,startPosition:r}=e;n?(u(+r),Jt(()=>{s(),v(+r,{immediate:!0})})):t("close",{index:a.active,url:i[a.active]})}),()=>Qr(Pc,aa({class:[eg(),e.className],overlayClass:[eg("overlay"),e.overlayClass],onClosed:g,"onUpdate:show":l},Vs(e,tg)),{default:()=>[m(),Qr(mu,{ref:i,lazyRender:!0,loop:e.loop,class:eg("swipe"),vertical:e.vertical,duration:e.swipeDuration,initialSwipe:e.startPosition,showIndicators:e.showIndicators,indicatorColor:"white",onChange:u,onDragEnd:f,onDragStart:p},{default:()=>[e.images.map((i,s)=>Qr(Jm,{ref:e=>{s===a.active&&(r.value=e)},src:i,show:e.show,active:a.active,maxZoom:e.maxZoom,minZoom:e.minZoom,rootWidth:a.rootWidth,rootHeight:a.rootHeight,disableZoom:a.disableZoom,doubleScale:e.doubleScale,closeOnClickImage:e.closeOnClickImage,closeOnClickOverlay:e.closeOnClickOverlay,vertical:e.vertical,onScale:o,onClose:c,onLongPress:()=>t("longPress",{index:s})},{image:n.image}))]}),d(),h()]})}});let ig;const rg={loop:!0,images:[],maxZoom:3,minZoom:1/3,onScale:void 0,onClose:void 0,onChange:void 0,vertical:!1,teleport:"body",className:"",showIndex:!0,closeable:!1,closeIcon:"clear",transition:void 0,beforeClose:void 0,doubleScale:!0,overlayStyle:void 0,overlayClass:void 0,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeOnClickOverlay:!0,closeIconPosition:"top-right"},ag=e("aV",(e,t=0)=>{if(Ls)return ig||({instance:ig}=Cd({setup(){const{state:e,toggle:t}=xd(),n=()=>{e.images=[]};return()=>Qr(ng,aa(e,{onClosed:n,"onUpdate:show":t}),null)}})),e=Array.isArray(e)?{images:e,startPosition:t}:e,ig.open(Ps({},rg,e)),ig}),sg=Sl(ng),[og,lg]=ul("index-bar"),cg={sticky:Gs,zIndex:Ws,teleport:[String,Object],highlightColor:String,stickyOffsetTop:Ks(0),indexList:{type:Array,default:function(){const e="A".charCodeAt(0);return Array(26).fill("").map((t,n)=>String.fromCharCode(e+n))}}},ug=Symbol(og);var dg=Bn({name:og,props:cg,emits:["select","change"],setup(e,{emit:t,slots:n}){const i=St(),r=St(),a=St(""),s=yc(),o=ko(i),{children:l,linkChildren:c}=lo(ug);let u;c({props:e});const d=Sa(()=>{if(Ms(e.zIndex))return{zIndex:+e.zIndex+1}}),h=Sa(()=>{if(e.highlightColor)return{color:e.highlightColor}}),p=(t,n)=>{for(let i=l.length-1;i>=0;i--){const r=i>0?n[i-1].height:0;if(t+(e.sticky?r+e.stickyOffsetTop:0)>=n[i].top)return i}return-1},f=e=>l.find(t=>String(t.index)===e),m=()=>{if(jo(i))return;const{sticky:t,indexList:n}=e,r=Eo(o.value),s=ro(o),c=l.map(e=>e.getRect(o.value,s));let d=-1;if(u){const t=f(u);if(t){const n=t.getRect(o.value,s);d=e.sticky&&e.stickyOffsetTop?p(n.top-e.stickyOffsetTop,c):p(n.top,c)}}else d=p(r,c);a.value=n[d],t&&l.forEach((t,n)=>{const{state:i,$el:a}=t;if(n===d||n===d-1){const e=a.getBoundingClientRect();i.left=e.left,i.width=e.width}else i.left=null,i.width=null;if(n===d)i.active=!0,i.top=Math.max(e.stickyOffsetTop,c[n].top-r)+s.top;else if(n===d-1&&""===u){const e=c[d].top-r;i.active=e>0,i.top=e+s.top-c[n].height}else i.active=!1}),u=""},g=()=>{Jt(m)};yo("scroll",m,{target:o,passive:!0}),ai(g),_r(()=>e.indexList,g),_r(a,e=>{e&&t("change",e)});const v=n=>{u=String(n);const i=f(u);if(i){const n=Eo(o.value),r=ro(o),{offsetHeight:a}=document.documentElement;if(i.$el.scrollIntoView(),n===a-r.height)return void m();e.sticky&&e.stickyOffsetTop&&(Io()===a-r.height?Do(Io()):Do(Io()-e.stickyOffsetTop)),t("select",i.index)}},y=e=>{const{index:t}=e.dataset;t&&v(t)},b=e=>{y(e.target)};let _;const T=()=>Qr("div",{ref:r,class:lg("sidebar"),style:d.value,onClick:b,onTouchstartPassive:s.start},[e.indexList.map(e=>{const t=e===a.value;return Qr("span",{class:lg("index",{active:t}),style:t?h.value:void 0,"data-index":e},[e])})]);return Ll({scrollTo:v}),yo("touchmove",e=>{if(s.move(e),s.isVertical()){No(e);const{clientX:t,clientY:n}=e.touches[0],i=document.elementFromPoint(t,n);if(i){const{index:e}=i.dataset;e&&_!==e&&(_=e,y(i))}}},{target:r}),()=>{var t;return Qr("div",{ref:i,class:lg()},[e.teleport?Qr(Tn,{to:e.teleport},{default:()=>[T()]}):T(),null==(t=n.default)?void 0:t.call(n)])}}});const[hg,pg]=ul("index-anchor");var fg=Bn({name:hg,props:{index:Ws},setup(e,{slots:t}){const n=ct({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),i=St(),{parent:r}=ao(ug);if(!r)return;const a=()=>n.active&&r.props.sticky,s=Sa(()=>{const{zIndex:e,highlightColor:t}=r.props;if(a())return Ps(qo(e),{left:n.left?`${n.left}px`:void 0,width:n.width?`${n.width}px`:void 0,transform:n.top?`translate3d(0, ${n.top}px, 0)`:void 0,color:t})});return Ll({state:n,getRect:(e,t)=>{const r=ro(i);return n.rect.height=r.height,e===window||e===document.body?n.rect.top=r.top+Io():n.rect.top=r.top+Eo(e)-t.top,n.rect}}),()=>{const r=a();return Qr("div",{ref:i,style:{height:r?`${n.rect.height}px`:void 0}},[Qr("div",{style:s.value,class:[pg({sticky:r}),{[ml]:r}]},[t.default?t.default():e.index])])}}});const mg=Sl(fg),gg=Sl(dg),[vg,yg,bg]=ul("list");var _g=Bn({name:vg,props:{error:Boolean,offset:Qs(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:Js("down"),loadingText:String,finishedText:String,immediateCheck:Gs},emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:n}){const i=St(e.loading),r=St(),a=St(),s=xu(),o=ko(r),l=Sa(()=>e.scroller||o.value),c=()=>{Jt(()=>{if(i.value||e.finished||e.disabled||e.error||!1===(null==s?void 0:s.value))return;const{direction:n}=e,o=+e.offset,c=ro(l);if(!c.height||jo(r))return;let u=!1;const d=ro(a);u="up"===n?c.top-d.top<=o:d.bottom-c.bottom<=o,u&&(i.value=!0,t("update:loading",!0),t("load"))})},u=()=>{if(e.finished){const t=n.finished?n.finished():e.finishedText;if(t)return Qr("div",{class:yg("finished-text")},[t])}},d=()=>{t("update:error",!1),c()},h=()=>{if(e.error){const t=n.error?n.error():e.errorText;if(t)return Qr("div",{role:"button",class:yg("error-text"),tabindex:0,onClick:d},[t])}},p=()=>{if(i.value&&!e.finished&&!e.disabled)return Qr("div",{class:yg("loading")},[n.loading?n.loading():Qr(ic,{class:yg("loading-icon")},{default:()=>[e.loadingText||bg("loading")]})])};return _r(()=>[e.loading,e.finished,e.error],c),s&&_r(s,e=>{e&&c()}),oi(()=>{i.value=e.loading}),ai(()=>{e.immediateCheck&&c()}),Ll({check:c}),yo("scroll",c,{target:l,passive:!0}),()=>{var t;const s=null==(t=n.default)?void 0:t.call(n),o=Qr("div",{ref:a,class:yg("placeholder")},null);return Qr("div",{ref:r,role:"feed",class:yg(),"aria-busy":i.value},["down"===e.direction?s:o,p(),u(),h(),"up"===e.direction?s:o])}}});const Tg=e("bl",Sl(_g)),[Sg,wg]=ul("nav-bar");var Ag=Bn({name:Sg,props:{title:String,fixed:Boolean,zIndex:Ws,border:Gs,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:Gs},emits:["clickLeft","clickRight"],setup(e,{emit:t,slots:n}){const i=St(),r=Cl(i,wg),a=n=>{e.leftDisabled||t("clickLeft",n)},s=n=>{e.rightDisabled||t("clickRight",n)},o=()=>{const{title:t,fixed:r,border:o,zIndex:l}=e,c=qo(l),u=e.leftArrow||e.leftText||n.left,d=e.rightText||n.right;return Qr("div",{ref:i,style:c,class:[wg({fixed:r}),{[ml]:o,"van-safe-area-top":e.safeAreaInsetTop}]},[Qr("div",{class:wg("content")},[u&&Qr("div",{class:[wg("left",{disabled:e.leftDisabled}),e.clickable&&!e.leftDisabled?bl:""],onClick:a},[n.left?n.left():[e.leftArrow&&Qr(Kl,{class:wg("arrow"),name:"arrow-left"},null),e.leftText&&Qr("span",{class:wg("text")},[e.leftText])]]),Qr("div",{class:[wg("title"),"van-ellipsis"]},[n.title?n.title():t]),d&&Qr("div",{class:[wg("right",{disabled:e.rightDisabled}),e.clickable&&!e.rightDisabled?bl:""],onClick:s},[n.right?n.right():Qr("span",{class:wg("text")},[e.rightText])])])])};return()=>e.fixed&&e.placeholder?r(o):o()}});const kg=e("a8",Sl(Ag)),[xg,Cg]=ul("notice-bar");var Eg=Bn({name:xg,props:{text:String,mode:String,color:String,delay:Qs(1),speed:Qs(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}},emits:["close","replay"],setup(e,{emit:t,slots:n}){let i,r=0,a=0;const s=St(),o=St(),l=ct({show:!0,offset:0,duration:0}),c=n=>{"closeable"===e.mode&&(l.show=!1,t("close",n))},u=()=>{if(n["right-icon"])return n["right-icon"]();const t="closeable"===e.mode?"cross":"link"===e.mode?"arrow":void 0;return t?Qr(Kl,{name:t,class:Cg("right-icon"),onClick:c},null):void 0},d=()=>{l.offset=r,l.duration=0,eo(()=>{no(()=>{l.offset=-a,l.duration=(a+r)/+e.speed,t("replay")})})},h=()=>{const t=!1===e.scrollable&&!e.wrapable,i={transform:l.offset?`translateX(${l.offset}px)`:"",transitionDuration:`${l.duration}s`};return Qr("div",{ref:s,role:"marquee",class:Cg("wrap")},[Qr("div",{ref:o,style:i,class:[Cg("content"),{"van-ellipsis":t}],onTransitionend:d},[n.default?n.default():e.text])])},p=()=>{const{delay:t,speed:n,scrollable:c}=e,u=Ms(t)?1e3*+t:0;r=0,a=0,l.offset=0,l.duration=0,clearTimeout(i),i=setTimeout(()=>{if(!s.value||!o.value||!1===c)return;const e=ro(s).width,t=ro(o).width;(c||t>e)&&no(()=>{r=e,a=t,l.offset=-a,l.duration=a/+n})},u)};return kl(p),vo(p),yo("pageshow",p),Ll({reset:p}),_r(()=>[e.text,e.scrollable],p),()=>{const{color:t,wrapable:i,background:r}=e;return un(Qr("div",{role:"alert",class:Cg({wrapable:i}),style:{color:t,background:r}},[n["left-icon"]?n["left-icon"]():e.leftIcon?Qr(Kl,{class:Cg("left-icon"),name:e.leftIcon},null):void 0,h(),u()]),[[Ja,l.show]])}}});const Og=Sl(Eg),[Ig,Dg]=ul("notify"),Pg=["lockScroll","position","show","teleport","zIndex"];var Lg=Bn({name:Ig,props:Ps({},gc,{type:Js("danger"),color:String,message:Ws,position:Js("top"),className:Hs,background:String,lockScroll:Boolean}),emits:["update:show"],setup(e,{emit:t,slots:n}){const i=e=>t("update:show",e);return()=>Qr(Pc,aa({class:[Dg([e.type]),e.className],style:{color:e.color,background:e.background},overlay:!1,duration:.2,"onUpdate:show":i},Vs(e,Pg)),{default:()=>[n.default?n.default():e.message]})}});let Rg,Mg;const Ng=e=>Rs(e)?e:{message:e};let jg={type:"danger",color:void 0,message:"",onClose:void 0,onClick:void 0,onOpened:void 0,duration:3e3,position:void 0,className:"",lockScroll:!1,background:void 0};const Bg=()=>{Mg&&Mg.toggle(!1)};function Fg(e){if(Ls)return Mg||({instance:Mg}=Cd({setup(){const{state:e,toggle:t}=xd();return()=>Qr(Lg,aa(e,{"onUpdate:show":t}),null)}})),e=Ps({},jg,Ng(e)),Mg.open(e),clearTimeout(Rg),e.duration>0&&(Rg=setTimeout(Bg,e.duration)),Mg}const Ug=Sl(Lg),[$g,Vg]=ul("key"),qg=Qr("svg",{class:Vg("collapse-icon"),viewBox:"0 0 30 24"},[Qr("path",{d:"M26 13h-2v2h2v-2zm-8-3h2V8h-2v2zm2-4h2V4h-2v2zm2 4h4V4h-2v4h-2v2zm-7 14 3-3h-6l3 3zM6 13H4v2h2v-2zm16 0H8v2h14v-2zm-12-3h2V8h-2v2zM28 0l1 1 1 1v15l-1 2H1l-1-2V2l1-1 1-1zm0 2H2v15h26V2zM6 4v2H4V4zm10 2h2V4h-2v2zM8 9v1H4V8zm8 0v1h-2V8zm-6-5v2H8V4zm4 0v2h-2V4z",fill:"currentColor"},null)]),zg=Qr("svg",{class:Vg("delete-icon"),viewBox:"0 0 32 22"},[Qr("path",{d:"M28 0a4 4 0 0 1 4 4v14a4 4 0 0 1-4 4H10.4a2 2 0 0 1-1.4-.6L1 13.1c-.6-.5-.9-1.3-.9-2 0-1 .3-1.7.9-2.2L9 .6a2 2 0 0 1 1.4-.6zm0 2H10.4l-8.2 8.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7l8.2 8.4H28a2 2 0 0 0 2-2V4c0-1.1-.9-2-2-2zm-5 4a1 1 0 0 1 .7.3 1 1 0 0 1 0 1.4L20.4 11l3.3 3.3c.2.2.3.5.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3L19 12.4l-3.4 3.3a1 1 0 0 1-.6.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.2.1-.5.3-.7l3.3-3.3-3.3-3.3A1 1 0 0 1 14 7c0-.3.1-.5.3-.7A1 1 0 0 1 15 6a1 1 0 0 1 .6.3L19 9.6l3.3-3.3A1 1 0 0 1 23 6z",fill:"currentColor"},null)]);var Hg=Bn({name:$g,props:{type:String,text:Ws,color:String,wider:Boolean,large:Boolean,loading:Boolean},emits:["press"],setup(e,{emit:t,slots:n}){const i=St(!1),r=yc(),a=e=>{r.start(e),i.value=!0},s=e=>{r.move(e),r.direction.value&&(i.value=!1)},o=r=>{i.value&&(n.default||No(r),i.value=!1,t("press",e.text,e.type))},l=()=>{if(e.loading)return Qr(ic,{class:Vg("loading-icon")},null);const t=n.default?n.default():e.text;switch(e.type){case"delete":return t||zg;case"extra":return t||qg;default:return t}};return()=>Qr("div",{class:Vg("wrapper",{wider:e.wider}),onTouchstartPassive:a,onTouchmovePassive:s,onTouchend:o,onTouchcancel:o},[Qr("div",{role:"button",tabindex:0,class:Vg([e.color,{large:e.large,active:i.value,delete:"delete"===e.type}])},[l()])])}});const[Wg,Gg]=ul("number-keyboard");var Xg=Bn({name:Wg,inheritAttrs:!1,props:{show:Boolean,title:String,theme:Js("default"),zIndex:Ws,teleport:[String,Object],maxlength:Qs(1/0),modelValue:Js(""),transition:Gs,blurOnClose:Gs,showDeleteKey:Gs,randomKeyOrder:Boolean,closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,hideOnClickOutside:Gs,safeAreaInsetBottom:Gs,extraKey:{type:[String,Array],default:""}},emits:["show","hide","blur","input","close","delete","update:modelValue"],setup(e,{emit:t,slots:n,attrs:i}){const r=St(),a=()=>{const t=Array(9).fill("").map((e,t)=>({text:t+1}));return e.randomKeyOrder&&function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}}(t),t},s=Sa(()=>"custom"===e.theme?(()=>{const t=a(),{extraKey:n}=e,i=Array.isArray(n)?n:[n];return 0===i.length?t.push({text:0,wider:!0}):1===i.length?t.push({text:0,wider:!0},{text:i[0],type:"extra"}):2===i.length&&t.push({text:i[0],type:"extra"},{text:0},{text:i[1],type:"extra"}),t})():[...a(),{text:e.extraKey,type:"extra"},{text:0},{text:e.showDeleteKey?e.deleteButtonText:"",type:e.showDeleteKey?"delete":""}]),o=()=>{e.show&&t("blur")},l=()=>{t("close"),e.blurOnClose&&o()},c=()=>t(e.show?"show":"hide"),u=(n,i)=>{if(""===n)return void("extra"===i&&o());const r=e.modelValue;"delete"===i?(t("delete"),t("update:modelValue",r.slice(0,r.length-1))):"close"===i?l():r.length<+e.maxlength&&(t("input",n),t("update:modelValue",r+n))},d=()=>{if("custom"===e.theme)return Qr("div",{class:Gg("sidebar")},[e.showDeleteKey&&Qr(Hg,{large:!0,text:e.deleteButtonText,type:"delete",onPress:u},{default:n.delete}),Qr(Hg,{large:!0,text:e.closeButtonText,type:"close",color:"blue",loading:e.closeButtonLoading,onPress:u},null)])};return _r(()=>e.show,n=>{e.transition||t(n?"show":"hide")}),e.hideOnClickOutside&&bo(r,o,{eventName:"touchstart"}),()=>{const t=(()=>{const{title:t,theme:i,closeButtonText:r}=e,a=n["title-left"],s=r&&"default"===i;if(t||s||a)return Qr("div",{class:Gg("header")},[a&&Qr("span",{class:Gg("title-left")},[a()]),t&&Qr("h2",{class:Gg("title")},[t]),s&&Qr("button",{type:"button",class:[Gg("close"),bl],onClick:l},[r])])})(),a=Qr(Ba,{name:e.transition?"van-slide-up":""},{default:()=>[un(Qr("div",aa({ref:r,style:qo(e.zIndex),class:Gg({unfit:!e.safeAreaInsetBottom,"with-title":!!t}),onAnimationend:c,onTouchstartPassive:Mo},i),[t,Qr("div",{class:Gg("body")},[Qr("div",{class:Gg("keys")},[s.value.map(e=>{const t={};return"delete"===e.type&&(t.default=n.delete),"extra"===e.type&&(t.default=n["extra-key"]),Qr(Hg,{key:e.text,text:e.text,type:e.type,wider:e.wider,color:e.color,onPress:u},t)})]),d()])]),[[Ja,e.show]])]});return e.teleport?Qr(Tn,{to:e.teleport},{default:()=>[a]}):a}}});const Yg=Sl(Xg),[Kg,Qg,Jg]=ul("pagination"),Zg=(e,t,n)=>({number:e,text:t,active:n});var ev=Bn({name:Kg,props:{mode:Js("multi"),prevText:String,nextText:String,pageCount:Qs(0),modelValue:Ks(0),totalItems:Qs(0),showPageSize:Qs(5),itemsPerPage:Qs(10),forceEllipses:Boolean,showPrevButton:Gs,showNextButton:Gs},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=Sa(()=>{const{pageCount:t,totalItems:n,itemsPerPage:i}=e,r=+t||Math.ceil(+n/+i);return Math.max(1,r)}),r=Sa(()=>{const t=[],n=i.value,r=+e.showPageSize,{modelValue:a,forceEllipses:s}=e;let o=1,l=n;const c=r<n;c&&(o=Math.max(a-Math.floor(r/2),1),l=o+r-1,l>n&&(l=n,o=l-r+1));for(let e=o;e<=l;e++){const n=Zg(e,e,e===a);t.push(n)}if(c&&r>0&&s){if(o>1){const e=Zg(o-1,"...");t.unshift(e)}if(l<n){const e=Zg(l+1,"...");t.push(e)}}return t}),a=(n,r)=>{n=Ko(n,1,i.value),e.modelValue!==n&&(t("update:modelValue",n),r&&t("change",n))};br(()=>a(e.modelValue));const s=()=>{const{mode:t,modelValue:i,showPrevButton:r}=e;if(!r)return;const s=n["prev-text"],o=1===i;return Qr("li",{class:[Qg("item",{disabled:o,border:"simple"===t,prev:!0}),gl]},[Qr("button",{type:"button",disabled:o,onClick:()=>a(i-1,!0)},[s?s():e.prevText||Jg("prev")])])},o=()=>{const{mode:t,modelValue:r,showNextButton:s}=e;if(!s)return;const o=n["next-text"],l=r===i.value;return Qr("li",{class:[Qg("item",{disabled:l,border:"simple"===t,next:!0}),gl]},[Qr("button",{type:"button",disabled:l,onClick:()=>a(r+1,!0)},[o?o():e.nextText||Jg("next")])])};return()=>Qr("nav",{role:"navigation",class:Qg()},[Qr("ul",{class:Qg("items")},[s(),"simple"===e.mode?Qr("li",{class:Qg("page-desc")},[n.pageDesc?n.pageDesc():`${e.modelValue}/${i.value}`]):r.value.map(e=>Qr("li",{class:[Qg("item",{active:e.active,page:!0}),gl]},[Qr("button",{type:"button","aria-current":e.active||void 0,onClick:()=>a(e.number,!0)},[n.page?n.page(e):e.text])])),o()])])}});const tv=Sl(ev),[nv,iv]=ul("password-input");var rv=Bn({name:nv,props:{info:String,mask:Gs,value:Js(""),gutter:Ws,length:Qs(6),focused:Boolean,errorInfo:String},emits:["focus"],setup(e,{emit:t}){const n=e=>{e.stopPropagation(),t("focus",e)},i=()=>{const t=[],{mask:n,value:i,gutter:r,focused:a}=e,s=+e.length;for(let e=0;e<s;e++){const s=i[e],o=0!==e&&!r,l=a&&e===i.length;let c;0!==e&&r&&(c={marginLeft:$o(r)}),t.push(Qr("li",{class:[{[pl]:o},iv("item",{focus:l})],style:c},[n?Qr("i",{style:{visibility:s?"visible":"hidden"}},null):s,l&&Qr("div",{class:iv("cursor")},null)]))}return t};return()=>{const t=e.errorInfo||e.info;return Qr("div",{class:iv()},[Qr("ul",{class:[iv("security"),{[gl]:!e.gutter}],onTouchstartPassive:n},[i()]),t&&Qr("div",{class:iv(e.errorInfo?"error-info":"info")},[t])])}}});const av=Sl(rv),sv=Sl(Vu);function ov(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function lv(e){return e instanceof ov(e).Element||e instanceof Element}function cv(e){return e instanceof ov(e).HTMLElement||e instanceof HTMLElement}function uv(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ov(e).ShadowRoot||e instanceof ShadowRoot)}var dv=Math.round;function hv(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function pv(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,a=1;t&&cv(e)&&(r=e.offsetWidth>0&&dv(i.width)/e.offsetWidth||1,a=e.offsetHeight>0&&dv(i.height)/e.offsetHeight||1);var s=(lv(e)?ov(e):window).visualViewport,o=!!/^((?!chrome|android).)*safari/i.test(hv())&&n,l=(i.left+(o&&s?s.offsetLeft:0))/r,c=(i.top+(o&&s?s.offsetTop:0))/a,u=i.width/r,d=i.height/a;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function fv(e){var t=ov(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function mv(e){return e?(e.nodeName||"").toLowerCase():null}function gv(e){return((lv(e)?e.ownerDocument:e.document)||window.document).documentElement}function vv(e){return ov(e).getComputedStyle(e)}function yv(e){var t=vv(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function bv(e,t,n){void 0===n&&(n=!1);var i,r,a=cv(t),s=cv(t)&&function(e){var t=e.getBoundingClientRect(),n=dv(t.width)/e.offsetWidth||1,i=dv(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),o=gv(t),l=pv(e,s,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(a||!a&&!n)&&(("body"!==mv(t)||yv(o))&&(c=(i=t)!==ov(i)&&cv(i)?{scrollLeft:(r=i).scrollLeft,scrollTop:r.scrollTop}:fv(i)),cv(t)?((u=pv(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=function(e){return pv(gv(e)).left+fv(e).scrollLeft}(o))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function _v(e){var t=pv(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Tv(e){return"html"===mv(e)?e:e.assignedSlot||e.parentNode||(uv(e)?e.host:null)||gv(e)}function Sv(e){return["html","body","#document"].indexOf(mv(e))>=0?e.ownerDocument.body:cv(e)&&yv(e)?e:Sv(Tv(e))}function wv(e,t){var n;void 0===t&&(t=[]);var i=Sv(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),a=ov(i),s=r?[a].concat(a.visualViewport||[],yv(i)?i:[]):i,o=t.concat(s);return r?o:o.concat(wv(Tv(s)))}function Av(e){return["table","td","th"].indexOf(mv(e))>=0}function kv(e){return cv(e)&&"fixed"!==vv(e).position?e.offsetParent:null}function xv(e){for(var t=ov(e),n=kv(e);n&&Av(n)&&"static"===vv(n).position;)n=kv(n);return n&&("html"===mv(n)||"body"===mv(n)&&"static"===vv(n).position)?t:n||function(e){var t=/firefox/i.test(hv());if(/Trident/i.test(hv())&&cv(e)&&"fixed"===vv(e).position)return null;var n=Tv(e);for(uv(n)&&(n=n.host);cv(n)&&["html","body"].indexOf(mv(n))<0;){var i=vv(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var Cv="top",Ev="bottom",Ov="right",Iv="left",Dv="auto",Pv="start",Lv="end",Rv=[].concat([Cv,Ev,Ov,Iv],[Dv]).reduce(function(e,t){return e.concat([t,t+"-"+Pv,t+"-"+Lv])},[]),Mv=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Nv(e){var t=new Map,n=new Set,i=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var i=t.get(e);i&&r(i)}}),i.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||r(e)}),i}function jv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return[].concat(n).reduce(function(e,t){return e.replace(/%s/,t)},e)}var Bv='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',Fv=["name","enabled","phase","fn","effect","requires","options"];function Uv(e){return e.split("-")[0]}function $v(e){return e.split("-")[1]}var Vv="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",qv={placement:"bottom",modifiers:[],strategy:"absolute"};function zv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function Hv(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,r=t.defaultOptions,a=void 0===r?qv:r;return function(e,t,n){void 0===n&&(n=a);var r,s,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},qv,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:o,setOptions:function(n){var r="function"==typeof n?n(o.options):n;d(),o.options=Object.assign({},a,o.options,r),o.scrollParents={reference:lv(e)?wv(e):e.contextElement?wv(e.contextElement):[],popper:wv(t)};var s=function(e){var t=Nv(e);return Mv.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(i,o.options.modifiers)));o.orderedModifiers=s.filter(function(e){return e.enabled}),function(e){e.forEach(function(t){[].concat(Object.keys(t),Fv).filter(function(e,t,n){return n.indexOf(e)===t}).forEach(function(n){switch(n){case"name":"string"!=typeof t.name&&console.error(jv(Bv,String(t.name),'"name"','"string"','"'+String(t.name)+'"'));break;case"enabled":"boolean"!=typeof t.enabled&&console.error(jv(Bv,t.name,'"enabled"','"boolean"','"'+String(t.enabled)+'"'));break;case"phase":Mv.indexOf(t.phase)<0&&console.error(jv(Bv,t.name,'"phase"',"either "+Mv.join(", "),'"'+String(t.phase)+'"'));break;case"fn":"function"!=typeof t.fn&&console.error(jv(Bv,t.name,'"fn"','"function"','"'+String(t.fn)+'"'));break;case"effect":null!=t.effect&&"function"!=typeof t.effect&&console.error(jv(Bv,t.name,'"effect"','"function"','"'+String(t.fn)+'"'));break;case"requires":null==t.requires||Array.isArray(t.requires)||console.error(jv(Bv,t.name,'"requires"','"array"','"'+String(t.requires)+'"'));break;case"requiresIfExists":Array.isArray(t.requiresIfExists)||console.error(jv(Bv,t.name,'"requiresIfExists"','"array"','"'+String(t.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+t.name+'" modifier, valid properties are '+Fv.map(function(e){return'"'+e+'"'}).join(", ")+'; but "'+n+'" was provided.')}t.requires&&t.requires.forEach(function(n){null==e.find(function(e){return e.name===n})&&console.error(jv('Popper: modifier "%s" requires "%s", but "%s" modifier is not available',String(t.name),n,n))})})})}((c=[].concat(s,o.options.modifiers),h=function(e){return e.name},p=new Set,c.filter(function(e){var t=h(e);if(!p.has(t))return p.add(t),!0}))),Uv(o.options.placement)===Dv&&(o.orderedModifiers.find(function(e){return"flip"===e.name})||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" ")));var c,h,p,f=vv(t);return[f.marginTop,f.marginRight,f.marginBottom,f.marginLeft].some(function(e){return parseFloat(e)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" ")),o.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"==typeof r){var a=r({state:o,name:t,instance:u,options:i}),s=function(){};l.push(a||s)}}),u.update()},forceUpdate:function(){if(!c){var e=o.elements,t=e.reference,n=e.popper;if(zv(t,n)){o.rects={reference:bv(t,xv(n),"fixed"===o.options.strategy),popper:_v(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var i=0,r=0;r<o.orderedModifiers.length;r++){if((i+=1)>100){console.error("Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.");break}if(!0!==o.reset){var a=o.orderedModifiers[r],s=a.fn,l=a.options,d=void 0===l?{}:l,h=a.name;"function"==typeof s&&(o=s({state:o,options:d,name:h,instance:u})||o)}else o.reset=!1,r=-1}}else console.error(Vv)}},update:(r=function(){return new Promise(function(e){u.forceUpdate(),e(o)})},function(){return s||(s=new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(r())})})),s}),destroy:function(){d(),c=!0}};if(!zv(e,t))return console.error(Vv),u;function d(){l.forEach(function(e){return e()}),l=[]}return u.setOptions(n).then(function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)}),u}}var Wv={passive:!0},Gv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,a=void 0===r||r,s=i.resize,o=void 0===s||s,l=ov(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach(function(e){e.addEventListener("scroll",n.update,Wv)}),o&&l.addEventListener("resize",n.update,Wv),function(){a&&c.forEach(function(e){e.removeEventListener("scroll",n.update,Wv)}),o&&l.removeEventListener("resize",n.update,Wv)}},data:{}},Xv={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=function(e){var t,n=e.reference,i=e.element,r=e.placement,a=r?Uv(r):null,s=r?$v(r):null,o=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(a){case Cv:t={x:o,y:n.y-i.height};break;case Ev:t={x:o,y:n.y+n.height};break;case Ov:t={x:n.x+n.width,y:l};break;case Iv:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=a?function(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}(a):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Pv:t[c]=t[c]-(n[u]/2-i[u]/2);break;case Lv:t[c]=t[c]+(n[u]/2-i[u]/2)}}return t}({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},Yv={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Kv(e){var t,n=e.popper,i=e.popperRect,r=e.placement,a=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"==typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=Iv,_=Cv,T=window;if(c){var S=xv(n),w="clientHeight",A="clientWidth";S===ov(n)&&"static"!==vv(S=gv(n)).position&&"absolute"===o&&(w="scrollHeight",A="scrollWidth"),(r===Cv||(r===Iv||r===Ov)&&a===Lv)&&(_=Ev,m-=(d&&S===T&&T.visualViewport?T.visualViewport.height:S[w])-i.height,m*=l?1:-1),r!==Iv&&(r!==Cv&&r!==Ev||a!==Lv)||(b=Ov,p-=(d&&S===T&&T.visualViewport?T.visualViewport.width:S[A])-i.width,p*=l?1:-1)}var k,x=Object.assign({position:o},c&&Yv),C=!0===u?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:dv(t*i)/i||0,y:dv(n*i)/i||0}}({x:p,y:m}):{x:p,y:m};return p=C.x,m=C.y,l?Object.assign({},x,((k={})[_]=y?"0":"",k[b]=v?"0":"",k.transform=(T.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",k)):Object.assign({},x,((t={})[_]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}var Qv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,a=n.adaptive,s=void 0===a||a,o=n.roundOffsets,l=void 0===o||o,c=vv(t.elements.popper).transitionProperty||"";s&&["transform","top","right","bottom","left"].some(function(e){return c.indexOf(e)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',"\n\n",'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.","\n\n","We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "));var u={placement:Uv(t.placement),variation:$v(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Kv(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Kv(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Jv={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},r=t.elements[e];cv(r)&&mv(r)&&(Object.assign(r.style,n),Object.keys(i).forEach(function(e){var t=i[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var i=t.elements[e],r=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});cv(i)&&mv(i)&&(Object.assign(i.style,a),Object.keys(r).forEach(function(e){i.removeAttribute(e)}))})}},requires:["computeStyles"]},Zv=Hv({defaultModifiers:[Gv,Xv,Qv,Jv]}),ey={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,r=n.offset,a=void 0===r?[0,0]:r,s=Rv.reduce(function(e,n){return e[n]=function(e,t,n){var i=Uv(e),r=[Iv,Cv].indexOf(i)>=0?-1:1,a="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=a[0],o=a[1];return s=s||0,o=(o||0)*r,[Iv,Ov].indexOf(i)>=0?{x:o,y:s}:{x:s,y:o}}(n,t.rects,a),e},{}),o=s[t.placement],l=o.x,c=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}};const[ty,ny]=ul("popover"),iy=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"];var ry=Bn({name:ty,props:{show:Boolean,theme:Js("light"),overlay:Boolean,actions:Ys(),actionsDirection:Js("vertical"),trigger:Js("click"),duration:Ws,showArrow:Gs,placement:Js("bottom"),iconPrefix:String,overlayClass:Hs,overlayStyle:Object,closeOnClickAction:Gs,closeOnClickOverlay:Gs,closeOnClickOutside:Gs,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}},emits:["select","touchstart","update:show"],setup(e,{emit:t,slots:n,attrs:i}){let r;const a=St(),s=St(),o=St(),l=tu(()=>e.show,e=>t("update:show",e)),c=()=>({placement:e.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},Ps({},ey,{options:{offset:e.offset}})]}),u=()=>{Jt(()=>{l.value&&(r?r.setOptions(c()):(r=s.value&&o.value?Zv(s.value,o.value.popupRef.value,c()):null,Ls&&(window.addEventListener("animationend",u),window.addEventListener("transitionend",u))))})},d=e=>{l.value=e},h=()=>{"click"===e.trigger&&(l.value=!l.value)},p=(t,i)=>n.action?n.action({action:t,index:i}):[t.icon&&Qr(Kl,{name:t.icon,classPrefix:e.iconPrefix,class:ny("action-icon")},null),Qr("div",{class:[ny("action-text"),{[ml]:"vertical"===e.actionsDirection}]},[t.text])],f=(n,i)=>{const{icon:r,color:a,disabled:s,className:o}=n;return Qr("div",{role:"menuitem",class:[ny("action",{disabled:s,"with-icon":r}),{[fl]:"horizontal"===e.actionsDirection},o],style:{color:a},tabindex:s?void 0:0,"aria-disabled":s||void 0,onClick:()=>((n,i)=>{n.disabled||(t("select",n,i),e.closeOnClickAction&&(l.value=!1))})(n,i)},[p(n,i)])};return ai(()=>{u(),br(()=>{var e;a.value=null==(e=o.value)?void 0:e.popupRef.value})}),li(()=>{r&&(Ls&&(window.removeEventListener("animationend",u),window.removeEventListener("transitionend",u)),r.destroy(),r=null)}),_r(()=>[l.value,e.offset,e.placement],u),bo([s,a],()=>{l.value&&e.closeOnClickOutside&&(!e.overlay||e.closeOnClickOverlay)&&(l.value=!1)},{eventName:"touchstart"}),()=>{var t;return Qr(Rr,null,[Qr("span",{ref:s,class:ny("wrapper"),onClick:h},[null==(t=n.reference)?void 0:t.call(n)]),Qr(Pc,aa({ref:o,show:l.value,class:ny([e.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":d},i,wc(),Vs(e,iy)),{default:()=>[e.showArrow&&Qr("div",{class:ny("arrow")},null),Qr("div",{role:"menu",class:ny("content",e.actionsDirection)},[n.default?n.default():e.actions.map(f)])]})])}}});const ay=Sl(ry),[sy,oy]=ul("progress"),ly={color:String,inactive:Boolean,pivotText:String,textColor:String,showPivot:Gs,pivotColor:String,trackColor:String,strokeWidth:Ws,percentage:{type:Ws,default:0,validator:e=>+e>=0&&+e<=100}};var cy=Bn({name:sy,props:ly,setup(e){const t=Sa(()=>e.inactive?void 0:e.color),n=e=>Math.min(Math.max(+e,0),100),i=()=>{const{textColor:i,pivotText:r,pivotColor:a,percentage:s}=e,o=n(s),l=null!=r?r:`${s}%`;if(e.showPivot&&l){const n={color:i,left:`${o}%`,transform:`translate(-${o}%,-50%)`,background:a||t.value};return Qr("span",{style:n,class:oy("pivot",{inactive:e.inactive})},[l])}};return()=>{const{trackColor:r,percentage:a,strokeWidth:s}=e,o=n(a),l={background:r,height:$o(s)},c={width:`${o}%`,background:t.value};return Qr("div",{class:oy(),style:l},[Qr("span",{class:oy("portion",{inactive:e.inactive}),style:c},null),i()])}}});const uy=e("b4",Sl(cy)),[dy,hy,py]=ul("pull-refresh"),fy=["pulling","loosing","success"];var my=Bn({name:dy,props:{disabled:Boolean,modelValue:Boolean,headHeight:Qs(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:Ws,successDuration:Qs(500),animationDuration:Qs(300)},emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:n}){let i;const r=St(),a=St(),s=ko(r),o=ct({status:"normal",distance:0,duration:0}),l=yc(),c=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},u=()=>"loading"!==o.status&&"success"!==o.status&&!e.disabled,d=(n,i)=>{const r=+(e.pullDistance||e.headHeight);o.distance=n,o.status=i?"loading":0===n?"normal":n<r?"pulling":"loosing",t("change",{status:o.status,distance:n})},h=()=>{const{status:t}=o;return"normal"===t?"":e[`${t}Text`]||py(t)},p=()=>{const{status:e,distance:t}=o;if(n[e])return n[e]({distance:t});const i=[];return fy.includes(e)&&i.push(Qr("div",{class:hy("text")},[h()])),"loading"===e&&i.push(Qr(ic,{class:hy("loading")},{default:h})),i},f=e=>{i=0===Eo(s.value),i&&(o.duration=0,l.start(e))},m=e=>{u()&&f(e)},g=()=>{i&&l.deltaY.value&&u()&&(o.duration=+e.animationDuration,"loosing"===o.status?(d(+e.headHeight,!0),t("update:modelValue",!0),Jt(()=>t("refresh"))):d(0))};return _r(()=>e.modelValue,t=>{o.duration=+e.animationDuration,t?d(+e.headHeight,!0):n.success||e.successText?(o.status="success",setTimeout(()=>{d(0)},+e.successDuration)):d(0,!1)}),yo("touchmove",t=>{if(u()){i||f(t);const{deltaY:n}=l;l.move(t),i&&n.value>=0&&l.isVertical()&&(No(t),d((t=>{const n=+(e.pullDistance||e.headHeight);return t>n&&(t=t<2*n?n+(t-n)/2:1.5*n+(t-2*n)/4),Math.round(t)})(n.value)))}},{target:a}),()=>{var e;const t={transitionDuration:`${o.duration}ms`,transform:o.distance?`translate3d(0,${o.distance}px, 0)`:""};return Qr("div",{ref:r,class:hy()},[Qr("div",{ref:a,class:hy("track"),style:t,onTouchstartPassive:m,onTouchend:g,onTouchcancel:g},[Qr("div",{class:hy("head"),style:c()},[p()]),null==(e=n.default)?void 0:e.call(n)])])}}});const gy=Sl(my),[vy,yy]=ul("rate");var by=Bn({name:vy,props:{size:Ws,icon:Js("star"),color:String,count:Qs(5),gutter:Ws,clearable:Boolean,readonly:Boolean,disabled:Boolean,voidIcon:Js("star-o"),allowHalf:Boolean,voidColor:String,touchable:Gs,iconPrefix:String,modelValue:Ks(0),disabledColor:String},emits:["change","update:modelValue"],setup(e,{emit:t}){const n=yc(),[i,r]=ru(),a=St(),s=Sa(()=>e.readonly||e.disabled),o=Sa(()=>s.value||!e.touchable),l=Sa(()=>Array(+e.count).fill("").map((t,n)=>function(e,t,n,i){if(e>=t)return{status:"full",value:1};if(e+.5>=t&&n&&!i)return{status:"half",value:.5};if(e+1>=t&&n&&i){const n=10**10;return{status:"half",value:Math.round((e-t+1)*n)/n}}return{status:"void",value:0}}(e.modelValue,n+1,e.allowHalf,e.readonly)));let c,u,d=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;const p=()=>{u=ro(a);const t=i.value.map(ro);c=[],t.forEach((t,n)=>{d=Math.min(t.top,d),h=Math.max(t.top,h),e.allowHalf?c.push({score:n+.5,left:t.left,top:t.top,height:t.height},{score:n+1,left:t.left+t.width/2,top:t.top,height:t.height}):c.push({score:n+1,left:t.left,top:t.top,height:t.height})})},f=(t,n)=>{for(let e=c.length-1;e>0;e--)if(n>=u.top&&n<=u.bottom){if(t>c[e].left&&n>=c[e].top&&n<=c[e].top+c[e].height)return c[e].score}else{const i=n<u.top?d:h;if(t>c[e].left&&c[e].top===i)return c[e].score}return e.allowHalf?.5:1},m=n=>{s.value||n===e.modelValue||(t("update:modelValue",n),t("change",n))},g=e=>{o.value||(n.start(e),p())},v=(t,i)=>{const{icon:a,size:s,color:o,count:l,gutter:c,voidIcon:u,disabled:d,voidColor:h,allowHalf:g,iconPrefix:v,disabledColor:y}=e,b=i+1,_="full"===t.status,T="void"===t.status,S=g&&t.value>0&&t.value<1;let w;return c&&b!==+l&&(w={paddingRight:$o(c)}),Qr("div",{key:i,ref:r(i),role:"radio",style:w,class:yy("item"),tabindex:d?void 0:0,"aria-setsize":l,"aria-posinset":b,"aria-checked":!T,onClick:t=>{p();let i=g?f(t.clientX,t.clientY):b;e.clearable&&n.isTap.value&&i===e.modelValue&&(i=0),m(i)}},[Qr(Kl,{size:s,name:_?a:u,class:yy("icon",{disabled:d,full:_}),color:d?y:_?o:h,classPrefix:v},null),S&&Qr(Kl,{size:s,style:{width:t.value+"em"},name:T?u:a,class:yy("icon",["half",{disabled:d,full:!T}]),color:d?y:T?h:o,classPrefix:v},null)])};return Co(()=>e.modelValue),yo("touchmove",e=>{if(!o.value&&(n.move(e),n.isHorizontal()&&!n.isTap.value)){const{clientX:t,clientY:n}=e.touches[0];No(e),m(f(t,n))}},{target:a}),()=>Qr("div",{ref:a,role:"radiogroup",class:yy({readonly:e.readonly,disabled:e.disabled}),tabindex:e.disabled?void 0:0,"aria-disabled":e.disabled,"aria-readonly":e.readonly,onTouchstartPassive:g},[l.value.map(v)])}});const _y=Sl(by),Ty={figureArr:Ys(),delay:Number,duration:Ks(2),isStart:Boolean,direction:Js("down"),height:Ks(40)},[Sy,wy]=ul("rolling-text-item");var Ay=Bn({name:Sy,props:Ty,setup(e){const t=Sa(()=>"down"===e.direction?e.figureArr.slice().reverse():e.figureArr),n=Sa(()=>`-${e.height*(e.figureArr.length-1)}px`),i=Sa(()=>({lineHeight:$o(e.height)})),r=Sa(()=>({height:$o(e.height),"--van-translate":n.value,"--van-duration":e.duration+"s","--van-delay":e.delay+"s"}));return()=>Qr("div",{class:wy([e.direction]),style:r.value},[Qr("div",{class:wy("box",{animate:e.isStart})},[Array.isArray(t.value)&&t.value.map(e=>Qr("div",{class:wy("item"),style:i.value},[e]))])])}});const[ky,xy]=ul("rolling-text"),Cy={startNum:Ks(0),targetNum:Number,textList:Ys(),duration:Ks(2),autoStart:Gs,direction:Js("down"),stopOrder:Js("ltr"),height:Ks(40)};var Ey=Bn({name:ky,props:Cy,setup(e){const t=Sa(()=>Array.isArray(e.textList)&&e.textList.length),n=Sa(()=>t.value?e.textList[0].length:`${Math.max(e.startNum,e.targetNum)}`.length),i=t=>{const n=[];for(let i=0;i<e.textList.length;i++)n.push(e.textList[i][t]);return n},r=Sa(()=>t.value?new Array(n.value).fill(""):Yo(e.targetNum,n.value).split("")),a=Sa(()=>Yo(e.startNum,n.value).split("")),s=e=>{const t=+a.value[e],n=+r.value[e],i=[];for(let r=t;r<=9;r++)i.push(r);for(let r=0;r<=2;r++)for(let e=0;e<=9;e++)i.push(e);for(let r=0;r<=n;r++)i.push(r);return i},o=(t,n)=>"ltr"===e.stopOrder?.2*t:.2*(n-1-t),l=St(e.autoStart),c=()=>{l.value=!0};return _r(()=>e.autoStart,e=>{e&&c()}),Ll({start:c,reset:()=>{l.value=!1,e.autoStart&&eo(()=>c())}}),()=>Qr("div",{class:xy()},[r.value.map((r,a)=>Qr(Ay,{figureArr:t.value?i(a):s(a),duration:e.duration,direction:e.direction,isStart:l.value,height:e.height,delay:o(a,n.value)},null))])}});const Oy=Sl(Ey),Iy=e("aY",Sl(Hp)),[Dy,Py,Ly]=ul("search");var Ry=Bn({name:Dy,props:Ps({},yd,{label:String,shape:Js("square"),leftIcon:Js("search"),clearable:Gs,actionText:String,background:String,showAction:Boolean}),emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:n,attrs:i}){const r=iu(),a=St(),s=()=>{n.action||(t("update:modelValue",""),t("cancel"))},o=n=>{13===n.keyCode&&(No(n),t("search",e.modelValue))},l=()=>e.id||`${r}-input`,c=()=>{if(n.label||e.label)return Qr("label",{class:Py("label"),for:l(),"data-allow-mismatch":"attribute"},[n.label?n.label():e.label])},u=()=>{if(e.showAction){const t=e.actionText||Ly("cancel");return Qr("div",{class:Py("action"),role:"button",tabindex:0,onClick:s},[n.action?n.action():t])}},d=e=>t("blur",e),h=e=>t("focus",e),p=e=>t("clear",e),f=e=>t("clickInput",e),m=e=>t("clickLeftIcon",e),g=e=>t("clickRightIcon",e),v=Object.keys(yd),y=()=>{const r=Ps({},i,Vs(e,v),{id:l()});return Qr(_d,aa({ref:a,type:"search",class:Py("field",{"with-message":r.errorMessage}),border:!1,onBlur:d,onFocus:h,onClear:p,onKeypress:o,onClickInput:f,onClickLeftIcon:m,onClickRightIcon:g,"onUpdate:modelValue":e=>t("update:modelValue",e)},r),Vs(n,["left-icon","right-icon"]))};return Ll({focus:()=>{var e;return null==(e=a.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=a.value)?void 0:e.blur()}}),()=>{var t;return Qr("div",{class:Py({"show-action":e.showAction}),style:{background:e.background}},[null==(t=n.left)?void 0:t.call(n),Qr("div",{class:Py("content",e.shape)},[c(),y()]),u()])}}});const My=e("ak",Sl(Ry)),Ny=[...vc,"round","closeOnPopstate","safeAreaInsetBottom"],jy={qq:"qq",link:"link-o",weibo:"weibo",qrcode:"qr",poster:"photo-o",wechat:"wechat","weapp-qrcode":"miniprogram-o","wechat-moments":"wechat-moments"},[By,Fy,Uy]=ul("share-sheet");var $y=Bn({name:By,props:Ps({},gc,{title:String,round:Gs,options:Ys(),cancelText:String,description:String,closeOnPopstate:Gs,safeAreaInsetBottom:Gs}),emits:["cancel","select","update:show"],setup(e,{emit:t,slots:n}){const i=e=>t("update:show",e),r=()=>{i(!1),t("cancel")},a=()=>{const t=n.title?n.title():e.title,i=n.description?n.description():e.description;if(t||i)return Qr("div",{class:Fy("header")},[t&&Qr("h2",{class:Fy("title")},[t]),i&&Qr("span",{class:Fy("description")},[i])])},s=e=>{return(null==(t=e)?void 0:t.includes("/"))?Qr("img",{src:e,class:Fy("image-icon")},null):Qr("div",{class:Fy("icon",[e])},[Qr(Kl,{name:jy[e]||e},null)]);var t},o=(e,n)=>{const{name:i,icon:r,className:a,description:o}=e;return Qr("div",{role:"button",tabindex:0,class:[Fy("option"),a,bl],onClick:()=>((e,n)=>t("select",e,n))(e,n)},[s(r),i&&Qr("span",{class:Fy("name")},[i]),o&&Qr("span",{class:Fy("option-description")},[o])])},l=(e,t)=>Qr("div",{class:Fy("options",{border:t})},[e.map(o)]),c=()=>{const{options:t}=e;return Array.isArray(t[0])?t.map((e,t)=>l(e,0!==t)):l(t)},u=()=>{var t;const i=null!=(t=e.cancelText)?t:Uy("cancel");if(n.cancel||i)return Qr("button",{type:"button",class:Fy("cancel"),onClick:r},[n.cancel?n.cancel():i])};return()=>Qr(Pc,aa({class:Fy(),position:"bottom","onUpdate:show":i},Vs(e,Ny)),{default:()=>[a(),c(),u()]})}});const Vy=Sl($y),[qy,zy]=ul("sidebar"),Hy=Symbol(qy);var Wy=Bn({name:qy,props:{modelValue:Qs(0)},emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const{linkChildren:i}=lo(Hy),r=()=>+e.modelValue;return i({getActive:r,setActive:e=>{e!==r()&&(t("update:modelValue",e),t("change",e))}}),()=>{var e;return Qr("div",{role:"tablist",class:zy()},[null==(e=n.default)?void 0:e.call(n)])}}});const Gy=Sl(Wy),[Xy,Yy]=ul("sidebar-item");var Ky=Bn({name:Xy,props:Ps({},Rl,{dot:Boolean,title:String,badge:Ws,disabled:Boolean,badgeProps:Object}),emits:["click"],setup(e,{emit:t,slots:n}){const i=Nl(),{parent:r,index:a}=ao(Hy);if(!r)return;const s=()=>{e.disabled||(t("click",a.value),r.setActive(a.value),i())};return()=>{const{dot:t,badge:i,title:o,disabled:l}=e,c=a.value===r.getActive();return Qr("div",{role:"tab",class:Yy({select:c,disabled:l}),tabindex:l?void 0:0,"aria-selected":c,onClick:s},[Qr(Ul,aa({dot:t,class:Yy("text"),content:i},e.badgeProps),{default:()=>[n.title?n.title():o]})])}}});const Qy=Sl(Ky),[Jy,Zy,eb]=ul("signature"),tb={tips:String,type:Js("png"),penColor:Js("#000"),lineWidth:Ks(3),clearButtonText:String,backgroundColor:Js(""),confirmButtonText:String};var nb=Bn({name:Jy,props:tb,emits:["submit","clear","start","end","signing"],setup(e,{emit:t,slots:n}){const i=St(),r=St(),a=Sa(()=>i.value?i.value.getContext("2d"):null),s=!Ls||(()=>{var e;const t=document.createElement("canvas");return!!(null==(e=t.getContext)?void 0:e.call(t,"2d"))})();let o,l=0,c=0;const u=()=>{if(!a.value)return!1;a.value.beginPath(),a.value.lineWidth=e.lineWidth,a.value.strokeStyle=e.penColor,o=ro(i),t("start")},d=e=>{if(!a.value)return!1;No(e);const n=e.touches[0],i=n.clientX-((null==o?void 0:o.left)||0),r=n.clientY-((null==o?void 0:o.top)||0);a.value.lineCap="round",a.value.lineJoin="round",a.value.lineTo(i,r),a.value.stroke(),t("signing",e)},h=e=>{No(e),t("end")},p=t=>{t&&e.backgroundColor&&(t.fillStyle=e.backgroundColor,t.fillRect(0,0,l,c))},f=()=>{var n,r;const a=i.value;if(!a)return;const s=(t=>{const n=document.createElement("canvas");if(n.width=t.width,n.height=t.height,e.backgroundColor){const e=n.getContext("2d");p(e)}return t.toDataURL()===n.toDataURL()})(a),o=s?"":(null==(r=(n={jpg:()=>a.toDataURL("image/jpeg",.8),jpeg:()=>a.toDataURL("image/jpeg",.8)})[e.type])?void 0:r.call(n))||a.toDataURL(`image/${e.type}`);t("submit",{image:o,canvas:a})},m=()=>{a.value&&(a.value.clearRect(0,0,l,c),a.value.closePath(),p(a.value)),t("clear")},g=()=>{var e,t,n;if(s&&i.value){const s=i.value,o=Ls?window.devicePixelRatio:1;l=s.width=((null==(e=r.value)?void 0:e.offsetWidth)||0)*o,c=s.height=((null==(t=r.value)?void 0:t.offsetHeight)||0)*o,null==(n=a.value)||n.scale(o,o),p(a.value)}},v=()=>{if(a.value){const e=a.value.getImageData(0,0,l,c);g(),a.value.putImageData(e,0,0)}};return _r(Bo,v),ai(g),Ll({resize:v,clear:m,submit:f}),()=>Qr("div",{class:Zy()},[Qr("div",{class:Zy("content"),ref:r},[s?Qr("canvas",{ref:i,onTouchstartPassive:u,onTouchmove:d,onTouchend:h},null):n.tips?n.tips():Qr("p",null,[e.tips])]),Qr("div",{class:Zy("footer")},[Qr(oc,{size:"small",onClick:m},{default:()=>[e.clearButtonText||eb("clear")]}),Qr(oc,{type:"primary",size:"small",onClick:f},{default:()=>[e.confirmButtonText||eb("confirm")]})])])}});const ib=Sl(nb),[rb,ab]=ul("skeleton-title");var sb=Bn({name:rb,props:{round:Boolean,titleWidth:Ws},setup:e=>()=>Qr("h3",{class:ab([{round:e.round}]),style:{width:$o(e.titleWidth)}},null)});const ob=Sl(sb);var lb=ob;const[cb,ub]=ul("skeleton-avatar");var db=Bn({name:cb,props:{avatarSize:Ws,avatarShape:Js("round")},setup:e=>()=>Qr("div",{class:ub([e.avatarShape]),style:Vo(e.avatarSize)},null)});const hb=Sl(db);var pb=hb;const fb="100%",mb={round:Boolean,rowWidth:{type:Ws,default:fb}},[gb,vb]=ul("skeleton-paragraph");var yb=Bn({name:gb,props:mb,setup:e=>()=>Qr("div",{class:vb([{round:e.round}]),style:{width:e.rowWidth}},null)});const bb=Sl(yb);var _b=bb;const[Tb,Sb]=ul("skeleton");var wb=Bn({name:Tb,inheritAttrs:!1,props:{row:Qs(0),round:Boolean,title:Boolean,titleWidth:Ws,avatar:Boolean,avatarSize:Ws,avatarShape:Js("round"),loading:Gs,animate:Gs,rowWidth:{type:[Number,String,Array],default:fb}},setup(e,{slots:t,attrs:n}){const i=()=>{if(e.avatar)return Qr(pb,{avatarShape:e.avatarShape,avatarSize:e.avatarSize},null)},r=()=>{if(e.title)return Qr(lb,{round:e.round,titleWidth:e.titleWidth},null)},a=t=>{const{rowWidth:n}=e;return n===fb&&t===+e.row-1?"60%":Array.isArray(n)?n[t]:n};return()=>{var s;return e.loading?Qr("div",aa({class:Sb({animate:e.animate,round:e.round})},n),[t.template?t.template():Qr(Rr,null,[i(),Qr("div",{class:Sb("content")},[r(),Array(+e.row).fill("").map((t,n)=>Qr(_b,{key:n,round:e.round,rowWidth:$o(a(n))},null))])])]):null==(s=t.default)?void 0:s.call(t)}}});const Ab=Sl(wb),[kb,xb]=ul("skeleton-image");var Cb=Bn({name:kb,props:{imageSize:Ws,imageShape:Js("square")},setup:e=>()=>Qr("div",{class:xb([e.imageShape]),style:Vo(e.imageSize)},[Qr(Kl,{name:"photo",class:xb("icon")},null)])});const Eb=Sl(Cb),[Ob,Ib]=ul("slider");var Db=Bn({name:Ob,props:{min:Qs(0),max:Qs(100),step:Qs(1),range:Boolean,reverse:Boolean,disabled:Boolean,readonly:Boolean,vertical:Boolean,barHeight:Ws,buttonSize:Ws,activeColor:String,inactiveColor:String,modelValue:{type:[Number,Array],default:0}},emits:["change","dragEnd","dragStart","update:modelValue"],setup(e,{emit:t,slots:n}){let i,r,a;const s=St(),o=[St(),St()],l=St(),c=yc(),u=Sa(()=>Number(e.max)-Number(e.min)),d=Sa(()=>{const t=e.vertical?"width":"height";return{background:e.inactiveColor,[t]:$o(e.barHeight)}}),h=t=>e.range&&Array.isArray(t),p=()=>{const{modelValue:t,min:n}=e;return h(t)?100*(t[1]-t[0])/u.value+"%":100*(t-Number(n))/u.value+"%"},f=Sa(()=>{const t=e.vertical?"height":"width",n={[t]:p(),background:e.activeColor};return l.value&&(n.transition="none"),n[e.vertical?e.reverse?"bottom":"top":e.reverse?"right":"left"]=(()=>{const{modelValue:t,min:n}=e;return h(t)?100*(t[0]-Number(n))/u.value+"%":"0%"})(),n}),m=t=>{const n=+e.min,i=+e.max,r=+e.step;return t=Ko(t,n,i),Zo(n,Math.round((t-n)/r)*r)},g=()=>{const t=e.modelValue;a=h(t)?t.map(m):m(t)},v=(n,i)=>{n=h(n)?(t=>{var n,i;const r=null!=(n=t[0])?n:Number(e.min),a=null!=(i=t[1])?i:Number(e.max);return r>a?[a,r]:[r,a]})(n).map(m):m(n),qs(n,e.modelValue)||t("update:modelValue",n),i&&!qs(n,a)&&t("change",n)},y=t=>{if(t.stopPropagation(),e.disabled||e.readonly)return;g();const{min:n,reverse:i,vertical:r,modelValue:a}=e,o=ro(s),l=r?o.height:o.width,c=Number(n)+(r?i?o.bottom-t.clientY:t.clientY-o.top:i?o.right-t.clientX:t.clientX-o.left)/l*u.value;if(h(a)){const[e,t]=a;v(c<=(e+t)/2?[c,t]:[e,c],!0)}else v(c,!0)},b=n=>{if(e.disabled||e.readonly)return;"start"===l.value&&t("dragStart",n),No(n,!0),c.move(n),l.value="dragging";const o=ro(s);let d=(e.vertical?c.deltaY.value:c.deltaX.value)/(e.vertical?o.height:o.width)*u.value;if(e.reverse&&(d=-d),h(a)){const t=e.reverse?1-i:i;r[t]=a[t]+d}else r=a+d;v(r)},_=n=>{e.disabled||e.readonly||("dragging"===l.value&&(v(r,!0),t("dragEnd",n)),l.value="")},T=t=>Ib("button-wrapper","number"==typeof t?["left","right"][t]:e.reverse?"left":"right"),S=(t,a)=>{const s="dragging"===l.value;if("number"==typeof a){const e=n[0===a?"left-button":"right-button"];let o;if(s&&Array.isArray(r)&&(o=r[0]>r[1]?1^i:i),e)return e({value:t,dragging:s,dragIndex:o})}return n.button?n.button({value:t,dragging:s}):Qr("div",{class:Ib("button"),style:Vo(e.buttonSize)},null)},w=t=>{const n="number"==typeof t?e.modelValue[t]:e.modelValue;return Qr("div",{ref:o[null!=t?t:0],role:"slider",class:T(t),tabindex:e.disabled?void 0:0,"aria-valuemin":e.min,"aria-valuenow":n,"aria-valuemax":e.max,"aria-disabled":e.disabled||void 0,"aria-readonly":e.readonly||void 0,"aria-orientation":e.vertical?"vertical":"horizontal",onTouchstartPassive:n=>{"number"==typeof t&&(i=t),(t=>{e.disabled||e.readonly||(c.start(t),r=e.modelValue,g(),l.value="start")})(n)},onTouchend:_,onTouchcancel:_,onClick:Mo},[S(n,t)])};return v(e.modelValue),Co(()=>e.modelValue),o.forEach(e=>{yo("touchmove",b,{target:e})}),()=>Qr("div",{ref:s,style:d.value,class:Ib({vertical:e.vertical,disabled:e.disabled}),onClick:y},[Qr("div",{class:Ib("bar"),style:f.value},[e.range?[w(0),w(1)]:w()])])}});const Pb=Sl(Db),[Lb,Rb]=ul("space"),Mb={align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean};function Nb(e=[]){const t=[];return e.forEach(e=>{Array.isArray(e)?t.push(...e):e.type===Rr?t.push(...Nb(e.children)):t.push(e)}),t.filter(e=>{var t;return!(e&&(e.type===Nr||e.type===Rr&&0===(null==(t=e.children)?void 0:t.length)||e.type===Mr&&""===e.children.trim()))})}var jb=Bn({name:Lb,props:Mb,setup(e,{slots:t}){const n=Sa(()=>{var t;return null!=(t=e.align)?t:"horizontal"===e.direction?"center":""}),i=e=>"number"==typeof e?e+"px":e,r=t=>{const n={},r=`${i(Array.isArray(e.size)?e.size[0]:e.size)}`,a=`${i(Array.isArray(e.size)?e.size[1]:e.size)}`;return t?e.wrap?{marginBottom:a}:{}:("horizontal"===e.direction&&(n.marginRight=r),("vertical"===e.direction||e.wrap)&&(n.marginBottom=a),n)};return()=>{var i;const a=Nb(null==(i=t.default)?void 0:i.call(t));return Qr("div",{class:[Rb({[e.direction]:e.direction,[`align-${n.value}`]:n.value,wrap:e.wrap,fill:e.fill})]},[a.map((e,t)=>Qr("div",{key:`item-${t}`,class:`${Lb}-item`,style:r(t===a.length-1)},[e]))])}}});const Bb=e("bh",Sl(jb)),[Fb,Ub]=ul("steps"),$b={active:Qs(0),direction:Js("horizontal"),activeIcon:Js("checked"),iconPrefix:String,finishIcon:String,activeColor:String,inactiveIcon:String,inactiveColor:String},Vb=Symbol(Fb);var qb=Bn({name:Fb,props:$b,emits:["clickStep"],setup(e,{emit:t,slots:n}){const{linkChildren:i}=lo(Vb);return i({props:e,onClickStep:e=>t("clickStep",e)}),()=>{var t;return Qr("div",{class:Ub([e.direction])},[Qr("div",{class:Ub("items")},[null==(t=n.default)?void 0:t.call(n)])])}}});const[zb,Hb]=ul("step");var Wb=Bn({name:zb,setup(e,{slots:t}){const{parent:n,index:i}=ao(Vb);if(!n)return;const r=n.props,a=()=>{const e=+r.active;return i.value<e?"finish":i.value===e?"process":"waiting"},s=()=>"process"===a(),o=Sa(()=>({background:"finish"===a()?r.activeColor:r.inactiveColor})),l=Sa(()=>s()?{color:r.activeColor}:"waiting"===a()?{color:r.inactiveColor}:void 0),c=()=>n.onClickStep(i.value),u=()=>{const{iconPrefix:e,finishIcon:n,activeIcon:i,activeColor:l,inactiveIcon:c}=r;return s()?t["active-icon"]?t["active-icon"]():Qr(Kl,{class:Hb("icon","active"),name:i,color:l,classPrefix:e},null):"finish"===a()&&(n||t["finish-icon"])?t["finish-icon"]?t["finish-icon"]():Qr(Kl,{class:Hb("icon","finish"),name:n,color:l,classPrefix:e},null):t["inactive-icon"]?t["inactive-icon"]():c?Qr(Kl,{class:Hb("icon"),name:c,classPrefix:e},null):Qr("i",{class:Hb("circle"),style:o.value},null)};return()=>{var e;const n=a();return Qr("div",{class:[dl,Hb([r.direction,{[n]:n}])]},[Qr("div",{class:Hb("title",{active:s()}),style:l.value,onClick:c},[null==(e=t.default)?void 0:e.call(t)]),Qr("div",{class:Hb("circle-container"),onClick:c},[u()]),Qr("div",{class:Hb("line"),style:o.value},null)])}}});const Gb=Sl(Wb),[Xb,Yb]=ul("stepper"),Kb=(e,t)=>String(e)===String(t);var Qb=Bn({name:Xb,props:{min:Qs(1),max:Qs(1/0),name:Qs(""),step:Qs(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:Gs,showMinus:Gs,showInput:Gs,longPress:Gs,autoFixed:Gs,allowEmpty:Boolean,modelValue:Ws,inputWidth:Ws,buttonSize:Ws,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:Qs(1),decimalLength:Ws},emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:t}){const n=(t,n=!0)=>{const{min:i,max:r,allowEmpty:a,decimalLength:s}=e;return a&&""===t||(t=""===(t=Jo(String(t),!e.integer))?0:+t,t=Number.isNaN(t)?+i:t,t=n?Math.max(Math.min(+r,t),+i):t,Ms(s)&&(t=t.toFixed(+s))),t};let i;const r=St(),a=St((()=>{var i;const r=null!=(i=e.modelValue)?i:e.defaultValue,a=n(r);return Kb(a,e.modelValue)||t("update:modelValue",a),a})()),s=Sa(()=>e.disabled||e.disableMinus||+a.value<=+e.min),o=Sa(()=>e.disabled||e.disablePlus||+a.value>=+e.max),l=Sa(()=>({width:$o(e.inputWidth),height:$o(e.buttonSize)})),c=Sa(()=>Vo(e.buttonSize)),u=t=>{e.beforeChange?Tl(e.beforeChange,{args:[t],done(){a.value=t}}):a.value=t},d=()=>{if("plus"===i&&o.value||"minus"===i&&s.value)return void t("overlimit",i);const r="minus"===i?-e.step:+e.step,l=n(Zo(+a.value,r));u(l),t(i)},h=t=>{const n=t.target,{value:i}=n,{decimalLength:r}=e;let s=Jo(String(i),!e.integer);if(Ms(r)&&s.includes(".")){const e=s.split(".");s=`${e[0]}.${e[1].slice(0,+r)}`}e.beforeChange?n.value=String(a.value):Kb(i,s)||(n.value=s);const o=s===String(+s);u(o?+s:s)},p=n=>{var i;e.disableInput?null==(i=r.value)||i.blur():t("focus",n)},f=i=>{const r=i.target,s=n(r.value,e.autoFixed);r.value=String(s),a.value=s,Jt(()=>{t("blur",i),Ro()})};let m,g;const v=()=>{g=setTimeout(()=>{d(),v()},200)},y=t=>{e.longPress&&(clearTimeout(g),m&&No(t))},b=t=>{e.disableInput&&No(t)},_=t=>({onClick:e=>{No(e),i=t,d()},onTouchstartPassive:()=>{i=t,e.longPress&&(m=!1,clearTimeout(g),g=setTimeout(()=>{m=!0,d(),v()},500))},onTouchend:y,onTouchcancel:y});return _r(()=>[e.max,e.min,e.integer,e.decimalLength],()=>{const e=n(a.value);Kb(e,a.value)||(a.value=e)}),_r(()=>e.modelValue,e=>{Kb(e,a.value)||(a.value=n(e))}),_r(a,n=>{t("update:modelValue",n),t("change",n,{name:e.name})}),Co(()=>e.modelValue),()=>Qr("div",{role:"group",class:Yb([e.theme])},[un(Qr("button",aa({type:"button",style:c.value,class:[Yb("minus",{disabled:s.value}),{[bl]:!s.value}],"aria-disabled":s.value||void 0},_("minus")),null),[[Ja,e.showMinus]]),un(Qr("input",{ref:r,type:e.integer?"tel":"text",role:"spinbutton",class:Yb("input"),value:a.value,style:l.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":a.value,onBlur:f,onInput:h,onFocus:p,onMousedown:b},null),[[Ja,e.showInput]]),un(Qr("button",aa({type:"button",style:c.value,class:[Yb("plus",{disabled:o.value}),{[bl]:!o.value}],"aria-disabled":o.value||void 0},_("plus")),null),[[Ja,e.showPlus]])])}});const Jb=e("be",Sl(Qb)),Zb=Sl(qb),[e_,t_,n_]=ul("submit-bar");var i_=Bn({name:e_,props:{tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,currency:Js(""),disabled:Boolean,textAlign:String,buttonText:String,buttonType:Js("danger"),buttonColor:String,suffixLabel:String,placeholder:Boolean,decimalLength:Qs(2),safeAreaInsetBottom:Gs},emits:["submit"],setup(e,{emit:t,slots:n}){const i=St(),r=Cl(i,t_),a=()=>{const{price:t,label:n,currency:i,textAlign:r,suffixLabel:a,decimalLength:s}=e;if("number"==typeof t){const e=(t/100).toFixed(+s).split("."),o=s?`.${e[1]}`:"";return Qr("div",{class:t_("text"),style:{textAlign:r}},[Qr("span",null,[n||n_("label")]),Qr("span",{class:t_("price")},[i,Qr("span",{class:t_("price-integer")},[e[0]]),o]),a&&Qr("span",{class:t_("suffix-label")},[a])])}},s=()=>{var t;const{tip:i,tipIcon:r}=e;if(n.tip||i)return Qr("div",{class:t_("tip")},[r&&Qr(Kl,{class:t_("tip-icon"),name:r},null),i&&Qr("span",{class:t_("tip-text")},[i]),null==(t=n.tip)?void 0:t.call(n)])},o=()=>t("submit"),l=()=>{var t,r;return Qr("div",{ref:i,class:[t_(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[null==(t=n.top)?void 0:t.call(n),s(),Qr("div",{class:t_("bar")},[null==(r=n.default)?void 0:r.call(n),a(),n.button?n.button():Qr(oc,{round:!0,type:e.buttonType,text:e.buttonText,class:t_("button",e.buttonType),color:e.buttonColor,loading:e.loading,disabled:e.disabled,onClick:o},null)])])};return()=>e.placeholder?r(l):l()}});const r_=Sl(i_),[a_,s_]=ul("swipe-cell");var o_=Bn({name:a_,props:{name:Qs(""),disabled:Boolean,leftWidth:Ws,rightWidth:Ws,beforeClose:Function,stopPropagation:Boolean},emits:["open","close","click"],setup(e,{emit:t,slots:n}){let i,r,a,s;const o=St(),l=St(),c=St(),u=ct({offset:0,dragging:!1}),d=yc(),h=e=>e.value?ro(e).width:0,p=Sa(()=>Ms(e.leftWidth)?+e.leftWidth:h(l)),f=Sa(()=>Ms(e.rightWidth)?+e.rightWidth:h(c)),m=n=>{u.offset="left"===n?p.value:-f.value,i||(i=!0,t("open",{name:e.name,position:n}))},g=n=>{u.offset=0,i&&(i=!1,t("close",{name:e.name,position:n}))},v=t=>{e.disabled||(a=u.offset,d.start(t))},y=()=>{u.dragging&&(u.dragging=!1,(e=>{const t=Math.abs(u.offset),n=i?.85:.15,r="left"===e?p.value:f.value;r&&t>r*n?m(e):g(e)})(u.offset>0?"left":"right"),setTimeout(()=>{r=!1},0))},b=(n="outside",a)=>{s||(t("click",n),i&&!r&&(s=!0,Tl(e.beforeClose,{args:[{event:a,name:e.name,position:n}],done:()=>{s=!1,g(n)},canceled:()=>s=!1,error:()=>s=!1})))},_=e=>t=>{(r||i)&&t.stopPropagation(),r||b(e,t)},T=(e,t)=>{const i=n[e];if(i)return Qr("div",{ref:t,class:s_(e),onClick:_(e)},[i()])};return Ll({open:m,close:g}),bo(o,e=>b("outside",e),{eventName:"touchstart"}),yo("touchmove",t=>{if(e.disabled)return;const{deltaX:n}=d;d.move(t),d.isHorizontal()&&(r=!0,u.dragging=!0,(!i||n.value*a<0)&&No(t,e.stopPropagation),u.offset=Ko(n.value+a,-f.value,p.value))},{target:o}),()=>{var e;const t={transform:`translate3d(${u.offset}px, 0, 0)`,transitionDuration:u.dragging?"0s":".6s"};return Qr("div",{ref:o,class:s_(),onClick:_("cell"),onTouchstartPassive:v,onTouchend:y,onTouchcancel:y},[Qr("div",{class:s_("wrapper"),style:t},[T("left",l),null==(e=n.default)?void 0:e.call(n),T("right",c)])])}}});const l_=Sl(o_),[c_,u_]=ul("tabbar"),d_={route:Boolean,fixed:Gs,border:Gs,zIndex:Ws,placeholder:Boolean,activeColor:String,beforeChange:Function,inactiveColor:String,modelValue:Qs(0),safeAreaInsetBottom:{type:Boolean,default:null}},h_=Symbol(c_);var p_=Bn({name:c_,props:d_,emits:["change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=St(),{linkChildren:r}=lo(h_),a=Cl(i,u_),s=()=>{var t;return null!=(t=e.safeAreaInsetBottom)?t:e.fixed},o=()=>{var t;const{fixed:r,zIndex:a,border:o}=e;return Qr("div",{ref:i,role:"tablist",style:qo(a),class:[u_({fixed:r}),{[vl]:o,"van-safe-area-bottom":s()}]},[null==(t=n.default)?void 0:t.call(n)])};return r({props:e,setActive:(n,i)=>{Tl(e.beforeChange,{args:[n],done(){t("update:modelValue",n),t("change",n),i()}})}}),()=>e.fixed&&e.placeholder?a(o):o()}});const f_=Sl(p_),[m_,g_]=ul("tabbar-item");var v_=Bn({name:m_,props:Ps({},Rl,{dot:Boolean,icon:String,name:Ws,badge:Ws,badgeProps:Object,iconPrefix:String}),emits:["click"],setup(e,{emit:t,slots:n}){const i=Nl(),r=ua().proxy,{parent:a,index:s}=ao(h_);if(!a)return;const o=Sa(()=>{var t;const{route:n,modelValue:i}=a.props;if(n&&"$route"in r){const{$route:t}=r,{to:n}=e,i=Rs(n)?n:{path:n};return t.matched.some(e=>{const t="path"in i&&i.path===e.path,n="name"in i&&i.name===e.name;return t||n})}return(null!=(t=e.name)?t:s.value)===i}),l=n=>{var r;o.value||a.setActive(null!=(r=e.name)?r:s.value,i),t("click",n)},c=()=>n.icon?n.icon({active:o.value}):e.icon?Qr(Kl,{name:e.icon,classPrefix:e.iconPrefix},null):void 0;return()=>{var t;const{dot:i,badge:r}=e,{activeColor:s,inactiveColor:u}=a.props,d=o.value?s:u;return Qr("div",{role:"tab",class:g_({active:o.value}),style:{color:d},tabindex:0,"aria-selected":o.value,onClick:l},[Qr(Ul,aa({dot:i,class:g_("icon"),content:r},e.badgeProps),{default:c}),Qr("div",{class:g_("text")},[null==(t=n.default)?void 0:t.call(n,{active:o.value})])])}}});const y_=Sl(v_),[b_,__]=ul("text-ellipsis");var T_=Bn({name:b_,props:{rows:Qs(1),dots:Js("..."),content:Js(""),expandText:Js(""),collapseText:Js(""),position:Js("end")},emits:["clickAction"],setup(e,{emit:t,slots:n}){const i=St(e.content),r=St(!1),a=St(!1),s=St(),o=St();let l=!1;const c=Sa(()=>r.value?e.collapseText:e.expandText),u=e=>{if(!e)return 0;const t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0},d=()=>{const t=(()=>{if(!s.value||!s.value.isConnected)return;const t=window.getComputedStyle(s.value),n=document.createElement("div");return Array.prototype.slice.apply(t).forEach(e=>{n.style.setProperty(e,t.getPropertyValue(e))}),n.style.position="fixed",n.style.zIndex="-9999",n.style.top="-9999px",n.style.height="auto",n.style.minHeight="auto",n.style.maxHeight="auto",n.innerText=e.content,document.body.appendChild(n),n})();if(!t)return void(l=!0);const{paddingBottom:r,paddingTop:c,lineHeight:d}=t.style,h=Math.ceil((Number(e.rows)+.5)*u(d)+u(c)+u(r));h<t.offsetHeight?(a.value=!0,i.value=((t,i)=>{var r,a;const{content:s,position:l,dots:c}=e,u=s.length,d=0+u>>1,h=n.action?null!=(a=null==(r=o.value)?void 0:r.outerHTML)?a:"":e.expandText,p=(n,r)=>{if(n[1]-n[0]<=1&&r[1]-r[0]<=1)return s.slice(0,n[0])+c+s.slice(r[1],u);const a=Math.floor((n[0]+n[1])/2),o=Math.ceil((r[0]+r[1])/2);return t.innerText=e.content.slice(0,a)+e.dots+e.content.slice(o,u),t.innerHTML+=h,t.offsetHeight>=i?p([n[0],a],[o,r[1]]):p([a,n[1]],[r[0],o])};return"middle"===e.position?p([0,d],[d,u]):(()=>{const e=(n,r)=>{if(r-n<=1)return"end"===l?s.slice(0,n)+c:c+s.slice(r,u);const a=Math.round((n+r)/2);return t.innerText="end"===l?s.slice(0,a)+c:c+s.slice(a,u),t.innerHTML+=h,t.offsetHeight>i?"end"===l?e(n,a):e(a,r):"end"===l?e(a,r):e(n,a)};return e(0,u)})()})(t,h)):(a.value=!1,i.value=e.content),document.body.removeChild(t)},h=(e=!r.value)=>{r.value=e},p=e=>{h(),t("clickAction",e)},f=()=>{const e=n.action?n.action({expanded:r.value}):c.value;return Qr("span",{ref:o,class:__("action"),onClick:p},[e])};return ai(()=>{d(),n.action&&Jt(d)}),Kn(()=>{l&&(l=!1,d())}),_r([Bo,()=>[e.content,e.rows,e.position]],d),Ll({toggle:h}),()=>Qr("div",{ref:s,class:__()},[r.value?e.content:i.value,a.value?f():null])}});const S_=e("bx",Sl(T_)),[w_]=ul("time-picker"),A_=e=>/^([01]\d|2[0-3]):([0-5]\d):([0-5]\d)$/.test(e),k_=["hour","minute","second"];var x_=Bn({name:w_,props:Ps({},sp,{minHour:Qs(0),maxHour:Qs(23),minMinute:Qs(0),maxMinute:Qs(59),minSecond:Qs(0),maxSecond:Qs(59),minTime:{type:String,validator:A_},maxTime:{type:String,validator:A_},columnsType:{type:Array,default:()=>["hour","minute"]}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:n}){const i=St(e.modelValue),r=St(),a=t=>{const n=t.split(":");return k_.map((t,i)=>e.columnsType.includes(t)?n[i]:"00")},s=Sa(()=>{let{minHour:t,maxHour:n,minMinute:r,maxMinute:s,minSecond:o,maxSecond:l}=e;if(e.minTime||e.maxTime){const c={hour:0,minute:0,second:0};e.columnsType.forEach((e,t)=>{var n;c[e]=null!=(n=i.value[t])?n:0});const{hour:u,minute:d}=c;if(e.minTime){const[n,i,s]=a(e.minTime);t=n,r=+u<=+t?i:"00",o=+u<=+t&&+d<=+r?s:"00"}if(e.maxTime){const[t,i,r]=a(e.maxTime);n=t,s=+u>=+n?i:"59",l=+u>=+n&&+d>=+s?r:"59"}}return e.columnsType.map(a=>{const{filter:c,formatter:u}=e;switch(a){case"hour":return cp(+t,+n,a,u,c,i.value);case"minute":return cp(+r,+s,a,u,c,i.value);case"second":return cp(+o,+l,a,u,c,i.value);default:return[]}})});_r(i,n=>{qs(n,e.modelValue)||t("update:modelValue",n)}),_r(()=>e.modelValue,e=>{e=up(e,s.value),qs(e,i.value)||(i.value=e)},{immediate:!0});const o=(...e)=>t("change",...e),l=(...e)=>t("cancel",...e),c=(...e)=>t("confirm",...e);return Ll({confirm:()=>{var e;return null==(e=r.value)?void 0:e.confirm()},getSelectedTime:()=>i.value}),()=>Qr(Ku,aa({ref:r,modelValue:i.value,"onUpdate:modelValue":e=>i.value=e,columns:s.value,onChange:o,onCancel:l,onConfirm:c},Vs(e,op)),n)}});const C_=Sl(x_),[E_,O_]=ul("tree-select");var I_=Bn({name:E_,props:{max:Qs(1/0),items:Ys(),height:Qs(300),selectedIcon:Js("success"),mainActiveIndex:Qs(0),activeId:{type:[Number,String,Array],default:0}},emits:["clickNav","clickItem","update:activeId","update:mainActiveIndex"],setup(e,{emit:t,slots:n}){const i=t=>Array.isArray(e.activeId)?e.activeId.includes(t):e.activeId===t,r=n=>Qr("div",{key:n.id,class:["van-ellipsis",O_("item",{active:i(n.id),disabled:n.disabled})],onClick:()=>{if(n.disabled)return;let i;if(Array.isArray(e.activeId)){i=e.activeId.slice();const t=i.indexOf(n.id);-1!==t?i.splice(t,1):i.length<+e.max&&i.push(n.id)}else i=n.id;t("update:activeId",i),t("clickItem",n)}},[n.text,i(n.id)&&Qr(Kl,{name:e.selectedIcon,class:O_("selected")},null)]),a=e=>{t("update:mainActiveIndex",e)},s=e=>t("clickNav",e),o=()=>{const t=e.items.map(e=>Qr(Qy,{dot:e.dot,badge:e.badge,class:[O_("nav-item"),e.className],disabled:e.disabled,onClick:s},{title:()=>n["nav-text"]?n["nav-text"](e):e.text}));return Qr(Gy,{class:O_("nav"),modelValue:e.mainActiveIndex,onChange:a},{default:()=>[t]})},l=()=>{if(n.content)return n.content();const t=e.items[+e.mainActiveIndex]||{};return t.children?t.children.map(r):void 0};return()=>Qr("div",{class:O_(),style:{height:$o(e.height)}},[o(),Qr("div",{class:O_("content")},[l()])])}});const D_=Sl(I_),[P_,L_,R_]=ul("uploader");function M_(e,t){return new Promise(n=>{if("file"===t)return void n();const i=new FileReader;i.onload=e=>{n(e.target.result)},"dataUrl"===t?i.readAsDataURL(e):"text"===t&&i.readAsText(e)})}function N_(e,t){return zs(e).some(e=>!!e.file&&(Ns(t)?t(e.file):e.file.size>+t))}const j_=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg|avif)/i;function B_(e){return!!e.isImage||(e.file&&e.file.type?0===e.file.type.indexOf("image"):e.url?(t=e.url,j_.test(t)):"string"==typeof e.content&&0===e.content.indexOf("data:image"));var t}var F_=Bn({props:{name:Ws,item:Xs(Object),index:Number,imageFit:String,lazyLoad:Boolean,deletable:Boolean,reupload:Boolean,previewSize:[Number,String,Array],beforeDelete:Function},emits:["delete","preview","reupload"],setup(e,{emit:t,slots:n}){const i=()=>{const{status:t,message:n}=e.item;if("uploading"===t||"failed"===t){const e="failed"===t?Qr(Kl,{name:"close",class:L_("mask-icon")},null):Qr(ic,{class:L_("loading")},null),i=Ms(n)&&""!==n;return Qr("div",{class:L_("mask")},[e,i&&Qr("div",{class:L_("mask-message")},[n])])}},r=n=>{const{name:i,item:r,index:a,beforeDelete:s}=e;n.stopPropagation(),Tl(s,{args:[r,{name:i,index:a}],done:()=>t("delete")})},a=()=>t("preview"),s=()=>t("reupload"),o=()=>{if(e.deletable&&"uploading"!==e.item.status){const e=n["preview-delete"];return Qr("div",{role:"button",class:L_("preview-delete",{shadow:!e}),tabindex:0,"aria-label":R_("delete"),onClick:r},[e?e():Qr(Kl,{name:"cross",class:L_("preview-delete-icon")},null)])}},l=()=>{if(n["preview-cover"]){const{index:t,item:i}=e;return Qr("div",{class:L_("preview-cover")},[n["preview-cover"](Ps({index:t},i))])}},c=()=>{const{item:t,lazyLoad:n,imageFit:i,previewSize:r,reupload:o}=e;return B_(t)?Qr(Sp,{fit:i,src:t.objectUrl||t.content||t.url,class:L_("preview-image"),width:Array.isArray(r)?r[0]:r,height:Array.isArray(r)?r[1]:r,lazyLoad:n,onClick:o?s:a},{default:l}):Qr("div",{class:L_("file"),style:Vo(e.previewSize)},[Qr(Kl,{class:L_("file-icon"),name:"description"},null),Qr("div",{class:[L_("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),l()])};return()=>Qr("div",{class:L_("preview")},[c(),i(),o()])}}),U_=Bn({name:P_,props:{name:Qs(""),accept:Js("image/*"),capture:String,multiple:Boolean,disabled:Boolean,readonly:Boolean,lazyLoad:Boolean,maxCount:Qs(1/0),imageFit:Js("cover"),resultType:Js("dataUrl"),uploadIcon:Js("photograph"),uploadText:String,deletable:Gs,reupload:Boolean,afterRead:Function,showUpload:Gs,modelValue:Ys(),beforeRead:Function,beforeDelete:Function,previewSize:[Number,String,Array],previewImage:Gs,previewOptions:Object,previewFullImage:Gs,maxSize:{type:[Number,String,Function],default:1/0}},emits:["delete","oversize","clickUpload","closePreview","clickPreview","clickReupload","update:modelValue"],setup(e,{emit:t,slots:n}){const i=St(),r=[],a=St(-1),s=St(!1),o=(t=e.modelValue.length)=>({name:e.name,index:t}),l=()=>{i.value&&(i.value.value="")},c=n=>{if(l(),N_(n,e.maxSize)){if(!Array.isArray(n))return void t("oversize",n,o());{const i=function(e,t){const n=[],i=[];return e.forEach(e=>{N_(e,t)?i.push(e):n.push(e)}),{valid:n,invalid:i}}(n,e.maxSize);if(n=i.valid,t("oversize",i.invalid,o()),!n.length)return}}if(n=ct(n),a.value>-1){const i=[...e.modelValue];i.splice(a.value,1,n),t("update:modelValue",i),a.value=-1}else t("update:modelValue",[...e.modelValue,...zs(n)]);e.afterRead&&e.afterRead(n,o())},u=t=>{const{maxCount:n,modelValue:i,resultType:r}=e;if(Array.isArray(t)){const e=+n-i.length;t.length>e&&(t=t.slice(0,e)),Promise.all(t.map(e=>M_(e,r))).then(e=>{const n=t.map((t,n)=>{const i={file:t,status:"",message:"",objectUrl:URL.createObjectURL(t)};return e[n]&&(i.content=e[n]),i});c(n)})}else M_(t,r).then(e=>{const n={file:t,status:"",message:"",objectUrl:URL.createObjectURL(t)};e&&(n.content=e),c(n)})},d=t=>{const{files:n}=t.target;if(e.disabled||!n||!n.length)return;const i=1===n.length?n[0]:[].slice.call(n);if(e.beforeRead){const t=e.beforeRead(i,o());if(!t)return void l();if(js(t))return void t.then(e=>{u(e||i)}).catch(l)}u(i)};let h;const p=()=>t("closePreview"),f=e=>{s.value=!0,a.value=e,Jt(()=>_())},m=()=>{s.value||(a.value=-1),s.value=!1},g=(i,a)=>{const s=["imageFit","deletable","reupload","previewSize","beforeDelete"],l=Ps(Vs(e,s),Vs(i,s,!0));return Qr(F_,aa({item:i,index:a,onClick:()=>t(e.reupload?"clickReupload":"clickPreview",i,o(a)),onDelete:()=>((n,i)=>{const r=e.modelValue.slice(0);r.splice(i,1),t("update:modelValue",r),t("delete",n,o(i))})(i,a),onPreview:()=>(t=>{if(e.previewFullImage){const n=e.modelValue.filter(B_),i=n.map(e=>(e.objectUrl&&!e.url&&"failed"!==e.status&&(e.url=e.objectUrl,r.push(e.url)),e.url)).filter(Boolean);h=ag(Ps({images:i,startPosition:n.indexOf(t),onClose:p},e.previewOptions))}})(i),onReupload:()=>f(a)},Vs(e,["name","lazyLoad"]),l),Vs(n,["preview-cover","preview-delete"]))},v=()=>{if(e.previewImage)return e.modelValue.map(g)},y=e=>t("clickUpload",e),b=()=>{const t=e.modelValue.length<+e.maxCount,r=e.readonly?null:Qr("input",{ref:i,type:"file",class:L_("input"),accept:e.accept,capture:e.capture,multiple:e.multiple&&-1===a.value,disabled:e.disabled,onChange:d,onClick:m},null);return n.default?un(Qr("div",{class:L_("input-wrapper"),onClick:y},[n.default(),r]),[[Ja,t]]):un(Qr("div",{class:L_("upload",{readonly:e.readonly}),style:Vo(e.previewSize),onClick:y},[Qr(Kl,{name:e.uploadIcon,class:L_("upload-icon")},null),e.uploadText&&Qr("span",{class:L_("upload-text")},[e.uploadText]),r]),[[Ja,e.showUpload&&t]])},_=()=>{i.value&&!e.disabled&&i.value.click()};return li(()=>{r.forEach(e=>URL.revokeObjectURL(e))}),Ll({chooseFile:_,reuploadFile:f,closeImagePreview:()=>{h&&h.close()}}),Co(()=>e.modelValue),()=>Qr("div",{class:L_()},[Qr("div",{class:L_("wrapper",{disabled:e.disabled})},[v(),b()])])}});const $_=e("bu",Sl(U_)),[V_,q_]=ul("watermark");var z_=Bn({name:V_,props:{gapX:Ks(0),gapY:Ks(0),image:String,width:Ks(100),height:Ks(100),rotate:Qs(-22),zIndex:Ws,content:String,opacity:Ws,fullPage:Gs,textColor:Js("#dcdee0")},setup(e,{slots:t}){const n=St(),i=St(""),r=St(""),a=()=>{const n={transformOrigin:"center",transform:`rotate(${e.rotate}deg)`},i=e.width+e.gapX,a=e.height+e.gapY;return Qr("svg",{viewBox:`0 0 ${i} ${a}`,width:i,height:a,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",style:{padding:`0 ${e.gapX}px ${e.gapY}px 0`,opacity:e.opacity}},[e.image&&!t.content?Qr("image",{href:r.value,"xlink:href":r.value,x:"0",y:"0",width:e.width,height:e.height,style:n},null):Qr("foreignObject",{x:"0",y:"0",width:e.width,height:e.height},[Qr("div",{xmlns:"http://www.w3.org/1999/xhtml",style:n},[t.content?t.content():Qr("span",{style:{color:e.textColor}},[e.content])])])])},s=()=>{i.value&&URL.revokeObjectURL(i.value)},o=()=>{n.value&&(s(),i.value=(e=>{const t=new Blob([e],{type:"image/svg+xml"});return URL.createObjectURL(t)})(n.value.innerHTML))};return br(()=>{e.image&&(e=>{const t=document.createElement("canvas"),n=new Image;n.crossOrigin="anonymous",n.referrerPolicy="no-referrer",n.onload=()=>{t.width=n.naturalWidth,t.height=n.naturalHeight;const e=t.getContext("2d");null==e||e.drawImage(n,0,0),r.value=t.toDataURL()},n.src=e})(e.image)}),_r(()=>[e.content,e.textColor,e.height,e.width,e.rotate,e.gapX,e.gapY],o),_r(r,()=>{Jt(o)}),ai(o),ci(s),()=>{const t=Ps({backgroundImage:`url(${i.value})`},qo(e.zIndex));return Qr("div",{class:q_({full:e.fullPage}),style:t},[Qr("div",{class:q_("wrapper"),ref:n},[a()])])}}});const H_=Sl(z_);var W_={install:function(e){[Pl,dc,mc,Bc,Jd,Lh,ed,jh,Ul,Vh,oc,yp,xp,Dp,ad,Mp,kh,uh,$p,Yp,ef,sf,of,hf,yf,wf,Cf,Rf,$f,Kf,em,dm,mm,Am,km,Hf,_d,Im,Mm,cd,$m,Hm,Ym,Kl,Sp,sg,mg,gg,Tg,ic,al,kg,Og,Ug,Yg,Cc,tv,av,Ku,sv,ay,Pc,uy,gy,Th,rh,_y,Oy,Iy,My,Vy,Gy,Qy,ib,Ab,hb,Eb,bb,ob,Pb,Bb,Gb,Jb,Zb,cu,r_,mu,l_,Lu,Vd,ju,f_,y_,Bu,fh,S_,C_,Bd,D_,$_,H_].forEach(t=>{t.install?e.use(t):t.name&&e.component(t.name,t)})},version:"4.9.21"},G_=Bn({name:"fcSubForm",props:{rule:Array,options:{type:Object,default:function(){return ct({submitBtn:!1,resetBtn:!1})}},modelValue:{type:Object,default:function(){return{}}},disabled:{type:Boolean,default:!1},syncDisabled:{type:Boolean,default:!0},formCreateInject:Object},data:function(){return{cacheValue:{},subApi:{},form:yt(this.formCreateInject.form.$form())}},emits:["fc:subform","update:modelValue","change","itemMounted"],watch:{modelValue:function(e){this.setValue(e)}},methods:{formData:function(e){this.cacheValue=JSON.stringify(e),this.$emit("update:modelValue",e),this.$emit("change",e)},setValue:function(e){var t=JSON.stringify(e);this.cacheValue!==t&&(this.cacheValue=t,this.subApi.coverValue(e||{}))},add$f:function(e){var t=this;this.subApi=e,Jt(function(){t.$emit("itemMounted",e)})}},render:function(){var e=this.form;return Qr(e,{disabled:this.disabled,"onUpdate:modelValue":this.formData,modelValue:this.modelValue,"onEmit-event":this.$emit,"onUpdate:api":this.add$f,rule:this.rule,option:this.options,extendOption:!0},null)}});
/*!
       * @form-create/vant v3.2.32
       * (c) 2018-2025 xaboy
       * Github https://github.com/xaboy/form-create
       * Released under the MIT License.
       */function X_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Y_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X_(Object(n),!0).forEach(function(t){Q_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function K_(e){return K_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K_(e)}function Q_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J_(e){return J_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},J_(e)}function Z_(e,t){return Z_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Z_(e,t)}function eT(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(xZ){return!1}}();return function(){var n,i=J_(e);if(t){var r=J_(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return eT(this,n)}}function nT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],s=!0,o=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(RT){o=!0,r=RT}finally{try{s||null==n.return||n.return()}finally{if(o)throw r}}return a}}(e,t)||rT(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iT(e){return function(e){if(Array.isArray(e))return aT(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rT(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rT(e,t){if(e){if("string"==typeof e)return aT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aT(e,t):void 0}}function aT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var sT={type:function(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"},Undef:function(e){return null==e},Element:function(e){return"object"===K_(e)&&null!==e&&1===e.nodeType&&!sT.Object(e)},trueArray:function(e){return Array.isArray(e)&&e.length>0},Function:function(e){var t=this.getType(e);return"Function"===t||"AsyncFunction"===t},getType:function(e){var t=Object.prototype.toString.call(e);return/^\[object (.*)\]$/.exec(t)[1]},empty:function(e){return null==e||!(!Array.isArray(e)||!Array.isArray(e)||e.length)||"string"==typeof e&&!e}};function oT(e,t){return{}.hasOwnProperty.call(e,t)}["Date","Object","String","Boolean","Array","Number"].forEach(function(e){sT[e]=function(t){return sT.type(t,e)}}),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var lT={exports:{}};!function(e){e.exports=function(){var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",a="minute",s="hour",o="day",l="week",c="month",u="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+v(i,2,"0")+":"+v(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,c),a=n-r<0,s=t.clone().add(i+(a?-1:1),c);return+(-(i+(n-r)/(a?r-s:s-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:o,D:h,h:s,m:a,s:r,ms:i,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",_={};_[b]=g;var T="$isDayjsObject",S=function(e){return e instanceof x||!(!e||!e[T])},w=function e(t,n,i){var r;if(!t)return b;if("string"==typeof t){var a=t.toLowerCase();_[a]&&(r=a),n&&(_[a]=n,r=a);var s=t.split("-");if(!r&&s.length>1)return e(s[0])}else{var o=t.name;_[o]=t,r=o}return!i&&r&&(b=r),r||!i&&b},A=function(e,t){if(S(e))return e.clone();var n="object"==K_(t)?t:{};return n.date=e,n.args=arguments,new x(n)},k=y;k.l=w,k.i=S,k.w=function(e,t){return A(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var x=function(){function g(e){this.$L=w(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[T]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(f);if(i){var r=i[2]-1||0,a=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return k},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=A(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return A(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<A(e)},v.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,i=!!k.u(t)||t,u=k.p(e),p=function(e,t){var r=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(o)},f=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return i?p(1,0):p(31,11);case c:return i?p(1,g):p(0,g+1);case l:var b=this.$locale().weekStart||0,_=(m<b?m+7:m)-b;return p(i?v-_:v+(6-_),g);case o:case h:return f(y+"Hours",0);case s:return f(y+"Minutes",1);case a:return f(y+"Seconds",2);case r:return f(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=k.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[o]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[a]=u+"Minutes",n[r]=u+"Seconds",n[i]=u+"Milliseconds",n)[l],f=l===o?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[k.p(e)]()},v.add=function(i,u){var h,p=this;i=Number(i);var f=k.p(u),m=function(e){var t=A(p);return k.w(t.date(t.date()+Math.round(e*i)),p)};if(f===c)return this.set(c,this.$M+i);if(f===d)return this.set(d,this.$y+i);if(f===o)return m(1);if(f===l)return m(7);var g=(h={},h[a]=t,h[s]=n,h[r]=e,h)[f]||1,v=this.$d.getTime()+i*g;return k.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=k.z(this),a=this.$H,s=this.$m,o=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,r,a){return e&&(e[n]||e(t,i))||r[n].slice(0,a)},h=function(e){return k.s(a%12||12,e,"0")},f=u||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(m,function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return k.s(t.$y,4,"0");case"M":return o+1;case"MM":return k.s(o+1,2,"0");case"MMM":return d(n.monthsShort,o,c,3);case"MMMM":return d(c,o);case"D":return t.$D;case"DD":return k.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return k.s(a,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(a,s,!0);case"A":return f(a,s,!1);case"m":return String(s);case"mm":return k.s(s,2,"0");case"s":return String(t.$s);case"ss":return k.s(t.$s,2,"0");case"SSS":return k.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,h,p){var f,m=this,g=k.p(h),v=A(i),y=(v.utcOffset()-this.utcOffset())*t,b=this-v,_=function(){return k.m(m,v)};switch(g){case d:f=_()/12;break;case c:f=_();break;case u:f=_()/3;break;case l:f=(b-y)/6048e5;break;case o:f=(b-y)/864e5;break;case s:f=b/n;break;case a:f=b/t;break;case r:f=b/e;break;default:f=b}return p?f:k.a(f)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return _[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=w(e,t,!0);return i&&(n.$L=i),n},v.clone=function(){return k.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),C=x.prototype;return A.prototype=C,[["$ms",i],["$s",r],["$m",a],["$H",s],["$W",o],["$M",c],["$y",d],["$D",h]].forEach(function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),A.extend=function(e,t){return e.$i||(e(t,x,A),e.$i=!0),A},A.locale=w,A.isDayjs=S,A.unix=function(e){return A(1e3*e)},A.en=_[b],A.Ls=_,A.p={},A}()}(lT);var cT=lT.exports,uT=Bn({name:"fcCalendar",inheritAttrs:!1,props:{placeholder:String,formCreateInject:Object,disabled:Boolean,clearable:Boolean,type:String,modelValue:[String,Array],minDate:[String,Date],maxDate:[String,Date]},emits:["update:modelValue","change","fc.el"],setup:function(e,t){var n=St(!1),i=Rt(e,"modelValue"),r=Rt(e,"formCreateInject"),a=St(i.value);_r(function(){return i.value},function(e){a.value=e});var s=function(e){return cT(e).format("YYYY-MM-DD")},o=function(e){return cT(e).toDate()},l=Sa(function(){var e=i.value;return Array.isArray(e)?e.map(o):e?o(e):null}),c=Sa(function(){return{minDate:e.minDate?cT(e.minDate).toDate():void 0,maxDate:e.maxDate?cT(e.maxDate).toDate():void 0}}),u=function(e){Array.isArray(e)?a.value=e.map(s):a.value=e?s(e):e},d=function(){t.emit("update:modelValue",a.value),t.emit("change",a.value)},h={range:function(){return a.value.length?a.value.join(" - "):""},multiple:function(){return a.value.length?r.value.t("selectedData",{length:a.value.length})||" ".concat(a.value.length," "):""}};return{show:n,inputValue:a,defaultDate:l,dateRange:c,open:function(){e.disabled||(n.value=!0)},confirm:function(e){u(e),n.value=!1,d()},getStrValue:function(){return a.value?oT(h,e.type)?h[e.type]():a.value||"":""},clear:function(e){e.stopPropagation();var t=Array.isArray(a.value)?[]:"";u(t),d()}}},render:function(){var e=this;return Qr("div",{class:"_fc-calendar"},[Qr(gi("van-field"),{ref:"el",placeholder:this.placeholder,readonly:!0,disabled:this.$props.disabled,onClick:this.open,"model-value":this.getStrValue(),isLink:!0,border:!1},{"right-icon":function(){return e.$props.clearable&&!sT.empty(e.inputValue)?Qr("i",{class:"van-badge__wrapper van-icon van-icon-clear van-field__clear",onClick:e.clear},null):void 0}}),Qr(gi("van-calendar"),aa(Y_(Y_({},this.$attrs),this.dateRange),{show:this.show,"onUpdate:show":function(t){return e.show=t},type:this.type,onConfirm:this.confirm,defaultDate:this.defaultDate}),null)])},mounted:function(){this.$emit("fc.el",this.$refs.el)}}),dT=Bn({name:"fcCascader",inheritAttrs:!1,props:{placeholder:String,disabled:Boolean,clearable:Boolean,fieldNames:Object,modelValue:[String,Number],options:Array,minDate:[String,Date],maxDate:[String,Date]},emits:["update:modelValue","fc.el","change"],setup:function(e,t){var n=St(!1),i=Rt(e,"modelValue"),r=Rt(e,"options"),a=Rt(e,"fieldNames",{}),s=function e(t,n,i){for(var r=0;r<t.length;r++){if(t[r][a.value.value||"value"]===n)return[].concat(iT(i),[t[r]]);if(t[r][a.value.children||"children"]){var s=e(t[r][a.value.children||"children"],n,[].concat(iT(i),[t[r]]));if(s)return s}}},o=function(e){if(null==e||""===e)return"";var t=s(r.value,e,[]);return t?t.map(function(e){return e[a.value.text||"text"]}).join(" / "):e},l=St(o(i.value));_r(function(){return i.value},function(e){l.value=o(e)}),_r(function(){return r.value},function(){null!=i.value&&""!==i.value&&(l.value=o(i.value))},{deep:!0});var c=function(e){t.emit("update:modelValue",e),t.emit("change",e)};return{show:n,inputValue:l,options:r,open:function(){e.disabled||(n.value=!0)},confirm:function(e){var t=e.selectedOptions,i=e.value;l.value=t.map(function(e){return e[a.value.text||"text"]}).join(" / "),n.value=!1,c(i)},clear:function(e){e.stopPropagation(),l.value="",c("")}}},render:function(){var e=this;return Qr("div",{class:"_fc-cascader"},[Qr(gi("van-field"),{ref:"el",placeholder:this.placeholder,readonly:!0,disabled:this.$props.disabled,onClick:this.open,"model-value":this.inputValue,border:!1,isLink:!0},{"right-icon":function(){return e.$props.clearable&&e.inputValue?Qr("i",{class:"van-badge__wrapper van-icon van-icon-clear van-field__clear",onClick:e.clear},null):void 0}}),Qr(gi("van-popup"),{show:this.show,"onUpdate:show":function(t){return e.show=t},round:!0,position:"bottom"},{default:function(){return[Qr(gi("van-cascader"),aa(e.$attrs,{modelValue:e.modelValue,fieldNames:e.fieldNames,options:e.options,onClose:function(){return e.show=!1},onFinish:e.confirm}),null)]}})])},mounted:function(){this.$emit("fc.el",this.$refs.el)}}),hT=Bn({name:"fcCheckbox",inheritAttrs:!1,props:{modelValue:Array,options:Array},emits:["update:modelValue","change"],setup:function(e,t){var n=Rt(e,"modelValue",[]);return{options:Rt(e,"options"),modelValue:n,onInput:function(e){t.emit("update:modelValue",e),t.emit("change",e)}}},render:function(){var e,t;return Qr(gi("van-checkbox-group"),aa({direction:"horizontal"},this.$attrs,{modelValue:Array.isArray(this.modelValue)?this.modelValue:[],"onUpdate:modelValue":this.onInput}),(t=e=(this.options||[]).map(function(e){var t=Y_({},e),n=e.text,i=e.value;return delete t.text,delete t.value,Qr(gi("van-checkbox"),aa({name:i,shape:"square"},t),{default:function(){return[n||e.label||i]}})}),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!Wr(t)?e:{default:function(){return[e]}}))}}),pT=Bn({name:"fcSelect",inheritAttrs:!1,props:{disabled:Boolean,placeholder:String,columnsFieldNames:Object,modelValue:[String,Number],options:Array},emits:["update:modelValue","fc.el","change"],setup:function(e,t){var n=St(!1),i=Rt(e,"modelValue"),r=Rt(e,"options"),a=Rt(e,"columnsFieldNames",{}),s=Sa(function(){if(null==i.value||""===i.value)return"";for(var e=0;e<(r.value||[]).length;e++)if(r.value[e][a.value.value||"value"]===i.value)return r.value[e][a.value.text||"text"];return i.value});return{show:n,inputValue:s,options:r,open:function(){e.disabled||(n.value=!0)},confirm:function(e){var i,r=e.selectedValues;i=r[0],t.emit("update:modelValue",i),t.emit("change",i),n.value=!1}}},render:function(){var e=this;return Qr("div",{class:"_fc-select"},[Qr(gi("van-field"),{ref:"el",placeholder:this.placeholder,readonly:!0,disabled:this.$props.disabled,onClick:this.open,"model-value":this.inputValue,isLink:!0},null),Qr(gi("van-popup"),{show:this.show,"onUpdate:show":function(t){return e.show=t},round:!0,position:"bottom"},{default:function(){return[Qr(gi("van-picker"),aa(e.$attrs,{modelValue:[e.modelValue],columnsFieldNames:e.columnsFieldNames,columns:e.options,onCancel:function(){return e.show=!1},onConfirm:e.confirm}),null)]}})])},mounted:function(){this.$emit("fc.el",this.$refs.el)}});function fT(e){return Array.isArray(e)?e:[null,void 0,""].indexOf(e)>-1?[]:[e]}function mT(e,t){return"object"===K_(e)?e:{url:e,is_string:!0,name:vT(e),uid:t}}function gT(e){return Y_(Y_({},e),{},{file:e,value:e})}function vT(e){return(""+e).split("/").pop()}var yT=Bn({name:"fcUploader",inheritAttrs:!1,props:{formCreateInject:Object,modelValue:[Array,String,Object],afterRead:Function,action:String,headers:Object,method:String,data:Object,uploadName:String,onSuccess:Function,onError:Function,maxCount:Number},emits:["update:modelValue","delete"],setup:function(e,t){var n=Rt(e,"afterRead"),i=Rt(e,"modelValue",[]),r=St(fT(i.value).map(mT).map(gT));_r(function(){return i.value},function(e){r.value=fT(e).map(mT).map(gT)});var a=function(){var n=r.value.map(function(e){return e.is_string?e.url:e.value||e.url}).filter(function(e){return void 0!==e});t.emit("update:modelValue",1===e.maxCount?n[0]||"":n)};return{fileList:r,modelValue:i,onDelete:function(e){a(),t.emit("delete",e)},uploadFile:function(t){var i=this;if(t.status="uploading",n.value)return n.value(t);var r=e.data||{};r[e.uploadName||"file"]=t.file,e.formCreateInject.api.fetch({action:e.action,dataType:"formData",source:"upload",headers:e.headers||{},method:e.method||"post",data:r}).then(function(n){t.status="success",e.onSuccess&&e.onSuccess(n,t),a()}).catch(function(n){t.status="failed",t.message=i.formCreateInject.t("uploadFail")||"",e.onError&&e.onError(n,t)})}}},render:function(){var e=this;return Qr(gi("van-uploader"),aa(this.$attrs,{"model-value":this.fileList,maxCount:this.maxCount,"onUpdate:model-value":function(t){return e.fileList=t},afterRead:this.uploadFile,onDelete:this.onDelete}),this.$slots)}}),bT=Bn({name:"fcRadio",inheritAttrs:!1,props:{modelValue:[String,Number],options:Array},emits:["update:modelValue","change"],setup:function(e,t){var n=Rt(e,"modelValue",[]);return{options:Rt(e,"options"),modelValue:n,onInput:function(e){t.emit("update:modelValue",e),t.emit("change",e)}}},render:function(){var e,t;return Qr(gi("van-radio-group"),aa({direction:"horizontal"},this.$attrs,{modelValue:this.modelValue,"onUpdate:modelValue":this.onInput}),(t=e=(this.options||[]).map(function(e){var t=Y_({},e),n=e.text,i=e.value;return delete t.text,delete t.value,Qr(gi("van-radio"),aa({name:i},t),{default:function(){return[n||e.label||i]}})}),"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!Wr(t)?e:{default:function(){return[e]}}))}}),_T=Bn({name:"fcDatePicker",inheritAttrs:!1,props:{disabled:Boolean,clearable:Boolean,placeholder:String,modelValue:[String,Number],minDate:[String,Date],maxDate:[String,Date]},emits:["update:modelValue","fc.el","change"],setup:function(e,t){var n=St(!1),i=Rt(e,"modelValue"),r=Sa(function(){return null==i.value||""===i.value?[]:i.value.split("-")}),a=Sa(function(){return{minDate:e.minDate?cT(e.minDate).toDate():void 0,maxDate:e.maxDate?cT(e.maxDate).toDate():void 0}}),s=function(e){t.emit("update:modelValue",e),t.emit("change",e)};return{show:n,formValue:r,dateRange:a,open:function(){e.disabled||(n.value=!0)},confirm:function(e){var t=e.selectedValues;s(t.join("-")),n.value=!1},clear:function(e){e.stopPropagation(),s("")}}},render:function(){var e=this;return Qr("div",{class:"_fc-date-picker"},[Qr(gi("van-field"),{ref:"el",placeholder:this.placeholder,readonly:!0,disabled:this.$props.disabled,onClick:this.open,"model-value":this.modelValue,border:!1,isLink:!0},{"right-icon":function(){return e.$props.clearable&&e.modelValue?Qr("i",{class:"van-badge__wrapper van-icon van-icon-clear van-field__clear",onClick:e.clear},null):void 0}}),Qr(gi("van-popup"),{show:this.show,"onUpdate:show":function(t){return e.show=t},round:!0,position:"bottom"},{default:function(){return[Qr(gi("van-date-picker"),aa({columnsType:["year","month","day"]},Y_(Y_({},e.$attrs),e.dateRange),{modelValue:e.formValue,onConfirm:e.confirm,onCancel:function(){return e.show=!1}}),null)]}})])},mounted:function(){this.$emit("fc.el",this.$refs.el)}}),TT=Bn({name:"fcTimePicker",inheritAttrs:!1,props:{disabled:Boolean,clearable:Boolean,placeholder:String,modelValue:[String,Number]},emits:["update:modelValue","fc.el","change"],setup:function(e,t){var n=St(!1),i=Rt(e,"modelValue"),r=Sa(function(){return null==i.value||""===i.value?[]:i.value.split(":")}),a=function(e){t.emit("update:modelValue",e),t.emit("change",e)};return{show:n,formValue:r,open:function(){e.disabled||(n.value=!0)},confirm:function(e){var t=e.selectedValues;a(t.join(":")),n.value=!1},clear:function(e){e.stopPropagation(),a("")}}},render:function(){var e=this;return Qr("div",{class:"_fc-time-picker"},[Qr(gi("van-field"),{ref:"el",placeholder:this.placeholder,readonly:!0,disabled:this.$props.disabled,onClick:this.open,"model-value":this.modelValue,border:!1,isLink:!0},{"right-icon":function(){return e.$props.clearable&&e.modelValue?Qr("i",{class:"van-badge__wrapper van-icon van-icon-clear van-field__clear",onClick:e.clear},null):void 0}}),Qr(gi("van-popup"),{show:this.show,"onUpdate:show":function(t){return e.show=t},round:!0,position:"bottom"},{default:function(){return[Qr(gi("van-time-picker"),aa({columnsType:["hour","minute"]},e.$attrs,{modelValue:e.formValue,onConfirm:e.confirm,onCancel:function(){return e.show=!1}}),null)]}})])},mounted:function(){this.$emit("fc.el",this.$refs.el)}});function ST(e,t,n){e[t]=n}function wT(e,t){delete e[t]}function AT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=!1;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=t[r];if((i=Array.isArray(a))||sT.Object(a)){var s=void 0===e[r];if(i)i=!1,s&&ST(e,r,[]);else if(a._clone&&void 0!==n){if(!n){ST(e,r,a._clone());continue}a=a.getRule(),s&&ST(e,r,{})}else s&&ST(e,r,{});e[r]=AT(e[r],a,n)}else ST(e,r,a),sT.Undef(a)||(sT.Undef(a.__json)||(e[r].__json=a.__json),sT.Undef(a.__origin)||(e[r].__origin=a.__origin))}return void 0!==n&&Array.isArray(e)?e.filter(function(e){return!e||!e.__ctrl}):e}function kT(e){return AT({},{value:e}).value}var xT=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&ST(e,i,t[i]);return e};function CT(){return xT.apply(this,arguments)}function ET(e){return"object"!==K_(e)||null===e?e:e instanceof Array?iT(e):Y_({},e)}function OT(e,t){var n=null;return function(){for(var i=this,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];null!==n&&clearTimeout(n),n=setTimeout(function(){return e.call.apply(e,[i].concat(a))},t)}}function IT(e){return function(e){return e&&"object"===K_(e)&&"function"==typeof e.then}(e)?e:Promise.resolve(e)}function DT(e){var t=e.replace(/([A-Z])/g,"-$1").toLocaleLowerCase();return 0===t.indexOf("-")&&(t=t.substr(1)),t}function PT(e){return e.replace(e[0],e[0].toLocaleUpperCase())}function LT(e,t,n){return"[form-create ".concat(e,"]: ").concat(t)+""}function RT(e,t){console.error(LT("err",e))}var MT="[[FORM-CREATE-PREFIX-",NT="-FORM-CREATE-SUFFIX]]";function jT(e,t){return JSON.stringify(AT(Array.isArray(e)?[]:{},e,!0),function(e,t){if(!t||!0!==t._isVue){if("function"!=typeof t)return t;if(t.__json)return t.__json;if(t.__origin&&(t=t.__origin),!t.__emit)return MT+t+NT}},t)}function BT(e){return new Function("return "+e)()}function FT(e,t){if(e&&sT.String(e)&&e.length>4){var n=e.trim(),i=!1;try{if(n.indexOf(NT)>0&&0===n.indexOf(MT))n=n.replace(NT,"").replace(MT,""),i=!0;else if(0===n.indexOf("$FN:"))n=n.substring(4),i=!0;else if(0===n.indexOf("$EXEC:"))n=n.substring(6),i=!0;else{if(0===n.indexOf("$GLOBAL:")){var r=n.substring(8);return n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0].api.getGlobalEvent(r);if(i)return i.call.apply(i,[this].concat(t))},n.__json=e,n.__inject=!0,n}if(0===n.indexOf("$FNX:"))return(n=BT("function($inject){\n"+n.substring(5)+"\n}")).__json=e,n.__inject=!0,n;(t||0!==n.indexOf("function ")||"function "===n)&&(t||0!==n.indexOf("function(")||"function("===n)||(i=!0)}if(!i)return e;var a;try{a=BT(n)}catch(xZ){a=BT("function "+n)}return a.__json=e,a}catch(xZ){return void RT(":".concat(n,"\n\nerr: ").concat(xZ))}}return e}function UT(e,t){return JSON.parse(e,function(e,n){return sT.Undef(n)||!n.indexOf?n:FT(n,t)})}var $T=0;function VT(){var e=370+ ++$T;return"F"+Math.random().toString(36).substr(3,3)+Number("".concat(Date.now())).toString(36)+e.toString(36)+"c"}function qT(e,t,n){var i,r=e;return(t||"").split(".").forEach(function(e){i&&(r[i]&&"object"==K_(r[i])||(r[i]={}),r=r[i]),i=e}),r[i]=n,r}var zT=Bn({name:"fcGroup",props:{field:String,rule:Array,expand:Number,options:Object,button:{type:Boolean,default:!0},max:{type:Number,default:0},min:{type:Number,default:0},modelValue:{type:Array,default:function(){return[]}},defaultValue:Object,sortBtn:{type:Boolean,default:!1},disabled:{type:Boolean,default:void 0},title:{type:[String,Function],default:null},type:{type:String,default:"default"},onBeforeRemove:{type:Function,default:function(){}},onBeforeAdd:{type:Function,default:function(){}},formCreateInject:Object,parse:Function},data:function(){return{len:0,cacheRule:{},cacheValue:{},sort:[],form:yt(this.formCreateInject.form.$form())}},emits:["update:modelValue","change","itemMounted","remove","add"],watch:{rule:{handler:function(e,t){var n=this;Object.keys(this.cacheRule).forEach(function(i){var r=n.cacheRule[i];if(r.$f){var a=r.$f.formData();if(e===t)r.$f.deferSyncValue(function(){AT(r.rule,e),r.$f.setValue(a)},!0);else{var s=r.$f.formData();r.$f.once("reloading",function(){r.$f.setValue(s)}),r.rule=kT(e)}}})},deep:!0},expand:function(e){var t=e-this.modelValue.length;t>0&&this.expandRule(t)},modelValue:{handler:function(e){var t=this;e=e||[];var n=this.sort,i=n.length,r=i-e.length;if(r<0){for(var a=r;a<0;a++)this.addRule(e.length+a,!0);for(var s=0;s<i;s++)this.setValue(n[s],e[s])}else{if(r>0)for(var o=0;o<r;o++)this.removeRule(n[i-o-1]);e.forEach(function(i,r){t.setValue(n[r],e[r])})}},deep:!0}},methods:{_value:function(e){return e&&oT(e,this.field)?e[this.field]:e},cache:function(e,t){this.cacheValue[e]=JSON.stringify(t)},input:function(e){this.$emit("update:modelValue",e),this.$emit("change",e)},formData:function(e,t){var n=this,i=this.cacheRule,r=this.sort;if(r.filter(function(e){return i[e]&&i[e].$f}).length===r.length){var a=r.map(function(i){var r=e===i?t:Y_({},n.cacheRule[i].$f.form),a=n.field?r[n.field]||null:r;return n.cache(i,a),a});this.input(a)}},setValue:function(e,t){var n=this.field;n&&(t=Q_({},n,this._value(t))),this.cacheValue[e]!==JSON.stringify(n?t[n]:t)&&(this.cacheRule[e].$f&&this.cacheRule[e].$f.coverValue(t),this.cache(e,t))},addRule:function(e,t){var n=this,i=this.formCreateInject.form.copyRules(this.rule||[]),r=this.options?Y_({},this.options):{submitBtn:!1,resetBtn:!1};if(this.defaultValue){r.formData||(r.formData={});var a=kT(this.defaultValue);CT(r.formData,this.field?Q_({},this.field,a):a)}this.parse&&this.parse({rule:i,options:r,index:this.sort.length}),this.cacheRule[++this.len]={rule:i,options:r},this.sort=Object.keys(this.cacheRule),t&&Jt(function(){return n.$emit("add",i,Object.keys(n.cacheRule).length-1)})},add$f:function(e,t,n){var i=this;this.cacheRule[t].$f=n,Jt(function(){i.$emit("itemMounted",n,Object.keys(i.cacheRule).indexOf(t))})},removeRule:function(e,t){var n=this,i=Object.keys(this.cacheRule).indexOf(e);delete this.cacheRule[e],delete this.cacheValue[e],this.sort=Object.keys(this.cacheRule),t&&Jt(function(){return n.$emit("remove",i)})},add:function(e){if(!this.disabled&&!1!==this.onBeforeAdd(this.modelValue)){var t=iT(this.modelValue);t.push(this.defaultValue?kT(this.defaultValue):this.field?null:{}),this.input(t)}},del:function(e,t){var n=this;if(!this.disabled){var i=function(){n.removeRule(t,!0);var i=iT(n.modelValue);i.splice(e,1),n.input(i)};IT(this.onBeforeRemove(this.modelValue,e)).then(function(e){!1!==e&&i()})}},addIcon:function(e){return Qr("div",{class:"_fc-m-group-btn _fc-m-group-plus-minus",onClick:this.add},null)},delIcon:function(e,t){var n=this;return Qr("div",{class:"_fc-m-group-btn _fc-m-group-plus-minus _fc-m-group-minus",onClick:function(){return n.del(e,t)}},null)},sortUpIcon:function(e){var t=this;return Qr("div",{class:"_fc-m-group-btn _fc-m-group-arrow _fc-m-group-up",onClick:function(){return t.changeSort(e,-1)}},null)},sortDownIcon:function(e){var t=this;return Qr("div",{class:"_fc-m-group-btn _fc-m-group-arrow _fc-m-group-down",onClick:function(){return t.changeSort(e,1)}},null)},changeSort:function(e,t){var n=this,i=this.sort[e];this.sort[e]=this.sort[e+t],this.sort[e+t]=i,this.formCreateInject.subForm(this.sort.map(function(e){return n.cacheRule[e].$f})),this.formData(0)},sortIcon:function(e,t){var n=this,i=e>0,r=e<t-1;return i||r?i&&r?Qr("div",{class:"_fc-m-group-btn _fc-m-group-sort"},[Qr("div",{class:"_fc-m-group-sort-up",onClick:function(){return n.changeSort(e,-1)}},null),Qr("div",{class:"_fc-m-group-sort-down",onClick:function(){return n.changeSort(e,1)}},null)]):i?this.sortUpIcon(e):r?this.sortDownIcon(e):void 0:null},makeIcon:function(e,t,n){var i=this;if(this.$slots.button)return this.$slots.button({total:e,index:t,vm:this,key:n,del:function(){return i.del(t,n)},add:this.add});var r=[];if((!this.max||e<this.max)&&e===t+1&&r.push(this.addIcon(n)),e>this.min&&r.push(this.delIcon(t,n)),this.sortBtn){var a=this.sortIcon(t,e);a&&r.push(a)}return r},emitEvent:function(e,t,n,i){this.$emit.apply(this,[e].concat(iT(t),[this.cacheRule[i].$f,n]))},expandRule:function(e){for(var t=0;t<e;t++)this.modelValue.push(this.field?null:{});this.input(iT(this.modelValue))},getTitle:function(e,t){return"function"==typeof this.title?this.title(e,this.modelValue[e],t):"string"==typeof this.title&&this.title.replace("{index}",e+1)}},created:function(){for(var e=(this.expand||0)-this.modelValue.length,t=0;t<this.modelValue.length;t++)this.addRule(t);e>0&&this.expandRule(e)},render:function(){var e=this,t=this.sort,n=this.button,i=this.form,r=this.disabled,a="card"===this.type,s=0===t.length?this.$slots.default?this.$slots.default({vm:this,add:this.add}):Qr("div",{key:"a_def",class:"_fc-m-group-plus-minus _fc-m-group-add fc-clock",onClick:this.add},null):t.map(function(s,o){var l=e.cacheRule[s],c=l.rule,u=l.options,d=n&&!r?e.makeIcon(t.length,o,s):[],h=e.getTitle(o,s);return Qr("div",{class:"_fc-m-group-container",key:s},a?[Qr("div",{class:"_fc-m-group-header"},[!1===h?Qr("div",{class:"_fc-m-group-idx"},[o+1]):null,!1!==h?Qr("div",{class:"_fc-m-group-title"},[h]):null,Qr("div",{class:"_fc-m-group-handle fc-clock"},[d.length?d:null])]),Qr("div",{class:"_fc-m-group-content"},[Qr(i,aa({key:s},{disabled:r,"onUpdate:modelValue":function(t){return e.formData(s,t)},"onEmit-event":function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e.emitEvent(t,i,o,s)},"onUpdate:api":function(t){return e.add$f(o,s,t)},inFor:!0,modelValue:e.field?Q_({},e.field,e._value(e.modelValue[o])):e.modelValue[o],rule:c,option:u,extendOption:!0}),null)])]:[Qr(i,aa({key:s},{disabled:r,"onUpdate:modelValue":function(t){return e.formData(s,t)},"onEmit-event":function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e.emitEvent(t,i,o,s)},"onUpdate:api":function(t){return e.add$f(o,s,t)},inFor:!0,modelValue:e.field?Q_({},e.field,e._value(e.modelValue[o])):e.modelValue[o],rule:c,option:u,extendOption:!0}),null),Qr("div",{class:"_fc-m-group-idx"},[o+1]),d.length?Qr("div",{class:"_fc-m-group-handle fc-clock"},[d]):null])});return Qr("div",{key:"con",class:"_fc-m-group "+(r?"_fc-m-group-disabled":"")+(a?" _fc-m-group-card":"")},[s])}}),HT={name:"IconWarning"},WT={class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},GT=[Kr("path",{fill:"currentColor",d:"M512 64a448 448 0 110 896 448 448 0 010-896zm0 832a384 384 0 000-768 384 384 0 000 768zm48-176a48 48 0 11-96 0 48 48 0 0196 0zm-48-464a32 32 0 0132 32v288a32 32 0 01-64 0V288a32 32 0 0132-32z"},null,-1)];HT.render=function(e,t,n,i,r,a){return Ur(),zr("svg",WT,GT)};var XT=[G_,HT,uT,dT,hT,bT,pT,_T,TT,zT,yT],YT=["props"],KT=["class","style","directives"],QT=["on","hook"],JT=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[].concat(YT,iT(i.normal||[])),a=[].concat(KT,iT(i.array||[])),s=[].concat(QT,iT(i.functional||[])),o=i.props||[];return t.reduce(function(t,n){for(var i in n)if(t[i])if(o.indexOf(i)>-1)t[i]=e([n[i]],t[i]);else if(r.indexOf(i)>-1)t[i]=Y_(Y_({},t[i]),n[i]);else if(a.indexOf(i)>-1){var l=t[i]instanceof Array?t[i]:[t[i]],c=n[i]instanceof Array?n[i]:[n[i]];t[i]=[].concat(iT(l),iT(c))}else if(s.indexOf(i)>-1)for(var u in n[i])if(t[i][u]){var d=t[i][u]instanceof Array?t[i][u]:[t[i][u]],h=n[i][u]instanceof Array?n[i][u]:[n[i][u]];t[i][u]=[].concat(iT(d),iT(h))}else t[i][u]=n[i][u];else if("hook"===i)for(var p in n[i])t[i][p]?t[i][p]=ZT(t[i][p],n[i][p]):t[i][p]=n[i][p];else t[i]=n[i];else r.indexOf(i)>-1||s.indexOf(i)>-1||o.indexOf(i)>-1?t[i]=Y_({},n[i]):a.indexOf(i)>-1?t[i]=n[i]instanceof Array?iT(n[i]):"object"===K_(n[i])?Y_({},n[i]):n[i]:t[i]=n[i];return t},n)},ZT=function(e,t){return function(){e&&e.apply(this,arguments),t&&t.apply(this,arguments)}},eS=["type","slot","ignore","emitPrefix","value","name","native","hidden","display","inject","options","emit","link","prefix","suffix","update","sync","optionsTo","key","slotUpdate","computed","preview","component","cache","modelEmit"],tS=["validate","children","control"],nS=["effect","deep","renderSlots"];function iS(){return[].concat(eS,iT(YT),iT(KT),iT(QT),tS,nS)}function rS(e){var t=e.replace(/(-[a-z])/g,function(e){return e.replace("-","").toLocaleUpperCase()});return aS(t)}function aS(e){return e.replace(e[0],e[0].toLowerCase())}function sS(e,t){return{value:e,enumerable:!1,configurable:!1,writable:!0}}function oS(e,t){return lS([e],t||!1)[0]}function lS(e,t){return AT([],iT(e),t||!1)}function cS(e,t){return JT(Array.isArray(t)?t:[t],e,{array:tS,normal:nS}),e}function uS(e){var t=sT.Function(e.getRule)?e.getRule():e;return t.type||(t.type="input"),t}function dS(e,t){Object.defineProperties(e,Object.keys(t).reduce(function(e,n){return e[n]={get:function(){return t[n]()}},e},{}))}function hS(e){return e.__fc__||(e.__origin__?e.__origin__.__fc__:null)}function pS(e,t){try{t=e()}catch(xZ){!function(e){RT(e.toString()),console.error(e)}(xZ)}return t}function fS(){var e={},t=function(e){return e||"default"};return{setSlot:function(n,i){n=t(n),!i||Array.isArray(i)&&i.length||(e[n]||(e[n]=[]),e[n].push(i))},getSlot:function(n,i){n=t(n);var r=[];return(e[n]||[]).forEach(function(e){if(Array.isArray(e))r.push.apply(r,iT(e));else if(sT.Function(e)){var t=e.apply(void 0,iT(i||[]));Array.isArray(t)?r.push.apply(r,iT(t)):r.push(t)}else sT.Undef(e)||r.push(e)}),r},getSlots:function(){var t=this,n={};return Object.keys(e).forEach(function(e){n[e]=function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.getSlot(e,i)}}),n},slotLen:function(n){return n=t(n),e[n]?e[n].length:0},mergeBag:function(e){var t=this;if(!e)return this;var n=sT.Function(e.getSlots)?e.getSlots():e;return Array.isArray(e)||Wr(e)?this.setSlot(void 0,function(){return e}):Object.keys(n).forEach(function(e){t.setSlot(e,n[e])}),this}}}function mS(e){var t=Y_({},e.props||{});return Object.keys(e.on||{}).forEach(function(n){n.indexOf("-")>0&&(n=rS(n));var i="on".concat(PT(n));Array.isArray(t[i])?t[i]=[].concat(iT(t[i]),[e.on[n]]):t[i]?t[i]=[t[i],e.on[n]]:t[i]=e.on[n]}),t.key=e.key,t.ref=e.ref,t.class=e.class,t.id=e.id,t.style=e.style,t.slot&&delete t.slot,t}function gS(e,t){return Object.setPrototypeOf(e,t),e}var vS=function(e,t){return"string"==typeof e?String(t):"number"==typeof e?Number(t):t},yS={"==":function(e,t){return JSON.stringify(e)===JSON.stringify(vS(e,t))},"!=":function(e,t){return!yS["=="](e,t)},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},on:function(e,t){return e&&e.indexOf&&e.indexOf(vS(e[0],t))>-1},notOn:function(e,t){return!yS.on(e,t)},in:function(e,t){return t&&t.indexOf&&t.indexOf(e)>-1},notIn:function(e,t){return!yS.in(e,t)},between:function(e,t){return e>t[0]&&e<t[1]},notBetween:function(e,t){return e<t[0]||e>t[1]},empty:function(e){return sT.empty(e)},notEmpty:function(e){return!sT.empty(e)},pattern:function(e,t){return new RegExp(t,"g").test(e)}};function bS(e,t){return(Array.isArray(t)?t:(t||"").split(".")).forEach(function(t){null!=e&&(e=e[t])}),e}function _S(e){var t=e.split("."),n=[],i="";return t.forEach(function(e,t){0===t?i=e:i+="."+e,n.push(i)}),n.join(" && ")}function TS(e){for(var t=[],n="",i=0,r=0;r<e.length;r++){var a=e[r];"["===a?(0===i&&n&&(t.push({type:"key",value:n}),n=""),i++,n+=a):"]"===a?(n+=a,0===--i&&(t.push({type:"bracket",value:TS(n.slice(1,-1))}),n="")):"."===a&&0===i?n&&(t.push({type:"key",value:n}),n=""):n+=a}return n&&t.push({type:"key",value:n}),t.map(function(e){return"key"===e.type?{key:e.value}:{children:e.value}})}var SS=function(e,t){if(e&&e!==t)return e.props.formCreateInject?e.props.formCreateInject:e.parent?SS(e.parent,t):void 0};function wS(e,t,n){return Bn({name:"FormCreate"+(e.isMobile?"Mobile":""),components:t,directives:n,props:{rule:{type:Array,required:!0,default:function(){return[]}},option:{type:Object,default:function(){return{}}},extendOption:Boolean,driver:[String,Object],modelValue:Object,disabled:{type:Boolean,default:void 0},preview:{type:Boolean,default:void 0},index:[String,Number],api:Object,locale:[String,Object],t:Function,name:String,subForm:{type:Boolean,default:!0},inFor:Boolean},emits:["update:api","update:modelValue","mounted","submit","reset","change","emit-event","control","remove-rule","remove-field","sync","reload","repeat-field","update","validate-field-fail","validate-fail","created"],render:function(){return this.fc.render()},setup:function(t){var n=ua();Gi("parentFC",n);var i=Xi("parentFC",null),r=i;if(i)for(;r.setupState.parent;)r=r.setupState.parent;else r=n;var a=Dt(t),s=a.rule,o=a.modelValue,l=a.subForm,c=a.inFor,u=ct({ctxInject:{},destroyed:!1,isShow:!0,unique:1,renderRule:iT(s.value||[]),updateValue:JSON.stringify(o.value||{})}),d=new e(n),h=d.api(),p=c.value,f=null;ri(function(){br(function(){var e="",n=t.option&&t.option.globalClass||{};Object.keys(n).forEach(function(t){var i="";n[t].style&&Object.keys(n[t].style).forEach(function(e){i+=DT(e)+":"+n[t].style[e]+";"}),n[t].content&&(i+=n[t].content+";"),i&&(e+=".".concat(t,"{").concat(i,"}"))}),t.option&&t.option.style&&(e+=t.option.style),f||((f=document.createElement("style")).type="text/css",document.head.appendChild(f)),f.innerHTML=e||""})});var m=OT(function(){d.bus.$emit("$loadData.$topForm")},100),g=OT(function(){d.bus.$emit("$loadData.$scopeForm")},100),v=OT(function(){d.bus.$emit("$loadData.$form")},100),y=function(e){d.bus.$emit("change-$form."+e)};return ai(function(){i&&(h.top.bus.$on("$loadData.$form",m),h.top.bus.$on("change",y)),h!==h.scope&&h.scope.bus.$on("$loadData.$scopeForm",g),d.mounted()}),li(function(){i&&(h.top.bus.$off("$loadData.$form",m),h.top.bus.$off("change",y)),h!==h.scope&&h.scope.bus.$off("$loadData.$scopeForm",g),function(){var e=SS(n,i);if(e)if(p){var t=fT(e.getSubForm()),r=t.indexOf(h);r>-1&&t.splice(r,1)}else e.subForm()}(),u.destroyed=!0,d.unmount(),f&&(f.parentNode||f.parentElement)&&document.head.removeChild(f)}),oi(function(){d.updated()}),function(){if(i){var e,t=SS(n,i);t&&(p?(e=fT(t.getSubForm())).push(h):e=h,t.subForm(e))}}(),_r(function(){return t.option},function(){d.initOptions(),h.refresh()},{deep:!0,flush:"sync"}),_r(function(){return iT(s.value)},function(e){d.$handle.isBreakWatch()||e.length===u.renderRule.length&&e.every(function(e){return u.renderRule.indexOf(e)>-1})||(d.$handle.updateAppendData(),d.$handle.reloadRule(s.value),n.setupState.renderRule())}),_r(function(){return[t.disabled,t.preview]},function(){h.refresh()}),_r(o,function(e){jT(e||{})!==u.updateValue&&(h.config.forceCoverValue?h.coverValue(e||{}):h.setValue(e||{}))},{deep:!0,flush:"post"}),_r(function(){return t.index},function(){h.coverValue({}),d.$handle.updateAppendData(),Jt(function(){Jt(function(){h.clearValidateState()})})},{flush:"sync"}),Y_(Y_({fc:yt(d),parent:i?yt(i):i,top:yt(r),fapi:yt(h)},Dt(u)),{},{getGroupInject:function(){return SS(n,i)},refresh:function(){++u.unique},renderRule:function(){u.renderRule=iT(s.value||[])},updateValue:function(e){if(!u.destroyed){var t=jT(e);u.updateValue!==t&&(u.updateValue=t,n.emit("update:modelValue",e),Jt(function(){v(),i?l.value||g():(m(),g())}))}}})},created:function(){var e=ua();e.emit("update:api",e.setupState.fapi),e.setupState.fc.init()}})}function AS(e,t){return function(n,i,r){var a=new kS(e,n,i,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});return t&&(sT.Function(t)?t(a):a.props(t)),a}}function kS(e,t,n,i,r){this._data=CT({props:{},on:{},options:[],children:[],hidden:!1,display:!0,value:void 0},{type:e,title:t,field:n,value:i,props:r||{}}),this.event=this.on}function xS(e){e.forEach(function(e){kS.prototype[e]=function(t){return cS(this._data,Q_({},e,arguments.length<2?t:Q_({},t,arguments[1]))),this}})}CT(kS.prototype,{getRule:function(){return this._data},setProp:function(e,t){return ST(this._data,e,t),this},modelField:function(e){return this._data.modelField=e,this},_clone:function(){var e=new this.constructor;return e._data=oS(this._data),e}}),xS(iS());var CS=AS("");function ES(e,t,n){var i=CS("",t);return i._data.type=e,i._data.title=n,i}function OS(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(xZ){return t}}function IS(e){if("undefined"!=typeof XMLHttpRequest){var t,n=new XMLHttpRequest,i=e.action||"";if(n.upload&&e.onProgress&&n.upload.addEventListener("progress",function(t){t.percent=t.total>0?t.loaded/t.total*100:0,e.onProgress(t)}),e.query){var r=sT.String(e.query)?e.query:Object.keys(e.query).reduce(function(t,n){return t[n]=null===e.query[n]||void 0===e.query[n]?"":e.query[n],t},{}),a=new URLSearchParams(r).toString();a&&(i.includes("?")?i+="&".concat(a):i+="?".concat(a))}n.onerror=function(t){e.onError(t)},n.onload=function(){if(n.status<200||n.status>=300)return e.onError(function(e,t,n){var i="fail to ".concat(e," ").concat(n.status,"'"),r=new Error(i);return r.status=n.status,r.url=e,r}(i,0,n),OS(n));e.onSuccess(OS(n))},n.open(e.method||"get",i,!0),(e.data||e.file)&&(e.file||"json"!==(e.dataType||"").toLowerCase()?(t=new FormData,Object.keys(e.data||{}).map(function(n){t.append(n,e.data[n])})):(t=JSON.stringify(e.data||{}),n.setRequestHeader("content-type","application/json"))),e.file&&t.append(e.filename,e.file,e.file.name),e.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);var s=e.headers||{};Object.keys(s).forEach(function(e){null!=s[e]&&n.setRequestHeader(e,s[e])}),n.send(t)}}function DS(e,t,n){return new Promise(function(i,r){(t||IS)(Y_(Y_({},e),{},{onSuccess:function(t){var r=function(e){return e},a=FT(e.parse);sT.Function(a)?r=a:a&&sT.String(a)&&(r=function(e){return bS(e,a)}),IT(r(t,e.targetRule,n)).then(function(e){i(e)})},onError:function(e){r(e)}}))})}function PS(e){return kT(e)}var LS=1;function RS(e){CT(this,{$handle:e,fc:e.fc,vm:e.vm,$manager:e.$manager,vNode:new e.fc.CreateNode(e),force:!1,tmpInput:null,id:LS++}),dS(this,{options:function(){return e.options},sort:function(){return e.sort}}),this.initCache(),this.initRender()}!function(e){CT(e.prototype,{initCache:function(){this.clearCacheAll()},clearCache:function(e){e.rule.cache||(this.cache[e.id]?((!0===this.cache[e.id].use||this.cache[e.id].parent)&&this.$handle.refresh(),this.cache[e.id].parent&&this.clearCache(this.cache[e.id].parent),this.cache[e.id]=null):e.parent&&this.clearCache(e.parent))},clearCacheAll:function(){this.cache={}},setCache:function(e,t,n){this.cache[e.id]={vnode:t,use:!1,parent:n,slot:e.rule.slot}},getCache:function(e){var t=this.cache[e.id];if(t)return t.use=!0,t.vnode}})}(RS),function(e){CT(e.prototype,{initRender:function(){this.cacheConfig={}},getTypeSlot:function(e){return function t(n){if(n){var i=void 0;return e.rule.field&&(i=n.slots["field-"+DT(e.rule.field)]||n.slots["field-"+e.rule.field]),i||(i=n.slots["type-"+DT(e.type)]||n.slots["type-"+e.type]),i||t(n.setupState.parent)}}(this.vm)},render:function(){var e=this;if(this.vm.setupState.isShow){this.$manager.beforeRender();var t=fS();return this.sort.forEach(function(n){e.renderSlot(t,e.$handle.ctxs[n])}),this.$manager.render(t)}},renderSlot:function(e,t,n){if(this.isFragment(t)){t.initProp(),this.mergeGlobal(t),t.initNone();var i=this.renderChildren(t.loadChildrenPending(),t),r=i.default;r&&e.setSlot(t.rule.slot,function(){return r()}),delete i.default,e.mergeBag(i)}else e.setSlot(t.rule.slot,this.renderCtx(t,n))},mergeGlobal:function(e){var t=this;this.$handle.options.global&&(this.cacheConfig[e.trueType]||(this.cacheConfig[e.trueType]=Sa(function(){var n=t.$handle.options.global;return cS({},[n["*"]||n.default||{},n[e.originType]||n[e.type]||n[e.type]||{}])})),e.prop=cS({},[this.cacheConfig[e.trueType].value,e.prop]))},setOptions:function(e){var t=e.loadPending({key:"options",origin:e.prop.options,def:[]});e.prop.options=t,e.prop.optionsTo&&t&&qT(e.prop,e.prop.optionsTo,t)},deepSet:function(e){var t=e.rule.deep;t&&Object.keys(t).sort(function(e,t){return e.length<t.length?-1:1}).forEach(function(n){qT(e.prop,n,t[n])})},parseSide:function(e,t){return sT.Object(e)?cS({props:{formCreateInject:t.prop.props.formCreateInject}},e):e},renderSides:function(e,t,n){var i=t[n?"rule":"prop"];return[this.renderRule(this.parseSide(i.prefix,t)),e,this.renderRule(this.parseSide(i.suffix,t))]},renderId:function(e,t){var n=this,i=this.$handle["field"===t?"fieldCtx":"nameCtx"][e];return i?i.map(function(e){return n.renderCtx(e,e.parent)}):void 0},renderCtx:function(e,t){var n=this;try{if("hidden"===e.type)return;var i=e.rule;if(this.force||!this.cache[e.id]||this.cache[e.id].slot!==i.slot){var r;e.initProp(),this.mergeGlobal(e),e.initNone(),this.$manager.tidyRule(e),this.deepSet(e),this.setOptions(e),this.ctxProp(e);var a=e.prop;a.preview=!!(null!=a.preview?a.preview:this.$handle.preview),a.props.formCreateInject=this.injectProp(e);var s=!1!==a.cache,o=a.preview;if(a.hidden)return void this.setCache(e,void 0,t);r=function(){for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];var u={rule:i,prop:a,preview:o,api:n.$handle.api,model:a.model||{},slotValue:l};l.length&&i.slotUpdate&&pS(function(){return i.slotUpdate(u)});var d={},h=e.loadChildrenPending();e.parser.renderChildren?d=e.parser.renderChildren(h,e):!1!==e.parser.loadChildren&&(d=n.renderChildren(h,e)),Object.keys(a.renderSlots||{}).forEach(function(t){d[t]=function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];if(sT.Function(a.renderSlots[t]))return pS(function(){var e;return(e=a.renderSlots)[t].apply(e,r)});var o=n.parseSide(a.renderSlots[t],e);return n.renderRule(o)}});var p,f=n.getTypeSlot(e);return f?(u.children=d,p=f(u)):p=o?e.parser.preview(ET(d),e):e.parser.render(ET(d),e),p=n.renderSides(p,e),!e.input&&sT.Undef(a.native)||!0===a.native||(n.fc.targetFormDriver("updateWrap",e),p=n.$manager.makeWrap(e,p)),e.none&&(p=Array.isArray(p)?p.map(function(e){return e&&e.__v_isVNode?n.none(e):e}):n.none(p)),s&&n.setCache(e,function(){return n.stable(p)},t),p},this.setCache(e,r,t)}return function(){var t=n.getCache(e);if(t)return t.apply(void 0,arguments);if(!n.cache[e.id]){var i=n.renderCtx(e,e.parent);return i?i():void 0}}}catch(xZ){return void console.error(xZ)}},none:function(e){if(e)return e.props.class=this.mergeClass(e.props.class,"fc-none"),e},mergeClass:function(e,t){return Array.isArray(e)?(e.push(t),e):e?[e,t]:t},stable:function(e){var t=this;return(Array.isArray(e)?e:[e]).forEach(function(e){e&&e.__v_isVNode&&e.children&&"object"===K_(e.children)&&(e.children.$stable=!0,t.stable(e.children))}),e},getModelField:function(e){return e.prop.modelField||e.parser.modelField||this.fc.modelFields[this.vNode.aliasMap[e.type]]||this.fc.modelFields[e.type]||this.fc.modelFields[e.originType]||"modelValue"},isFragment:function(e){return"fragment"===e.type||"template"===e.type},injectProp:function(e){var t=this,n=this.vm.setupState;n.ctxInject[e.id]||(n.ctxInject[e.id]={api:this.$handle.api,form:this.fc.create,subForm:function(n){t.$handle.addSubForm(e,n)},getSubForm:function(){return t.$handle.subForm[e.id]},slots:function(){return t.vm.setupState.top.slots},getWrap:function(){return t.vm.refs[e.wrapRef]},options:[],children:[],preview:!1,id:e.id,field:e.field,rule:e.rule,input:e.input,t:function(){var e;return(e=t.$handle.api).t.apply(e,arguments)},updateValue:function(n){t.$handle.onUpdateValue(e,n)}});var i=n.ctxInject[e.id];return CT(i,{preview:e.prop.preview,options:e.prop.options,children:e.loadChildrenPending()}),i},ctxProp:function(e){var t=this,n=e.ref,i=e.key,r=e.rule;this.$manager.mergeProp(e),e.parser.mergeProp(e);var a=[{ref:n,key:r.key||"".concat(i,"fc"),slot:void 0,on:{vnodeMounted:function(n){n.el.__rule__=e.rule,t.onMounted(e,n.el)},"fc.updateValue":function(n){t.$handle.onUpdateValue(e,n)},"fc.el":function(t){e.exportEl=t,t&&((t.$el||t).__rule__=e.rule)}}}];if(e.input){var s=this.tmpInput;!0===this.vm.props.disabled&&(e.prop.props.disabled=!0);var o=this.getModelField(e),l={callback:function(n){s&&s(e.field,n,e.rule),t.onInput(e,n)},modelField:o,value:this.$handle.getFormData(e)};a.push({on:Y_(Q_({},"update:".concat(o),l.callback),e.prop.modelEmit?Q_({},e.prop.modelEmit,function(){return t.onEmitInput(e)}):{}),props:Q_({},o,l.value)}),e.prop.model=l}return JT(a,e.prop),e.prop},onMounted:function(e,t){e.el=this.vm.refs[e.ref]||t,e.parser.mounted(e),this.$handle.effect(e,"mounted"),this.$handle.targetHook(e,"mounted")},onInput:function(e,t){e.prop.modelEmit?this.$handle.onBaseInput(e,t):this.$handle.onInput(e,t)},onEmitInput:function(e){this.$handle.setValue(e,e.parser.toValue(e.modelValue,e),e.modelValue)},renderChildren:function(e,t){var n=this;if(!sT.trueArray(e))return{};var i=fS();return e.map(function(r){if(r)return sT.String(r)?i.setSlot(null,r):r.__fc__?n.renderSlot(i,r.__fc__,t):void(r.type&&Jt(function(){n.$handle.loadChildren(e,t),n.$handle.refresh()}))}),i.getSlots()},defaultRender:function(e,t){var n=e.prop;return n.component?"string"==typeof n.component?this.vNode.make(n.component,n,t):this.vNode.makeComponent(n.component,n,t):this.vNode[e.type]?this.vNode[e.type](n,t):this.vNode[e.originType]?this.vNode[e.originType](n,t):this.vNode.make(aS(n.type),n,t)},createChildrenVnodes:function(e,t,n){this.force=!1!==n,this.tmpInput=t;var i=this.renderChildren(e.rule.children,e);return this.force=!1,this.tmpInput=null,i},createRuleVnode:function(e,t,n){this.force=!1!==n,this.tmpInput=t;var i=fS();return this.renderSlot(i,e,e.parent),this.force=!1,this.tmpInput=null,i.getSlots()},renderRule:function(e,t,n){var i=this;if(e){if(sT.String(e))return e;var r;if(n)r=e.type;else if(r=e.is,e.type){r=rS(e.type);var a=this.vNode.aliasMap[r];a&&(r=rS(a))}if(r){var s=fS();sT.trueArray(e.children)&&e.children.forEach(function(e){e&&s.setSlot(null==e?void 0:e.slot,function(){return i.renderRule(e)})});var o=Y_({},e);return delete o.type,delete o.is,this.vNode.make(r,o,s.mergeBag(t).getSlots())}}}})}(RS);var MS=["hook:updated","hook:mounted"];function NS(e,t,n){var i,r=VT(),a=!!t.field;CT(this,{id:r,ref:r,wrapRef:r+"fi",rule:t,origin:t.__origin__||t,name:t.name,pending:{},none:!1,watch:[],linkOn:[],root:[],ctrlRule:[],children:[],parent:null,group:t.subRule?this:null,cacheConfig:null,prop:Y_({},t),computed:{},payload:{},refRule:{},input:a,el:void 0,exportEl:void 0,defaultValue:a?kT(n):void 0,field:t.field||void 0}),this.updateKey(),i=this,Object.defineProperties(i.origin,{__fc__:sS(yt(i))}),i.rule!==i.origin&&Object.defineProperties(i.rule,{__fc__:sS(yt(i))}),this.update(e,!0)}function jS(e,t){for(var n=0;n<e.ctrlRule.length;n++){var i=e.ctrlRule[n];if(i.children===t)return i}}function BS(e){return!!e.rule.__ctrl}function FS(e,t){return"function"==typeof t?""+t:t}CT(NS.prototype,{getParentGroup:function(){for(var e=this.parent;e;){if(e.group)return e;e=e.parent}},loadChildrenPending:function(){var e=this,t=this.rule.children||[];return Array.isArray(t)?t:this.loadPending({key:"children",origin:t,def:[],onLoad:function(t){e.$handle&&e.$handle.loadChildren(t,e)},onUpdate:function(t,n){e.$handle&&(t===n?e.$handle.loadChildren(t,e):e.$handle.updateChildren(e,t,n))},onReload:function(t){e.$handle?e.$handle.updateChildren(e,[],t):delete e.pending.children}})},loadPending:function(e){var t=this,n=e.key,i=e.origin,r=e.def,a=e.onLoad,s=e.onReload,o=e.onUpdate;if(this.pending[n]&&this.pending[n].origin===i)return this.getPending(n,r);delete this.pending[n];var l=i;if(sT.Function(i)){var c=pS(function(){return i({rule:t.rule,api:t.$api,update:function(e){var a=e||r,s=t.getPending(n,r);t.setPending(n,i,a),o&&o(a,s)},reload:function(){var e=t.getPending(n,r);delete t.pending[n],s&&s(e),t.$api&&t.$api.sync(t.rule)}})});c&&sT.Function(c.then)?(c.then(function(e){var s=e||r;t.setPending(n,i,s),a&&a(s),t.$api&&t.$api.sync(t.rule)}).catch(function(e){console.error(e)}),l=r,this.setPending(n,i,l)):(l=c||r,this.setPending(n,i,l),a&&a(l))}return l},getPending:function(e,t){return this.pending[e]&&this.pending[e].value||t},setPending:function(e,t,n){this.pending[e]={origin:t,value:ct(n)}},effectData:function(e){return this.payload[e]||(this.payload[e]={}),this.payload[e]},clearEffectData:function(e){void 0===e?this.payload={}:delete this.payload[e]},updateKey:function(e){this.key=VT(),e&&this.parent&&this.parent.updateKey(e)},updateType:function(){this.originType=this.rule.type,this.type=rS(this.rule.type),this.trueType=this.$handle.getType(this.originType)},setParser:function(e){this.parser=e,e.init(this)},initProp:function(){var e,t,n=this,i=Y_({},this.rule);delete i.children,delete i.validate,this.prop=cS({},[i].concat(iT(Object.keys(this.payload).map(function(e){return n.payload[e]})),[this.computed])),this.prop.validate=[].concat(iT((null===(e=this.refRule)||void 0===e||null===(t=e.__$validate)||void 0===t?void 0:t.value)||[]),iT(this.prop.validate||[]))},initNone:function(){this.none=!(sT.Undef(this.prop.display)||this.prop.display)},hasHidden:function(){return!!this.rule.hidden||!!this.parent&&this.parent.hasHidden()},injectValidate:function(){return this.prop.validate},check:function(e){return this.vm===e.vm},unwatch:function(){var e=this;this.watch.forEach(function(e){return e()}),this.watch=[],Object.keys(this.refRule).forEach(function(t){0!==t.indexOf("__$")&&delete e.refRule[t]})},unlink:function(){this.linkOn.forEach(function(e){return e()}),this.linkOn=[]},link:function(){this.unlink(),this.$handle.appendLink(this)},watchTo:function(){this.$handle.watchCtx(this)},delete:function(){this.unwatch(),this.unlink(),this.rmCtrl(),this.parent&&this.parent.children.splice(this.parent.children.indexOf(this)>>>0,1),CT(this,{deleted:!0,computed:{},parent:null,children:[],cacheConfig:null,none:!1})},rmCtrl:function(){this.ctrlRule.forEach(function(e){return e.__fc__&&e.__fc__.rm()}),this.ctrlRule=[]},rm:function(){var e=this,t=function(){var t=e.root.indexOf(e.origin);t>-1&&(e.root.splice(t,1),e.$handle&&e.$handle.refresh())};this.deleted?t():this.$handle.noWatch(function(){e.$handle.deferSyncValue(function(){e.rmCtrl(),t(),e.$handle.rmCtx(e),CT(e,{root:[]})},e.input)})},update:function(e,t){CT(this,{deleted:!1,$handle:e,$render:e.$render,$api:e.api,vm:e.vm,vNode:e.$render.vNode,updated:!1,cacheValue:this.rule.value}),!t&&this.unwatch(),this.watchTo(),this.link(),this.updateType()}});var US={init:function(e){},toFormValue:function(e,t){return e},toValue:function(e,t){return e},mounted:function(e){},render:function(e,t){return t.$handle.fc.renderDriver&&t.$handle.fc.renderDriver.defaultRender?t.$handle.fc.renderDriver.defaultRender(t,e):t.$render.defaultRender(t,e)},preview:function(e,t){return t.$handle.fc.renderDriver&&t.$handle.fc.renderDriver.defaultPreview?t.$handle.fc.renderDriver.defaultPreview(t,e):this.render(e,t)},mergeProp:function(e){}},$S=["field","value","vm","template","name","config","control","inject","sync","payload","optionsTo","update","slotUpdate","computed","component","cache"],VS=Symbol("oldValue");function qS(e){var t=this;dS(this,{options:function(){return e.options.value||{}},bus:function(){return e.bus},preview:function(){return null!=e.vm.props.preview?e.vm.props.preview:e.vm.setupState.parent&&null!=e.vm.setupState.parent.props.preview?e.vm.setupState.parent.props.preview:e.options.value.preview||!1}}),CT(this,{fc:e,vm:e.vm,watching:!1,loading:!1,reloading:!1,noWatchFn:null,deferSyncFn:null,isMounted:!1,formData:ct({}),subRuleData:ct({}),subForm:{},form:ct({}),appendData:{},ignoreFields:[],providers:{},cycleLoad:null,loadedId:1,nextTick:null,changeStatus:!1,pageEnd:!0,nextReload:function(){t.lifecycle("reload")}}),this.initData(e.rules),this.$manager=new e.manager(this),this.$render=new RS(this),this.api=e.extendApiFn.reduce(function(e,n){var i=pS(function(){return n(e,t)});return i&&i!==e&&CT(e,i),e},function(e){function t(t){return sT.Undef(t)?t=e.fields():Array.isArray(t)||(t=[t]),t}function n(t,n,i){sT.Undef(t)?t=Object.keys(Y_(Y_({},e.fieldCtx),e.nameCtx)):Array.isArray(t)||(t=[t]),t.forEach(function(t){var r=e.fieldCtx[t]||e.nameCtx[t];r&&r.forEach(function(t){ST(t.rule,n,i),e.$render.clearCache(t)})})}function i(){var t=e.subForm;return Object.keys(t).reduce(function(e,n){var i=t[n];return i?(Array.isArray(i)?e.push.apply(e,iT(i)):e.push(i),e):e},[])}var r={get isScope(){return!1===e.vm.props.subForm},get isPreview(){return e.preview},get config(){return e.options},set config(t){e.fc.options.value=t},get options(){return e.options},set options(t){e.fc.options.value=t},get form(){return e.form},get rule(){return e.rules},get parent(){return e.vm.setupState.parent&&e.vm.setupState.parent.setupState.fapi},get top(){return r.parent?r.parent.top:r},get scope(){for(var t=e.vm;t&&t.setupState.fapi;){if(!t.props.subForm)return t.setupState.fapi;t=t.setupState.parent}return r.top},get children(){return i()},get siblings(){var t=e.vm.setupState.getGroupInject();if(t){var n=t.getSubForm();if(Array.isArray(n))return iT(n)}},get index(){var e=r.siblings;if(e){var t=e.indexOf(r);return t>-1?t:void 0}},get formulas(){return Y_({},e.fc.formulas)},formData:function(n){if(null==n||"boolean"==typeof n){var i={};return Object.keys(e.form).forEach(function(t){!0!==n&&-1!==e.ignoreFields.indexOf(t)||(i[t]=PS(e.form[t]))}),i}return t(n).reduce(function(e,t){return e[t]=r.getValue(t),e},{})},getValue:function(t){var n=e.getFieldCtx(t);return n?PS(n.rule.value):!1!==e.options.appendValue&&oT(e.appendData,t)?PS(e.appendData[t]):void 0},coverValue:function(t){var n=Y_({},t||{});e.deferSyncValue(function(){e.appendData={},r.fields().forEach(function(i){var r=e.fieldCtx[i];if(r){var a=oT(t,i);r.forEach(function(e){e.rule.value=a?t[i]:void 0}),delete n[i]}}),CT(e.appendData,n)},!0)},setValue:function(t){var n=t;arguments.length>=2&&(n=Q_({},t,arguments[1])),e.deferSyncValue(function(){Object.keys(n).forEach(function(t){var i=e.fieldCtx[t];if(!i)return e.appendData[t]=n[t];i.forEach(function(e){e.rule.value=n[t]})})},!0)},removeField:function(t){var n=e.getCtx(t);return e.deferSyncValue(function(){e.getCtxs(t).forEach(function(e){e.rm()})},!0),n?n.origin:void 0},removeRule:function(e){var t=e&&hS(e);if(t)return t.rm(),t.origin},fields:function(){return e.fields()},append:function(t,n,i){var r,a=e.sort.length-1,s=e.getCtx(n);if(s)if(i){if(r=s.getPending("children",s.rule.children),!Array.isArray(r))return;a=s.rule.children.length-1}else a=s.root.indexOf(s.origin),r=s.root;else r=e.rules;r.splice(a+1,0,t)},prepend:function(t,n,i){var r,a=0,s=e.getCtx(n);if(s)if(i){if(r=s.getPending("children",s.rule.children),!Array.isArray(r))return}else a=s.root.indexOf(s.origin),r=s.root;else r=e.rules;r.splice(a,0,t)},hidden:function(t,i){n(i,"hidden",!!t),e.refresh()},hiddenStatus:function(t){var n=e.getCtx(t);if(n)return!!n.rule.hidden},display:function(t,i){n(i,"display",!!t),e.refresh()},displayStatus:function(t){var n=e.getCtx(t);if(n)return!!n.rule.display},disabled:function(n,i){t(i).forEach(function(t){e.getCtxs(t).forEach(function(e){ST(e.rule.props,"disabled",!!n)})}),e.refresh()},all:function(t){return Object.keys(e.ctxs).map(function(n){var i=e.ctxs[n];return t?i.origin:i.rule})},model:function(t){return e.fields().reduce(function(n,i){var r=e.fieldCtx[i][0];return n[i]=t?r.origin:r.rule,n},{})},component:function(t){return Object.keys(e.nameCtx).reduce(function(n,i){var r=e.nameCtx[i].map(function(e){return t?e.origin:e.rule});return n[i]=1===r.length?r[0]:r,n},{})},bind:function(){return r.form},reload:function(t){e.reloadRule(t)},updateOptions:function(t){e.fc.updateOptions(t),r.refresh()},onSubmit:function(e){r.updateOptions({onSubmit:e})},sync:function(t){if(Array.isArray(t))t.forEach(function(e){return r.sync(e)});else{var n=sT.Object(t)?hS(t):e.getCtxs(t);n&&((n=Array.isArray(n)?n:[n]).forEach(function(t){if(!t.deleted){var n=e.subForm[t.id];n&&(Array.isArray(n)?n.forEach(function(e){e.refresh()}):n&&n.refresh()),e.$render.clearCache(t)}}),e.refresh())}},refresh:function(){i().forEach(function(e){e.refresh()}),e.$render.clearCacheAll(),e.refresh()},refreshOptions:function(){e.$manager.updateOptions(e.options),r.refresh()},hideForm:function(t){e.vm.setupState.isShow=!t},changeStatus:function(){return e.changeStatus},clearChangeStatus:function(){e.changeStatus=!1},updateRule:function(t,n){e.getCtxs(t).forEach(function(e){CT(e.rule,n)})},updateRules:function(e){Object.keys(e).forEach(function(t){r.updateRule(t,e[t])})},mergeRule:function(t,n){e.getCtxs(t).forEach(function(e){cS(e.rule,n)})},mergeRules:function(e){Object.keys(e).forEach(function(t){r.mergeRule(t,e[t])})},getRule:function(t,n){var i=e.getCtx(t);if(i)return n?i.origin:i.rule},findType:function(t,n){var i=void 0;return Object.keys(e.ctxs).forEach(function(r){var a=e.ctxs[r];a.rule.type===t&&(i=n?a.origin:a.rule)}),i},findTypes:function(t,n){var i=[];return Object.keys(e.ctxs).forEach(function(r){var a=e.ctxs[r];a.rule.type===t&&i.push(n?a.origin:a.rule)}),i},getRenderRule:function(t){var n=e.getCtx(t);if(n)return n.prop},getRefRule:function(t){var n=e.getCtxs(t);if(n){var i=n.map(function(e){return e.rule});return 1===i.length?i[0]:i}},setEffect:function(t,n,i){var r=e.getCtx(t);r&&n&&("$"===n[0]&&(n=n.substr(1)),oT(r.rule,"$"+n)&&ST(r.rule,"$"+n,i),oT(r.rule,"effect")||(r.rule.effect={}),ST(r.rule.effect,n,i))},clearEffectData:function(t,n){var i=e.getCtx(t);i&&(n&&"$"===n[0]&&(n=n.substr(1)),i.clearEffectData(n),r.sync(t))},updateValidate:function(e,t,i){i?r.mergeRule(e,{validate:t}):n(e,"validate",t)},updateValidates:function(e,t){Object.keys(e).forEach(function(n){r.updateValidate(n,e[n],t)})},refreshValidate:function(){r.refresh()},resetFields:function(n){t(n).forEach(function(t){e.getCtxs(t).forEach(function(t){e.$render.clearCache(t),t.rule.value=PS(t.defaultValue)})}),Jt(function(){Jt(function(){Jt(function(){r.clearValidateState(n)})})}),null==n&&(sT.Function(e.options.onReset)&&pS(function(){return e.options.onReset(r)}),e.vm.emit("reset",r))},method:function(e,t){var n=r.el(e);if(!n||!n[t])throw new Error(LT("err","".concat(t," ")));return function(){return n[t].apply(n,arguments)}},exec:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return pS(function(){return r.method(e,t).apply(void 0,i)})},toJson:function(e){return jT(r.rule,e)},trigger:function(e,t){for(var n=r.el(e),i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];n&&n.$emit.apply(n,[t].concat(a))},el:function(t){var n=e.getCtx(t);if(n)return n.el||e.vm.refs[n.ref]},closeModal:function(t){e.bus.$emit("fc:closeModal:"+t)},getSubForm:function(t){var n=e.getCtx(t);return n?e.subForm[n.id]:void 0},getChildrenRuleList:function(t){var n="object"===K_(t),i=n?hS(t):e.getCtx(t),a=i?i.rule:n?t:r.getRule(t);if(!a)return[];var s,o=[];return(s=i?i.loadChildrenPending():a.children)&&s.forEach(function(e){"object"===K_(e)&&(e.field&&o.push(e),o.push.apply(o,iT(r.getChildrenRuleList(e))))}),o},getParentRule:function(t){return("object"===K_(t)?hS(t):e.getCtx(t)).parent.rule},getParentSubRule:function(t){var n="object"===K_(t)?hS(t):e.getCtx(t);if(n){var i=n.getParentGroup();if(i)return i.rule}},getChildrenFormData:function(e,t){return r.getChildrenRuleList(e).reduce(function(e,n){return!0===n.ignore&&!0!==t||(e[n.field]=PS(n.value)),e},{})},setChildrenFormData:function(t,n,i){var a=r.getChildrenRuleList(t);e.deferSyncValue(function(){a.forEach(function(e){oT(n,e.field)?e.value=n[e.field]:i&&(e.value=void 0)})})},getGlobalEvent:function(e){var t=r.options.globalEvent[e];if(t)return"object"===K_(t)&&(t=t.handle),FT(t)},getGlobalData:function(t){return new Promise(function(n,i){var a=r.options.globalData[t];a?"fetch"===a.type?r.fetch(a).then(function(e){n(e)}).catch(i):n(a.data):n(e.fc.loadData[t])})},setGlobalData:function(e,t){r.setData("$globalData."+e,t)},setGlobalVar:function(e,t){r.setData("$var."+e,t)},renderRule:function(t,n,i){var r="object"===K_(t)?hS(t):e.getCtx(t);return r?e.$render.createRuleVnode(r,n,i):void 0},renderChildren:function(t,n,i){var r="object"===K_(t)?hS(t):e.getCtx(t);return r?e.$render.createChildrenVnodes(r,n,i):void 0},nextTick:function(t){e.bus.$once("next-tick",t),e.refresh()},nextRefresh:function(t){e.nextRefresh(),t&&pS(t)},deferSyncValue:function(t,n){e.deferSyncValue(t,n)},emit:function(t){for(var n,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];(n=e.vm).emit.apply(n,[t].concat(r))},bus:e.bus,getCurrentFormRule:function(){var t;return null===(t=e.vm.setupState.getGroupInject())||void 0===t?void 0:t.rule},fetch:function(t){return new Promise(function(n,i){t=kT(t),t=e.loadFetchVar(t),e.beforeFetch(t).then(function(){return DS(t,e.fc.create.fetch,r).then(function(e){pS(function(){return t.onSuccess&&t.onSuccess(e)}),n(e)}).catch(function(e){pS(function(){return t.onError&&t.onError(e)}),i(e)})}).catch(function(e){})})},watchFetch:function(t,n,i,a){return e.fc.watchLoadData(function(s,o){var l=kT(t);l=e.loadFetchVar(l,s),a&&!1===a(l,o)||e.beforeFetch(l).then(function(){return DS(l,e.fc.create.fetch,r).then(function(e){pS(function(){return l.onSuccess&&l.onSuccess(e)}),n&&n(e,o)}).catch(function(e){pS(function(){return l.onError&&l.onError(e)}),i&&i(e)})}).catch(function(e){})},null==t.wait?1e3:t.wait)},getData:function(t,n){return e.fc.get?e.fc.get(t,n):e.fc.getLoadData(t,n)},watchData:function(t){return e.fc.watchLoadData(function(e,n){pS(function(){return t(e,n)})})},setData:function(t,n,i){return e.fc.setData(t,n,i)},refreshData:function(t){return e.fc.refreshData(t)},t:function(t,n){return e.fc.t(t,n)},getLocale:function(){return e.fc.getLocale()},helper:{tidyFields:t,props:n}};return["on","once","off"].forEach(function(t){r[t]=function(){var n;(n=e.bus)["$".concat(t)].apply(n,arguments)}}),r.changeValue=r.changeField=r.setValue,r}(this))}CT(qS.prototype,{initData:function(e){CT(this,{ctxs:{},fieldCtx:{},nameCtx:{},sort:[],rules:e})},init:function(){this.updateAppendData(),this.useProvider(),this.usePage(),this.loadRule(),this.$manager.__init(),this.lifecycle("created")},updateAppendData:function(){this.appendData=Y_(Y_(Y_({},this.options.formData||{}),this.fc.vm.props.modelValue||{}),this.appendData)},isBreakWatch:function(){return this.loading||this.noWatchFn||this.reloading},globalBeforeFetch:function(e){var t=this;return new Promise(function(n,i){var r=t.options.beforeFetch&&pS(function(){return t.options.beforeFetch(e,{api:t.api})});r&&sT.Function(r.then)?r.then(n).catch(i):n()})},beforeFetch:function(e){var t=this;return new Promise(function(n,i){var r=e&&e.beforeFetch&&pS(function(){return e.beforeFetch(e,{api:t.api})});r&&sT.Function(r.then)?r.then(n).catch(i):!1===r?i():n()}).then(function(){return t.globalBeforeFetch(e)})},beforeSubmit:function(e){var t=this;return new Promise(function(n,i){var r=t.options.beforeSubmit&&pS(function(){return t.options.beforeSubmit(e,{api:t.api})});r&&sT.Function(r.then)?r.then(n).catch(i):!1===r?i():n()})}}),function(e){CT(e.prototype,{parseInjectEvent:function(e,t){var n=e.inject||this.options.injectEvent;return this.parseEventLst(e,t,n)},parseEventLst:function(e,t,n,i){var r=this;return Object.keys(t).forEach(function(a){var s=r.parseEvent(e,t[a],n,i);s&&(t[a]=s)}),t},parseEvent:function(e,t,n,i){if(sT.Function(t)&&(!1!==n&&!sT.Undef(n)||t.__inject))return this.inject(e,t,n);if(!i&&Array.isArray(t)&&t[0]&&(sT.String(t[0])||sT.Function(t[0])))return this.parseEventLst(e,t,n,!0);if(sT.String(t)){var r=FT(t);if(r&&t!==r)return r.__inject?this.parseEvent(e,r,n,!0):r}},parseEmit:function(e){var t=this,n={},i=e.rule,r=i.emitPrefix,a=i.field,s=i.name,o=i.inject,l=i.emit||[];return sT.trueArray(l)&&l.forEach(function(e){if(e){var l,c=r||a||s;if(sT.Object(e)&&(l=e.inject,c=(e=e.name).prefix||c),c){var u=DT("".concat(c,"-").concat(e)),d=function(){var e,n,i;t.vm.emitsOptions&&(t.vm.emitsOptions[u]=null);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];(e=t.vm).emit.apply(e,[u].concat(a)),(n=t.vm).emit.apply(n,["emit-event",u].concat(a)),(i=t.bus).$emit.apply(i,[u].concat(a))};if(d.__emit=!0,l||!1!==o){var h=l||o||t.options.injectEvent;n[e]=sT.Undef(h)?d:t.inject(i,d,h)}else n[e]=d}}}),e.computed.on=n,n},getInjectData:function(e,t){var n=e.__fc__&&e.__fc__.$api,i=(e.__fc__&&e.__fc__.$handle.vm||this.vm).props,r=i.option,a=i.rule;return{$f:n||this.api,api:n||this.api,rule:a,self:e.__origin__,option:r,inject:t}},inject:function(e,t,n){if(t.__origin){if(this.watching&&!this.loading)return t;t=t.__origin}var i=this,r=function(){for(var r=i.getInjectData(e,n),a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r.args=[].concat(s),s.unshift(r),t.apply(this,s)};return r.__origin=t,r.__json=t.__json,r},loadStrVar:function(e,t,n){var i=this;if(e&&"string"==typeof e&&e.indexOf("{{")>-1&&e.indexOf("}}")>-1){var r,a=e,s=function(e){for(var t,n=/{{\s*(.*?)\s*}}/g,i={};null!==(t=n.exec(e));)t[1]&&(i[t[1]]=!0);return Object.keys(i)}(e),o=function e(r){var a=[];r.forEach(function(t){t.key?a.push(t.key):t.children&&a.push(e(t.children))});var s=!1;return a.forEach(function(e,t){null==e||0!==e.indexOf("'")&&0!==e.indexOf('"')||(a[t]=e.slice(1,-1),s=!0)}),1!==a.length||!s&&isNaN(Number(a[0]))?function(e){var r,a=!1;if(n&&0===e.indexOf("$form.")){var s=e.split(".");s.shift(),oT(n.value,s[0])&&(a=!0,r=t?t({id:"$form."+s[0]+"_"+n.rule.__fc__.id,getValue:function(){return bS(n.value,s)}}):bS(n.value,s))}return a||(r=t?t(e):i.fc.getLoadData(e)),r}(a.join(".")):a[0]};if(s.forEach(function(t){var n=t.split("||"),i=n[0].trim();if(i){var a=(n[1]||"").trim(),s=TS(i),l=pS(function(){return o(s)});(null==l||""===l)&&n.length>1&&(l=a),r=l,e=e.replaceAll("{{".concat(t,"}}"),null==l?"":l)}}),1===s.length&&a==="{{".concat(s[0],"}}"))return r}return e},loadFetchVar:function(e,t,n){var i,r=this;n&&n.__fc__&&(i=n.__fc__.getParentGroup());var a=function(e){return r.loadStrVar(e,t,i?{rule:n,value:r.subRuleData[i.id]||{}}:null)};return e.action=a(e.action||""),["headers","data","query"].forEach(function(t){if(e[t]){var n=Array.isArray(e[t])?[]:{};Object.keys(e[t]).forEach(function(i){n[a(i)]=a(e[t][i])}),e[t]=n}}),e}})}(qS),function(e){CT(e.prototype,{usePage:function(){var e=this,t=this.options.page;if(t){var n,i=25,r=(n=this.rules).length<31?31:Math.ceil(n.length/3);sT.Object(t)&&(t.first&&(i=parseInt(t.first,10)||i),t.limit&&(r=parseInt(t.limit,10)||r)),CT(this,{first:i,limit:r,pageEnd:this.rules.length<=i}),this.bus.$on("page-end",function(){return e.vm.emit("page-end",e.api)}),this.pageLoad()}},pageLoad:function(){var e=this;this.bus.$on(MS,function t(){e.pageEnd?(e.bus.$off(MS,t),e.bus.$emit("page-end")):(e.first+=e.limit,e.pageEnd=e.rules.length<=e.first,e.loadRule(),e.refresh())})}})}(qS),function(e){CT(e.prototype,{clearNextTick:function(){this.nextTick&&clearTimeout(this.nextTick),this.nextTick=null},bindNextTick:function(e){var t=this;this.clearNextTick(),this.nextTick=setTimeout(function(){e(),t.nextTick=null},10)},render:function(){return++this.loadedId,this.vm.setupState.unique>0?this.$render.render():(this.vm.setupState.unique=1,[])}})}(qS),function(e){CT(e.prototype,{nextRefresh:function(e){var t=this,n=this.loadedId;Jt(function(){n===t.loadedId&&(e?e():t.refresh())})},parseRule:function(e){var t=this,n=uS(e);return Object.defineProperties(n,{__origin__:sS(e)}),function(e){var t={props:{},on:{},options:[],children:[],hidden:!1,display:!0,value:void 0};Object.keys(t).forEach(function(n){oT(e,n)||(e[n]=t[n])})}(n),this.appendValue(n),[n,n.prefix,n.suffix].forEach(function(e){e&&t.loadFn(e,n)}),this.loadCtrl(n),n.update&&(n.update=FT(n.update)),n},loadFn:function(e,t){var n=this;["on","props","deep"].forEach(function(i){e[i]&&n.parseInjectEvent(t,e[i])})},loadCtrl:function(e){e.control&&e.control.forEach(function(e){e.handle&&(e.handle=FT(e.handle))})},syncProp:function(e){var t=this,n=e.rule;sT.trueArray(n.sync)&&JT([{on:n.sync.reduce(function(e,i){return e["object"===K_(i)&&i.event||"update:".concat(i)]=function(e){n.props["object"===K_(i)&&i.prop||i]=e,t.vm.emit("sync",i,e,n,t.fapi)},e},{})}],e.computed)},loadRule:function(){var e=this;this.cycleLoad=!1,this.loading=!0,this.pageEnd&&this.bus.$emit("load-start"),this.deferSyncValue(function(){if(e._loadRule(e.rules),e.loading=!1,e.cycleLoad&&e.pageEnd)return e.loadRule();e.syncForm(),e.pageEnd&&e.bus.$emit("load-end"),e.vm.setupState.renderRule()})},loadChildren:function(e,t){if(this.cycleLoad=!1,this.loading=!0,this.bus.$emit("load-start"),this._loadRule(e,t),this.loading=!1,this.cycleLoad)return this.loadRule();this.syncForm(),this.bus.$emit("load-end"),this.$render.clearCache(t)},_loadRule:function(e,t){var n=this,i=function t(i){var r=e[i-1];if(!r||!r.__fc__)return i>0?t(i-1):-1;var a=n.sort.indexOf(r.__fc__.id);return a>-1?a:t(i-1)},r=function(e,t){sT.trueArray(e)&&n._loadRule(e,t)},a=e.map(function(a,s){if((!t||sT.Object(a))&&(n.pageEnd||t||!(s>=n.first))){if(a.__fc__&&a.__fc__.root===e&&n.ctxs[a.__fc__.id])return r(a.__fc__.loadChildrenPending(),a.__fc__),a.__fc__;var o,l=uS(a),c=function(){return!(!l.field||!n.fieldCtx[l.field]||n.fieldCtx[l.field][0]===a.__fc__)};n.fc.targetFormDriver("loadRule",{rule:l,api:n.api},n.fc),n.ruleEffect(l,"init",{repeat:c()}),c()&&n.vm.emit("repeat-field",a,n.api);var u=!1,d=!!a.__fc__,h=l.value;if(d)if(h=(o=a.__fc__).defaultValue,o.deleted){if(BS(o))return;o.update(n)}else if(!o.check(n)){if(BS(o))return;e[s]=a=a._clone?a._clone():UT(jT(a)),o=null,u=!0}if(o)o.originType!==o.rule.type&&o.updateType(),n.bindParser(o),n.appendValue(o.rule),o.parent&&o.parent!==t&&n.rmSubRuleData(o);else{var p=n.parseRule(a);o=new NS(n,p,h),n.bindParser(o)}n.parseEmit(o),n.syncProp(o),o.parent=t||null,o.root=e,n.setCtx(o),u||d||(n.effect(o,"load"),n.targetHook(o,"load")),n.effect(o,"created");var f=o.loadChildrenPending();if(!1===o.parser.loadChildren||r(f,o),!t){var m=i(s);m>-1||!s?n.sort.splice(m+1,0,o.id):n.sort.push(o.id)}var g=o.rule;return o.updated||(o.updated=!0,sT.Function(g.update)&&n.bus.$once("load-end",function(){n.refreshUpdate(o,g.value,"init")}),n.effect(o,"loaded")),n.refreshControl(o)&&(n.cycleLoad=!0),o}}).filter(function(e){return!!e});t&&(t.children=a)},refreshControl:function(e){return e.input&&e.rule.control&&this.useCtrl(e)},useCtrl:function(e){var t=this,n=function(e){var t=e.rule.control||[];return sT.Object(t)?[t]:t}(e),i=[],r=this.api;if(!n.length)return!1;for(var a=function(t){var a=n[t],s=a.handle||function(e){return(yS[a.condition||"=="]||yS["=="])(e,a.value)};if(!sT.trueArray(a.rule))return"continue";var o=Y_(Y_({},a),{},{valid:pS(function(){return s(e.rule.value,r)}),ctrl:jS(e,a.rule),isHidden:sT.String(a.rule[0])});if(o.valid&&o.ctrl||!o.valid&&!o.ctrl&&!o.isHidden)return"continue";i.push(o)},s=0;s<n.length;s++)a(s);if(!i.length)return!1;var o=[],l=!1;return this.deferSyncValue(function(){i.reverse().forEach(function(n){var i=n.isHidden,a=n.valid,s=n.rule,c=n.prepend,u=n.append,d=n.child,h=n.ctrl,p=n.method;if(i)return a?e.ctrlRule.push({__ctrl:!0,children:s,valid:a}):h&&e.ctrlRule.splice(e.ctrlRule.indexOf(h)>>>0,1),void o[a?"push":"unshift"](function(){"disabled"===p||"enabled"===p?t.api.disabled(!a,s):"display"===p||"show"===p?t.api.display(a,s):"required"===p?(s.forEach(function(e){t.api.setEffect(e,"required",a)}),a||t.api.clearValidateState(s)):t.api.hidden(!a,s)});if(a){l=!0;var f={type:"fragment",native:!0,__ctrl:!0,children:s};e.ctrlRule.push(f),t.bus.$once("load-start",function(){c?r.prepend(f,c,d):u||d?r.append(f,u||e.id,d):e.root.splice(e.root.indexOf(e.origin)+1,0,f)})}else{e.ctrlRule.splice(e.ctrlRule.indexOf(h),1);var m=hS(h);m&&m.rm()}})}),o.length&&(this.loading?o.length&&this.bus.$once("load-end",function(){o.forEach(function(e){return e()})}):o.length&&Jt(function(){o.forEach(function(e){return e()})})),this.vm.emit("control",e.origin,this.api),this.effect(e,"control"),l},reloadRule:function(e){return this._reloadRule(e)},_reloadRule:function(e){var t=this;e||(e=this.rules);var n=Y_({},this.ctxs);this.clearNextTick(),this.initData(e),this.fc.rules=e,this.deferSyncValue(function(){t.bus.$once("load-end",function(){Object.keys(n).filter(function(e){return void 0===t.ctxs[e]}).forEach(function(e){return t.rmCtx(n[e])}),t.$render.clearCacheAll()}),t.reloading=!0,t.loadRule(),t.reloading=!1,t.refresh(),t.bus.$emit("reloading",t.api)}),this.bus.$off("next-tick",this.nextReload),this.bus.$once("next-tick",this.nextReload),this.bus.$emit("update",this.api)},refresh:function(){this.vm.setupState.refresh()}})}(qS),function(e){CT(e.prototype,{setValue:function(e,t,n,i){var r=this;e.deleted||(e.rule.value=t,this.changeStatus=!0,this.nextRefresh(),this.$render.clearCache(e),this.setFormData(e,n),this.syncValue(),this.valueChange(e,t),this.vm.emit("change",e.field,t,e.origin,this.api,i||!1),this.effect(e,"value"),this.targetHook(e,"value",{value:t}),this.emitEvent("change",e.field,t,{rule:e.origin,api:this.api,setFlag:i||!1}),i&&Jt(function(){Jt(function(){Jt(function(){r.api.clearValidateState(e.id)})})}),this.$manager.fieldChange(e,t,n,i))},onInput:function(e,t){var n;e.input&&(this.isQuote(e,n=e.parser.toValue(t,e))||this.isChange(e,t))&&this.setValue(e,n,t)},onUpdateValue:function(e,t){var n=this;this.deferSyncValue(function(){var i=e.getParentGroup(),r=i?n.subRuleData[i.id]:null,a={};Object.keys(t||{}).forEach(function(e){r&&oT(r,e)?a[e]=t[e]:oT(n.api.form,e)?n.api.form[e]=t[e]:n.api.top!==n.api&&oT(n.api.top.form,e)&&(n.api.top.form[e]=t[e])}),Object.keys(a).length&&n.api.setChildrenFormData(i.rule,a)})},onBaseInput:function(e,t){this.setFormData(e,t),e.modelValue=t,this.nextRefresh(),this.$render.clearCache(e)},setFormData:function(e,t){e.modelValue=t;var n=e.getParentGroup();n&&(this.subRuleData[n.id]||(this.subRuleData[n.id]={}),this.subRuleData[n.id][e.field]=e.rule.value),ST(this.formData,e.id,t)},rmSubRuleData:function(e){var t=e.getParentGroup();t&&this.subRuleData[t.id]&&delete this.subRuleData[t.id][e.field]},getFormData:function(e){return this.formData[e.id]},syncForm:function(){var e=this,t=ct({}),n=this.fields(),i=[];!1!==this.options.appendValue&&Object.keys(this.appendData).reduce(function(t,i){return-1===n.indexOf(i)&&(t[i]=Rt(e.appendData,i)),t},t),n.reduce(function(t,n){var r=(e.fieldCtx[n]||[]).filter(function(t){return!e.isIgnore(t)})[0];return r||(r=e.fieldCtx[n][0],i.push(n)),t[n]=Rt(r.rule,"value"),t},t),this.form=t,this.ignoreFields=i,this.syncValue()},isIgnore:function(e){return!0===e.rule.ignore||("hidden"===e.rule.ignore||this.options.ignoreHiddenFields)&&e.hasHidden()},appendValue:function(e){(e.field&&oT(this.appendData,e.field)||sT.Undef(e.value)&&this.options.forceCoverValue)&&(e.value=this.appendData[e.field],delete this.appendData[e.field])},addSubForm:function(e,t){this.subForm[e.id]=t},deferSyncValue:function(e,t){this.deferSyncFn||(this.deferSyncFn=e),this.deferSyncFn.sync||(this.deferSyncFn.sync=t),pS(e),this.deferSyncFn===e&&(this.deferSyncFn=null,e.sync&&this.syncForm())},syncValue:function(){var e=this;if(this.deferSyncFn)return this.deferSyncFn.sync=!0;var t={};Object.keys(this.form).forEach(function(n){-1===e.ignoreFields.indexOf(n)&&(t[n]=e.form[n])}),this.vm.setupState.updateValue(t)},isChange:function(e,t){return JSON.stringify(this.getFormData(e),FS)!==JSON.stringify(t,FS)},isQuote:function(e,t){return(t instanceof Function||sT.Object(t)||Array.isArray(t))&&t===e.rule.value},refreshUpdate:function(e,t,n,i){var r=this;if(sT.Function(e.rule.update)){var a=pS(function(){return e.rule.update(t,e.origin,r.api,{origin:n||"change",linkField:i})});if(void 0===a)return;e.rule.hidden=!0===a}},valueChange:function(e,t){this.refreshRule(e,t),this.bus.$emit("change-"+e.field,t)},refreshRule:function(e,t,n,i){this.refreshControl(e)&&(this.$render.clearCacheAll(),this.loadRule(),this.bus.$emit("update",this.api),this.refresh()),this.refreshUpdate(e,t,n,i)},appendLink:function(e){var t=this,n=e.rule.link;sT.trueArray(n)&&n.forEach(function(n){var i=function(){return t.refreshRule(e,e.rule.value,"link",n)};t.bus.$on("change-"+n,i),e.linkOn.push(function(){return t.bus.$off("change-"+n,i)})})},fields:function(){return Object.keys(this.fieldCtx)}})}(qS),function(e){CT(e.prototype,{getCtx:function(e){return this.getFieldCtx(e)||this.getNameCtx(e)[0]||this.ctxs[e]},getCtxs:function(e){return this.fieldCtx[e]||this.nameCtx[e]||(this.ctxs[e]?[this.ctxs[e]]:[])},setIdCtx:function(e,t,n){var i="".concat(n,"Ctx");this[i][t]?this[i][t].push(e):this[i][t]=[e]},rmIdCtx:function(e,t,n){var i="".concat(n,"Ctx"),r=this[i][t];if(!r)return!1;var a=r.splice(r.indexOf(e)>>>0,1).length>0;return r.length||delete this[i][t],a},getFieldCtx:function(e){return(this.fieldCtx[e]||[])[0]},getNameCtx:function(e){return this.nameCtx[e]||[]},setCtx:function(e){var t=e.id,n=e.field,i=e.name,r=e.rule;this.ctxs[t]=e,i&&this.setIdCtx(e,i,"name"),e.input&&(this.setIdCtx(e,n,"field"),this.setFormData(e,e.parser.toFormValue(r.value,e)),this.isMounted&&!this.reloading&&this.vm.emit("change",e.field,r.value,e.origin,this.api))},getParser:function(e){var t=this.fc.parsers,n=this.fc.renderDriver;if(n){var i=n.parsers||{},r=i[e.originType]||i[rS(e.type)]||i[e.trueType];if(r)return r}return t[e.originType]||t[rS(e.type)]||t[e.trueType]||US},bindParser:function(e){e.setParser(this.getParser(e))},getType:function(e){var t=this.fc.CreateNode.aliasMap,n=t[e]||t[rS(e)]||e;return rS(n)},noWatch:function(e){this.noWatchFn||(this.noWatchFn=e),pS(e),this.noWatchFn===e&&(this.noWatchFn=null)},watchCtx:function(e){var t=this;if(iS().filter(function(e){return"_"!==e[0]&&"$"!==e[0]&&-1===$S.indexOf(e)}).forEach(function(n){var i=Rt(e.rule,n),r="children"===n;e.refRule[n]=i,e.watch.push(_r(r?function(){return sT.Function(i.value)?i.value:iT(i.value||[])}:function(){return i.value},function(a,s){var o=i.value;if(!t.isBreakWatch()){if(r&&!1===e.parser.loadChildren)return t.$render.clearCache(e),void t.nextRefresh();if(t.watching=!0,Jt(function(){t.targetHook(e,"watch",{key:n,oldValue:s,newValue:o})}),"hidden"===n&&Boolean(o)!==Boolean(s)&&(t.$render.clearCacheAll(),Jt(function(){t.targetHook(e,"hidden",{value:o})})),"ignore"===n&&e.input||"hidden"===n&&e.input&&("hidden"===e.rule.ignore||t.options.ignoreHiddenFields))t.syncForm();else{if("link"===n)return void e.link();["props","on","deep"].indexOf(n)>-1?(t.parseInjectEvent(e.rule,o||{}),"props"===n&&e.input&&t.setFormData(e,e.parser.toFormValue(e.rule.value,e))):"emit"===n?t.parseEmit(e):["prefix","suffix"].indexOf(n)>-1?o&&t.loadFn(o,e.rule):"type"===n?(e.updateType(),t.bindParser(e)):r&&(sT.Function(s)&&(s=e.getPending("children",[])),sT.Function(o)&&(o=e.loadChildrenPending()),t.updateChildren(e,o,s))}t.$render.clearCache(e),t.refresh(),t.watching=!1}},{deep:!r,sync:r}))}),e.refRule.__$title=Sa(function(){var n=("object"===K_(e.rule.title)?e.rule.title.title:e.rule.title)||"";if(n){var i=n.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);i&&(n=t.api.t(i[1]))}return n}),e.refRule.__$info=Sa(function(){var n=("object"===K_(e.rule.info)?e.rule.info.info:e.rule.info)||"";if(n){var i=n.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);i&&(n=t.api.t(i[1]))}return n}),e.refRule.__$validate=Sa(function(){var n=function(n){var i,r,a=n.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);return a?t.api.t(a[1],{title:null===(i=e.refRule)||void 0===i||null===(r=i.__$title)||void 0===r?void 0:r.value}):n};return fT(e.rule.validate).map(function(i){var r=Y_({},i);if(r.message&&(r.message=n(r.message)),sT.Function(r.validator)){var a=e;r.validator=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.validator).call.apply(e,[{that:this,id:a.id,field:a.field,rule:a.rule,api:a.$handle.api}].concat(n))}}if(r.adapter){if("object"===K_(r.error)){var s=Y_({},r.error);Object.keys(s).forEach(function(e){s[e]=n(s[e])}),r.error=s}return t.adapterValidate(r,e)}return r})}),e.input){var n=Rt(e.rule,"value");e.watch.push(_r(function(){return n.value},function(){var i=e.parser.toFormValue(n.value,e);t.isChange(e,i)&&t.setValue(e,n.value,i,!0)}))}this.bus.$once("load-end",function(){var n=e.rule.computed;n&&("object"!==K_(n)&&(n={value:n}),Object.keys(n).forEach(function(i){var r=Sa(function(){var r=n[i];if(r){var a=t.compute(e,r);return(r.linkage||r.linkageVariable)&&a===VS?VS:a}}),a=function(n){"value"===i?t.onInput(e,n):"$"===i[0]?t.api.setEffect(e.id,i,n):qT(e.rule,i,n)};("value"===i?[void 0,null,""].indexOf(e.rule.value)>-1:r.value!==bS(e.rule,i))&&a(r.value),e.watch.push(_r(r,function(e){e!==VS&&setTimeout(function(){a(e)})},{deep:!0}))}))}),this.watchEffect(e)},adapterValidate:function(e,t){var n=this;return this.$manager.adapterValidate({required:e.required,message:e.message,trigger:e.trigger},function(i,r){if(!1===(e.beforeValidate&&pS(function(){return e.beforeValidate({value:i,api:n.api,validate:e,rule:t.rule})})))r();else{var a=n.validator(t,i,e);if(a){var s="";"object"===K_(e.error)&&(s=e.error[a]||e.error.default),s||"string"!=typeof e.message||(s=e.message),s||(s=n.getValidateMessage(t,{key:a,rule:e[a]})),r(s)}else if(e.validator){var o=e.validator&&pS(function(){return e.validator(i,r)});o&&sT.Function(o.then)&&o.then(function(){return r()}).catch(function(e){return r(e)})}else r()}})},getValidateMessage:function(e,t){var n,i,r,a=Array.isArray(t.rule)?t.rule.join(","):""+t.rule;return this.api.t("required"===t.key?t.key:"validate."+t.key,(Q_(r={},t.key,a),Q_(r,"title",null===(n=e.refRule)||void 0===n||null===(i=n.__$title)||void 0===i?void 0:i.value),r))},validator:function(e,t,n){var i=this;if(sT.empty(t))return n.required?"required":void 0;for(var r=function(){var n=nT(s[a],2),r=n[0],o=n[1];switch(r){case"len":case"maxLen":case"minLen":var l=function(e){return"len"===r?e===o:"maxLen"===r?e<=o:e>=o};if(Array.isArray(t)){if(!l(t.length))return{v:r}}else{if("object"===K_(t))return{v:r};if(!l((""+t).length))return{v:r}}break;case"pattern":if(!("string"==typeof o?new RegExp(o):o).test(""+t))return{v:r};break;case"uppercase":if(o&&("string"!=typeof t||!/^[A-Z]*$/.test(t)))return{v:r};break;case"lowercase":if(o&&("string"!=typeof t||!/^[a-z]*$/.test(t)))return{v:r};break;case"min":case"max":case"positive":case"negative":case"integer":case"number":var c=Number(t);if(Number.isNaN(c))return{v:r};if("min"===r&&c<o)return{v:r};if("max"===r&&c>o)return{v:r};if("positive"===r&&c<=0)return{v:r};if("negative"===r&&c>=0)return{v:r};if("integer"===r&&!Number.isInteger(c))return{v:r};break;case"equal":if(t!==o)return{v:r};break;case"enum":if(Array.isArray(o)&&!o.includes(t))return{v:r};break;case"hasKeys":if("object"!==K_(t)||Array.isArray(o)&&o.some(function(e){return!(e in t)}))return{v:r};break;case"email":if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(""+t))return{v:r};break;case"url":if(!new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i").test(""+t))return{v:r};break;case"ip":if(!/^(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})(\.(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})){3}$/.test(""+t))return{v:r};break;case"phone":if(!/^(?:(?:\+|00)86)?1[3-9]\d{9}$/.test(""+t))return{v:r};break;case"computed":if(!i.compute(e,o))return{v:r}}},a=0,s=Object.entries(n);a<s.length;a++){var o=r();if("object"===K_(o))return o.v}},compute:function(e,t){var n,i=this;if("object"===K_(t)){var r=e.getParentGroup(),a=function t(n){if(n=Array.isArray(n)?{mode:"AND",group:n}:n,!sT.trueArray(n.group))return!0;for(var a="OR"===n.mode,s=!0,o=function(o){var l=n.group[o],c=void 0,u=null,d=null;if(l.variable)d=i.fc.getLoadData(l.variable);else if(l.field)u=_S(l.field||"");else if(!l.mode)return{v:!0};if(!l.variable&&!l.field)return{v:!1};var h=l.compare;if(h&&(h=_S(h||"")),c=l.mode?t(l):!!yS[l.condition]&&(sT.Function(l.handler)?pS(function(){return l.handler(i.api,e.rule)}):pS(function(){return new Function("$condition","$variableVal","$val","$form","$scope","$group","$rule","with($form){with($scope){with(this){with($group){ return $condition['".concat(l.condition,"'](").concat(l.variable?"$variableVal":u,", ").concat(h||"$val","); }}}}")).call(i.api.form,yS,d,l.value,i.api.top.form,i.api.top===i.api.scope?{}:i.api.scope.form,r&&i.subRuleData[r.id]||{},e.rule)})),a&&c)return{v:!0};a||(s=s&&c)},l=0;l<n.group.length;l++){var c=o(l);if("object"===K_(c))return c.v}return!a&&s}(t);return a=!0===t.invert?!a:a,t.linkage?a?pS(function(){return i.computeValue(t.linkage,e,r)},void 0):VS:t.linkageVariable?a?pS(function(){return i.fc.getLoadData(t.linkageVariable)},void 0):VS:a}if(sT.Function(t))n=function(){return t(i.api.form,i.api,e.rule)};else{var s=e.getParentGroup();n=function(){return i.computeValue(t,e,s)}}return pS(n,void 0)},computeValue:function(e,t,n){var i=this,r=this,a=Object.keys(this.fc.formulas).reduce(function(e,n){return e[n]=function(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=r.fc.formulas[n]).call.apply(e,[{that:this,rule:t.rule,api:r.api,fc:r.fc}].concat(a))},e},{});return pS(function(){return new Function("$formulas","$form","$scope","$group","$rule","$api","with($form){with($scope){with(this){with($group){with($formulas){ return ".concat(e," }}}}}")).call(i.api.form,a,i.api.top.form,i.api.top===i.api.scope?{}:i.api.scope.form,n&&i.subRuleData[n.id]||{},t.rule,i.api)},void 0)},updateChildren:function(e,t,n){var i=this;this.deferSyncValue(function(){n&&n.forEach(function(n){-1===(t||[]).indexOf(n)&&n&&!sT.String(n)&&n.__fc__&&n.__fc__.parent===e&&i.rmCtx(n.__fc__)}),sT.trueArray(t)&&(i.loadChildren(t,e),i.bus.$emit("update",i.api))})},rmSub:function(e){var t=this;sT.trueArray(e)&&e.forEach(function(e){e&&e.__fc__&&t.rmCtx(e.__fc__)})},rmCtx:function(e){var t=this;if(!e.deleted){var n=e.id,i=e.field,r=e.input,a=e.name;wT(this.ctxs,n),wT(this.formData,n),wT(this.subForm,n),wT(this.vm.setupState.ctxInject,n);var s=e.getParentGroup();s&&this.subRuleData[s.id]&&wT(this.subRuleData[s.id],i),e.group&&wT(this.subRuleData,n),r&&this.rmIdCtx(e,i,"field"),a&&this.rmIdCtx(e,a,"name"),r&&!oT(this.fieldCtx,i)&&wT(this.form,i),this.deferSyncValue(function(){if(!t.reloading){if(!1!==e.parser.loadChildren){var n=e.getPending("children",e.rule.children);sT.trueArray(n)&&n.forEach(function(e){return e&&e.__fc__&&t.rmCtx(e.__fc__)})}e.root===t.rules&&t.vm.setupState.renderRule()}},r);var o=this.sort.indexOf(n);return o>-1&&this.sort.splice(o,1),this.$render.clearCache(e),e.delete(),this.effect(e,"deleted"),this.targetHook(e,"deleted"),r&&!this.fieldCtx[i]&&this.vm.emit("remove-field",i,e.rule,this.api),e.rule.__ctrl||this.vm.emit("remove-rule",e.rule,this.api),e}}})}(qS),function(e){CT(e.prototype,{mounted:function(){var e=this,t=function(){e.isMounted=!0,e.lifecycle("mounted")};this.pageEnd?t():this.bus.$once("page-end",t)},lifecycle:function(e){this.fc.targetFormDriver(e,this.api,this.fc),this.vm.emit(e,this.api),this.emitEvent(e,this.api)},emitEvent:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var a=this.options[e]||this.options[rS("on-"+e)];if(a){var s=FT(a);sT.Function(s)&&pS(function(){return s.apply(void 0,i)})}(t=this.bus).$emit.apply(t,[e].concat(i))},targetHook:function(e,t,n){var i,r,a=this,s=function(t,i){t&&(t=Array.isArray(t)?t:[t]).forEach(function(t){pS(function(){return t(Y_(Y_({},n||{}),{},{self:e.rule,rule:e.rule,parent:null==i?void 0:i.rule,$f:a.api,api:a.api,option:a.vm.props.option}))})})};s(null===(i=e.prop)||void 0===i||null===(r=i.hook)||void 0===r?void 0:r[t]);for(var o="deep"+PT(t),l=e.parent;l;){var c,u;s(null===(c=l.prop)||void 0===c||null===(u=c.hook)||void 0===u?void 0:u[o],l),l=l.parent}}})}(qS),function(e){CT(e.prototype,{useProvider:function(){var e=this,t=this.fc.providers;Object.keys(t).forEach(function(n){var i=t[n];sT.Function(i)&&(i=i(e.fc)),i._c=function(e){var t=e.components;if(Array.isArray(t)){var n=function(e){return e.filter(function(e,t,n){return n.indexOf(e,0)===t})}(t.filter(function(e){return"*"!==e}));return!!n.length&&n}return!!sT.String(t)&&[t]}(i),e.onEffect(i,n),e.providers[n]=i})},onEffect:function(e,t){var n=this,i=[];(e._c||["*"]).forEach(function(r){var a="*"===r?"*":n.getType(r);i.indexOf(a)>-1||(i.push(a),n.bus.$on("p:".concat(t||e.name,":").concat(a,":").concat(e.input?1:0),function(t,n){e[t]&&e[t].apply(e,iT(n))}))}),e._used=i},watchEffect:function(e){var t=this,n={required:function(){var t,n;return(oT(e.rule,"$required")?e.rule.$required:null===(t=e.rule)||void 0===t||null===(n=t.effect)||void 0===n?void 0:n.required)||!1}};Object.keys(e.rule.effect||{}).forEach(function(t){n[t]=function(){return e.rule.effect[t]}}),Object.keys(e.rule).forEach(function(t){"$"===t[0]&&(n[t.substr(1)]=function(){return e.rule[t]})}),Object.keys(n).forEach(function(i){e.watch.push(_r(n[i],function(n){t.effect(e,"watch",Q_({},i,n))},{deep:!0}))})},ruleEffect:function(e,t,n){this.emitEffect({rule:e,input:!!e.field,type:this.getType(e.type)},t,n)},effect:function(e,t,n){this.emitEffect({rule:e.rule,input:e.input,type:e.trueType,ctx:e,custom:n},t)},getEffect:function(e,t){return oT(e,"$"+t)?e["$"+t]:oT(e,"effect")&&oT(e.effect,t)?e.effect[t]:void 0},emitEffect:function(e,t,n){var i=this,r=e.ctx,a=e.rule,s=e.input,o=e.type,l=e.custom;if(o&&!(["fcFragment","fragment"].indexOf(o)>-1)){var c=l||Object.keys(a).reduce(function(e,t){return"$"===t[0]&&(e[t.substr(1)]=a[t]),e},Y_({},a.effect||{}));Object.keys(c).forEach(function(e){var l=i.providers[e];if(l&&(!l.input||s)){var u;if(l._c){if(!(l._used.indexOf(o)>-1))return;u=o}else u="*";var d=Y_({value:c[e],getValue:function(){return i.getEffect(a,e)}},n||{});r&&(d.getProp=function(){return r.effectData(e)},d.clearProp=function(){return r.clearEffectData(e)},d.mergeProp=function(e){return cS(d.getProp(),[e])},d.id=r.id),i.bus.$emit("p:".concat(e,":").concat(u,":").concat(l.input?1:0),t,[d,a,i.api])}})}}})}(qS);var zS=Bn({name:"fcFragment",inheritAttrs:!1,props:["vnode"],render:function(){return this.vnode}});function HS(e,t){var n=e.directives;return n?(Array.isArray(n)||(n=[n]),un(t,n.reduce(function(e,t){return e.concat(function(e){return Object.keys(e).map(function(t){var n=e[t],i=bi(t);if(i)return[i,n.value,n.arg,n.modifiers]}).filter(function(e){return!!e})}(t))},[]))):t}function WS(){var e={};function t(e){this.vm=e.vm,this.handle=e}return CT(t.prototype,{make:function(e,t,n){return HS(t,this.h(e,mS(t),n))},makeComponent:function(e,t,n){try{return HS(t,Qr(e,mS(t),n))}catch(xZ){return console.error(xZ),Qr("")}},h:function(e,t,n){var i=(this.vm||ua()).appContext.config.isNativeTag(e),r=this.handle.fc.prop.components[e];!r&&i&&delete t.formCreateInject;try{return Qr(r||(i?e:gi(e)),t,n)}catch(xZ){return console.error(xZ),Qr("")}},aliasMap:e}),CT(t,{aliasMap:e,alias:function(t,n){e[t]=n},use:function(n){Object.keys(n).forEach(function(i){var r,a=DT(i),s=(r=i,null==r?"":"object"===K_(r)?JSON.stringify(r,null,2):String(r)).toLocaleLowerCase(),o=n[i];t.alias(i,o),[i,a,s].forEach(function(n){t.prototype[n]=function(t,r){return this.make(e[i]||n,t,r)}})})}}),t}function GS(e){var t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Z_(e,t)}(n,e);var t=tT(n);function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.apply(this,arguments)}return n}(XS);return Object.assign(t.prototype,e),t}function XS(e){CT(this,{$handle:e,vm:e.vm,options:{},ref:"fcForm",mergeOptionsRule:{normal:["form","row","info","submitBtn","resetBtn"]}}),this.updateKey(),this.init()}CT(XS.prototype,{__init:function(){var e=this;this.$render=this.$handle.$render,this.$r=function(){var t;return(t=e.$render).renderRule.apply(t,arguments)}},updateKey:function(){this.key=VT()},init:function(){},update:function(){},beforeRender:function(){},form:function(){return this.vm.refs[this.ref]},adapterValidate:function(e,t){return e.validator=function(e,n,i){return t(n,i)},e},getSlot:function(e){return function t(n){if(n){var i=n.slots[e];return i||t(n.setupState.parent)}}(this.vm)},mergeOptions:function(e,t){var n=this;return JT(e.map(function(e){return n.tidyOptions(e)}),t,this.mergeOptionsRule)},updateOptions:function(e){this.$handle.fc.targetFormDriver("updateOptions",e,{handle:this.$handle,api:this.$handle.api}),this.options=this.mergeOptions([e],this.getDefaultOptions()),this.update()},tidyOptions:function(e){return e},tidyRule:function(e){},mergeProp:function(e){},getDefaultOptions:function(){return{}},fieldChange:function(e,t,n,i){},render:function(e){}});var YS={name:"componentValidate",load:function(e,t,n){var i=e.getValue();if(i&&!1!==i.method){sT.Object(i)||(i={method:i});var r=i.method,a=Y_(Y_({},i),{},{validator:function(){var i=hS(t);if(i){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n.exec.apply(n,[i.id,sT.String(r)?r:"formCreateValidate"].concat(s,[{attr:e,rule:t,api:n}]))}}});delete a.method,e.getProp().validate=[a]}else e.clearProp(),n.clearValidateState([t.field])},watch:function(){YS.load.apply(YS,arguments)}},KS={fetch:function(e){function t(t,i,r){var a=t.value;n.deleted(t),sT.Function(a)&&(a=a(i,r)),a=function(e){return sT.String(e)&&(e={action:e,to:"options"}),e}(a);var s=function(n){void 0===n?t.clearProp():qT(t.getProp(),a.to||"options",n),null!=n&&a&&a.key&&e.$handle.options.globalData[a.key]&&e.fetchCache.set(e.$handle.options.globalData[a.key],{status:!0,data:n}),r.sync(i)};if(a&&(a.action||a.key)){(a=kT(a)).to||(a.to="options");var o=a.onError,l=function(){if(!t.getValue())return t.clearProp(),r.sync(i),!0};n._fn[t.id]=e.watchLoadData(OT(function(c,u){if(u&&!1===a.watch)return n._fn[t.id]();if(a.key){e.targetRule=i;var d=c("$globalData."+a.key);if(delete e.targetRule,d){if(l())return;s(d)}}else{var h=e.$handle.loadFetchVar(kT(a),c,i),p=Y_(Y_({headers:{}},h),{},{onSuccess:function(e,t){if(!l()){var n=function(e){return t?e:oT(e,"data")?e.data:e},a=FT(h.parse);sT.Function(a)?n=a:a&&sT.String(a)&&(n=function(e){return bS(e,a)}),IT(n(e,i,r)).then(function(e){s(e)})}},onError:function(e){s(void 0),l()||(o||function(e){return RT(e.message||"fetch fail "+h.action)})(e,i,r)}});e.$handle.beforeFetch(p,{rule:i,api:r}).then(function(){sT.Function(h.action)?IT(h.action(i,r)).then(function(e){p.onSuccess(e,!0)}).catch(function(e){p.onError(e)}):pS(function(){return e.create.fetch(p,{inject:t,rule:i,api:r})})}).catch(function(e){})}},a.wait||600))}else s(void 0)}var n={name:"fetch",_fn:[],loaded:function(){t.apply(void 0,arguments)},watch:function(){t.apply(void 0,arguments)},deleted:function(e){this._fn[e.id]&&(this._fn[e.id](),delete this._fn[e.id]),e.clearProp()}};return n},loadData:function(e){var t={name:"loadData",_fn:[],loaded:function(t,n,i){var r=this;this.deleted(t),Jt(function(){var a=fT(t.getValue()),s=[];a.forEach(function(r){if(r&&(r.attr||r.template)){var a=function(a){var s,o;n&&n.__fc__&&(s=n.__fc__.getParentGroup()),null!=(o=r.template?e.$handle.loadStrVar(r.template,a,s?{rule:n,value:e.$handle.subRuleData[s.id]||{}}:null):r.handler&&sT.Function(r.handler)?r.handler(a,n,i):e.$handle.loadStrVar("{{".concat(r.attr,"}}"),a,s?{rule:n,value:e.$handle.subRuleData[s.id]||{}}:null))&&""!==o||null==r.default||(o=r.default),!1!==r.copy&&(o=kT(o));var l=r.modify?n:t.getProp();"child"===r.to?l.children?l.children[0]=o:l.children=[o]:qT(l,r.to||"options",o),i.sync(n)},o=e.watchLoadData(function(e){return a(e)});a=OT(a,r.wait||300),!1!==r.watch?s.push(o):o()}}),r._fn[t.id]=s})},deleted:function(e){this._fn[e.id]&&(this._fn[e.id].forEach(function(e){e()}),delete this._fn[e.id]),e.clearProp()}};return t.watch=t.loaded,t},t:function(e){var t={name:"t",_fn:[],loaded:function(t,n,i){this.deleted(t);var r=t.getValue()||{},a=[];Object.keys(r).forEach(function(s){var o=r[s];if(o){var l="object"===K_(o),c=function(r){var a=e.t(l?o.attr:o,l?o.params:null,r),c=l&&o.modify?n:t.getProp();"child"===s?c.children?c.children[0]=a:c.children=[a]:qT(c,s,a),i.sync(n)},u=e.watchLoadData(function(e){return c(e)});c=OT(c,o.wait||300),!1!==o.watch?a.push(u):u()}}),this._fn[t.id]=a},deleted:function(e){this._fn[e.id]&&(this._fn[e.id].forEach(function(e){e()}),delete this._fn[e.id]),e.clearProp()}};return t.watch=t.loaded,t},componentValidate:YS};function QS(e){e=e||new Map;var t={$on:function(t,n){var i=e.get(t);i&&i.push(n)||e.set(t,[n])},$once:function(e,n){n._once=!0,t.$on(e,n)},$off:function(t,n){var i=e.get(t);i&&i.splice(i.indexOf(n)>>>0,1)},$emit:function(n){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];(e.get(n)||[]).slice().map(function(e){e._once&&(t.$off(n,e),delete e._once),e.apply(void 0,r)}),(e.get("*")||[]).slice().map(function(e){e(n,r)})}};return t}var JS={name:"html",loadChildren:!1,render:function(e,t){return t.prop.props.innerHTML=e.default(),t.vNode.make(t.prop.props.tag||"div",t.prop)},renderChildren:function(e){return{default:function(){return e.filter(function(e){return sT.String(e)}).join("")}}}};function ZS(e){e+="=";for(var t=decodeURIComponent(document.cookie).split(";"),n=0;n<t.length;n++){for(var i=t[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(e)){i=i.substring(e.length,i.length);try{return JSON.parse(i)}catch(xZ){return i}}}return null}function ew(e){var t=localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(xZ){return t}return null}function tw(e){var t=sessionStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(xZ){return t}return null}function nw(e,t){if(!t)return null;var n=t.split("."),i=e(n.shift());return n.length?null==i?null:bS(i,n):i}function iw(e){return nw(ZS,e)}function rw(e){return nw(ew,e)}function aw(e){return nw(tw,e)}var sw={en:{required:"{title} is required",validate:{url:"{title} is not a valid url",email:"{title} is not a valid email",ip:"{title} {title} is not a valid ip",phone:"{title} {title} is not a valid phone",pattern:"{title} does not match pattern {pattern}",uppercase:"{title} must be all uppercase",lowercase:"{title} must be all lowercased",positive:"{title} is not a positive number",negative:"{title} is not a negative number",equal:"{title} is not equal to {equal}",min:"{title} cannot be less than {min}",max:"{title} cannot be greater than {max}",enum:"{title} must be one of {enum}",hasKeys:"{title} does not contain required fields {hasKeys}",minLen:"{title} must be at least {minLen}",maxLen:"{title} cannot be longer than {maxLen}",len:"{title} must be exactly {len}",integer:"{title} is not an integer",number:"{title} is not an number"}},"zh-cn":{required:"{title}",validate:{url:"{title} url ",email:"{title}",ip:"{title} IP ",phone:"{title}",pattern:"{title} {pattern}",uppercase:"{title}",lowercase:"{title}",positive:"{title}",negative:"{title}",equal:"{title} {equal}",min:"{title} {min}",max:"{title} {max}",enum:"{title} {enum} ",hasKeys:"{title} {hasKeys} ",minLen:"{title} {minLen}",maxLen:"{title} {maxLen}",len:"{title} {len}",integer:"{title}",number:"{title}"}}};function ow(e,t){var n;return 2===arguments.length?t=(n=arguments[1])[e]:n=arguments[2],{id:t,prop:n}}function lw(){return ow.apply(void 0,["name"].concat(Array.prototype.slice.call(arguments)))}var cw=1,uw={},dw=Symbol("defValue");function hw(e){var t,n=Q_({},zS.name,zS),i={},r={},a={},s={},o=[],l=[],c=[e.extendApi],u=Y_({},KS),d={create:ES,factory:AS},h={global:{}},p=!0===e.isMobile,f=ct({$mobile:p}),m=WS(),g={},v={};function y(e){var t=uw[e];return Array.isArray(t)?t.map(function(e){return e.api()}):t?t.api():void 0}function b(e){o.push(e)}function _(){var e=lw.apply(void 0,arguments);e.id&&e.prop&&(r[e.id]=e.prop)}function T(){var e=lw.apply(void 0,arguments);e.id&&e.prop&&(u[e.id]=sT.Function(e.prop)?e.prop:Y_(Y_({},e.prop),{},{name:e.id}))}function S(e){m.use(e)}function w(){var e=lw.apply(void 0,arguments);if(!e.id||!e.prop)return US;var t=rS(e.id),n=e.prop,r=!0===n.merge?i[t]:void 0;i[t]=gS(n,r||US),d[t]=AS(t),n.maker&&CT(d,n.maker)}function A(e,t){var r;if(sT.String(e)){if(r=e,void 0===t)return n[r]}else r=e.displayName||e.name,t=e;if(r&&t){var a=rS(r);n[r]=t,n[a]=t,delete m.aliasMap[r],delete m.aliasMap[a],delete i[r],delete i[a],t.formCreateParser&&w(r,t.formCreateParser)}}function k(){return wS(U,n,r)}function x(){return zS}function C(e,t){return sT.Function(e.install)?e.install(E,t):sT.Function(e)&&e(E,t),this}function E(e,t){var n=function(e,t){var n=k();return Is({data:function(){return ct({rule:e,option:t})},render:function(){return wa(n,Y_({ref:"fc"},this.$data))}})}(e,t||{});o.forEach(function(e){pS(function(){return e(E,n)})});var i=document.createElement("div");return((null==t?void 0:t.el)||document.body).appendChild(i),n.mount(i).$refs.fc.fapi}function O(t){var s=Y_({},e);return t?s.inherit={components:n,parsers:i,directives:r,modelFields:a,providers:u,useApps:o,maker:d,formulas:g,loadData:f}:delete s.inherit,hw(s)}function I(e,t){a[e]=t}function D(e,t){g[e]=t}function P(e,t){var n=s[e]||{},i=n.parsers||{};t.parsers&&Object.keys(t.parsers).forEach(function(e){i[e]=gS(t.parsers[e],US)}),t.name=e,s[e]=Y_(Y_(Y_({},n),t),{},{parsers:i})}function L(e){e&&Object.keys(uw).forEach(function(t){(Array.isArray(uw[t])?uw[t]:[uw[t]]).forEach(function(t){t.bus.$emit("$loadData."+e)})})}function R(e,t){qT(f,e,t),L(e)}function M(e,t){var n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return pS(function(){return t.apply(void 0,n)})};n._driver=!0,R(e,n)}function N(e,t){var n=(e||"").split(".");e=n.shift();var i=n.join(".");if(oT(f,e)||(f[e]=dw),f[e]!==dw){var r=f[e];return r&&r._driver?r=r(i):n.length&&(r=bS(r,n)),null==r||""===r?t:r}return t}function j(e){c.push(e)}function B(e){delete f[e],L(e)}function F(e,t){l.push({name:e,callback:t})}function U(t){var o=this;CT(this,{id:cw++,create:E,vm:t,manager:GS(e.manager),parsers:i,providers:u,modelFields:a,formulas:g,isMobile:p,rules:t.props.rule,name:t.props.name||VT(),inFor:t.props.inFor,prop:{components:n,directives:r},get:null,drivers:s,renderDriver:null,refreshData:L,loadData:f,CreateNode:m,bus:new QS,unwatch:[],options:St({}),extendApiFn:c,fetchCache:new WeakMap,tmpData:ct({})}),l.forEach(function(e){o.bus.$on(e.name,e.callback)}),Jt(function(){_r(o.options,function(){o.$handle.$manager.updateOptions(o.options.value),o.api().refresh()},{deep:!0})}),CT(t.appContext.components,n),CT(t.appContext.directives,r),this.$handle=new qS(this),this.name&&(this.inFor?(uw[this.name]||(uw[this.name]=[]),uw[this.name].push(this)):uw[this.name]=this)}function $(t){CT(t,{version:e.version,ui:e.ui,isMobile:p,extendApi:j,getData:N,setDataDriver:M,setData:R,removeData:B,refreshData:L,maker:d,component:A,directive:_,setModelField:I,setFormula:D,setDriver:P,register:T,$vnode:x,parser:w,use:C,factory:O,componentAlias:S,copyRule:oS,copyRules:lS,mergeRule:cS,fetch:IS,$form:k,parseFn:FT,parseJson:UT,toJson:jT,useApp:b,getApi:y,on:F})}if(function(e){var t=e.key||[],n=e.array||[],i=e.normal||[];eS.push.apply(eS,iT(t)),tS.push.apply(tS,iT(n)),nS.push.apply(nS,iT(i)),xS([].concat(iT(t),iT(n),iT(i)))}(e.attrs||{}),gS(E,v),U.isMobile=p,CT(U.prototype,{init:function(){var e=this;this.isSub()&&this.unwatch.push(_r(function(){return e.vm.setupState.parent.setupState.fc.options.value},function(){e.initOptions(),e.$handle.api.refresh()},{deep:!0,flush:"sync"})),this.vm.props.driver&&(this.renderDriver="object"===K_(this.vm.props.driver)?this.vm.props.driver:this.drivers[this.vm.props.driver]),!this.renderDriver&&this.vm.setupState.parent&&(this.renderDriver=this.vm.setupState.parent.setupState.fc.renderDriver),this.renderDriver||(this.renderDriver=this.drivers.default),this.initOptions(),this.$handle.init()},targetFormDriver:function(e){for(var t,n=this,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];if((t=this.bus).$emit.apply(t,[e].concat(r)),this.renderDriver&&this.renderDriver[e])return pS(function(){var t;return(t=n.renderDriver)[e].apply(t,r)})},t:function(e,t,n){var i=n?n("$t."+e):this.globalLanguageDriver(e);return null==i&&(i=""),i&&t&&Object.keys(t).forEach(function(e){var n=new RegExp("{".concat(e,"}"),"g");i=i.replace(n,t[e])}),i},globalDataDriver:function(e){var t=this,n=e.split("."),i=n.shift(),r=this.options.value.globalData&&this.options.value.globalData[i];if(r){if("static"===r.type)return bS(r.data,n);var a,s=this.fetchCache.get(r);if(s){if(s.status&&(a=bS(s.data,n)),!s.loading)return a;s.loading=!1,this.fetchCache.set(r,s)}else this.fetchCache.set(r,{status:!1});var o=OT(function(){c();var e=t.fetchCache.get(r);t.options.value.globalData&&-1!==Object.values(t.options.value.globalData).indexOf(r)?(e&&(e.loading=!0,t.fetchCache.set(r,e)),t.bus.$emit("$loadData.$globalData."+i)):t.fetchCache.delete(r)},r.wait||600),l=function(e){t.fetchCache.set(r,{status:!0,data:e}),t.bus.$emit("$loadData.$globalData."+i)},c=this.watchLoadData(function(e,n){if(n&&!1===r.watch)return c();if(n)o();else{var i=t.$handle.loadFetchVar(ET(r),e);i.targetRule=t.targetRule,t.$handle.api.fetch(i).then(function(e){l(e)}).catch(function(e){l(null)})}});return!1===r.watch&&c(),this.unwatch.push(c),a}},getLocale:function(){var e=this.vm.setupState.top.props.locale;return e&&"object"===K_(e)?e.name:"string"==typeof e?e:"zh-cn"},globalLanguageDriver:function(e){var t=this.vm.setupState.top.props.t,n=this.vm.setupState.top.props.locale,i=void 0;if(t&&(i=pS(function(){return t(e)})),null==i&&n&&"object"===K_(n)&&(i=bS(n,e)),null==i){var r=this.options.value.language||{},a=this.getLocale();null==(i=bS(r[a]||{},e))&&(i=bS(sw[a]||{},e))}return i},globalVarDriver:function(e){var t=this,n=e.split("."),i=n.shift(),r=this.options.value.globalVariable&&this.options.value.globalVariable[i];if(r){var a=sT.Function(r)?r:FT(r.handle);if(a){var s=a(function(){var e;return(e=t.$handle.api).getData.apply(e,arguments)},this.$handle.api);return bS(s,n)}}},setData:function(e,t,n){n?R(e,t):(qT(this.vm.setupState.top.setupState.fc.tmpData,e,t),this.bus.$emit("$loadData."+e))},getLoadData:function(e,t){var n=null;if(null!=e){var i=e.split("."),r=i.shift();if(null!=(n=bS(this.vm.setupState.top.setupState.fc.tmpData,e)))return n;if("$topForm"===r)n=this.$handle.api.top.formData(!0);else if("$scopeForm"===r)n=this.$handle.api.scope.formData(!0);else if("$form"===r)n=this.$handle.api.formData(!0);else if("$options"===r)n=this.options.value;else if("$globalData"===r)n=this.globalDataDriver(i.join(".")),i=[];else if("$var"===r)n=this.globalVarDriver(i.join(".")),i=[];else if("$locale"===r)n=this.getLocale(),i=[];else if("$t"===r)n=this.globalLanguageDriver(i.join(".")),i=[];else{if("$preview"===r)return this.$handle.preview;n=N(e),i=[]}n&&i.length&&(n=bS(n,i))}return null==n||""===n?t:n},watchLoadData:function(e,t){var n=this,i={},r=function(t){n.get||(n.get=a),pS(function(){e(a,t)}),n.get===a&&(n.get=void 0)},a=function(e,a){var s;if("object"===K_(e)&&(s=e.getValue,e=e.id),i[e])return i[e].val;var o=Sa(function(){return s?s():n.getLoadData(e,a)}),l=e.split("."),c=l.shift(),u=l.shift()||"",d=OT(function(){var t=s?s():n.getLoadData(e,a);i[e]&&((t instanceof Function||sT.Object(t)||Array.isArray(t))&&t===i[e].val||JSON.stringify(t)!==JSON.stringify(i[e].val))&&(i[e].val=t,r(!0))},t||0),h=_r(o,function(e){d()});return n.bus.$on("$loadData."+c,d),u&&n.bus.$on("$loadData."+c+"."+u,d),i[e]={fn:function(){n.bus.$off("$loadData."+c,d),u&&n.bus.$off("$loadData."+c+"."+u,d),h()},val:o.value},o.value};r(!1);var s=function(){Object.keys(i).forEach(function(e){return i[e].fn()}),i={}};return this.unwatch.push(s),s},isSub:function(){return this.vm.setupState.parent&&this.vm.props.extendOption},initOptions:function(){this.options.value={};var e=Y_({formData:{},submitBtn:{},resetBtn:{},globalEvent:{},globalData:{}},kT(h)),t=this.isSub();t&&(e=this.mergeOptions(e,this.vm.setupState.parent.setupState.fc.options.value||{},!0)),e=this.mergeOptions(e,this.vm.props.option);var n=this.api();this.targetFormDriver("initOptions",e,{api:n,isSubForm:t}),this.updateOptions(e)},mergeOptions:function(e,t,n){return t=Y_({},t||{}),n&&["page","onSubmit","onReset","onCreated","onChange","onMounted","mounted","onReload","reload","formData","el","globalClass","style"].forEach(function(e){delete t[e]}),t.global&&(e.global=function(e,t){return e?(Object.keys(t||{}).forEach(function(n){t[n]&&(e[n]=cS(e[n]||{},t[n]))}),e):t}(e.global,t.global),delete t.global),this.$handle.$manager.mergeOptions([t],e),e},updateOptions:function(e){this.options.value=this.mergeOptions(this.options.value,e),this.$handle.$manager.updateOptions(this.options.value),this.bus.$emit("$loadData.$options")},api:function(){return this.$handle.api},render:function(){return this.$handle.render()},mounted:function(){this.$handle.mounted()},unmount:function(){var e=this;if(this.name)if(this.inFor){var t=uw[this.name].indexOf(this);uw[this.name].splice(t,1)}else delete uw[this.name];l.forEach(function(t){e.bus.$off(t.name,t.callback)}),this.tmpData={},this.unwatch.forEach(function(e){return e()}),this.unwatch=[],this.$handle.reloadRule([])},updated:function(){var e=this;this.$handle.bindNextTick(function(){return e.bus.$emit("next-tick",e.$handle.api)})}}),$(v),CT(t=v,{create:E,install:function(n,i){h=Y_(Y_({},h),i||{});var r="_installedFormCreate_"+e.ui;if(!0!==n[r]){n[r]=!0;var a=function(e){return E(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})};$(a),n.config.globalProperties.$formCreate=a;var s=k();n.component(s.name,s),o.forEach(function(e){pS(function(){return e(t,n)})})}}}),M("$cookie",iw),M("$localStorage",rw),M("$sessionStorage",aw),m.use({fragment:"fcFragment"}),e.install&&E.use(e),b(function(e,t){t.mixin({props:["formCreateInject"]})}),w(JS),e.inherit){var V=e.inherit;V.components&&CT(n,V.components),V.parsers&&CT(i,V.parsers),V.directives&&CT(r,V.directives),V.modelFields&&CT(a,V.modelFields),V.providers&&CT(u,V.providers),V.useApps&&CT(o,V.useApps),V.maker&&CT(d,V.maker),V.loadData&&CT(f,V.loadData),V.formulas&&CT(g,V.formulas)}var q=k();return gS(q,v),Object.defineProperties(q,{fetch:{get:function(){return v.fetch},set:function(e){v.fetch=e}}}),q.util=v,q}var pw="hidden",fw={name:pw,maker:Q_({},pw,function(e,t){return AS(pw)("",e,t)}),render:function(){return[]}},mw={name:"checkbox",mergeProp:function(e){var t=e.prop.props;oT(t,"options")||(t.options=e.prop.options||[])}},gw={name:"radio",mergeProp:function(e){var t=e.prop.props;oT(t,"options")||(t.options=e.prop.options||[])}},vw={name:"select",mergeProp:function(e){var t=e.prop.props;oT(t,"options")||(t.options=e.prop.options||[])}},yw={name:"cascader",mergeProp:function(e){var t=e.prop.props;oT(t,"options")||(t.options=e.prop.options||[])}},bw=[fw,{name:"FcRow",render:function(e,t){return t.vNode.col({props:{span:24}},{default:function(){return[t.vNode.row(t.prop,e)]}})}},yw,mw,gw,vw,{name:"textarea",mergeProp:function(e){e.prop.props.type="textarea"}}],_w="van",Tw={button:_w+"-button",icon:_w+"-icon",slider:_w+"-slider",stepper:_w+"-stepper",inputNumber:_w+"-stepper",rate:_w+"-rate",uploader:"fc-uploader",upload:"fc-uploader",cell:_w+"-cell",timePicker:"fc-time-picker",datePicker:"fc-date-picker",switch:_w+"-switch",select:"fc-select",cascader:"fc-cascader",calendar:"fc-calendar",checkbox:"fc-checkbox",radio:"fc-radio",input:_w+"-field",textarea:_w+"-field",field:_w+"-field",formItem:_w+"-field",form:_w+"-form",col:_w+"-col",row:_w+"-row",group:"fc-group",array:"fc-group",object:"fc-sub-form",subForm:"fc-sub-form"};function Sw(e,t){var n;oT(e,t)&&sT.String(e[t])&&(e[t]=(Q_(n={},t,e[t]),Q_(n,"show",!0),n))}function ww(e){return!1===e}function Aw(e){var t=Y_({},e);return delete t.children,t}var kw={validate:function(){var e=this.form();return e?e.validate():new Promise(function(e){return e()})},validateField:function(e){var t=this;return new Promise(function(n,i){var r=t.form();r?r.validate(e).then(n).catch(i):n()})},clearValidateState:function(e){var t=this.form();if(t)return t.resetValidation(e.id)},tidyOptions:function(e){return["submitBtn","resetBtn","row","info","wrap","col","title"].forEach(function(t){!function(e,t){oT(e,t)&&!sT.Object(e[t])&&(e[t]={show:!!e[t]})}(e,t)}),e},tidyRule:function(e){var t=e.prop;return Sw(t,"title"),Sw(t,"info"),t.validate&&t.validate.forEach(function(e){sT.String(e.pattern)&&(e.pattern=new RegExp(e.pattern))}),t},mergeProp:function(e){var t=this,n={info:{icon:!0},title:{},col:{span:24},wrap:{}};["info","wrap","col","title"].forEach(function(i){e.prop[i]=JT([t.options[i]||{},e.prop[i]||{}],n[i])})},getDefaultOptions:function(){return{form:{required:"auto",labelAlign:"right",inputAlign:"right"},row:{show:!0,gutter:0},submitBtn:{type:"primary",loading:!1,disabled:!1,block:!0,innerText:"",size:"small",show:!0,col:void 0,click:void 0},resetBtn:{type:"default",loading:!1,disabled:!1,block:!0,innerText:"",size:"small",show:!1,col:void 0,click:void 0}}},adapterValidate:function(e,t){return"change"===e.trigger?e.trigger="onChange":"blur"===e.trigger&&(e.trigger="onBlur"),e.validator=function(n){return new Promise(function(i){return t(n,function(t){e.message=t,t?i(!1):i()})})},e},update:function(){var e=this.options.form;this.rule={props:Y_({},e),on:{submit:function(e){e.preventDefault()}},style:e.style,type:"form"}},beforeRender:function(){var e=this.key,t=this.ref,n=this.options.form;CT(this.rule,{key:e,ref:t,class:[n.className,n.class,"form-create-m",this.$handle.preview?"is-preview":""]})},render:function(e){var t=this;return e.slotLen()&&!this.$handle.preview&&e.setSlot(void 0,function(){return t.makeFormBtn()}),this.$r(this.rule,ww(this.options.row.show)?e.getSlots():[this.makeRow(e)])},makeWrap:function(e,t){var n=this,i=e.prop,r="".concat(this.key).concat(e.key),a=i.col,s=this.isTitle(i)&&!1!==i.wrap.title,o=this.rule.props.col,l=i.wrap.class;delete i.wrap.class,delete i.wrap.title;var c=ww(i.wrap.show)?t:this.$r(JT([i.wrap,{props:Y_(Y_({modelValue:e.rule.value,label:s?i.title.title:void 0},Aw(i.wrap||{})),{},{name:e.id,rules:e.injectValidate()}),class:this.$render.mergeClass(l||i.className,"fc-form-item"),key:"".concat(r,"fi"),ref:e.wrapRef,type:"formItem"}]),Y_({input:function(){return t}},s?{label:function(){return n.makeInfo(i,r,e)}}:{}));return ww(o)||ww(a.show)?c:this.makeCol(i,r,[c])},isTitle:function(e){if(!1===this.options.form.title)return!1;var t=e.title;return!(!t.title&&!t.native||ww(t.show))},makeInfo:function(e,t,n){var i,r,a,s,o=Y_({},e.title),l=Y_({},e.info),c=this.getSlot("title"),u=[c?c({title:null===(i=n.refRule)||void 0===i||null===(r=i.__$title)||void 0===r?void 0:r.value,rule:n.rule,options:this.options}):null===(a=n.refRule)||void 0===a||null===(s=a.__$title)||void 0===s?void 0:s.value],d=!ww(l.show)&&(l.info||l.native)&&!ww(l.icon);d&&u["left"!==l.align?"unshift":"push"](this.$r({type:!0===l.icon?"icon-warning":l.icon,style:"width:1em;"}));var h=JT([o,{props:Aw(o),key:"".concat(t,"tit"),class:"fc-form-title",type:o.type||"span"}]);return d&&l.info&&!h.props.onClick&&(h.props.onClick=function(){var e,t;Fg({type:"warning",message:null===(e=n.refRule)||void 0===e||null===(t=e.__$info)||void 0===t?void 0:t.value,duration:1e3})}),delete h.props.show,delete h.props.title,delete h.props.native,this.$r(h,u)},makeCol:function(e,t,n){var i=e.col;return this.$r({class:this.$render.mergeClass(i.class,"fc-form-col"),type:"col",props:i||{span:24},key:"".concat(t,"col")},n)},makeRow:function(e){var t=this.options.row||{};return this.$r({type:"row",props:t,class:this.$render.mergeClass(t.class,"fc-form-row"),key:"".concat(this.key,"row")},e)},makeFormBtn:function(){var e=[];if(ww(this.options.submitBtn.show)||e.push(this.makeSubmitBtn()),ww(this.options.resetBtn.show)||e.push(this.makeResetBtn()),e.length)return this.$r({type:"cell",class:"fc-form-cell fc-form-footer",key:"".concat(this.key,"fb")},e)},makeResetBtn:function(){var e=this,t=Y_({},this.options.resetBtn),n=t.innerText||this.$handle.api.t("reset")||"";return delete t.innerText,delete t.click,delete t.col,delete t.show,this.$r({type:"button",props:t,class:"fc-reset-btn",style:{width:t.width},on:{click:function(){var t=e.$handle.api;e.options.resetBtn.click?e.options.resetBtn.click(t):t.resetFields()}},key:"".concat(this.key,"b2")},[n])},makeSubmitBtn:function(){var e=this,t=Y_({},this.options.submitBtn),n=t.innerText||this.$handle.api.t("submit")||"";return delete t.innerText,delete t.click,delete t.col,delete t.show,this.$r({type:"button",props:t,class:"fc-submit-btn",style:{width:t.width},on:{click:function(){var t=e.$handle.api;e.options.submitBtn.click?e.options.submitBtn.click(t):t.submit().catch(function(){})}},key:"".concat(this.key,"b1")},[n])}};function xw(e,t){return sT.Boolean(e)?e={show:e}:sT.Undef(e)||sT.Object(e)||(e={show:t}),e}function Cw(e,t){return{formEl:function(){return t.$manager.form()},wrapEl:function(e){var n=t.getFieldCtx(e);if(n)return t.vm.refs[n.wrapRef]},validate:function(n){return new Promise(function(i,r){var a=e.children,s=[t.$manager.validate()];a.filter(function(e){return!e.isScope}).forEach(function(e){s.push(e.validate())}),Promise.all(s).then(function(){i(!0),n&&n(!0)}).catch(function(i){r(i),n&&n(i),t.vm.emit("validate-fail",i,{api:e}),t.emitEvent("validate-fail",i,{api:e})})})},validateField:function(n,i){return new Promise(function(r,a){var s=t.getFieldCtx(n);if(s){var o=t.subForm[s.id],l=[t.$manager.validateField(s.id)];fT(o).filter(function(e){return!e.isScope}).forEach(function(e){l.push(e.validate())}),Promise.all(l).then(function(){r(null),i&&i(null)}).catch(function(r){a(r),i&&i(r),t.vm.emit("validate-field-fail",r,{field:n,api:e})})}})},clearValidateState:function(n){var i=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.helper.tidyFields(n).forEach(function(e){r&&i.clearSubValidateState(e),t.getCtxs(e).forEach(function(e){t.$manager.clearValidateState(e)})})},clearSubValidateState:function(n){e.helper.tidyFields(n).forEach(function(e){t.getCtxs(e).forEach(function(e){var n=t.subForm[e.id];n&&(Array.isArray(n)?n.forEach(function(e){e.clearValidateState()}):n&&n.clearValidateState())})})},btn:{loading:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.submitBtnProps({loading:!!t})},disabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.submitBtnProps({disabled:!!t})},show:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.submitBtnProps({show:!!t})}},resetBtn:{loading:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.resetBtnProps({loading:!!t})},disabled:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.resetBtnProps({disabled:!!t})},show:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.resetBtnProps({show:!!t})}},submitBtnProps:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=xw(t.options.submitBtn,!0);CT(i,n),t.options.submitBtn=i,e.refreshOptions()},resetBtnProps:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=xw(t.options.resetBtn,!1);CT(i,n),t.options.resetBtn=i,e.refreshOptions()},submit:function(n,i){return new Promise(function(r,a){(!1===t.options.validateOnSubmit?Promise.resolve():e.validate()).then(function(){var i=e.formData();t.beforeSubmit(i).then(function(){sT.Function(n)&&pS(function(){return n(i,e)}),sT.Function(t.options.onSubmit)&&pS(function(){return t.options.onSubmit(i,e)}),t.vm.emit("submit",i,e),r(i)}).catch(function(e){})}).catch(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];sT.Function(i)&&pS(function(){return i.apply(void 0,[e].concat(n))}),a.apply(void 0,n)})})}}}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('.form-create-m{width:100%}.form-create-m .fc-none,.form-create-m.is-preview .fc-clock{display:none!important}.form-create-m .van-field:has(.van-field__value>.van-field__body>.van-field__control>.van-field):after{display:none}.form-create-m .van-field>.van-field__value>.van-field__body>.van-field__control>*>.van-field:after,.form-create-m .van-field>.van-field__value>.van-field__body>.van-field__control>.van-field:after{display:block;left:0;right:0}.form-create-m .fc-form-item>.van-field__value>.van-field__body>.van-field__control>.van-cell{padding:0}.form-create-m .fc-form-item .fc-form-item{--van-padding-md:0;padding-left:0;padding-right:0}.form-create-m>.van-row>.van-col--24:last-of-type>.van-cell:last-of-type:after{display:none}.form-create-m .fc-reset-btn{margin-top:12px}.form-create-m .fc-form-title{align-items:center;display:inline-flex}.form-create-m.is-preview .van-field__label--required:before{display:none}._fc-m-group{align-items:flex-end;display:flex;flex-direction:column;justify-content:center;min-height:38px;width:100%}._fc-m-group-disabled ._fc-m-group-add,._fc-m-group-disabled ._fc-m-group-btn{cursor:not-allowed}._fc-m-group-handle{background-color:#fff;border:1px dashed #d9d9d9;border-radius:15px;bottom:-15px;display:flex;flex-direction:row;padding:3px 8px;position:absolute;right:30px;transform:scale(1.1)}._fc-m-group-btn{cursor:pointer}._fc-m-group-idx{align-items:center;background:#eee;border-radius:15px;bottom:-15px;display:flex;font-weight:700;height:30px;justify-content:center;left:10px;position:absolute;width:30px}._fc-m-group-handle ._fc-m-group-btn+._fc-m-group-btn{margin-left:7px}._fc-m-group-container{border:1px dashed #d9d9d9;border-radius:5px;box-sizing:border-box;display:flex;flex-direction:column;margin-bottom:25px;padding:5px 5px 25px;position:relative;width:100%}._fc-m-group-arrow{height:20px;position:relative;width:20px}._fc-m-group-arrow:before{border-left:2px solid #999;border-top:2px solid #999;content:"";height:9px;left:5px;position:absolute;top:8px;transform:rotate(45deg);width:9px}._fc-m-group-arrow._fc-m-group-down{transform:rotate(180deg)}._fc-m-group-plus-minus{cursor:pointer;height:20px;position:relative;width:20px}._fc-m-group-plus-minus:after,._fc-m-group-plus-minus:before{background-color:#409eff;content:"";height:2px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:60%}._fc-m-group-plus-minus:before{transform:translate(-50%,-50%) rotate(90deg)}._fc-m-group-plus-minus._fc-m-group-minus:before{display:none}._fc-m-group-plus-minus._fc-m-group-minus:after{background-color:#f56c6c}._fc-m-group-add{border:1px solid rgba(64,158,255,.5);border-radius:15px;cursor:pointer;height:25px;transform:scale(1.1);width:25px}._fc-m-group-add._fc-m-group-plus-minus:after,._fc-m-group-add._fc-m-group-plus-minus:before{width:50%}._fc-m-group._fc-m-group-card{display:flex;flex-direction:column;gap:16px;width:100%}._fc-m-group._fc-m-group-card._fc-m-group-disabled ._fc-m-group-add,._fc-m-group._fc-m-group-card._fc-m-group-disabled ._fc-m-group-btn{cursor:not-allowed;opacity:.5}._fc-m-group._fc-m-group-card ._fc-m-group-container{background:#fff;border:1px solid #f0f0f0;border-radius:6px;display:flex;flex-direction:column;margin:0;overflow:hidden;padding:0;position:relative}._fc-m-group._fc-m-group-card ._fc-m-group-header{align-items:center;background:#fafafa;border-bottom:1px solid #f0f0f0;display:flex;justify-content:space-between;padding:16px 20px 12px}._fc-m-group._fc-m-group-card ._fc-m-group-idx{align-items:center;background:#f0f0f0;border:1px solid #e0e0e0;border-radius:6px;color:#666;display:flex;flex-shrink:0;font-size:12px;font-weight:500;height:24px;justify-content:center;margin-right:12px;position:static;width:24px}._fc-m-group._fc-m-group-card ._fc-m-group-title{color:rgba(0,0,0,.85);flex:1;font-size:14px;font-weight:500;line-height:1.5715;text-align:left}._fc-m-group._fc-m-group-card ._fc-m-group-handle{align-items:center;background-color:transparent;border:none;border-radius:0;bottom:auto;display:flex;flex-direction:row;flex-shrink:0;gap:4px;margin-left:12px;padding:0;position:static;right:auto;transform:none}._fc-m-group._fc-m-group-card ._fc-m-group-btn{align-items:center;background:#fff;border:1px solid #d9d9d9;border-radius:4px;color:rgba(0,0,0,.45);cursor:pointer;display:flex;height:24px;justify-content:center;position:relative;width:24px}._fc-m-group._fc-m-group-card ._fc-m-group-btn:hover{background:#f0f8ff;border-color:#1890ff;color:#1890ff}._fc-m-group._fc-m-group-card ._fc-m-group-btn:active{border-color:#096dd9;color:#096dd9}._fc-m-group._fc-m-group-card ._fc-m-group-arrow{position:relative}._fc-m-group._fc-m-group-card ._fc-m-group-arrow:before{border-left:1px solid;border-top:1px solid;content:"";height:5px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%) rotate(45deg);width:5px}._fc-m-group._fc-m-group-card ._fc-m-group-arrow._fc-m-group-down{transform:rotate(180deg)}._fc-m-group._fc-m-group-card ._fc-m-group-sort{align-items:center;display:flex;flex-direction:column;height:24px;justify-content:center;position:relative}._fc-m-group._fc-m-group-card ._fc-m-group-sort:after,._fc-m-group._fc-m-group-card ._fc-m-group-sort:before{border-left:1px solid;border-top:1px solid;content:"";height:4px;left:50%;position:absolute;transform:translateX(-50%);width:4px}._fc-m-group._fc-m-group-card ._fc-m-group-sort:before{top:6px;transform:translateX(-50%) rotate(45deg)}._fc-m-group._fc-m-group-card ._fc-m-group-sort:after{bottom:6px;transform:translateX(-50%) rotate(225deg)}._fc-m-group._fc-m-group-card ._fc-m-group-sort-down,._fc-m-group._fc-m-group-card ._fc-m-group-sort-up{cursor:pointer;height:12px;left:0;position:absolute;right:0;z-index:1}._fc-m-group._fc-m-group-card ._fc-m-group-sort-up{top:0}._fc-m-group._fc-m-group-card ._fc-m-group-sort-down{bottom:0}._fc-m-group._fc-m-group-card ._fc-m-group-sort-down:hover,._fc-m-group._fc-m-group-card ._fc-m-group-sort-up:hover{background:rgba(24,144,255,.1)}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus{background:#409eff;border-color:#409eff;border-radius:4px;color:#fff;height:24px;position:relative;width:24px}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus:hover{background:#66b1ff;border-color:#66b1ff;color:#fff}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus:after,._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus:before{background-color:currentColor;content:"";height:1px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:8px}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus:before{transform:translate(-50%,-50%) rotate(90deg)}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus._fc-m-group-minus{background:#f56c6c;border-color:#f56c6c}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus._fc-m-group-minus:hover{background:#f78989;border-color:#f78989}._fc-m-group._fc-m-group-card ._fc-m-group-plus-minus._fc-m-group-minus:before{display:none}._fc-m-group._fc-m-group-card ._fc-m-group-content{padding:20px}._fc-m-group._fc-m-group-card ._fc-m-group-add{align-items:center;background:#fff;border:1px solid #d9d9d9;border-radius:4px;color:rgba(0,0,0,.45);cursor:pointer;display:flex;height:24px;justify-content:center;position:relative;transform:none;width:24px}._fc-m-group._fc-m-group-card ._fc-m-group-add:hover{background:#f0f8ff;border-color:#409eff;color:#409eff}._fc-m-group._fc-m-group-card ._fc-m-group-add._fc-m-group-plus-minus{background:#409eff;border-color:#409eff;color:#fff;height:24px;width:24px}._fc-m-group._fc-m-group-card ._fc-m-group-add._fc-m-group-plus-minus:hover{background:#66b1ff;border-color:#66b1ff;color:#fff}._fc-m-group._fc-m-group-card ._fc-m-group-add._fc-m-group-plus-minus:after,._fc-m-group._fc-m-group-card ._fc-m-group-add._fc-m-group-plus-minus:before{background-color:currentColor;content:"";height:1px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:8px}._fc-m-group._fc-m-group-card ._fc-m-group-add._fc-m-group-plus-minus:before{transform:translate(-50%,-50%) rotate(90deg)}._fc-m-group._fc-m-group-card ._fc-m-group-empty{color:rgba(0,0,0,.45);font-size:14px;padding:40px 20px;text-align:center}@media (max-width:768px){._fc-m-group._fc-m-group-card ._fc-m-group-container{border-left:none;border-radius:0;border-right:none;margin:0 -8px}._fc-m-group._fc-m-group-card ._fc-m-group-header{padding:12px 16px 8px}._fc-m-group._fc-m-group-card ._fc-m-group-content{padding:16px}._fc-m-group._fc-m-group-card ._fc-m-group-handle{gap:2px}._fc-m-group._fc-m-group-card ._fc-m-group-btn{height:22px;width:22px}}@media (prefers-color-scheme:dark){._fc-m-group._fc-m-group-card ._fc-m-group-container{background:#141414;border-color:#303030}._fc-m-group._fc-m-group-card ._fc-m-group-container:hover{border-color:#434343}._fc-m-group._fc-m-group-card ._fc-m-group-header{background:#1f1f1f;border-bottom-color:#303030}._fc-m-group._fc-m-group-card ._fc-m-group-title{color:hsla(0,0%,100%,.85)}._fc-m-group._fc-m-group-card ._fc-m-group-btn{background:#1f1f1f;border-color:#434343;color:hsla(0,0%,100%,.45)}._fc-m-group._fc-m-group-card ._fc-m-group-btn:hover{background:#111b26;border-color:#177ddc;color:#177ddc}._fc-m-group._fc-m-group-card ._fc-m-group-content{background:#141414}._fc-m-group._fc-m-group-card ._fc-m-group-add{background:#1f1f1f;border-color:#434343;color:hsla(0,0%,100%,.45)}._fc-m-group._fc-m-group-card ._fc-m-group-add:hover{background:#111b26;border-color:#177ddc;color:#177ddc}}');var Ew={name:"required",load:function(e,t,n){var i=function(e){return sT.Boolean(e)?{required:e}:sT.String(e)?{message:e}:sT.Undef(e)?{required:!1}:sT.Function(e)?{validator:e}:sT.Object(e)?e:{}}(e.getValue());if(!1===i.required)e.clearProp(),n.clearValidateState([t.field]);else{var r,a,s=Y_({required:!0,validator:function(e){return!sT.empty(e)},trigger:["onChange","onSubmit"]},i),o=null===(r=t.__fc__.refRule)||void 0===r||null===(a=r.__$title)||void 0===a?void 0:a.value;if(s.message){var l=s.message.match(/^\{\{\s*\$t\.(.+)\s*\}\}$/);l&&(s.message=n.t(l[1],{title:o}))}else s.message=n.t("required",{title:o})||o+("en"===n.getLocale()?" is required":"");e.getProp().validate=[s]}n.sync(t)},watch:function(){Ew.load.apply(Ew,arguments)}};function Ow(e){e.componentAlias(Tw),XT.forEach(function(t){e.component(t.name,t)}),e.register(Ew),bw.forEach(function(t){e.parser(t)}),_d.props&&(_d.props.modelValue={type:[String,Number,Array,Object,Boolean,Function],default:""})}var Iw=e("bg",hw({ui:"vant",version:"3.2.32",manager:kw,extendApi:Cw,install:Ow,isMobile:!0,attrs:{normal:["col","wrap"],key:["title","info"]}}));function Dw(e,t={},n){for(const i in e){const r=e[i],a=n?`${n}:${i}`:i;"object"==typeof r&&null!==r?Dw(r,t,a):"function"==typeof r&&(t[a]=r)}return t}"undefined"!=typeof window&&(window.formCreateMobile=Iw),Iw.maker;const Pw={run:e=>e()},Lw=void 0!==console.createTask?console.createTask:()=>Pw;function Rw(e,t){const n=t.shift(),i=Lw(n);return e.reduce((e,n)=>e.then(()=>i.run(()=>n(...t))),Promise.resolve())}function Mw(e,t){const n=t.shift(),i=Lw(n);return Promise.all(e.map(e=>i.run(()=>e(...t))))}function Nw(e,t){for(const n of[...e])n(t)}class jw{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,n={}){if(!e||"function"!=typeof t)return()=>{};const i=e;let r;for(;this._deprecatedHooks[e];)r=this._deprecatedHooks[e],e=r.to;if(r&&!n.allowDeprecated){let e=r.message;e||(e=`${i} hook has been deprecated`+(r.to?`, please use ${r.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(e)||(console.warn(e),this._deprecatedMessages.add(e))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let n,i=(...e)=>("function"==typeof n&&n(),n=void 0,i=void 0,t(...e));return n=this.hook(e,i),n}removeHook(e,t){if(this._hooks[e]){const n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]="string"==typeof t?{to:t}:t;const n=this._hooks[e]||[];delete this._hooks[e];for(const i of n)this.hook(e,i)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=Dw(e),n=Object.keys(t).map(e=>this.hook(e,t[e]));return()=>{for(const e of n.splice(0,n.length))e()}}removeHooks(e){const t=Dw(e);for(const n in t)this.removeHook(n,t[n])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(Rw,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(Mw,e,...t)}callHookWith(e,t,...n){const i=this._before||this._after?{name:t,args:n,context:{}}:void 0;this._before&&Nw(this._before,i);const r=e(t in this._hooks?[...this._hooks[t]]:[],n);return r instanceof Promise?r.finally(()=>{this._after&&i&&Nw(this._after,i)}):(this._after&&i&&Nw(this._after,i),r)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const t=this._before.indexOf(e);-1!==t&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const t=this._after.indexOf(e);-1!==t&&this._after.splice(t,1)}}}}const Bw=new Set(["link","style","script","noscript"]),Fw=new Set(["title","titleTemplate","script","style","noscript"]),Uw=new Set(["base","meta","link","style","script","noscript"]),$w=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),Vw=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),qw=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),zw=new Set(["templateParams","htmlAttrs","bodyAttrs"]),Hw=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]),Ww=["name","property","http-equiv"];function Gw(e){const t=e.split(":");return!!t.length&&Hw.has(t[1])}function Xw(e){const{props:t,tag:n}=e;if(Vw.has(n))return n;if("link"===n&&"canonical"===t.rel)return"canonical";if(t.charset)return"charset";if("meta"===e.tag)for(const i of Ww)if(void 0!==t[i])return`${n}:${t[i]}`;if(e.key)return`${n}:key:${e.key}`;if(t.id)return`${n}:id:${t.id}`;if(Fw.has(n)){const t=e.textContent||e.innerHTML;if(t)return`${n}:content:${t}`}}function Yw(e){const t=e._h||e._d;if(t)return t;const n=e.textContent||e.innerHTML;return n||`${e.tag}:${Object.entries(e.props).map(([e,t])=>`${e}:${String(t)}`).join(",")}`}function Kw(e,t,n){let i;if("function"==typeof e&&(n&&("titleTemplate"===n||"o"===n[0]&&"n"===n[1])||(e=e())),t&&(i=t(n,e)),Array.isArray(i))return i.map(e=>Kw(e,t));if(i?.constructor===Object){const e={};for(const n of Object.keys(i))e[n]=Kw(i[n],t,n);return e}return i}function Qw(e,t){return e.props=e.props||{},t?(Object.entries(t).forEach(([n,i])=>{if(null===i)return void(e.props[n]=null);if("class"===n||"style"===n)return void(e.props[n]=function(e,t){const n="style"===e?new Map:new Set;function i(t){const i=t.trim();if(i)if("style"===e){const[e,...t]=i.split(":").map(e=>e.trim());e&&t.length&&n.set(e,t.join(":"))}else i.split(" ").filter(Boolean).forEach(e=>n.add(e))}return"string"==typeof t?"style"===e?t.split(";").forEach(i):i(t):Array.isArray(t)?t.forEach(e=>i(e)):t&&"object"==typeof t&&Object.entries(t).forEach(([t,r])=>{r&&"false"!==r&&("style"===e?n.set(t.trim(),r):i(t))}),n}(n,i));if(qw.has(n)){if(["textContent","innerHTML"].includes(n)&&"object"==typeof i){let r=t.type;if(t.type||(r="application/json"),!r?.endsWith("json")&&"speculationrules"!==r)return;t.type=r,e.props.type=r,e[n]=JSON.stringify(i)}else e[n]=i;return}const r=String(i),a=n.startsWith("data-");"true"===r||""===r?e.props[n]=!a||r:!i&&a&&"false"===r?e.props[n]="false":void 0!==i&&(e.props[n]=i)}),e):e}function Jw(e,t){const n=Qw({tag:e,props:{}},"object"==typeof t&&"function"!=typeof t?t:{["script"===e||"noscript"===e||"style"===e?"innerHTML":"textContent"]:t});return n.key&&Bw.has(n.tag)&&(n.props["data-hid"]=n._h=n.key),"script"===n.tag&&"object"==typeof n.innerHTML&&(n.innerHTML=JSON.stringify(n.innerHTML),n.props.type=n.props.type||"application/json"),Array.isArray(n.props.content)?n.props.content.map(e=>({...n,props:{...n.props,content:e}})):n}function Zw(e,t){if(!e)return[];"function"==typeof e&&(e=e());const n=(e,n)=>{for(let i=0;i<t.length;i++)n=t[i](e,n);return n};e=n(void 0,e);const i=[];return e=Kw(e,n),Object.entries(e||{}).forEach(([e,t])=>{if(void 0!==t)for(const n of Array.isArray(t)?t:[t])i.push(Jw(e,n))}),i.flat()}const eA=(e,t)=>e._w===t._w?e._p-t._p:e._w-t._w,tA={base:-10,title:10},nA={critical:-8,high:-1,low:2},iA={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},rA=/@import/,aA=e=>""===e||!0===e;function sA(e,t){if("number"==typeof t.tagPriority)return t.tagPriority;let n=100;const i=nA[t.tagPriority]||0,r=e.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:iA;if(t.tag in tA)n=tA[t.tag];else if("meta"===t.tag){const e="content-security-policy"===t.props["http-equiv"]?"content-security-policy":t.props.charset?"charset":"viewport"===t.props.name?"viewport":null;e&&(n=iA.meta[e])}else"link"===t.tag&&t.props.rel?n=r.link[t.props.rel]:"script"===t.tag?aA(t.props.async)?n=r.script.async:!t.props.src||aA(t.props.defer)||aA(t.props.async)||"module"===t.props.type||t.props.type?.endsWith("json")?aA(t.props.defer)&&t.props.src&&!aA(t.props.async)&&(n=r.script.defer):n=r.script.sync:"style"===t.tag&&(n=t.innerHTML&&rA.test(t.innerHTML)?r.style.imported:r.style.sync);return(n||100)+i}function oA(e,t){const n="function"==typeof t?t(e):t,i=n.key||String(e.plugins.size+1);e.plugins.get(i)||(e.plugins.set(i,n),e.hooks.addHooks(n.hooks||{}))}function lA(e={}){const t=new jw;t.addHooks(e.hooks||{});const n=!e.document,i=new Map,r=[],a={_entryCount:1,plugins:new Map,dirty:!1,resolvedOptions:e,hooks:t,ssr:n,entries:i,headEntries:()=>[...i.values()],use:e=>oA(a,e),push(e,s){const o={...s||{}};delete o.head;const l=o._index??a._entryCount++,c={_i:l,input:e,options:o},u={_poll(e=!1){a.dirty=!0,!e&&r.push(l),t.callHook("entries:updated",a)},dispose(){i.delete(l)&&u._poll(!0)},patch(e){(!o.mode||"server"===o.mode&&n||"client"===o.mode&&!n)&&(c.input=e,i.set(l,c),u._poll())}};return u.patch(e),u},async resolveTags(){const n={tagMap:new Map,tags:[],entries:[...a.entries.values()]};for(await t.callHook("entries:resolve",n);r.length;){const n=r.shift(),s=i.get(n);if(s){const n={tags:Zw(s.input,e.propResolvers||[]).map(e=>Object.assign(e,s.options)),entry:s};await t.callHook("entries:normalize",n),s._tags=n.tags.map((e,t)=>(e._w=sA(a,e),e._p=(s._i<<10)+t,e._d=Xw(e),e))}}let s=!1;n.entries.flatMap(e=>(e._tags||[]).map(e=>({...e,props:{...e.props}}))).sort(eA).reduce((e,t)=>{const n=String(t._d||t._p);if(!e.has(n))return e.set(n,t);const i=e.get(n);if("merge"===(t?.tagDuplicateStrategy||(zw.has(t.tag)?"merge":null)||(t.key&&t.key===i.key?"merge":null))){const r={...i.props};Object.entries(t.props).forEach(([e,t])=>r[e]="style"===e?new Map([...i.props.style||new Map,...t]):"class"===e?new Set([...i.props.class||new Set,...t]):t),e.set(n,{...t,props:r})}else t._p>>10==i._p>>10&&"meta"===t.tag&&Gw(n)?(e.set(n,Object.assign([...Array.isArray(i)?i:[i],t],t)),s=!0):(t._w===i._w?t._p>i._p:t?._w<i?._w)&&e.set(n,t);return e},n.tagMap);const o=n.tagMap.get("title"),l=n.tagMap.get("titleTemplate");if(a._title=o?.textContent,l){const e=l?.textContent;if(a._titleTemplate=e,e){let t="function"==typeof e?e(o?.textContent):e;"string"!=typeof t||a.plugins.has("template-params")||(t=t.replace("%s",o?.textContent||"")),o?null===t?n.tagMap.delete("title"):n.tagMap.set("title",{...o,textContent:t}):(l.tag="title",l.textContent=t)}}n.tags=Array.from(n.tagMap.values()),s&&(n.tags=n.tags.flat().sort(eA)),await t.callHook("tags:beforeResolve",n),await t.callHook("tags:resolve",n),await t.callHook("tags:afterResolve",n);const c=[];for(const e of n.tags){const{innerHTML:t,tag:n,props:i}=e;if($w.has(n)&&(0!==Object.keys(i).length||e.innerHTML||e.textContent)&&("meta"!==n||i.content||i["http-equiv"]||i.charset)){if("script"===n&&t){if(i.type?.endsWith("json")){const n="string"==typeof t?t:JSON.stringify(t);e.innerHTML=n.replace(/</g,"\\u003C")}else"string"==typeof t&&(e.innerHTML=t.replace(new RegExp(`</${n}`,"g"),`<\\/${n}`));e._d=Xw(e)}c.push(e)}}return c}};return(e?.plugins||[]).forEach(e=>oA(a,e)),a.hooks.callHook("init",a),e.init?.forEach(e=>e&&a.push(e)),a}async function cA(e,t={}){const n=t.document||e.resolvedOptions.document;if(!n||!e.dirty)return;const i={shouldRender:!0,tags:[]};return await e.hooks.callHook("dom:beforeRender",i),i.shouldRender?(e._domUpdatePromise||(e._domUpdatePromise=new Promise(async t=>{const i=new Map,r=new Promise(t=>{e.resolveTags().then(e=>{t(e.map(e=>{const t=i.get(e._d)||0,n={tag:e,id:(t?`${e._d}:${t}`:e._d)||Yw(e),shouldRender:!0};return e._d&&Gw(e._d)&&i.set(e._d,t+1),n}))})});let a=e._dom;if(!a){a={title:n.title,elMap:(new Map).set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const e of["body","head"]){const t=n[e]?.children;for(const e of t){const t=e.tagName.toLowerCase();if(!Uw.has(t))continue;const n=Qw({tag:t,props:{}},{innerHTML:e.innerHTML,...e.getAttributeNames().reduce((t,n)=>(t[n]=e.getAttribute(n),t),{})||{}});if(n.key=e.getAttribute("data-hid")||void 0,n._d=Xw(n)||Yw(n),a.elMap.has(n._d)){let t=1,i=n._d;for(;a.elMap.has(i);)i=`${n._d}:${t++}`;a.elMap.set(i,e)}else a.elMap.set(n._d,e)}}}function s(e,t,n){const i=`${e}:${t}`;a.sideEffects[i]=n,delete a.pendingSideEffects[i]}function o({id:e,$el:t,tag:i}){const r=i.tag.endsWith("Attrs");a.elMap.set(e,t),r||(i.textContent&&i.textContent!==t.textContent&&(t.textContent=i.textContent),i.innerHTML&&i.innerHTML!==t.innerHTML&&(t.innerHTML=i.innerHTML),s(e,"el",()=>{t?.remove(),a.elMap.delete(e)}));for(const a in i.props){if(!Object.prototype.hasOwnProperty.call(i.props,a))continue;const o=i.props[a];if(a.startsWith("on")&&"function"==typeof o){const e=t?.dataset;if(e&&e[`${a}fired`]){const e=a.slice(0,-5);o.call(t,new Event(e.substring(2)))}""!==t.getAttribute(`data-${a}`)&&(("bodyAttrs"===i.tag?n.defaultView:t).addEventListener(a.substring(2),o.bind(t)),t.setAttribute(`data-${a}`,""));continue}const l=`attr:${a}`;if("class"===a){if(!o)continue;for(const n of o)r&&s(e,`${l}:${n}`,()=>t.classList.remove(n)),!t.classList.contains(n)&&t.classList.add(n)}else if("style"===a){if(!o)continue;for(const[n,i]of o)s(e,`${l}:${n}`,()=>{t.style.removeProperty(n)}),t.style.setProperty(n,i)}else!1!==o&&null!==o&&(t.getAttribute(a)!==o&&t.setAttribute(a,!0===o?"":String(o)),r&&s(e,l,()=>t.removeAttribute(a)))}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};const l=[],c={bodyClose:void 0,bodyOpen:void 0,head:void 0},u=await r;for(const e of u){const{tag:t,shouldRender:i,id:r}=e;i&&("title"!==t.tag?(e.$el=e.$el||a.elMap.get(r),e.$el?o(e):Uw.has(t.tag)&&l.push(e)):(n.title=t.textContent,s("title","",()=>n.title=a.title)))}for(const e of l){const t=e.tag.tagPosition||"head";e.$el=n.createElement(e.tag.tag),o(e),c[t]=c[t]||n.createDocumentFragment(),c[t].appendChild(e.$el)}for(const d of u)await e.hooks.callHook("dom:renderTag",d,n,s);c.head&&n.head.appendChild(c.head),c.bodyOpen&&n.body.insertBefore(c.bodyOpen,n.body.firstChild),c.bodyClose&&n.body.appendChild(c.bodyClose);for(const e in a.pendingSideEffects)a.pendingSideEffects[e]();e._dom=a,await e.hooks.callHook("dom:rendered",{renders:u}),t()}).finally(()=>{e._domUpdatePromise=void 0,e.dirty=!1})),e._domUpdatePromise):void 0}function uA(e,t){let n=0;return()=>{const i=++n;t(()=>{n===i&&e()})}}const dA=(e,t)=>Tt(t)?Ct(t):t,hA="usehead";function pA(e,t={}){const n=t.head||function(){if(Yi()){const e=Xi(hA);if(!e)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return e}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}();return n.ssr?n.push(e||{},t):function(e,t,n={}){const i=St(!1);let r;return br(()=>{const a=i.value?{}:Kw(t,dA);r?r.patch(a):r=e.push(a,n)}),ua()&&(li(()=>{r.dispose()}),Qn(()=>{i.value=!0}),Kn(()=>{i.value=!1})),r}(n,e,t)}const fA=["chatPage","home","/home/","message","task","profile","zaxtmine","zyxkmine","zyxkHome"];
/*!
       * pinia v3.0.4
       * (c) 2025 Eduardo San Martin Morote
       * @license MIT
       */let mA;const gA=e=>mA=e,vA=Symbol();function yA(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var bA,_A;(_A=bA||(bA={})).direct="direct",_A.patchObject="patch object",_A.patchFunction="patch function";const TA=()=>{};function SA(e,t,n,i=TA){e.add(t);const r=()=>{e.delete(t)&&i()};return!n&&ne()&&ie(r),r}function wA(e,...t){e.forEach(e=>{e(...t)})}const AA=e=>e(),kA=Symbol(),xA=Symbol();function CA(e,t){e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],r=e[n];yA(r)&&yA(i)&&e.hasOwnProperty(n)&&!Tt(i)&&!pt(i)?e[n]=CA(r,i):e[n]=i}return e}const EA=Symbol();function OA(e){return!yA(e)||!Object.prototype.hasOwnProperty.call(e,EA)}const{assign:IA}=Object;function DA(e){return!(!Tt(e)||!e.effect)}function PA(e,t,n={},i,r,a){let s;const o=IA({actions:{}},n),l={deep:!0};let c,u,d,h=new Set,p=new Set;const f=i.state.value[e];let m;function g(t){let n;c=u=!1,"function"==typeof t?(t(i.state.value[e]),n={type:bA.patchFunction,storeId:e,events:d}):(CA(i.state.value[e],t),n={type:bA.patchObject,payload:t,storeId:e,events:d});const r=m=Symbol();Jt().then(()=>{m===r&&(c=!0)}),u=!0,wA(h,n,i.state.value[e])}a||f||(i.state.value[e]={}),St({});const v=a?function(){const{state:e}=n,t=e?e():{};this.$patch(e=>{IA(e,t)})}:TA,y=(t,n="")=>{if(kA in t)return t[xA]=n,t;const r=function(){gA(i);const n=Array.from(arguments),a=new Set,s=new Set;let o;wA(p,{args:n,name:r[xA],store:b,after:function(e){a.add(e)},onError:function(e){s.add(e)}});try{o=t.apply(this&&this.$id===e?this:b,n)}catch(l){throw wA(s,l),l}return o instanceof Promise?o.then(e=>(wA(a,e),e)).catch(e=>(wA(s,e),Promise.reject(e))):(wA(a,o),o)};return r[kA]=!0,r[xA]=n,r},b=ct({_p:i,$id:e,$onAction:SA.bind(null,p),$patch:g,$reset:v,$subscribe(t,n={}){const r=SA(h,t,n.detached,()=>a()),a=s.run(()=>_r(()=>i.state.value[e],i=>{("sync"===n.flush?u:c)&&t({storeId:e,type:bA.direct,events:d},i)},IA({},l,n)));return r},$dispose:function(){s.stop(),h.clear(),p.clear(),i._s.delete(e)}});i._s.set(e,b);const _=(i._a&&i._a.runWithContext||AA)(()=>i._e.run(()=>(s=te()).run(()=>t({action:y}))));for(const T in _){const t=_[T];if(Tt(t)&&!DA(t)||pt(t))a||(f&&OA(t)&&(Tt(t)?t.value=f[T]:CA(t,f[T])),i.state.value[e][T]=t);else if("function"==typeof t){const e=y(t,T);_[T]=e,o.actions[T]=t}}return IA(b,_),IA(vt(b),_),Object.defineProperty(b,"$state",{get:()=>i.state.value[e],set:e=>{g(t=>{IA(t,e)})}}),i._p.forEach(e=>{IA(b,s.run(()=>e({store:b,app:i._a,pinia:i,options:o})))}),f&&a&&n.hydrate&&n.hydrate(b.$state,f),c=!0,u=!0,b}/*! #__NO_SIDE_EFFECTS__ */function LA(e,t,n){let i;const r="function"==typeof t;function a(n,a){const s=Yi();return(n=n||(s?Xi(vA,null):null))&&gA(n),(n=mA)._s.has(e)||(r?PA(e,t,i,n):function(e,t,n){const{state:i,actions:r,getters:a}=t,s=n.state.value[e];let o;o=PA(e,function(){s||(n.state.value[e]=i?i():{});const t=Dt(n.state.value[e]);return IA(t,r,Object.keys(a||{}).reduce((t,i)=>(t[i]=yt(Sa(()=>{gA(n);const t=n._s.get(e);return a[i].call(t,t)})),t),{}))},t,n,0,!0)}(e,i,n)),n._s.get(e)}return i=r?n:t,a.$id=e,a}function RA(e,t){if(null==e)return;let n=e;for(let i=0;i<t.length;i++){if(void 0===n||void 0===n[t[i]])return;if(null===n||null===n[t[i]])return null;n=n[t[i]]}return n}function MA(e,t,n){if(0===n.length)return t;const i=n[0];return n.length>1&&(t=MA("object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,i)?e[i]:Number.isInteger(Number(n[1]))?[]:{},t,Array.prototype.slice.call(n,1))),Number.isInteger(Number(i))&&Array.isArray(e)?e.slice()[i]:Object.assign({},e,{[i]:t})}function NA(e,t){if(null==e||0===t.length)return e;if(1===t.length){if(null==e)return e;if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.slice.call(e,0).splice(t[0],1);const n={};for(const t in e)n[t]=e[t];return delete n[t[0]],n}if(null==e[t[0]]){if(Number.isInteger(t[0])&&Array.isArray(e))return Array.prototype.concat.call([],e);const n={};for(const t in e)n[t]=e[t];return n}return MA(e,NA(e[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function jA(e,t){return t.map(e=>e.split(".")).map(t=>[t,RA(e,t)]).filter(e=>void 0!==e[1]).reduce((e,t)=>MA(e,t[1],t[0]),{})}function BA(e,t){return t.map(e=>e.split(".")).reduce((e,t)=>NA(e,t),e)}function FA(e,{storage:t,serializer:n,key:i,debug:r,pick:a,omit:s,beforeHydrate:o,afterHydrate:l},c,u=!0){try{u&&o?.(c);const r=t.getItem(i);if(r){const t=n.deserialize(r),i=a?jA(t,a):t,o=s?BA(i,s):i;e.$patch(o)}u&&l?.(c)}catch(d){r&&console.error("[pinia-plugin-persistedstate]",d)}}function UA(e,{storage:t,serializer:n,key:i,debug:r,pick:a,omit:s}){try{const r=a?jA(e,a):e,o=s?BA(r,s):r,l=n.serialize(o);t.setItem(i,l)}catch(o){r&&console.error("[pinia-plugin-persistedstate]",o)}}var $A=function(e={}){return function(t){!function(e,t,n){const{pinia:i,store:r,options:{persist:a=n}}=e;if(!a)return;// v8 ignore if -- @preserve
if(!(r.$id in i.state.value)){const e=i._s.get(r.$id.replace("__hot:",""));return void(e&&Promise.resolve().then(()=>e.$persist()))}const s=(Array.isArray(a)?a:!0===a?[{}]:[a]).map(t);r.$hydrate=({runHooks:t=!0}={})=>{s.forEach(n=>{FA(r,n,e,t)})},r.$persist=()=>{s.forEach(e=>{UA(r.$state,e)})},s.forEach(t=>{FA(r,t,e),r.$subscribe((e,n)=>UA(n,t),{detached:!0})})}(t,n=>{const i=(r=n.key,a=t.store.$id,"function"==typeof r?r(a):"string"==typeof r?r:a);var r,a;return{key:(e.key?e.key:e=>e)(i),debug:n.debug??e.debug??!1,serializer:n.serializer??e.serializer??{serialize:e=>JSON.stringify(e),deserialize:e=>JSON.parse(e)},storage:n.storage??e.storage??window.localStorage,beforeHydrate:n.beforeHydrate??e.beforeHydrate,afterHydrate:n.afterHydrate??e.afterHydrate,pick:n.pick,omit:n.omit}},e.auto??!1)}}();const VA="access_token",qA=new WeakMap,zA="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const HA=Object.prototype.toString,WA=()=>{};function GA(...e){if(1!==e.length)return Rt(...e);const t=e[0];return"function"==typeof t?dt(function(e){return new It(e)}(()=>({get:t,set:WA}))):St(t)}const XA=e=>e();function YA(e){return e.endsWith("rem")?16*Number.parseFloat(e):Number.parseFloat(e)}function KA(e){return Array.isArray(e)?e:[e]}function QA(e,t,n={}){const{eventFilter:i=XA,...r}=n;return _r(e,(a=i,s=t,function(...e){return new Promise((t,n)=>{Promise.resolve(a(()=>s.apply(this,e),{fn:s,thisArg:this,args:e})).then(t).catch(n)})}),r);var a,s}function JA(e,t,n={}){const{eventFilter:i,initialState:r="active",...a}=n,{eventFilter:s,pause:o,resume:l,isActive:c}=function(e=XA,t={}){const{initialState:n="active"}=t,i=GA("active"===n);return{isActive:dt(i),pause:function(){i.value=!1},resume:function(){i.value=!0},eventFilter:(...t)=>{i.value&&e(...t)}}}(i,{initialState:r});return{stop:QA(e,t,{...a,eventFilter:s}),pause:o,resume:l,isActive:c}}function ZA(e,t=!0,n){ua()?ai(e,n):t?e():Jt(e)}const ek=zA?window:void 0;function tk(e){var t;const n=Ct(e);return null!=(t=null==n?void 0:n.$el)?t:n}function nk(...e){const t=[],n=()=>{t.forEach(e=>e()),t.length=0},i=Sa(()=>{const t=KA(Ct(e[0])).filter(e=>null!=e);return t.every(e=>"string"!=typeof e)?t:void 0}),r=(a=([e,i,r,a])=>{if(n(),!(null==e?void 0:e.length)||!(null==i?void 0:i.length)||!(null==r?void 0:r.length))return;const s=(o=a,"[object Object]"===HA.call(o)?{...a}:a);var o;t.push(...e.flatMap(e=>i.flatMap(t=>r.map(n=>((e,t,n,i)=>(e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)))(e,t,n,s)))))},s={flush:"post"},_r(()=>{var t,n;return[null!=(n=null==(t=i.value)?void 0:t.map(e=>tk(e)))?n:[ek].filter(e=>null!=e),KA(Ct(i.value?e[1]:e[0])),KA(xt(i.value?e[2]:e[1])),Ct(i.value?e[3]:e[2])]},a,{...s,immediate:!0}));var a,s,o;return o=n,ne()&&ie(o),()=>{r(),n()}}function ik(){const e=wt(!1),t=ua();return t&&ai(()=>{e.value=!0},t),e}function rk(e){const t=ik();return Sa(()=>(t.value,Boolean(e())))}const ak=Symbol("vueuse-ssr-width");function sk(){const e=Yi()?((...e)=>{var t;const n=e[0],i=null==(t=ua())?void 0:t.proxy;if(null==i&&!Yi())throw new Error("injectLocal must be called in setup");return i&&qA.has(i)&&n in qA.get(i)?qA.get(i)[n]:Xi(...e)})(ak,null):null;return"number"==typeof e?e:void 0}const ok="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},lk="__vueuse_ssr_handlers__",ck=uk();function uk(){return lk in ok||(ok[lk]=ok[lk]||{}),ok[lk]}function dk(e,t){return ck[e]||t}function hk(e){return function(e,t={}){const{window:n=ek,ssrWidth:i=sk()}=t,r=rk(()=>n&&"matchMedia"in n&&"function"==typeof n.matchMedia),a=wt("number"==typeof i),s=wt(),o=wt(!1);return br(()=>{if(a.value){a.value=!r.value;const t=Ct(e).split(",");return void(o.value=t.some(e=>{const t=e.includes("not all"),n=e.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),r=e.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let a=Boolean(n||r);return n&&a&&(a=i>=YA(n[1])),r&&a&&(a=i<=YA(r[1])),t?!a:a}))}r.value&&(s.value=n.matchMedia(Ct(e)),o.value=s.value.matches)}),nk(s,"change",e=>{o.value=e.matches},{passive:!0}),Sa(()=>o.value)}("(prefers-color-scheme: dark)",e)}const pk={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},fk="vueuse-storage";function mk(e,t,n,i={}){var r;const{flush:a="pre",deep:s=!0,listenToStorageChanges:o=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:d=ek,eventFilter:h,onError:p=e=>{console.error(e)},initOnMounted:f}=i,m=(u?wt:St)("function"==typeof t?t():t),g=Sa(()=>Ct(e));if(!n)try{n=dk("getDefaultStorage",()=>{var e;return null==(e=ek)?void 0:e.localStorage})()}catch(xZ){p(xZ)}if(!n)return m;const v=Ct(t),y=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}(v),b=null!=(r=i.serializer)?r:pk[y],{pause:_,resume:T}=JA(m,e=>function(e){try{const t=n.getItem(g.value);if(null==e)A(t,null),n.removeItem(g.value);else{const i=b.write(e);t!==i&&(n.setItem(g.value,i),A(t,i))}}catch(xZ){p(xZ)}}(e),{flush:a,deep:s,eventFilter:h});_r(g,()=>k(),{flush:a});let S=!1;const w=e=>{f&&!S||k(e.detail)};function A(e,t){if(d){const i={key:g.value,oldValue:e,newValue:t,storageArea:n};d.dispatchEvent(n instanceof Storage?new StorageEvent("storage",i):new CustomEvent(fk,{detail:i}))}}function k(e){if(!e||e.storageArea===n)if(e&&null==e.key)m.value=v;else if(!e||e.key===g.value){_();try{const t=b.write(m.value);void 0!==e&&(null==e?void 0:e.newValue)===t||(m.value=function(e){const t=e?e.newValue:n.getItem(g.value);if(null==t)return l&&null!=v&&n.setItem(g.value,b.write(v)),v;if(!e&&c){const e=b.read(t);return"function"==typeof c?c(e,v):"object"!==y||Array.isArray(e)?e:{...v,...e}}return"string"!=typeof t?t:b.read(t)}(e))}catch(xZ){p(xZ)}finally{e?Jt(T):T()}}}return d&&o&&(n instanceof Storage?nk(d,"storage",e=>{f&&!S||k(e)},{passive:!0}):nk(d,fk,w)),f?ZA(()=>{S=!0,k()}):k(),m}const gk=function(e,t,n={}){const{window:i=ek}=n;return mk(e,t,null==i?void 0:i.localStorage,n)}(VA,"");function vk(){return!!gk.value}function yk(e){gk.value=e}function bk(){gk.value=null}function _k(e,t){return function(){return e.apply(t,arguments)}}const{toString:Tk}=Object.prototype,{getPrototypeOf:Sk}=Object,{iterator:wk,toStringTag:Ak}=Symbol,kk=(e=>t=>{const n=Tk.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xk=e=>(e=e.toLowerCase(),t=>kk(t)===e),Ck=e=>t=>typeof t===e,{isArray:Ek}=Array,Ok=Ck("undefined");function Ik(e){return null!==e&&!Ok(e)&&null!==e.constructor&&!Ok(e.constructor)&&Lk(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Dk=xk("ArrayBuffer"),Pk=Ck("string"),Lk=Ck("function"),Rk=Ck("number"),Mk=e=>null!==e&&"object"==typeof e,Nk=e=>{if("object"!==kk(e))return!1;const t=Sk(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Ak in e||wk in e)},jk=xk("Date"),Bk=xk("File"),Fk=xk("Blob"),Uk=xk("FileList"),$k=xk("URLSearchParams"),[Vk,qk,zk,Hk]=["ReadableStream","Request","Response","Headers"].map(xk);function Wk(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let i,r;if("object"!=typeof e&&(e=[e]),Ek(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{if(Ik(e))return;const r=n?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let s;for(i=0;i<a;i++)s=r[i],t.call(null,e[s],s,e)}}function Gk(e,t){if(Ik(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i,r=n.length;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Xk="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Yk=e=>!Ok(e)&&e!==Xk,Kk=(Qk="undefined"!=typeof Uint8Array&&Sk(Uint8Array),e=>Qk&&e instanceof Qk);var Qk;const Jk=xk("HTMLFormElement"),Zk=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ex=xk("RegExp"),tx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Wk(n,(n,r)=>{let a;!1!==(a=t(n,r,e))&&(i[r]=a||n)}),Object.defineProperties(e,i)},nx=xk("AsyncFunction"),ix=(rx="function"==typeof setImmediate,ax=Lk(Xk.postMessage),rx?setImmediate:ax?((e,t)=>(Xk.addEventListener("message",({source:n,data:i})=>{n===Xk&&i===e&&t.length&&t.shift()()},!1),n=>{t.push(n),Xk.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e));var rx,ax;const sx="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Xk):"undefined"!=typeof process&&process.nextTick||ix,ox={isArray:Ek,isArrayBuffer:Dk,isBuffer:Ik,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Lk(e.append)&&("formdata"===(t=kk(e))||"object"===t&&Lk(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Dk(e.buffer),t},isString:Pk,isNumber:Rk,isBoolean:e=>!0===e||!1===e,isObject:Mk,isPlainObject:Nk,isEmptyObject:e=>{if(!Mk(e)||Ik(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(xZ){return!1}},isReadableStream:Vk,isRequest:qk,isResponse:zk,isHeaders:Hk,isUndefined:Ok,isDate:jk,isFile:Bk,isBlob:Fk,isRegExp:ex,isFunction:Lk,isStream:e=>Mk(e)&&Lk(e.pipe),isURLSearchParams:$k,isTypedArray:Kk,isFileList:Uk,forEach:Wk,merge:function e(){const{caseless:t,skipUndefined:n}=Yk(this)&&this||{},i={},r=(r,a)=>{const s=t&&Gk(i,a)||a;Nk(i[s])&&Nk(r)?i[s]=e(i[s],r):Nk(r)?i[s]=e({},r):Ek(r)?i[s]=r.slice():n&&Ok(r)||(i[s]=r)};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Wk(arguments[a],r);return i},extend:(e,t,n,{allOwnKeys:i}={})=>(Wk(t,(t,i)=>{n&&Lk(t)?e[i]=_k(t,n):e[i]=t},{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let r,a,s;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)s=r[a],i&&!i(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==n&&Sk(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:kk,kindOfTest:xk,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(Ek(e))return e;let t=e.length;if(!Rk(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[wk]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:Jk,hasOwnProperty:Zk,hasOwnProp:Zk,reduceDescriptors:tx,freezeMethods:e=>{tx(e,(t,n)=>{if(Lk(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];Lk(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach(e=>{n[e]=!0})};return Ek(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Gk,global:Xk,isContextDefined:Yk,isSpecCompliantForm:function(e){return!!(e&&Lk(e.append)&&"FormData"===e[Ak]&&e[wk])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(Mk(e)){if(t.indexOf(e)>=0)return;if(Ik(e))return e;if(!("toJSON"in e)){t[i]=e;const r=Ek(e)?[]:{};return Wk(e,(e,t)=>{const a=n(e,i+1);!Ok(a)&&(r[t]=a)}),t[i]=void 0,r}}return e};return n(e,0)},isAsyncFn:nx,isThenable:e=>e&&(Mk(e)||Lk(e))&&Lk(e.then)&&Lk(e.catch),setImmediate:ix,asap:sx,isIterable:e=>null!=e&&Lk(e[wk])};function lx(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}ox.inherits(lx,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ox.toJSONObject(this.config),code:this.code,status:this.status}}});const cx=lx.prototype,ux={};function dx(e){return ox.isPlainObject(e)||ox.isArray(e)}function hx(e){return ox.endsWith(e,"[]")?e.slice(0,-2):e}function px(e,t,n){return e?e.concat(t).map(function(e,t){return e=hx(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ux[e]={value:e}}),Object.defineProperties(lx,ux),Object.defineProperty(cx,"isAxiosError",{value:!0}),lx.from=(e,t,n,i,r,a)=>{const s=Object.create(cx);ox.toFlatObject(e,s,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return lx.call(s,o,l,n,i,r),e&&null==s.cause&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",a&&Object.assign(s,a),s};const fx=ox.toFlatObject(ox,{},null,function(e){return/^is[A-Z]/.test(e)});function mx(e,t,n){if(!ox.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=ox.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ox.isUndefined(t[e])})).metaTokens,r=n.visitor||c,a=n.dots,s=n.indexes,o=(n.Blob||"undefined"!=typeof Blob&&Blob)&&ox.isSpecCompliantForm(t);if(!ox.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ox.isDate(e))return e.toISOString();if(ox.isBoolean(e))return e.toString();if(!o&&ox.isBlob(e))throw new lx("Blob is not supported. Use a Buffer instead.");return ox.isArrayBuffer(e)||ox.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let o=e;if(e&&!r&&"object"==typeof e)if(ox.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(ox.isArray(e)&&function(e){return ox.isArray(e)&&!e.some(dx)}(e)||(ox.isFileList(e)||ox.endsWith(n,"[]"))&&(o=ox.toArray(e)))return n=hx(n),o.forEach(function(e,i){!ox.isUndefined(e)&&null!==e&&t.append(!0===s?px([n],i,a):null===s?n:n+"[]",l(e))}),!1;return!!dx(e)||(t.append(px(r,n,a),l(e)),!1)}const u=[],d=Object.assign(fx,{defaultVisitor:c,convertValue:l,isVisitable:dx});if(!ox.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!ox.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+i.join("."));u.push(n),ox.forEach(n,function(n,a){!0===(!(ox.isUndefined(n)||null===n)&&r.call(t,n,ox.isString(a)?a.trim():a,i,d))&&e(n,i?i.concat(a):[a])}),u.pop()}}(e),t}function gx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function vx(e,t){this._pairs=[],e&&mx(e,this,t)}const yx=vx.prototype;function bx(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function _x(e,t,n){if(!t)return e;const i=n&&n.encode||bx;ox.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(a=r?r(t,n):ox.isURLSearchParams(t)?t.toString():new vx(t,n).toString(i),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}yx.append=function(e,t){this._pairs.push([e,t])},yx.toString=function(e){const t=e?function(t){return e.call(this,t,gx)}:gx;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class Tx{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ox.forEach(this.handlers,function(t){null!==t&&e(t)})}}const Sx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wx={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:vx,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ax="undefined"!=typeof window&&"undefined"!=typeof document,kx="object"==typeof navigator&&navigator||void 0,xx=Ax&&(!kx||["ReactNative","NativeScript","NS"].indexOf(kx.product)<0),Cx="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ex=Ax&&window.location.href||"http://localhost",Ox={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ax,hasStandardBrowserEnv:xx,hasStandardBrowserWebWorkerEnv:Cx,navigator:kx,origin:Ex},Symbol.toStringTag,{value:"Module"})),...wx};function Ix(e){function t(e,n,i,r){let a=e[r++];if("__proto__"===a)return!0;const s=Number.isFinite(+a),o=r>=e.length;return a=!a&&ox.isArray(i)?i.length:a,o?(ox.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!s):(i[a]&&ox.isObject(i[a])||(i[a]=[]),t(e,n,i[a],r)&&ox.isArray(i[a])&&(i[a]=function(e){const t={},n=Object.keys(e);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],t[a]=e[a];return t}(i[a])),!s)}if(ox.isFormData(e)&&ox.isFunction(e.entries)){const n={};return ox.forEachEntry(e,(e,i)=>{t(function(e){return ox.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),i,n,0)}),n}return null}const Dx={transitional:Sx,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,r=ox.isObject(e);if(r&&ox.isHTMLForm(e)&&(e=new FormData(e)),ox.isFormData(e))return i?JSON.stringify(Ix(e)):e;if(ox.isArrayBuffer(e)||ox.isBuffer(e)||ox.isStream(e)||ox.isFile(e)||ox.isBlob(e)||ox.isReadableStream(e))return e;if(ox.isArrayBufferView(e))return e.buffer;if(ox.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return mx(e,new Ox.classes.URLSearchParams,{visitor:function(e,t,n,i){return Ox.isNode&&ox.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((a=ox.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return mx(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),function(e,t,n){if(ox.isString(e))try{return(t||JSON.parse)(e),ox.trim(e)}catch(xZ){if("SyntaxError"!==xZ.name)throw xZ}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Dx.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(ox.isResponse(e)||ox.isReadableStream(e))return e;if(e&&ox.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(xZ){if(n){if("SyntaxError"===xZ.name)throw lx.from(xZ,lx.ERR_BAD_RESPONSE,this,null,this.response);throw xZ}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ox.classes.FormData,Blob:Ox.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ox.forEach(["delete","get","head","post","put","patch"],e=>{Dx.headers[e]={}});const Px=ox.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lx=Symbol("internals");function Rx(e){return e&&String(e).trim().toLowerCase()}function Mx(e){return!1===e||null==e?e:ox.isArray(e)?e.map(Mx):String(e)}function Nx(e,t,n,i,r){return ox.isFunction(i)?i.call(this,t,n):(r&&(t=n),ox.isString(t)?ox.isString(i)?-1!==t.indexOf(i):ox.isRegExp(i)?i.test(t):void 0:void 0)}let jx=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function r(e,t,n){const r=Rx(t);if(!r)throw new Error("header name must be a non-empty string");const a=ox.findKey(i,r);(!a||void 0===i[a]||!0===n||void 0===n&&!1!==i[a])&&(i[a||t]=Mx(e))}const a=(e,t)=>ox.forEach(e,(e,n)=>r(e,n,t));if(ox.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(ox.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,i,r;return e&&e.split("\n").forEach(function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),i=e.substring(r+1).trim(),!n||t[n]&&Px[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t})(e),t);else if(ox.isObject(e)&&ox.isIterable(e)){let n,i,r={};for(const t of e){if(!ox.isArray(t))throw TypeError("Object iterator must return a key-value pair");r[i=t[0]]=(n=r[i])?ox.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(r,t)}else null!=e&&r(t,e,n);return this}get(e,t){if(e=Rx(e)){const n=ox.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(ox.isFunction(t))return t.call(this,e,n);if(ox.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Rx(e)){const n=ox.findKey(this,e);return!(!n||void 0===this[n]||t&&!Nx(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function r(e){if(e=Rx(e)){const r=ox.findKey(n,e);!r||t&&!Nx(0,n[r],r,t)||(delete n[r],i=!0)}}return ox.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const r=t[n];e&&!Nx(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}normalize(e){const t=this,n={};return ox.forEach(this,(i,r)=>{const a=ox.findKey(n,r);if(a)return t[a]=Mx(i),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(r):String(r).trim();s!==r&&delete t[r],t[s]=Mx(i),n[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ox.forEach(this,(n,i)=>{null!=n&&!1!==n&&(t[i]=e&&ox.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(e=>n.set(e)),n}static accessor(e){const t=(this[Lx]=this[Lx]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=Rx(e);t[i]||(function(e,t){const n=ox.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})})}(n,e),t[i]=!0)}return ox.isArray(e)?e.forEach(i):i(e),this}};function Bx(e,t){const n=this||Dx,i=t||n,r=jx.from(i.headers);let a=i.data;return ox.forEach(e,function(e){a=e.call(n,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function Fx(e){return!(!e||!e.__CANCEL__)}function Ux(e,t,n){lx.call(this,null==e?"canceled":e,lx.ERR_CANCELED,t,n),this.name="CanceledError"}function $x(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new lx("Request failed with status code "+n.status,[lx.ERR_BAD_REQUEST,lx.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}jx.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ox.reduceDescriptors(jx.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}}),ox.freezeMethods(jx),ox.inherits(Ux,lx,{__CANCEL__:!0});const Vx=(e,t,n=3)=>{let i=0;const r=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=i[s];r||(r=l),n[a]=o,i[a]=l;let u=s,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}(50,250);return function(e,t){let n,i,r=0,a=1e3/t;const s=(t,a=Date.now())=>{r=a,n=null,i&&(clearTimeout(i),i=null),e(...t)};return[(...e)=>{const t=Date.now(),o=t-r;o>=a?s(e,t):(n=e,i||(i=setTimeout(()=>{i=null,s(n)},a-o)))},()=>n&&s(n)]}(n=>{const a=n.loaded,s=n.lengthComputable?n.total:void 0,o=a-i,l=r(o);i=a,e({loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})},n)},qx=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},zx=e=>(...t)=>ox.asap(()=>e(...t)),Hx=Ox.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ox.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ox.origin),Ox.navigator&&/(msie|trident)/i.test(Ox.navigator.userAgent)):()=>!0,Wx=Ox.hasStandardBrowserEnv?{write(e,t,n,i,r,a,s){if("undefined"==typeof document)return;const o=[`${e}=${encodeURIComponent(t)}`];ox.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),ox.isString(i)&&o.push(`path=${i}`),ox.isString(r)&&o.push(`domain=${r}`),!0===a&&o.push("secure"),ox.isString(s)&&o.push(`SameSite=${s}`),document.cookie=o.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function Gx(e,t,n){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(i||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Xx=e=>e instanceof jx?{...e}:e;function Yx(e,t){t=t||{};const n={};function i(e,t,n,i){return ox.isPlainObject(e)&&ox.isPlainObject(t)?ox.merge.call({caseless:i},e,t):ox.isPlainObject(t)?ox.merge({},t):ox.isArray(t)?t.slice():t}function r(e,t,n,r){return ox.isUndefined(t)?ox.isUndefined(e)?void 0:i(void 0,e,0,r):i(e,t,0,r)}function a(e,t){if(!ox.isUndefined(t))return i(void 0,t)}function s(e,t){return ox.isUndefined(t)?ox.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function o(n,r,a){return a in t?i(n,r):a in e?i(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t,n)=>r(Xx(e),Xx(t),0,!0)};return ox.forEach(Object.keys({...e,...t}),function(i){const a=l[i]||r,s=a(e[i],t[i],i);ox.isUndefined(s)&&a!==o||(n[i]=s)}),n}const Kx=e=>{const t=Yx({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:s,auth:o}=t;if(t.headers=s=jx.from(s),t.url=_x(Gx(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),ox.isFormData(n))if(Ox.hasStandardBrowserEnv||Ox.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(ox.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(([e,n])=>{t.includes(e.toLowerCase())&&s.set(e,n)})}if(Ox.hasStandardBrowserEnv&&(i&&ox.isFunction(i)&&(i=i(t)),i||!1!==i&&Hx(t.url))){const e=r&&a&&Wx.read(a);e&&s.set(r,e)}return t},Qx="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const i=Kx(e);let r=i.data;const a=jx.from(i.headers).normalize();let s,o,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:p}=i;function f(){c&&c(),u&&u(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const i=jx.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());$x(function(e){t(e),f()},function(e){n(e),f()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:i,config:e,request:m}),m=null}m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new lx("Request aborted",lx.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const i=new lx(t&&t.message?t.message:"Network Error",lx.ERR_NETWORK,e,m);i.event=t||null,n(i),m=null},m.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const r=i.transitional||Sx;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new lx(t,r.clarifyTimeoutError?lx.ETIMEDOUT:lx.ECONNABORTED,e,m)),m=null},void 0===r&&a.setContentType(null),"setRequestHeader"in m&&ox.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),ox.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),d&&"json"!==d&&(m.responseType=i.responseType),p&&([l,u]=Vx(p,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=Vx(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(s=t=>{m&&(n(!t||t.type?new Ux(null,e,m):t),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);v&&-1===Ox.protocols.indexOf(v)?n(new lx("Unsupported protocol "+v+":",lx.ERR_BAD_REQUEST,e)):m.send(r||null)})},Jx=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const r=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;i.abort(t instanceof lx?t:new Ux(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,r(new lx(`timeout ${t} of ms exceeded`,lx.ETIMEDOUT))},t);const s=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)}),e=null)};e.forEach(e=>e.addEventListener("abort",r));const{signal:o}=i;return o.unsubscribe=()=>ox.asap(s),o}},Zx=function*(e,t){let n=e.byteLength;if(n<t)return void(yield e);let i,r=0;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},eC=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},tC=(e,t,n,i)=>{const r=async function*(e,t){for await(const n of eC(e))yield*Zx(n,t)}(e,t);let a,s=0,o=e=>{a||(a=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await r.next();if(t)return o(),void e.close();let a=i.byteLength;if(n){let e=s+=a;n(e)}e.enqueue(new Uint8Array(i))}catch(RT){throw o(RT),RT}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},{isFunction:nC}=ox,iC=(({Request:e,Response:t})=>({Request:e,Response:t}))(ox.global),{ReadableStream:rC,TextEncoder:aC}=ox.global,sC=(e,...t)=>{try{return!!e(...t)}catch(xZ){return!1}},oC=e=>{e=ox.merge.call({skipUndefined:!0},iC,e);const{fetch:t,Request:n,Response:i}=e,r=t?nC(t):"function"==typeof fetch,a=nC(n),s=nC(i);if(!r)return!1;const o=r&&nC(rC),l=r&&("function"==typeof aC?(c=new aC,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const u=a&&o&&sC(()=>{let e=!1;const t=new n(Ox.origin,{body:new rC,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),d=s&&o&&sC(()=>ox.isReadableStream(new i("").body)),h={stream:d&&(e=>e.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let i=t&&t[e];if(i)return i.call(t);throw new lx(`Response type '${e}' is not supported`,lx.ERR_NOT_SUPPORT,n)})});const p=async(e,t)=>{const i=ox.toFiniteNumber(e.getContentLength());return null==i?(async e=>{if(null==e)return 0;if(ox.isBlob(e))return e.size;if(ox.isSpecCompliantForm(e)){const t=new n(Ox.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ox.isArrayBufferView(e)||ox.isArrayBuffer(e)?e.byteLength:(ox.isURLSearchParams(e)&&(e+=""),ox.isString(e)?(await l(e)).byteLength:void 0)})(t):i};return async e=>{let{url:r,method:s,data:o,signal:l,cancelToken:c,timeout:f,onDownloadProgress:m,onUploadProgress:g,responseType:v,headers:y,withCredentials:b="same-origin",fetchOptions:_}=Kx(e),T=t||fetch;v=v?(v+"").toLowerCase():"text";let S=Jx([l,c&&c.toAbortSignal()],f),w=null;const A=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let k;try{if(g&&u&&"get"!==s&&"head"!==s&&0!==(k=await p(y,o))){let e,t=new n(r,{method:"POST",body:o,duplex:"half"});if(ox.isFormData(o)&&(e=t.headers.get("content-type"))&&y.setContentType(e),t.body){const[e,n]=qx(k,Vx(zx(g)));o=tC(t.body,65536,e,n)}}ox.isString(b)||(b=b?"include":"omit");const t=a&&"credentials"in n.prototype,l={..._,signal:S,method:s.toUpperCase(),headers:y.normalize().toJSON(),body:o,duplex:"half",credentials:t?b:void 0};w=a&&new n(r,l);let c=await(a?T(w,_):T(r,l));const f=d&&("stream"===v||"response"===v);if(d&&(m||f&&A)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=ox.toFiniteNumber(c.headers.get("content-length")),[n,r]=m&&qx(t,Vx(zx(m),!0))||[];c=new i(tC(c.body,65536,n,()=>{r&&r(),A&&A()}),e)}v=v||"text";let x=await h[ox.findKey(h,v)||"text"](c,e);return!f&&A&&A(),await new Promise((t,n)=>{$x(t,n,{data:x,headers:jx.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:w})})}catch(RT){if(A&&A(),RT&&"TypeError"===RT.name&&/Load failed|fetch/i.test(RT.message))throw Object.assign(new lx("Network Error",lx.ERR_NETWORK,e,w),{cause:RT.cause||RT});throw lx.from(RT,RT&&RT.code,e,w)}}},lC=new Map,cC=e=>{let t=e&&e.env||{};const{fetch:n,Request:i,Response:r}=t,a=[i,r,n];let s,o,l=a.length,c=lC;for(;l--;)s=a[l],o=c.get(s),void 0===o&&c.set(s,o=l?new Map:oC(t)),c=o;return o};cC();const uC={http:null,xhr:Qx,fetch:{get:cC}};ox.forEach(uC,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(xZ){}Object.defineProperty(e,"adapterName",{value:t})}});const dC=e=>`- ${e}`,hC=e=>ox.isFunction(e)||null===e||!1===e,pC={getAdapter:function(e,t){e=ox.isArray(e)?e:[e];const{length:n}=e;let i,r;const a={};for(let s=0;s<n;s++){let n;if(i=e[s],r=i,!hC(i)&&(r=uC[(n=String(i)).toLowerCase()],void 0===r))throw new lx(`Unknown adapter '${n}'`);if(r&&(ox.isFunction(r)||(r=r.get(t))))break;a[n||"#"+s]=r}if(!r){const e=Object.entries(a).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new lx("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(dC).join("\n"):" "+dC(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:uC};function fC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ux(null,e)}function mC(e){return fC(e),e.headers=jx.from(e.headers),e.data=Bx.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pC.getAdapter(e.adapter||Dx.adapter,e)(e).then(function(t){return fC(e),t.data=Bx.call(e,e.transformResponse,t),t.headers=jx.from(t.headers),t},function(t){return Fx(t)||(fC(e),t&&t.response&&(t.response.data=Bx.call(e,e.transformResponse,t.response),t.response.headers=jx.from(t.response.headers))),Promise.reject(t)})}const gC="1.13.2",vC={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{vC[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const yC={};vC.transitional=function(e,t,n){function i(e,t){return"[Axios v"+gC+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,a)=>{if(!1===e)throw new lx(i(r," has been removed"+(t?" in "+t:"")),lx.ERR_DEPRECATED);return t&&!yC[r]&&(yC[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},vC.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const bC={assertOptions:function(e,t,n){if("object"!=typeof e)throw new lx("options must be an object",lx.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const a=i[r],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new lx("option "+a+" must be "+n,lx.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new lx("Unknown option "+a,lx.ERR_BAD_OPTION)}},validators:vC},_C=bC.validators;let TC=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Tx,response:new Tx}}async request(e,t){try{return await this._request(e,t)}catch(RT){if(RT instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{RT.stack?n&&!String(RT.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(RT.stack+="\n"+n):RT.stack=n}catch(xZ){}}throw RT}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Yx(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:r}=t;void 0!==n&&bC.assertOptions(n,{silentJSONParsing:_C.transitional(_C.boolean),forcedJSONParsing:_C.transitional(_C.boolean),clarifyTimeoutError:_C.transitional(_C.boolean)},!1),null!=i&&(ox.isFunction(i)?t.paramsSerializer={serialize:i}:bC.assertOptions(i,{encode:_C.function,serialize:_C.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),bC.assertOptions(t,{baseUrl:_C.spelling("baseURL"),withXsrfToken:_C.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&ox.merge(r.common,r[t.method]);r&&ox.forEach(["delete","get","head","post","put","patch","common"],e=>{delete r[e]}),t.headers=jx.concat(a,r);const s=[];let o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let u,d=0;if(!o){const e=[mC.bind(this),void 0];for(e.unshift(...s),e.push(...l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=mC.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return _x(Gx((e=Yx(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}};ox.forEach(["delete","get","head","options"],function(e){TC.prototype[e]=function(t,n){return this.request(Yx(n||{},{method:e,url:t,data:(n||{}).data}))}}),ox.forEach(["post","put","patch"],function(e){function t(t){return function(n,i,r){return this.request(Yx(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}TC.prototype[e]=t(),TC.prototype[e+"Form"]=t(!0)});const SC={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(SC).forEach(([e,t])=>{SC[t]=e});const wC=function e(t){const n=new TC(t),i=_k(TC.prototype.request,n);return ox.extend(i,TC.prototype,n,{allOwnKeys:!0}),ox.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(Yx(t,n))},i}(Dx);wC.Axios=TC,wC.CanceledError=Ux,wC.CancelToken=class e{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const i=new Promise(e=>{n.subscribe(e),t=e}).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e(function(e,i,r){n.reason||(n.reason=new Ux(e,i,r),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let t;return{token:new e(function(e){t=e}),cancel:t}}},wC.isCancel=Fx,wC.VERSION=gC,wC.toFormData=mx,wC.AxiosError=lx,wC.Cancel=wC.CanceledError,wC.all=function(e){return Promise.all(e)},wC.spread=function(e){return function(t){return e.apply(null,t)}},wC.isAxiosError=function(e){return ox.isObject(e)&&!0===e.isAxiosError},wC.mergeConfig=Yx,wC.AxiosHeaders=jx,wC.formToJSON=e=>Ix(ox.isHTMLForm(e)?new FormData(e):e),wC.getAdapter=pC.getAdapter,wC.HttpStatusCode=SC,wC.default=wC;const{Axios:AC,AxiosError:kC,CanceledError:xC,isCancel:CC,CancelToken:EC,VERSION:OC,all:IC,Cancel:DC,isAxiosError:PC,spread:LC,toFormData:RC,AxiosHeaders:MC,HttpStatusCode:NC,formToJSON:jC,getAdapter:BC,mergeConfig:FC}=wC;e("bA",RC);
/*!
        * vue-router v4.5.1
        * (c) 2025 Eduardo San Martin Morote
        * @license MIT
        */
const UC="undefined"!=typeof document;function $C(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const VC=Object.assign;function qC(e,t){const n={};for(const i in t){const r=t[i];n[i]=HC(r)?r.map(e):e(r)}return n}const zC=()=>{},HC=Array.isArray,WC=/#/g,GC=/&/g,XC=/\//g,YC=/=/g,KC=/\?/g,QC=/\+/g,JC=/%5B/g,ZC=/%5D/g,eE=/%5E/g,tE=/%60/g,nE=/%7B/g,iE=/%7C/g,rE=/%7D/g,aE=/%20/g;function sE(e){return encodeURI(""+e).replace(iE,"|").replace(JC,"[").replace(ZC,"]")}function oE(e){return sE(e).replace(QC,"%2B").replace(aE,"+").replace(WC,"%23").replace(GC,"%26").replace(tE,"`").replace(nE,"{").replace(rE,"}").replace(eE,"^")}function lE(e){return oE(e).replace(YC,"%3D")}function cE(e){return null==e?"":function(e){return sE(e).replace(WC,"%23").replace(KC,"%3F")}(e).replace(XC,"%2F")}function uE(e){try{return decodeURIComponent(""+e)}catch(RT){}return""+e}const dE=/\/$/;function hE(e,t,n="/"){let i,r={},a="",s="";const o=t.indexOf("#");let l=t.indexOf("?");return o<l&&o>=0&&(l=-1),l>-1&&(i=t.slice(0,l),a=t.slice(l+1,o>-1?o:t.length),r=e(a)),o>-1&&(i=i||t.slice(0,o),s=t.slice(o,t.length)),i=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),r=i[i.length-1];".."!==r&&"."!==r||i.push("");let a,s,o=n.length-1;for(a=0;a<i.length;a++)if(s=i[a],"."!==s){if(".."!==s)break;o>1&&o--}return n.slice(0,o).join("/")+"/"+i.slice(a).join("/")}(null!=i?i:t,n),{fullPath:i+(a&&"?")+a+s,path:i,query:r,hash:uE(s)}}function pE(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function fE(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function mE(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!gE(e[n],t[n]))return!1;return!0}function gE(e,t){return HC(e)?vE(e,t):HC(t)?vE(t,e):e===t}function vE(e,t){return HC(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}const yE={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var bE,_E,TE,SE;function wE(e){if(!e)if(UC){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(dE,"")}(_E=bE||(bE={})).pop="pop",_E.push="push",(SE=TE||(TE={})).back="back",SE.forward="forward",SE.unknown="";const AE=/^[^#]+#/;function kE(e,t){return e.replace(AE,"#")+t}const xE=()=>({left:window.scrollX,top:window.scrollY});function CE(e){let t;if("el"in e){const n=e.el,i="string"==typeof n&&n.startsWith("#"),r="string"==typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function EE(e,t){return(history.state?history.state.position-t:-1)+e}const OE=new Map;function IE(e,t){const{pathname:n,search:i,hash:r}=t,a=e.indexOf("#");if(a>-1){let t=r.includes(e.slice(a))?e.slice(a).length:1,n=r.slice(t);return"/"!==n[0]&&(n="/"+n),pE(n,"")}return pE(n,e)+i+r}function DE(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?xE():null}}function PE(e){const{history:t,location:n}=window,i={value:IE(e,n)},r={value:t.state};function a(i,a,s){const o=e.indexOf("#"),l=o>-1?(n.host&&document.querySelector("base")?e:e.slice(o))+i:location.protocol+"//"+location.host+e+i;try{t[s?"replaceState":"pushState"](a,"",l),r.value=a}catch(RT){console.error(RT),n[s?"replace":"assign"](l)}}return r.value||a(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:function(e,n){const s=VC({},r.value,t.state,{forward:e,scroll:xE()});a(s.current,s,!0),a(e,VC({},DE(i.value,e,null),{position:s.position+1},n),!1),i.value=e},replace:function(e,n){a(e,VC({},t.state,DE(r.value.back,e,r.value.forward,!0),n,{position:r.value.position}),!0),i.value=e}}}function LE(e){const t=PE(e=wE(e)),n=function(e,t,n,i){let r=[],a=[],s=null;const o=({state:a})=>{const o=IE(e,location),l=n.value,c=t.value;let u=0;if(a){if(n.value=o,t.value=a,s&&s===l)return void(s=null);u=c?a.position-c.position:0}else i(o);r.forEach(e=>{e(n.value,l,{delta:u,type:bE.pop,direction:u?u>0?TE.forward:TE.back:TE.unknown})})};function l(){const{history:e}=window;e.state&&e.replaceState(VC({},e.state,{scroll:xE()}),"")}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){s=n.value},listen:function(e){r.push(e);const t=()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)};return a.push(t),t},destroy:function(){for(const e of a)e();a=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace),i=VC({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:kE.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function RE(e){return"string"==typeof e||"symbol"==typeof e}const ME=Symbol("");var NE,jE;function BE(e,t){return VC(new Error,{type:e,[ME]:!0},t)}function FE(e,t){return e instanceof Error&&ME in e&&(null==t||!!(e.type&t))}(jE=NE||(NE={}))[jE.aborted=4]="aborted",jE[jE.cancelled=8]="cancelled",jE[jE.duplicated=16]="duplicated";const UE="[^/]+?",$E={sensitive:!1,strict:!1,start:!0,end:!0},VE=/[.+*?^${}()[\]/\\]/g;function qE(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function zE(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const e=qE(i[n],r[n]);if(e)return e;n++}if(1===Math.abs(r.length-i.length)){if(HE(i))return 1;if(HE(r))return-1}return r.length-i.length}function HE(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const WE={type:0,value:""},GE=/[a-zA-Z0-9_]/;function XE(e,t,n){const i=function(e,t){const n=VC({},$E,t),i=[];let r=n.start?"^":"";const a=[];for(const o of e){const e=o.length?[]:[90];n.strict&&!o.length&&(r+="/");for(let t=0;t<o.length;t++){const i=o[t];let s=40+(n.sensitive?.25:0);if(0===i.type)t||(r+="/"),r+=i.value.replace(VE,"\\$&"),s+=40;else if(1===i.type){const{value:e,repeatable:n,optional:l,regexp:c}=i;a.push({name:e,repeatable:n,optional:l});const u=c||UE;if(u!==UE){s+=10;try{new RegExp(`(${u})`)}catch(RT){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+RT.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;t||(d=l&&o.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),r+=d,s+=20,l&&(s+=-8),n&&(s+=-20),".*"===u&&(s+=-50)}e.push(s)}i.push(e)}if(n.strict&&n.end){const e=i.length-1;i[e][i[e].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");return{re:s,score:i,keys:a,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let i=1;i<t.length;i++){const e=t[i]||"",r=a[i-1];n[r.name]=e&&r.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",i=!1;for(const r of e){i&&n.endsWith("/")||(n+="/"),i=!1;for(const e of r)if(0===e.type)n+=e.value;else if(1===e.type){const{value:a,repeatable:s,optional:o}=e,l=a in t?t[a]:"";if(HC(l)&&!s)throw new Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);const c=HC(l)?l.join("/"):l;if(!c){if(!o)throw new Error(`Missing required param "${a}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=c}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[WE]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,i=n;const r=[];let a;function s(){a&&r.push(a),a=[]}let o,l=0,c="",u="";function d(){c&&(0===n?a.push({type:0,value:c}):1===n||2===n||3===n?(a.length>1&&("*"===o||"+"===o)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:c,regexp:u,repeatable:"*"===o||"+"===o,optional:"*"===o||"?"===o})):t("Invalid state to consume buffer"),c="")}function h(){c+=o}for(;l<e.length;)if(o=e[l++],"\\"!==o||2===n)switch(n){case 0:"/"===o?(c&&d(),s()):":"===o?(d(),n=1):h();break;case 4:h(),n=i;break;case 1:"("===o?n=2:GE.test(o)?h():(d(),n=0,"*"!==o&&"?"!==o&&"+"!==o&&l--);break;case 2:")"===o?"\\"==u[u.length-1]?u=u.slice(0,-1)+o:n=3:u+=o;break;case 3:d(),n=0,"*"!==o&&"?"!==o&&"+"!==o&&l--,u="";break;default:t("Unknown state")}else i=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),d(),s(),r}(e.path),n),r=VC(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function YE(e,t){const n=[],i=new Map;function r(e,n,i){const o=!i,l=QE(e);l.aliasOf=i&&i.record;const c=tO(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(QE(VC({},l,{components:i?i.record.components:l.components,path:e,aliasOf:i?i.record:l})))}let d,h;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,i="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&i+u)}if(d=XE(t,n,c),i?i.alias.push(d):(h=h||d,h!==d&&h.alias.push(d),o&&e.name&&!ZE(d)&&a(e.name)),nO(d)&&s(d),l.children){const e=l.children;for(let t=0;t<e.length;t++)r(e[t],d,i&&i.children[t])}i=i||d}return h?()=>{a(h)}:zC}function a(e){if(RE(e)){const t=i.get(e);t&&(i.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&i.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function s(e){const t=function(e,t){let n=0,i=t.length;for(;n!==i;){const r=n+i>>1;zE(e,t[r])<0?i=r:n=r+1}const r=function(e){let t=e;for(;t=t.parent;)if(nO(t)&&0===zE(e,t))return t}(e);return r&&(i=t.lastIndexOf(r,i-1)),i}(e,n);n.splice(t,0,e),e.record.name&&!ZE(e)&&i.set(e.record.name,e)}return t=tO({strict:!1,end:!0,sensitive:!1},t),e.forEach(e=>r(e)),{addRoute:r,resolve:function(e,t){let r,a,s,o={};if("name"in e&&e.name){if(r=i.get(e.name),!r)throw BE(1,{location:e});s=r.record.name,o=VC(KE(t.params,r.keys.filter(e=>!e.optional).concat(r.parent?r.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&KE(e.params,r.keys.map(e=>e.name))),a=r.stringify(o)}else if(null!=e.path)a=e.path,r=n.find(e=>e.re.test(a)),r&&(o=r.parse(a),s=r.record.name);else{if(r=t.name?i.get(t.name):n.find(e=>e.re.test(t.path)),!r)throw BE(1,{location:e,currentLocation:t});s=r.record.name,o=VC({},t.params,e.params),a=r.stringify(o)}const l=[];let c=r;for(;c;)l.unshift(c.record),c=c.parent;return{name:s,path:a,params:o,matched:l,meta:eO(l)}},removeRoute:a,clearRoutes:function(){n.length=0,i.clear()},getRoutes:function(){return n},getRecordMatcher:function(e){return i.get(e)}}}function KE(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function QE(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:JE(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function JE(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]="object"==typeof n?n[i]:n;return t}function ZE(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function eO(e){return e.reduce((e,t)=>VC(e,t.meta),{})}function tO(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function nO({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function iO(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const e=n[i].replace(QC," "),r=e.indexOf("="),a=uE(r<0?e:e.slice(0,r)),s=r<0?null:uE(e.slice(r+1));if(a in t){let e=t[a];HC(e)||(e=t[a]=[e]),e.push(s)}else t[a]=s}return t}function rO(e){let t="";for(let n in e){const i=e[n];if(n=lE(n),null==i){void 0!==i&&(t+=(t.length?"&":"")+n);continue}const r=HC(i)?i.map(e=>e&&oE(e)):[i&&oE(i)];r.forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})}return t}function aO(e){const t={};for(const n in e){const i=e[n];void 0!==i&&(t[n]=HC(i)?i.map(e=>null==e?null:""+e):null==i?i:""+i)}return t}const sO=Symbol(""),oO=Symbol(""),lO=Symbol(""),cO=Symbol(""),uO=Symbol("");function dO(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function hO(e,t,n,i,r,a=e=>e()){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((o,l)=>{const c=e=>{!1===e?l(BE(4,{from:n,to:t})):e instanceof Error?l(e):function(e){return"string"==typeof e||e&&"object"==typeof e}(e)?l(BE(2,{from:t,to:e})):(s&&i.enterCallbacks[r]===s&&"function"==typeof e&&s.push(e),o())},u=a(()=>e.call(i&&i.instances[r],t,n,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(e=>l(e))})}function pO(e,t,n,i,r=e=>e()){const a=[];for(const s of e)for(const e in s.components){let o=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if($C(o)){const l=(o.__vccOpts||o)[t];l&&a.push(hO(l,n,i,s,e,r))}else{let l=o();a.push(()=>l.then(a=>{if(!a)throw new Error(`Couldn't resolve component "${e}" at "${s.path}"`);const o=(l=a).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&$C(l.default)?a.default:a;var l;s.mods[e]=a,s.components[e]=o;const c=(o.__vccOpts||o)[t];return c&&hO(c,n,i,s,e,r)()}))}}return a}function fO(e){const t=Xi(lO),n=Xi(cO),i=Sa(()=>{const n=xt(e.to);return t.resolve(n)}),r=Sa(()=>{const{matched:e}=i.value,{length:t}=e,r=e[t-1],a=n.matched;if(!r||!a.length)return-1;const s=a.findIndex(fE.bind(null,r));if(s>-1)return s;const o=vO(e[t-2]);return t>1&&vO(r)===o&&a[a.length-1].path!==o?a.findIndex(fE.bind(null,e[t-2])):s}),a=Sa(()=>r.value>-1&&function(e,t){for(const n in t){const i=t[n],r=e[n];if("string"==typeof i){if(i!==r)return!1}else if(!HC(r)||r.length!==i.length||i.some((e,t)=>e!==r[t]))return!1}return!0}(n.params,i.value.params)),s=Sa(()=>r.value>-1&&r.value===n.matched.length-1&&mE(n.params,i.value.params));return{route:i,href:Sa(()=>i.value.href),isActive:a,isExactActive:s,navigate:function(n={}){if(function(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}(n)){const n=t[xt(e.replace)?"replace":"push"](xt(e.to)).catch(zC);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}}}const mO=Bn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:fO,setup(e,{slots:t}){const n=ct(fO(e)),{options:i}=Xi(lO),r=Sa(()=>({[yO(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[yO(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&(1===(a=t.default(n)).length?a[0]:a);var a;return e.custom?i:wa("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),gO=mO;function vO(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const yO=(e,t,n)=>null!=e?e:null!=t?t:n,bO=Bn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Xi(uO),r=Sa(()=>e.route||i.value),a=Xi(oO,0),s=Sa(()=>{let e=xt(a);const{matched:t}=r.value;let n;for(;(n=t[e])&&!n.components;)e++;return e}),o=Sa(()=>r.value.matched[s.value]);Gi(oO,Sa(()=>s.value+1)),Gi(sO,o),Gi(uO,r);const l=St();return _r(()=>[l.value,o.value,e.name],([e,t,n],[i,r,a])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===i&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&fE(t,r)&&i||(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const i=r.value,a=e.name,s=o.value,c=s&&s.components[a];if(!c)return _O(n.default,{Component:c,route:i});const u=s.props[a],d=u?!0===u?i.params:"function"==typeof u?u(i):u:null,h=wa(c,VC({},d,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(s.instances[a]=null)},ref:l}));return _O(n.default,{Component:h,route:i})||h}}});function _O(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const TO=bO;function SO(){return Xi(lO)}function wO(e){return Xi(cO)}const AO=e("aI",function(e,t,n){let i=Promise.resolve();function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return i.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})}),kO=[{path:"/",name:"home",component:()=>AO(()=>t.import("./index-legacy-DdQ1sV9B.js"),void 0,t.meta.url),meta:{title:"",hideNavBar:!0}},{path:"/:all(.*)",name:"404",component:()=>AO(()=>t.import("./_...all_-legacy-CJgBgzSY.js"),void 0,t.meta.url),meta:{title:"404",i18n:"menus.404Demo"}},{path:"/base",children:[{path:"invest",children:[{path:"",name:"invest-sys",component:()=>AO(()=>t.import("./index-legacy-5I3vXxWz.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"invest-click-tab",children:[{title:"",name:"safe"},{title:"",name:"env"},{title:"",name:"statistics"}]}}},{path:"EnvAdd",name:"envAdd",component:()=>AO(()=>t.import("./EnvAdd-legacy-CHR_33Bp.js"),void 0,t.meta.url),meta:{title:""}},{path:"EnvDetail",name:"envDetail",component:()=>AO(()=>t.import("./EnvDetail-legacy-CU_ETrmk.js"),void 0,t.meta.url),meta:{title:""}},{path:"SafeAdd",name:"safeAdd",component:()=>AO(()=>t.import("./SafeAdd-legacy-C0obAB-M.js"),void 0,t.meta.url),meta:{title:""}},{path:"SafeDetail",name:"safeDetail",component:()=>AO(()=>t.import("./SafeDetail-legacy-k7l_QOe1.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"safegroup",children:[{path:"/pages/base/safegroup",name:"anquanzhize",component:()=>AO(()=>t.import("./index-legacy-D9FL_3AM.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"anquanzhize-click-tab",children:[{title:"",name:"org"},{title:"",name:"target"},{title:"",name:"acc"}]}}},{path:"AccountabilityDetail",name:"accountabilityDetail",component:()=>AO(()=>t.import("./AccountabilityDetail-legacy-DVsIq_44.js"),void 0,t.meta.url),meta:{title:""}},{path:"TargetDetail",name:"goalView",component:()=>AO(()=>t.import("./TargetDetail-legacy-rq1qMjwn.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"safeinputplan",children:[{path:"",name:"invest-plan",component:()=>AO(()=>t.import("./index-legacy-Zf9YjhIH.js"),void 0,t.meta.url),meta:{title:""}},{path:"PlanDetail",name:"inputPlanDetail",component:()=>AO(()=>t.import("./PlanDetail-legacy-VCnX0SCP.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"safeworkplanlist",children:[{path:"",name:"annual-plan",component:()=>AO(()=>t.import("./index-legacy-CCfC3fpb.js"),void 0,t.meta.url),meta:{title:""}},{path:"PlanDetail",name:"planDetail",component:()=>AO(()=>t.import("./PlanDetail-legacy-DdnYWgMK.js"),void 0,t.meta.url),meta:{title:""}}]}]},{path:"/BasicInformation",children:[{path:"basicDetail",name:"basicDetail",component:()=>AO(()=>t.import("./basicDetail-legacy-D5Cfz3Ro.js"),void 0,t.meta.url),meta:{title:""}},{path:"EmployeeFile",children:[{path:"",name:"employee-profile",component:()=>AO(()=>t.import("./index-legacy-EfIXHkgU.js"),void 0,t.meta.url),meta:{title:""}},{path:"EmployeeDetail",name:"EmployeeDetail",component:()=>AO(()=>t.import("./EmployeeDetail-legacy-D7sx_3sc.js"),void 0,t.meta.url),meta:{title:""}},{path:"SearchForm",name:"/BasicInformation/EmployeeFile/SearchForm",component:()=>AO(()=>t.import("./SearchForm-legacy-CFeA7I1m.js"),void 0,t.meta.url)}]},{path:"Information",children:[{path:"",name:"info-sys",component:()=>AO(()=>t.import("./index-legacy-DUxMfRav.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"information-click-tab",children:[{title:"",name:"OrgStructure"},{title:"",name:"QualiCertAndLicenses"},{title:"",name:"Information"}]}}}]}]},{path:"/change-password",children:[{path:"",name:"change-password",component:()=>AO(()=>t.import("./index-legacy-DvVJiTvz.js"),void 0,t.meta.url),meta:{title:"",i18n:"menus.change-password",tabs:{"click-tab":"change-password-handleClick",active:"test-tab-2",children:[{title:"TestTab1",i18n:"menus.change-password",name:"test-tab-1"},{title:"TestTab2",i18n:"menus.change-password",name:"test-tab-2"}]}}}]},{path:"/charts",children:[{path:"",name:"charts",component:()=>AO(()=>t.import("./index-legacy-whglkA-H.js"),void 0,t.meta.url),meta:{title:" Echarts ",i18n:"menus.echartsDemo"}}]},{path:"/chatPage",children:[{path:"",name:"chatPage",component:()=>AO(()=>t.import("./index-legacy-CAten0tm.js"),void 0,t.meta.url),meta:{title:"",hideNavBar:!0}},{path:"agentPerson",name:"agentPerson",component:()=>AO(()=>t.import("./agentPerson-legacy-BVAikGwY.js"),void 0,t.meta.url),meta:{title:""}},{path:"orderService",name:"orderService",component:()=>AO(()=>t.import("./orderService-legacy-B6tUaRFj.js"),void 0,t.meta.url),meta:{title:""}},{path:"safetyVideo",name:"chatPageVideo",component:()=>AO(()=>t.import("./safetyVideo-legacy-CpoIQPYg.js"),void 0,t.meta.url),meta:{title:"DeepSafety"}}]},{path:"/counter",children:[{path:"",name:"counter",component:()=>AO(()=>t.import("./index-legacy-BjtddVu5.js"),void 0,t.meta.url),meta:{title:"  Pinia ",i18n:"menus.persistPiniaState"}}]},{path:"/doublePrevention",children:[{path:"detail",name:"doublePreventionDetail",component:()=>AO(()=>t.import("./detail-legacy-DX8hJsMJ.js"),void 0,t.meta.url),meta:{title:""}},{path:"dynamicControl",children:[{path:"",name:"dynamicControl",component:()=>AO(()=>t.import("./index-legacy-BMDNqNxn.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"dynamic-click-tab",children:[{title:"",name:"dynamic-devicelist"},{title:"",name:"dynamic-worklist"},{title:"",name:"dynamic-arealist"},{title:"",name:"dynamic-riskrank"}]}}}]},{path:"hazardList",children:[{path:"",name:"hazardList",component:()=>AO(()=>t.import("./index-legacy-DHMrDjKi.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"hazardList-tab",children:[{title:"",name:"HazardList"},{title:"",name:"DeferredLedger"},{title:"",name:"HazardStats"}]}}}]},{path:"hazardReporting",children:[{path:"",name:"hazardReporting",component:()=>AO(()=>t.import("./index-legacy-DhKdFHTM.js"),void 0,t.meta.url),meta:{title:"",i18n:"menus.taskProcess"}}]},{path:"initiateRectification",children:[{path:"",name:"initiateRectification",component:()=>AO(()=>t.import("./index-legacy-GJVCGv-e.js"),void 0,t.meta.url),meta:{title:"",i18n:"menus.taskProcess"}}]},{path:"investigationPlan",children:[{path:"",name:"investigationPlan",component:()=>AO(()=>t.import("./index-legacy-DiH0_mfx.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"keyControlMeasures",children:[{path:"",name:"keyControlMeasures",component:()=>AO(()=>t.import("./index-legacy-BqZf8hyz.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"keyControl-click-tab",children:[{title:"",name:"limitedSpaceLedger"},{title:"",name:"hazardousChemicalsLedger"}]}}},{path:"detail",name:"controlDetail",component:()=>AO(()=>t.import("./detail-legacy-Cl08Nl2g.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"riskMap",children:[{path:"",name:"riskMap",component:()=>AO(()=>t.import("./index-legacy-D5l0Z6x1.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"riskSourceManagement",children:[{path:"",name:"riskSourceManger",component:()=>AO(()=>t.import("./index-legacy-QNi7QY11.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"risk-click-tab",children:[{title:"",name:"risk-devicelist"},{title:"",name:"job-list"},{title:"",name:"risk-arealist"}]}}}]},{path:"riskStats",children:[{path:"",name:"riskStats",component:()=>AO(()=>t.import("./index-legacy-ClgH1zoz.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"riskStats-click-tab",children:[{title:"",name:"department-stats"},{title:"",name:"area-stats"},{title:"",name:"level-stats"}]}}}]},{path:"securityCheck",children:[{path:"",name:"securityCheck",component:()=>AO(()=>t.import("./index-legacy-nxKoAi_j.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"message-click-tab",children:[{title:"",name:"inspectRecords"},{title:"",name:"investigationRecords"},{title:"",name:"selfCheck"},{title:"",name:"XunchaRecords"}]}}}]}]},{path:"/educationAndTraining",children:[{path:"eduDetail",name:"eduDetail",component:()=>AO(()=>t.import("./eduDetail-legacy-CAKwm_bM.js"),void 0,t.meta.url),meta:{title:""}},{path:"examinationManagement",children:[{path:"",name:"examinationManagement",component:()=>AO(()=>t.import("./index-legacy-BJgDm2X7.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"exam-manage",children:[{title:"",name:"ExamRecords"},{title:"",name:"TestPaperManagement"}]}}}]},{path:"examPeopleResult",children:[{path:"",name:"examPeopleResult",component:()=>AO(()=>t.import("./index-legacy-DSdjrjJ0.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"learningMaterials",children:[{path:"",name:"learningMaterials",component:()=>AO(()=>t.import("./index-legacy-CeB_RaBw.js"),void 0,t.meta.url),meta:{title:""}},{path:"otherCourse",children:[{path:"",name:"otherCourse",component:()=>AO(()=>t.import("./index-legacy-Be3QyeXm.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"textBank",children:[{path:"",name:"textBank",component:()=>AO(()=>t.import("./index-legacy-C-jQdE1k.js"),void 0,t.meta.url),meta:{title:""}},{path:"questionList",name:"textBankDetail",component:()=>AO(()=>t.import("./questionList-legacy-CbWslwUG.js"),void 0,t.meta.url),meta:{title:""}},{path:"textAnswerQuestion",name:"questionDetail",component:()=>AO(()=>t.import("./textAnswerQuestion-legacy-BazC8PnQ.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"videoBank",children:[{path:"",name:"videoBank",component:()=>AO(()=>t.import("./index-legacy-BBii97d-.js"),void 0,t.meta.url),meta:{title:""}},{path:"detail",name:"videoBankDetail",component:()=>AO(()=>t.import("./detail-legacy-B3CbBifc.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"videosCourseware",children:[{path:"",name:"videosCourseware",component:()=>AO(()=>t.import("./index-legacy-DeYPxlpb.js"),void 0,t.meta.url),meta:{title:""}},{path:"videosDetail",name:"videosDetail",component:()=>AO(()=>t.import("./videosDetail-legacy-d_qSoc3c.js"),void 0,t.meta.url),meta:{title:""}}]}]},{path:"scoreList",children:[{path:"",name:"scoreList",component:()=>AO(()=>t.import("./index-legacy-CjTn517I.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"trainingClassList",children:[{path:"",name:"trainingClassList",component:()=>AO(()=>t.import("./index-legacy-CagXoH0M.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"class-manage",children:[{title:"",name:"TrainingClassList"},{title:"",name:"PublicCourses"},{title:"",name:"CertificateList"},{title:"",name:"PlaceList"},{title:"",name:"TrainingTeacher"}]}}}]},{path:"trainingManagement",children:[{path:"",name:"trainingManagement",component:()=>AO(()=>t.import("./index-legacy-jprdwYLr.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"training-manage",children:[{title:"",name:"trainingLedger"},{title:"",name:"trainingTasks"}]}}}]},{path:"trainingPlan",children:[{path:"",name:"EducationTraining",component:()=>AO(()=>t.import("./index-legacy-Bru4ZhwM.js"),void 0,t.meta.url),meta:{title:""}},{path:"SearchForm",name:"/educationAndTraining/trainingPlan/SearchForm",component:()=>AO(()=>t.import("./SearchForm-legacy-DslaUFsP.js"),void 0,t.meta.url)},{path:"SearchForm2",name:"/educationAndTraining/trainingPlan/SearchForm2",component:()=>AO(()=>t.import("./SearchForm2-legacy-CcYrOLfw.js"),void 0,t.meta.url)}]},{path:"trainingStatistics",children:[{path:"",name:"trainingStatistics",component:()=>AO(()=>t.import("./index-legacy-DTdeD--Z.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"train-stats",children:[{title:"",name:"DeptRank"},{title:"",name:"TrainingStats"}]}}}]}]},{path:"/emergencyManagement",children:[{path:"detail",name:"emergencyDetail",component:()=>AO(()=>t.import("./detail-legacy-CHVBbqTh.js"),void 0,t.meta.url),meta:{title:""}},{path:"drillPlanList",name:"yingjiyanlianjihua",component:()=>AO(()=>t.import("./drillPlanList-legacy-DK-ZbgZr.js"),void 0,t.meta.url),meta:{title:""}},{path:"emergencyDrills",children:[{path:"",name:"emergency-drills",component:()=>AO(()=>t.import("./index-legacy-t-9-2bZz.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"emergency-tab",children:[{title:"",name:"drillRecord"},{title:"",name:"drillRectification"}]}}},{path:"drillRecord",name:"/emergencyManagement/emergencyDrills/drillRecord",component:()=>AO(()=>t.import("./drillRecord-legacy-ZytpDzI4.js"),void 0,t.meta.url)},{path:"drillRectification",name:"/emergencyManagement/emergencyDrills/drillRectification",component:()=>AO(()=>t.import("./drillRectification-legacy-D6LUgu2d.js"),void 0,t.meta.url)}]},{path:"emergencyPreparedness",children:[{path:"",name:"emergency-preparedness",component:()=>AO(()=>t.import("./index-legacy-RYU4ee2b.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"preparedness-tab",children:[{title:"",name:"0"},{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"},{title:"",name:"4"},{title:"",name:"5"}]}}},{path:"emergencyBook",name:"/emergencyManagement/emergencyPreparedness/emergencyBook",component:()=>AO(()=>t.import("./emergencyBook-legacy-CSr8QTTD.js"),void 0,t.meta.url)},{path:"emergencyMaterials",name:"/emergencyManagement/emergencyPreparedness/emergencyMaterials",component:()=>AO(()=>t.import("./emergencyMaterials-legacy-9y1XSbbJ.js"),void 0,t.meta.url)},{path:"emergencyPlan",name:"/emergencyManagement/emergencyPreparedness/emergencyPlan",component:()=>AO(()=>t.import("./emergencyPlan-legacy-D95kFfVo.js"),void 0,t.meta.url)},{path:"emergencyTeam",name:"/emergencyManagement/emergencyPreparedness/emergencyTeam",component:()=>AO(()=>t.import("./emergencyTeam-legacy-CYMMNlCv.js"),void 0,t.meta.url)},{path:"evacuation",name:"/emergencyManagement/emergencyPreparedness/evacuation",component:()=>AO(()=>t.import("./evacuation-legacy-DvuKBr-C.js"),void 0,t.meta.url)},{path:"eventHandling",name:"/emergencyManagement/emergencyPreparedness/eventHandling",component:()=>AO(()=>t.import("./eventHandling-legacy-BR9TglBm.js"),void 0,t.meta.url)}]},{path:"emergencyResponse",children:[{path:"",name:"emergency-response",component:()=>AO(()=>t.import("./index-legacy-qfhbPD0u.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"emergency-response-tab",children:[{title:"",name:"disposition-records"},{title:"",name:"emergencyResponse"}]}}},{path:"dispositionRecords",name:"/emergencyManagement/emergencyResponse/dispositionRecords",component:()=>AO(()=>t.import("./dispositionRecords-legacy-ximnwRNM.js"),void 0,t.meta.url)}]}]},{path:"/forgot-password",children:[{path:"",name:"forgot-password",component:()=>AO(()=>t.import("./index-legacy-BlOKSIrv.js"),void 0,t.meta.url),meta:{i18n:"menus.forgot-password"}}]},{path:"/home",children:[{path:"",name:"/home/",component:()=>AO(()=>t.import("./index-legacy-C3BgQvAx.js"),void 0,t.meta.url)}]},{path:"/InstitutionalizedManagement",children:[{path:"administrativeRegulations",name:"administrative_regulations",component:()=>AO(()=>t.import("./administrativeRegulations-legacy-BZPEJV3F.js"),void 0,t.meta.url),meta:{title:""}},{path:"applicableRegulations",name:"applicable_regulations",component:()=>AO(()=>t.import("./applicableRegulations-legacy-cwbXe_HY.js"),void 0,t.meta.url),meta:{title:""}},{path:"dataKnowledge",name:"data_knowledge",component:()=>AO(()=>t.import("./dataKnowledge-legacy-BYwnVB0N.js"),void 0,t.meta.url),meta:{title:""}},{path:"decisionMakingMeetings",name:"decision-making-meeting",component:()=>AO(()=>t.import("./decisionMakingMeetings-legacy-BNdf5vyO.js"),void 0,t.meta.url),meta:{title:""}},{path:"departmentalRegulations",name:"departmental_regulations",component:()=>AO(()=>t.import("./departmentalRegulations-legacy-vXhm383L.js"),void 0,t.meta.url),meta:{title:""}},{path:"detail",name:"institutionalizedDetail",component:()=>AO(()=>t.import("./detail-legacy-CpAOJIgJ.js"),void 0,t.meta.url),meta:{title:""}},{path:"IndustryClassification",children:[{path:"",name:"industry_classification",component:()=>AO(()=>t.import("./index-legacy-BbOn0J2u.js"),void 0,t.meta.url),meta:{title:""}},{path:"detail",name:"industryClassificationDetail",component:()=>AO(()=>t.import("./detail-legacy-C_VBBh4M.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"industryStandards",name:"industry_standards",component:()=>AO(()=>t.import("./industryStandards-legacy-ZQ739zk2.js"),void 0,t.meta.url),meta:{title:""}},{path:"localRegulations",name:"local_regulations",component:()=>AO(()=>t.import("./localRegulations-legacy-BCT-3oDQ.js"),void 0,t.meta.url),meta:{title:""}},{path:"localStandards",name:"local_standards",component:()=>AO(()=>t.import("./localStandards-legacy-Bj-Wqzdp.js"),void 0,t.meta.url),meta:{title:""}},{path:"nationalLaw",name:"national_law",component:()=>AO(()=>t.import("./nationalLaw-legacy-BmqC3LqN.js"),void 0,t.meta.url),meta:{title:""}},{path:"nationalStandards",name:"national_standards",component:()=>AO(()=>t.import("./nationalStandards-legacy-BexY5k5m.js"),void 0,t.meta.url),meta:{title:""}},{path:"normativeDocuments",name:"normative_documents",component:()=>AO(()=>t.import("./normativeDocuments-legacy-C3HwCpYa.js"),void 0,t.meta.url),meta:{title:""}},{path:"OperatingProcedures",children:[{path:"",name:"operating-procedures",component:()=>AO(()=>t.import("./index-legacy-q0U6ja6I.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"techprocess",children:[{path:"",name:"techprocess-list",component:()=>AO(()=>t.import("./index-legacy-C_uVdr03.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"violationRegulations",children:[{path:"",name:"violation-regulations",component:()=>AO(()=>t.import("./index-legacy-D5MP7hQX.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"violation-tab",children:[{title:"",name:"violationTemplate"},{title:"",name:"violationRecord"}]}}}]}]},{path:"/keepalive",children:[{path:"",name:"KeepAlive",component:()=>AO(()=>t.import("./index-legacy-BL7s3QMt.js"),void 0,t.meta.url),meta:{title:" KeepAlive",i18n:"menus.keepAlive",keepAlive:!0}}]},{path:"/login",children:[{path:"",name:"login",component:()=>AO(()=>t.import("./index-legacy-iF0sJpTL.js"),void 0,t.meta.url),meta:{title:"",auth:!1}},{path:"index_back",name:"login-back",component:()=>AO(()=>t.import("./index_back-legacy-Bdurod0d.js"),void 0,t.meta.url),meta:{i18n:"menus.login",auth:!1}}]},{path:"/message",children:[{path:"",name:"message",component:()=>AO(()=>t.import("./index-legacy-3UNLw_Ab.js"),void 0,t.meta.url),meta:{title:"",i18n:"menus.message",tabs:{"click-tab":"message-click-tab",children:[{title:"",name:"myMsg"},{title:"",name:"tongzhi"},{title:"",name:"tongbao"}]}}},{path:"index2",name:"2message2",component:()=>AO(()=>t.import("./index2-legacy-Dvz-1r7Q.js"),void 0,t.meta.url),meta:{title:"",i18n:"menus.message"}}]},{path:"/mock",children:[{path:"",name:"mock",component:()=>AO(()=>t.import("./index-legacy-B0N78m0w.js"),void 0,t.meta.url),meta:{title:" Mock ",i18n:"menus.mockGuide"}}]},{path:"/myCenter",children:[{path:"DutyManagement",children:[{path:"",name:"DutyManagement",component:()=>AO(()=>t.import("./index-legacy-DMqLEblf.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"duty-tab",children:[{title:"",name:"dutyRecord"},{title:"",name:"dutyManagement"}]}}}]},{path:"intelligence",children:[{path:"",name:"intelligence",component:()=>AO(()=>t.import("./index-legacy-DODkxy7l.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"person-click-tab",children:[{title:"",name:"XunfeiAI"},{title:"AI",name:"ZhipuAI"}]}}}]},{path:"myFile",children:[{path:"",name:"personalFile",component:()=>AO(()=>t.import("./index-legacy-BSuKDTLZ.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"person-click-tab",children:[{title:"",name:"basic"},{title:"",name:"cert"},{title:"",name:"violation"},{title:"",name:"tijian"},{title:"",name:"bingshi"},{title:"",name:"timing"}]}}}]},{path:"securityAffairs",children:[{path:"",name:"securityAffairs",component:()=>AO(()=>t.import("./index-legacy-CXWc0n-e.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"securityAffairs-tab",children:[{title:"",name:"myReport"},{title:"",name:"myCheck"},{title:"",name:"myRectification"},{title:"",name:"myWork"},{title:"",name:"accidentHandling"}]}}}]}]},{path:"/profile",children:[{path:"",name:"profile",component:()=>AO(()=>t.import("./index-legacy-CiAl5Kkc.js"),void 0,t.meta.url),meta:{title:"",i18n:"menus.profile",hideNavBar:!0}}]},{path:"/register",children:[{path:"",name:"register",component:()=>AO(()=>t.import("./index-legacy-qDH1DLOM.js"),void 0,t.meta.url),meta:{i18n:"menus.register",auth:!1}},{path:"register",name:"new-register",component:()=>AO(()=>t.import("./register-legacy-BSt4zx7Q.js"),void 0,t.meta.url),meta:{title:"",auth:!1}}]},{path:"/report",children:[{path:"analysis",children:[{path:"",name:"analysis",component:()=>AO(()=>t.import("./index-legacy-DA38TIpp.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"analysis-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"}]}}}]},{path:"equipment",children:[{path:"",name:"equipmentReport",component:()=>AO(()=>t.import("./index-legacy-DTY0BASi.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"equipmentReport-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"},{title:"",name:"4"},{title:"",name:"5"},{title:"",name:"6"}]}}}]},{path:"overall",children:[{path:"",name:"overall",component:()=>AO(()=>t.import("./index-legacy-nLlO6vu5.js"),void 0,t.meta.url),meta:{title:""}}]}]},{path:"/scroll-cache",children:[{path:"",name:"ScrollCache",component:()=>AO(()=>t.import("./index-legacy-BeK_HUcY.js"),void 0,t.meta.url),meta:{title:" ScrollCache",i18n:"menus.scrollCache",keepAlive:!0}}]},{path:"/secure",children:[{path:"accident",children:[{path:"end",children:[{path:"",name:"accidentEnd",component:()=>AO(()=>t.import("./index-legacy-C_ps5K6H.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"accidentEnd-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"list",children:[{path:"",name:"accidentList",component:()=>AO(()=>t.import("./index-legacy-Bbw9dshE.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"accidentList-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"report",children:[{path:"",name:"accidentReport",component:()=>AO(()=>t.import("./index-legacy-msofBnF3.js"),void 0,t.meta.url),meta:{title:""}}]}]},{path:"emergency",children:[{path:"plan",children:[{path:"",name:"emergencyPlan",component:()=>AO(()=>t.import("./index-legacy-BQpf0PMa.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"emergencyPlan-click-tab",children:[{title:"",name:"1"}]}}}]}]},{path:"environmental",children:[{path:"alarm",children:[{path:"",name:"alarm",component:()=>AO(()=>t.import("./index-legacy-KZdAVJHA.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"alarm-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"},{title:"",name:"4"},{title:"VOC",name:"5"},{title:"",name:"6"},{title:"",name:"7"}]}}}]},{path:"realTime",children:[{path:"",name:"realTime",component:()=>AO(()=>t.import("./index-legacy-CIsZQ3QY.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"realTime-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"VOC",name:"3"},{title:"",name:"4"},{title:"",name:"5"}]}}}]}]},{path:"improve",children:[{path:"base",children:[{path:"",name:"improveBase",component:()=>AO(()=>t.import("./index-legacy-Chfqpm7_.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"improveBase-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"report",children:[{path:"",name:"improveReport",component:()=>AO(()=>t.import("./index-legacy-65n4KpIY.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"improveReport-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"safe",children:[{path:"",name:"improveSafe",component:()=>AO(()=>t.import("./index-legacy-64_55tBD.js"),void 0,t.meta.url),meta:{title:""}}]}]},{path:"safeMonitor",children:[{path:"",name:"safety",component:()=>AO(()=>t.import("./index-legacy-CLM-Hxan.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"safety-click-tab",children:[]}}}]},{path:"training",children:[{path:"certificate",children:[{path:"",name:"certificate",component:()=>AO(()=>t.import("./index-legacy-D9JAdSl5.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"certificate-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"classResourceDducation",children:[{path:"",name:"classResourceDducation",component:()=>AO(()=>t.import("./index-legacy-jQQYD9fK.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"edtcationTypeList",children:[{path:"",name:"edtcationTypeList",component:()=>AO(()=>t.import("./index-legacy-BGbslq1D.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"edtcationTypeList-click-tab",children:[{title:"",name:"video"},{title:"",name:"text"}]}}},{path:"CourseDetail",name:"courseDetail",component:()=>AO(()=>t.import("./CourseDetail-legacy-BgBmTCtS.js"),void 0,t.meta.url),meta:{title:""}},{path:"Examination",name:"examination",component:()=>AO(()=>t.import("./Examination-legacy-Co-wDmKK.js"),void 0,t.meta.url),meta:{title:""}},{path:"SubscribeInfo",name:"subscribeInfo",component:()=>AO(()=>t.import("./SubscribeInfo-legacy-B4kZS9PW.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"information",children:[{path:"",name:"info",component:()=>AO(()=>t.import("./index-legacy-C-gAYT0h.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"infos-click-tab",children:[{title:"",name:""},{title:"",name:""}]}}}]},{path:"law",children:[{path:"",name:"anfaBaodian",component:()=>AO(()=>t.import("./index-legacy-BR0UfIaH.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"law-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"9"},{title:"",name:"3"},{title:"",name:"11"}]}}}]},{path:"learning",children:[{path:"",name:"learningStatistics",component:()=>AO(()=>t.import("./index-legacy-ZSlm3qT6.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"learningStatistics-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"},{title:"",name:"4"}]}}}]},{path:"more",children:[{path:"",name:"trainingMore",component:()=>AO(()=>t.import("./index-legacy-DNUw0zcx.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"trainingMore-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"}]}}}]},{path:"myExam",children:[{path:"",name:"myExam",component:()=>AO(()=>t.import("./index-legacy-B-_9D_gp.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"myExam-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"pastTraining",children:[{path:"",name:"pastTraining",component:()=>AO(()=>t.import("./index-legacy-CScTh3Lo.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"pastTraining-click-tab",children:[{title:"",name:"1"}]}}}]},{path:"superTeacher",children:[{path:"",name:"secure",component:()=>AO(()=>t.import("./index-legacy-CXiClfBY.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"secure-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"},{title:"",name:"4"}]}}},{path:"TrainQuestionDetail",name:"superTeacherDetail",component:()=>AO(()=>t.import("./TrainQuestionDetail-legacy-CMBsO5OY.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"trainCourse",children:[{path:"",name:"trainCourse",component:()=>AO(()=>t.import("./index-legacy-6Svs9u3s.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"trainCourse-click-tab",children:[{title:"",name:"1"},{title:"",name:"2"},{title:"",name:"3"}]}}},{path:"TeacherDetail",name:"teacherDetail",component:()=>AO(()=>t.import("./TeacherDetail-legacy-C5wuGVaw.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"trainLesson",children:[{path:"",name:"trainLesson",component:()=>AO(()=>t.import("./index-legacy-DmM6B19x.js"),void 0,t.meta.url),meta:{title:""}}]}]}]},{path:"/settings",children:[{path:"",name:"settings",component:()=>AO(()=>t.import("./index-legacy-D3d7QzNv.js"),void 0,t.meta.url),meta:{title:"",i18n:"menus.settings"}}]},{path:"/siteManagement",children:[{path:"baoyangManagement",children:[{path:"",name:"baoyang-management",component:()=>AO(()=>t.import("./index-legacy-C_hw-6s-.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"baoyang-tab",children:[{title:"",name:"baoyangPlan"},{title:"",name:"baoyangLedger"}]}}},{path:"baoyangLedger",name:"/siteManagement/baoyangManagement/baoyangLedger",component:()=>AO(()=>t.import("./baoyangLedger-legacy-BOKwIy8h.js"),void 0,t.meta.url)},{path:"baoyangPlan",name:"/siteManagement/baoyangManagement/baoyangPlan",component:()=>AO(()=>t.import("./baoyangPlan-legacy-B_V1Hju9.js"),void 0,t.meta.url)}]},{path:"detail",name:"siteDetail",component:()=>AO(()=>t.import("./detail-legacy-B9Fa5LcO.js"),void 0,t.meta.url),meta:{title:""}},{path:"detectionAndProtection",children:[{path:"",name:"detection-protection",component:()=>AO(()=>t.import("./index-legacy-C9nvXH7e.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"baoyang-tab",children:[{title:"",name:"occupation"},{title:"",name:"venue"}]}}},{path:"occupation",name:"/siteManagement/detectionAndProtection/occupation",component:()=>AO(()=>t.import("./occupation-legacy-124kIyNL.js"),void 0,t.meta.url)},{path:"venue",name:"/siteManagement/detectionAndProtection/venue",component:()=>AO(()=>t.import("./venue-legacy-C4vIJrxy.js"),void 0,t.meta.url)}]},{path:"equipmentLedger",children:[{path:"",name:"equipment-ledger",component:()=>AO(()=>t.import("./index-legacy-BaHA-FJW.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"project-tab",children:[{title:"",name:"deviceList"},{title:"",name:"specialEquipment"},{title:"",name:"monitoringSensor"},{title:"",name:"certificateLedger"}]}}},{path:"deviceList",name:"/siteManagement/equipmentLedger/deviceList",component:()=>AO(()=>t.import("./deviceList-legacy-CIVDBQLC.js"),void 0,t.meta.url)}]},{path:"healthRecord",name:"health-record",component:()=>AO(()=>t.import("./healthRecord-legacy-BTpcnjp9.js"),void 0,t.meta.url),meta:{title:""}},{path:"inspectionManagement",name:"inspection-management",component:()=>AO(()=>t.import("./inspectionManagement-legacy-5wgFyvPq.js"),void 0,t.meta.url),meta:{title:""}},{path:"maintenanceManagement",name:"maintenance-management",component:()=>AO(()=>t.import("./maintenanceManagement-legacy-CizVSqGt.js"),void 0,t.meta.url),meta:{title:""}},{path:"projectManagement",children:[{path:"",name:"project_management",component:()=>AO(()=>t.import("./index-legacy-D_wZr0bv.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"project-tab",children:[{title:"",name:"expansionLedger"},{title:"",name:"threeSimultaneous"},{title:"",name:"scrapping"}]}}},{path:"threeSimultaneous",name:"/siteManagement/projectManagement/threeSimultaneous",component:()=>AO(()=>t.import("./threeSimultaneous-legacy-CJ-LxBPm.js"),void 0,t.meta.url)}]},{path:"RiskFactor",children:[{path:"",name:"hazard-factors",component:()=>AO(()=>t.import("./index-legacy-BcNYE26K.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"baoyang-tab",children:[{title:"",name:"hazardLedger"},{title:"",name:"declarationLedger"}]}}},{path:"declarationLedger",name:"/siteManagement/RiskFactor/declarationLedger",component:()=>AO(()=>t.import("./declarationLedger-legacy-iTCbCqzM.js"),void 0,t.meta.url)},{path:"hazardLedger",name:"/siteManagement/RiskFactor/hazardLedger",component:()=>AO(()=>t.import("./hazardLedger-legacy-C_2w2Ddy.js"),void 0,t.meta.url)}]},{path:"stakeholderManagement",children:[{path:"",name:"stakeholder-management",component:()=>AO(()=>t.import("./index-legacy-DCDxFkwd.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"stakeholder-tab",children:[{title:"",name:"stakeholder"},{title:"",name:"contractor"},{title:"",name:"supplier"},{title:"",name:"operator"}]}}}]},{path:"warningSign",name:"warning-sign-list",component:()=>AO(()=>t.import("./warningSign-legacy-BSYOAwTa.js"),void 0,t.meta.url),meta:{title:""}}]},{path:"/task",children:[{path:"",name:"task",component:()=>AO(()=>t.import("./index-legacy-C32FL0Vj.js"),void 0,t.meta.url),meta:{title:"",i18n:"menus.task",tabs:{"click-tab":"task-click-tab",children:[{title:"",name:"todo"},{title:"",name:"finished"},{title:"",name:"send"},{title:"",name:"notice"},{title:"",name:"timing"}]}}},{path:"candidate",children:[{path:"",name:"task-candidate",component:()=>AO(()=>Promise.resolve().then(()=>fF),void 0,t.meta.url),meta:{title:"",i18n:"menus.taskProcess",hideNavBar:!0,keepAlive:!0}}]},{path:"process",children:[{path:"",name:"task-process",component:()=>AO(()=>t.import("./index-legacy-FKqwy4Pr.js"),void 0,t.meta.url),meta:{title:"",i18n:"menus.taskProcess"}}]}]},{path:"/unocss",children:[{path:"",name:"unocss",component:()=>AO(()=>t.import("./index-legacy-CpaAmrcK.js"),void 0,t.meta.url),meta:{title:" Unocss ",i18n:"menus.unocssExample"}}]},{path:"/zaxtmine",children:[{path:"",name:"zaxtmine",component:()=>AO(()=>t.import("./index-legacy-Dirmpx2d.js"),void 0,t.meta.url),meta:{title:"",i18n:"menus.profile",hideNavBar:!0}}]},{path:"/zyxk",children:[{path:"home",name:"zyxkHome",component:()=>AO(()=>t.import("./home-legacy-Bd555qWl.js"),void 0,t.meta.url),meta:{title:"",hideNavBar:!0}},{path:"jobList",children:[{path:"",name:"jobList",component:()=>AO(()=>t.import("./index-legacy-GqyhY_W3.js"),void 0,t.meta.url),meta:{title:""}},{path:"SearchForm",name:"/zyxk/jobList/SearchForm",component:()=>AO(()=>t.import("./SearchForm-legacy-BX84crue.js"),void 0,t.meta.url)}]},{path:"WorkRequest",children:[{path:"",name:"workRequest",component:()=>AO(()=>t.import("./index-legacy-D0ry1tNQ.js"),void 0,t.meta.url),meta:{title:"",tabs:{"click-tab":"workRequest-tab",children:[]}}}]}]},{path:"/zyxkmine",children:[{path:"",name:"zyxkmine",component:()=>AO(()=>t.import("./index-legacy-DKZagKxb.js"),void 0,t.meta.url),meta:{title:"",i18n:"menus.profile",hideNavBar:!0}}]}];var xO=e("bj","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{});function CO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function EO(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}),n}var OO,IO={exports:{}},DO=(OO||(OO=1,function(e){e.exports=function(){var e={version:"0.2.0"},t=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function n(e,t,n){return e<t?t:e>n?n:e}function i(e){return 100*(-1+e)}function r(e,n,r){var a;return(a="translate3d"===t.positionUsing?{transform:"translate3d("+i(e)+"%,0,0)"}:"translate"===t.positionUsing?{transform:"translate("+i(e)+"%,0)"}:{"margin-left":i(e)+"%"}).transition="all "+n+"ms "+r,a}e.configure=function(e){var n,i;for(n in e)void 0!==(i=e[n])&&e.hasOwnProperty(n)&&(t[n]=i);return this},e.status=null,e.set=function(i){var o=e.isStarted();i=n(i,t.minimum,1),e.status=1===i?null:i;var l=e.render(!o),c=l.querySelector(t.barSelector),u=t.speed,d=t.easing;return l.offsetWidth,a(function(n){""===t.positionUsing&&(t.positionUsing=e.getPositioningCSS()),s(c,r(i,u,d)),1===i?(s(l,{transition:"none",opacity:1}),l.offsetWidth,setTimeout(function(){s(l,{transition:"all "+u+"ms linear",opacity:0}),setTimeout(function(){e.remove(),n()},u)},u)):setTimeout(n,u)}),this},e.isStarted=function(){return"number"==typeof e.status},e.start=function(){e.status||e.set(0);var n=function(){setTimeout(function(){e.status&&(e.trickle(),n())},t.trickleSpeed)};return t.trickle&&n(),this},e.done=function(t){return t||e.status?e.inc(.3+.5*Math.random()).set(1):this},e.inc=function(t){var i=e.status;return i?("number"!=typeof t&&(t=(1-i)*n(Math.random()*i,.1,.95)),i=n(i+t,0,.994),e.set(i)):e.start()},e.trickle=function(){return e.inc(Math.random()*t.trickleRate)},function(){var t=0,n=0;e.promise=function(i){return i&&"resolved"!==i.state()?(0===n&&e.start(),t++,n++,i.always(function(){0===--n?(t=0,e.done()):e.set((t-n)/t)}),this):this}}(),e.render=function(n){if(e.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var r=document.createElement("div");r.id="nprogress",r.innerHTML=t.template;var a,o=r.querySelector(t.barSelector),c=n?"-100":i(e.status||0),u=document.querySelector(t.parent);return s(o,{transition:"all 0 linear",transform:"translate3d("+c+"%,0,0)"}),t.showSpinner||(a=r.querySelector(t.spinnerSelector))&&d(a),u!=document.body&&l(u,"nprogress-custom-parent"),u.appendChild(r),r},e.remove=function(){c(document.documentElement,"nprogress-busy"),c(document.querySelector(t.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&d(e)},e.isRendered=function(){return!!document.getElementById("nprogress")},e.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var a=function(){var e=[];function t(){var n=e.shift();n&&n(t)}return function(n){e.push(n),1==e.length&&t()}}(),s=function(){var e=["Webkit","O","Moz","ms"],t={};function n(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function i(t){var n=document.body.style;if(t in n)return t;for(var i,r=e.length,a=t.charAt(0).toUpperCase()+t.slice(1);r--;)if((i=e[r]+a)in n)return i;return t}function r(e){return e=n(e),t[e]||(t[e]=i(e))}function a(e,t,n){t=r(t),e.style[t]=n}return function(e,t){var n,i,r=arguments;if(2==r.length)for(n in t)void 0!==(i=t[n])&&t.hasOwnProperty(n)&&a(e,n,i);else a(e,r[1],r[2])}}();function o(e,t){return("string"==typeof e?e:u(e)).indexOf(" "+t+" ")>=0}function l(e,t){var n=u(e),i=n+t;o(n,t)||(e.className=i.substring(1))}function c(e,t){var n,i=u(e);o(e,t)&&(n=i.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function u(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function d(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return e}()}(IO)),IO.exports);
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
       * @license MIT */const PO=CO(DO);e("bm",[{label:"",value:"1"},{label:"",value:"2"}]),e("bn",[{label:"",value:"1"},{label:"",value:"2"}]),e("bo",[{label:"",value:"1"},{label:"",value:"2"}]),e("bp",[{id:0,name:""},{id:1,name:""},{id:2,name:""},{id:3,name:""},{id:4,name:""},{id:5,name:""},{id:6,name:""},{id:7,name:""}]),e("aw",{1:{label:"",color:"red"},2:{label:"",color:"#ff6100"},3:{label:"",color:"#cccc21"},4:{label:"",color:"#0000e1"}}),PO.configure({showSpinner:!0,parent:"#app"});const LO=e("bq",function(e){const t=YE(e.routes,e),n=e.parseQuery||iO,i=e.stringifyQuery||rO,r=e.history,a=dO(),s=dO(),o=dO(),l=wt(yE);let c=yE;UC&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=qC.bind(null,e=>""+e),d=qC.bind(null,cE),h=qC.bind(null,uE);function p(e,a){if(a=VC({},a||l.value),"string"==typeof e){const i=hE(n,e,a.path),s=t.resolve({path:i.path},a),o=r.createHref(i.fullPath);return VC(i,s,{params:h(s.params),hash:uE(i.hash),redirectedFrom:void 0,href:o})}let s;if(null!=e.path)s=VC({},e,{path:hE(n,e.path,a.path).path});else{const t=VC({},e.params);for(const e in t)null==t[e]&&delete t[e];s=VC({},e,{params:d(t)}),a.params=d(a.params)}const o=t.resolve(s,a),c=e.hash||"";o.params=u(h(o.params));const p=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(i,VC({},e,{hash:(f=c,sE(f).replace(nE,"{").replace(rE,"}").replace(eE,"^")),path:o.path}));var f;const m=r.createHref(p);return VC({fullPath:p,hash:c,query:i===rO?aO(e.query):e.query||{}},o,{redirectedFrom:void 0,href:m})}function f(e){return"string"==typeof e?hE(n,e,l.value.path):VC({},e)}function m(e,t){if(c!==e)return BE(8,{from:t,to:e})}function g(e){return y(e)}function v(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let i="function"==typeof n?n(e):n;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=f(i):{path:i},i.params={}),VC({query:e.query,hash:e.hash,params:null!=i.path?{}:e.params},i)}}function y(e,t){const n=c=p(e),r=l.value,a=e.state,s=e.force,o=!0===e.replace,u=v(n);if(u)return y(VC(f(u),{state:"object"==typeof u?VC({},a,u.state):a,force:s,replace:o}),t||n);const d=n;let h;return d.redirectedFrom=t,!s&&function(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&fE(t.matched[i],n.matched[r])&&mE(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(i,r,n)&&(h=BE(16,{to:d,from:r}),D(r,r,!0,!1)),(h?Promise.resolve(h):T(d,r)).catch(e=>FE(e)?FE(e,2)?e:I(e):O(e,d,r)).then(e=>{if(e){if(FE(e,2))return y(VC({replace:o},f(e.to),{state:"object"==typeof e.to?VC({},a,e.to.state):a,force:s}),t||d)}else e=w(d,r,!0,o,a);return S(d,r,e),e})}function b(e,t){const n=m(e,t);return n?Promise.reject(n):Promise.resolve()}function _(e){const t=R.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function T(e,t){let n;const[i,r,o]=function(e,t){const n=[],i=[],r=[],a=Math.max(t.matched.length,e.matched.length);for(let s=0;s<a;s++){const a=t.matched[s];a&&(e.matched.find(e=>fE(e,a))?i.push(a):n.push(a));const o=e.matched[s];o&&(t.matched.find(e=>fE(e,o))||r.push(o))}return[n,i,r]}(e,t);n=pO(i.reverse(),"beforeRouteLeave",e,t);for(const a of i)a.leaveGuards.forEach(i=>{n.push(hO(i,e,t))});const l=b.bind(null,e,t);return n.push(l),N(n).then(()=>{n=[];for(const i of a.list())n.push(hO(i,e,t));return n.push(l),N(n)}).then(()=>{n=pO(r,"beforeRouteUpdate",e,t);for(const i of r)i.updateGuards.forEach(i=>{n.push(hO(i,e,t))});return n.push(l),N(n)}).then(()=>{n=[];for(const i of o)if(i.beforeEnter)if(HC(i.beforeEnter))for(const r of i.beforeEnter)n.push(hO(r,e,t));else n.push(hO(i.beforeEnter,e,t));return n.push(l),N(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=pO(o,"beforeRouteEnter",e,t,_),n.push(l),N(n))).then(()=>{n=[];for(const i of s.list())n.push(hO(i,e,t));return n.push(l),N(n)}).catch(e=>FE(e,8)?e:Promise.reject(e))}function S(e,t,n){o.list().forEach(i=>_(()=>i(e,t,n)))}function w(e,t,n,i,a){const s=m(e,t);if(s)return s;const o=t===yE,c=UC?history.state:{};n&&(i||o?r.replace(e.fullPath,VC({scroll:o&&c&&c.scroll},a)):r.push(e.fullPath,a)),l.value=e,D(e,t,n,o),I()}let A;function k(){A||(A=r.listen((e,t,n)=>{if(!M.listening)return;const i=p(e),a=v(i);if(a)return void y(VC(a,{replace:!0,force:!0}),i).catch(zC);c=i;const s=l.value;var o,u;UC&&(o=EE(s.fullPath,n.delta),u=xE(),OE.set(o,u)),T(i,s).catch(e=>FE(e,12)?e:FE(e,2)?(y(VC(f(e.to),{force:!0}),i).then(e=>{FE(e,20)&&!n.delta&&n.type===bE.pop&&r.go(-1,!1)}).catch(zC),Promise.reject()):(n.delta&&r.go(-n.delta,!1),O(e,i,s))).then(e=>{(e=e||w(i,s,!1))&&(n.delta&&!FE(e,8)?r.go(-n.delta,!1):n.type===bE.pop&&FE(e,20)&&r.go(-1,!1)),S(i,s,e)}).catch(zC)}))}let x,C=dO(),E=dO();function O(e,t,n){I(e);const i=E.list();return i.length?i.forEach(i=>i(e,t,n)):console.error(e),Promise.reject(e)}function I(e){return x||(x=!e,k(),C.list().forEach(([t,n])=>e?n(e):t()),C.reset()),e}function D(t,n,i,r){const{scrollBehavior:a}=e;if(!UC||!a)return Promise.resolve();const s=!i&&function(e){const t=OE.get(e);return OE.delete(e),t}(EE(t.fullPath,0))||(r||!i)&&history.state&&history.state.scroll||null;return Jt().then(()=>a(t,n,s)).then(e=>e&&CE(e)).catch(e=>O(e,t,n))}const P=e=>r.go(e);let L;const R=new Set,M={currentRoute:l,listening:!0,addRoute:function(e,n){let i,r;return RE(e)?(i=t.getRecordMatcher(e),r=n):r=e,t.addRoute(r,i)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map(e=>e.record)},resolve:p,options:e,push:g,replace:function(e){return g(VC(f(e),{replace:!0}))},go:P,back:()=>P(-1),forward:()=>P(1),beforeEach:a.add,beforeResolve:s.add,afterEach:o.add,onError:E.add,isReady:function(){return x&&l.value!==yE?Promise.resolve():new Promise((e,t)=>{C.add([e,t])})},install(e){e.component("RouterLink",gO),e.component("RouterView",TO),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>xt(l)}),UC&&!L&&l.value===yE&&(L=!0,g(r.location).catch(e=>{}));const t={};for(const i in yE)Object.defineProperty(t,i,{get:()=>l.value[i],enumerable:!0});e.provide(lO,this),e.provide(cO,ut(t)),e.provide(uO,l);const n=e.unmount;R.add(e),e.unmount=function(){R.delete(e),R.size<1&&(c=yE,A&&A(),A=null,l.value=yE,L=!1,x=!1),n()}}};function N(e){return e.reduce((e,t)=>e.then(()=>_(t)),Promise.resolve())}return M}({history:(RO="",(RO=location.host?RO||location.pathname+location.search:"").includes("#")||(RO+="#"),LE(RO)),routes:[{path:"/",redirect:{name:"chatPage"}},...kO]}));var RO;function MO(){const e=location.hash,t=location.pathname,n=e.replace("#/","/");"login"===n||e.includes("redirect")||location.replace(`${t}#/login?redirect=${LO.resolve(n).name}`)}console.log("routes",kO),LO.beforeEach(async e=>{PO.start();const t=$O(),n=UO();var i;if(t.addRoute(e),i=e.meta.title,window.document.title=i?`${i} - `:"",vk()&&!n.userInfo?.account&&await n.info(),!1!==e.meta.auth&&!vk())return console.warn(""),function(){const e=location.hash,t=location.pathname,n=e.replace("#/","/");"login"===n||e.includes("redirect")||location.replace(`${t}#/login?redirect=${LO.resolve(n).name}`)}()}),LO.afterEach(()=>{PO.done()});const NO=wC.create({baseURL:"/api",timeout:6e4});function jO(e){if(e.response){const{data:t={},status:n,statusText:i}=e.response;403===n&&Fg({type:"danger",message:t&&t.message||i}),401===n&&t.result&&t.result.isLogin&&(Fg({type:"danger",message:"Authorization verification failed"}),MO())}return Promise.reject(e)}NO.interceptors.request.use(function(e){const t=localStorage.getItem(VA);return t&&(e.headers["Access-Token"]=t),e},jO),NO.interceptors.response.use(e=>e.data,jO),NO.interceptors.response.use(function(e){const{message:t,code:n,data:i}=e;if(401===n)return Fg({type:"danger",message:t||""}),MO(),Promise.reject({message:t,code:n});if(500===n&&""===t)um({title:"",message:""}).then(()=>{MO()});else if(n>=300||n<200)return Promise.reject(e);return i},jO);const BO=e("aB",{get:function(e,t){return NO.get(e,t)},post:function(e,t,n){return NO.post(e,t,n)},postForm:function(e,t,n){return NO.post(e,function(e){const t=new FormData;return Object.entries(e).forEach(([e,n])=>{Array.isArray(n)?n.forEach(n=>t.append(e,n)):t.append(e,n)}),t}(t),n)}}),FO={},UO=e("j",LA("user",()=>{const e=St({...FO}),t=St(),n=St([]),i=St(0),r=St(0),a=St(0),s=t=>{e.value={...t}};return{userInfo:e,menus:n,eidUsers:t,onlineTimer:i,msgCount:r,taskCount:a,info:async()=>{},login:async e=>{try{const t=await function(e){return BO.postForm("/user/signin",e)}(e);s(t),yk(t.token)}catch(t){throw bk(),Fg(t),t}},logout:async()=>{try{await BO.post("/user/logout")}finally{bk(),clearInterval(i.value)}},getCode:async()=>{try{return await BO.get("/user/email-code")}catch{}},reset:async()=>{try{return await BO.post("/user/reset-password")}catch{}},register:async()=>{try{return await BO.post("/user/register")}catch{}},setEidUser:async e=>{const n=await function(e){return BO.post("/user/get_eid",e)}(e);t.value=n},getEidUser:()=>t.value,getMenus:()=>n.value,setMenus:async()=>{const e=await BO.get("/menu/h5_menu");n.value=e},activeOnlineTimer:()=>{i.value&&clearInterval(i.value),i.value=window.setInterval(()=>{BO.get("/user/online").then(e=>{r.value=e.msg_count_get||0,a.value=e.job_count_get||0})},1e4)},stopOnlineTimer:()=>{i.value&&clearInterval(i.value)},setMsgCount:e=>{r.value=e},setTaskCount:e=>{a.value=e},getPri:(t,n=0)=>{const i=e.value?.pri;return!!(i&&i[t]&&i[t].pri)&&Boolean("1"===i[t].pri.split("")[n])},setInfo:s,setToken:yk,clearToken:bk,newSigninSms:async e=>{try{const n=await(t=e,BO.postForm("/user/signin_sms",t));s(n),yk(n.token)}catch(n){throw bk(),Fg(n),n}var t}}},{persist:!0})),$O=LA("route-cache",()=>{const e=St([]);return{routeCaches:e,addRoute:t=>{e.value.includes(t.name)||t?.meta?.keepAlive&&e.value.push(t.name)}}}),VO=e("aJ",LA("eventStore",{state:()=>({currentEvent:"",payload:null}),actions:{triggerEvent(e,t){this.currentEvent=e,this.payload=t},clearEvent(){this.currentEvent="",this.payload=null}}})),qO=function(){const e=te(!0),t=e.run(()=>St({}));let n=[],i=[];const r=yt({install(e){gA(r),r._a=e,e.provide(vA,r),e.config.globalProperties.$pinia=r,i.forEach(e=>n.push(e)),i=[]},use(e){return this._a?n.push(e):i.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return r}();qO.use($A);const zO=["src"],HO=["src"],WO=["src"],GO=["src"],XO=Bn({__name:"TabBar",setup(e){const t=St(0),n=wO(),i=UO(),r=Sa(()=>n.name&&fA.includes(n.name));return(e,n)=>{const a=y_,s=Ul,o=f_;return xt(r)?(Ur(),Hr(o,{key:0,modelValue:xt(t),"onUpdate:modelValue":n[0]||(n[0]=e=>Tt(t)?t.value=e:null),route:"",placeholder:""},{default:cn(()=>[Qr(a,{replace:"",to:"/chatPage"},{icon:cn(e=>[Kr("img",{src:e.active?xt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAwCAYAAABE1blzAAAIH0lEQVR4AexafYxcVRU/583ObhE2SqXS7mza2nmzisWCQPCDmriBEovBxJgSiTWBKKIlJDStM9P6R5dE25lpjYQYvwmYtH5A5A9Bq4iWqEiJNhQSGtuZUWrnvUJFjQRplt15h995s+/te2++3kx3C0t4uefdc86995z7e/e+e8+7Mwa9ya/YAEfzFXM0V7l9JFueGMkeW3e2nov6GoHPVP7YTaObTyzu1W8sgKl8eYMIlYXobmbewWw8ok57ddZr/ZFcJau+1CeJca8zOPmHpduOv68XO10BXrj16XNJuBQ1qk4VeFQ/V7LOGCYqBu1BXp1wpu8K6rrxXQEmksNXw8hKUFMSh1Y3KedI4TiysbUpWTeaL3+sdVmztitAqtcva262cDRdARoG720HxzDoMZq3K/ETZnqphflDtUImtt+uAGsFs0IsN8DRiyA/YcF5YfKlV//qK+aYsUurjuIV+GfE7IvMsjWi6yh2BaitrULmARFjrYjcCfn3IMILf+Hg8NAdys8HpXKVW+Hk4hnbB9W39qHWw+hp21gAtaI+UbuUmbCK5tUk9IzqSGRzalt1zOXn8LY8/8z5RDzz8PgkfH5YfWsfqMcrNsCgXTGcLa7MvJjqstnlW9wuyP5tOJU7eomuelFSvZa3aEaOnANw8l63jGW7m/d56wugXRh7FP72gwjT6EupbGWcJmQAe9fHwe9J5coHMcVODfEAFonEYRE+ECWixGEt13pu/Xzla+5D2P73NULsPbRDVsG8j87g6gug+sO0uU5zJWa+J3W6aovQfgDG6PIHoV8CipNQD/WFvir6IOryZzQaBtGkTI9rfibUN8AZp/drLiTvRo6O4n7GSc5tmJCXh4yBLzb4/u99A0xlqwpOt4823mUKo2kR8WEi0n0rSjpSVdR5mVpefB4Wsz2pbOWXLYtjKvsCmMpVDmBv3NDkQ+Q/WM73kcHXW8XMIN6fUauY/oBVNMdb0FXQmagzXDeSq9HuTiF6tskm03Xwd6RJH1PRM0A4w8JBTbEgM31LknwplvON1q70w9TD9fyuFUfQbsIumhcDZA5NQ0EF5Ivg9zTynlNPAOHkKDy4CwByLz0m4lxbK5i32183T3jKfnOALOmGjvY/BQXTIvj/Y1ARh48NcDRb+TERRTZ1+Q6m2bhdGvttHGdx6+iGDrs36qyItFmLj+7dEV1HMRbAkVz5NmG6MWRJ6PtWMbMppJtjQWcFCV8TNIspvFX7E9R14rsCXLH9yDKDjC0hI0yPWyXz1pBungSrlP6dhoRB89of7VdQ147vCnB6enDLzD7n2bDFMT7vCWcjt0qZuwDyF54v7Y/2y5M75R0BjuSqy7FPhUZPRH5g41Omk9H5KEOUEz42YdqyPH9sVTdfHQGicG3EgJ0cSH4voqOl28pL3DgSRwlzka+84x/viPqwd5uPM1EIZJ2M0PsZbaOygVFai+X3VyAB3avKWXL0PMYXWWjf8Z0rT3qKka+Ur0WbJxIOn8ITbgqo+9VNDdX/m8pVnxrNVfOeL82njeSPNPfJmV2AUP8TqVylCYeBp5JFg/UgTTeN5Kv+yijEn1SlR2zwAx6fylbvh/wbyB8CzUOSS4VkVypXfcQzrgGBUCDaYQmMoHMJ6jXhwCyU61HgJxZxQ7AV259bBuUFIDep4ROF9F9UcM9EuVFPZZcQpiH/F+hM0gtobIMCSU/RKp/yFIbIAY9Hfv7sNyWvg+wnDwcA+roQMyXToRcYFctaYcmmZ89j5luU94iFN1qlzDutovku8J/29PFz+TnOXz6D9ktBKcS5COIFgXrDggjt9oDgQVcb2sZ9kJP4+m/wre7odys1YfE0QgAdInd0ksNDa4hoBOQmBAB310rpfa6AG/gHsaR/A2z8xPIwFpGfeQ0snAER8ZM0e6UXGYnLVWQ2TmnuEdN0fwClXk97RjTHu+oCxNBfqbJPCdrj8zMMJxd9c4aNl3H9oWhFzIQHgzohdgE6wm4/vDIA7g+gZ8DLsf9NubxB/tRRmevhlVZ1Uj+9TvO4xDLw/mhdYfloSOeIO3KGUW/0I1TYXmg7Rds1qfNg+JtNjB04izG9+th2lhN0nhwnx/u3IWjD/YFF6KpgWx5IPB2U4/I9A9SlmpieCDhYiUWgnNI9SLcOkuMoa/lbBvStE/MmceRJtaFfLQln6iB8eGeiaMMP1XauahxVQuol9QxQjSMWvVnzCK3H6uduMRF9PFGPIInWC7tfLcPBRgOJRN+BvQLUsxLfHhaT/b7QhrERi+oxAxH/n+b3msRR/fjxnbPRU1t3QoeCZR4OAwb0ON4rPFYrmqF4L9goyOtUrRsDVyLauEeC0UWwUr+8vgIi3xbia2oxj+pZ6FGZ7YePw1AD2FyvANBx5O/ppU8K0i5mvmDjLAVtOUL9ywXzI1Ypc5tdTP8pbn9qu81faz+iOHSKujYUqMss8FsUhw9wgeNq2/23ALZ9NAukoO0IYnn990LAgH1zslM/2wKsM+lvB35bfCLtGM1WP+srXgdmWb5yuQjvCLquy7R/whDUe3xbgCcL5iGES8GQDEeUshfhlB5tvC5kCOl/AvyfDXTfW7zIiXwge9AaeVuAWtwmJNOiNwQ5RvKGIxOrX+3UmY4AbQ3JeEp/+wtN104Gz0qZSBWfU5dpoNHNX0eA2vj5wkXPvf2cyXES58tEvJda/9an8ey8kwj9kNi5Wd72vzV2IfMU+tI1dQWoFnQaWKWx71rF9Oes1r/1aZg372SXzFuswth99sQVr2i/4tBrAAAA//+gvQhQAAAABklEQVQDAPNh/o7rmxEkAAAAAElFTkSuQmCC"):xt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAwCAYAAABE1blzAAAF5ElEQVR4Aeyaaah1UxjHD0kKZZ6TKfNMZkWGDFESEYrMrxQR4gNKyRRJZqF4TfHBPJNZyFCUqQwhc8kQPvD77c46Pe86++679j7n3OvqvT3//az1rLWftf57r73Ws9a5i/b+539tCK7HszgVXAD2AjMltmWbR9PgcqCVlBI8BK8fg6vB+eBJYKOoicpZeLct27yV9AtgY1AsJQSXxNulIBcblXhuH1feEXNJ5mwT8leBYikhuAfe1gJ1YoN19nHYjpzCiUN2tynKhswlBLceumsOGUoI3tHA5/mGslGL7sLBLyCXtzAUt1tC8BMcHgp+AFG+JfMmmJR8iOMvQBT7cGY0TJcuIaiP+7jsAi4EzwJlZS6ngUnJiTjeFCivcbFt+1D89rinV0rQuj5RlwYnnfc0gNPB+mDcsiwO08P7hvSOwLbtA8lyaUMwej2jn3HhlWQ/O6SWxrIFcNbLod1yiodEchv2ref2dSfVleDTtPYYUE7isjtYDOwDLgcOqe/QThLvoJ+rgXbLrWf9i6jjQ9gcnR6aE8pt5DtLV4I2uJ+XPm5Bfw0k7dvdnvSKoESsZ/3zqOyDeAWd3qwPjmx3GYWgrd7rBawN7ChqZDFy0smvXE4AI8koBCXn8jFVB/6m4CvgUHTmy+Gb+pRyiaCGZCksDvdH0J2lK0GHUl0c+hM9uRMcABYHa4CtgEMtx87YjTcdjoZ8LgPvY8vFT+GD3Fia70LQicHJIG/jGgxbAmPIh9FtRAIuA657Z3OjCzpqIBuR+gO0lrYEXYd84rEhh97eGNwrfokeVdy5uKDfnTlagvyLoJW0ITi/1+vli/p1tObQewo9TvFBHo5DRwVqIBK/bJArSJQSPAVfNogayI2k5oFJiqNiz6wBY1H7k5nrsyUEV+VW1zbUQF4mZayImrg8Qwtp4SdZif2xX1Wm6VJCUGeuc8mPC/qxKTND2l38g6Et+2O/gqk+OR3BNbktd3QTNr8R1IyKk09s0H6tEw116ekI+lHH+3x7N0RDP20U49IxLizT9xuVn0VOMv8+Y/0qLUFJPEruH+DJFWogbo0GGRIu4m5fSFbi8vAqKQNmF/9x4Wd8vg3OAVFujxnSkeD+5Id4SNCjuX0pVDx7jDPjgRoD3PimrKHaE2R2AJMQg4aLceyxIaoSA4IY7USCbr+GeEjQsKq6u39JIZiz1Ap9m0rHb5gARh2pHtlKDNO+r1LdLx6D+BlED56iHRQMjpKUdWOcAg/rJbu66p8EzdQh/4A9+LWeQfDxJgIMz5YnvxI4GLSV+7nhMLAKWB0YxBuok6zExT0RMUCvjP2LJPvJYdWGYHo7bkhXC6487fbbTKYHSFwB2oix6z3hBj+F10N+XdLbAMXvXZ3QmaBOkxN1IridmQC3NCFbJa+sruWXh2qq+qCiORFM/UhlnQkmB0m7vzMdh475fKbVln8P2pqwWU3hrpktvbnUj6y4Pts0ROvv6PWcbGKZv1G4r0s2gwNtKV+inRCiD39gcb8Y7303ZkrTXQg6Vbv2pTb83cIJyDXIpeNzCrShimUeNf3m9DGftIdQ7g1JVuIQTkeVlaH00oWgvo/xksE1yDeRmYuzHkHqw11LmjHTzZ0Dewm6YU2O1J6MqZtgLOoxw29NlcZQ9ic+3G/G6AlTrXjEGAsqHhL0LCQVfkSNPN7DVCsOVWdUjwzz77L2hhZGP4FrqW+kkr8AzLXiWW3qx4CHBHWwLbf4pDZAtxFJHscNfi+LoCNGSe+ELze1L6FL5XEq2o8FeEgQeyUSrRJz/LIAj0hwjvOq7/5CgvXPZe5Ym97gj3OEhkvJlF1tIuhvB/FGw68jomEW0gbc9iM23bhGNhF0bXQ9is78hwSPNmYL/k+A5z6pT657+QY5lVW6iaAV6kIy7f8VuDH+q6kz0xE0JPMMMh+uTT5nosxdvf+/Y6DR2N50BL35My5GByejHaIupLOFm+mDo8pTBU/dyDZLCUE9OAyuJ3EUkOxswbMgf7P/nX4Uyb8AAAD//6t6LQkAAAAGSURBVAMAs9U9cAgKREMAAAAASUVORK5CYII="),alt:"home"},null,8,zO)]),default:cn(()=>[ea(Y(e.$t("layouts.robot"))+" ",1)]),_:1}),Qr(a,{replace:"",to:"/message"},{icon:cn(e=>[Qr(s,{content:xt(i).msgCount,max:"99"},{default:cn(()=>[Kr("img",{src:e.active?xt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAtEAYAAAC42jSBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAABO5JREFUeNrtm29MU1cYxp/3tlImk4DGGKRKsAJGqegic8LCqG66Mj9oIhOViYvLXAyMMaQ4x3R+WAQUnMOQaZahptFlkM2MLW5rJGYxOAMhIjriaGVW/lbQGEXHn9t3H7RmMblB5MoBvL8v/XDOfXOe5+k957Q5B9AQCj1pxzDO5GYOCpI/fiHE+6rFwnOxiY9OnSpawKghCvVSbHe3LhUxugtVVW53fn5Y2K1bgz02aAAz0rfbnT+uXet9ybsGSw8fpp20CzcCA0XrHbVkYzLF3bnDe+mm9+zmza1t+QURkeXlSt0VAzD2bz9zNSY2FiV8kGdVV6MYJt6r14vWN1bg46ih+X198mJOk3cuWNBhKEyL3N7Y+Hg/SbGCDSn8YkaGZvzTQesRyxf9/PTL0CNVpqUp9VMO4BTfxqLISNFCxjz+VE0vh4YqNSsGwNkwc4b2zR82l+gynyDFqV4aSi0N9dECEIwWgGC0AASj/iI7FVPI3NLCFVSG8JMnKc2bwcE9PaKFPi18VCqhWwEBtIbfRfOqVbiBbm4wGtWqr1oA/Al+RkNnp1c/YBjYv3Bhu6moMeqDri4AW4U4pxamBx8hh7K/u/L17t3SgL5X13DpEu3BSpinTRtuefWmIDOXoLGqqn1LUd1D48cVj3SlYCWOnD6tVl31AojAHFjNZiA5mVmnE+LSM+Whrj7OxOfz56tVVbUpiGLpACZFRxvDZ8W5LldW8k+5q5suHj+OFVQP/95eMaapwG8cg38NBrLxHJd93TrE0gEsiY5Wq7z6i3A/OuBvtZIVHQSrFRKPqF+qY0U9JgIA1WOJ+uW1bahgtAAEowUgGC0Awai+CHMYUsleXCw5dRtQWlZGBm+SvOzePdFCvef5DeQZjdyIIOnvoiLaiO9hXrRI9LjUCyCZP6W4c+da9xcGmjzZ2f9ruYgTomUCCEE+Tly9OsOS49eUnpLCkLLI7HSKHpZ6U9A86LG8pUW0oMHgBQNn/MPb2vAKbuJXr1f0eNQL4BTZoUtKMmbl2lxOs1m0MEXiJkh9R7dtw5+YjDcl4WugelPQebj4s4AA3osVmFhTY0yyved01NZCT6+h4v590UK5ld10evp0ZFEe/zB3rujx+FB9EaYE/I57BgNAQHh8PICNyBEtEyBQHo+CcTyO8FfweUcLQDBaAILRAhCMYgDUj7WYNIb/xx8l8BH+CwZlH5XfgCYUY09NjWgBYx2pAB9RVW2tYrtSgzwHGyi9uJib0A374OfcNR7jNs4i2Ons08utd0uPHVPqphhA+5aCQtNstxuvI1N3wWLhY3gbDcpJajyAt2I51jsc3g/16/HH0qWdjn32mCLlYzlPfEPGR8ihXJvLOXPmhC9IYgz9hox8hbtgdzgoAlOQGhw8bMFfwkaFzc0Ujwty5qZN0mJySIaRP4fUGzXQQnHXr3c69tlNHo/nSZ8bcgDDxZiVm+Ac8HhQjiX4ZxhXnJIBuNxuXancKuclJl7r3WePqmluHmk9w2XsbUPHifE+xk4ANuTjl2vXxovxPkZ/AD7jc+R3ZLvFMl6M9zF6AxjnxvsY+QBcMGF1W5tSs29XIxuQS28lJIxX432MeAC8UaqkkB07kIyDlHb37qOGb7CV5tXVebtRAFti4qPfIRrPhtlf7eKm9MDA0Iqcb13vR0QAADON+LZY4znnPyK/3rIKHnTdAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA0LTE2VDA5OjQzOjU2KzA4OjAwFBR8rwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNC0xNlQwOTo0Mzo1NiswODowMGVJxBMAAABIdEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL2hvbWUvYWRtaW4vaWNvbi1mb250L3RtcC9pY29uX3p6cmt4amthZ2gveGlhb3hpLnN2Z1XHuN0AAAAASUVORK5CYII="):xt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAtCAMAAADflBjwAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAN5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqTW0FQAAAEl0Uk5TABBRZlMRV/HyVTX7+SmiiMijzKTjk+gUpqXTA7ZctY0sIj7LxiOqCf30LX34xLvVxZ2QaR7u2wsvuh0z3hbq4SHg0ErzzQ4lAS8X+/wAAAABYktHRACIBR1IAAAACXBIWXMAAABIAAAASABGyWs+AAAA6ElEQVRIx92U1w6CMBRA697iwoUT3Hvg3tv+/w8ZQwlqWriY8KDn+Zw07b0pQl9hszsMcbo03+3BALw+1fcHID7GwRAJwjAfY44EEWgQJUEMGsT/L0jwHAM+QQuSKfbqpJKUIK23bBlKkBXYvpCl3SGX9zHIF35lDtYHxVL5E1HSCSq0AVR1ghotqDfYQbNFCdp6d+h0e5/0f20OFgYDaDAkwQgajEkgT2D+dKbOcy5B/MXyZQXklYJ21lpcvbOhfg9b1d/tEYitSV8NDlCfBHBfCUz46Ph8Hxnuo9MZX8z4CF1vd1O+MQ9Bz1e68dpTVAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wNC0xNlQwOTo0NDowMCswODowMN34XIgAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDQtMTZUMDk6NDQ6MDArMDg6MDCspeQ0AAAASXRFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2FkbWluL2ljb24tZm9udC90bXAvaWNvbl83bThtY3E5dmtxdS94aWFveGkuc3Zn6aUc5gAAAABJRU5ErkJggg=="),alt:"message"},null,8,HO)]),_:2},1032,["content"])]),default:cn(()=>[ea(Y(e.$t("layouts.message"))+" ",1)]),_:1}),Qr(a,{replace:"",to:"/task"},{icon:cn(e=>[Qr(s,{content:xt(i).taskCount,max:"99"},{default:cn(()=>[Kr("img",{src:e.active?xt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwEAYAAAAHkiXEAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAACH5JREFUeNrtm31QVNcZxp/3sqLWacQwipYVIksFP0AlSoJGRk0MolFhVJTqBMGAndZGMcou2IRRDLKLAnHMTP1oxYzRUYiDCiha0aIWrcbhQ0zAXY0IVdsxiB1T5eO+/UPuYljXhb2Lq3Z//+zsOWefPe/z3vPec+Au0A0wEyl3qxv1YzIz3avVP+n3NDQoZ6mj9TPLygZtXV2i9w0IsFbbvVK952rFokXu99V/Nsyvrze+trVbqyvNSzlC01ufWF5unPf3Cc2G4owMKS5be2VzQWW8ZqBhQng4cjiKdx04YDIgAP9CfHl53SHtTu/Do0d3VnfIR0kfX9vm5tb0YetlXlFbS7/BOK5wdpb6eQ8ukH9Tk/NXTiMpy8Pj+o7UzV5xd+50et5tFwguYQAyR40yGZDHP6IhPLxurG6797i8PFv5JdjOeqMVpQjy8zPb7QwFQp7Rb4bmlNbZLRN8fDoaLyG1S+O6PG1L8/qakmifv7+t3bJ5AjgDb4jpgnndc3gd04Qufy8PxBQabvlznR3X1XlZjMtKFOY63O8mKmpK3nqLTos+wt2JEzmEZlKdk1PHceJXLCJ0795bS7U6lXdtrbUTUZ7WXDIkRUbyWOzHIA8P4Z8sIvTs2ZsqrU7lfeaMtbqDDeoEg/6dd8RfkYAjEybQRUTgVm1t3cS0AFXq3r3W6g7aqk4w6D08hA9JwJHIyI79VMSHWdnayhOFatH19Ol61w0tQ4PPn7eYAGMNXyrO5IrcXOnKIDDzUxaocBNaVp0/j6XQAdYnADG8BrlxcfRf+HPhpEniTWhZtXYtAB1gfQJEL2hF1Xvv0WDWUGhyMnpjDU0/depxr/UJEOKgFVVeXo9109KeMuQDAKC3xfHCUVFUXkyA/sKcOR3vISZLinvjP/jl4sWdLhWb2Yc2te8OaCV+EFaLotnxb+NHHDXt5xoUwt/8LoNuo5ivPEO3k+PMfo+ZeZmNq0PcZmnzka/QDzRj8eKO3SYGUw4H49prr1kUlgIKon/jWP/+TygEobSy0uwHmtCCItN+2oLX+b6bm7FhNjQ0bMAA6W2PT50OKs5WV0u7HZN5tLVL44y6lfwNxT6hux7ZaGrXtTQvIws5ledXVBiNSyVP0j2hawFKgQIufftaTEBXES5jFJ2YMUN6X5eZdtvrTF4e/srrqTYzk08gGf+4d0/aforldI49o6Ol8cp4zU39Cm9vfI1rWPnE7uUzfE8DQkKAefOYnZyM28p++Eg8t2QJHmATza2vl14piuvozZiY9u1nMp9khYKP0xEopk0zGlGAMP6dr6+Hh0ZTE+nlJbW3zhCjcTUmRpqnNG/2xCLanZFRN1a3XTX24EFjwv3ghoXtcVuLyRJS/lodahh68iTaarFFhZUw0OqWFpoNL6RPntz5m+ZjY92bhmy+1jM/n7woi6+0G2UMdCdAlJhYP1WrVameWmufinuIept+TlISVcEA7eefmwzw4/koLSysO3J9g2rRrFlATg5Ra6slXeUt9YmaquBg6OAlbC8uRg7+hGWmmxMTeqOCpp86VXdVe0RVM3my1Cx/W5UBFacrFHwIrhhfWKg8rhl2rXdMzJsBcbEXL/ToYRJA2xVvyXgJ+hQavpqa6p6tLjAgPd2Tl/N1dnHpOE5qd/9DQo1h0saN1Ih5iF2/3uy8K2kfgqZPVw7xGm+oOnzYuBI7IMWhjE+4f/XCkiXQYZZTXEFBp423gPwVYAbeCaChsZE2YwRpvvsO72M5O7m4GEtNHdLg3fWjvVTr6SfsROvly8b2XyAaTiNHmjuoWUQJDfTMWAgvZFRX4xi+oNZ79/hjVHHasGEUDaCfaQ3vNGZWQLclwEEHuq0EOZCFIwF2xpEAO+NIgJ1RyFZoOwfwVI7l5ZmZ9BdhOPKKi8U72CJ809Ji7wBtheCGZeIchYJjxCsImzKFjtN2+iI+XtqGW6srOwGS8fV+uhDvSQkJ9jaqG9EiC0AmgKyjRx+fS4gIKEH6qlXWisouQezJI4TMkhJ7u/O84YdoEpfJj1t2AugGVYnxwcH2NuR5Q73gLGyRH7fsEiTVQuOSLCd/XnHixCt7DxjFFZT17rtUjuG8Ij4egKxV4DgJPy8cJ+EXE0cC7IwjAXbGkQA7I/8k7IYaWnb3LrtjKL6Miuq7qFfaQ/Xx41ci1tKIXNP/3b6sDN+fzFVznZ0bdz/U9NJOnUr1qMHvd+3CHQzlLa6u1urKPwkf4yhcWreu3lUXplIVFNQfgtbeZnUHP7ugcgsK3HPVdw1xKSm0AjogK8taXfkHseso4AIZzwO9pNAbrOHYGzfk6sj/UwRTBgZGRQHJzGz7R/dePB7Hae45n64i/yQcjvV4FBamVDycbIgoLeVNGk/9xqIixCGSej54YG+7bMY27OVHffrQJw+LDBEhIUhCAP4eGChXVv5NWGIgTmJDYCCl8wIgMBDpYLarYzZngTHOMNuJ/h+UjBcbRwLsjCMBdsZ294D+cCW/ujosRShnVFfDB++j7BW6DVTjGEYTIRFjaKuvL/rgE851d5crKz8BhFjsPHDAjRq0DSULFnz7220JY8c1N9vbr27AD2h/VPF2Sb98l8p9+8gXH8AvPNxaUdklSFyDSm7Mzv720rbtr6jxP0OKU/iSm3lcdrZcPfmPp7tQrjAqKMjexjxv+DaFw1V+3PJLUBZv4cEajbJUPdvgq1JxEZfx9bIyqAWRNlr+RctLg1YUeJUgkBJ/pHljxmAHHvHf5s4FkAZv62XlJ0B6ynkewPkREQQCEBGBHYxX5w4MANSKUADAWlvG5diG2hlHAuyMIwF2xjQBQ5HN5a/QAepFwYyvT0tAABLbf47pwEaY8dUkAeJawadZlZKCz2g/YvLzzf0u18GzMfrW5iPQlNNz8Lp1Hcf9D8HA5KKI9TCYAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA0LTE2VDA5OjQyOjQ2KzA4OjAwN3wXDwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNC0xNlQwOTo0Mjo0NiswODowMEYhr7MAAABIdEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL2hvbWUvYWRtaW4vaWNvbi1mb250L3RtcC9pY29uX2x1dnRxZXp5MjNxL3Rhc2tzLnN2Z5i0EqcAAAAASUVORK5CYII="):xt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAASZQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABtb08QAAAGF0Uk5TAAGP79AyXOXRjlEX+VB+/T6AQDd0dx5ZPL+xQcCwVteWl9ZYoTEk/t0D5FsE3yKNo/u3eHq1/PJiBYsQjLZj8/DHzYpIRExN7EsGbm+vAsmC47y7ra5Ohoepeaq+kBOzEkYtoC0AAAABYktHRACIBR1IAAAACXBIWXMAAABIAAAASABGyWs+AAABmklEQVRIx92SZ1PCQBCGFwkgEjoBYsNKBCv2YKMpxYbYseD+/z/hJZdz1CMnjuOMuJ+e3L3PJLsbgLdyDDgll8Vuj8dtoWvQ6XVAtxpCRImiT0aUfZQlcuzvKgTITZBiiCCGKAcJBroKYSNFMWJghLKB4Y/JaExRlDgTEkqSCUklwYQ4icSi1rcH6bUlqOQ6wk5UJpgnQdrLsME4wnoYJddWD2EcZT2MmKExU1BNHmdTSuEEm9IkTrEpTZsh9Z0wAw6vU5qFtIZzGXBns/OwsIjaErgk57IDVjghlzQfMquE12hz6wQ3MnTOm5yAW9s6QNrIo5bfAdjZ1QzeSwPo+wfIC4iFYkqzUC6VZAu1VLHAEp+Er+u/Cbly5dC2KuUcJ5RBWHlOOBIL1Z+/IZcX9ZDv8i/9vT38vlCrN+yH2qjXOOFYvIcTTvCLBT8nnJ6J8mdjfNPnTcW2mud9sYfvCxetS9tqZXnhSheNVb/mhKp4cTeccCsW7jhBu2/bL679oPXFHnoXHnsXHk3hqXfhyRSeO3JvcbnzAvAKfLsQJc+d0fwAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjEtMDQtMTZUMDk6NDM6MjIrMDg6MDDqnlGlAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIxLTA0LTE2VDA5OjQzOjIyKzA4OjAwm8PpGQAAAEh0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vaG9tZS9hZG1pbi9pY29uLWZvbnQvdG1wL2ljb25fcDg4c2h4N2RxamgvdGFza3Muc3ZnVbAYcAAAAABJRU5ErkJggg=="),alt:"task"},null,8,WO)]),_:2},1032,["content"])]),default:cn(()=>[ea(Y(e.$t("layouts.task"))+" ",1)]),_:1}),Qr(a,{replace:"",to:"/profile"},{icon:cn(e=>[Kr("img",{src:e.active?xt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwEAYAAAAHkiXEAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAB81JREFUeNrtm3tUVNcVxr99GRStxvhCYUDEwfebxoAYH5SSlxg1gq8VtS4UMMssFHAGTBYsNHTxcAESaQQlidaatKCkKihopaitLIg2dbQqMJhhzRDA+mh1AYHh7v7Rjm1xGVE4c339/hvu3P3tfT7OzD1nnyE8sQQFMdvZqXnE76oxcyY54FOKe+stDuGfI8rNDR6Ug2y1+t7bqzkYIWYzZdMJbDMauQXrOP7oUTPVLPbA6dNAbi5Re7vSVXWElE7AilNWHNet7d1b+r75w6a94eF0gZaRS0QEyrGPiwYNeuzAQTiL4dev89uYTsbUVCpsnd/j6+3bTWlpPq6Rzc1K1624Ac4ntRGGXX5+0iLKQOaePfgJIjnvf/6zu5vBGEgTTSb+Be/mrStXmsOTKz2iSkqUql9SStjVV6czGNatk76lWhQeOyZ84K1cxw3Wu7hgEH1Fe4uK1AOjcwyJYWFKjYPNZ4B6hk5f/enKlWTEPvjv2aNU4fcRxB/yrTVrTGnJL42clpNjK1mbzQD1B9rKqvXe3vg1GjE/O9tWup2FP6AKUmdmqm/EqCpPeXnZStcGBsQxsyTRXOop7crMpFkoRlPPnrYqsLNY86LV8gopJSvLmrdoXeECan3Ll9X65cs5GL/iS56eovW6zHk4Im3yZBf35tHXZi1bJlpOuAFUz69QQ1gYKf689WhwEfmwf0iIaB1hBgzxj3rP4OjoiEKyR4G3t+hCuhvaDHse8Nprbrwp8BoPHSpKR5gBqjFSrLx41izkYifW29mJ0hFGGQbgTUlqd6J58lc+PqJkxH0EnZK8sMjVVVh8G8GX0A/hLi6i4gszgH7GIfB2dBQV31bQx3RWNjo5iYovbgb48ELJq6lJWHwbQYd4HO2/e1dUfHEG/Bnj5Jy6OmHxbYUnraSjZrOo8MIMkHvTdDJdviwqvq2Qh3KVPPTKFVHxhRlQl+BwUbOgrIx3wht59fWidETBMTgCfUOD+ZNeIz0+KS8XpSNwIRZPRLKMbJThi/x8cTpdg/kBF+rJie4cOHCvDkGIXwlrVOVyY0ICnLEfu5+8L+WOK3S+hiKYW1pkF/aET1KSaH3hBpjSEkpG3TSbMQPLOS4jQ7ReVyETRtHO1NTvQ5OSNR61taL1bLYdPaT01s1/XIyNxWREQK1cB+pB8CYAX58581KFw29b2uLjbaVrMwPOnc/e9cq0tjaLoyTzpiVLoEM23hf3dNFZOBRjKOLyZdnBcry9z8KFf1scT+PzWlttpa/YHuXA32tHXdndt2+vBqlNtXf/fmzhxfgsIMBW+pyOJEouLlYtamEpa8kSI20nd7p929bj8ARsEsdxCatULhubE1w3hoUBVIxtsbHIxXR8N3hwt8lEYS5aGxsxEgb4b9limltTqDHt3Kn0cZUnwID/x9V3U4+q9RoNT6E/2blotfwRzJzq50ehVIB4d3eUYQD7/0inyhs3cUyW4Yp0Kr9wgQ5xHs/Oy2tKRYKFMzJuzE+uHLPmzh2l67SimAHOvtpR1yaOHk1maYjcsGIFjWEP9goIsHakHna/9fm9040eLRJRYDSyPTIw4exZqkQdDT98+AeTQ2KL7tCh67nxND5P3J7Pg7CZAa4HtUU12f7+nENT5BUxMbiBHiidMwcmJMJDwX6ZBdNQ2tyMj/ltKjlyBKukctKnpJjsE+eM+GtFhWh5YYWr9VE1NdmTJqFW9ap8ZscOCuVgxM6cKbqgbiMIwI6CAvlbzrf7Q2RkXUlypbv+6tXuluk2A37qGbL2mwp7+/q7A670nxsXR2E8BDN0OqRCwykqlU0HrxuxrowRgPeRsXXr0Ou3Km5Hp6RYH6u7Gr/LBgw7tvk74+tOTnJm+ylL+8GD+AsucdbT1wPuLJxFOdhy+rQl3fImHQsMbDi+bZ+msbHxceM9tgGuQzZPMjhOmMA+llKuKCxEBSWi7elvQXaaIACG2loATJqAAFNaUrLGQ69/1DCPvBJWz9Dpry2YPJlntP8GfUtKnruBt5ILQDNsGIxYgTdOnnTZqNMaqidOfNQwnTbArWfUe1enubtTEG61/7K4uMvHxp8VrOPghgBuPXFCnbfpM0PIyJGdvf2hBli3DCwf2fmpnAoKsA0F6PH0N9u7Heu4OEk3eEd+/uCgOL4U2KfPw257qAG9/ij90/7zzEzKwhVOHTtW6TqfdGgJ/o7a8eN7RrTkOlx8+CnrB34J//s0c2Ag5VMObcjNVbqwpxXeTxekaYGB5lmJR0fcOnCg4/X7ZoD1I4f20TjpTHq60gU89UzhQH49I2OEu05rqO7Xr+Pl+wxweIeu2gVHRtrsFyvPODQOlZzg7PxDDZJkzcaNHa/fM2DYsOhoo7F/f5xANH2zYYPSiT9zVKKZvgwP7zgT7hnAA3lb25TVq2k1gP73T5UXdA3yQzxeffnl1jQUsH7tWuvf/2uAG0YgKTRU6USfddiLj2P4qlXW1+TsFj22av3UqVI7v0Mbzp9XOsHnBdmODnG6p6dEEWii4QsXKp3Q84b0LhdKDvPmSQAvBXx9lU7oOeRdXjR7NqnbdFOqS5ubyR1vQO3goHRWzw3/6cRJLwZeIVSowOxevSTUwxcx4k7/vuABTMV4Ci0rk2ignZZKg4MxAAtQX1WldF7POhyHEuDcOUuMpZUOL136L4so984LQxBGAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTA0LTE2VDA5OjQ0OjM3KzA4OjAwltBl5QAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wNC0xNlQwOTo0NDozNyswODowMOeN3VkAAABPdEVYdHN2ZzpiYXNlLXVyaQBmaWxlOi8vL2hvbWUvYWRtaW4vaWNvbi1mb250L3RtcC9pY29uX3R3bHhncXlvamk5L3dvZGVkYW5neHVhbi5zdmedbAxTAAAAAElFTkSuQmCC"):xt("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAWhQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALZhACAAAAHd0Uk5TAANAiajDCnnr6ngJQ+TjQWn7+mheYzj4NwLN0FxbxMEW/P0YVFJxbod9e2A65+iWlRv19x6FBb4GFdfWFA2zuRAEbOlrI5nczyeE4KdaDEX+9qo1LsK0ehnHLOLhLS8hJdSiqVPlD4AR8O9ydNnTMYJ+vcnazB+hc5vHAAAAAWJLR0QAiAUdSAAAAAlwSFlzAAAASAAAAEgARslrPgAAAXFJREFUSMeV1Pk3AmEUxvHbMhRCqCRLEpJdFJItW1lDKPuaPfv995WTU9O8d+Z9n58/39PUnROAcjq9wShJRoNeBzyrqDRhYeaqam1fY8GS1dZp+XorytbQqO6bUDGbmrc7lIGjmfbOFmTM5SSDVmSujQza2UEH5d2d7MDTRQReJNZNBD1U0EsEPirwEUEfFfiJwEYF/UQwQAV26tCDbD9EnnqYHYyQlx4dY/nAOBmwf9gJ2kMwpPTSpEoAU9PlPjwDqovMyv3cPGhsYdFc5NElnn+a5ZVVT1571vwRbR2Lu0oeaH1jc0uVb4d2yr90YneP5PtJ9qUPYuwbxK1ILHAYVPqjFKos6S736WNU3cmp3J+ZUGMmWXEe1fK5I16UvA9hbY94WTzJFY9HvP73Xj6PeFN4IAtvcHv3F2R4PWIm7+8f+IPH/Ec88XvE51zwIhK8AmRFPGIW3sSCd5DEgg8IiAUJEPOI8CnmU5D+EvHfP79UN3v4i2xNXAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wNC0xNlQwOTo0NDozNSswODowMAFPdMwAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDQtMTZUMDk6NDQ6MzUrMDg6MDBwEsxwAAAAT3RFWHRzdmc6YmFzZS11cmkAZmlsZTovLy9ob21lL2FkbWluL2ljb24tZm9udC90bXAvaWNvbl92eTVrZ255aDZlaS93b2RlZGFuZ3h1YW4uc3ZnPeCKMgAAAABJRU5ErkJggg=="),alt:"profile"},null,8,GO)]),default:cn(()=>[ea(Y(e.$t("layouts.profile"))+" ",1)]),_:1})]),_:1},8,["modelValue"])):ta("",!0)}}});var YO="object"==typeof global&&global&&global.Object===Object&&global,KO="object"==typeof self&&self&&self.Object===Object&&self,QO=e("a3",YO||KO||Function("return this")()),JO=QO.Symbol,ZO=Object.prototype,eI=ZO.hasOwnProperty,tI=ZO.toString,nI=JO?JO.toStringTag:void 0,iI=Object.prototype.toString,rI="[object Null]",aI="[object Undefined]",sI=JO?JO.toStringTag:void 0;function oI(e){return null==e?void 0===e?aI:rI:sI&&sI in Object(e)?function(e){var t=eI.call(e,nI),n=e[nI];try{e[nI]=void 0;var i=!0}catch(xZ){}var r=tI.call(e);return i&&(t?e[nI]=n:delete e[nI]),r}(e):function(e){return iI.call(e)}(e)}function lI(e){return null!=e&&"object"==typeof e}var cI="[object Symbol]";function uI(e){return"symbol"==typeof e||lI(e)&&oI(e)==cI}function dI(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}var hI=e("aT",Array.isArray),pI=JO?JO.prototype:void 0,fI=pI?pI.toString:void 0;function mI(e){if("string"==typeof e)return e;if(hI(e))return dI(e,mI)+"";if(uI(e))return fI?fI.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function gI(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function vI(e){return e}var yI="[object AsyncFunction]",bI="[object Function]",_I="[object GeneratorFunction]",TI="[object Proxy]";function SI(e){if(!gI(e))return!1;var t=oI(e);return t==bI||t==_I||t==yI||t==TI}var wI=QO["__core-js_shared__"],AI=function(){var e=/[^.]+$/.exec(wI&&wI.keys&&wI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),kI=Function.prototype.toString;function xI(e){if(null!=e){try{return kI.call(e)}catch(xZ){}try{return e+""}catch(xZ){}}return""}var CI=/^\[object .+?Constructor\]$/,EI=Function.prototype,OI=Object.prototype,II=EI.toString,DI=OI.hasOwnProperty,PI=RegExp("^"+II.call(DI).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LI(e){return!(!gI(e)||(t=e,AI&&AI in t))&&(SI(e)?PI:CI).test(xI(e));var t}function RI(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return LI(n)?n:void 0}var MI=RI(QO,"WeakMap"),NI=Object.create,jI=function(){function e(){}return function(t){if(!gI(t))return{};if(NI)return NI(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function BI(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}var FI=Date.now;function UI(e){return function(){return e}}var $I,VI,qI,zI=function(){try{var e=RI(Object,"defineProperty");return e({},"",{}),e}catch(xZ){}}(),HI=zI?function(e,t){return zI(e,"toString",{configurable:!0,enumerable:!1,value:UI(t),writable:!0})}:vI,WI=($I=HI,VI=0,qI=0,function(){var e=FI(),t=16-(e-qI);if(qI=e,t>0){if(++VI>=800)return arguments[0]}else VI=0;return $I.apply(void 0,arguments)}),GI=9007199254740991,XI=/^(?:0|[1-9]\d*)$/;function YI(e,t){var n=typeof e;return!!(t=null==t?GI:t)&&("number"==n||"symbol"!=n&&XI.test(e))&&e>-1&&e%1==0&&e<t}function KI(e,t,n){"__proto__"==t&&zI?zI(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function QI(e,t){return e===t||e!=e&&t!=t}var JI=Object.prototype.hasOwnProperty;function ZI(e,t,n){var i=e[t];JI.call(e,t)&&QI(i,n)&&(void 0!==n||t in e)||KI(e,t,n)}function eD(e,t,n,i){var r=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var o=t[a],l=void 0;void 0===l&&(l=e[o]),r?KI(n,o,l):ZI(n,o,l)}return n}var tD=Math.max;function nD(e,t,n){return t=tD(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,a=tD(i.length-t,0),s=Array(a);++r<a;)s[r]=i[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=i[r];return o[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,o)}}var iD=9007199254740991;function rD(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=iD}function aD(e){return null!=e&&rD(e.length)&&!SI(e)}var sD=Object.prototype;function oD(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||sD)}function lD(e){return lI(e)&&"[object Arguments]"==oI(e)}var cD=Object.prototype,uD=cD.hasOwnProperty,dD=cD.propertyIsEnumerable,hD=lD(function(){return arguments}())?lD:function(e){return lI(e)&&uD.call(e,"callee")&&!dD.call(e,"callee")},pD="object"==typeof e&&e&&!e.nodeType&&e,fD=pD&&"object"==typeof t&&t&&!t.nodeType&&t,mD=fD&&fD.exports===pD?QO.Buffer:void 0,gD=(mD?mD.isBuffer:void 0)||function(){return!1},vD={};function yD(e){return function(t){return e(t)}}vD["[object Float32Array]"]=vD["[object Float64Array]"]=vD["[object Int8Array]"]=vD["[object Int16Array]"]=vD["[object Int32Array]"]=vD["[object Uint8Array]"]=vD["[object Uint8ClampedArray]"]=vD["[object Uint16Array]"]=vD["[object Uint32Array]"]=!0,vD["[object Arguments]"]=vD["[object Array]"]=vD["[object ArrayBuffer]"]=vD["[object Boolean]"]=vD["[object DataView]"]=vD["[object Date]"]=vD["[object Error]"]=vD["[object Function]"]=vD["[object Map]"]=vD["[object Number]"]=vD["[object Object]"]=vD["[object RegExp]"]=vD["[object Set]"]=vD["[object String]"]=vD["[object WeakMap]"]=!1;var bD="object"==typeof e&&e&&!e.nodeType&&e,_D=bD&&"object"==typeof t&&t&&!t.nodeType&&t,TD=_D&&_D.exports===bD&&YO.process,SD=function(){try{var e=_D&&_D.require&&_D.require("util").types;return e||TD&&TD.binding&&TD.binding("util")}catch(xZ){}}(),wD=SD&&SD.isTypedArray,AD=wD?yD(wD):function(e){return lI(e)&&rD(e.length)&&!!vD[oI(e)]},kD=Object.prototype.hasOwnProperty;function xD(e,t){var n=hI(e),i=!n&&hD(e),r=!n&&!i&&gD(e),a=!n&&!i&&!r&&AD(e),s=n||i||r||a,o=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=o.length;for(var c in e)!t&&!kD.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||YI(c,l))||o.push(c);return o}function CD(e,t){return function(n){return e(t(n))}}var ED=CD(Object.keys,Object),OD=Object.prototype.hasOwnProperty;function ID(e){return aD(e)?xD(e):function(e){if(!oD(e))return ED(e);var t=[];for(var n in Object(e))OD.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var DD=Object.prototype.hasOwnProperty;function PD(e){if(!gI(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=oD(e),n=[];for(var i in e)("constructor"!=i||!t&&DD.call(e,i))&&n.push(i);return n}function LD(e){return aD(e)?xD(e,!0):PD(e)}var RD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,MD=/^\w*$/;function ND(e,t){if(hI(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!uI(e))||MD.test(e)||!RD.test(e)||null!=t&&e in Object(t)}var jD=RI(Object,"create"),BD=Object.prototype.hasOwnProperty,FD=Object.prototype.hasOwnProperty;function UD(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function $D(e,t){for(var n=e.length;n--;)if(QI(e[n][0],t))return n;return-1}UD.prototype.clear=function(){this.__data__=jD?jD(null):{},this.size=0},UD.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},UD.prototype.get=function(e){var t=this.__data__;if(jD){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return BD.call(t,e)?t[e]:void 0},UD.prototype.has=function(e){var t=this.__data__;return jD?void 0!==t[e]:FD.call(t,e)},UD.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=jD&&void 0===t?"__lodash_hash_undefined__":t,this};var VD=Array.prototype.splice;function qD(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}qD.prototype.clear=function(){this.__data__=[],this.size=0},qD.prototype.delete=function(e){var t=this.__data__,n=$D(t,e);return!(n<0||(n==t.length-1?t.pop():VD.call(t,n,1),--this.size,0))},qD.prototype.get=function(e){var t=this.__data__,n=$D(t,e);return n<0?void 0:t[n][1]},qD.prototype.has=function(e){return $D(this.__data__,e)>-1},qD.prototype.set=function(e,t){var n=this.__data__,i=$D(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var zD=RI(QO,"Map");function HD(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function WD(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function GD(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var s=e.apply(this,i);return n.cache=a.set(r,s)||a,s};return n.cache=new(GD.Cache||WD),n}WD.prototype.clear=function(){this.size=0,this.__data__={hash:new UD,map:new(zD||qD),string:new UD}},WD.prototype.delete=function(e){var t=HD(this,e).delete(e);return this.size-=t?1:0,t},WD.prototype.get=function(e){return HD(this,e).get(e)},WD.prototype.has=function(e){return HD(this,e).has(e)},WD.prototype.set=function(e,t){var n=HD(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},GD.Cache=WD;var XD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YD=/\\(\\)?/g,KD=function(e){var t=GD(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(XD,function(e,n,i,r){t.push(i?r.replace(YD,"$1"):n||e)}),t});function QD(e){return null==e?"":mI(e)}function JD(e,t){return hI(e)?e:ND(e,t)?[e]:KD(QD(e))}function ZD(e){if("string"==typeof e||uI(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function eP(e,t){for(var n=0,i=(t=JD(t,e)).length;null!=e&&n<i;)e=e[ZD(t[n++])];return n&&n==i?e:void 0}function tP(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}var nP=JO?JO.isConcatSpreadable:void 0;function iP(e){return hI(e)||hD(e)||!!(nP&&e&&e[nP])}function rP(e,t,n,i,r){var a=-1,s=e.length;for(n||(n=iP),r||(r=[]);++a<s;){var o=e[a];n(o)?tP(r,o):r[r.length]=o}return r}function aP(e){return null!=e&&e.length?rP(e):[]}var sP=CD(Object.getPrototypeOf,Object),oP=Function.prototype,lP=Object.prototype,cP=oP.toString,uP=lP.hasOwnProperty,dP=cP.call(Object);function hP(e){if(!lI(e)||"[object Object]"!=oI(e))return!1;var t=sP(e);if(null===t)return!0;var n=uP.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&cP.call(n)==dP}function pP(e){var t=this.__data__=new qD(e);this.size=t.size}pP.prototype.clear=function(){this.__data__=new qD,this.size=0},pP.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},pP.prototype.get=function(e){return this.__data__.get(e)},pP.prototype.has=function(e){return this.__data__.has(e)},pP.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qD){var i=n.__data__;if(!zD||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new WD(i)}return n.set(e,t),this.size=n.size,this};var fP="object"==typeof e&&e&&!e.nodeType&&e,mP=fP&&"object"==typeof t&&t&&!t.nodeType&&t,gP=mP&&mP.exports===fP?QO.Buffer:void 0,vP=gP?gP.allocUnsafe:void 0;function yP(e,t){if(t)return e.slice();var n=e.length,i=vP?vP(n):new e.constructor(n);return e.copy(i),i}function bP(){return[]}var _P=Object.prototype.propertyIsEnumerable,TP=Object.getOwnPropertySymbols,SP=TP?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,a=[];++n<i;){var s=e[n];t(s,n,e)&&(a[r++]=s)}return a}(TP(e),function(t){return _P.call(e,t)}))}:bP,wP=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)tP(t,SP(e)),e=sP(e);return t}:bP;function AP(e,t,n){var i=t(e);return hI(e)?i:tP(i,n(e))}function kP(e){return AP(e,ID,SP)}function xP(e){return AP(e,LD,wP)}var CP=RI(QO,"DataView"),EP=RI(QO,"Promise"),OP=RI(QO,"Set"),IP="[object Map]",DP="[object Promise]",PP="[object Set]",LP="[object WeakMap]",RP="[object DataView]",MP=xI(CP),NP=xI(zD),jP=xI(EP),BP=xI(OP),FP=xI(MI),UP=oI;(CP&&UP(new CP(new ArrayBuffer(1)))!=RP||zD&&UP(new zD)!=IP||EP&&UP(EP.resolve())!=DP||OP&&UP(new OP)!=PP||MI&&UP(new MI)!=LP)&&(UP=function(e){var t=oI(e),n="[object Object]"==t?e.constructor:void 0,i=n?xI(n):"";if(i)switch(i){case MP:return RP;case NP:return IP;case jP:return DP;case BP:return PP;case FP:return LP}return t});var $P=Object.prototype.hasOwnProperty,VP=QO.Uint8Array;function qP(e){var t=new e.constructor(e.byteLength);return new VP(t).set(new VP(e)),t}var zP=/\w*$/,HP=JO?JO.prototype:void 0,WP=HP?HP.valueOf:void 0;function GP(e,t){var n=t?qP(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var XP="[object Boolean]",YP="[object Date]",KP="[object Map]",QP="[object Number]",JP="[object RegExp]",ZP="[object Set]",eL="[object String]",tL="[object Symbol]",nL="[object ArrayBuffer]",iL="[object DataView]",rL="[object Float32Array]",aL="[object Float64Array]",sL="[object Int8Array]",oL="[object Int16Array]",lL="[object Int32Array]",cL="[object Uint8Array]",uL="[object Uint8ClampedArray]",dL="[object Uint16Array]",hL="[object Uint32Array]";function pL(e,t,n){var i,r,a,s=e.constructor;switch(t){case nL:return qP(e);case XP:case YP:return new s(+e);case iL:return function(e,t){var n=t?qP(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case rL:case aL:case sL:case oL:case lL:case cL:case uL:case dL:case hL:return GP(e,n);case KP:return new s;case QP:case eL:return new s(e);case JP:return(a=new(r=e).constructor(r.source,zP.exec(r))).lastIndex=r.lastIndex,a;case ZP:return new s;case tL:return i=e,WP?Object(WP.call(i)):{}}}function fL(e){return"function"!=typeof e.constructor||oD(e)?{}:jI(sP(e))}var mL=SD&&SD.isMap,gL=mL?yD(mL):function(e){return lI(e)&&"[object Map]"==UP(e)},vL=SD&&SD.isSet,yL=vL?yD(vL):function(e){return lI(e)&&"[object Set]"==UP(e)},bL=1,_L=2,TL=4,SL="[object Arguments]",wL="[object Function]",AL="[object GeneratorFunction]",kL="[object Object]",xL={};function CL(e,t,n,i,r,a){var s,o=t&bL,l=t&_L,c=t&TL;if(n&&(s=r?n(e,i,r,a):n(e)),void 0!==s)return s;if(!gI(e))return e;var u=hI(e);if(u){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&$P.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!o)return BI(e,s)}else{var d=UP(e),h=d==wL||d==AL;if(gD(e))return yP(e,o);if(d==kL||d==SL||h&&!r){if(s=l||h?{}:fL(e),!o)return l?function(e,t){return eD(e,wP(e),t)}(e,function(e,t){return e&&eD(t,LD(t),e)}(s,e)):function(e,t){return eD(e,SP(e),t)}(e,function(e,t){return e&&eD(t,ID(t),e)}(s,e))}else{if(!xL[d])return r?e:{};s=pL(e,d,o)}}a||(a=new pP);var p=a.get(e);if(p)return p;a.set(e,s),yL(e)?e.forEach(function(i){s.add(CL(i,t,n,i,e,a))}):gL(e)&&e.forEach(function(i,r){s.set(r,CL(i,t,n,r,e,a))});var f=u?void 0:(c?l?xP:kP:l?LD:ID)(e);return function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););}(f||e,function(i,r){f&&(i=e[r=i]),ZI(s,r,CL(i,t,n,r,e,a))}),s}function EL(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new WD;++t<n;)this.add(e[t])}function OL(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function IL(e,t){return e.has(t)}xL[SL]=xL["[object Array]"]=xL["[object ArrayBuffer]"]=xL["[object DataView]"]=xL["[object Boolean]"]=xL["[object Date]"]=xL["[object Float32Array]"]=xL["[object Float64Array]"]=xL["[object Int8Array]"]=xL["[object Int16Array]"]=xL["[object Int32Array]"]=xL["[object Map]"]=xL["[object Number]"]=xL[kL]=xL["[object RegExp]"]=xL["[object Set]"]=xL["[object String]"]=xL["[object Symbol]"]=xL["[object Uint8Array]"]=xL["[object Uint8ClampedArray]"]=xL["[object Uint16Array]"]=xL["[object Uint32Array]"]=!0,xL["[object Error]"]=xL[wL]=xL["[object WeakMap]"]=!1,EL.prototype.add=EL.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},EL.prototype.has=function(e){return this.__data__.has(e)};var DL=1,PL=2;function LL(e,t,n,i,r,a){var s=n&DL,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var d=-1,h=!0,p=n&PL?new EL:void 0;for(a.set(e,t),a.set(t,e);++d<o;){var f=e[d],m=t[d];if(i)var g=s?i(m,f,d,t,e,a):i(f,m,d,e,t,a);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!OL(t,function(e,t){if(!IL(p,t)&&(f===e||r(f,e,n,i,a)))return p.push(t)})){h=!1;break}}else if(f!==m&&!r(f,m,n,i,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function RL(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function ML(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var NL=1,jL=2,BL="[object Boolean]",FL="[object Date]",UL="[object Error]",$L="[object Map]",VL="[object Number]",qL="[object RegExp]",zL="[object Set]",HL="[object String]",WL="[object Symbol]",GL="[object ArrayBuffer]",XL="[object DataView]",YL=JO?JO.prototype:void 0,KL=YL?YL.valueOf:void 0,QL=1,JL=Object.prototype.hasOwnProperty,ZL=1,eR="[object Arguments]",tR="[object Array]",nR="[object Object]",iR=Object.prototype.hasOwnProperty;function rR(e,t,n,i,r,a){var s=hI(e),o=hI(t),l=s?tR:UP(e),c=o?tR:UP(t),u=(l=l==eR?nR:l)==nR,d=(c=c==eR?nR:c)==nR,h=l==c;if(h&&gD(e)){if(!gD(t))return!1;s=!0,u=!1}if(h&&!u)return a||(a=new pP),s||AD(e)?LL(e,t,n,i,r,a):function(e,t,n,i,r,a,s){switch(n){case XL:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case GL:return!(e.byteLength!=t.byteLength||!a(new VP(e),new VP(t)));case BL:case FL:case VL:return QI(+e,+t);case UL:return e.name==t.name&&e.message==t.message;case qL:case HL:return e==t+"";case $L:var o=RL;case zL:var l=i&NL;if(o||(o=ML),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;i|=jL,s.set(e,t);var u=LL(o(e),o(t),i,r,a,s);return s.delete(e),u;case WL:if(KL)return KL.call(e)==KL.call(t)}return!1}(e,t,l,n,i,r,a);if(!(n&ZL)){var p=u&&iR.call(e,"__wrapped__"),f=d&&iR.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,g=f?t.value():t;return a||(a=new pP),r(m,g,n,i,a)}}return!!h&&(a||(a=new pP),function(e,t,n,i,r,a){var s=n&QL,o=kP(e),l=o.length;if(l!=kP(t).length&&!s)return!1;for(var c=l;c--;){var u=o[c];if(!(s?u in t:JL.call(t,u)))return!1}var d=a.get(e),h=a.get(t);if(d&&h)return d==t&&h==e;var p=!0;a.set(e,t),a.set(t,e);for(var f=s;++c<l;){var m=e[u=o[c]],g=t[u];if(i)var v=s?i(g,m,u,t,e,a):i(m,g,u,e,t,a);if(!(void 0===v?m===g||r(m,g,n,i,a):v)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,i,r,a))}function aR(e,t,n,i,r){return e===t||(null==e||null==t||!lI(e)&&!lI(t)?e!=e&&t!=t:rR(e,t,n,i,aR,r))}var sR=1,oR=2;function lR(e){return e==e&&!gI(e)}function cR(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}function uR(e){var t=function(e){for(var t=ID(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,lR(r)]}return t}(e);return 1==t.length&&t[0][2]?cR(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,i){var r=n.length,a=r;if(null==e)return!a;for(e=Object(e);r--;){var s=n[r];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<a;){var o=(s=n[r])[0],l=e[o],c=s[1];if(s[2]){if(void 0===l&&!(o in e))return!1}else{var u=new pP;if(!aR(c,l,sR|oR,i,u))return!1}}return!0}(n,0,t)}}function dR(e,t){return null!=e&&t in Object(e)}function hR(e,t){return null!=e&&function(e,t,n){for(var i=-1,r=(t=JD(t,e)).length,a=!1;++i<r;){var s=ZD(t[i]);if(!(a=null!=e&&n(e,s)))break;e=e[s]}return a||++i!=r?a:!!(r=null==e?0:e.length)&&rD(r)&&YI(s,r)&&(hI(e)||hD(e))}(e,t,dR)}var pR=1,fR=2;function mR(e,t){return ND(e)&&lR(t)?cR(ZD(e),t):function(n){var i=function(e,t,n){var i=null==e?void 0:eP(e,t);return void 0===i?n:i}(n,e);return void 0===i&&i===t?hR(n,e):aR(t,i,pR|fR)}}function gR(e){return ND(e)?(t=ZD(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return eP(t,e)}}(e);var t}function vR(e){return"function"==typeof e?e:null==e?vI:"object"==typeof e?hI(e)?mR(e[0],e[1]):uR(e):gR(e)}var yR,bR=function(e,t,n){for(var i=-1,r=Object(e),a=n(e),s=a.length;s--;){var o=a[++i];if(!1===t(r[o],o,r))break}return e},_R=(yR=function(e,t){return e&&bR(e,t,ID)},function(e,t){if(null==e)return e;if(!aD(e))return yR(e,t);for(var n=e.length,i=-1,r=Object(e);++i<n&&!1!==t(r[i],i,r););return e});function TR(e,t,n){(void 0!==n&&!QI(e[t],n)||void 0===n&&!(t in e))&&KI(e,t,n)}function SR(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function wR(e,t,n,i,r,a,s){var o=SR(e,n),l=SR(t,n),c=s.get(l);if(c)TR(e,n,c);else{var u=a?a(o,l,n+"",e,t,s):void 0,d=void 0===u;if(d){var h=hI(l),p=!h&&gD(l),f=!h&&!p&&AD(l);u=l,h||p||f?hI(o)?u=o:function(e){return lI(e)&&aD(e)}(o)?u=BI(o):p?(d=!1,u=yP(l,!0)):f?(d=!1,u=GP(l,!0)):u=[]:hP(l)||hD(l)?(u=o,hD(o)?u=function(e){return eD(e,LD(e))}(o):gI(o)&&!SI(o)||(u=fL(l))):d=!1}d&&(s.set(l,u),r(u,l,i,a,s),s.delete(l)),TR(e,n,u)}}function AR(e,t,n,i,r){e!==t&&bR(t,function(a,s){if(r||(r=new pP),gI(a))wR(e,t,s,n,AR,i,r);else{var o=i?i(SR(e,s),a,s+"",e,t,r):void 0;void 0===o&&(o=a),TR(e,s,o)}},LD)}function kR(e,t){var n=-1,i=aD(e)?Array(e.length):[];return _R(e,function(e,r,a){i[++n]=t(e,r,a)}),i}function xR(e,t){return rP(function(e,t){return(hI(e)?dI:kR)(e,vR(t))}(e,t))}function CR(e,t){return null==e?e:bR(e,function(e){return"function"==typeof e?e:vI}(t),LD)}function ER(e,t){return t.length<2?e:eP(e,function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}(t,0,-1))}var OR,IR=(OR=function(e,t,n){AR(e,t,n)},function(e,t){return WI(nD(e,t,vI),e+"")}(function(e,t){var n=-1,i=t.length,r=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(r=OR.length>3&&"function"==typeof r?(i--,r):void 0,a&&function(e,t,n){if(!gI(n))return!1;var i=typeof t;return!!("number"==i?aD(n)&&YI(t,n.length):"string"==i&&t in n)&&QI(n[t],e)}(t[0],t[1],a)&&(r=i<3?void 0:r,i=1),e=Object(e);++n<i;){var s=t[n];s&&OR(e,s,n,r)}return e}));function DR(e,t){return null==(e=ER(e,t=JD(t,e)))||delete e[ZD((n=t,i=null==n?0:n.length,i?n[i-1]:void 0))];var n,i}function PR(e){return hP(e)?void 0:e}var LR=function(e){return WI(nD(e,void 0,aP),e+"")}(function(e,t){var n={};if(null==e)return n;var i=!1;t=dI(t,function(t){return t=JD(t,e),i||(i=t.length>1),t}),eD(e,xP(e),n),i&&(n=CL(n,7,PR));for(var r=t.length;r--;)DR(n,t[r]);return n});function RR(e,t,n,i){if(!gI(e))return e;for(var r=-1,a=(t=JD(t,e)).length,s=a-1,o=e;null!=o&&++r<a;){var l=ZD(t[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(r!=s){var u=o[l];void 0===(c=void 0)&&(c=gI(u)?u:YI(t[r+1])?[]:{})}ZI(o,l,c),o=o[l]}return e}function MR(e,t){if(null==e)return{};var n=dI(xP(e),function(e){return[e]});return t=vR(t),function(e,t,n){for(var i=-1,r=t.length,a={};++i<r;){var s=t[i],o=eP(e,s);n(o,s)&&RR(a,JD(s,e),o)}return a}(e,n,function(e,n){return t(e,n[0])})}function NR(e,t){var n;return _R(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}const jR=ct({children:[],active:""});function BR(){const e=wO();return Sa(()=>{const t=e.meta.tabs||{},n=jR.children.length>0?jR.children:t.children||[];return{children:n,active:jR.active||t.active||n[0]?.name||"","click-tab":t["click-tab"]}})}function FR(e,t){jR.children=e,jR.active=t}
/*!
        * shared v11.1.12
        * (c) 2025 kazuya kawaguchi
        * Released under the MIT License.
        */function UR(e,t){"undefined"!=typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const $R="undefined"!=typeof window,VR=(e,t=!1)=>t?Symbol.for(e):Symbol(e),qR=(e,t,n)=>zR({l:e,k:t,s:n}),zR=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),HR=e=>"number"==typeof e&&isFinite(e),WR=e=>"[object Date]"===dM(e),GR=e=>"[object RegExp]"===dM(e),XR=e=>hM(e)&&0===Object.keys(e).length,YR=Object.assign,KR=Object.create,QR=(e=null)=>KR(e);let JR;const ZR=()=>JR||(JR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:QR());function eM(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function tM(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}const nM=Object.prototype.hasOwnProperty;function iM(e,t){return nM.call(e,t)}const rM=Array.isArray,aM=e=>"function"==typeof e,sM=e=>"string"==typeof e,oM=e=>"boolean"==typeof e,lM=e=>null!==e&&"object"==typeof e,cM=e=>lM(e)&&aM(e.then)&&aM(e.catch),uM=Object.prototype.toString,dM=e=>uM.call(e),hM=e=>"[object Object]"===dM(e);function pM(e,t=""){return e.reduce((e,n,i)=>0===i?e+n:e+t+n,"")}const fM=e=>!lM(e)||rM(e);function mM(e,t){if(fM(e)||fM(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:e,des:t}=n.pop();Object.keys(e).forEach(i=>{"__proto__"!==i&&(lM(e[i])&&!lM(t[i])&&(t[i]=Array.isArray(e[i])?[]:QR()),fM(t[i])||fM(e[i])?t[i]=e[i]:n.push({src:e[i],des:t[i]}))})}}
/*!
        * message-compiler v11.1.12
        * (c) 2025 kazuya kawaguchi
        * Released under the MIT License.
        */function gM(e,t,n){return{start:e,end:t}}const vM=1,yM=2,bM=3,_M=4,TM=5,SM=6,wM=7,AM=8,kM=9,xM=10,CM=11,EM=12,OM=13,IM=14;function DM(e,t,n={}){const{domain:i,messages:r,args:a}=n,s=new SyntaxError(String(e));return s.code=e,t&&(s.location=t),s.domain=i,s}function PM(e){throw e}const LM=" ",RM="\n",MM=String.fromCharCode(8232),NM=String.fromCharCode(8233);function jM(e){const t=e;let n=0,i=1,r=1,a=0;const s=e=>"\r"===t[e]&&t[e+1]===RM,o=e=>t[e]===NM,l=e=>t[e]===MM,c=e=>s(e)||(e=>t[e]===RM)(e)||o(e)||l(e),u=e=>s(e)||o(e)||l(e)?RM:t[e];function d(){return a=0,c(n)&&(i++,r=0),s(n)&&n++,n++,r++,t[n]}return{index:()=>n,line:()=>i,column:()=>r,peekOffset:()=>a,charAt:u,currentChar:()=>u(n),currentPeek:()=>u(n+a),next:d,peek:function(){return s(n+a)&&a++,a++,t[n+a]},reset:function(){n=0,i=1,r=1,a=0},resetPeek:function(e=0){a=e},skipToPeek:function(){const e=n+a;for(;e!==n;)d();a=0}}}const BM=void 0;function FM(e,t={}){const n=!1!==t.location,i=jM(e),r=()=>i.index(),a=()=>function(e,t,n){return{line:e,column:t,offset:n}}(i.line(),i.column(),i.index()),s=a(),o=r(),l={currentType:13,offset:o,startLoc:s,endLoc:s,lastType:13,lastOffset:o,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function d(e,t,i,...r){const a=c();if(t.column+=i,t.offset+=i,u){const i=DM(e,n?gM(a.startLoc,t):null,{domain:"tokenizer",args:r});u(i)}}function h(e,t,i){e.endLoc=a(),e.currentType=t;const r={type:t};return n&&(r.loc=gM(e.startLoc,e.endLoc)),null!=i&&(r.value=i),r}const p=e=>h(e,13);function f(e,t){return e.currentChar()===t?(e.next(),t):(d(vM,a(),0,t),"")}function m(e){let t="";for(;e.currentPeek()===LM||e.currentPeek()===RM;)t+=e.currentPeek(),e.peek();return t}function g(e){const t=m(e);return e.skipToPeek(),t}function v(e){if(e===BM)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function y(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const i=function(e){if(e===BM)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),i}function b(e){m(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function _(e,t=!0){const n=(t=!1,i="")=>{const r=e.currentPeek();return"{"===r?t:"@"!==r&&r?"|"===r?!(i===LM||i===RM):r===LM?(e.peek(),n(!0,LM)):r!==RM||(e.peek(),n(!0,RM)):t},i=n();return t&&e.resetPeek(),i}function T(e,t){const n=e.currentChar();return n===BM?BM:t(n)?(e.next(),n):null}function S(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}function w(e){return T(e,S)}function A(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t||45===t}function k(e){return T(e,A)}function x(e){const t=e.charCodeAt(0);return t>=48&&t<=57}function C(e){return T(e,x)}function E(e){const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function O(e){return T(e,E)}function I(e){let t="",n="";for(;t=C(e);)n+=t;return n}function D(e){return"'"!==e&&e!==RM}function P(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return L(e,t,4);case"U":return L(e,t,6);default:return d(_M,a(),0,t),""}}function L(e,t,n){f(e,t);let i="";for(let r=0;r<n;r++){const n=O(e);if(!n){d(TM,a(),0,`\\${t}${i}${e.currentChar()}`);break}i+=n}return`\\${t}${i}`}function R(e){return"{"!==e&&"}"!==e&&e!==LM&&e!==RM}function M(e){g(e);let t="",n="";for(;t=T(e,R);)n+=t;return n}function N(e){g(e);const t=f(e,"|");return g(e),t}function j(e,t){let n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&d(kM,a(),0),e.next(),n=h(t,2,"{"),g(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&d(AM,a(),0),e.next(),n=h(t,3,"}"),t.braceNest--,t.braceNest>0&&g(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&d(wM,a(),0),n=B(e,t)||p(t),t.braceNest=0,n;default:{let i=!0,r=!0,s=!0;if(b(e))return t.braceNest>0&&d(wM,a(),0),n=h(t,1,N(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(4===t.currentType||5===t.currentType||6===t.currentType))return d(wM,a(),0),t.braceNest=0,F(e,t);if(i=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const i=v(e.currentPeek());return e.resetPeek(),i}(e,t))return n=h(t,4,function(e){g(e);let t="",n="";for(;t=k(e);)n+=t;const i=e.currentChar();if(i&&"}"!==i&&i!==BM&&i!==LM&&i!==RM&&""!==i){const t=M(e);return d(yM,a(),0,n+t),n+t}return e.currentChar()===BM&&d(wM,a(),0),n}(e)),g(e),n;if(r=y(e,t))return n=h(t,5,function(e){g(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${I(e)}`):t+=I(e),e.currentChar()===BM&&d(wM,a(),0),t}(e)),g(e),n;if(s=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const i="'"===e.currentPeek();return e.resetPeek(),i}(e,t))return n=h(t,6,function(e){g(e),f(e,"'");let t="",n="";for(;t=T(e,D);)n+="\\"===t?P(e):t;const i=e.currentChar();return i===RM||i===BM?(d(bM,a(),0),i===RM&&(e.next(),f(e,"'")),n):(f(e,"'"),n)}(e)),g(e),n;if(!i&&!r&&!s)return n=h(t,12,M(e)),d(yM,a(),0,n.value),g(e),n;break}}return n}function B(e,t){const{currentType:n}=t;let i=null;const r=e.currentChar();switch(7!==n&&8!==n&&11!==n&&9!==n||r!==RM&&r!==LM||d(xM,a(),0),r){case"@":return e.next(),i=h(t,7,"@"),t.inLinked=!0,i;case".":return g(e),e.next(),h(t,8,".");case":":return g(e),e.next(),h(t,9,":");default:return b(e)?(i=h(t,1,N(e)),t.braceNest=0,t.inLinked=!1,i):function(e,t){const{currentType:n}=t;if(7!==n)return!1;m(e);const i="."===e.currentPeek();return e.resetPeek(),i}(e,t)||function(e,t){const{currentType:n}=t;if(7!==n&&11!==n)return!1;m(e);const i=":"===e.currentPeek();return e.resetPeek(),i}(e,t)?(g(e),B(e,t)):function(e,t){const{currentType:n}=t;if(8!==n)return!1;m(e);const i=v(e.currentPeek());return e.resetPeek(),i}(e,t)?(g(e),h(t,11,function(e){let t="",n="";for(;t=w(e);)n+=t;return n}(e))):function(e,t){const{currentType:n}=t;if(9!==n)return!1;const i=()=>{const t=e.currentPeek();return"{"===t?v(e.peek()):!("@"===t||"|"===t||":"===t||"."===t||t===LM||!t)&&(t===RM?(e.peek(),i()):_(e,!1))},r=i();return e.resetPeek(),r}(e,t)?(g(e),"{"===r?j(e,t)||i:h(t,10,function(e){const t=n=>{const i=e.currentChar();return"{"!==i&&"@"!==i&&"|"!==i&&"("!==i&&")"!==i&&i?i===LM?n:(n+=i,e.next(),t(n)):n};return t("")}(e))):(7===n&&d(xM,a(),0),t.braceNest=0,t.inLinked=!1,F(e,t))}}function F(e,t){let n={type:13};if(t.braceNest>0)return j(e,t)||p(t);if(t.inLinked)return B(e,t)||p(t);switch(e.currentChar()){case"{":return j(e,t)||p(t);case"}":return d(SM,a(),0),e.next(),h(t,3,"}");case"@":return B(e,t)||p(t);default:if(b(e))return n=h(t,1,N(e)),t.braceNest=0,t.inLinked=!1,n;if(_(e))return h(t,0,function(e){let t="";for(;;){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if(n===LM||n===RM)if(_(e))t+=n,e.next();else{if(b(e))break;t+=n,e.next()}else t+=n,e.next()}return t}(e))}return n}return{nextToken:function(){const{currentType:e,offset:t,startLoc:n,endLoc:s}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=s,l.offset=r(),l.startLoc=a(),i.currentChar()===BM?h(l,13):F(i,l)},currentOffset:r,currentPosition:a,context:c}}const UM=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function $M(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):""}}}function VM(e={}){const t=!1!==e.location,{onError:n}=e;function i(e,i,r,a,...s){const o=e.currentPosition();if(o.offset+=a,o.column+=a,n){const e=DM(i,t?gM(r,o):null,{domain:"parser",args:s});n(e)}}function r(e,n,i){const r={type:e};return t&&(r.start=n,r.end=n,r.loc={start:i,end:i}),r}function a(e,n,i,r){t&&(e.end=n,e.loc&&(e.loc.end=i))}function s(e,t){const n=e.context(),i=r(3,n.offset,n.startLoc);return i.value=t,a(i,e.currentOffset(),e.currentPosition()),i}function o(e,t){const n=e.context(),{lastOffset:i,lastStartLoc:s}=n,o=r(5,i,s);return o.index=parseInt(t,10),e.nextToken(),a(o,e.currentOffset(),e.currentPosition()),o}function l(e,t){const n=e.context(),{lastOffset:i,lastStartLoc:s}=n,o=r(4,i,s);return o.key=t,e.nextToken(),a(o,e.currentOffset(),e.currentPosition()),o}function c(e,t){const n=e.context(),{lastOffset:i,lastStartLoc:s}=n,o=r(9,i,s);return o.value=t.replace(UM,$M),e.nextToken(),a(o,e.currentOffset(),e.currentPosition()),o}function u(e){const t=e.context(),n=r(6,t.offset,t.startLoc);let s=e.nextToken();if(8===s.type){const t=function(e){const t=e.nextToken(),n=e.context(),{lastOffset:s,lastStartLoc:o}=n,l=r(8,s,o);return 11!==t.type?(i(e,EM,n.lastStartLoc,0),l.value="",a(l,s,o),{nextConsumeToken:t,node:l}):(null==t.value&&i(e,IM,n.lastStartLoc,0,qM(t)),l.value=t.value||"",a(l,e.currentOffset(),e.currentPosition()),{node:l})}(e);n.modifier=t.node,s=t.nextConsumeToken||e.nextToken()}switch(9!==s.type&&i(e,IM,t.lastStartLoc,0,qM(s)),s=e.nextToken(),2===s.type&&(s=e.nextToken()),s.type){case 10:null==s.value&&i(e,IM,t.lastStartLoc,0,qM(s)),n.key=function(e,t){const n=e.context(),i=r(7,n.offset,n.startLoc);return i.value=t,a(i,e.currentOffset(),e.currentPosition()),i}(e,s.value||"");break;case 4:null==s.value&&i(e,IM,t.lastStartLoc,0,qM(s)),n.key=l(e,s.value||"");break;case 5:null==s.value&&i(e,IM,t.lastStartLoc,0,qM(s)),n.key=o(e,s.value||"");break;case 6:null==s.value&&i(e,IM,t.lastStartLoc,0,qM(s)),n.key=c(e,s.value||"");break;default:{i(e,OM,t.lastStartLoc,0);const o=e.context(),l=r(7,o.offset,o.startLoc);return l.value="",a(l,o.offset,o.startLoc),n.key=l,a(n,o.offset,o.startLoc),{nextConsumeToken:s,node:n}}}return a(n,e.currentOffset(),e.currentPosition()),{node:n}}function d(e){const t=e.context(),n=r(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);n.items=[];let d=null;do{const r=d||e.nextToken();switch(d=null,r.type){case 0:null==r.value&&i(e,IM,t.lastStartLoc,0,qM(r)),n.items.push(s(e,r.value||""));break;case 5:null==r.value&&i(e,IM,t.lastStartLoc,0,qM(r)),n.items.push(o(e,r.value||""));break;case 4:null==r.value&&i(e,IM,t.lastStartLoc,0,qM(r)),n.items.push(l(e,r.value||""));break;case 6:null==r.value&&i(e,IM,t.lastStartLoc,0,qM(r)),n.items.push(c(e,r.value||""));break;case 7:{const t=u(e);n.items.push(t.node),d=t.nextConsumeToken||null;break}}}while(13!==t.currentType&&1!==t.currentType);return a(n,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),n}function h(e){const t=e.context(),{offset:n,startLoc:s}=t,o=d(e);return 13===t.currentType?o:function(e,t,n,s){const o=e.context();let l=0===s.items.length;const c=r(1,t,n);c.cases=[],c.cases.push(s);do{const t=d(e);l||(l=0===t.items.length),c.cases.push(t)}while(13!==o.currentType);return l&&i(e,CM,n,0),a(c,e.currentOffset(),e.currentPosition()),c}(e,n,s,o)}return{parse:function(n){const s=FM(n,YR({},e)),o=s.context(),l=r(0,o.offset,o.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=h(s),e.onCacheKey&&(l.cacheKey=e.onCacheKey(n)),13!==o.currentType&&i(s,IM,o.lastStartLoc,0,n[o.offset]||""),a(l,s.currentOffset(),s.currentPosition()),l}}}function qM(e){if(13===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function zM(e,t){for(let n=0;n<e.length;n++)HM(e[n],t)}function HM(e,t){switch(e.type){case 1:zM(e.cases,t),t.helper("plural");break;case 2:zM(e.items,t);break;case 6:HM(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function WM(e,t={}){const n=function(e){const t={ast:e,helpers:new Set};return{context:()=>t,helper:e=>(t.helpers.add(e),e)}}(e);n.helper("normalize"),e.body&&HM(e.body,n);const i=n.context();e.helpers=Array.from(i.helpers)}function GM(e){if(1===e.items.length){const t=e.items[0];3!==t.type&&9!==t.type||(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const i=e.items[n];if(3!==i.type&&9!==i.type)break;if(null==i.value)break;t.push(i.value)}if(t.length===e.items.length){e.static=pM(t);for(let t=0;t<e.items.length;t++){const n=e.items[t];3!==n.type&&9!==n.type||delete n.value}}}}function XM(e){switch(e.t=e.type,e.type){case 0:{const t=e;XM(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let e=0;e<n.length;e++)XM(n[e]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let e=0;e<n.length;e++)XM(n[e]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;XM(t.key),t.k=t.key,delete t.key,t.modifier&&(XM(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function YM(e,t){const{helper:n}=e;switch(t.type){case 0:!function(e,t){t.body?YM(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){const{helper:n,needIndent:i}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(i());const r=t.cases.length;for(let n=0;n<r&&(YM(e,t.cases[n]),n!==r-1);n++)e.push(", ");e.deindent(i()),e.push("])")}}(e,t);break;case 2:!function(e,t){const{helper:n,needIndent:i}=e;e.push(`${n("normalize")}([`),e.indent(i());const r=t.items.length;for(let a=0;a<r&&(YM(e,t.items[a]),a!==r-1);a++)e.push(", ");e.deindent(i()),e.push("])")}(e,t);break;case 6:!function(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),YM(e,t.key),t.modifier?(e.push(", "),YM(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}(e,t);break;case 8:case 7:case 9:case 3:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t)}}function KM(e,t={}){const n=YR({},t),i=!!n.jit,r=!!n.minify,a=null==n.optimize||n.optimize,s=VM(n).parse(e);return i?(a&&function(e){const t=e.body;2===t.type?GM(t):t.cases.forEach(e=>GM(e))}(s),r&&XM(s),{ast:s,code:""}):(WM(s,n),((e,t={})=>{const n=sM(t.mode)?t.mode:"normal",i=sM(t.filename)?t.filename:"message.intl";t.sourceMap;const r=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",a=t.needIndent?t.needIndent:"arrow"!==n,s=e.helpers||[],o=function(e,t){const{filename:n,breakLineCode:i,needIndent:r}=t,a=!1!==t.location,s={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:r,indentLevel:0};function o(e,t){s.code+=e}function l(e,t=!0){const n=t?i:"";o(r?n+"  ".repeat(e):n)}return a&&e.loc&&(s.source=e.loc.source),{context:()=>s,push:o,indent:function(e=!0){const t=++s.indentLevel;e&&l(t)},deindent:function(e=!0){const t=--s.indentLevel;e&&l(t)},newline:function(){l(s.indentLevel)},helper:e=>`_${e}`,needIndent:()=>s.needIndent}}(e,{filename:i,breakLineCode:r,needIndent:a});o.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),o.indent(a),s.length>0&&(o.push(`const { ${pM(s.map(e=>`${e}: _${e}`),", ")} } = ctx`),o.newline()),o.push("return "),YM(o,e),o.deindent(a),o.push("}"),delete e.helpers;const{code:l,map:c}=o.context();return{ast:e,code:l,map:c?c.toJSON():void 0}})(s,n))}
/*!
        * core-base v11.1.12
        * (c) 2025 kazuya kawaguchi
        * Released under the MIT License.
        */function QM(e){return lM(e)&&0===iN(e)&&(iM(e,"b")||iM(e,"body"))}const JM=["b","body"],ZM=["c","cases"],eN=["s","static"],tN=["i","items"],nN=["t","type"];function iN(e){return lN(e,nN)}const rN=["v","value"];function aN(e,t){const n=lN(e,rN);if(null!=n)return n;throw uN(t)}const sN=["m","modifier"],oN=["k","key"];function lN(e,t,n){for(let i=0;i<t.length;i++){const n=t[i];if(iM(e,n)&&null!=e[n])return e[n]}return n}const cN=[...JM,...ZM,...eN,...tN,...oN,...sN,...rN,...nN];function uN(e){return new Error(`unhandled node type: ${e}`)}function dN(e){return t=>function(e,t){const n=lN(t,JM);if(null==n)throw uN(0);if(1===iN(n)){const t=function(e){return lN(e,ZM,[])}(n);return e.plural(t.reduce((t,n)=>[...t,hN(e,n)],[]))}return hN(e,n)}(t,e)}function hN(e,t){const n=function(e){return lN(e,eN)}(t);if(null!=n)return"text"===e.type?n:e.normalize([n]);{const n=function(e){return lN(e,tN,[])}(t).reduce((t,n)=>[...t,pN(e,n)],[]);return e.normalize(n)}}function pN(e,t){const n=iN(t);switch(n){case 3:case 9:case 7:case 8:return aN(t,n);case 4:{const i=t;if(iM(i,"k")&&i.k)return e.interpolate(e.named(i.k));if(iM(i,"key")&&i.key)return e.interpolate(e.named(i.key));throw uN(n)}case 5:{const i=t;if(iM(i,"i")&&HR(i.i))return e.interpolate(e.list(i.i));if(iM(i,"index")&&HR(i.index))return e.interpolate(e.list(i.index));throw uN(n)}case 6:{const n=t,i=function(e){return lN(e,sN)}(n),r=function(e){const t=lN(e,oN);if(t)return t;throw uN(6)}(n);return e.linked(pN(e,r),i?pN(e,i):void 0,e.type)}default:throw new Error(`unhandled node on format message part: ${n}`)}}const fN=e=>e;let mN=QR(),gN=null;const vN=yN("function:translate");function yN(e){return t=>gN&&gN.emit(e,t)}const bN={INVALID_ARGUMENT:17,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23};function _N(e){return DM(e,null,void 0)}function TN(e,t){return null!=t.locale?wN(t.locale):wN(e.locale)}let SN;function wN(e){if(sM(e))return e;if(aM(e)){if(e.resolvedOnce&&null!=SN)return SN;if("Function"===e.constructor.name){const t=e();if(cM(t))throw _N(bN.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return SN=t}throw _N(bN.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}throw _N(bN.NOT_SUPPORT_LOCALE_TYPE)}function AN(e,t,n){return[...new Set([n,...rM(t)?t:lM(t)?Object.keys(t):sM(t)?[t]:[n]])]}function kN(e,t,n){const i=sM(n)?n:jN,r=e;r.__localeChainCache||(r.__localeChainCache=new Map);let a=r.__localeChainCache.get(i);if(!a){a=[];let e=[n];for(;rM(e);)e=xN(a,e,t);const s=rM(t)||!hM(t)?t:t.default?t.default:null;e=sM(s)?[s]:s,rM(e)&&xN(a,e,!1),r.__localeChainCache.set(i,a)}return a}function xN(e,t,n){let i=!0;for(let r=0;r<t.length&&oM(i);r++){const a=t[r];sM(a)&&(i=CN(e,t[r],n))}return i}function CN(e,t,n){let i;const r=t.split("-");do{i=EN(e,r.join("-"),n),r.splice(-1,1)}while(r.length&&!0===i);return i}function EN(e,t,n){let i=!1;if(!e.includes(t)&&(i=!0,t)){i="!"!==t[t.length-1];const r=t.replace(/!/g,"");e.push(r),(rM(n)||hM(n))&&n[r]&&(i=n[r])}return i}const ON=[];ON[0]={w:[0],i:[3,0],"[":[4],o:[7]},ON[1]={w:[1],".":[2],"[":[4],o:[7]},ON[2]={w:[2],i:[3,0],0:[3,0]},ON[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},ON[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},ON[5]={"'":[4,0],o:8,l:[5,0]},ON[6]={'"':[4,0],o:8,l:[6,0]};const IN=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function DN(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function PN(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(n=t,IN.test(n)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t);var n}const LN=new Map;function RN(e,t){return lM(e)?e[t]:null}const MN="11.1.12",NN=-1,jN="en-US",BN="",FN=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;let UN,$N,VN,qN=null;const zN=e=>{qN=e},HN=()=>qN;let WN=null;const GN=e=>{WN=e},XN=()=>WN;let YN=0;function KN(e={}){const t=aM(e.onWarn)?e.onWarn:UR,n=sM(e.version)?e.version:MN,i=sM(e.locale)||aM(e.locale)?e.locale:jN,r=aM(i)?jN:i,a=rM(e.fallbackLocale)||hM(e.fallbackLocale)||sM(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:r,s=hM(e.messages)?e.messages:QN(r),o=hM(e.datetimeFormats)?e.datetimeFormats:QN(r),l=hM(e.numberFormats)?e.numberFormats:QN(r),c=YR(QR(),e.modifiers,{upper:(e,t)=>"text"===t&&sM(e)?e.toUpperCase():"vnode"===t&&lM(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&sM(e)?e.toLowerCase():"vnode"===t&&lM(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&sM(e)?FN(e):"vnode"===t&&lM(e)&&"__v_isVNode"in e?FN(e.children):e}),u=e.pluralRules||QR(),d=aM(e.missing)?e.missing:null,h=!oM(e.missingWarn)&&!GR(e.missingWarn)||e.missingWarn,p=!oM(e.fallbackWarn)&&!GR(e.fallbackWarn)||e.fallbackWarn,f=!!e.fallbackFormat,m=!!e.unresolving,g=aM(e.postTranslation)?e.postTranslation:null,v=hM(e.processor)?e.processor:null,y=!oM(e.warnHtmlMessage)||e.warnHtmlMessage,b=!!e.escapeParameter,_=aM(e.messageCompiler)?e.messageCompiler:UN,T=aM(e.messageResolver)?e.messageResolver:$N||RN,S=aM(e.localeFallbacker)?e.localeFallbacker:VN||AN,w=lM(e.fallbackContext)?e.fallbackContext:void 0,A=e,k=lM(A.__datetimeFormatters)?A.__datetimeFormatters:new Map,x=lM(A.__numberFormatters)?A.__numberFormatters:new Map,C=lM(A.__meta)?A.__meta:{};YN++;const E={version:n,cid:YN,locale:i,fallbackLocale:a,messages:s,modifiers:c,pluralRules:u,missing:d,missingWarn:h,fallbackWarn:p,fallbackFormat:f,unresolving:m,postTranslation:g,processor:v,warnHtmlMessage:y,escapeParameter:b,messageCompiler:_,messageResolver:T,localeFallbacker:S,fallbackContext:w,onWarn:t,__meta:C};return E.datetimeFormats=o,E.numberFormats=l,E.__datetimeFormatters=k,E.__numberFormatters=x,__INTLIFY_PROD_DEVTOOLS__&&function(e,t,n){gN&&gN.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}(E,n,C),E}const QN=e=>({[e]:QR()});function JN(e,t,n,i,r){const{missing:a,onWarn:s}=e;if(null!==a){const i=a(e,n,t,r);return sM(i)?i:t}return t}function ZN(e,t,n){e.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function ej(e,t){return e!==t&&e.split("-")[0]===t.split("-")[0]}function tj(e,t){const n=t.indexOf(e);if(-1===n)return!1;for(let i=n+1;i<t.length;i++)if(ej(e,t[i]))return!0;return!1}function nj(e,...t){const{datetimeFormats:n,unresolving:i,fallbackLocale:r,onWarn:a,localeFallbacker:s}=e,{__datetimeFormatters:o}=e,[l,c,u,d]=rj(...t);oM(u.missingWarn)?u.missingWarn:e.missingWarn,oM(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const h=!!u.part,p=TN(e,u),f=s(e,r,p);if(!sM(l)||""===l)return new Intl.DateTimeFormat(p,d).format(c);let m,g={},v=null;for(let _=0;_<f.length&&(m=f[_],g=n[m]||{},v=g[l],!hM(v));_++)JN(e,l,m,0,"datetime format");if(!hM(v)||!sM(m))return i?NN:l;let y=`${m}__${l}`;XR(d)||(y=`${y}__${JSON.stringify(d)}`);let b=o.get(y);return b||(b=new Intl.DateTimeFormat(m,YR({},v,d)),o.set(y,b)),h?b.formatToParts(c):b.format(c)}const ij=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function rj(...e){const[t,n,i,r]=e,a=QR();let s,o=QR();if(sM(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw _N(bN.INVALID_ISO_DATE_ARGUMENT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();s=new Date(n);try{s.toISOString()}catch{throw _N(bN.INVALID_ISO_DATE_ARGUMENT)}}else if(WR(t)){if(isNaN(t.getTime()))throw _N(bN.INVALID_DATE_ARGUMENT);s=t}else{if(!HR(t))throw _N(bN.INVALID_ARGUMENT);s=t}return sM(n)?a.key=n:hM(n)&&Object.keys(n).forEach(e=>{ij.includes(e)?o[e]=n[e]:a[e]=n[e]}),sM(i)?a.locale=i:hM(i)&&(o=i),hM(r)&&(o=r),[a.key||"",s,a,o]}function aj(e,t,n){const i=e;for(const r in n){const e=`${t}__${r}`;i.__datetimeFormatters.has(e)&&i.__datetimeFormatters.delete(e)}}function sj(e,...t){const{numberFormats:n,unresolving:i,fallbackLocale:r,onWarn:a,localeFallbacker:s}=e,{__numberFormatters:o}=e,[l,c,u,d]=lj(...t);oM(u.missingWarn)?u.missingWarn:e.missingWarn,oM(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const h=!!u.part,p=TN(e,u),f=s(e,r,p);if(!sM(l)||""===l)return new Intl.NumberFormat(p,d).format(c);let m,g={},v=null;for(let _=0;_<f.length&&(m=f[_],g=n[m]||{},v=g[l],!hM(v));_++)JN(e,l,m,0,"number format");if(!hM(v)||!sM(m))return i?NN:l;let y=`${m}__${l}`;XR(d)||(y=`${y}__${JSON.stringify(d)}`);let b=o.get(y);return b||(b=new Intl.NumberFormat(m,YR({},v,d)),o.set(y,b)),h?b.formatToParts(c):b.format(c)}const oj=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function lj(...e){const[t,n,i,r]=e,a=QR();let s=QR();if(!HR(t))throw _N(bN.INVALID_ARGUMENT);const o=t;return sM(n)?a.key=n:hM(n)&&Object.keys(n).forEach(e=>{oj.includes(e)?s[e]=n[e]:a[e]=n[e]}),sM(i)?a.locale=i:hM(i)&&(s=i),hM(r)&&(s=r),[a.key||"",o,a,s]}function cj(e,t,n){const i=e;for(const r in n){const e=`${t}__${r}`;i.__numberFormatters.has(e)&&i.__numberFormatters.delete(e)}}const uj=e=>e,dj=e=>"",hj="text",pj=e=>0===e.length?"":pM(e),fj=e=>null==e?"":rM(e)||hM(e)&&e.toString===uM?JSON.stringify(e,null,2):String(e);function mj(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function gj(e={}){const t=e.locale,n=function(e){const t=HR(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(HR(e.named.count)||HR(e.named.n))?HR(e.named.count)?e.named.count:HR(e.named.n)?e.named.n:t:t}(e),i=lM(e.pluralRules)&&sM(t)&&aM(e.pluralRules[t])?e.pluralRules[t]:mj,r=lM(e.pluralRules)&&sM(t)&&aM(e.pluralRules[t])?mj:void 0,a=e.list||[],s=e.named||QR();function o(t,n){const i=aM(e.messages)?e.messages(t,!!n):!!lM(e.messages)&&e.messages[t];return i||(e.parent?e.parent.message(t):dj)}HR(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,s);const l=hM(e.processor)&&aM(e.processor.normalize)?e.processor.normalize:pj,c=hM(e.processor)&&aM(e.processor.interpolate)?e.processor.interpolate:fj,u={list:e=>a[e],named:e=>s[e],plural:e=>e[i(n,e.length,r)],linked:(t,...n)=>{const[i,r]=n;let a="text",s="";1===n.length?lM(i)?(s=i.modifier||s,a=i.type||a):sM(i)&&(s=i||s):2===n.length&&(sM(i)&&(s=i||s),sM(r)&&(a=r||a));const l=o(t,!0)(u),c="vnode"===a&&rM(l)&&s?l[0]:l;return s?(t=>e.modifiers?e.modifiers[t]:uj)(s)(c,a):c},message:o,type:hM(e.processor)&&sM(e.processor.type)?e.processor.type:hj,interpolate:c,normalize:l,values:YR(QR(),a,s)};return u}const vj=()=>"",yj=e=>aM(e);function bj(e,...t){const{fallbackFormat:n,postTranslation:i,unresolving:r,messageCompiler:a,fallbackLocale:s,messages:o}=e,[l,c]=Sj(...t),u=(oM(c.missingWarn)?c.missingWarn:e.missingWarn,oM(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,oM(c.escapeParameter)?c.escapeParameter:e.escapeParameter),d=!!c.resolvedMessage,h=sM(c.default)||oM(c.default)?oM(c.default)?a?l:()=>l:c.default:n?a?l:()=>l:null,p=n||null!=h&&(sM(h)||aM(h)),f=TN(e,c);u&&function(e){rM(e.list)?e.list=e.list.map(e=>sM(e)?eM(e):e):lM(e.named)&&Object.keys(e.named).forEach(t=>{sM(e.named[t])&&(e.named[t]=eM(e.named[t]))})}(c);let[m,g,v]=d?[l,f,o[f]||QR()]:_j(e,l,f,s),y=m,b=l;if(d||sM(y)||QM(y)||yj(y)||p&&(y=h,b=y),!(d||(sM(y)||QM(y)||yj(y))&&sM(g)))return r?NN:l;let _=!1;const T=yj(y)?y:Tj(e,l,g,y,b,()=>{_=!0});if(_)return y;const S=function(e,t,n,i){const{modifiers:r,pluralRules:a,messageResolver:s,fallbackLocale:o,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,d=(i,r)=>{let a=s(n,i);if(null==a&&(u||r)){const[,,n]=_j(u||e,i,t,o);a=s(n,i)}if(sM(a)||QM(a)){let n=!1;const r=Tj(e,i,t,a,i,()=>{n=!0});return n?vj:r}return yj(a)?a:vj},h={locale:t,modifiers:r,pluralRules:a,messages:d};return e.processor&&(h.processor=e.processor),i.list&&(h.list=i.list),i.named&&(h.named=i.named),HR(i.plural)&&(h.pluralIndex=i.plural),h}(e,g,v,c),w=function(e,t,n){const i=t(n);return i}(0,T,gj(S));let A=i?i(w,l):w;if(u&&sM(A)&&(A=function(e){return e=(e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(e,t,n)=>`${t}="${tM(n)}"`)).replace(/(\w+)\s*=\s*'([^']*)'/g,(e,t,n)=>`${t}='${tM(n)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(t=>{e=e.replace(t,"$1javascript&#58;")}),e}(A)),__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:sM(l)?l:yj(y)?y.key:"",locale:g||(yj(y)?y.locale:""),format:sM(y)?y:yj(y)?y.source:"",message:A};t.meta=YR({},e.__meta,HN()||{}),vN(t)}return A}function _j(e,t,n,i,r,a){const{messages:s,onWarn:o,messageResolver:l,localeFallbacker:c}=e,u=c(e,i,n);let d,h=QR(),p=null;for(let f=0;f<u.length&&(d=u[f],h=s[d]||QR(),null===(p=l(h,t))&&(p=h[t]),!(sM(p)||QM(p)||yj(p)));f++)if(!tj(d,u)){const n=JN(e,t,d,0,"translate");n!==t&&(p=n)}return[p,d,h]}function Tj(e,t,n,i,r,a){const{messageCompiler:s,warnHtmlMessage:o}=e;if(yj(i)){const e=i;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==s){const e=()=>i;return e.locale=n,e.key=t,e}const l=s(i,function(e,t,n,i,r,a){return{locale:t,key:n,warnHtmlMessage:r,onError:e=>{throw a&&a(e),e},onCacheKey:e=>qR(t,n,e)}}(0,n,r,0,o,a));return l.locale=n,l.key=t,l.source=i,l}function Sj(...e){const[t,n,i]=e,r=QR();if(!(sM(t)||HR(t)||yj(t)||QM(t)))throw _N(bN.INVALID_ARGUMENT);const a=HR(t)?String(t):(yj(t),t);return HR(n)?r.plural=n:sM(n)?r.default=n:hM(n)&&!XR(n)?r.named=n:rM(n)&&(r.list=n),HR(i)?r.plural=i:sM(i)?r.default=i:hM(i)&&YR(r,i),[a,r]}"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(ZR().__INTLIFY_PROD_DEVTOOLS__=!1);
/*!
        * vue-i18n v11.1.12
        * (c) 2025 kazuya kawaguchi
        * Released under the MIT License.
        */
const wj="11.1.12",Aj={UNEXPECTED_RETURN_TYPE:24,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function kj(e,...t){return DM(e,null,void 0)}const xj=VR("__translateVNode"),Cj=VR("__datetimeParts"),Ej=VR("__numberParts"),Oj=VR("__setPluralRules"),Ij=VR("__injectWithOption"),Dj=VR("__dispose");function Pj(e){if(!lM(e))return e;if(QM(e))return e;for(const t in e)if(iM(e,t))if(t.includes(".")){const n=t.split("."),i=n.length-1;let r=e,a=!1;for(let e=0;e<i;e++){if("__proto__"===n[e])throw new Error(`unsafe key: ${n[e]}`);if(n[e]in r||(r[n[e]]=QR()),!lM(r[n[e]])){a=!0;break}r=r[n[e]]}if(a||(QM(r)?cN.includes(n[i])||delete e[t]:(r[n[i]]=e[t],delete e[t])),!QM(r)){const e=r[n[i]];lM(e)&&Pj(e)}}else lM(e[t])&&Pj(e[t]);return e}function Lj(e,t){const{messages:n,__i18n:i,messageResolver:r,flatJson:a}=t,s=hM(n)?n:rM(i)?QR():{[e]:QR()};if(rM(i)&&i.forEach(e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(s[t]=s[t]||QR(),mM(n,s[t])):mM(n,s)}else sM(e)&&mM(JSON.parse(e),s)}),null==r&&a)for(const o in s)iM(s,o)&&Pj(s[o]);return s}function Rj(e){return e.type}function Mj(e){return Qr(Mr,null,e,0)}const Nj="__INTLIFY_META__",jj=()=>[],Bj=()=>!1;let Fj=0;function Uj(e){return(t,n,i,r)=>e(n,i,ua()||void 0,r)}const $j=()=>{const e=ua();let t=null;return e&&(t=Rj(e)[Nj])?{[Nj]:t}:null};function Vj(e={}){const{__root:t,__injectWithOption:n}=e,i=void 0===t,r=e.flatJson,a=$R?St:wt;let s=!oM(e.inheritLocale)||e.inheritLocale;const o=a(t&&s?t.locale.value:sM(e.locale)?e.locale:jN),l=a(t&&s?t.fallbackLocale.value:sM(e.fallbackLocale)||rM(e.fallbackLocale)||hM(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:o.value),c=a(Lj(o.value,e)),u=a(hM(e.datetimeFormats)?e.datetimeFormats:{[o.value]:{}}),d=a(hM(e.numberFormats)?e.numberFormats:{[o.value]:{}});let h=t?t.missingWarn:!oM(e.missingWarn)&&!GR(e.missingWarn)||e.missingWarn,p=t?t.fallbackWarn:!oM(e.fallbackWarn)&&!GR(e.fallbackWarn)||e.fallbackWarn,f=t?t.fallbackRoot:!oM(e.fallbackRoot)||e.fallbackRoot,m=!!e.fallbackFormat,g=aM(e.missing)?e.missing:null,v=aM(e.missing)?Uj(e.missing):null,y=aM(e.postTranslation)?e.postTranslation:null,b=t?t.warnHtmlMessage:!oM(e.warnHtmlMessage)||e.warnHtmlMessage,_=!!e.escapeParameter;const T=t?t.modifiers:hM(e.modifiers)?e.modifiers:{};let S,w=e.pluralRules||t&&t.pluralRules;S=(()=>{i&&GN(null);const t={version:wj,locale:o.value,fallbackLocale:l.value,messages:c.value,modifiers:T,pluralRules:w,missing:null===v?void 0:v,missingWarn:h,fallbackWarn:p,fallbackFormat:m,unresolving:!0,postTranslation:null===y?void 0:y,warnHtmlMessage:b,escapeParameter:_,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};t.datetimeFormats=u.value,t.numberFormats=d.value,t.__datetimeFormatters=hM(S)?S.__datetimeFormatters:void 0,t.__numberFormatters=hM(S)?S.__numberFormatters:void 0;const n=KN(t);return i&&GN(n),n})(),ZN(S,o.value,l.value);const A=Sa({get:()=>o.value,set:e=>{S.locale=e,o.value=e}}),k=Sa({get:()=>l.value,set:e=>{S.fallbackLocale=e,l.value=e,ZN(S,o.value,e)}}),x=Sa(()=>c.value),C=Sa(()=>u.value),E=Sa(()=>d.value),O=(e,n,r,a,s,h)=>{let p;o.value,l.value,c.value,u.value,d.value;try{__INTLIFY_PROD_DEVTOOLS__&&zN($j()),i||(S.fallbackContext=t?XN():void 0),p=e(S)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(S.fallbackContext=void 0)}if("translate exists"!==r&&HR(p)&&p===NN||"translate exists"===r&&!p){const[e,i]=n();return t&&f?a(t):s(e)}if(h(p))return p;throw kj(Aj.UNEXPECTED_RETURN_TYPE)};function I(...e){return O(t=>Reflect.apply(bj,null,[t,...e]),()=>Sj(...e),"translate",t=>Reflect.apply(t.t,t,[...e]),e=>e,e=>sM(e))}const D={normalize:function(e){return e.map(e=>sM(e)||HR(e)||oM(e)?Mj(String(e)):e)},interpolate:e=>e,type:"vnode"};function P(e){return c.value[e]||{}}Fj++,t&&$R&&(_r(t.locale,e=>{s&&(o.value=e,S.locale=e,ZN(S,o.value,l.value))}),_r(t.fallbackLocale,e=>{s&&(l.value=e,S.fallbackLocale=e,ZN(S,o.value,l.value))}));const L={id:Fj,locale:A,fallbackLocale:k,get inheritLocale(){return s},set inheritLocale(e){s=e,e&&t&&(o.value=t.locale.value,l.value=t.fallbackLocale.value,ZN(S,o.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:x,get modifiers(){return T},get pluralRules(){return w||{}},get isGlobal(){return i},get missingWarn(){return h},set missingWarn(e){h=e,S.missingWarn=h},get fallbackWarn(){return p},set fallbackWarn(e){p=e,S.fallbackWarn=p},get fallbackRoot(){return f},set fallbackRoot(e){f=e},get fallbackFormat(){return m},set fallbackFormat(e){m=e,S.fallbackFormat=m},get warnHtmlMessage(){return b},set warnHtmlMessage(e){b=e,S.warnHtmlMessage=e},get escapeParameter(){return _},set escapeParameter(e){_=e,S.escapeParameter=e},t:I,getLocaleMessage:P,setLocaleMessage:function(e,t){if(r){const n={[e]:t};for(const e in n)iM(n,e)&&Pj(n[e]);t=n[e]}c.value[e]=t,S.messages=c.value},mergeLocaleMessage:function(e,t){c.value[e]=c.value[e]||{};const n={[e]:t};if(r)for(const i in n)iM(n,i)&&Pj(n[i]);mM(t=n[e],c.value[e]),S.messages=c.value},getPostTranslationHandler:function(){return aM(y)?y:null},setPostTranslationHandler:function(e){y=e,S.postTranslation=e},getMissingHandler:function(){return g},setMissingHandler:function(e){null!==e&&(v=Uj(e)),g=e,S.missing=v},[Oj]:function(e){w=e,S.pluralRules=w}};return L.datetimeFormats=C,L.numberFormats=E,L.rt=function(...e){const[t,n,i]=e;if(i&&!lM(i))throw kj(Aj.INVALID_ARGUMENT);return I(t,n,YR({resolvedMessage:!0},i||{}))},L.te=function(e,t){return O(()=>{if(!e)return!1;const n=P(sM(t)?t:o.value),i=S.messageResolver(n,e);return QM(i)||yj(i)||sM(i)},()=>[e],"translate exists",n=>Reflect.apply(n.te,n,[e,t]),Bj,e=>oM(e))},L.tm=function(e){const n=function(e){let t=null;const n=kN(S,l.value,o.value);for(let i=0;i<n.length;i++){const r=c.value[n[i]]||{},a=S.messageResolver(r,e);if(null!=a){t=a;break}}return t}(e);return null!=n?n:t&&t.tm(e)||{}},L.d=function(...e){return O(t=>Reflect.apply(nj,null,[t,...e]),()=>rj(...e),"datetime format",t=>Reflect.apply(t.d,t,[...e]),()=>BN,e=>sM(e)||rM(e))},L.n=function(...e){return O(t=>Reflect.apply(sj,null,[t,...e]),()=>lj(...e),"number format",t=>Reflect.apply(t.n,t,[...e]),()=>BN,e=>sM(e)||rM(e))},L.getDateTimeFormat=function(e){return u.value[e]||{}},L.setDateTimeFormat=function(e,t){u.value[e]=t,S.datetimeFormats=u.value,aj(S,e,t)},L.mergeDateTimeFormat=function(e,t){u.value[e]=YR(u.value[e]||{},t),S.datetimeFormats=u.value,aj(S,e,t)},L.getNumberFormat=function(e){return d.value[e]||{}},L.setNumberFormat=function(e,t){d.value[e]=t,S.numberFormats=d.value,cj(S,e,t)},L.mergeNumberFormat=function(e,t){d.value[e]=YR(d.value[e]||{},t),S.numberFormats=d.value,cj(S,e,t)},L[Ij]=n,L[xj]=function(...e){return O(t=>{let n;const i=t;try{i.processor=D,n=Reflect.apply(bj,null,[i,...e])}finally{i.processor=null}return n},()=>Sj(...e),"translate",t=>t[xj](...e),e=>[Mj(e)],e=>rM(e))},L[Cj]=function(...e){return O(t=>Reflect.apply(nj,null,[t,...e]),()=>rj(...e),"datetime format",t=>t[Cj](...e),jj,e=>sM(e)||rM(e))},L[Ej]=function(...e){return O(t=>Reflect.apply(sj,null,[t,...e]),()=>lj(...e),"number format",t=>t[Ej](...e),jj,e=>sM(e)||rM(e))},L}const qj={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function zj(){return Rr}const Hj=Bn({name:"i18n-t",props:YR({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>HR(e)||!isNaN(e)}},qj),setup(e,t){const{slots:n,attrs:i}=t,r=e.i18n||tB({useScope:e.scope,__useComponent:!0});return()=>{const a=Object.keys(n).filter(e=>"_"!==e[0]),s=QR();e.locale&&(s.locale=e.locale),void 0!==e.plural&&(s.plural=sM(e.plural)?+e.plural:e.plural);const o=function({slots:e},t){return 1===t.length&&"default"===t[0]?(e.default?e.default():[]).reduce((e,t)=>[...e,...t.type===Rr?t.children:[t]],[]):t.reduce((t,n)=>{const i=e[n];return i&&(t[n]=i()),t},QR())}(t,a),l=r[xj](e.keypath,o,s),c=YR(QR(),i);return wa(sM(e.tag)||lM(e.tag)?e.tag:zj(),c,l)}}}),Wj=Hj;function Gj(e,t,n,i){const{slots:r,attrs:a}=t;return()=>{const t={part:!0};let s=QR();e.locale&&(t.locale=e.locale),sM(e.format)?t.key=e.format:lM(e.format)&&(sM(e.format.key)&&(t.key=e.format.key),s=Object.keys(e.format).reduce((t,i)=>n.includes(i)?YR(QR(),t,{[i]:e.format[i]}):t,QR()));const o=i(e.value,t,s);let l=[t.key];rM(o)?l=o.map((e,t)=>{const n=r[e.type],i=n?n({[e.type]:e.value,index:t,parts:o}):[e.value];var a;return rM(a=i)&&!sM(a[0])&&(i[0].key=`${e.type}-${t}`),i}):sM(o)&&(l=[o]);const c=YR(QR(),a);return wa(sM(e.tag)||lM(e.tag)?e.tag:zj(),c,l)}}const Xj=Bn({name:"i18n-n",props:YR({value:{type:Number,required:!0},format:{type:[String,Object]}},qj),setup(e,t){const n=e.i18n||tB({useScope:e.scope,__useComponent:!0});return Gj(e,t,oj,(...e)=>n[Ej](...e))}}),Yj=Xj;function Kj(e){if(sM(e))return{path:e};if(hM(e)){if(!("path"in e))throw kj(Aj.REQUIRED_VALUE);return e}throw kj(Aj.INVALID_VALUE)}function Qj(e){const{path:t,locale:n,args:i,choice:r,plural:a}=e,s={},o=i||{};return sM(n)&&(s.locale=n),HR(r)&&(s.plural=r),HR(a)&&(s.plural=a),[t,o,s]}function Jj(e,t,...n){const i=hM(n[0])?n[0]:{};(!oM(i.globalInstall)||i.globalInstall)&&([Wj.name,"I18nT"].forEach(t=>e.component(t,Wj)),[Yj.name,"I18nN"].forEach(t=>e.component(t,Yj)),[aB.name,"I18nD"].forEach(t=>e.component(t,aB))),e.directive("t",function(e){const t=t=>{const{instance:n,value:i}=t;if(!n||!n.$)throw kj(Aj.UNEXPECTED_ERROR);const r=function(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const i=n.__getInstance(t);return null!=i?i.__composer:e.global.__composer}}(e,n.$),a=Kj(i);return[Reflect.apply(r.t,r,[...Qj(a)]),r]};return{created:(n,i)=>{const[r,a]=t(i);$R&&e.global===a&&(n.__i18nWatcher=_r(a.locale,()=>{i.instance&&i.instance.$forceUpdate()})),n.__composer=a,n.textContent=r},unmounted:e=>{$R&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},beforeUpdate:(e,{value:t})=>{if(e.__composer){const n=e.__composer,i=Kj(t);e.textContent=Reflect.apply(n.t,n,[...Qj(i)])}},getSSRProps:e=>{const[n]=t(e);return{textContent:n}}}}(t))}const Zj=VR("global-vue-i18n");function eB(e={}){const t=!oM(e.globalInjection)||e.globalInjection,n=new Map,[i,r]=function(e){const t=te(),n=t.run(()=>Vj(e));if(null==n)throw kj(Aj.UNEXPECTED_ERROR);return[t,n]}(e),a=VR(""),s={get mode(){return"composition"},async install(e,...n){if(e.__VUE_I18N_SYMBOL__=a,e.provide(e.__VUE_I18N_SYMBOL__,s),hM(n[0])){const e=n[0];s.__composerExtend=e.__composerExtend,s.__vueI18nExtend=e.__vueI18nExtend}let i=null;t&&(i=function(e,t){const n=Object.create(null);nB.forEach(e=>{const i=Object.getOwnPropertyDescriptor(t,e);if(!i)throw kj(Aj.UNEXPECTED_ERROR);const r=Tt(i.value)?{get:()=>i.value.value,set(e){i.value.value=e}}:{get:()=>i.get&&i.get()};Object.defineProperty(n,e,r)}),e.config.globalProperties.$i18n=n,iB.forEach(n=>{const i=Object.getOwnPropertyDescriptor(t,n);if(!i||!i.value)throw kj(Aj.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,i)});const i=()=>{delete e.config.globalProperties.$i18n,iB.forEach(t=>{delete e.config.globalProperties[`$${t}`]})};return i}(e,s.global)),Jj(e,s,...n);const r=e.unmount;e.unmount=()=>{i&&i(),s.dispose(),r()}},get global(){return r},dispose(){i.stop()},__instances:n,__getInstance:function(e){return n.get(e)||null},__setInstance:function(e,t){n.set(e,t)},__deleteInstance:function(e){n.delete(e)}};return s}function tB(e={}){const t=ua();if(null==t)throw kj(Aj.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw kj(Aj.NOT_INSTALLED);const n=function(e){const t=Xi(e.isCE?Zj:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw kj(e.isCE?Aj.NOT_INSTALLED_WITH_PROVIDE:Aj.UNEXPECTED_ERROR);return t}(t),i=function(e){return"composition"===e.mode?e.global:e.global.__composer}(n),r=Rj(t),a=function(e,t){return XR(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}(e,r);if("global"===a)return function(e,t,n){let i=lM(t.messages)?t.messages:QR();"__i18nGlobal"in n&&(i=Lj(e.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const r=Object.keys(i);if(r.length&&r.forEach(t=>{e.mergeLocaleMessage(t,i[t])}),lM(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])})}if(lM(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(n=>{e.mergeNumberFormat(n,t.numberFormats[n])})}}(i,e,r),i;if("parent"===a){let r=function(e,t,n=!1){let i=null;const r=t.root;let a=function(e,t=!1){return null==e?null:t&&e.vnode.ctx||e.parent}(t,n);for(;null!=a;){const t=e;if("composition"===e.mode&&(i=t.__getInstance(a)),null!=i)break;if(r===a)break;a=a.parent}return i}(n,t,e.__useComponent);return null==r&&(r=i),r}const s=n;let o=s.__getInstance(t);if(null==o){const n=YR({},e);"__i18n"in r&&(n.__i18n=r.__i18n),i&&(n.__root=i),o=Vj(n),s.__composerExtend&&(o[Dj]=s.__composerExtend(o)),function(e,t,n){ai(()=>{},t),ci(()=>{const i=n;e.__deleteInstance(t);const r=i[Dj];r&&(r(),delete i[Dj])},t)}(s,t,o),s.__setInstance(t,o)}return o}const nB=["locale","fallbackLocale","availableLocales"],iB=["t","rt","d","n","tm","te"],rB=Bn({name:"i18n-d",props:YR({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},qj),setup(e,t){const n=e.i18n||tB({useScope:e.scope,__useComponent:!0});return Gj(e,t,ij,(...e)=>n[Cj](...e))}}),aB=rB;var sB,oB;if("boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(ZR().__INTLIFY_PROD_DEVTOOLS__=!1),sB=function(e,t){if(sM(e)){!oM(t.warnHtmlMessage)||t.warnHtmlMessage;const n=(t.onCacheKey||fN)(e),i=mN[n];if(i)return i;const{ast:r,detectError:a}=function(e,t={}){let n=!1;const i=t.onError||PM;return t.onError=e=>{n=!0,i(e)},{...KM(e,t),detectError:n}}(e,{...t,location:!1,jit:!0}),s=dN(r);return a?s:mN[n]=s}{const t=e.cacheKey;if(t){const n=mN[t];return n||(mN[t]=dN(e))}return dN(e)}},UN=sB,oB=function(e,t){if(!lM(e))return null;let n=LN.get(t);if(n||(n=function(e){const t=[];let n,i,r,a,s,o,l,c=-1,u=0,d=0;const h=[];function p(){const t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,r="\\"+t,h[0](),!0}for(h[0]=()=>{void 0===i?i=r:i+=r},h[1]=()=>{void 0!==i&&(t.push(i),i=void 0)},h[2]=()=>{h[0](),d++},h[3]=()=>{if(d>0)d--,u=4,h[0]();else{if(d=0,void 0===i)return!1;if(i=PN(i),!1===i)return!1;h[1]()}};null!==u;)if(c++,n=e[c],"\\"!==n||!p()){if(a=DN(n),l=ON[u],s=l[a]||l.l||8,8===s)return;if(u=s[0],void 0!==s[1]&&(o=h[s[1]],o&&(r=n,!1===o())))return;if(7===u)return t}}(t),n&&LN.set(t,n)),!n)return null;const i=n.length;let r=e,a=0;for(;a<i;){const e=n[a];if(cN.includes(e)&&QM(r))return null;const t=r[e];if(void 0===t)return null;if(aM(r))return null;r=t,a++}return r},$N=oB,VN=kN,__INTLIFY_PROD_DEVTOOLS__){const e=ZR();e.__INTLIFY__=!0,function(e){gN=e}(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const lB=Bn({__name:"NavBar",setup(e){const t=wO(),n=SO(),i=VO();function r(){window.history.state.back?history.back():n.replace("/")}const{t:a}=tB(),s=Sa(()=>t.meta?t.meta.i18n?a(t.meta.i18n):t.meta.title||"":""),o=Sa(()=>t.name&&fA.includes(t.name)),l=Sa(()=>t.name&&!0!==t.meta.hideNavBar),c=Sa(()=>t.name&&void 0!==t.meta.tabs),u=BR(),d=St(""),h=["dutyManagement"];function p(e){const t=u?.value["click-tab"];try{u?.value?.children?.length&&(h.includes(e?.name)||FR(u.value.children,e?.name))}catch{}t&&(i.clearEvent(),i.triggerEvent(t,e))}return _r(()=>u.value,e=>{if(!(e.children&&e.children.length>0))return void(d.value="");const t=e.active||e.children[0].name;if(!d.value)return d.value=t,void p({name:d.value});e.active&&e.active!==d.value&&(d.value=e.active)},{immediate:!0}),(e,t)=>{const n=ju,i=Bu,a=kg;return xt(l)?(Ur(),Hr(a,{id:"navbar",key:xt(s),title:xt(s),fixed:!0,clickable:"",placeholder:"","left-arrow":!xt(o),onClickLeft:r},wi({_:2},[xt(c)?{name:"title",fn:cn(()=>[Qr(i,aa(xt(u)&&"object"==typeof xt(u)?xt(LR)(xt(u),"children"):{},{active:xt(d),"onUpdate:active":t[0]||(t[0]=e=>Tt(d)?d.value=e:null),swipeable:"",ellipsis:!1,onClickTab:p}),{default:cn(()=>[(Ur(!0),zr(Rr,null,Si(xt(u).children,e=>(Ur(),Hr(n,{key:e.name,name:e.name,title:e.title||`${e.name}`},null,8,["name","title"]))),128))]),_:1},16,["active"])]),key:"0"}:void 0]),1032,["title","left-arrow"])):ta("",!0)}}}),cB=e("a5",function(e={}){const{valueDark:t="dark",valueLight:n=""}=e,i=function(e={}){const{selector:t="html",attribute:n="class",initialValue:i="auto",window:r=ek,storage:a,storageKey:s="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:l,emitAuto:c,disableTransition:u=!0}=e,d={auto:"",light:"light",dark:"dark",...e.modes||{}},h=hk({window:r}),p=Sa(()=>h.value?"dark":"light"),f=l||(null==s?GA(i):mk(s,i,a,{window:r,listenToStorageChanges:o})),m=Sa(()=>"auto"===f.value?p.value:f.value),g=dk("updateHTMLAttrs",(e,t,n)=>{const i="string"==typeof e?null==r?void 0:r.document.querySelector(e):tk(e);if(!i)return;const a=new Set,s=new Set;let o,l=null;if("class"===t){const e=n.split(/\s/g);Object.values(d).flatMap(e=>(e||"").split(/\s/g)).filter(Boolean).forEach(t=>{e.includes(t)?a.add(t):s.add(t)})}else l={key:t,value:n};if(0!==a.size||0!==s.size||null!==l){u&&(o=r.document.createElement("style"),o.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),r.document.head.appendChild(o));for(const e of a)i.classList.add(e);for(const e of s)i.classList.remove(e);l&&i.setAttribute(l.key,l.value),u&&(r.getComputedStyle(o).opacity,document.head.removeChild(o))}});function v(e){var i;g(t,n,null!=(i=d[e])?i:e)}function y(t){e.onChanged?e.onChanged(t,v):v(t)}_r(m,y,{flush:"post",immediate:!0}),ZA(()=>y(m.value));const b=Sa({get:()=>c?f.value:m.value,set(e){f.value=e}});return Object.assign(b,{store:f,system:p,state:m})}({...e,onChanged:(t,n)=>{var i;e.onChanged?null==(i=e.onChanged)||i.call(e,"dark"===t,n,t):n(t)},modes:{dark:t,light:n}}),r=Sa(()=>i.system.value),a=Sa({get:()=>"dark"===i.value,set(e){const t=e?"dark":"light";r.value===t?i.value="auto":i.value=t}});return a}()),uB=hk(),dB={class:"app-wrapper"},hB=Bn({__name:"App",setup(e){pA({title:"",meta:[{name:"description",content:"An mobile web apps template based on the Vue 3 ecosystem"},{name:"theme-color",content:()=>cB.value?"#00aba9":"#ffffff"}],link:[{rel:"icon",type:"image/png",href:()=>(uB.value,"/saveus_logo_72.png")}]});const t=$O(),n=Sa(()=>t.routeCaches),i=Sa(()=>cB.value?"dark":"light");ci(()=>{UO().stopOnlineTimer()});const r={floatingBubbleSize:"48px",floatingBubbleIconSize:"24px"};return(e,t)=>{const a=lB,s=gi("router-view"),o=XO,l=of;return Ur(),Hr(l,{theme:xt(i),"theme-vars":r},{default:cn(()=>[Qr(a),Qr(s,null,{default:cn(({Component:e})=>[Kr("section",dB,[(Ur(),Hr(Xn,{include:xt(n)},[(Ur(),Hr(yi(e)))],1032,["include"]))])]),_:1}),Qr(o)]),_:1},8,["theme"])}}}),pB=e("v",(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n}),fB=pB(hB,[["__scopeId","data-v-08517e76"]]),mB=e("aH",(e,t,n)=>{const i=e[t];return i?"function"==typeof i?i():Promise.resolve(i):new Promise((e,i)=>{("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})}),gB="zh-CN",vB={"zh-CN":nl,"en-US":{name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(e,t)=>`${e}/${t}`,rangePrompt:e=>`Choose no more than ${e} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:e=>10*e+"% off",condition:e=>`At least ${e}`},vanCouponCell:{title:"Coupon",count:e=>`You have ${e} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}}},yB=[{text:"",value:"zh-CN"},{text:"English",value:"en-US"}],bB=function(){const e=function(){const e=localStorage.getItem("language")||navigator.language,t=yB.map(e=>e.value),n=t.find(t=>t===e||0===t.indexOf(e)),i=n||gB;return i}(),t=eB({locale:e});return _B(e,t),t}();async function _B(e,n){await async function(e,n){const i=await mB(Object.assign({"../locales/en-US.json":()=>AO(()=>t.import("./en-US-legacy-DOWNjsUD.js"),void 0,t.meta.url),"../locales/zh-CN.json":()=>AO(()=>t.import("./zh-CN-legacy-C3DbphXA.js"),void 0,t.meta.url)}),`../locales/${e}.json`,3);n.global.setLocaleMessage(e,i.default)}(e,n),document.querySelector("html").setAttribute("lang",e),localStorage.setItem("language",e),n.global.locale.value=e,al.use(e,vB[e])}Sa({get:()=>bB.global.locale.value,set(e){_B(e,bB)}});var TB,SB={exports:{}},wB=(TB||(TB=1,function(e){e.exports=function(){var e=1e3,t=6e4,n=36e5,i="millisecond",r="second",a="minute",s="hour",o="day",l="week",c="month",u="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),i=Math.floor(n/60),r=n%60;return(t<=0?"+":"-")+v(i,2,"0")+":"+v(r,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var i=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(i,c),a=n-r<0,s=t.clone().add(i+(a?-1:1),c);return+(-(i+(n-r)/(a?r-s:s-r))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:o,D:h,h:s,m:a,s:r,ms:i,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",_={};_[b]=g;var T="$isDayjsObject",S=function(e){return e instanceof x||!(!e||!e[T])},w=function e(t,n,i){var r;if(!t)return b;if("string"==typeof t){var a=t.toLowerCase();_[a]&&(r=a),n&&(_[a]=n,r=a);var s=t.split("-");if(!r&&s.length>1)return e(s[0])}else{var o=t.name;_[o]=t,r=o}return!i&&r&&(b=r),r||!i&&b},A=function(e,t){if(S(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new x(n)},k=y;k.l=w,k.i=S,k.w=function(e,t){return A(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var x=function(){function g(e){this.$L=w(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[T]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(f);if(i){var r=i[2]-1||0,a=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return k},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=A(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return A(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<A(e)},v.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,i=!!k.u(t)||t,u=k.p(e),p=function(e,t){var r=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return i?r:r.endOf(o)},f=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return i?p(1,0):p(31,11);case c:return i?p(1,g):p(0,g+1);case l:var b=this.$locale().weekStart||0,_=(m<b?m+7:m)-b;return p(i?v-_:v+(6-_),g);case o:case h:return f(y+"Hours",0);case s:return f(y+"Minutes",1);case a:return f(y+"Seconds",2);case r:return f(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=k.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[o]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[a]=u+"Minutes",n[r]=u+"Seconds",n[i]=u+"Milliseconds",n)[l],f=l===o?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[k.p(e)]()},v.add=function(i,u){var h,p=this;i=Number(i);var f=k.p(u),m=function(e){var t=A(p);return k.w(t.date(t.date()+Math.round(e*i)),p)};if(f===c)return this.set(c,this.$M+i);if(f===d)return this.set(d,this.$y+i);if(f===o)return m(1);if(f===l)return m(7);var g=(h={},h[a]=t,h[s]=n,h[r]=e,h)[f]||1,v=this.$d.getTime()+i*g;return k.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var i=e||"YYYY-MM-DDTHH:mm:ssZ",r=k.z(this),a=this.$H,s=this.$m,o=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,r,a){return e&&(e[n]||e(t,i))||r[n].slice(0,a)},h=function(e){return k.s(a%12||12,e,"0")},f=u||function(e,t,n){var i=e<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(m,function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return k.s(t.$y,4,"0");case"M":return o+1;case"MM":return k.s(o+1,2,"0");case"MMM":return d(n.monthsShort,o,c,3);case"MMMM":return d(c,o);case"D":return t.$D;case"DD":return k.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return k.s(a,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(a,s,!0);case"A":return f(a,s,!1);case"m":return String(s);case"mm":return k.s(s,2,"0");case"s":return String(t.$s);case"ss":return k.s(t.$s,2,"0");case"SSS":return k.s(t.$ms,3,"0");case"Z":return r}return null}(e)||r.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,h,p){var f,m=this,g=k.p(h),v=A(i),y=(v.utcOffset()-this.utcOffset())*t,b=this-v,_=function(){return k.m(m,v)};switch(g){case d:f=_()/12;break;case c:f=_();break;case u:f=_()/3;break;case l:f=(b-y)/6048e5;break;case o:f=(b-y)/864e5;break;case s:f=b/n;break;case a:f=b/t;break;case r:f=b/e;break;default:f=b}return p?f:k.a(f)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return _[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),i=w(e,t,!0);return i&&(n.$L=i),n},v.clone=function(){return k.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),C=x.prototype;return A.prototype=C,[["$ms",i],["$s",r],["$m",a],["$H",s],["$W",o],["$M",c],["$y",d],["$D",h]].forEach(function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),A.extend=function(e,t){return e.$i||(e(t,x,A),e.$i=!0),A},A.locale=w,A.isDayjs=S,A.unix=function(e){return A(1e3*e)},A.en=_[b],A.Ls=_,A.p={},A}()}(SB)),SB.exports);const AB=e("p",CO(wB)),kB=e("B",Bn({inheritAttrs:!1,__name:"v-datetime-picker",props:{modelValue:String,placeholder:String,disabled:Boolean,title:String,label:String,minDate:Date,maxDate:Date,format:{type:String,default:"YYYY-MM-DD HH:mm"},readonly:{type:Boolean,default:!1},formCreateInject:Object},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,i=t,r=St(!1),a=St([]),s=St([]),o=Sa(()=>n.modelValue||""),l=Sa(()=>/H{1,2}|m{1,2}|s{1,2}/.test(n.format));function c(){const[e,t,o]=a.value;let c="";if(l.value){const[n,i]=s.value;c=`${e}-${t}-${o} ${n}:${i}`}else c=a.value.join("-");const u=function(e){return e?e.replace(/yyyy/g,"YYYY").replace(/dd/g,"DD").replace(/hh/g,"HH"):"YYYY-MM-DD HH:mm"}(n.format),d=AB(c).format(u);i("update:modelValue",d),i("change",d);const h=n.formCreateInject?.api,p=n.formCreateInject?.rule;try{h&&p&&("date_8"!==p.field&&""!==p.title||"function"==typeof h.parent.setValue&&h.parent.setValue("date_10",d),"date_9"!==p.field&&""!==p.title||"function"==typeof h.parent.setValue&&h.parent.setValue("date_11",d))}catch(xZ){}r.value=!1}function u(){r.value=!1}function d(e){return String(e).padStart(2,"0")}function h(e){const t=e.toUpperCase(),n=[];return t.includes("Y")&&n.push("year"),t.includes("M")&&n.push("month"),t.includes("D")&&n.push("day"),n.length?n:["year","month","day"]}return _r(()=>n.modelValue,e=>{const t=AB(e||new Date,n.format);if(!t.isValid())return;const i=function(e,t){const n=t.toUpperCase(),i=[],r=[];if(n.includes("Y")){const t=String(e.year());i.push(t),r.push(t)}if(n.includes("M")){const t=String(e.month()+1).padStart(2,"0");i.push(t),r.push(t)}if(n.includes("D")){const t=String(e.date()).padStart(2,"0");i.push(t),r.push(t)}return{arr:i,str:r.join("-")}}(t,n.format);a.value=i.arr,l.value&&(s.value=[d(t.hour()),d(t.minute())])},{immediate:!0}),(t,i)=>{const d=_d,p=em,f=C_,m=sv,g=Pc;return Ur(),zr(Rr,null,[Qr(d,{class:H({"van-field-readonly":e.readonly}),readonly:e.readonly,label:e.title||e.label,"model-value":o.value,placeholder:e.placeholder,disabled:e.disabled,"is-link":!e.readonly,onClick:i[0]||(i[0]=t=>e.readonly?r.value=!1:r.value=!0)},null,8,["class","readonly","label","model-value","placeholder","disabled","is-link"]),Qr(g,{show:r.value,"onUpdate:show":i[4]||(i[4]=e=>r.value=e),position:"bottom"},{default:cn(()=>[l.value?(Ur(),Hr(m,{key:0,title:e.title||"",tabs:["",""],onConfirm:c,onCancel:u},{default:cn(()=>[Qr(p,{modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=e=>a.value=e),"min-date":e.minDate,"max-date":e.maxDate},null,8,["modelValue","min-date","max-date"]),Qr(f,{modelValue:s.value,"onUpdate:modelValue":i[2]||(i[2]=e=>s.value=e)},null,8,["modelValue"])]),_:1},8,["title"])):(Ur(),Hr(p,{key:1,modelValue:a.value,"onUpdate:modelValue":i[3]||(i[3]=e=>a.value=e),"min-date":e.minDate,"max-date":e.maxDate,"columns-type":h(n.format),onConfirm:c,onCancel:u},null,8,["modelValue","min-date","max-date","columns-type"]))]),_:1},8,["show"])],64)}}})),xB=pB(Bn({__name:"v-collapse",props:{title:{},expand:{type:Boolean}},setup(e){const t=St(!1!==e.expand?["1"]:[]);return(n,i)=>{const r=sf,a=ef;return Ur(),Hr(a,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=e=>t.value=e),border:!1,class:"v-collapse"},{default:cn(()=>[Qr(r,{title:e.title,name:"1",border:!1,class:"v-collapse-item"},{default:cn(()=>[Ai(n.$slots,"default",{},void 0,!0)]),_:3},8,["title"])]),_:3},8,["modelValue"])}}}),[["__scopeId","data-v-69bcc890"]]),CB=Bn({__name:"v-sub-input",props:{modelValue:[String,Number],placeholder:String,inputAlign:String,readonly:Boolean,disabled:Boolean,subTitle:String,labelWidth:[String,Number]},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,r=St(n.modelValue);function a(e){r.value=e,i("update:modelValue",e)}return _r(()=>n.modelValue,e=>{r.value=e}),(t,n)=>{const i=_d;return Ur(),Hr(i,{class:H(["v-sub-input",{"van-field-readonly":e.readonly}]),"label-align":"left",label:e.subTitle,"model-value":r.value,placeholder:e.placeholder,readonly:e.readonly,disabled:e.disabled,"label-width":e.labelWidth,"onUpdate:modelValue":a},null,8,["label","model-value","class","placeholder","readonly","disabled","label-width"])}}}),EB=e("S",new class{driver;constructor(e=localStorage){this.driver=e}async set(e,t){return this.driver.setItem(e,JSON.stringify(t)),t}async get(e){const t=this.driver.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return null}}async remove(e){this.driver.removeItem(e)}async clear(){this.driver.clear()}async keys(){return Object.keys(this.driver)}}(localStorage));async function OB(e){return BO.get("/enbase/staff",{params:e})}async function IB(){return await Promise.all([EB.remove("process-params"),EB.remove("process-formData"),EB.remove("process-launch")])}async function DB(e=null){const t=await async function(e=null){const t=await EB.get("process-params"),n=await EB.get("process-formData"),i=await EB.get("process-launch");let r="",a="";t&&"83"===t?.nid?(r=`${AB().format("YYYYMMDDHHmmss")}`,a=n.form_data.dynamic_10?.[0]?.date_7):n?.rule&&n?.rule[0]&&(r=n?.rule[0].props.title);const s=(e=>{if(e.name)return"name";const t=Object.keys(e).filter(e=>/^input_\d+$/.test(e));return t?.length?t.reduce((e,t)=>{const n=Number.parseInt(e.split("_")[1],10);return Number.parseInt(t.split("_")[1],10)<n?t:e}):void 0})(n.form_data);return{...t,app_id:t?.app_id,task_id:t?.task_id||0,...t?.startDataParams,param:"",action:n?.btn?.value,candidate:JSON.stringify(e&&!e?.timepolicy?{[i[i.length-1]?.node_id]:e.candidate}:[]),notice:JSON.stringify(e?e.notice:[]),forms_data:JSON.stringify([n.form_data]),title:r||(s&&n.form_data[s]?n.form_data[s]:""),deadline_start_time:n.form_data.date_2,deadline_time:a||(e?n.form_data.date_3?.split(" ")[0]:n.form_data.date_3),sign:t?.formJson?.sign,timepolicy:e?.timepolicy?JSON.stringify(e?.timepolicy):null}}(e),n=new FormData;return CR(t,(e,t)=>{"timepolicy"===t?e&&n.append(t,e):n.append(t,e)}),BO.post("/process/launch",n)}async function PB(e){return BO.get("/enemergency/plan_list",{params:e})}async function LB(e){return BO.get("/tree/get_child",{params:e})}async function RB(e){return BO.get("/encheck/limited_space_list",{params:e})}async function MB(e){const t=await OB({departmentid:0,page:1,page_size:1e3});return"inputselect"===e?t.data:[{id:"staff",name:"",children:t.data}]}function NB(e){return"inputselect"===e?{label:"name",value:"name"}:{label:"name",value:"id"}}const jB=e("aW",{WORK_UNIT:async()=>[{id:"WORK_UNIT",title:"",children:await LB({id:"WORK_UNIT",deep:1,enbase:1})}],WORK_UNIT_fieldNames:{label:"title",value:"id"},staff:MB,staff_fieldNames:NB,relevant:async()=>(await async function(e){return BO.get("/enpartner/related_parties_list",{params:e})}({page:1,page_size:1e3,business_type:0})).data,relevant_fieldNames:{label:"company_name",value:"company_name"},workitem:async()=>[{id:"COURSEPROFESSION",title:"",children:await async function(e){return BO.get("/ensafe/license_Item_list",{params:e})}({type:2,work_id:1,page:1})}],workitem_fieldNames:{label:"content",value:"id"},"staff|title":MB,"staff|title_fieldNames":NB,TRAINING_TYPE:async()=>await LB({id:"TRAINING_TYPE",deep:1,enbase:1}),EXAM_TYPE:async()=>await LB({id:"EXAM_TYPE",deep:1,enbase:1}),75:async()=>[{id:"75",title:"",children:await LB({id:"75",deep:1,enbase:1})}],"75_fieldNames":{label:"title",value:"id"},106:async()=>[{id:"75",title:"",children:await LB({id:"106",deep:1,enbase:1})}],"106_fieldNames":{label:"title",value:"id"},27:async()=>[{id:"27",title:"",children:await LB({id:"27",deep:1,enbase:1})}],"27_fieldNames":{label:"title",value:"id"},37:async()=>[{id:"37",title:"",children:await LB({id:"37",deep:1,enbase:1})}],"37_fieldNames":e=>"inputselect"===e?{label:"title",value:"title"}:{label:"title",value:"id"},department:async e=>{const t=UO()?.userInfo,n=await LB({id:t.etp_id,deep:1,enbase:1,is_node:1});return"inputselect"===e?n:[{id:"department",name:"",children:n}]},department_fieldNames:e=>"inputselect"===e?{label:"title",value:"title"}:{label:"title",value:"id"},area:async(e={})=>{const t=e.parent_id||0,n=await async function(e=0){const t=await RB({set_etp_id:"@",type:0,parent_id:e,department_id:0,page:1,page_size:1e4});return t?.data||[]}(t);return 0===t&&"inputselect"!==e?[{id:"0",name:"",children:n}]:n},area_fieldNames:{label:"name",value:"name"},emergency_plan:async()=>{const e=await PB({page:1,page_size:1e4});return[{id:"emergency_plan",name:"",children:e?.data}]},emergency_plan_fieldNames:{label:"name",value:"id"},risk_name:async e=>{const t=await async function(e){return BO.get("/ensafe/risk_group",{params:e})}({category_id:0,department_id:0,area_id:0,level:0});return"inputselect"===e?t?.data:[{id:"risk_name",name:"",children:t?.data}]},risk_name_fieldNames:e=>"inputselect"===e?{label:"name",value:"name"}:{label:"name",value:"id"},course:async e=>{const t=await async function(e){return BO.get("/traincourse/index_list",{params:e})}({course_type:7});return"inputselect"===e?t.data:[{id:"course",title:"",children:t.data}]},course_fieldNames:{label:"title",value:"id"}});function BB(e,t){return t?Array.isArray(e)?e?.map(e=>e.value||e):e||[]:Array.isArray(e)?e[0]?.value||e[0]||"":e??""}function FB(e,t){const n=jB[`${e}_fieldNames`];return SI(n)?n(t):n}const UB={style:{padding:"10px",display:"flex"}},$B={class:"table-header text-white font-semibold sticky z-10"},VB=["onClick"],qB=Bn({__name:"ProList",props:{request:{},dataSource:{},pageSize:{},floating:{},form:{},columns:{},showIndex:{type:Boolean,default:!0},rowKey:{},onRowClick:{},rowSelection:{},cellProps:{}},emits:["update:loading","onFloatingClick","onRowClick","update:form"],setup(e,{expose:t,emit:n}){const i=e,r=n,a=St([]),s=St(!1),o=St(!1),l=St(!1),c=St(1),u=St(i.pageSize||20),d=St(!1),h=St(null),p=St(0),{selectedKeys:f,selectedRows:m,isChecked:g,toggle:v,toggleAll:y}=function({list:e,rowKey:t,disabledKey:n="disabled",type:i="checkbox",selectedKeys:r,defaultSelectedKeys:a=[]}){const s=St(new Set(a)),o=Sa(()=>void 0!==r),l=Sa({get:()=>o.value?new Set(r.value):s.value,set(e){o.value?r.value=Array.from(e):s.value=e}}),c=e=>!!e[n],u=Sa(()=>e.value.filter(e=>l.value.has(e[t]))),d=()=>{if("radio"===i)return;const n=new Set(l.value);e.value.forEach(e=>{c(e)||n.add(e[t])}),l.value=n},h=()=>{l.value=new Set},p=Sa(()=>{if("radio"===i)return!1;const n=e.value.filter(e=>!c(e));return n.length>0&&n.every(e=>l.value.has(e[t]))});return{selectedKeys:Sa(()=>Array.from(l.value)),selectedRows:u,isChecked:e=>l.value.has(e[t]),isAllSelected:p,toggle:(e,n)=>{const r=e[t];if(c(e))return;const a=new Set(l.value),s=!a.has(r);"radio"===i?s?(a.clear(),a.add(r)):a.clear():s?a.add(r):a.delete(r),l.value=a},toggleAll:()=>{p.value?h():d()},clearSelection:h,selectAll:d,setSelectedKeys:e=>{l.value=new Set(e)}}}({list:a,rowKey:i.rowKey||"id",defaultSelectedKeys:i.rowSelection?.defaultSelectedRowKeys||[]});async function b(e=!1){e&&(c.value=1,a.value=[],o.value=!1),s.value=!0,r("update:loading",!0);let t=0;try{const{data:e,total:n}=await i.request({pageNum:c.value,pageSize:u.value,form:i.form||{}});t=n,a.value.push(...e),a.value.length>=n||e.length<u.value?o.value=!0:c.value+=1}finally{u.value>t&&(o.value=!0),s.value=!1,l.value=!1,r("update:loading",!1)}}_r(()=>f.value,e=>{i.rowSelection?.onChange&&i.rowSelection.onChange(e,m.value)},{immediate:!1});const _=()=>b(),T=()=>b(!0);function S(){d.value=!1}ai(()=>{b();const e=document.querySelector("#navbar");e&&setTimeout(()=>{p.value=e.offsetHeight},100)}),t({loadData:b,selectedKeys:f,selectedRows:m,toggleAll:y,reload:()=>b(!0)});const w=document.querySelector("section").offsetWidth-52,A=window.innerHeight-110;function k(e,t){const n=e.align||"left";return e.width?{width:"number"==typeof e.width?`${e.width}px`:e.width,textAlign:n}:0===t?{width:"60px",textAlign:n}:{flex:1,textAlign:n}}const x=Sa(()=>{const e=i.columns.filter(e=>!e.hidden&&""!==e.title);return i?.showIndex?e.some(e=>"__index"===e.key)?e:[{title:"",key:"__index",width:"10%",fixedWidth:!0},...e]:e}),C=ct(JSON.parse(JSON.stringify({...i.form})));function E(){r("update:form",{...C})}function O(){b(!0)}return(t,n)=>{const i=oc,c=cd,u=Pc,f=cu,m=kh,y=ad,b=Tg,C=gy,I=Im;return Ur(),zr("div",{ref_key:"search",ref:h,class:H(t.$style.list)},[e.form?(Ur(),Hr(u,{key:0,show:d.value,"onUpdate:show":n[0]||(n[0]=e=>d.value=e),position:"bottom",onClose:O},{default:cn(()=>[Qr(c,{onSubmit:S},{default:cn(()=>[Ai(t.$slots,"searchForm",{form:e.form},void 0,!0),Kr("div",UB,[Qr(i,{round:"",block:"","native-type":"reset",style:{"margin-right":"8px"},onClick:E},{default:cn(()=>[...n[3]||(n[3]=[ea("  ",-1)])]),_:1}),Qr(i,{round:"",block:"",type:"primary","native-type":"submit"},{default:cn(()=>[...n[4]||(n[4]=[ea("  ",-1)])]),_:1})])]),_:3})]),_:3},8,["show"])):ta("",!0),e.columns&&e.columns.length?(Ur(),Hr(f,{key:1,"offset-top":p.value},{default:cn(()=>[Kr("div",$B,[(Ur(!0),zr(Rr,null,Si(xt(x),(e,t)=>(Ur(),zr("div",{key:e.key,class:H(["header table-cell",{"fixed-width":e.fixedWidth||0===t,no:"__index"===e.key}]),style:U(k(e,t))},Y(e.title),7))),128))])]),_:1},8,["offset-top"])):ta("",!0),Qr(C,{modelValue:l.value,"onUpdate:modelValue":n[2]||(n[2]=e=>l.value=e),style:{"min-height":"90%"},onRefresh:T},{default:cn(()=>[Qr(b,{loading:s.value,"onUpdate:loading":n[1]||(n[1]=e=>s.value=e),finished:o.value,"finished-text":"",onLoad:_},{default:cn(()=>[e.columns&&e.columns.length?(Ur(!0),zr(Rr,{key:0},Si(a.value,(e,n)=>(Ur(),zr("div",{key:n,class:"bg-white table-row hover:bg-gray-50"},[(Ur(!0),zr(Rr,null,Si(xt(x),(i,a)=>(Ur(),zr("div",{key:i.key,class:H(["table-cell",{"fixed-width":i.fixedWidth||0===a}]),style:U(k(i,a)),onClick:t=>function(e,t){r("onRowClick",e,t)}?.(e,n)},["__index"===i.key?(Ur(),zr(Rr,{key:0},[ea(Y(n+1),1)],64)):Ai(t.$slots,`cell-${i.key}`,{key:1,row:e,index:n},()=>{return[i.render?(Ur(),Hr(yi((t=i.render(e[i.key],e,n),Wr(t)?t:wa("span",t))),{key:0})):(Ur(),zr(Rr,{key:1},[ea(Y(e[i.key]),1)],64))];var t},!0)],14,VB))),128))]))),128)):(Ur(!0),zr(Rr,{key:1},Si(a.value,(n,i)=>(Ur(),zr(Rr,{key:i},[e.rowSelection?(Ur(),Hr(y,aa({key:0,ref_for:!0},e.cellProps),{icon:cn(()=>[Qr(m,{"icon-size":"16px","model-value":xt(g)(n),shape:"radio"===e.rowSelection?.type?"round":"square",onClick:e=>xt(v)(n,e)},null,8,["model-value","shape","onClick"])]),title:cn(()=>[Ai(t.$slots,"title",{item:n,index:i},void 0,!0)]),value:cn(()=>[Ai(t.$slots,"value",{item:n,index:i},void 0,!0)]),label:cn(()=>[Ai(t.$slots,"label",{item:n,index:i},void 0,!0)]),"right-icon":cn(()=>[Ai(t.$slots,"right-icon",{item:n,index:i},void 0,!0)]),extra:cn(()=>[Ai(t.$slots,"extra",{item:n,index:i},void 0,!0)]),_:2},1040)):Ai(t.$slots,"row",{key:1,item:n,index:i},void 0,!0)],64))),128))]),_:3},8,["loading","finished"])]),_:3},8,["modelValue"]),e.floating?(Ur(!0),zr(Rr,{key:2},Si(e.floating.slice().reverse(),(e,t)=>(Ur(),Hr(I,{key:e.key,style:{"--van-floating-bubble-size":"34.60px"},offset:{x:w,y:A-45*t},teleport:h.value,icon:e.icon,onClick:t=>function(e,t){e.stopPropagation(),r("onFloatingClick",t),t.onClick&&t.onClick(e),"search"===t.key&&(d.value=!0)}(t,e)},null,8,["offset","teleport","icon","onClick"]))),128)):ta("",!0)],2)}}}),zB=e("_",pB(qB,[["__cssModules",{$style:{list:"_list_210qi_1"}}],["__scopeId","data-v-c756d73c"]])),HB=e("U",Bn({__name:"v-select",props:{modelValue:{},value:{},label:{},placeholder:{},readonly:{type:Boolean},columns:{},options:{},rules:{}},emits:["update:value","update:modelValue"],setup(e,{emit:t}){const n=e,i=t,r=St(!1),a=St([]),s=St(null);function o({selectedValues:e,selectedOptions:t}){r.value=!1,a.value=e,s.value=t[0].text,i("update:value",t[0].value),i("update:modelValue",t[0].value)}function l(e){const t=(n.columns||n.options)?.find(t=>t.value===e);s.value=t?t.text:""}return _r(()=>n.value,e=>{l(e)},{immediate:!0}),_r(()=>n.modelValue,e=>{l(e)},{immediate:!0}),console.log("readonly",n),(t,n)=>{const i=_d,l=Ku,c=Pc;return Ur(),zr(Rr,null,[Qr(i,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=e=>s.value=e),class:H({"van-field-readonly":e.readonly}),"is-link":"",readonly:"",label:e.label,placeholder:e.placeholder,rules:e.rules,onClick:n[1]||(n[1]=e=>r.value=!0)},null,8,["modelValue","class","label","placeholder","rules"]),Qr(c,{show:r.value,"onUpdate:show":n[3]||(n[3]=e=>r.value=e),round:"","destroy-on-close":"",position:"bottom"},{default:cn(()=>[Qr(l,{"model-value":a.value,columns:e.columns||e.options,onCancel:n[2]||(n[2]=e=>r.value=!1),onConfirm:o},null,8,["model-value","columns"])]),_:1},8,["show"])],64)}}})),WB=Bn({__name:"SerchSentList",props:{form:{}},emits:["update:form"],setup(e,{emit:t}){const n=e,i=t,r=UO().userInfo,a=[{value:"1",label:""},{value:"0",label:""}].map(e=>({text:e.label,value:e.value})),s=ct({...n.form});_r(s,e=>{i("update:form",e)},{deep:!0});const o=St([]);function l(){let e={};e="0"===String(s.status)?{id:"GROUPS",deep:1,enbase:1}:{id:r.etp_id,deep:1,enbase:1,is_node:1},async function(e){return BO.get("/tree/get_child",{params:e})}(e).then(e=>{const t=[];e.forEach(e=>{t.push({value:e.node_id,text:e.title})}),o.value=t})}return ai(()=>{l()}),_r(()=>s.status,e=>{l(),s.departmentid=""}),(e,t)=>{const n=_d,i=HB;return Ur(),zr(Rr,null,[Qr(n,{modelValue:xt(s).name,"onUpdate:modelValue":t[0]||(t[0]=e=>xt(s).name=e),type:"text",name:"text",label:"",placeholder:""},null,8,["modelValue"]),Qr(i,{value:xt(s).status,"onUpdate:value":t[1]||(t[1]=e=>xt(s).status=e),columns:xt(a),label:"",placeholder:""},null,8,["value","columns"]),Qr(i,{value:xt(s).departmentid,"onUpdate:value":t[2]||(t[2]=e=>xt(s).departmentid=e),columns:o.value,label:"",placeholder:""},null,8,["value","columns"])],64)}}});function GB(e){return null==e||""===e}function XB(e){return MR(e,e=>!GB(e))}function YB(e){return!!GB(e)||!(!Array.isArray(e)||0!==e.length)||!(!gI(e)||0!==Object.keys(e).length)}const KB={class:"sent-title"},QB={class:"sent-text"},JB={key:0},ZB={key:1},eF=Bn({__name:"SentList",props:{visible:{type:Boolean},selectedRow:{}},emits:["update:visible","update:selectedRow"],setup(e,{emit:t}){const n=e,i=t,r=St(n.selectedRow?.map(e=>e.id));async function a({pageNum:e,form:t}){try{const n=await OB({page:e,...XB(LR(t,["status"]))});return{total:Number(n.count),data:n.data}}catch(RT){return Fg({message:RT.message||""}),{total:0,data:[]}}}const s=St({departmentid:"",isadmin:"",name:""}),o=[{icon:"search",key:"search"},{icon:"success",key:"passed"},{icon:"cross",key:"close"}],l=St([]);function c(e,t){l.value=t}function u({key:e}){"passed"===e?(i("update:selectedRow",l.value),i("update:visible",!1)):"close"===e&&i("update:visible",!1)}return(e,t)=>{const n=WB,i=zB;return Ur(),Hr(i,{form:s.value,"onUpdate:form":t[1]||(t[1]=e=>s.value=e),"cell-props":{titleClass:"sent-title-class"},"row-selection":{type:"checkbox",onChange:c,defaultSelectedRowKeys:r.value},request:a,floating:o,onOnFloatingClick:u},{title:cn(({item:e})=>[Kr("span",KB,Y(e.name),1),Kr("span",QB,[e.department?(Ur(),zr("span",JB,Y(e.department),1)):ta("",!0),e.post?(Ur(),zr("span",ZB,"/"+Y(e.post),1)):ta("",!0)])]),searchForm:cn(()=>[Qr(n,{form:s.value,"onUpdate:form":t[0]||(t[0]=e=>s.value=e)},null,8,["form"])]),_:1},8,["form","row-selection"])}}}),tF=pB(eF,[["__scopeId","data-v-37ccf221"]]),nF={class:"multi-select-action-sheet"},iF={class:"options-container"},rF={class:"action-buttons"},aF=Bn({__name:"MultiSelectActionSheet",props:{show:{type:Boolean,default:!1},title:{default:""},options:{default:()=>[]},selected:{default:()=>[]},max:{default:0},closeOnClickOverlay:{type:Boolean,default:!0}},emits:["update:show","confirm","closed"],setup(e,{emit:t}){const n=e,i=t,r=St(n.show),a=St([...n.selected]),s=St();function o(){i("confirm",a.value),r.value=!1}function l(){a.value=[],s.value&&s.value.toggleAll(!1)}function c(){i("closed")}return _r(()=>n.show,e=>{r.value=e}),_r(r,e=>{i("update:show",e)}),_r(()=>n.selected,e=>{a.value=[...e]},{deep:!0}),(t,i)=>{const u=kh,d=ad,h=uh,p=oc,f=Bc;return Ur(),Hr(f,{show:r.value,"onUpdate:show":i[2]||(i[2]=e=>r.value=e),title:e.title,"close-on-click-overlay":e.closeOnClickOverlay,onClosed:c},{default:cn(()=>[Kr("div",nF,[Kr("div",iF,[Qr(h,{ref_key:"checkboxGroup",ref:s,modelValue:a.value,"onUpdate:modelValue":i[1]||(i[1]=e=>a.value=e)},{default:cn(()=>[(Ur(!0),zr(Rr,null,Si(e.options,(e,t)=>(Ur(),Hr(d,{key:t,title:e.label,clickable:"",onClick:e=>function(e){const t=n.options[e],i=a.value.indexOf(t.value);if(i>-1)a.value.splice(i,1);else{if(n.max>0&&a.value.length>=n.max)return;a.value.push(t.value)}}(t)},{"right-icon":cn(()=>[Qr(u,{name:e.value,onClick:i[0]||(i[0]=ks(()=>{},["stop"]))},null,8,["name"])]),_:2},1032,["title","onClick"]))),128))]),_:1},8,["modelValue"])]),Kr("div",rF,[Qr(p,{plain:"",type:"primary",size:"small",onClick:l},{default:cn(()=>[...i[3]||(i[3]=[ea("  ",-1)])]),_:1}),Qr(p,{type:"primary",size:"small",onClick:o},{default:cn(()=>[...i[4]||(i[4]=[ea("  ",-1)])]),_:1})])])]),_:1},8,["show","title","close-on-click-overlay"])}}}),sF=pB(aF,[["__scopeId","data-v-6f929cab"]]),oF=Bn({__name:"v-multi-select",props:{title:{type:String,required:!0},sheetTitle:{type:String,default:""},options:{type:Array,required:!0,validator:e=>e.every(e=>void 0!==e.value&&void 0!==e.label)},modelValue:{type:Array,default:()=>[]},max:{type:Number,default:0},placeholder:{type:String,default:""},separator:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,r=St(!1),a=St([...n.modelValue]),s=Sa(()=>a.value.length?n.options.filter(e=>a.value.includes(e.value)).map(e=>e.label).join(n.separator):n.placeholder);function o(e){a.value=e,i("update:modelValue",e),r.value=!1}return _r(()=>n.modelValue,e=>{a.value=[...e]},{deep:!0}),(t,n)=>{const i=ad,l=sF;return Ur(),zr(Rr,null,[Qr(i,{title:e.title,value:s.value,"is-link":"",onClick:n[0]||(n[0]=e=>r.value=!0)},{value:cn(()=>[Kr("span",{class:H(["value-text",{placeholder:!a.value.length}])},Y(s.value),3)]),_:1},8,["title","value"]),Qr(l,{show:r.value,"onUpdate:show":n[1]||(n[1]=e=>r.value=e),title:e.sheetTitle||e.title,options:e.options,selected:a.value,max:e.max,onConfirm:o},null,8,["show","title","options","selected","max"])],64)}}}),lF=pB(oF,[["__scopeId","data-v-c8c7415d"]]),cF=Bn({name:"task-candidate",__name:"index",props:{timeSend:{type:Boolean}},setup(e){const t=St("candidate"),n=SO(),i=wO(),r=e,a=ct({candidate:[],notice:[]}),s=St([]),o=St([]),l=St(""),c=St(""),u=St(!1),d=St(r.timeSend??"true"===i.query.timeSend),h=Sa({get:()=>a[t.value],set:e=>{a[t.value].splice(0,a[t.value].length,...e)}});function p(){t.value="candidate",u.value=!0}function f(){t.value="notice",u.value=!0}async function m(){if(!a.candidate?.length)return void Rd("");let e=null;if(d.value){if(!l.value)return void Rd("");if(!c.value)return void Rd("");if(!function(e){const t=Object.keys(e).filter(e=>e.startsWith("date"));t.sort((e,t)=>Number.parseInt(e.split("_")[1])-Number.parseInt(t.split("_")[1]));for(let n=1;n<t.length;n++){const i=new Date(e[t[n-1]]);if(new Date(e[t[n]])<=i)return!1}return!0}({date_2:l.value,date_3:c.value}))return void Rd("");if(!s.value.length)return void Rd("");if(!o.value)return void Rd("");e={staff_id:JSON.stringify(a.candidate?.map(e=>({id:e.id,name:e.name}))),begin_date:l.value.split(" ")[0],end_date:c.value.split(" ")[0],is_work_date:s.value.join(","),send_time:o.value,id:0,cc:JSON.stringify("[]")}}try{await DB({timepolicy:e,candidate:a.candidate?.map(e=>e.id),notice:a.notice?.map(e=>e.id)}),Rd(""),await IB(),n.push({name:"task"})}catch(t){console.error(t)}}const g=St(""),v=St("");_r(()=>a,e=>{g.value=e.candidate.map(e=>e.name).join(""),v.value=e.notice.map(e=>e.name).join("")},{deep:!0});const y=["","","","","","",""].map((e,t)=>({label:e,value:`${t+1}`})),b=Array.from({length:24},(e,t)=>{const n=t+8,i=n>=24?n-24:n;return{value:i,text:`${i}`}});return ai(async()=>{const e=await EB.get("process-launch");a.candidate=e?.[0]?.candidate.map(e=>({id:e.uid,name:e.name}))||[]}),(e,t)=>{const n=ad,i=kB,r=lF,a=HB,_=Mp,T=tF,S=oc;return Ur(),zr(Rr,null,[xt(u)?(Ur(),Hr(T,{key:1,visible:xt(u),"onUpdate:visible":t[4]||(t[4]=e=>Tt(u)?u.value=e:null),"selected-row":xt(h),"onUpdate:selectedRow":t[5]||(t[5]=e=>Tt(h)?h.value=e:null)},null,8,["visible","selected-row"])):(Ur(),Hr(_,{key:0},{default:cn(()=>[Qr(n,{"value-class":e.$style.value,title:"",value:xt(g),"is-link":"",onClick:p},null,8,["value-class","value"]),Qr(n,{"value-class":e.$style.value,title:"",value:xt(v),"is-link":"",onClick:f},null,8,["value-class","value"]),xt(d)?(Ur(),zr(Rr,{key:0},[Qr(i,{modelValue:xt(l),"onUpdate:modelValue":t[0]||(t[0]=e=>Tt(l)?l.value=e:null),label:""},null,8,["modelValue"]),Qr(i,{modelValue:xt(c),"onUpdate:modelValue":t[1]||(t[1]=e=>Tt(c)?c.value=e:null),label:""},null,8,["modelValue"]),Qr(r,{modelValue:xt(s),"onUpdate:modelValue":t[2]||(t[2]=e=>Tt(s)?s.value=e:null),title:"",options:xt(y)},null,8,["modelValue","options"]),Qr(a,{value:xt(o),"onUpdate:value":t[3]||(t[3]=e=>Tt(o)?o.value=e:null),label:"",columns:xt(b)},null,8,["value","columns"])],64)):ta("",!0)]),_:1})),Kr("div",{class:H(e.$style.bth)},[xt(u)?ta("",!0):(Ur(),Hr(S,{key:0,class:H(e.$style.bth),type:"primary",onClick:m},{default:cn(()=>[...t[6]||(t[6]=[ea("  ",-1)])]),_:1},8,["class"]))],2)],64)}}}),uF={bth:"_bth_1qo9o_1",value:"_value_1qo9o_7"},dF=e("e",{}),hF={$style:uF};"function"==typeof dF&&dF(cF);const pF=pB(cF,[["__cssModules",hF]]),fF=Object.freeze(Object.defineProperty({__proto__:null,default:pF},Symbol.toStringTag,{value:"Module"}));function mF(){const e=SO();return{routerPush:function(t,n){e.push({name:t,query:n})}}}const gF=Bn({__name:"v-group-button",props:{formCreateInject:{}},emits:["btnClick"],setup(e,{emit:t}){const n=e,i=t,r=Sa(()=>{const e=(n.formCreateInject?.rule?.row??[]).map(e=>({...e}));if(e.find(e=>""===e.title)){const t={title:"",value:"load",type:"button",field:"submit",props:{type:"primary",post_id:[],node_id:0}};e.push(t)}return e});function a(e){return xR(e,e=>{const t=e.children?a(e.children):[];return"hidden"===e.type?[e,...t]:t})}const{routerPush:s}=mF(),o=SO(),l=wO();$O();const c=St(!1),u=St(""),d=St(),h=St(!1),p=St(!1);function f(){const e=Object.assign({},n.formCreateInject.api.form),t={},i=a(n.formCreateInject.api.rule);i&&i.length>0&&(t[i[0].field]=i[0].value);const r=IR({},e,t);return delete r.formbutton,r}async function m(){if(u.value){const e=f();"OK"===await BO.post("/process/launch",RC({title:u.value,action:d.value.value,notice:JSON.stringify([]),candidate:JSON.stringify({}),tplid:0,nid:0,app_id:l.query.app_id,task_id:l.query.task_id,forms_data:JSON.stringify(hI(e)?e:[e]),deadline_time:AB(new Date).format("YYYY-MM-DD")}))&&(Rd(""),c.value=!1)}else Rd("")}function g(){c.value=!1}function v(){return!1}function y(e){if(""!==e.title){if(""===e.title)return c.value=!0,void(d.value=e);if(""===e.title){const e=f();return void s("workRequest",{formid:e.form_id,actionKey:"personalTemplate"})}""!==e.title?(n.formCreateInject.api.validate(async t=>{if(!0===t){const t=Object.assign({},n.formCreateInject.api.form),r={},l=a(n.formCreateInject.api.rule);l&&l.length>0&&(r[l[0].field]=l[0].value);const c=IR({},t,r);if(delete c.formbutton,e.props?.actionKey){try{const e=await function(e,t){const n={meeting_edit:async e=>{const t=Object.assign({},e,{type:"add",id:"0"}),n=JSON.stringify({name:t.staff?.map(e=>e.label).join(","),id:t.staff?.map(e=>e.value).join(",")}),i=t.sponsor_staff_id[0]?.value,r=t.executive_staff[0]?.value,a=Object.assign({},t,{staff:n,sponsor_staff_id:i,executive_staff:r});return await BO.post("/enbase/meeting_edit",RC(a))}};return n[e]?n[e](t):null}("meeting_edit",c);Nd(e?.message||""),o.back()}catch(i){}return}console.warn(":",n.formCreateInject),await EB.set("process-formData",{form_data:c,rule:n.formCreateInject.api.rule,btn:e});const u=""===e.title;if(!u)try{const e=await DB();if(void 0===e)return void jd("");if(await EB.set("process-launch",e),e?.jump)return void s("task-process",{...e?.jump});if(1===Object.keys(e).length&&e.transid)return Rd(""),await IB(),void o.push({name:"task"});p.value=u,h.value=!0,console.log(e)}catch(i){console.log(i),i?.message&&jd(i?.message)}}else console.warn("")}),i("btnClick",e)):s("task-process",{app_id:11,param:`launch|${l?.query?.transid||""}`,nid:83})}else o.back()}return(e,t)=>{const n=oc,i=Yp,a=Iy,s=_d,o=dm,l=Pc;return Ur(),zr(Rr,null,[Qr(a,{class:"fc-button-group",gutter:"16"},{default:cn(()=>[(Ur(!0),zr(Rr,null,Si(r.value,(e,t)=>(Ur(),Hr(i,{key:t},{default:cn(()=>[Qr(n,{type:e.props?.type||"default",disabled:e.props?.disabled,block:"",size:r.value?.length>3?"mini":"small",onClick:t=>y(e)},{default:cn(()=>[ea(Y(e.title),1)]),_:2},1032,["type","disabled","size","onClick"])]),_:2},1024))),128))]),_:1}),Qr(o,{show:xt(c),"onUpdate:show":t[1]||(t[1]=e=>Tt(c)?c.value=e:null),title:"","show-cancel-button":"","before-close":v,onConfirm:m,onCancel:g},{default:cn(()=>[Qr(s,{modelValue:xt(u),"onUpdate:modelValue":t[0]||(t[0]=e=>Tt(u)?u.value=e:null),label:"",placeholder:""},null,8,["modelValue"])]),_:1},8,["show"]),Qr(l,{show:xt(h),"onUpdate:show":t[2]||(t[2]=e=>Tt(h)?h.value=e:null),teleport:"body",overlay:!0,"lock-scroll":!0,position:"bottom",style:{width:"100vw",height:"90vh"}},{default:cn(()=>[Qr(pF,{timeSend:xt(p)},null,8,["timeSend"])]),_:1},8,["show"])],64)}}}),vF=pB(gF,[["__scopeId","data-v-45893378"]]),yF={class:"tree-header"},bF={class:"nav-title"},_F={class:"tree-list"},TF={key:0,class:"loading"},SF=["onClick"],wF={class:"item-text"},AF=["onClick"],kF={key:1,class:"empty"},xF=Bn({inheritAttrs:!1,__name:"v-treeselect",props:{modelValue:{},placeholder:{default:""},source:{},disabled:{type:Boolean},readonly:{type:Boolean},title:{},multiple:{type:Boolean},formCreateInject:{},options:{},fieldNames:{},isArea:{type:Boolean},label:{}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,i=t,r=St(!1),a=St(0),s=St(BB(n.modelValue,!!n.multiple)),o=St([]),l=St([]),c=St(""),u=St({}),d=St([]),h=St(null),p=St(!1),f=St([]);function m(e){s.value=BB(e,!!n.multiple)}const g=e=>{let t=[];Array.isArray(e)?t=e.map(e=>{const t=e.value||e;return{label:u.value[t]||"",value:e}}):null!=e&&""!==e&&(t=[{label:u.value[e]||"",value:e}]),i("update:modelValue",t),i("change",t)};function v(e,t={}){if(u.value={},!Array.isArray(e))return[];const{label:n,value:i,children:r}=Object.assign({label:"label",value:"value",children:"children"},t);return e.map(e=>{const t=e[n]||e.name||e.title,a=e[i]||e.node_id||e.id,s=Array.isArray(e[r])?e[r]:null;u.value[a]=t;const o=s&&s.length?s.map(e=>{const t=e[i]||e.node_id||e.id,r=e[n]||e.name||e.title;return u.value[t]=r,{text:r,id:t,parent_id:e.id,children:e.children||e.child||[]}}):[];return{text:t,children:o,...void 0!==a&&0===o.length?{id:a}:{}}})}async function y(e={}){p.value=!0;try{if(n.options&&n.options.length&&!e.parent_id&&!n.source){const e=v(n.options,n.fieldNames);return o.value=e,e.length>0&&(f.value=e[0].children||[]),void(n.modelValue&&(s.value=n.modelValue,g(n.modelValue)))}const t=e?.inject;if(Array.isArray(t)&&t.length){const e=[{text:"",id:"all",children:t.map(e=>(u.value[e.value]=e.label,{...e,text:e.label,id:e.value}))}];return o.value=e,f.value=e[0].children||[],void(n.modelValue&&g(n.modelValue))}if(n.source&&(jB[n.source]||n.source)||e.parent_id){let t=[];if(jB[n.source])t="area"===n.source||e.parent_id?await jB[n.source](e):await jB[n.source]("treeselect");else{const i=await LB({id:e?.parent_id||n.source,deep:1,enbase:1});t=[{id:n.source,name:"",children:i}]}let i=t;"area"===n.source&&(Array.isArray(t)&&0!==t.length?t[0]?.children||(i=[{text:d.value.length>0?d.value[d.value.length-1]?.text||"":"",children:t.map(e=>{const t=FB("area"),n=e[t?.label||"name"],i=e[t?.value||"id"];return u.value[i]=n,{text:n,id:i,...e}})}]):i=[]);const r=v(i,FB(`${n.source}`));o.value=r,r.length>0?f.value=r[0].children||[]:f.value=[]}else o.value=[],f.value=[],u.value={};YB||m(n.modelValue)}catch(xZ){console.error(" source ",xZ),o.value=[],f.value=[],u.value={}}finally{p.value=!1}}ai(()=>{console.log("v-treeselect mounted")}),_r(()=>[n.source,n.formCreateInject?.options,n.options],([,e,t])=>y({inject:Array.isArray(t)?t:e}),{immediate:!0,deep:!0}),_r(()=>n.modelValue,e=>{m(e),Array.isArray(e)&&e.length>0?h.value=e[e.length-1].value:e&&!Array.isArray(e)?h.value=e.value||e:h.value=null}),_r(s,e=>{g(e)},{deep:!0});const b=Sa(()=>{const e=s.value;return null==e||Array.isArray(e)&&0===e.length?"":Array.isArray(e)?e.map(e=>u.value[e]).filter(Boolean).join(", "):u.value[e]||""});function _(){n.disabled||n.readonly||(r.value=!0,d.value=[],a.value=0,w(0))}function T(e){c.value=e}function S(){c.value=""}async function w(e=0){("area"===n.source||n.isArea)&&jB.area,await y({parent_id:e})}async function A(){if(d.value.length>0){d.value.pop(),a.value=d.value.length;const e=d.value.length>0?d.value[d.value.length-1].id:0;await w(e)}}_r(c,e=>{if(!e)return void(l.value=[]);const t=e.toLowerCase();l.value=(o.value||[]).map(e=>{const n=e.children.filter(e=>String(e.text).toLowerCase().includes(t));return n.length>0||e.text.toLowerCase().includes(t)?{...e,children:n.length>0?n:e.children}:null}).filter(Boolean)},{immediate:!0});const k=Sa(()=>c.value&&l.value.length>0?l.value[0]?.children||[]:o.value&&o.value.length?(l.value=JSON.parse(JSON.stringify(o.value)),l.value[0]?.children||[]):f.value);return(t,i)=>{const o=_d,l=My,u=Kl,f=ic,m=Pc;return Ur(),zr(Rr,null,[Qr(o,{class:H(["show-text",{"van-field-readonly":e.readonly}]),label:e.label,readonly:e.readonly,"model-value":b.value,placeholder:e.placeholder,disabled:e.disabled,"is-link":"",onClick:_},null,8,["class","label","readonly","model-value","placeholder","disabled"]),Qr(m,{show:r.value,"onUpdate:show":i[2]||(i[2]=e=>r.value=e),position:"bottom",round:"",style:{height:"70%"}},{default:cn(()=>[Qr(l,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=e=>c.value=e),placeholder:"",onSearch:T,onCancel:S},null,8,["modelValue"]),Kr("div",yF,[d.value.length>0?(Ur(),zr("div",{key:0,class:"nav-back",onClick:A},[Qr(u,{name:"arrow-left"}),i[3]||(i[3]=ea("  ",-1))])):ta("",!0),Kr("div",bF,Y(d.value.length>0?d.value[d.value.length-1].text:""),1),Kr("div",{class:"nav-close",onClick:i[1]||(i[1]=e=>r.value=!1)},[Qr(u,{name:"cross"})])]),Kr("div",_F,[p.value?(Ur(),zr("div",TF,[Qr(f),i[4]||(i[4]=Kr("span",null,"...",-1))])):ta("",!0),(Ur(!0),zr(Rr,null,Si(k.value,e=>{return Ur(),zr("div",{key:e.id,class:H(["tree-item",{selected:(t=e.id,h.value===t)}])},[Kr("div",{class:"item-content",onClick:t=>async function(e){("area"===n.source||n.isArea)&&jB.area,d.value.push(e),a.value=d.value.length,await w(e.parent_id||e.id)}(e)},[Kr("div",wF,Y(e.text),1),Qr(u,{name:"arrow",class:"item-arrow"})],8,SF),Kr("div",{class:"item-select-btn",onClick:t=>function(e){h.value=e.id,n.multiple?(Array.isArray(s.value)||(s.value=[]),s.value.includes(e.id)||s.value.push(e.id)):s.value=e.id,r.value=!1}(e)},"  ",8,AF)],2);var t}),128)),p.value||0!==k.value.length?ta("",!0):(Ur(),zr("div",kF,"  "))])]),_:1},8,["show"])],64)}}}),CF=e("$",pB(xF,[["__scopeId","data-v-ef140fbb"]]));var EF,OF={exports:{}},IF=(EF||(EF=1,function(e){e.exports=function(){function e(e){var i=[];return e.AMapUI&&i.push(t(e.AMapUI)),e.Loca&&i.push(n(e.Loca)),Promise.all(i)}function t(e){return new Promise(function(t,n){var r=[];if(e.plugins)for(var l=0;l<e.plugins.length;l+=1)-1==a.AMapUI.plugins.indexOf(e.plugins[l])&&r.push(e.plugins[l]);if(s.AMapUI===i.failed)n(" AMapUI ");else if(s.AMapUI===i.notload){s.AMapUI=i.loading,a.AMapUI.version=e.version||a.AMapUI.version,l=a.AMapUI.version;var c=document.body||document.head,u=document.createElement("script");u.type="text/javascript",u.src="https://webapi.amap.com/ui/"+l+"/main.js",u.onerror=function(e){s.AMapUI=i.failed,n(" AMapUI ")},u.onload=function(){if(s.AMapUI=i.loaded,r.length)window.AMapUI.loadUI(r,function(){for(var e=0,n=r.length;e<n;e++){var i=r[e].split("/").slice(-1)[0];window.AMapUI[i]=arguments[e]}for(t();o.AMapUI.length;)o.AMapUI.splice(0,1)[0]()});else for(t();o.AMapUI.length;)o.AMapUI.splice(0,1)[0]()},c.appendChild(u)}else s.AMapUI===i.loaded?e.version&&e.version!==a.AMapUI.version?n(" AMapUI "):r.length?window.AMapUI.loadUI(r,function(){for(var e=0,n=r.length;e<n;e++){var i=r[e].split("/").slice(-1)[0];window.AMapUI[i]=arguments[e]}t()}):t():e.version&&e.version!==a.AMapUI.version?n(" AMapUI "):o.AMapUI.push(function(e){e?n(e):r.length?window.AMapUI.loadUI(r,function(){for(var e=0,n=r.length;e<n;e++){var i=r[e].split("/").slice(-1)[0];window.AMapUI[i]=arguments[e]}t()}):t()})})}function n(e){return new Promise(function(t,n){if(s.Loca===i.failed)n(" Loca ");else if(s.Loca===i.notload){s.Loca=i.loading,a.Loca.version=e.version||a.Loca.version;var r=a.Loca.version,l=a.AMap.version.startsWith("2"),c=r.startsWith("2");if(l&&!c||!l&&c)n("JSAPI  Loca ");else{l=a.key,c=document.body||document.head;var u=document.createElement("script");u.type="text/javascript",u.src="https://webapi.amap.com/loca?v="+r+"&key="+l,u.onerror=function(e){s.Loca=i.failed,n(" AMapUI ")},u.onload=function(){for(s.Loca=i.loaded,t();o.Loca.length;)o.Loca.splice(0,1)[0]()},c.appendChild(u)}}else s.Loca===i.loaded?e.version&&e.version!==a.Loca.version?n(" Loca "):t():e.version&&e.version!==a.Loca.version?n(" Loca "):o.Loca.push(function(e){e?n(e):n()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var i,r;(r=i||(i={})).notload="notload",r.loading="loading",r.loaded="loaded",r.failed="failed";var a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:i.notload,AMapUI:i.notload,Loca:i.notload},o={AMapUI:[],Loca:[]},l=[],c=function(e){"function"==typeof e&&(s.AMap===i.loaded?e(window.AMap):l.push(e))};return{load:function(t){return new Promise(function(n,r){if(s.AMap==i.failed)r("");else if(s.AMap==i.notload){var o=t.key,u=t.version,d=t.plugins;o?(window.AMap&&"lbs.amap.com"!==location.host&&r("API"),a.key=o,a.AMap.version=u||a.AMap.version,a.AMap.plugins=d||a.AMap.plugins,s.AMap=i.loading,u=document.body||document.head,window.___onAPILoaded=function(a){if(delete window.___onAPILoaded,a)s.AMap=i.failed,r(a);else for(s.AMap=i.loaded,e(t).then(function(){n(window.AMap)}).catch(r);l.length;)l.splice(0,1)[0]()},(d=document.createElement("script")).type="text/javascript",d.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+a.AMap.version+"&key="+o+"&plugin="+a.AMap.plugins.join(","),d.onerror=function(e){s.AMap=i.failed,r(e)},u.appendChild(d)):r("key")}else if(s.AMap==i.loaded)if(t.key&&t.key!==a.key)r(" key");else if(t.version&&t.version!==a.AMap.version)r(" JSAPI ");else{if(o=[],t.plugins)for(u=0;u<t.plugins.length;u+=1)-1==a.AMap.plugins.indexOf(t.plugins[u])&&o.push(t.plugins[u]);o.length?window.AMap.plugin(o,function(){e(t).then(function(){n(window.AMap)}).catch(r)}):e(t).then(function(){n(window.AMap)}).catch(r)}else if(t.key&&t.key!==a.key)r(" key");else if(t.version&&t.version!==a.AMap.version)r(" JSAPI ");else{var h=[];if(t.plugins)for(u=0;u<t.plugins.length;u+=1)-1==a.AMap.plugins.indexOf(t.plugins[u])&&h.push(t.plugins[u]);c(function(){h.length?window.AMap.plugin(h,function(){e(t).then(function(){n(window.AMap)}).catch(r)}):e(t).then(function(){n(window.AMap)}).catch(r)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,a={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},s={AMap:i.notload,AMapUI:i.notload,Loca:i.notload},o={AMap:[],AMapUI:[],Loca:[]}}}}()}(OF)),OF.exports);const DF=CO(IF),PF={key:0},LF=Bn({__name:"v-map",emits:["update:location"],setup(e,{emit:t}){const n=t,i=St(null),r=St(null),a=St(null),s=St(null),o=St();return ai(async()=>{const e=await DF.load({key:"b9977f51eb0389d33a6b992bcd5e0156",version:"2.0",plugins:["AMap.Geolocation","AMap.ToolBar","AMap.CitySearch"]});r.value=new e.Map(i.value,{zoom:14,center:[116.397428,39.90923],scrollWheel:!1,zoomEnable:!0}),r.value.addControl(new e.ToolBar);const t=(t,i,o="",l=!0)=>{a.value={lat:i,lng:t},r.value.setCenter([t,i]),s.value?s.value.setPosition([t,i]):s.value=new e.Marker({position:[t,i],map:r.value,title:o}),l&&n("update:location",{lat:i,lng:t})};r.value.on("mapmove",()=>{const e=r.value.getCenter();t(e.lng,e.lat,void 0,!1)}),r.value.on("moveend",()=>{const e=r.value.getCenter();t(e.lng,e.lat,void 0,!0),o.value=[e.lng,e.lat]}),i.value.addEventListener("wheel",e=>{e.preventDefault();const t=e.deltaY>0?-.2:.2,n=r.value.getZoom()+t;r.value.setZoom(n,o.value)}),new e.Geolocation({enableHighAccuracy:!0,timeout:1e4,showButton:!1}).getCurrentPosition((n,i)=>{if("complete"===n&&i.position){const{lng:e,lat:n}=i.position;t(e,n)}else(new e.CitySearch).getLocalCity((e,n)=>{if("complete"===e&&n&&n.rectangle){const[e,i,r,a]=n.rectangle.split(",").map(Number);t((e+r)/2,(i+a)/2,n.city)}else console.warn("IP"),t(116.397428,39.90923,"")})})}),(e,t)=>(Ur(),zr("div",null,[Kr("div",{ref_key:"mapContainer",ref:i,class:"map-container"},null,512),a.value?(Ur(),zr("p",PF," "+Y(a.value.lat)+", "+Y(a.value.lng),1)):ta("",!0)]))}}),RF=pB(LF,[["__scopeId","data-v-b1037ab8"]]),MF={style:{position:"relative"}},NF={key:0,style:{"text-align":"center",padding:"16px"}},jF=Bn({inheritAttrs:!1,__name:"v-inputselect",props:{modelValue:{type:String,default:""},options:{type:Array,default:()=>[]},source:String,placeholder:{type:String,default:""},disabled:Boolean,readonly:Boolean,formCreateInject:Object,multiple:Boolean,dataType:String},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,i=t,r=St(n.modelValue),a=St(n.modelValue),s=St(""),o=St(!1),l=St([]),c=St(!1);function u(e){const t=l.value.length?l.value:n.options,i=t?.find(t=>t.value===e);return i}function d(e){const t=BB(e,n.multiple);if(n.multiple&&hI(t)){const e=t?.map(e=>u(e)?.label).filter(e=>e).join("");r.value=e||t?.join("")}else{const n=u(t);r.value=n?n?.label:e||""}}async function h(){if(n.formCreateInject?.options?.length)return l.value=n.formCreateInject.options,await Jt(),_(l.value[0]),void(n.modelValue&&(g(n.modelValue),i("change",n.modelValue)));if(n.source){if(jB[n.source]||Number(n.source)>0){let e=[];if(e=jB[n.source]?await jB[n.source]("inputselect"):await LB({id:n.source,deep:1,enbase:1}),jB[`${n.source}_fieldNames`]||Number(n.source)>0){const t=FB(n.source,n.dataType||"inputselect");if(l.value=function(e,t){const{label:n,value:i}=Object.assign({label:"label",value:"value"},t);return e.map(e=>({label:e[n]||e.name||e.title,value:e[i]||e.id,...e}))}(e,t),!YB(!n.modelValue)&&n.modelValue){const e=l.value.find(e=>e.value===n.modelValue);e?_(e,!1):d(n.modelValue)}}else l.value=e||[]}}else l.value=[];d(n.modelValue)}_r(()=>n.modelValue,e=>{"map"!==n.source?d(e):(r.value=e,a.value=e)},{immediate:!0}),_r(()=>n.source,e=>{c.value=!0},{immediate:!0});const p=Sa(()=>s.value?l.value.filter(e=>e.label.toLowerCase().includes(s.value.toLowerCase())):l.value),f=St([]);function m(e){return hI(e)?e.map(e=>({label:e.label,value:e.value})):e}function g(e){if("staff"===n?.source||"risk_name"===n?.source){const t=[l.value.find(t=>t.value.toString()===e?.toString())];if(n.multiple){const e=f.value?.find(e=>e.value===t[0].value);f.value=e?f.value:[...t,...f.value]}i("update:modelValue",m(n.multiple?f.value:t))}else i("update:modelValue",m(e))}_r(()=>[n.source,n.formCreateInject?.options],h,{immediate:!0,deep:!0});let v=0;function y(e){r.value=e.target.value,c.value?(v&&clearTimeout(v),v=setTimeout(()=>{g(e.target.value),clearTimeout(v)},300)):(o.value=!0,h())}function b(){const e={};r.value=e.value,g(e.value),i("change",e)}async function _(e,t=!0){let a={...e};if(k(a.value))return void T();r.value=a.value,g(a.value),i("change",a),t&&!n.multiple&&T();const s=n.formCreateInject?.rule?.bind;if(!s)return;const o=s.split("|").filter(Boolean),l=n.formCreateInject?.api;if(!l)return void console.warn("[v-inputselect] missing fapi on formCreateInject");const c=a?.data||[];for(let n=0;n<o.length;n++){const e=o[n];try{const i="function"==typeof l.getRule?l.getRule(e):null;if(!i){console.warn("[v-inputselect] target rule not found:",e);continue}const r=(0===n?c.map(e=>({label:e.risk_name,value:e.risk_name})):c.map(e=>({label:e.policy,value:e.policy})))||[],a=[{id:"course",title:"",children:(0===n?c.map(e=>({name:e.risk_name,value:e.risk_name})):c.map(e=>({name:e.policy,value:e.policy})))||[]}];try{await l.updateRule(e,{props:{...i.props||{},options:r}})}catch(xZ){}try{await l.updateRule(e,{options:r})}catch(xZ){}try{if("function"==typeof l.setRule){const e={...i,props:{...i.props||{},options:r},options:r};await l.setRule(e)}}catch(xZ){}try{i.formCreateInject&&(i.formCreateInject.options=r)}catch(xZ){}try{let e=i.vm||i.component||i.vnode&&i.vnode.component&&i.vnode.component.proxy;if(!e&&i.$&&(e=i.$),e){if("remoteOptions"in e)try{e.remoteOptions=r}catch(xZ){}if("adaptedOptions"in e)try{e.adaptedOptions=r}catch(xZ){}"function"==typeof e.$forceUpdate&&e.$forceUpdate(),e.proxy&&("remoteOptions"in e.proxy&&(e.proxy.remoteOptions=r),"adaptedOptions"in e.proxy&&(e.proxy.adaptedOptions=r))}}catch(xZ){}try{await l.updateRule(e,{props:{...i.props||{},options:a}})}catch(xZ){}try{"function"==typeof l.setValue&&(t?await l.setValue(e,void 0):await l.setValue(e,e.value))}catch(xZ){}}catch(RT){}}}function T(){setTimeout(()=>{s.value="",o.value=!1},200)}function S(e){const t=JSON.stringify({x:e.lng,y:e.lat});_({label:t,value:t},!1)}function w(){"map"!=n.source&&c.value||(o.value=!0)}function A(){o.value=!0}function k(e){return hI(n.modelValue)?n.modelValue?.find(t=>t.value===e):e===n.modelValue}return(t,n)=>{const i=_d,l=My,u=cu,d=ad,h=Tg,f=RF,m=Pc;return Ur(),zr(Rr,null,["map"===e.source?(Ur(),Hr(i,{key:0,modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),class:H({"van-field-readonly":e.readonly}),placeholder:e.placeholder,disabled:e.disabled,readonly:e.readonly,clearable:"","right-icon":"location",onClickRightIcon:w,onInput:y,onFocus:w},null,8,["modelValue","class","placeholder","disabled","readonly"])):(Ur(),Hr(i,{key:1,modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]=e=>r.value=e),placeholder:e.placeholder,class:H({"van-field-readonly":e.readonly}),disabled:e.disabled,readonly:e.readonly,"is-link":!c.value,clearable:"","right-icon":c.value?"area"===e.source?"plus":"arrow":void 0,onInput:y,onFocus:w,onClickRightIcon:A,onClear:b},null,8,["modelValue","placeholder","class","disabled","readonly","is-link","right-icon"])),Qr(m,{show:o.value,"onUpdate:show":n[3]||(n[3]=e=>o.value=e),position:"bottom",overlay:"",style:{"max-height":"70vh"}},{default:cn(()=>[Kr("div",MF,["map"!==e.source?(Ur(),Hr(u,{key:0,"offset-top":"30vh"},{default:cn(()=>["map"!==e.source?(Ur(),Hr(l,{key:0,modelValue:s.value,"onUpdate:modelValue":n[2]||(n[2]=e=>s.value=e),placeholder:""},null,8,["modelValue"])):ta("",!0)]),_:1})):ta("",!0),"map"!==e.source?(Ur(),Hr(h,{key:1},{default:cn(()=>[(Ur(!0),zr(Rr,null,Si(p.value,e=>(Ur(),Hr(d,{key:e.value,title:e.label,class:H({selected:k(e.value)}),onClick:t=>_(e)},null,8,["title","class","onClick"]))),128)),0===p.value.length?(Ur(),zr("div",NF,"  ")):ta("",!0)]),_:1})):ta("",!0)]),"map"===e.source?(Ur(),Hr(f,{key:0,"onUpdate:location":S})):ta("",!0)]),_:1},8,["show"])],64)}}}),BF=e("T",pB(jF,[["__scopeId","data-v-72af69e9"]])),FF=Bn({inheritAttrs:!1,__name:"v-label",props:{formCreateInject:{},title:{},value:{}},setup(e){const t=e,n=St(null),i=Sa(()=>t.value||t.title);return ai(()=>{if(n.value){n.value.style.display="none";const e=n.value.parentElement.parentElement.parentElement.parentElement;e.style["font-weight"]=700;const i=t.formCreateInject?.rule?.props?.style;i&&(e.firstElementChild.style.color=i.color)}}),(e,t)=>(Ur(),zr("div",{ref_key:"siblingElement",ref:n,class:"v-label"},Y(xt(i)),513))}}),UF=pB(FF,[["__scopeId","data-v-4cba954b"]]),$F={class:"body"},VF=Bn({__name:"v-cascader",props:{modelValue:{},options:{},placeholder:{},readonly:{type:Boolean},filedNames:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,r=St(!1),a=St(""),s=Sa(()=>n.modelValue?.[0]??"");function o({selectedOptions:e}){r.value=!1,l(e);const t=e[e.length-1].value;i("update:modelValue",[t])}function l(e){a.value=e.map(e=>{if(e.children&&e.children.length){const t=e.children.map(e=>e.label).join(",");return`${e.label}/${t}`}return e.label}).join(";")}function c(e,t){const n=[];var i,r;return r=e=>{if(n.push(e),e.value==t)return!0;if(e.child&&e.child.length){const i=c(e.children,t);if(i.length)return n.push(...i.slice(1)),!0}return n.pop(),!1},(hI(i=e)?OL:NR)(i,vR(r)),[...n]}return ai(()=>{n.options?.length&&n.modelValue?.length&&l(c(n.options,n.modelValue[0]))}),(t,i)=>{const l=_d,c=Pc;return Ur(),zr(Rr,null,[Qr(l,{modelValue:xt(a),"onUpdate:modelValue":i[0]||(i[0]=e=>Tt(a)?a.value=e:null),class:H({"van-field-readonly":e.readonly}),"is-link":"",readonly:"",placeholder:e.placeholder||"",onClick:i[1]||(i[1]=e=>r.value=!0)},null,8,["modelValue","class","placeholder"]),Qr(c,{show:xt(r),"onUpdate:show":i[2]||(i[2]=e=>Tt(r)?r.value=e:null),position:"bottom",round:""},{default:cn(()=>[Kr("div",$F,[Qr(xt(Dp),{closeable:!1,title:e.placeholder||"",options:n.options,"model-value":xt(s),"field-names":e.filedNames||{text:"label",value:"value",children:"children"},onFinish:o},null,8,["title","options","model-value","field-names"])])]),_:1},8,["show"])],64)}}}),qF=pB(VF,[["__scopeId","data-v-1bcf0dc7"]]);var zF,HF;function WF(){return HF?zF:(HF=1,e="undefined"!=typeof window?window:void 0!==xO?xO:"undefined"!=typeof self?self:{},zF=e);var e}!function(){if("undefined"!=typeof window){var e,t="ontouchstart"in window;document.createTouch||(document.createTouch=function(e,t,i,r,a,s,o){return new n(t,i,{pageX:r,pageY:a,screenX:s,screenY:o,clientX:r-window.pageXOffset,clientY:a-window.pageYOffset},0,0)}),document.createTouchList||(document.createTouchList=function(){for(var e=r(),t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length=arguments.length,e}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var n=function(e,t,n,i,r){i=i||0,r=r||0,this.identifier=t,this.target=e,this.clientX=n.clientX+i,this.clientY=n.clientY+r,this.screenX=n.screenX+i,this.screenY=n.screenY+r,this.pageX=n.pageX+i,this.pageY=n.pageY+r},i=!1;l.multiTouchOffset=75,t||new l}function r(){var e=[];return e.item=function(e){return this[e]||null},e.identifiedTouch=function(e){return this[e+1]||null},e}function a(t){return function(n){var r,a,l;"mousedown"===n.type&&(i=!0),"mouseup"===n.type&&(i=!1),("mousemove"!==n.type||i)&&(("mousedown"===n.type||!e||e&&!e.dispatchEvent)&&(e=n.target),null==e.closest("[data-no-touch-simulate]")&&(r=t,a=n,(l=document.createEvent("Event")).initEvent(r,!0,!0),l.altKey=a.altKey,l.ctrlKey=a.ctrlKey,l.metaKey=a.metaKey,l.shiftKey=a.shiftKey,l.touches=o(a),l.targetTouches=o(a),l.changedTouches=s(a),e.dispatchEvent(l)),"mouseup"===n.type&&(e=null))}}function s(t){var i=r();return i.push(new n(e,1,t,0,0)),i}function o(e){return"mouseup"===e.type?r():s(e)}function l(){window.addEventListener("mousedown",a("touchstart"),!0),window.addEventListener("mousemove",a("touchmove"),!0),window.addEventListener("mouseup",a("touchend"),!0)}}();const GF=CO(WF()),XF=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})),YF=e("bi",EO(XF));var KF,QF;function JF(){if(QF)return KF;QF=1;var e,t=void 0!==xO?xO:"undefined"!=typeof window?window:{},n=YF;return"undefined"!=typeof document?e=document:(e=t["__GLOBAL_DOCUMENT_CACHE@4"])||(e=t["__GLOBAL_DOCUMENT_CACHE@4"]=n),KF=e}const ZF=CO(JF());var eU,tU,nU,iU,rU,aU,sU,oU,lU,cU,uU={exports:{}},dU={exports:{}};function hU(){if(nU)return tU;nU=1,tU=function(t){if(!t)return!1;var n=e.call(t);return"[object Function]"===n||"function"==typeof t&&"[object RegExp]"!==n||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var e=Object.prototype.toString;return tU}function pU(){if(rU)return iU;function e(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(e))||n){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}return rU=1,iU=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var n=t.prototype;return n.getIsEnabled=function(){return this.enabled_},n.enable=function(){this.enabled_=!0},n.disable=function(){this.enabled_=!1},n.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},n.addInterceptor=function(e,t){this.typeToInterceptorsMap_.has(e)||this.typeToInterceptorsMap_.set(e,new Set);var n=this.typeToInterceptorsMap_.get(e);return!n.has(t)&&(n.add(t),!0)},n.removeInterceptor=function(e,t){var n=this.typeToInterceptorsMap_.get(e);return!(!n||!n.has(t)||(n.delete(t),0))},n.clearInterceptorsByType=function(e){return!!this.typeToInterceptorsMap_.get(e)&&(this.typeToInterceptorsMap_.delete(e),this.typeToInterceptorsMap_.set(e,new Set),!0)},n.clear=function(){return!!this.typeToInterceptorsMap_.size&&(this.typeToInterceptorsMap_=new Map,!0)},n.getForType=function(e){return this.typeToInterceptorsMap_.get(e)||new Set},n.execute=function(t,n){for(var i,r=e(this.getForType(t));!(i=r()).done;){var a=i.value;try{n=a(n)}catch(xZ){}}return n},t}()}var fU=function(){if(cU)return uU.exports;cU=1;var e=WF(),t=(eU||(eU=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(dU)),dU.exports),n=hU(),i=pU(),r=function(){if(sU)return aU;sU=1;var e=function(){function e(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var n=e.prototype;return n.getIsEnabled=function(){return this.enabled_},n.enable=function(){this.enabled_=!0},n.disable=function(){this.enabled_=!1},n.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},n.getMaxAttempts=function(){return this.maxAttempts_},n.setMaxAttempts=function(e){this.maxAttempts_=e},n.getDelayFactor=function(){return this.delayFactor_},n.setDelayFactor=function(e){this.delayFactor_=e},n.getFuzzFactor=function(){return this.fuzzFactor_},n.setFuzzFactor=function(e){this.fuzzFactor_=e},n.getInitialDelay=function(){return this.initialDelay_},n.setInitialDelay=function(e){this.initialDelay_=e},n.createRetry=function(e){var n=void 0===e?{}:e,i=n.maxAttempts,r=n.delayFactor,a=n.fuzzFactor,s=n.initialDelay;return new t({maxAttempts:i||this.maxAttempts_,delayFactor:r||this.delayFactor_,fuzzFactor:a||this.fuzzFactor_,initialDelay:s||this.initialDelay_})},e}(),t=function(){function e(e){this.maxAttempts_=e.maxAttempts,this.delayFactor_=e.delayFactor,this.fuzzFactor_=e.fuzzFactor,this.currentDelay_=e.initialDelay,this.currentAttempt_=1}var t=e.prototype;return t.moveToNextAttempt=function(){this.currentAttempt_++;var e=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+e},t.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},t.getCurrentDelay=function(){return this.currentDelay_},t.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},t.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},t.getCurrentFuzzedDelay=function(){var e=this.getCurrentMinPossibleDelay(),t=this.getCurrentMaxPossibleDelay();return e+Math.random()*(t-e)},e}();return aU=e}();o.httpHandler=function(){if(lU)return oU;lU=1;var e=WF();return oU=function(t,n){return void 0===n&&(n=!1),function(i,r,a){if(i)t(i);else if(r.statusCode>=400&&r.statusCode<=599){var s=a;if(n)if(e.TextDecoder){var o=(void 0===(l=r.headers&&r.headers["content-type"])&&(l=""),l.toLowerCase().split(";").reduce(function(e,t){var n=t.split("="),i=n[0],r=n[1];return"charset"===i.trim()?r.trim():e},"utf-8"));try{s=new TextDecoder(o).decode(a)}catch(xZ){}}else s=String.fromCharCode.apply(null,new Uint8Array(a));t({cause:s})}else t(null,a);var l}},oU}(),o.requestInterceptorsStorage=new i,o.responseInterceptorsStorage=new i,o.retryManager=new r;
/**
      	 * @license
      	 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
      	 * Copyright (c) 2014 David Bjrklund
      	 * Available under the MIT license
      	 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
      	 */
var a=function(e){var t={};return e?(e.trim().split("\n").forEach(function(e){var n=e.indexOf(":"),i=e.slice(0,n).trim().toLowerCase(),r=e.slice(n+1).trim();void 0===t[i]?t[i]=r:Array.isArray(t[i])?t[i].push(r):t[i]=[t[i],r]}),t):t};function s(e,i,r){var a=e;return n(i)?(r=i,"string"==typeof e&&(a={uri:e})):a=t({},i,{uri:e}),a.callback=r,a}function o(e,t,n){return l(t=s(e,t,n))}function l(e){if(void 0===e.callback)throw new Error("callback argument missing");if(e.requestType&&o.requestInterceptorsStorage.getIsEnabled()){var t={uri:e.uri||e.url,headers:e.headers||{},body:e.body,metadata:e.metadata||{},retry:e.retry,timeout:e.timeout},n=o.requestInterceptorsStorage.execute(e.requestType,t);e.uri=n.uri,e.headers=n.headers,e.body=n.body,e.metadata=n.metadata,e.retry=n.retry,e.timeout=n.timeout}var i=!1,r=function(t,n,r){i||(i=!0,e.callback(t,n,r))};function s(){var e=void 0;if(e=p.response?p.response:p.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(xZ){}return null}(p),_)try{e=JSON.parse(e)}catch(xZ){}return e}function c(t){if(clearTimeout(f),clearTimeout(e.retryTimeout),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,h||!o.retryManager.getIsEnabled()||!e.retry||!e.retry.shouldRetry()){if(e.requestType&&o.responseInterceptorsStorage.getIsEnabled()){var n={headers:T.headers||{},body:T.body,responseUrl:p.responseURL,responseType:p.responseType},i=o.responseInterceptorsStorage.execute(e.requestType,n);T.body=i.body,T.headers=i.headers}return r(t,T)}e.retryTimeout=setTimeout(function(){e.retry.moveToNextAttempt(),e.xhr=p,l(e)},e.retry.getCurrentFuzzedDelay())}function u(){if(!h){var t;clearTimeout(f),clearTimeout(e.retryTimeout),t=e.useXDR&&void 0===p.status?200:1223===p.status?204:p.status;var n=T,i=null;if(0!==t?(n={body:s(),statusCode:t,method:g,headers:{},url:m,rawRequest:p},p.getAllResponseHeaders&&(n.headers=a(p.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),e.requestType&&o.responseInterceptorsStorage.getIsEnabled()){var l={headers:n.headers||{},body:n.body,responseUrl:p.responseURL,responseType:p.responseType},c=o.responseInterceptorsStorage.execute(e.requestType,l);n.body=c.body,n.headers=c.headers}return r(i,n,n.body)}}var d,h,p=e.xhr||null;p||(p=e.cors||e.useXDR?new o.XDomainRequest:new o.XMLHttpRequest);var f,m=p.url=e.uri||e.url,g=p.method=e.method||"GET",v=e.body||e.data,y=p.headers=e.headers||{},b=!!e.sync,_=!1,T={body:void 0,headers:{},statusCode:0,method:g,url:m,rawRequest:p};if("json"in e&&!1!==e.json&&(_=!0,y.accept||y.Accept||(y.Accept="application/json"),"GET"!==g&&"HEAD"!==g&&(y["content-type"]||y["Content-Type"]||(y["Content-Type"]="application/json"),v=JSON.stringify(!0===e.json?v:e.json))),p.onreadystatechange=function(){4!==p.readyState||o.responseInterceptorsStorage.getIsEnabled()||setTimeout(u,0)},p.onload=u,p.onerror=c,p.onprogress=function(){},p.onabort=function(){h=!0,clearTimeout(e.retryTimeout)},p.ontimeout=c,p.open(g,m,!b,e.username,e.password),b||(p.withCredentials=!!e.withCredentials),!b&&e.timeout>0&&(f=setTimeout(function(){if(!h){h=!0,p.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",c(e)}},e.timeout)),p.setRequestHeader)for(d in y)y.hasOwnProperty(d)&&p.setRequestHeader(d,y[d]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(p.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(p),p.send(v||null),p}return uU.exports=o,uU.exports.default=o,o.XMLHttpRequest=e.XMLHttpRequest||function(){},o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:e.XDomainRequest,function(e,t){for(var n=0;n<e.length;n++)t(e[n])}(["get","put","post","patch","head","delete"],function(e){o["delete"===e?"del":e]=function(t,n,i){return(n=s(t,n,i)).method=e.toUpperCase(),l(n)}}),uU.exports}();const mU=CO(fU);var gU,vU,yU,bU,_U,TU,SU,wU={exports:{}};function AU(){if(vU)return gU;vU=1;var e=JF(),t=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function n(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function i(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function r(){this.values=t(null)}function a(e,t,n,i){var r=i?e.split(i):[e];for(var a in r)if("string"==typeof r[a]){var s=r[a].split(n);2===s.length&&t(s[0].trim(),s[1].trim())}}function s(e,t,s){var o=e;function l(){var t=i(e);if(null===t)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+o);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=l(),c(),"--\x3e"!==e.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o);e=e.substr(3),c(),t.endTime=l(),c(),function(e,t){var n=new r;a(e,function(e,t){switch(e){case"region":for(var i=s.length-1;i>=0;i--)if(s[i].id===t){n.set(e,s[i].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var r=t.split(","),a=r[0];n.integer(e,a),n.percent(e,a)&&n.set("snapToLines",!1),n.alt(e,a,["auto"]),2===r.length&&n.alt("lineAlign",r[1],["start","center","end"]);break;case"position":r=t.split(","),n.percent(e,r[0]),2===r.length&&n.alt("positionAlign",r[1],["start","center","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","center","end","left","right"])}},/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");try{t.line=n.get("line","auto")}catch(xZ){}t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100);try{t.align=n.get("align","center")}catch(xZ){t.align=n.get("align","middle")}try{t.position=n.get("position","auto")}catch(xZ){t.position=n.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=n.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}n.prototype=t(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var o=e.createElement&&e.createElement("textarea"),l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},c={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},u={v:"title",lang:"lang"},d={rt:"ruby"};function h(e,t){function n(){if(!t)return null;var e,n=t.match(/^([^<]*)(<[^>]*>?)?/);return e=n[1]?n[1]:n[2],t=t.substr(e.length),e}function r(e){return o.innerHTML=e,e=o.textContent,o.textContent="",e}function a(e,t){return!d[t.localName]||d[t.localName]===e.localName}function s(t,n){var i=l[t];if(!i)return null;var r=e.document.createElement(i),a=u[t];return a&&n&&(r[a]=n.trim()),r}for(var h,p=e.document.createElement("div"),f=p,m=[];null!==(h=n());)if("<"!==h[0])f.appendChild(e.document.createTextNode(r(h)));else{if("/"===h[1]){m.length&&m[m.length-1]===h.substr(2).replace(">","")&&(m.pop(),f=f.parentNode);continue}var g,v=i(h.substr(1,h.length-2));if(v){g=e.document.createProcessingInstruction("timestamp",v),f.appendChild(g);continue}var y=h.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(g=s(y[1],y[3])))continue;if(!a(f,g))continue;if(y[2]){var b=y[2].split(".");b.forEach(function(e){var t=/^bg_/.test(e),n=t?e.slice(3):e;if(c.hasOwnProperty(n)){var i=t?"background-color":"color",r=c[n];g.style[i]=r}}),g.className=b.join(" ")}m.push(y[1]),f.appendChild(g),f=g}return p}var p=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function f(e){for(var t=0;t<p.length;t++){var n=p[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function m(e){var t=[],n="";if(!e||!e.childNodes)return"ltr";function i(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function r(e){if(!e||!e.length)return null;var t=e.pop(),n=t.textContent||t.innerText;if(n){var a=n.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):n}return"ruby"===t.tagName?r(e):t.childNodes?(i(e,t),r(e)):void 0}for(i(t,e);n=r(t);)for(var a=0;a<n.length;a++)if(f(n.charCodeAt(a)))return"rtl";return"ltr"}function g(){}function v(e,t,n){g.call(this),this.cue=t,this.cueDiv=h(e,t.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=e.document.createElement("div"),i={direction:m(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":case"line-left":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":case"line-right":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function y(e){var t,n,i,r;if(e.div){n=e.div.offsetHeight,i=e.div.offsetWidth,r=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||n,this.bottom=e.bottom||r+(e.height||n),this.width=e.width||i,this.lineHeight=void 0!==t?t:e.lineHeight}function b(e,t,n,i){var r=new y(t),a=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}(a),o=[];if(a.snapToLines){var l;switch(a.vertical){case"":o=["+y","-y"],l="height";break;case"rl":o=["+x","-x"],l="width";break;case"lr":o=["-x","+x"],l="width"}var c=r.lineHeight,u=c*Math.round(s),d=n[l]+c,h=o[0];Math.abs(u)>d&&(u=u<0?-1:1,u*=Math.ceil(d/c)*c),s<0&&(u+=""===a.vertical?n.height:n.width,o=o.reverse()),r.move(h,u)}else{var p=r.lineHeight/n.height*100;switch(a.lineAlign){case"center":s-=p/2;break;case"end":s-=p}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}o=["+y","-x","+x","-y"],r=new y(t)}var f=function(e,t){for(var r,a=new y(e),s=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(n,t[o])||e.within(n)&&e.overlapsAny(i);)e.move(t[o]);if(e.within(n))return e;var l=e.intersectPercentage(n);s>l&&(r=new y(e),s=l),e=new y(a)}return r||a}(r,o);t.move(f.toCSSCompatValues(n))}function _(){}return g.prototype.applyStyles=function(e,t){for(var n in t=t||this.div,e)e.hasOwnProperty(n)&&(t.style[n]=e[n])},g.prototype.formatStyle=function(e,t){return 0===e?0:e+t},v.prototype=t(g.prototype),v.prototype.constructor=v,y.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},y.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},y.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},y.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},y.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},y.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},y.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},y.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}},_.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},_.convertCueToDOMTree=function(e,t){return e&&t?h(e,t):null},_.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin="1.5%",n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],a=y.getSimpleBoxPosition(i),s={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var n,o,l=0;l<t.length;l++)o=t[l],n=new v(e,o,s),i.appendChild(n.div),b(0,n,a,r),o.displayState=n.div,r.push(y.getSimpleBoxPosition(n))}()}else for(var o=0;o<t.length;o++)i.appendChild(t[o].displayState)},_.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]},_.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof n))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function o(){for(var e=t.buffer,n=0;n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var i=e.substr(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.substr(n),i}function l(e){e.match(/X-TIMESTAMP-MAP/)?a(e,function(e,n){"X-TIMESTAMP-MAP"===e&&function(e){var n=new r;a(e,function(e,t){switch(e){case"MPEGT":n.integer(e+"S",t);break;case"LOCA":n.set(e+"L",i(t))}},/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:n.get("MPEGTS"),LOCAL:n.get("LOCAL")})}(n)},/=/):a(e,function(e,n){"Region"===e&&function(e){var n=new r;if(a(e,function(e,t){switch(e){case"id":n.set(e,t);break;case"width":n.percent(e,t);break;case"lines":n.integer(e,t);break;case"regionanchor":case"viewportanchor":var i=t.split(",");if(2!==i.length)break;var a=new r;if(a.percent("x",i[0]),a.percent("y",i[1]),!a.has("x")||!a.has("y"))break;n.set(e+"X",a.get("x")),n.set(e+"Y",a.get("y"));break;case"scroll":n.alt(e,t,["up"])}},/=/,/\s/),n.has("id")){var i=new(t.vttjs.VTTRegion||t.window.VTTRegion);i.width=n.get("width",100),i.lines=n.get("lines",3),i.regionAnchorX=n.get("regionanchorX",0),i.regionAnchorY=n.get("regionanchorY",100),i.viewportAnchorX=n.get("viewportanchorX",0),i.viewportAnchorY=n.get("viewportanchorY",100),i.scroll=n.get("scroll",""),t.onregion&&t.onregion(i),t.regionList.push({id:n.get("id"),region:i})}}(n)},/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var c;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var u=(c=o()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new n(n.Errors.BadSignature);t.state="HEADER"}for(var d=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(d?d=!1:c=o(),t.state){case"HEADER":/:/.test(c)?l(c):c||(t.state="ID");continue;case"NOTE":c||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){t.state="NOTE";break}if(!c)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(xZ){t.cue.align="middle"}if(t.state="CUE",-1===c.indexOf("--\x3e")){t.cue.id=c;continue}case"CUE":try{s(c,t.cue,t.regionList)}catch(xZ){t.reportOrThrowError(xZ),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var h=-1!==c.indexOf("--\x3e");if(!c||h&&(d=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=c.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":c||(t.state="ID");continue}}}catch(xZ){t.reportOrThrowError(xZ),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new n(n.Errors.BadSignature)}catch(xZ){e.reportOrThrowError(xZ)}return e.onflush&&e.onflush(),this}},gU=_}function kU(){if(bU)return yU;bU=1;var e={"":1,lr:1,rl:1},t={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function n(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}function i(t,i,r){this.hasBeenReset=!1;var a="",s=!1,o=t,l=i,c=r,u=null,d="",h=!0,p="auto",f="start",m="auto",g="auto",v=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return a},set:function(e){a=""+e}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(e){s=!!e}},startTime:{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");o=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");l=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return c},set:function(e){c=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(e){u=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return d},set:function(t){var n=function(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===n)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");d=n,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return h},set:function(e){h=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return p},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");p=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(e){var t=n(e);t?(f=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");m=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(e){var t=n(e);t?(g=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return v},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");v=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(e){var t=n(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=t,this.hasBeenReset=!0}}}),this.displayState=void 0}return i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},yU=i}function xU(){if(TU)return _U;TU=1;var e={"":!0,up:!0};function t(e){return"number"==typeof e&&e>=0&&e<=100}return _U=function(){var n=100,i=3,r=0,a=100,s=0,o=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(e){if(!t(e))throw new Error("Width must be between 0 and 100.");n=e}},lines:{enumerable:!0,get:function(){return i},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");i=e}},regionAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!t(e))throw new Error("RegionAnchorX must be between 0 and 100.");a=e}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!t(e))throw new Error("RegionAnchorY must be between 0 and 100.");r=e}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(e){if(!t(e))throw new Error("ViewportAnchorY must be between 0 and 100.");o=e}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(e){if(!t(e))throw new Error("ViewportAnchorX must be between 0 and 100.");s=e}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var n=function(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);!1===n?console.warn("Scroll: an invalid or illegal string was specified."):l=n}}})},_U}const CU=CO(function(){if(SU)return wU.exports;SU=1;var e=WF(),t=wU.exports={WebVTT:AU(),VTTCue:kU(),VTTRegion:xU()};e.vttjs=t,e.WebVTT=t.WebVTT;var n=t.VTTCue,i=t.VTTRegion,r=e.VTTCue,a=e.VTTRegion;return t.shim=function(){e.VTTCue=n,e.VTTRegion=i},t.restore=function(){e.VTTCue=r,e.VTTRegion=a},e.VTTCue||t.shim(),wU.exports}());function EU(){return EU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},EU.apply(null,arguments)}var OU="https://example.com",IU=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=GF.location&&GF.location.href||"");var n=/^\/\//.test(e),i=!GF.location&&!/\/\//i.test(e);e=new GF.URL(e,GF.location||OU);var r=new URL(t,e);return i?r.href.slice(19):n?r.href.slice(r.protocol.length):r.href},DU=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=t.length,s=0;s<a;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",function(t){e.push(t)})},e}();function PU(e){for(var t,n=(t=e,GF.atob?GF.atob(t):Buffer.from(t,"base64").toString("binary")),i=new Uint8Array(n.length),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class LU extends DU{constructor(){super(),this.buffer=""}push(e){let t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}const RU=String.fromCharCode(9),MU=function(e){const t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},NU=function(e){const t={};if(!e)return t;const n=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'));let i,r=n.length;for(;r--;)""!==n[r]&&(i=/([^=]*)=(.*)/.exec(n[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),t[i[0]]=i[1]);return t},jU=e=>{const t=e.split("x"),n={};return t[0]&&(n.width=parseInt(t[0],10)),t[1]&&(n.height=parseInt(t[1],10)),n};class BU extends DU{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let t,n;0!==(e=e.trim()).length&&("#"===e[0]?this.tagMappers.reduce((t,n)=>{const i=n(e);return i===e?t:t.concat([i])},[e]).forEach(e=>{for(let t=0;t<this.customParsers.length;t++)if(this.customParsers[t].call(this,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e),t)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),void this.trigger("data",n);if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),void this.trigger("data",n);if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),void this.trigger("data",n);if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(e),t)return n=EU(MU(t[1]),{type:"tag",tagType:"byterange"}),void this.trigger("data",n);if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(e),t)return n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-MAP:(.*)$/.exec(e),t){if(n={type:"tag",tagType:"map"},t[1]){const e=NU(t[1]);e.URI&&(n.uri=e.URI),e.BYTERANGE&&(n.byterange=MU(e.BYTERANGE))}this.trigger("data",n)}else{if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(e),t)return n={type:"tag",tagType:"stream-inf"},t[1]&&(n.attributes=NU(t[1]),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=jU(n.attributes.RESOLUTION)),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))),void this.trigger("data",n);if(t=/^#EXT-X-MEDIA:(.*)$/.exec(e),t)return n={type:"tag",tagType:"media"},t[1]&&(n.attributes=NU(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-ENDLIST/.exec(e),t)this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(e),t)return n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),void this.trigger("data",n);if(t=/^#EXT-X-KEY:(.*)$/.exec(e),t)return n={type:"tag",tagType:"key"},t[1]&&(n.attributes=NU(t[1]),n.attributes.IV&&("0x"===n.attributes.IV.substring(0,2).toLowerCase()&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),void this.trigger("data",n);if(t=/^#EXT-X-START:(.*)$/.exec(e),t)return n={type:"tag",tagType:"start"},t[1]&&(n.attributes=NU(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e),t)return n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",void this.trigger("data",n);if(t=/^#EXT-X-SKIP:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"skip"},n.attributes=NU(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(RU)),void this.trigger("data",n);if(t=/^#EXT-X-PART:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"part"},n.attributes=NU(t[1]),["DURATION"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))}),["INDEPENDENT","GAP"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=MU(n.attributes.BYTERANGE)),void this.trigger("data",n);if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"server-control"},n.attributes=NU(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/.test(n.attributes[e]))}),void this.trigger("data",n);if(t=/^#EXT-X-PART-INF:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"part-inf"},n.attributes=NU(t[1]),["PART-TARGET"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))}),void this.trigger("data",n);if(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"preload-hint"},n.attributes=NU(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(e){if(n.attributes.hasOwnProperty(e)){n.attributes[e]=parseInt(n.attributes[e],10);const t="BYTERANGE-LENGTH"===e?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[t]=n.attributes[e],delete n.attributes[e]}}),void this.trigger("data",n);if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e),t&&t[1])return n={type:"tag",tagType:"rendition-report"},n.attributes=NU(t[1]),["LAST-MSN","LAST-PART"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseInt(n.attributes[e],10))}),void this.trigger("data",n);if(t=/^#EXT-X-DATERANGE:(.*)$/.exec(e),t&&t[1]){n={type:"tag",tagType:"daterange"},n.attributes=NU(t[1]),["ID","CLASS"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=String(n.attributes[e]))}),["START-DATE","END-DATE"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=new Date(n.attributes[e]))}),["DURATION","PLANNED-DURATION"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=parseFloat(n.attributes[e]))}),["END-ON-NEXT"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=/YES/i.test(n.attributes[e]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(e){n.attributes.hasOwnProperty(e)&&(n.attributes[e]=n.attributes[e].toString(16))});const e=/^X-([A-Z]+-)+[A-Z]+$/;for(const t in n.attributes){if(!e.test(t))continue;const i=/[0-9A-Fa-f]{6}/g.test(n.attributes[t]),r=/^\d+(\.\d+)?$/.test(n.attributes[t]);n.attributes[t]=i?n.attributes[t].toString(16):r?parseFloat(n.attributes[t]):String(n.attributes[t])}return void this.trigger("data",n)}if(t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(e),t)this.trigger("data",{type:"tag",tagType:"independent-segments"});else if(t=/^#EXT-X-I-FRAMES-ONLY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"i-frames-only"});else{if(t=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(e),t)return n={type:"tag",tagType:"content-steering"},n.attributes=NU(t[1]),void this.trigger("data",n);if(t=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(e),t)return n={type:"tag",tagType:"i-frame-playlist"},n.attributes=NU(t[1]),n.attributes.URI&&(n.uri=n.attributes.URI),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=jU(n.attributes.RESOLUTION)),n.attributes["AVERAGE-BANDWIDTH"]&&(n.attributes["AVERAGE-BANDWIDTH"]=parseInt(n.attributes["AVERAGE-BANDWIDTH"],10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),void this.trigger("data",n);if(t=/^#EXT-X-DEFINE:(.*)$/.exec(e),t)return n={type:"tag",tagType:"define"},n.attributes=NU(t[1]),void this.trigger("data",n);this.trigger("data",{type:"tag",data:e.slice(4)})}}}}else this.trigger("data",{type:"comment",text:e.slice(1)})}):this.trigger("data",{type:"uri",uri:e}))}addParser({expression:e,customType:t,dataParser:n,segment:i}){"function"!=typeof n&&(n=e=>e),this.customParsers.push(r=>{if(e.exec(r))return this.trigger("data",{type:"custom",data:n(r),customType:t,segment:i}),!0})}addTagMapper({expression:e,map:t}){this.tagMappers.push(n=>e.test(n)?t(n):n)}}const FU=function(e){const t={};return Object.keys(e).forEach(function(n){var i;t[(i=n,i.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()))]=e[n]}),t},UU=function(e){const{serverControl:t,targetDuration:n,partTargetDuration:i}=e;if(!t)return;const r="#EXT-X-SERVER-CONTROL",a="holdBack",s="partHoldBack",o=n&&3*n,l=i&&2*i;n&&!t.hasOwnProperty(a)&&(t[a]=o,this.trigger("info",{message:`${r} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&t[a]<o&&(this.trigger("warn",{message:`${r} clamping HOLD-BACK (${t[a]}) to targetDuration * 3 (${o})`}),t[a]=o),i&&!t.hasOwnProperty(s)&&(t[s]=3*i,this.trigger("info",{message:`${r} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${t[s]}).`})),i&&t[s]<l&&(this.trigger("warn",{message:`${r} clamping PART-HOLD-BACK (${t[s]}) to partTargetDuration * 2 (${l}).`}),t[s]=l)};class $U extends DU{constructor(e={}){super(),this.lineStream=new LU,this.parseStream=new BU,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const t=this,n=[];let i,r,a={},s=!1;const o=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let c=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let u=0,d=0;const h={};this.on("end",()=>{a.uri||!a.parts&&!a.preloadHints||(!a.map&&i&&(a.map=i),!a.key&&r&&(a.key=r),a.timeline||"number"!=typeof c||(a.timeline=c),this.manifest.preloadSegment=a)}),this.parseStream.on("data",function(e){let p,f;if(t.manifest.definitions)for(const n in t.manifest.definitions)if(e.uri&&(e.uri=e.uri.replace(`{$${n}}`,t.manifest.definitions[n])),e.attributes)for(const i in e.attributes)"string"==typeof e.attributes[i]&&(e.attributes[i]=e.attributes[i].replace(`{$${n}}`,t.manifest.definitions[n]));({tag(){({version(){e.version&&(this.manifest.version=e.version)},"allow-cache"(){this.manifest.allowCache=e.allowed,"allowed"in e||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const t={};"length"in e&&(a.byterange=t,t.length=e.length,"offset"in e||(e.offset=u)),"offset"in e&&(a.byterange=t,t.offset=e.offset),u=t.offset+t.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),e.title&&(a.title=e.title),e.duration>0&&(a.duration=e.duration),0===e.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(e.attributes)if("NONE"!==e.attributes.METHOD)if(e.attributes.URI){if("com.apple.streamingkeydelivery"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:e.attributes});if("com.microsoft.playready"===e.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:e.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===e.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===e.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==e.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):e.attributes.KEYID&&"0x"===e.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:e.attributes.KEYFORMAT,keyId:e.attributes.KEYID.substring(2)},pssh:PU(e.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));e.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),r={method:e.attributes.METHOD||"AES-128",uri:e.attributes.URI},void 0!==e.attributes.IV&&(r.iv=e.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else r=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence"(){isFinite(e.number)?this.manifest.mediaSequence=e.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+e.number})},"discontinuity-sequence"(){isFinite(e.number)?(this.manifest.discontinuitySequence=e.number,c=e.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+e.number})},"playlist-type"(){/VOD|EVENT/.test(e.playlistType)?this.manifest.playlistType=e.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+e.playlist})},map(){i={},e.uri&&(i.uri=e.uri),e.byterange&&(i.byterange=e.byterange),r&&(i.key=r)},"stream-inf"(){this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||l,e.attributes?(a.attributes||(a.attributes={}),EU(a.attributes,e.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(e.attributes&&e.attributes.TYPE&&e.attributes["GROUP-ID"]&&e.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});const t=this.manifest.mediaGroups[e.attributes.TYPE];t[e.attributes["GROUP-ID"]]=t[e.attributes["GROUP-ID"]]||{},p=t[e.attributes["GROUP-ID"]],f={default:/yes/i.test(e.attributes.DEFAULT)},f.default?f.autoselect=!0:f.autoselect=/yes/i.test(e.attributes.AUTOSELECT),e.attributes.LANGUAGE&&(f.language=e.attributes.LANGUAGE),e.attributes.URI&&(f.uri=e.attributes.URI),e.attributes["INSTREAM-ID"]&&(f.instreamId=e.attributes["INSTREAM-ID"]),e.attributes.CHARACTERISTICS&&(f.characteristics=e.attributes.CHARACTERISTICS),e.attributes.FORCED&&(f.forced=/yes/i.test(e.attributes.FORCED)),p[e.attributes.NAME]=f},discontinuity(){c+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=e.dateTimeString,this.manifest.dateTimeObject=e.dateTimeObject),a.dateTimeString=e.dateTimeString,a.dateTimeObject=e.dateTimeObject;const{lastProgramDateTime:t}=this;this.lastProgramDateTime=new Date(e.dateTimeString).getTime(),null===t&&this.manifest.segments.reduceRight((e,t)=>(t.programDateTime=e-1e3*t.duration,t.programDateTime),this.lastProgramDateTime)},targetduration(){!isFinite(e.duration)||e.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+e.duration}):(this.manifest.targetDuration=e.duration,UU.call(this,this.manifest))},start(){e.attributes&&!isNaN(e.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:e.attributes["TIME-OFFSET"],precise:e.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out"(){a.cueOut=e.data},"cue-out-cont"(){a.cueOutCont=e.data},"cue-in"(){a.cueIn=e.data},skip(){this.manifest.skip=FU(e.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",e.attributes,["SKIPPED-SEGMENTS"])},part(){s=!0;const t=this.manifest.segments.length,n=FU(e.attributes);a.parts=a.parts||[],a.parts.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=d),d=n.byterange.offset+n.byterange.length);const i=a.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${i} for segment #${t}`,e.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((e,t)=>{e.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${t} lacks required attribute(s): LAST-PART`})})},"server-control"(){const t=this.manifest.serverControl=FU(e.attributes);t.hasOwnProperty("canBlockReload")||(t.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),UU.call(this,this.manifest),t.canSkipDateranges&&!t.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const t=this.manifest.segments.length,n=FU(e.attributes),i=n.type&&"PART"===n.type;a.preloadHints=a.preloadHints||[],a.preloadHints.push(n),n.byterange&&(n.byterange.hasOwnProperty("offset")||(n.byterange.offset=i?d:0,i&&(d=n.byterange.offset+n.byterange.length)));const r=a.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${r} for segment #${t}`,e.attributes,["TYPE","URI"]),n.type)for(let e=0;e<a.preloadHints.length-1;e++){const i=a.preloadHints[e];i.type&&i.type===n.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${r} for segment #${t} has the same TYPE ${n.type} as preload hint #${e}`})}},"rendition-report"(){const t=FU(e.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(t);const n=this.manifest.renditionReports.length-1,i=["LAST-MSN","URI"];s&&i.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${n}`,e.attributes,i)},"part-inf"(){this.manifest.partInf=FU(e.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",e.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),UU.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(FU(e.attributes));const t=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${t}`,e.attributes,["ID","START-DATE"]);const n=this.manifest.dateRanges[t];n.endDate&&n.startDate&&new Date(n.endDate)<new Date(n.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),n.duration&&n.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),n.plannedDuration&&n.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const i=!!n.endOnNext;if(i&&!n.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),i&&(n.duration||n.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),n.duration&&n.endDate){const e=n.startDate.getTime()+1e3*n.duration;this.manifest.dateRanges[t].endDate=new Date(e)}if(h[n.id]){for(const t in h[n.id])if(n[t]&&JSON.stringify(h[n.id][t])!==JSON.stringify(n[t])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const e=this.manifest.dateRanges.findIndex(e=>e.id===n.id);this.manifest.dateRanges[e]=EU(this.manifest.dateRanges[e],n),h[n.id]=EU(h[n.id],n),this.manifest.dateRanges.pop()}else h[n.id]=n},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=FU(e.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",e.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const t=(e,t)=>{e in this.manifest.definitions?this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${e}`}):this.manifest.definitions[e]=t};if("QUERYPARAM"in e.attributes){if("NAME"in e.attributes||"IMPORT"in e.attributes)return void this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});const n=this.params.get(e.attributes.QUERYPARAM);return n?void t(e.attributes.QUERYPARAM,decodeURIComponent(n)):void this.trigger("error",{message:`EXT-X-DEFINE: No query param ${e.attributes.QUERYPARAM}`})}return"NAME"in e.attributes?"IMPORT"in e.attributes?void this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"}):"VALUE"in e.attributes&&"string"==typeof e.attributes.VALUE?void t(e.attributes.NAME,e.attributes.VALUE):void this.trigger("error",{message:`EXT-X-DEFINE: No value for ${e.attributes.NAME}`}):"IMPORT"in e.attributes?this.mainDefinitions[e.attributes.IMPORT]?void t(e.attributes.IMPORT,this.mainDefinitions[e.attributes.IMPORT]):void this.trigger("error",{message:`EXT-X-DEFINE: No value ${e.attributes.IMPORT} to import, or IMPORT used on main playlist`}):void this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:e.attributes,uri:e.uri,timeline:c}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",e.attributes,["BANDWIDTH","URI"])}}[e.tagType]||o).call(t)},uri(){a.uri=e.uri,n.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),r&&(a.key=r),a.timeline=c,i&&(a.map=i),d=0,null!==this.lastProgramDateTime&&(a.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=1e3*a.duration),a={}},comment(){},custom(){e.segment?(a.custom=a.custom||{},a.custom[e.customType]=e.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[e.customType]=e.data)}})[e.type].call(t)})}requiredCompatibilityversion(e,t){(e<t||!e)&&this.trigger("warn",{message:`manifest must be at least version ${t}`})}warnOnMissingAttributes_(e,t,n){const i=[];n.forEach(function(e){t.hasOwnProperty(e)||i.push(e)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.manifest.dateRanges.length&&null===this.lastProgramDateTime&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var VU={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},qU=["video","audio","text"],zU=["Video","Audio","Text"],HU=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,n){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)}):e},WU=function(e){void 0===e&&(e="");var t=e.split(","),n=[];return t.forEach(function(e){var t;e=e.trim(),qU.forEach(function(i){var r=VU[i].exec(e.toLowerCase());if(r&&!(r.length<=1)){t=i;var a=e.substring(0,r[1].length),s=e.replace(a,"");n.push({type:a,details:s,mediaType:i})}}),t||n.push({type:e,details:"",mediaType:"unknown"})}),n},GU=function(e){return void 0===e&&(e=""),VU.audio.test(e.trim().toLowerCase())},XU=function(e){if(e&&"string"==typeof e){var t,n=e.toLowerCase().split(",").map(function(e){return HU(e.trim())}),i="video";1===n.length&&GU(n[0])?i="audio":1===n.length&&(void 0===(t=n[0])&&(t=""),VU.text.test(t.trim().toLowerCase()))&&(i="application");var r="mp4";return n.every(function(e){return VU.mp4.test(e)})?r="mp4":n.every(function(e){return VU.webm.test(e)})?r="webm":n.every(function(e){return VU.ogg.test(e)})&&(r="ogg"),i+"/"+r+';codecs="'+e+'"'}},YU=function(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),GF.MediaSource&&GF.MediaSource.isTypeSupported&&GF.MediaSource.isTypeSupported(XU(e))||t&&GF.ManagedMediaSource&&GF.ManagedMediaSource.isTypeSupported&&GF.ManagedMediaSource.isTypeSupported(XU(e))||!1},KU=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every(function(e){e=e.trim();for(var t=0;t<zU.length;t++)if(VU["muxer"+zU[t]].test(e))return!0;return!1})},QU="mp4a.40.2",JU=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,ZU=/^application\/dash\+xml/i,e$=function(e){return JU.test(e)?"hls":ZU.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},t$=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},n$=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||t$(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},i$=GF.BigInt||Number,r$=[i$("0x1"),i$("0x100"),i$("0x10000"),i$("0x1000000"),i$("0x100000000"),i$("0x10000000000"),i$("0x1000000000000"),i$("0x100000000000000"),i$("0x10000000000000000")];!function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}();var a$,s$,o$=function(e,t){var n=void 0===t?{}:t,i=n.signed,r=void 0!==i&&i,a=n.le,s=void 0!==a&&a;e=n$(e);var o=s?"reduce":"reduceRight",l=(e[o]?e[o]:Array.prototype[o]).call(e,function(t,n,i){var r=s?i:Math.abs(i+1-e.length);return t+i$(n)*r$[r]},i$(0));if(r){var c=r$[e.length]/i$(2)-i$(1);(l=i$(l))>c&&(l-=c,l-=c,l-=i$(2))}return Number(l)},l$=function(e,t){var n={}.le,i=void 0!==n&&n;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0),e=i$(e);for(var r,a=(r=e,Math.ceil(function(e){return e.toString(2).length}(r)/8)),s=new Uint8Array(new ArrayBuffer(a)),o=0;o<a;o++){var l=i?o:Math.abs(o+1-s.length);s[l]=Number(e/r$[o]&i$(255)),e<0&&(s[l]=Math.abs(~s[l]),s[l]-=0===o?1:2)}return s},c$=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},u$=function(e,t,n){var i=void 0===n?{}:n,r=i.offset,a=void 0===r?0:r,s=i.mask,o=void 0===s?[]:s;e=n$(e);var l=(t=n$(t)).every?t.every:Array.prototype.every;return t.length&&e.length-a>=t.length&&l.call(t,function(t,n){return t===(o[n]?o[n]&e[a+n]:e[a+n])})},d$={},h$={},p$={};function f$(){if(a$)return p$;function e(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}a$=1;var t=e({HTML:"text/html",isHTML:function(e){return e===t.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),n=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===n.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return p$.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},p$.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var i=0;i<e.length;i++)if(Object.prototype.hasOwnProperty.call(e,i)){var r=e[i];if(t.call(void 0,r,i,e))return r}},p$.freeze=e,p$.MIME_TYPE=t,p$.NAMESPACE=n,p$}function m$(){if(s$)return h$;s$=1;var e=f$(),t=e.find,n=e.NAMESPACE;function i(e){return""!==e}function r(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function a(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(i):[]}(e);return Object.keys(t.reduce(r,{}))}function s(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function o(e,t){var n=e.prototype;if(!(n instanceof t)){function i(){}i.prototype=t.prototype,s(n,i=new i),e.prototype=n=i}n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var l={},c=l.ELEMENT_NODE=1,u=l.ATTRIBUTE_NODE=2,d=l.TEXT_NODE=3,h=l.CDATA_SECTION_NODE=4,p=l.ENTITY_REFERENCE_NODE=5,f=l.ENTITY_NODE=6,m=l.PROCESSING_INSTRUCTION_NODE=7,g=l.COMMENT_NODE=8,v=l.DOCUMENT_NODE=9,y=l.DOCUMENT_TYPE_NODE=10,b=l.DOCUMENT_FRAGMENT_NODE=11,_=l.NOTATION_NODE=12,T={},S={};T.INDEX_SIZE_ERR=(S[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(S[2]="DOMString size error",2);var w=T.HIERARCHY_REQUEST_ERR=(S[3]="Hierarchy request error",3);T.WRONG_DOCUMENT_ERR=(S[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(S[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(S[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(S[7]="No modification allowed",7);var A=T.NOT_FOUND_ERR=(S[8]="Not found",8);T.NOT_SUPPORTED_ERR=(S[9]="Not supported",9);var k=T.INUSE_ATTRIBUTE_ERR=(S[10]="Attribute in use",10);function x(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,S[e]),this.message=S[e],Error.captureStackTrace&&Error.captureStackTrace(this,x);return n.code=e,t&&(this.message=this.message+": "+t),n}function C(){}function E(e,t){this._node=e,this._refresh=t,O(this)}function O(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(ve(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var i=n.length;i in e;i++)Object.prototype.hasOwnProperty.call(e,i)&&delete e[i];s(n,e),e._inc=t}}function I(){}function D(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function P(e,t,i,r){if(r?t[D(t,r)]=i:t[t.length++]=i,e){i.ownerElement=e;var a=e.ownerDocument;a&&(r&&F(a,e,r),function(e,t,i){e&&e._inc++;var r=i.namespaceURI;r===n.XMLNS&&(t._nsMap[i.prefix?i.localName:""]=i.value)}(a,e,i))}}function L(e,t,n){var i=D(t,n);if(!(i>=0))throw new x(A,new Error(e.tagName+"@"+n));for(var r=t.length-1;i<r;)t[i]=t[++i];if(t.length=r,e){var a=e.ownerDocument;a&&(F(a,e,n),n.ownerElement=null)}}function R(){}function M(){}function N(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function j(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(j(e,t))return!0}while(e=e.nextSibling)}function B(){this.ownerDocument=this}function F(e,t,i,r){e&&e._inc++,i.namespaceURI===n.XMLNS&&delete t._nsMap[i.prefix?i.localName:""]}function U(e,t,n){if(e&&e._inc){e._inc++;var i=t.childNodes;if(n)i[i.length++]=n;else{for(var r=t.firstChild,a=0;r;)i[a++]=r,r=r.nextSibling;i.length=a,delete i[i.length]}}}function $(e,t){var n=t.previousSibling,i=t.nextSibling;return n?n.nextSibling=i:e.firstChild=i,i?i.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,U(e.ownerDocument,e),t}function V(e){return e&&e.nodeType===M.DOCUMENT_TYPE_NODE}function q(e){return e&&e.nodeType===M.ELEMENT_NODE}function z(e){return e&&e.nodeType===M.TEXT_NODE}function H(e,n){var i=e.childNodes||[];if(t(i,q)||V(n))return!1;var r=t(i,V);return!(n&&r&&i.indexOf(r)>i.indexOf(n))}function W(e,n){var i=e.childNodes||[];if(t(i,function(e){return q(e)&&e!==n}))return!1;var r=t(i,V);return!(n&&r&&i.indexOf(r)>i.indexOf(n))}function G(e,t,n){if(!function(e){return e&&(e.nodeType===M.DOCUMENT_NODE||e.nodeType===M.DOCUMENT_FRAGMENT_NODE||e.nodeType===M.ELEMENT_NODE)}(e))throw new x(w,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new x(A,"child not in parent");if(!function(e){return e&&(q(e)||z(e)||V(e)||e.nodeType===M.DOCUMENT_FRAGMENT_NODE||e.nodeType===M.COMMENT_NODE||e.nodeType===M.PROCESSING_INSTRUCTION_NODE)}(t)||V(t)&&e.nodeType!==M.DOCUMENT_NODE)throw new x(w,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function X(e,n,i){var r=e.childNodes||[],a=n.childNodes||[];if(n.nodeType===M.DOCUMENT_FRAGMENT_NODE){var s=a.filter(q);if(s.length>1||t(a,z))throw new x(w,"More than one element or text in fragment");if(1===s.length&&!H(e,i))throw new x(w,"Element in fragment can not be inserted before doctype")}if(q(n)&&!H(e,i))throw new x(w,"Only one element can be added and only after doctype");if(V(n)){if(t(r,V))throw new x(w,"Only one doctype is allowed");var o=t(r,q);if(i&&r.indexOf(o)<r.indexOf(i))throw new x(w,"Doctype can only be inserted before an element");if(!i&&o)throw new x(w,"Doctype can not be appended since element is present")}}function Y(e,n,i){var r=e.childNodes||[],a=n.childNodes||[];if(n.nodeType===M.DOCUMENT_FRAGMENT_NODE){var s=a.filter(q);if(s.length>1||t(a,z))throw new x(w,"More than one element or text in fragment");if(1===s.length&&!W(e,i))throw new x(w,"Element in fragment can not be inserted before doctype")}if(q(n)&&!W(e,i))throw new x(w,"Only one element can be added and only after doctype");if(V(n)){function l(e){return V(e)&&e!==i}if(t(r,l))throw new x(w,"Only one doctype is allowed");var o=t(r,q);if(i&&r.indexOf(o)<r.indexOf(i))throw new x(w,"Doctype can only be inserted before an element")}}function K(e,t,n,i){G(e,t,n),e.nodeType===M.DOCUMENT_NODE&&(i||X)(e,t,n);var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===b){var a=t.firstChild;if(null==a)return t;var s=t.lastChild}else a=s=t;var o=n?n.previousSibling:e.lastChild;a.previousSibling=o,s.nextSibling=n,o?o.nextSibling=a:e.firstChild=a,null==n?e.lastChild=s:n.previousSibling=s;do{a.parentNode=e,Q(a,e.ownerDocument||e)}while(a!==s&&(a=a.nextSibling));return U(e.ownerDocument||e,e),t.nodeType==b&&(t.firstChild=t.lastChild=null),t}function Q(e,t){if(e.ownerDocument!==t){if(e.ownerDocument=t,e.nodeType===c&&e.attributes)for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);i&&(i.ownerDocument=t)}for(var r=e.firstChild;r;)Q(r,t),r=r.nextSibling}}function J(){this._nsMap={}}function Z(){}function ee(){}function te(){}function ne(){}function ie(){}function re(){}function ae(){}function se(){}function oe(){}function le(){}function ce(){}function ue(){}function de(e,t){var n=[],i=9==this.nodeType&&this.documentElement||this,r=i.prefix,a=i.namespaceURI;if(a&&null==r&&null==(r=i.lookupPrefix(a)))var s=[{namespace:a,prefix:null}];return fe(this,n,e,t,s),n.join("")}function he(e,t,i){var r=e.prefix||"",a=e.namespaceURI;if(!a)return!1;if("xml"===r&&a===n.XML||a===n.XMLNS)return!1;for(var s=i.length;s--;){var o=i[s];if(o.prefix===r)return o.namespace!==a}return!0}function pe(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,N),'"')}function fe(e,t,i,r,a){if(a||(a=[]),r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case c:var s=e.attributes,o=s.length,l=e.firstChild,f=e.tagName,_=f;if(!(i=n.isHTML(e.namespaceURI)||i)&&!e.prefix&&e.namespaceURI){for(var T,S=0;S<s.length;S++)if("xmlns"===s.item(S).name){T=s.item(S).value;break}if(!T)for(var w=a.length-1;w>=0;w--)if(""===(A=a[w]).prefix&&A.namespace===e.namespaceURI){T=A.namespace;break}if(T!==e.namespaceURI)for(w=a.length-1;w>=0;w--){var A;if((A=a[w]).namespace===e.namespaceURI){A.prefix&&(_=A.prefix+":"+f);break}}}t.push("<",_);for(var k=0;k<o;k++)"xmlns"==(x=s.item(k)).prefix?a.push({prefix:x.localName,namespace:x.value}):"xmlns"==x.nodeName&&a.push({prefix:"",namespace:x.value});for(k=0;k<o;k++){var x,C,E;he(x=s.item(k),0,a)&&(pe(t,(C=x.prefix||"")?"xmlns:"+C:"xmlns",E=x.namespaceURI),a.push({prefix:C,namespace:E})),fe(x,t,i,r,a)}if(f===_&&he(e,0,a)&&(pe(t,(C=e.prefix||"")?"xmlns:"+C:"xmlns",E=e.namespaceURI),a.push({prefix:C,namespace:E})),l||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(f)){if(t.push(">"),i&&/^script$/i.test(f))for(;l;)l.data?t.push(l.data):fe(l,t,i,r,a.slice()),l=l.nextSibling;else for(;l;)fe(l,t,i,r,a.slice()),l=l.nextSibling;t.push("</",_,">")}else t.push("/>");return;case v:case b:for(l=e.firstChild;l;)fe(l,t,i,r,a.slice()),l=l.nextSibling;return;case u:return pe(t,e.name,e.value);case d:return t.push(e.data.replace(/[<&>]/g,N));case h:return t.push("<![CDATA[",e.data,"]]>");case g:return t.push("\x3c!--",e.data,"--\x3e");case y:var O=e.publicId,I=e.systemId;if(t.push("<!DOCTYPE ",e.name),O)t.push(" PUBLIC ",O),I&&"."!=I&&t.push(" ",I),t.push(">");else if(I&&"."!=I)t.push(" SYSTEM ",I,">");else{var D=e.internalSubset;D&&t.push(" [",D,"]"),t.push(">")}return;case m:return t.push("<?",e.target," ",e.data,"?>");case p:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function me(e,t,n){var i;switch(t.nodeType){case c:(i=t.cloneNode(!1)).ownerDocument=e;case b:break;case u:n=!0}if(i||(i=t.cloneNode(!1)),i.ownerDocument=e,i.parentNode=null,n)for(var r=t.firstChild;r;)i.appendChild(me(e,r,n)),r=r.nextSibling;return i}function ge(e,t,n){var i=new t.constructor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=t[r];"object"!=typeof a&&a!=i[r]&&(i[r]=a)}switch(t.childNodes&&(i.childNodes=new C),i.ownerDocument=e,i.nodeType){case c:var s=t.attributes,o=i.attributes=new I,l=s.length;o._ownerElement=i;for(var d=0;d<l;d++)i.setAttributeNode(ge(e,s.item(d),!0));break;case u:n=!0}if(n)for(var h=t.firstChild;h;)i.appendChild(ge(e,h,n)),h=h.nextSibling;return i}function ve(e,t,n){e[t]=n}T.INVALID_STATE_ERR=(S[11]="Invalid state",11),T.SYNTAX_ERR=(S[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(S[13]="Invalid modification",13),T.NAMESPACE_ERR=(S[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(S[15]="Invalid access",15),x.prototype=Error.prototype,s(T,x),C.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],i=0;i<this.length;i++)fe(this[i],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},E.prototype.item=function(e){return O(this),this[e]||null},o(E,C),I.prototype={length:0,item:C.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new x(k);var n=this.getNamedItem(e.nodeName);return P(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new x(k);return t=this.getNamedItemNS(e.namespaceURI,e.localName),P(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return L(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return L(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var i=this[n];if(i.localName==t&&i.namespaceURI==e)return i}return null}},R.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var i=new B;if(i.implementation=this,i.childNodes=new C,i.doctype=n||null,n&&i.appendChild(n),t){var r=i.createElementNS(e,t);i.appendChild(r)}return i},createDocumentType:function(e,t,n){var i=new re;return i.name=e,i.nodeName=e,i.publicId=t||"",i.systemId=n||"",i}},M.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return K(this,e,t)},replaceChild:function(e,t){K(this,e,t,Y),t&&this.removeChild(t)},removeChild:function(e){return $(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ge(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==d&&e.nodeType==d?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===e)return i;t=t.nodeType==u?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==u?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},s(l,M),s(l,M.prototype),B.prototype={nodeName:"#document",nodeType:v,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==b){for(var n=e.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,t),n=i}return e}return K(this,e,t),Q(e,this),null===this.documentElement&&e.nodeType===c&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),$(this,e)},replaceChild:function(e,t){K(this,e,t,Y),Q(e,this),t&&this.removeChild(t),q(e)&&(this.documentElement=e)},importNode:function(e,t){return me(this,e,t)},getElementById:function(e){var t=null;return j(this.documentElement,function(n){if(n.nodeType==c&&n.getAttribute("id")==e)return t=n,!0}),t},getElementsByClassName:function(e){var t=a(e);return new E(this,function(n){var i=[];return t.length>0&&j(n.documentElement,function(r){if(r!==n&&r.nodeType===c){var s=r.getAttribute("class");if(s){var o=e===s;if(!o){var l=a(s);o=t.every(function(e){return function(t){return e&&-1!==e.indexOf(t)}}(l))}o&&i.push(r)}}}),i})},createElement:function(e){var t=new J;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new C,(t.attributes=new I)._ownerElement=t,t},createDocumentFragment:function(){var e=new le;return e.ownerDocument=this,e.childNodes=new C,e},createTextNode:function(e){var t=new te;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ne;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new ce;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new Z;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new oe;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new J,i=t.split(":"),r=n.attributes=new I;return n.childNodes=new C,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,r._ownerElement=n,n},createAttributeNS:function(e,t){var n=new Z,i=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==i.length?(n.prefix=i[0],n.localName=i[1]):n.localName=t,n}},o(B,M),J.prototype={nodeType:c,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===b?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,U(e.ownerDocument,e,t),Q(t,e.ownerDocument||e),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var i=this.ownerDocument.createAttributeNS(e,t);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new E(this,function(t){var n=[];return j(t,function(i){i===t||i.nodeType!=c||"*"!==e&&i.tagName!=e||n.push(i)}),n})},getElementsByTagNameNS:function(e,t){return new E(this,function(n){var i=[];return j(n,function(r){r===n||r.nodeType!==c||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||i.push(r)}),i})}},B.prototype.getElementsByTagName=J.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=J.prototype.getElementsByTagNameNS,o(J,M),Z.prototype.nodeType=u,o(Z,M),ee.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(S[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},o(ee,M),te.prototype={nodeName:"#text",nodeType:d,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}},o(te,ee),ne.prototype={nodeName:"#comment",nodeType:g},o(ne,ee),ie.prototype={nodeName:"#cdata-section",nodeType:h},o(ie,ee),re.prototype.nodeType=y,o(re,M),ae.prototype.nodeType=_,o(ae,M),se.prototype.nodeType=f,o(se,M),oe.prototype.nodeType=p,o(oe,M),le.prototype.nodeName="#document-fragment",le.prototype.nodeType=b,o(le,M),ce.prototype.nodeType=m,o(ce,M),ue.prototype.serializeToString=function(e,t,n){return de.call(e,t,n)},M.prototype.toString=de;try{if(Object.defineProperty){function ye(e){switch(e.nodeType){case c:case b:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(ye(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(E.prototype,"length",{get:function(){return O(this),this.$$length}}),Object.defineProperty(M.prototype,"textContent",{get:function(){return ye(this)},set:function(e){switch(this.nodeType){case c:case b:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ve=function(e,t,n){e["$$"+t]=n}}}catch(xZ){}return h$.DocumentType=re,h$.DOMException=x,h$.DOMImplementation=R,h$.Element=J,h$.Node=M,h$.NodeList=C,h$.XMLSerializer=ue,h$}var g$,v$={},y$={};function b$(){return g$||(g$=1,e=y$,t=f$().freeze,e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES),y$;var e,t}var _$,T$,S$,w$={};function A$(){if(_$)return w$;_$=1;var e=f$().NAMESPACE,t=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,n=new RegExp("[\\-\\.0-9"+t.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+t.source+n.source+"*(?::"+t.source+n.source+"*)?$");function r(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,r)}function a(){}function s(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function o(t,n,i,r,a,s){function o(e,t,n){i.attributeNames.hasOwnProperty(e)&&s.fatalError("Attribute "+e+" redefined"),i.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,a),n)}for(var l,c=++n,u=0;;){var d=t.charAt(c);switch(d){case"=":if(1===u)l=t.slice(n,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(s.warning('attribute value must after "="'),l=t.slice(n,c)),n=c+1,!((c=t.indexOf(d,n))>0))throw new Error("attribute value no end '"+d+"' match");o(l,h=t.slice(n,c),n-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');o(l,h=t.slice(n,c),n),s.warning('attribute "'+l+'" missed start quot('+d+")!!"),n=c+1,u=5}break;case"/":switch(u){case 0:i.setTagName(t.slice(n,c));case 5:case 6:case 7:u=7,i.closed=!0;case 4:case 1:break;case 2:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),0==u&&i.setTagName(t.slice(n,c)),c;case">":switch(u){case 0:i.setTagName(t.slice(n,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=t.slice(n,c)).slice(-1)&&(i.closed=!0,h=h.slice(0,-1));case 2:2===u&&(h=l),4==u?(s.warning('attribute "'+h+'" missed quot(")!'),o(l,h,n)):(e.isHTML(r[""])&&h.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),o(h,h,n));break;case 3:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(u){case 0:i.setTagName(t.slice(n,c)),u=6;break;case 1:l=t.slice(n,c),u=2;break;case 4:var h=t.slice(n,c);s.warning('attribute "'+h+'" missed quot(")!!'),o(l,h,n);case 5:u=6}else switch(u){case 2:i.tagName,e.isHTML(r[""])&&l.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+l+'" missed value!! "'+l+'" instead2!!'),o(l,l,n),n=c,u=1;break;case 5:s.warning('attribute space is required"'+l+'"!!');case 6:u=1,n=c;break;case 3:u=4,n=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function l(t,n,i){for(var r=t.tagName,a=null,s=t.length;s--;){var o=t[s],l=o.qName,c=o.value;if((f=l.indexOf(":"))>0)var u=o.prefix=l.slice(0,f),h=l.slice(f+1),p="xmlns"===u&&h;else h=l,u=null,p="xmlns"===l&&"";o.localName=h,!1!==p&&(null==a&&(a={},d(i,i={})),i[p]=a[p]=c,o.uri=e.XMLNS,n.startPrefixMapping(p,c))}for(s=t.length;s--;)(u=(o=t[s]).prefix)&&("xml"===u&&(o.uri=e.XML),"xmlns"!==u&&(o.uri=i[u||""]));var f;(f=r.indexOf(":"))>0?(u=t.prefix=r.slice(0,f),h=t.localName=r.slice(f+1)):(u=null,h=t.localName=r);var m=t.uri=i[u||""];if(n.startElement(m,h,r,t),!t.closed)return t.currentNSMap=i,t.localNSMap=a,!0;if(n.endElement(m,h,r),a)for(u in a)Object.prototype.hasOwnProperty.call(a,u)&&n.endPrefixMapping(u)}function c(e,t,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),a)}return t+1}function u(e,t,n,i){var r=i[n];return null==r&&((r=e.lastIndexOf("</"+n+">"))<t&&(r=e.lastIndexOf("</"+n)),i[n]=r),r<t}function d(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function h(e,t,n,i){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,r-t-4),r+3):(i.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,r-t-9),n.endCDATA(),r+3}var a=function(e,t){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=t,r.exec(e);n=r.exec(e);)if(i.push(n),n[1])return i}(e,t),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var o=a[1][0],l=!1,c=!1;s>3&&(/^public$/i.test(a[2][0])?(l=a[3][0],c=s>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var u=a[s-1];return n.startDTD(o,l,c),n.endDTD(),u.index+u[0].length}return-1}function p(e,t,n){var i=e.indexOf("?>",t);if(i){var r=e.substring(t,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function f(){this.attributeNames={}}return r.prototype=new Error,r.prototype.name=r.name,a.prototype={parse:function(t,n,i){var a=this.domBuilder;a.startDocument(),d(n,n={}),function(t,n,i,a,d){function m(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function g(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(i,t)?i[t]:"#"===t.charAt(0)?m(parseInt(t.substr(1).replace("x","0x"))):(d.error("entity not found:"+e),e)}function v(e){if(e>k){var n=t.substring(k,e).replace(/&#?\w+;/g,g);S&&y(k),a.characters(n,0,e-k),k=e}}function y(e,n){for(;e>=_&&(n=T.exec(t));)b=n.index,_=b+n[0].length,S.lineNumber++;S.columnNumber=e-b+1}for(var b=0,_=0,T=/.*(?:\r\n?|\n)|.*$/g,S=a.locator,w=[{currentNSMap:n}],A={},k=0;;){try{var x=t.indexOf("<",k);if(x<0){if(!t.substr(k).match(/^\s*$/)){var C=a.doc,E=C.createTextNode(t.substr(k));C.appendChild(E),a.currentElement=E}return}switch(x>k&&v(x),t.charAt(x+1)){case"/":var O=t.indexOf(">",x+3),I=t.substring(x+2,O).replace(/[ \t\n\r]+$/g,""),D=w.pop();O<0?(I=t.substring(x+2).replace(/[\s<].*/,""),d.error("end tag name: "+I+" is not complete:"+D.tagName),O=x+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),d.error("end tag name: "+I+" maybe not complete"),O=x+1+I.length);var P=D.localNSMap,L=D.tagName==I;if(L||D.tagName&&D.tagName.toLowerCase()==I.toLowerCase()){if(a.endElement(D.uri,D.localName,I),P)for(var R in P)Object.prototype.hasOwnProperty.call(P,R)&&a.endPrefixMapping(R);L||d.fatalError("end tag name: "+I+" is not match the current start tagName:"+D.tagName)}else w.push(D);O++;break;case"?":S&&y(x),O=p(t,x,a);break;case"!":S&&y(x),O=h(t,x,a,d);break;default:S&&y(x);var M=new f,N=w[w.length-1].currentNSMap,j=(O=o(t,x,M,N,g,d),M.length);if(!M.closed&&u(t,O,M.tagName,A)&&(M.closed=!0,i.nbsp||d.warning("unclosed xml attribute")),S&&j){for(var B=s(S,{}),F=0;F<j;F++){var U=M[F];y(U.offset),U.locator=s(S,{})}a.locator=B,l(M,a,N)&&w.push(M),a.locator=S}else l(M,a,N)&&w.push(M);e.isHTML(M.uri)&&!M.closed?O=c(t,O,M.tagName,g,a):O++}}catch(xZ){if(xZ instanceof r)throw xZ;d.error("element parse error: "+xZ),O=-1}O>k?k=O:v(Math.max(x,k)+1)}}(t,n,i,a,this.errorHandler),a.endDocument()}},f.prototype={setTagName:function(e){if(!i.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!i.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},w$.XMLReader=a,w$.ParseError=r,w$}function k$(){if(T$)return v$;T$=1;var e=f$(),t=m$(),n=b$(),i=A$(),r=t.DOMImplementation,a=e.NAMESPACE,s=i.ParseError,o=i.XMLReader;function l(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function c(e){this.options=e||{locator:{}}}function u(){this.cdata=!1}function d(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function h(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function p(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function f(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}return c.prototype.parseFromString=function(e,t){var i=this.options,r=new o,s=i.domBuilder||new u,c=i.errorHandler,d=i.locator,p=i.xmlns||{},f=/\/x?html?$/.test(t),m=f?n.HTML_ENTITIES:n.XML_ENTITIES;d&&s.setDocumentLocator(d),r.errorHandler=function(e,t,n){if(!e){if(t instanceof u)return t;e=t}var i={},r=e instanceof Function;function a(t){var a=e[t];!a&&r&&(a=2==e.length?function(n){e(t,n)}:e),i[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+h(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),i}(c,s,d),r.domBuilder=i.domBuilder||s,f&&(p[""]=a.HTML),p.xml=p.xml||a.XML;var g=i.normalizeLineEndings||l;return e&&"string"==typeof e?r.parse(g(e),p,m):r.errorHandler.error("invalid doc source"),s.doc},u.prototype={startDocument:function(){this.doc=(new r).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,i){var r=this.doc,a=r.createElementNS(e,n||t),s=i.length;f(this,a),this.currentElement=a,this.locator&&d(this.locator,a);for(var o=0;o<s;o++){e=i.getURI(o);var l=i.getValue(o),c=(n=i.getQName(o),r.createAttributeNS(e,n));this.locator&&d(i.getLocator(o),c),c.value=c.nodeValue=l,a.setAttributeNode(c)}},endElement:function(e,t,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&d(this.locator,n),f(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=p.apply(this,arguments)){if(this.cdata)var i=this.doc.createCDATASection(e);else i=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(e)&&this.doc.appendChild(i),this.locator&&d(this.locator,i)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=p.apply(this,arguments);var i=this.doc.createComment(e);this.locator&&d(this.locator,i),f(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(e,t,n);this.locator&&d(this.locator,r),f(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,h(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,h(this.locator))},fatalError:function(e){throw new s(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){u.prototype[e]=function(){return null}}),v$.__DOMHandler=u,v$.normalizeLineEndings=l,v$.DOMParser=c,v$}var x$=function(){if(S$)return d$;S$=1;var e=m$();return d$.DOMImplementation=e.DOMImplementation,d$.XMLSerializer=e.XMLSerializer,d$.DOMParser=k$().DOMParser,d$}();/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const C$=e=>!!e&&"object"==typeof e,E$=(...e)=>e.reduce((e,t)=>("object"!=typeof t||Object.keys(t).forEach(n=>{Array.isArray(e[n])&&Array.isArray(t[n])?e[n]=e[n].concat(t[n]):C$(e[n])&&C$(t[n])?e[n]=E$(e[n],t[n]):e[n]=t[n]}),e),{}),O$=e=>Object.keys(e).map(t=>e[t]),I$=e=>e.reduce((e,t)=>e.concat(t),[]),D$=e=>{if(!e.length)return[];const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t};var P$="INVALID_NUMBER_OF_PERIOD",L$="DASH_EMPTY_MANIFEST",R$="DASH_INVALID_XML",M$="NO_BASE_URL",N$="SEGMENT_TIME_UNSPECIFIED",j$="UNSUPPORTED_UTC_TIMING_SCHEME";const B$=({baseUrl:e="",source:t="",range:n="",indexRange:i=""})=>{const r={uri:t,resolvedUri:IU(e||"",t)};if(n||i){const e=(n||i).split("-");let t,a=GF.BigInt?GF.BigInt(e[0]):parseInt(e[0],10),s=GF.BigInt?GF.BigInt(e[1]):parseInt(e[1],10);a<Number.MAX_SAFE_INTEGER&&"bigint"==typeof a&&(a=Number(a)),s<Number.MAX_SAFE_INTEGER&&"bigint"==typeof s&&(s=Number(s)),t="bigint"==typeof s||"bigint"==typeof a?GF.BigInt(s)-GF.BigInt(a)+GF.BigInt(1):s-a+1,"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),r.byterange={length:t,offset:a}}return r},F$=e=>(e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e),U$={static(e){const{duration:t,timescale:n=1,sourceDuration:i,periodDuration:r}=e,a=F$(e.endNumber),s=t/n;return"number"==typeof a?{start:0,end:a}:"number"==typeof r?{start:0,end:r/s}:{start:0,end:i/s}},dynamic(e){const{NOW:t,clientOffset:n,availabilityStartTime:i,timescale:r=1,duration:a,periodStart:s=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=e,c=F$(e.endNumber),u=(t+n)/1e3,d=i+s,h=u+o-d,p=Math.ceil(h*r/a),f=Math.floor((u-d-l)*r/a),m=Math.floor((u-d)*r/a);return{start:Math.max(0,f),end:"number"==typeof c?c:Math.min(p,m)}}},$$=e=>{const{type:t,duration:n,timescale:i=1,periodDuration:r,sourceDuration:a}=e,{start:s,end:o}=U$[t](e),l=((e,t)=>{const n=[];for(let i=e;i<t;i++)n.push(i);return n})(s,o).map((e=>t=>{const{duration:n,timescale:i=1,periodStart:r,startNumber:a=1}=e;return{number:a+t,duration:n/i,timeline:r,time:t*n}})(e));if("static"===t){const e=l.length-1,t="number"==typeof r?r:a;l[e].duration=t-n/i*e}return l},V$=e=>{const{baseUrl:t,initialization:n={},sourceDuration:i,indexRange:r="",periodStart:a,presentationTime:s,number:o=0,duration:l}=e;if(!t)throw new Error(M$);const c=B$({baseUrl:t,source:n.sourceURL,range:n.range}),u=B$({baseUrl:t,source:t,indexRange:r});if(u.map=c,l){const t=$$(e);t.length&&(u.duration=t[0].duration,u.timeline=t[0].timeline)}else i&&(u.duration=i,u.timeline=a);return u.presentationTime=s||a,u.number=o,[u]},q$=(e,t,n)=>{const i=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,a=e.timeline||0,s=e.sidx.byterange,o=s.offset+s.length,l=t.timescale,c=t.references.filter(e=>1!==e.referenceType),u=[],d=e.endList?"static":"dynamic",h=e.sidx.timeline;let p,f=h,m=e.mediaSequence||0;p="bigint"==typeof t.firstOffset?GF.BigInt(o)+t.firstOffset:o+t.firstOffset;for(let g=0;g<c.length;g++){const e=t.references[g],s=e.referencedSize,o=e.subsegmentDuration;let c;c="bigint"==typeof p?p+GF.BigInt(s)-GF.BigInt(1):p+s-1;const v=V$({baseUrl:n,timescale:l,timeline:a,periodStart:h,presentationTime:f,number:m,duration:o,sourceDuration:r,indexRange:`${p}-${c}`,type:d})[0];i&&(v.map=i),u.push(v),p+="bigint"==typeof p?GF.BigInt(s):s,f+=o/l,m++}return e.segments=u,e},z$=["AUDIO","SUBTITLES"],H$=1/60,W$=e=>{return(t=e,n=({timeline:e})=>e,O$(t.reduce((e,t)=>(t.forEach(t=>{e[n(t)]=t}),e),{}))).sort((e,t)=>e.timeline>t.timeline?1:-1);var t,n},G$=e=>{let t=[];var n,i;return n=e,i=(e,n,i,r)=>{t=t.concat(e.playlists||[])},z$.forEach(function(e){for(var t in n.mediaGroups[e])for(var r in n.mediaGroups[e][t]){var a=n.mediaGroups[e][t][r];i(a,e,t,r)}}),t},X$=({playlist:e,mediaSequence:t})=>{e.mediaSequence=t,e.segments.forEach((t,n)=>{t.number=e.mediaSequence+n})},Y$=({oldManifest:e,newManifest:t})=>{const n=e.playlists.concat(G$(e)),i=t.playlists.concat(G$(t));return t.timelineStarts=W$([e.timelineStarts,t.timelineStarts]),(({oldPlaylists:e,newPlaylists:t,timelineStarts:n})=>{t.forEach(t=>{t.discontinuitySequence=n.findIndex(function({timeline:e}){return e===t.timeline});const i=((e,t)=>{for(let n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null})(e,t.attributes.NAME);if(!i)return;if(t.sidx)return;const r=t.segments[0],a=i.segments.findIndex(function(e){return Math.abs(e.presentationTime-r.presentationTime)<H$});if(-1===a)return X$({playlist:t,mediaSequence:i.mediaSequence+i.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),void((!i.segments.length&&t.timeline>i.timeline||i.segments.length&&t.timeline>i.segments[i.segments.length-1].timeline)&&t.discontinuitySequence--);i.segments[a].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),X$({playlist:t,mediaSequence:i.segments[a].number})})})({oldPlaylists:n,newPlaylists:i,timelineStarts:t.timelineStarts}),t},K$=e=>e&&e.uri+"-"+(e=>{let t;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?GF.BigInt(e.offset)+GF.BigInt(e.length)-GF.BigInt(1):e.offset+e.length-1,`${e.offset}-${t}`})(e.byterange),Q$=e=>{const t=e.reduce(function(e,t){return e[t.attributes.baseUrl]||(e[t.attributes.baseUrl]=[]),e[t.attributes.baseUrl].push(t),e},{});let n=[];return Object.values(t).forEach(e=>{const t=O$(e.reduce((e,t)=>{const n=t.attributes.id+(t.attributes.lang||"");return e[n]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),e[n].segments.push(...t.segments)),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):(e[n]=t,e[n].attributes.timelineStarts=[]),e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e},{}));n=n.concat(t)}),n.map(e=>{var t,n;return e.discontinuityStarts=(t=e.segments||[],n="discontinuity",t.reduce((e,t,i)=>(t[n]&&e.push(i),e),[])),e})},J$=(e,t)=>{const n=K$(e.sidx),i=n&&t[n]&&t[n].sidx;return i&&q$(e,i,e.sidx.resolvedUri),e},Z$=(e,t={})=>{if(!Object.keys(t).length)return e;for(const n in e)e[n]=J$(e[n],t);return e},eV=({attributes:e,segments:t,sidx:n,discontinuityStarts:i})=>{const r={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuityStarts:i,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(r.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(r.contentProtection=e.contentProtection),e.serviceLocation&&(r.attributes.serviceLocation=e.serviceLocation),n&&(r.sidx=n),r},tV=({attributes:e})=>"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType,nV=({attributes:e})=>"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType,iV=({attributes:e})=>"text/vtt"===e.mimeType||"text"===e.contentType,rV=e=>e?Object.keys(e).reduce((t,n)=>{const i=e[n];return t.concat(i.playlists)},[]):[],aV=({dashPlaylists:e,locations:t,contentSteering:n,sidxMapping:i={},previousManifest:r,eventStream:a})=>{if(!e.length)return{};const{sourceDuration:s,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:c}=e[0].attributes,u=Q$(e.filter(tV)).map(eV),d=Q$(e.filter(nV)),h=Q$(e.filter(iV)),p=e.map(e=>e.attributes.captionServices).filter(Boolean),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:s,playlists:Z$(u,i)};c>=0&&(f.minimumUpdatePeriod=1e3*c),t&&(f.locations=t),n&&(f.contentSteering=n),"dynamic"===o&&(f.suggestedPresentationDelay=l),a&&a.length>0&&(f.eventStream=a);const m=0===f.playlists.length,g=d.length?((e,t={},n=!1)=>{let i;const r=e.reduce((e,r)=>{const a=r.attributes.role&&r.attributes.role.value||"",s=r.attributes.lang||"";let o=r.attributes.label||"main";if(s&&!r.attributes.label){const e=a?` (${a})`:"";o=`${r.attributes.lang}${e}`}e[o]||(e[o]={language:s,autoselect:!0,default:"main"===a,playlists:[],uri:""});const l=J$((({attributes:e,segments:t,sidx:n,mediaSequence:i,discontinuitySequence:r,discontinuityStarts:a},s)=>{const o={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuitySequence:r,discontinuityStarts:a,timelineStarts:e.timelineStarts,mediaSequence:i,segments:t};return e.contentProtection&&(o.contentProtection=e.contentProtection),e.serviceLocation&&(o.attributes.serviceLocation=e.serviceLocation),n&&(o.sidx=n),s&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o})(r,n),t);return e[o].playlists.push(l),void 0===i&&"main"===a&&(i=r,i.default=!0),e},{});return i||(r[Object.keys(r)[0]].default=!0),r})(d,i,m):null,v=h.length?((e,t={})=>e.reduce((e,n)=>{const i=n.attributes.label||n.attributes.lang||"text",r=n.attributes.lang||"und";return e[i]||(e[i]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),e[i].playlists.push(J$((({attributes:e,segments:t,mediaSequence:n,discontinuityStarts:i,discontinuitySequence:r})=>{void 0===t&&(t=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);const a={NAME:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1};e.codecs&&(a.CODECS=e.codecs);const s={attributes:a,uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:i,discontinuitySequence:r,mediaSequence:n,segments:t};return e.serviceLocation&&(s.attributes.serviceLocation=e.serviceLocation),s})(n),t)),e},{}))(h,i):null,y=u.concat(rV(g),rV(v)),b=y.map(({timelineStarts:e})=>e);var _,T;return f.timelineStarts=W$(b),_=y,T=f.timelineStarts,_.forEach(e=>{e.mediaSequence=0,e.discontinuitySequence=T.findIndex(function({timeline:t}){return t===e.timeline}),e.segments&&e.segments.forEach((e,t)=>{e.number=t})}),g&&(f.mediaGroups.AUDIO.audio=g),v&&(f.mediaGroups.SUBTITLES.subs=v),p.length&&(f.mediaGroups["CLOSED-CAPTIONS"].cc=p.reduce((e,t)=>t?(t.forEach(t=>{const{channel:n,language:i}=t;e[i]={autoselect:!1,default:!1,instreamId:n,language:i},t.hasOwnProperty("aspectRatio")&&(e[i].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[i].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[i]["3D"]=t["3D"])}),e):e,{})),r?Y$({oldManifest:r,newManifest:f}):f},sV=(e,t,n)=>{const{NOW:i,clientOffset:r,availabilityStartTime:a,timescale:s=1,periodStart:o=0,minimumUpdatePeriod:l=0}=e,c=(i+r)/1e3+l-(a+o);return Math.ceil((c*s-t)/n)},oV=(e,t)=>{const{type:n,minimumUpdatePeriod:i=0,media:r="",sourceDuration:a,timescale:s=1,startNumber:o=1,periodStart:l}=e,c=[];let u=-1;for(let d=0;d<t.length;d++){const h=t[d],p=h.d,f=h.r||0,m=h.t||0;let g;if(u<0&&(u=m),m&&m>u&&(u=m),f<0){const o=d+1;g=o===t.length?"dynamic"===n&&i>0&&r.indexOf("$Number$")>0?sV(e,u,p):(a*s-u)/p:(t[o].t-u)/p}else g=f+1;const v=o+c.length+g;let y=o+c.length;for(;y<v;)c.push({number:y,duration:p/s,time:u,timeline:l}),u+=p,y++}return c},lV=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,cV=(e,t)=>e.replace(lV,(e=>(t,n,i,r)=>{if("$$"===t)return"$";if(void 0===e[n])return t;const a=""+e[n];return"RepresentationID"===n?a:(r=i?parseInt(r,10):1,a.length>=r?a:`${new Array(r-a.length+1).join("0")}${a}`)})(t)),uV=(e,t)=>{const n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=e,r=B$({baseUrl:e.baseUrl,source:cV(i.sourceURL,n),range:i.range}),a=((e,t)=>e.duration||t?e.duration?$$(e):oV(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}])(e,t);return a.map(t=>{n.Number=t.number,n.Time=t.time;const i=cV(e.media||"",n),a=e.timescale||1,s=e.presentationTimeOffset||0,o=e.periodStart+(t.time-s)/a;return{uri:i,timeline:t.timeline,duration:t.duration,resolvedUri:IU(e.baseUrl||"",i),map:r,number:t.number,presentationTime:o}})},dV=(e,t)=>{const{duration:n,segmentUrls:i=[],periodStart:r}=e;if(!n&&!t||n&&t)throw new Error(N$);const a=i.map(t=>((e,t)=>{const{baseUrl:n,initialization:i={}}=e,r=B$({baseUrl:n,source:i.sourceURL,range:i.range}),a=B$({baseUrl:n,source:t.media,range:t.mediaRange});return a.map=r,a})(e,t));let s;n&&(s=$$(e)),t&&(s=oV(e,t));const o=s.map((t,n)=>{if(a[n]){const i=a[n],s=e.timescale||1,o=e.presentationTimeOffset||0;return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i.presentationTime=r+(t.time-o)/s,i}}).filter(e=>e);return o},hV=({attributes:e,segmentInfo:t})=>{let n,i;t.template?(i=uV,n=E$(e,t.template)):t.base?(i=V$,n=E$(e,t.base)):t.list&&(i=dV,n=E$(e,t.list));const r={attributes:e};if(!i)return r;const a=i(n,t.segmentTimeline);if(n.duration){const{duration:e,timescale:t=1}=n;n.duration=e/t}else a.length?n.duration=a.reduce((e,t)=>Math.max(e,Math.ceil(t.duration)),0):n.duration=0;return r.attributes=n,r.segments=a,t.base&&n.indexRange&&(r.sidx=a[0],r.segments=[]),r},pV=(e,t)=>D$(e.childNodes).filter(({tagName:e})=>e===t),fV=e=>e.textContent.trim(),mV=e=>{const t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;const[n,i,r,a,s,o]=t.slice(1);return 31536e3*parseFloat(n||0)+2592e3*parseFloat(i||0)+86400*parseFloat(r||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(o||0)},gV={mediaPresentationDuration:e=>mV(e),availabilityStartTime(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:e=>mV(e),suggestedPresentationDelay:e=>mV(e),type:e=>e,timeShiftBufferDepth:e=>mV(e),start:e=>mV(e),width:e=>parseInt(e,10),height:e=>parseInt(e,10),bandwidth:e=>parseInt(e,10),frameRate:e=>(e=>parseFloat(e.split("/").reduce((e,t)=>e/t)))(e),startNumber:e=>parseInt(e,10),timescale:e=>parseInt(e,10),presentationTimeOffset:e=>parseInt(e,10),duration(e){const t=parseInt(e,10);return isNaN(t)?mV(e):t},d:e=>parseInt(e,10),t:e=>parseInt(e,10),r:e=>parseInt(e,10),presentationTime:e=>parseInt(e,10),DEFAULT:e=>e},vV=e=>e&&e.attributes?D$(e.attributes).reduce((e,t)=>{const n=gV[t.name]||gV.DEFAULT;return e[t.name]=n(t.value),e},{}):{},yV={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},bV=(e,t)=>t.length?I$(e.map(function(e){return t.map(function(t){const n=fV(t),i=IU(e.baseUrl,n),r=E$(vV(t),{baseUrl:i});return i!==n&&!r.serviceLocation&&e.serviceLocation&&(r.serviceLocation=e.serviceLocation),r})})):e,_V=e=>{const t=pV(e,"SegmentTemplate")[0],n=pV(e,"SegmentList")[0],i=n&&pV(n,"SegmentURL").map(e=>E$({tag:"SegmentURL"},vV(e))),r=pV(e,"SegmentBase")[0],a=n||t,s=a&&pV(a,"SegmentTimeline")[0],o=n||r||t,l=o&&pV(o,"Initialization")[0],c=t&&vV(t);c&&l?c.initialization=l&&vV(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const u={template:c,segmentTimeline:s&&pV(s,"S").map(e=>vV(e)),list:n&&E$(vV(n),{segmentUrls:i,initialization:vV(l)}),base:r&&E$(vV(r),{initialization:vV(l)})};return Object.keys(u).forEach(e=>{u[e]||delete u[e]}),u},TV=e=>I$(pV(e.node,"EventStream").map(t=>{const n=vV(t),i=n.schemeIdUri;return pV(t,"Event").map(t=>{const r=vV(t),a=r.presentationTime||0,s=n.timescale||1,o=r.duration||0,l=a/s+e.attributes.start;return{schemeIdUri:i,value:n.value,id:r.id,start:l,end:l+o/s,messageData:fV(t)||r.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),SV=(e,t,n)=>i=>{const r=vV(i),a=bV(t,pV(i,"BaseURL")),s=pV(i,"Role")[0],o={role:vV(s)};let l=E$(e,r,o);const c=pV(i,"Accessibility")[0],u="urn:scte:dash:cc:cea-608:2015"===(d=vV(c)).schemeIdUri?("string"!=typeof d.value?[]:d.value.split(";")).map(e=>{let t,n;return n=e,/^CC\d=/.test(e)?[t,n]=e.split("="):/^CC\d$/.test(e)&&(t=e),{channel:t,language:n}}):"urn:scte:dash:cc:cea-708:2015"===d.schemeIdUri?("string"!=typeof d.value?[]:d.value.split(";")).map(e=>{const t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){const[n,i=""]=e.split("=");t.channel=n,t.language=e,i.split(",").forEach(e=>{const[n,i]=e.split(":");"lang"===n?t.language=i:"er"===n?t.easyReader=Number(i):"war"===n?t.aspectRatio=Number(i):"3D"===n&&(t["3D"]=Number(i))})}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t}):void 0;var d;u&&(l=E$(l,{captionServices:u}));const h=pV(i,"Label")[0];if(h&&h.childNodes.length){const e=h.childNodes[0].nodeValue.trim();l=E$(l,{label:e})}const p=pV(i,"ContentProtection").reduce((e,t)=>{const n=vV(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=yV[n.schemeIdUri];if(i){e[i]={attributes:n};const r=pV(t,"cenc:pssh")[0];if(r){const t=fV(r);e[i].pssh=t&&PU(t)}}return e},{});Object.keys(p).length&&(l=E$(l,{contentProtection:p}));const f=_V(i),m=pV(i,"Representation"),g=E$(n,f);return I$(m.map(((e,t,n)=>i=>{const r=pV(i,"BaseURL"),a=bV(t,r),s=E$(e,vV(i)),o=_V(i);return a.map(e=>({segmentInfo:E$(n,o),attributes:E$(s,e)}))})(l,a,g)))},wV=(e,t)=>(n,i)=>{const r=bV(t,pV(n.node,"BaseURL")),a=E$(e,{periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(a.periodDuration=n.attributes.duration);const s=pV(n.node,"AdaptationSet"),o=_V(n.node);return I$(s.map(SV(a,r,o)))},AV=(e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;const n=E$({serverURL:fV(e[0])},vV(e[0]));return n.queryBeforeStart="true"===n.queryBeforeStart,n},kV=e=>{if(""===e)throw new Error(L$);const t=new x$.DOMParser;let n,i;try{n=t.parseFromString(e,"application/xml"),i=n&&"MPD"===n.documentElement.tagName?n.documentElement:null}catch(xZ){}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(R$);return i},xV=(e,t={})=>{const n=((e,t={})=>{const{manifestUri:n="",NOW:i=Date.now(),clientOffset:r=0,eventHandler:a=function(){}}=t,s=pV(e,"Period");if(!s.length)throw new Error(P$);const o=pV(e,"Location"),l=vV(e),c=bV([{baseUrl:n}],pV(e,"BaseURL")),u=pV(e,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=i,l.clientOffset=r,o.length&&(l.locations=o.map(fV));const d=[];return s.forEach((e,t)=>{const n=vV(e),i=d[t-1];n.start=(({attributes:e,priorPeriodAttributes:t,mpdType:n})=>"number"==typeof e.start?e.start:t&&"number"==typeof t.start&&"number"==typeof t.duration?t.start+t.duration:t||"static"!==n?null:0)({attributes:n,priorPeriodAttributes:i?i.attributes:null,mpdType:l.type}),d.push({node:e,attributes:n})}),{locations:l.locations,contentSteeringInfo:AV(u,a),representationInfo:I$(d.map(wV(l,c))),eventStream:I$(d.map(TV))}})(kV(e),t),i=n.representationInfo.map(hV);return aV({dashPlaylists:i,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:n.eventStream})},CV=e=>(e=>{const t=pV(e,"UTCTiming")[0];if(!t)return null;const n=vV(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;default:throw new Error(j$)}return n})(kV(e));var EV,OV,IV,DV,PV=function(){if(DV)return IV;DV=1;var e=function(){if(OV)return EV;OV=1;var e=Math.pow(2,32);return EV={getUint64:function(t){var n,i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.getBigUint64?(n=i.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(n):n:i.getUint32(0)*e+i.getUint32(4)},MAX_UINT32:e},EV}().getUint64;return IV=function(t){var n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8)},r=12;0===i.version?(i.earliestPresentationTime=n.getUint32(r),i.firstOffset=n.getUint32(r+4),r+=8):(i.earliestPresentationTime=e(t.subarray(r)),i.firstOffset=e(t.subarray(r+8)),r+=16),r+=2;var a=n.getUint16(r);for(r+=2;a>0;r+=12,a--)i.references.push({referenceType:(128&t[r])>>>7,referencedSize:2147483647&n.getUint32(r),subsegmentDuration:n.getUint32(r+4),startsWithSap:!!(128&t[r+8]),sapType:(112&t[r+8])>>>4,sapDeltaTime:268435455&n.getUint32(r+8)});return i}}();const LV=CO(PV);var RV=n$([73,68,51]),MV=function e(t,n){return void 0===n&&(n=0),(t=n$(t)).length-n<10||!u$(t,RV,{offset:n})?n:(n+=function(e,t){void 0===t&&(t=0);var n=(e=n$(e))[t+5],i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&n)>>4?i+20:i+10}(t,n),e(t,n))},NV=function(e){return"string"==typeof e?c$(e):e},jV=function e(t,n,i){void 0===i&&(i=!1),n=function(e){return Array.isArray(e)?e.map(function(e){return NV(e)}):[NV(e)]}(n),t=n$(t);var r=[];if(!n.length)return r;for(var a=0;a<t.length;){var s=(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3])>>>0,o=t.subarray(a+4,a+8);if(0===s)break;var l=a+s;if(l>t.length){if(i)break;l=t.length}var c=t.subarray(a+8,l);u$(o,n[0])&&(1===n.length?r.push(c):r.push.apply(r,e(c,n.slice(1),i))),a=l}return r},BV={EBML:n$([26,69,223,163]),DocType:n$([66,130]),Segment:n$([24,83,128,103]),SegmentInfo:n$([21,73,169,102]),Tracks:n$([22,84,174,107]),Track:n$([174]),TrackNumber:n$([215]),DefaultDuration:n$([35,227,131]),TrackEntry:n$([174]),TrackType:n$([131]),FlagDefault:n$([136]),CodecID:n$([134]),CodecPrivate:n$([99,162]),VideoTrack:n$([224]),AudioTrack:n$([225]),Cluster:n$([31,67,182,117]),Timestamp:n$([231]),TimestampScale:n$([42,215,177]),BlockGroup:n$([160]),BlockDuration:n$([155]),Block:n$([161]),SimpleBlock:n$([163])},FV=[128,64,32,16,8,4,2,1],UV=function(e,t,n,i){void 0===n&&(n=!0),void 0===i&&(i=!1);var r=function(e){for(var t=1,n=0;n<FV.length&&!(e&FV[n]);n++)t++;return t}(e[t]),a=e.subarray(t,t+r);return n&&((a=Array.prototype.slice.call(e,t,t+r))[0]^=FV[r-1]),{length:r,value:o$(a,{signed:i}),bytes:a}},$V=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map(function(t){return e(t)}):"number"==typeof t?l$(t):t},VV=function e(t,n,i){if(i>=n.length)return n.length;var r=UV(n,i,!1);if(u$(t.bytes,r.bytes))return i;var a=UV(n,i+r.length);return e(t,n,i+a.length+a.value+r.length)},qV=function e(t,n){n=function(e){return Array.isArray(e)?e.map(function(e){return $V(e)}):[$V(e)]}(n),t=n$(t);var i=[];if(!n.length)return i;for(var r=0;r<t.length;){var a=UV(t,r,!1),s=UV(t,r+a.length),o=r+a.length+s.length;127===s.value&&(s.value=VV(a,t,o),s.value!==t.length&&(s.value-=o));var l=o+s.value>t.length?t.length:o+s.value,c=t.subarray(o,l);u$(n[0],a.bytes)&&(1===n.length?i.push(c):i=i.concat(e(c,n.slice(1)))),r+=a.length+s.length+c.length}return i},zV=n$([0,0,0,1]),HV=n$([0,0,1]),WV=n$([0,0,3]),GV=function(e){for(var t=[],n=1;n<e.length-2;)u$(e.subarray(n,n+3),WV)&&(t.push(n+2),n++),n++;if(0===t.length)return e;var i=e.length-t.length,r=new Uint8Array(i),a=0;for(n=0;n<i;a++,n++)a===t[0]&&(a++,t.shift()),r[n]=e[a];return r},XV=function(e,t,n,i){e=n$(e),n=[].concat(n);for(var r,a=0,s=0;a<e.length&&(s<i||r);){var o=void 0;if(u$(e.subarray(a),zV)?o=4:u$(e.subarray(a),HV)&&(o=3),o){if(s++,r)return GV(e.subarray(r,a));var l=void 0;"h264"===t?l=31&e[a+o]:"h265"===t&&(l=e[a+o]>>1&63),-1!==n.indexOf(l)&&(r=a+o),a+=o+("h264"===t?1:2)}else a++}return e.subarray(0,0)},YV={webm:n$([119,101,98,109]),matroska:n$([109,97,116,114,111,115,107,97]),flac:n$([102,76,97,67]),ogg:n$([79,103,103,83]),ac3:n$([11,119]),riff:n$([82,73,70,70]),avi:n$([65,86,73]),wav:n$([87,65,86,69]),"3gp":n$([102,116,121,112,51,103]),mp4:n$([102,116,121,112]),fmp4:n$([115,116,121,112]),mov:n$([102,116,121,112,113,116]),moov:n$([109,111,111,118]),moof:n$([109,111,111,102])},KV={aac:function(e){var t=MV(e);return u$(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=MV(e);return u$(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=qV(e,[BV.EBML,BV.DocType])[0];return u$(t,YV.webm)},mkv:function(e){var t=qV(e,[BV.EBML,BV.DocType])[0];return u$(t,YV.matroska)},mp4:function(e){return!KV["3gp"](e)&&!KV.mov(e)&&(!(!u$(e,YV.mp4,{offset:4})&&!u$(e,YV.fmp4,{offset:4}))||!(!u$(e,YV.moof,{offset:4})&&!u$(e,YV.moov,{offset:4}))||void 0)},mov:function(e){return u$(e,YV.mov,{offset:4})},"3gp":function(e){return u$(e,YV["3gp"],{offset:4})},ac3:function(e){var t=MV(e);return u$(e,YV.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=MV(e);return u$(e,YV.flac,{offset:t})},ogg:function(e){return u$(e,YV.ogg)},avi:function(e){return u$(e,YV.riff)&&u$(e,YV.avi,{offset:8})},wav:function(e){return u$(e,YV.riff)&&u$(e,YV.wav,{offset:8})},h264:function(e){return function(e,t,n){return XV(e,"h264",t,n)}(e,7,3).length},h265:function(e){return function(e,t,n){return XV(e,"h265",t,n)}(e,[32,33],3).length}},QV=Object.keys(KV).filter(function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e}).concat(["ts","h264","h265"]);QV.forEach(function(e){var t=KV[e];KV[e]=function(e){return t(n$(e))}});var JV,ZV,eq=KV,tq=function(e){e=n$(e);for(var t=0;t<QV.length;t++){var n=QV[t];if(eq[n](e))return n}return""},nq=function(){if(ZV)return JV;ZV=1;var e,t,n,i,r,a,s,o=9e4;return r=function(t,n){return e(i(t,n))},a=function(e,i){return t(n(e),i)},s=function(e,t,i){return n(i?e:e-t)},JV={ONE_SECOND_IN_TS:o,secondsToVideoTs:e=function(e){return e*o},secondsToAudioTs:t=function(e,t){return e*t},videoTsToSeconds:n=function(e){return e/o},audioTsToSeconds:i=function(e,t){return e/t},audioTsToVideoTs:r,videoTsToAudioTs:a,metadataTsToSeconds:s}}(),iq="8.23.4";const rq={},aq=function(e,t){return rq[e]=rq[e]||[],t&&(rq[e]=rq[e].concat(t)),rq[e]},sq=function(e,t){const n=aq(e).indexOf(t);return!(n<=-1||(rq[e]=rq[e].slice(),rq[e].splice(n,1),0))},oq={prefixed:!0},lq=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],cq=lq[0];let uq;for(let e=0;e<lq.length;e++)if(lq[e][1]in ZF){uq=lq[e];break}if(uq){for(let e=0;e<uq.length;e++)oq[cq[e]]=uq[e];oq.prefixed=uq[0]!==cq[0]}let dq=[];const hq=function e(t,n=":",i=""){let r,a="info";function s(...e){r("log",a,e)}return r=((e,t,n)=>(i,r,a)=>{const s=t.levels[r],o=new RegExp(`^(${s})$`);let l=e;if("log"!==i&&a.unshift(i.toUpperCase()+":"),n&&(l=`%c${e}`,a.unshift(n)),a.unshift(l+":"),dq){dq.push([].concat(a));const e=dq.length-1e3;dq.splice(0,e>0?e:0)}if(!GF.console)return;let c=GF.console[i];c||"debug"!==i||(c=GF.console.info||GF.console.log),c&&s&&o.test(i)&&c[Array.isArray(a)?"apply":"call"](GF.console,a)})(t,s,i),s.createLogger=(r,a,s)=>{const o=void 0!==a?a:n;return e(`${t} ${o} ${r}`,o,void 0!==s?s:i)},s.createNewLogger=(t,n,i)=>e(t,n,i),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:a},s.level=e=>{if("string"==typeof e){if(!s.levels.hasOwnProperty(e))throw new Error(`"${e}" in not a valid log level`);a=e}return a},s.history=()=>dq?[].concat(dq):[],s.history.filter=e=>(dq||[]).filter(t=>new RegExp(`.*${e}.*`).test(t[0])),s.history.clear=()=>{dq&&(dq.length=0)},s.history.disable=()=>{null!==dq&&(dq.length=0,dq=null)},s.history.enable=()=>{null===dq&&(dq=[])},s.error=(...e)=>r("error",a,e),s.warn=(...e)=>r("warn",a,e),s.debug=(...e)=>r("debug",a,e),s}("VIDEOJS"),pq=hq.createLogger,fq=Object.prototype.toString,mq=function(e){return yq(e)?Object.keys(e):[]};function gq(e,t){mq(e).forEach(n=>t(e[n],n))}function vq(e,t,n=0){return mq(e).reduce((n,i)=>t(n,e[i],i),n)}function yq(e){return!!e&&"object"==typeof e}function bq(e){return yq(e)&&"[object Object]"===fq.call(e)&&e.constructor===Object}function _q(...e){const t={};return e.forEach(e=>{e&&gq(e,(e,n)=>{bq(e)?(bq(t[n])||(t[n]={}),t[n]=_q(t[n],e)):t[n]=e})}),t}function Tq(e={}){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const i=e[n];t.push(i)}return t}function Sq(e,t,n,i=!0){const r=n=>Object.defineProperty(e,t,{value:n,enumerable:!0,writable:!0}),a={configurable:!0,enumerable:!0,get(){const e=n();return r(e),e}};return i&&(a.set=r),Object.defineProperty(e,t,a)}var wq=Object.freeze({__proto__:null,each:gq,reduce:vq,isObject:yq,isPlain:bq,merge:_q,values:Tq,defineLazyProperty:Sq});let Aq,kq=!1,xq=null,Cq=!1,Eq=!1,Oq=!1,Iq=!1,Dq=!1,Pq=null,Lq=null;const Rq=Boolean(GF.cast&&GF.cast.framework&&GF.cast.framework.CastReceiverContext);let Mq=null,Nq=!1,jq=!1,Bq=!1,Fq=!1,Uq=!1,$q=!1,Vq=!1;const qq=Boolean(Yq()&&("ontouchstart"in GF||GF.navigator.maxTouchPoints||GF.DocumentTouch&&GF.document instanceof GF.DocumentTouch)),zq=GF.navigator&&GF.navigator.userAgentData;if(zq&&zq.platform&&zq.brands&&(Cq="Android"===zq.platform,Oq=Boolean(zq.brands.find(e=>"Microsoft Edge"===e.brand)),Iq=Boolean(zq.brands.find(e=>"Chromium"===e.brand)),Dq=!Oq&&Iq,Pq=Lq=(zq.brands.find(e=>"Chromium"===e.brand)||{}).version||null,jq="Windows"===zq.platform),!Iq){const e=GF.navigator&&GF.navigator.userAgent||"";kq=/iPod/i.test(e),xq=function(){const t=e.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Cq=/Android/i.test(e),Aq=function(){const t=e.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;const n=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return n&&i?parseFloat(t[1]+"."+t[2]):n||null}(),Eq=/Firefox/i.test(e),Oq=/Edg/i.test(e),Iq=/Chrome/i.test(e)||/CriOS/i.test(e),Dq=!Oq&&Iq,Pq=Lq=function(){const t=e.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),Mq=function(){const t=/MSIE\s(\d+)\.\d/.exec(e);let n=t&&parseFloat(t[1]);return!n&&/Trident\/7.0/i.test(e)&&/rv:11.0/.test(e)&&(n=11),n}(),Uq=/Tizen/i.test(e),$q=/Web0S/i.test(e),Vq=Uq||$q,Nq=/Safari/i.test(e)&&!Dq&&!Cq&&!Oq&&!Vq,jq=/Windows/i.test(e),Bq=/iPad/i.test(e)||Nq&&qq&&!/iPhone/i.test(e),Fq=/iPhone/i.test(e)&&!Bq}const Hq=Fq||Bq||kq,Wq=(Nq||Hq)&&!Dq;var Gq=Object.freeze({__proto__:null,get IS_IPOD(){return kq},get IOS_VERSION(){return xq},get IS_ANDROID(){return Cq},get ANDROID_VERSION(){return Aq},get IS_FIREFOX(){return Eq},get IS_EDGE(){return Oq},get IS_CHROMIUM(){return Iq},get IS_CHROME(){return Dq},get CHROMIUM_VERSION(){return Pq},get CHROME_VERSION(){return Lq},IS_CHROMECAST_RECEIVER:Rq,get IE_VERSION(){return Mq},get IS_SAFARI(){return Nq},get IS_WINDOWS(){return jq},get IS_IPAD(){return Bq},get IS_IPHONE(){return Fq},get IS_TIZEN(){return Uq},get IS_WEBOS(){return $q},get IS_SMART_TV(){return Vq},TOUCH_ENABLED:qq,IS_IOS:Hq,IS_ANY_SAFARI:Wq});function Xq(e){return"string"==typeof e&&Boolean(e.trim())}function Yq(){return ZF===GF.document}function Kq(e){return yq(e)&&1===e.nodeType}function Qq(){try{return GF.parent!==GF.self}catch(e){return!0}}function Jq(e){return function(t,n){if(!Xq(t))return ZF[e](null);Xq(n)&&(n=ZF.querySelector(n));const i=Kq(n)?n:ZF;return i[e]&&i[e](t)}}function Zq(e="div",t={},n={},i){const r=ZF.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(e){const n=t[e];"textContent"===e?ez(r,n):r[e]===n&&"tabIndex"!==e||(r[e]=n)}),Object.getOwnPropertyNames(n).forEach(function(e){r.setAttribute(e,n[e])}),i&&bz(r,i),r}function ez(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function tz(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function nz(e,t){return function(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}(t),e.classList.contains(t)}function iz(e,...t){return e.classList.add(...t.reduce((e,t)=>e.concat(t.split(/\s+/)),[])),e}function rz(e,...t){return e?(e.classList.remove(...t.reduce((e,t)=>e.concat(t.split(/\s+/)),[])),e):(hq.warn("removeClass was called with an element that doesn't exist"),null)}function az(e,t,n){return"function"==typeof n&&(n=n(e,t)),"boolean"!=typeof n&&(n=void 0),t.split(/\s+/).forEach(t=>e.classList.toggle(t,n)),e}function sz(e,t){Object.getOwnPropertyNames(t).forEach(function(n){const i=t[n];null==i||!1===i?e.removeAttribute(n):e.setAttribute(n,!0===i?"":i)})}function oz(e){const t={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(e&&e.attributes&&e.attributes.length>0){const i=e.attributes;for(let e=i.length-1;e>=0;e--){const r=i[e].name;let a=i[e].value;n.includes(r)&&(a=null!==a),t[r]=a}}return t}function lz(e,t){return e.getAttribute(t)}function cz(e,t,n){e.setAttribute(t,n)}function uz(e,t){e.removeAttribute(t)}function dz(){ZF.body.focus(),ZF.onselectstart=function(){return!1}}function hz(){ZF.onselectstart=function(){return!0}}function pz(e){if(e&&e.getBoundingClientRect&&e.parentNode){const t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(e=>{void 0!==t[e]&&(n[e]=t[e])}),n.height||(n.height=parseFloat(Az(e,"height"))),n.width||(n.width=parseFloat(Az(e,"width"))),n}}function fz(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};const t=e.offsetWidth,n=e.offsetHeight;let i=0,r=0;for(;e.offsetParent&&e!==ZF[oq.fullscreenElement];)i+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:i,top:r,width:t,height:n}}function mz(e,t){const n={x:0,y:0};if(Hq){let t=e;for(;t&&"html"!==t.nodeName.toLowerCase();){const e=Az(t,"transform");if(/^matrix/.test(e)){const t=e.slice(7,-1).split(/,\s/).map(Number);n.x+=t[4],n.y+=t[5]}else if(/^matrix3d/.test(e)){const t=e.slice(9,-1).split(/,\s/).map(Number);n.x+=t[12],n.y+=t[13]}if(t.assignedSlot&&t.assignedSlot.parentElement&&GF.WebKitCSSMatrix){const e=GF.getComputedStyle(t.assignedSlot.parentElement).transform,i=new GF.WebKitCSSMatrix(e);n.x+=i.m41,n.y+=i.m42}t=t.parentNode||t.host}}const i={},r=fz(t.target),a=fz(e),s=a.width,o=a.height;let l=t.offsetY-(a.top-r.top),c=t.offsetX-(a.left-r.left);return t.changedTouches&&(c=t.changedTouches[0].pageX-a.left,l=t.changedTouches[0].pageY+a.top,Hq&&(c-=n.x,l-=n.y)),i.y=1-Math.max(0,Math.min(1,l/o)),i.x=Math.max(0,Math.min(1,c/s)),i}function gz(e){return yq(e)&&3===e.nodeType}function vz(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function yz(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(e=>("function"==typeof e&&(e=e()),Kq(e)||gz(e)?e:"string"==typeof e&&/\S/.test(e)?ZF.createTextNode(e):void 0)).filter(e=>e)}function bz(e,t){return yz(t).forEach(t=>e.appendChild(t)),e}function _z(e,t){return bz(vz(e),t)}function Tz(e){return void 0===e.button&&void 0===e.buttons||0===e.button&&void 0===e.buttons||"mouseup"===e.type&&0===e.button&&0===e.buttons||"mousedown"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons}const Sz=Jq("querySelector"),wz=Jq("querySelectorAll");function Az(e,t){if(!e||!t)return"";if("function"==typeof GF.getComputedStyle){let n;try{n=GF.getComputedStyle(e)}catch(xZ){return""}return n?n.getPropertyValue(t)||n[t]:""}return""}function kz(e){[...ZF.styleSheets].forEach(t=>{try{const n=[...t.cssRules].map(e=>e.cssText).join(""),i=ZF.createElement("style");i.textContent=n,e.document.head.appendChild(i)}catch(xZ){const i=ZF.createElement("link");i.rel="stylesheet",i.type=t.type,i.media=t.media.mediaText,i.href=t.href,e.document.head.appendChild(i)}})}var xz=Object.freeze({__proto__:null,isReal:Yq,isEl:Kq,isInFrame:Qq,createEl:Zq,textContent:ez,prependTo:tz,hasClass:nz,addClass:iz,removeClass:rz,toggleClass:az,setAttributes:sz,getAttributes:oz,getAttribute:lz,setAttribute:cz,removeAttribute:uz,blockTextSelection:dz,unblockTextSelection:hz,getBoundingClientRect:pz,findPosition:fz,getPointerPosition:mz,isTextNode:gz,emptyEl:vz,normalizeContent:yz,appendContent:bz,insertContent:_z,isSingleLeftClick:Tz,$:Sz,$$:wz,computedStyle:Az,copyStyleSheetsToWindow:kz});let Cz,Ez=!1;const Oz=function(){if(!1===Cz.options.autoSetup)return;const e=Array.prototype.slice.call(ZF.getElementsByTagName("video")),t=Array.prototype.slice.call(ZF.getElementsByTagName("audio")),n=Array.prototype.slice.call(ZF.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(let r=0,a=i.length;r<a;r++){const e=i[r];if(!e||!e.getAttribute){Iz(1);break}void 0===e.player&&null!==e.getAttribute("data-setup")&&Cz(e)}else Ez||Iz(1)};function Iz(e,t){Yq()&&(t&&(Cz=t),GF.setTimeout(Oz,e))}function Dz(){Ez=!0,GF.removeEventListener("load",Dz)}Yq()&&("complete"===ZF.readyState?Dz():GF.addEventListener("load",Dz));const Pz=function(e){const t=ZF.createElement("style");return t.className=e,t},Lz=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};var Rz=new WeakMap;let Mz,Nz=3;function jz(){return Nz++}function Bz(e,t){if(!Rz.has(e))return;const n=Rz.get(e);0===n.handlers[t].length&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&Rz.delete(e)}function Fz(e,t,n,i){n.forEach(function(n){e(t,n,i)})}function Uz(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){const i=e||GF.event;e={};const r=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const t in i)r.includes(t)||"returnValue"===t&&i.preventDefault||(e[t]=i[t]);if(e.target||(e.target=e.srcElement||ZF),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){i.preventDefault&&i.preventDefault(),e.returnValue=!1,i.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),e.cancelBubble=!0,i.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,null!==e.clientX&&void 0!==e.clientX){const t=ZF.documentElement,n=ZF.body;e.pageX=e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t&&t.clientLeft||n&&n.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t&&t.clientTop||n&&n.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}const $z=["touchstart","touchmove"];function Vz(e,t,n){if(Array.isArray(t))return Fz(Vz,e,t,n);Rz.has(e)||Rz.set(e,{});const i=Rz.get(e);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),n.guid||(n.guid=jz()),i.handlers[t].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(t,n){if(i.disabled)return;t=Uz(t);const r=i.handlers[t.type];if(r){const i=r.slice(0);for(let r=0,a=i.length;r<a&&!t.isImmediatePropagationStopped();r++)try{i[r].call(e,t,n)}catch(xZ){hq.error(xZ)}}}),1===i.handlers[t].length)if(e.addEventListener){let n=!1;(function(){if("boolean"!=typeof Mz){Mz=!1;try{const e=Object.defineProperty({},"passive",{get(){Mz=!0}});GF.addEventListener("test",null,e),GF.removeEventListener("test",null,e)}catch(xZ){}}return Mz})()&&$z.indexOf(t)>-1&&(n={passive:!0}),e.addEventListener(t,i.dispatcher,n)}else e.attachEvent&&e.attachEvent("on"+t,i.dispatcher)}function qz(e,t,n){if(!Rz.has(e))return;const i=Rz.get(e);if(!i.handlers)return;if(Array.isArray(t))return Fz(qz,e,t,n);const r=function(e,t){i.handlers[t]=[],Bz(e,t)};if(void 0===t){for(const t in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},t)&&r(e,t);return}const a=i.handlers[t];if(a)if(n){if(n.guid)for(let e=0;e<a.length;e++)a[e].guid===n.guid&&a.splice(e--,1);Bz(e,t)}else r(e,t)}function zz(e,t,n){const i=Rz.has(e)?Rz.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=Uz(t),i.dispatcher&&i.dispatcher.call(e,t,n),r&&!t.isPropagationStopped()&&!0===t.bubbles)zz.call(null,r,t,n);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){Rz.has(t.target)||Rz.set(t.target,{});const e=Rz.get(t.target);t.target[t.type]&&(e.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),e.disabled=!1)}return!t.defaultPrevented}function Hz(e,t,n){if(Array.isArray(t))return Fz(Hz,e,t,n);const i=function(){qz(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||jz(),Vz(e,t,i)}function Wz(e,t,n){const i=function(){qz(e,t,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||jz(),Vz(e,t,i)}var Gz=Object.freeze({__proto__:null,fixEvent:Uz,on:Vz,off:qz,trigger:zz,one:Hz,any:Wz});const Xz=30,Yz=function(e,t,n){t.guid||(t.guid=jz());const i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},Kz=function(e,t){let n=GF.performance.now();return function(...i){const r=GF.performance.now();r-n>=t&&(e(...i),n=r)}},Qz=function(e,t,n,i=GF){let r;const a=function(){const a=this,s=arguments;let o=function(){r=null,o=null,n||e.apply(a,s)};!r&&n&&e.apply(a,s),i.clearTimeout(r),r=i.setTimeout(o,t)};return a.cancel=()=>{i.clearTimeout(r),r=null},a};var Jz=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Xz,bind_:Yz,throttle:Kz,debounce:Qz});let Zz;class eH{on(e,t){const n=this.addEventListener;this.addEventListener=()=>{},Vz(this,e,t),this.addEventListener=n}off(e,t){qz(this,e,t)}one(e,t){const n=this.addEventListener;this.addEventListener=()=>{},Hz(this,e,t),this.addEventListener=n}any(e,t){const n=this.addEventListener;this.addEventListener=()=>{},Wz(this,e,t),this.addEventListener=n}trigger(e){const t=e.type||e;"string"==typeof e&&(e={type:t}),e=Uz(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),zz(this,e)}queueTrigger(e){Zz||(Zz=new Map);const t=e.type||e;let n=Zz.get(this);n||(n=new Map,Zz.set(this,n));const i=n.get(t);n.delete(t),GF.clearTimeout(i);const r=GF.setTimeout(()=>{n.delete(t),0===n.size&&(n=null,Zz.delete(this)),this.trigger(e)},0);n.set(t,r)}}eH.prototype.allowedEvents_={},eH.prototype.addEventListener=eH.prototype.on,eH.prototype.removeEventListener=eH.prototype.off,eH.prototype.dispatchEvent=eH.prototype.trigger;const tH=e=>"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e,nH=e=>e instanceof eH||!!e.eventBusEl_&&["on","one","off","trigger"].every(t=>"function"==typeof e[t]),iH=e=>"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length,rH=(e,t,n)=>{if(!e||!e.nodeName&&!nH(e))throw new Error(`Invalid target for ${tH(t)}#${n}; must be a DOM node or evented object.`)},aH=(e,t,n)=>{if(!iH(e))throw new Error(`Invalid event type for ${tH(t)}#${n}; must be a non-empty string or array.`)},sH=(e,t,n)=>{if("function"!=typeof e)throw new Error(`Invalid listener for ${tH(t)}#${n}; must be a function.`)},oH=(e,t,n)=>{const i=t.length<3||t[0]===e||t[0]===e.eventBusEl_;let r,a,s;return i?(r=e.eventBusEl_,t.length>=3&&t.shift(),[a,s]=t):(r=t[0],a=t[1],s=t[2]),rH(r,e,n),aH(a,e,n),sH(s,e,n),s=Yz(e,s),{isTargetingSelf:i,target:r,type:a,listener:s}},lH=(e,t,n,i)=>{rH(e,e,t),e.nodeName?Gz[t](e,n,i):e[t](n,i)},cH={on(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=oH(this,e,"on");if(lH(n,"on",i,r),!t){const e=()=>this.off(n,i,r);e.guid=r.guid;const t=()=>this.off("dispose",e);t.guid=r.guid,lH(this,"on","dispose",e),lH(n,"on","dispose",t)}},one(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=oH(this,e,"one");if(t)lH(n,"one",i,r);else{const e=(...t)=>{this.off(n,i,e),r.apply(null,t)};e.guid=r.guid,lH(n,"one",i,e)}},any(...e){const{isTargetingSelf:t,target:n,type:i,listener:r}=oH(this,e,"any");if(t)lH(n,"any",i,r);else{const e=(...t)=>{this.off(n,i,e),r.apply(null,t)};e.guid=r.guid,lH(n,"any",i,e)}},off(e,t,n){if(!e||iH(e))qz(this.eventBusEl_,e,t);else{const i=e,r=t;rH(i,this,"off"),aH(r,this,"off"),sH(n,this,"off"),n=Yz(this,n),this.off("dispose",n),i.nodeName?(qz(i,r,n),qz(i,"dispose",n)):nH(i)&&(i.off(r,n),i.off("dispose",n))}},trigger(e,t){rH(this.eventBusEl_,this,"trigger");const n=e&&"string"!=typeof e?e.type:e;if(!iH(n))throw new Error(`Invalid event type for ${tH(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return zz(this.eventBusEl_,e,t)}};function uH(e,t={}){const{eventBusKey:n}=t;if(n){if(!e[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);e.eventBusEl_=e[n]}else e.eventBusEl_=Zq("span",{className:"vjs-event-bus"});return Object.assign(e,cH),e.eventedCallbacks&&e.eventedCallbacks.forEach(e=>{e()}),e.on("dispose",()=>{e.off(),[e,e.el_,e.eventBusEl_].forEach(function(e){e&&Rz.has(e)&&Rz.delete(e)}),GF.setTimeout(()=>{e.eventBusEl_=null},0)}),e}const dH={state:{},setState(e){let t;return"function"==typeof e&&(e=e()),gq(e,(e,n)=>{this.state[n]!==e&&(t=t||{},t[n]={from:this.state[n],to:e}),this.state[n]=e}),t&&nH(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function hH(e,t){return Object.assign(e,dH),e.state=Object.assign({},e.state,t),"function"==typeof e.handleStateChanged&&nH(e)&&e.on("statechanged",e.handleStateChanged),e}const pH=function(e){return"string"!=typeof e?e:e.replace(/./,e=>e.toLowerCase())},fH=function(e){return"string"!=typeof e?e:e.replace(/./,e=>e.toUpperCase())},mH=function(e,t){return fH(e)===fH(t)};var gH=Object.freeze({__proto__:null,toLowerCase:pH,toTitleCase:fH,titleCaseEquals:mH});class vH{constructor(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=_q({},this.options_),t=this.options_=_q(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){const t=e&&e.id&&e.id()||"no_player";this.id_=`${t}_component_${jz()}`}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach(e=>this.addClass(e)),["on","off","one","any","trigger"].forEach(e=>{this[e]=void 0}),!1!==t.evented&&(uH(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),hH(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(n),!1!==t.reportTouchActivity&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return Boolean(this.isDisposed_)}player(){return this.player_}options(e){return e?(this.options_=_q(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,t,n){return Zq(e,t,n)}localize(e,t,n=e){const i=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[i],s=i&&i.split("-")[0],o=r&&r[s];let l=n;return a&&a[e]?l=a[e]:o&&o[e]&&(l=o[e]),t&&(l=l.replace(/\{(\d+)\}/g,function(e,n){const i=t[n-1];let r=i;return void 0===i&&(r=e),r})),l}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((e,t)=>e.concat(t),[]);let t=this;for(let n=0;n<e.length;n++)if(t=t.getChild(e[n]),!t||!t.getChild)return;return t}setIcon(e,t=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=Zq("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),r=ZF.createElementNS(n,"svg");r.setAttributeNS(null,"viewBox","0 0 512 512");const a=ZF.createElementNS(n,"use");return r.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(r),this.iconIsSet_?t.replaceChild(i,t.querySelector(".vjs-icon-placeholder")):t.appendChild(i),this.iconIsSet_=!0,i}addChild(e,t={},n=this.children_.length){let i,r;if("string"==typeof e){r=fH(e);const n=t.componentClass||r;t.name=r;const a=vH.getComponent(n);if(!a)throw new Error(`Component ${n} does not exist`);if("function"!=typeof a)return null;i=new a(this.player_||this,t)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,"function"==typeof i.id&&(this.childIndex_[i.id()]=i),r=r||i.name&&fH(i.name()),r&&(this.childNameIndex_[r]=i,this.childNameIndex_[pH(r)]=i),"function"==typeof i.el&&i.el()){let e=null;this.children_[n+1]&&(this.children_[n+1].el_?e=this.children_[n+1].el_:Kq(this.children_[n+1])&&(e=this.children_[n+1])),this.contentEl().insertBefore(i.el(),e)}return i}removeChild(e){if("string"==typeof e&&(e=this.getChild(e)),!e||!this.children_)return;let t=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){t=!0,this.children_.splice(i,1);break}if(!t)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[fH(e.name())]=null,this.childNameIndex_[pH(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const t=this.options_,n=e=>{const n=e.name;let i=e.opts;if(void 0!==t[n]&&(i=t[n]),!1===i)return;!0===i&&(i={}),i.playerOptions=this.options_.playerOptions;const r=this.addChild(n,i);r&&(this[n]=r)};let i;const r=vH.getComponent("Tech");i=Array.isArray(e)?e:Object.keys(e),i.concat(Object.keys(this.options_).filter(function(e){return!i.some(function(t){return"string"==typeof t?e===t:e===t.name})})).map(t=>{let n,i;return"string"==typeof t?(n=t,i=e[n]||this.options_[n]||{}):(n=t.name,i=t),{name:n,opts:i}}).filter(e=>{const t=vH.getComponent(e.opts.componentClass||fH(e.name));return t&&!r.isTech(t)}).forEach(n)}}buildCSSClass(){return""}ready(e,t=!1){if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)}$(e,t){return Sz(e,t||this.contentEl())}$$(e,t){return wz(e,t||this.contentEl())}hasClass(e){return nz(this.el_,e)}addClass(...e){iz(this.el_,...e)}removeClass(...e){rz(this.el_,...e)}toggleClass(e,t){az(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return lz(this.el_,e)}setAttribute(e,t){cz(this.el_,e,t)}removeAttribute(e){uz(this.el_,e)}width(e,t){return this.dimension("width",e,t)}height(e,t){return this.dimension("height",e,t)}dimensions(e,t){this.width(e,!0),this.height(t)}dimension(e,t,n){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(n||this.trigger("componentresize"));if(!this.el_)return 0;const i=this.el_.style[e],r=i.indexOf("px");return-1!==r?parseInt(i.slice(0,r),10):parseInt(this.el_["offset"+fH(e)],10)}currentDimension(e){let t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=Az(this.el_,e),t=parseFloat(t),0===t||isNaN(t)){const n=`offset${fH(e)}`;t=this.el_[n]}return t}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect();return{boundingClientRect:{x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},center:{x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2}}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&("Tab"===e.key||this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e,t=0,n=null;this.on("touchstart",function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=GF.performance.now(),e=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)e=!1;else if(n){const i=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY;Math.sqrt(i*i+r*r)>10&&(e=!1)}});const i=function(){e=!1};this.on("touchleave",i),this.on("touchcancel",i),this.on("touchend",function(i){n=null,!0===e&&GF.performance.now()-t<200&&(i.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Yz(this.player(),this.player().reportUserActivity);let t;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});const n=function(n){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,t){var n;return e=Yz(this,e),this.clearTimersOnDispose_(),n=GF.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},t),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),GF.clearTimeout(e)),e}setInterval(e,t){e=Yz(this,e),this.clearTimersOnDispose_();const n=GF.setInterval(e,t);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),GF.clearInterval(e)),e}requestAnimationFrame(e){var t;return this.clearTimersOnDispose_(),e=Yz(this,e),t=GF.requestAnimationFrame(()=>{this.rafIds_.has(t)&&this.rafIds_.delete(t),e()}),this.rafIds_.add(t),t}requestNamedAnimationFrame(e,t){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),t=Yz(this,t);const n=this.requestAnimationFrame(()=>{t(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),GF.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,t])=>{this[e].forEach((e,n)=>this[t](n))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return Boolean(this.el_.disabled)}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function t(e){const t=GF.getComputedStyle(e,null),n=t.getPropertyValue("visibility");return"none"!==t.getPropertyValue("display")&&!["hidden","collapse"].includes(n)}return e||(e=this.el()),!!(function(e){if(e.offsetWidth+e.offsetHeight+e.getBoundingClientRect().height+e.getBoundingClientRect().width===0)return!1;const t={x:e.getBoundingClientRect().left+e.offsetWidth/2,y:e.getBoundingClientRect().top+e.offsetHeight/2};if(t.x<0)return!1;if(t.x>(ZF.documentElement.clientWidth||GF.innerWidth))return!1;if(t.y<0)return!1;if(t.y>(ZF.documentElement.clientHeight||GF.innerHeight))return!1;let n=ZF.elementFromPoint(t.x,t.y);for(;n;){if(n===e)return!0;if(!n.parentNode)return!1;n=n.parentNode}}(e)&&(n=e,t(n.parentElement)&&t(n)&&"0"!==n.style.opacity&&"0px"!==GF.getComputedStyle(n).height&&"0px"!==GF.getComputedStyle(n).width)&&(!e.parentElement||e.tabIndex>=0));var n}static registerComponent(e,t){if("string"!=typeof e||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=vH.getComponent("Tech"),i=n&&n.isTech(t),r=vH===t||vH.prototype.isPrototypeOf(t.prototype);if(i||!r){let t;throw t=i?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error(`Illegal component, "${e}"; ${t}.`)}e=fH(e),vH.components_||(vH.components_={});const a=vH.getComponent("Player");if("Player"===e&&a&&a.players){const e=a.players,t=Object.keys(e);if(e&&t.length>0)for(let n=0;n<t.length;n++)if(null!==e[t[n]])throw new Error("Can not register Player component after player has been created.")}return vH.components_[e]=t,vH.components_[pH(e)]=t,t}static getComponent(e){if(e&&vH.components_)return vH.components_[e]}}function yH(e,t,n,i){return function(e,t,n){if("number"!=typeof t||t<0||t>n)throw new Error(`Failed to execute '${e}' on 'TimeRanges': The index provided (${t}) is non-numeric or out of bounds (0-${n}).`)}(e,i,n.length-1),n[i][t]}function bH(e){let t;return t=void 0===e||0===e.length?{length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:yH.bind(null,"start",0,e),end:yH.bind(null,"end",1,e)},GF.Symbol&&GF.Symbol.iterator&&(t[GF.Symbol.iterator]=()=>(e||[]).values()),t}function _H(e,t){return Array.isArray(e)?bH(e):void 0===e||void 0===t?bH():bH([[e,t]])}vH.registerComponent("Component",vH);const TH=function(e,t){e=e<0?0:e;let n=Math.floor(e%60),i=Math.floor(e/60%60),r=Math.floor(e/3600);const a=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=i=n="-"),r=r>0||s>0?r+":":"",i=((r||a>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n};let SH=TH;function wH(e){SH=e}function AH(){SH=TH}function kH(e,t=e){return SH(e,t)}var xH=Object.freeze({__proto__:null,createTimeRanges:_H,createTimeRange:_H,setFormatTime:wH,resetFormatTime:AH,formatTime:kH});function CH(e,t){let n,i,r=0;if(!t)return 0;e&&e.length||(e=_H(0,0));for(let a=0;a<e.length;a++)n=e.start(a),i=e.end(a),i>t&&(i=t),r+=i-n;return r/t}function EH(e){if(e instanceof EH)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:yq(e)&&("number"==typeof e.code&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=EH.defaultMessages[this.code]||"")}function OH(e){return null!=e&&"function"==typeof e.then}function IH(e){OH(e)&&e.then(null,e=>{})}EH.prototype.code=0,EH.prototype.message="",EH.prototype.status=null,EH.prototype.metadata=null,EH.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],EH.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."},EH.MEDIA_ERR_CUSTOM=0,EH.prototype.MEDIA_ERR_CUSTOM=0,EH.MEDIA_ERR_ABORTED=1,EH.prototype.MEDIA_ERR_ABORTED=1,EH.MEDIA_ERR_NETWORK=2,EH.prototype.MEDIA_ERR_NETWORK=2,EH.MEDIA_ERR_DECODE=3,EH.prototype.MEDIA_ERR_DECODE=3,EH.MEDIA_ERR_SRC_NOT_SUPPORTED=4,EH.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4,EH.MEDIA_ERR_ENCRYPTED=5,EH.prototype.MEDIA_ERR_ENCRYPTED=5;const DH=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((t,n,i)=>(e[n]&&(t[n]=e[n]),t),{cues:e.cues&&Array.prototype.map.call(e.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})};var PH=function(e){const t=e.$$("track"),n=Array.prototype.map.call(t,e=>e.track);return Array.prototype.map.call(t,function(e){const t=DH(e.track);return e.src&&(t.src=e.src),t}).concat(Array.prototype.filter.call(e.textTracks(),function(e){return-1===n.indexOf(e)}).map(DH))},LH=function(e,t){return e.forEach(function(e){const n=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach(e=>n.addCue(e))}),t.textTracks()},RH=DH;const MH="vjs-modal-dialog";class NH extends vH{constructor(e,t){super(e,t),this.handleKeyDown_=e=>this.handleKeyDown(e),this.close_=e=>this.close(e),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=Zq("div",{className:`${MH}-content`},{role:"document"}),this.descEl_=Zq("p",{className:`${MH}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),ez(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${MH} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_)return void(this.options_.fillAlways&&this.fill());const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if("boolean"==typeof e){const t=this.closeable_=!!e;let n=this.getChild("closeButton");if(t&&!n){const e=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),_z(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);const r=this.getChild("closeButton");r&&n.appendChild(r.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),vz(this.contentEl()),this.trigger("modalempty")}content(e){return void 0!==e&&(this.content_=e),this.content_}conditionalFocus_(){const e=ZF.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),"Escape"===e.key&&this.closeable())return e.preventDefault(),void this.close();if("Tab"!==e.key)return;const t=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let r=0;r<t.length;r++)if(n===t[r]){i=r;break}ZF.activeElement===this.el_&&(i=0),e.shiftKey&&0===i?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||i!==t.length-1||(t[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,e=>(e instanceof GF.HTMLAnchorElement||e instanceof GF.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof GF.HTMLInputElement||e instanceof GF.HTMLSelectElement||e instanceof GF.HTMLTextAreaElement||e instanceof GF.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof GF.HTMLIFrameElement||e instanceof GF.HTMLObjectElement||e instanceof GF.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable"))}}NH.prototype.options_={pauseOnOpen:!0,temporary:!0},vH.registerComponent("ModalDialog",NH);class jH extends eH{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let t=0;t<e.length;t++)this.addTrack(e[t])}addTrack(e){const t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},nH(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let t;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}getTrackById(e){let t=null;for(let n=0,i=this.length;n<i;n++){const i=this[n];if(i.id===e){t=i;break}}return t}}jH.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const e in jH.prototype.allowedEvents_)jH.prototype["on"+e]=null;const BH=function(e,t){for(let n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].enabled=!1)};class FH extends jH{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].enabled){BH(e,e[t]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&BH(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,BH(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const UH=function(e,t){for(let n=0;n<e.length;n++)Object.keys(e[n]).length&&t.id!==e[n].id&&(e[n].selected=!1)};class $H extends jH{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].selected){UH(e,e[t]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set(){}})}addTrack(e){e.selected&&UH(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,UH(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class VH extends jH{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}toJSON(){return this.tracks_.map(e=>e.toJSON())}}class qH{constructor(e){qH.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const t=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const r=function(e){""+e in this||Object.defineProperty(this,""+e,{get(){return this.cues_[e]}})};if(t<i)for(n=t;n<i;n++)r.call(this,n)}getCueById(e){let t=null;for(let n=0,i=this.length;n<i;n++){const i=this[n];if(i.id===e){t=i;break}}return t}}const zH={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},HH={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},WH={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},GH={disabled:"disabled",hidden:"hidden",showing:"showing"};class XH extends eH{constructor(e={}){super();const t={id:e.id||"vjs_track_"+jz(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const i in t)Object.defineProperty(this,i,{get:()=>t[i],set(){}});Object.defineProperty(this,"label",{get:()=>n,set(e){e!==n&&(n=e,this.trigger("labelchange"))}})}}const YH=function(e){return new URL(e,ZF.baseURI)},KH=function(e){return new URL(e,ZF.baseURI).href},QH=function(e){if("string"==typeof e){const t=e.split("?")[0].replace(/\/+$/,"").match(/\.([^.\/]+)$/);return t?t[1].toLowerCase():""}return""},JH=function(e,t=GF.location){return YH(e).origin!==t.origin};var ZH=Object.freeze({__proto__:null,parseUrl:YH,getAbsoluteURL:KH,getFileExtension:QH,isCrossOrigin:JH});const eW=function(e,t){const n=new GF.WebVTT.Parser(GF,GF.vttjs,GF.WebVTT.StringDecoder()),i=[];n.oncue=function(e){t.addCue(e)},n.onparsingerror=function(e){i.push(e)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(GF.console&&GF.console.groupCollapsed&&GF.console.groupCollapsed(`Text Track parsing errors for ${t.src}`),i.forEach(e=>hq.error(e)),GF.console&&GF.console.groupEnd&&GF.console.groupEnd()),n.flush()},tW=function(e,t){const n={uri:e},i=JH(e);i&&(n.cors=i);const r="use-credentials"===t.tech_.crossOrigin();r&&(n.withCredentials=r),mU(n,Yz(this,function(e,n,i){if(e)return hq.error(e,n);t.loaded_=!0,"function"!=typeof GF.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],e=>{if("vttjserror"!==e.type)return eW(i,t);hq.error(`vttjs failed to load, stopping trying to process ${t.src}`)}):eW(i,t)}))};class nW extends XH{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const t=_q(e,{kind:WH[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=GH[t.mode]||"disabled";const i=t.default;"metadata"!==t.kind&&"chapters"!==t.kind||(n="hidden"),super(t),this.tech_=t.tech,this.cues_=[],this.activeCues_=[],this.preload_=!1!==this.tech_.preloadTextTracks;const r=new qH(this.cues_),a=new qH(this.activeCues_);let s=!1;this.timeupdateHandler=Yz(this,function(e={}){this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,s&&(this.trigger("cuechange"),s=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}),this.tech_.one("dispose",()=>{this.stopTracking()}),"disabled"!==n&&this.startTracking(),Object.defineProperties(this,{default:{get:()=>i,set(){}},mode:{get:()=>n,set(e){GH[e]&&n!==e&&(n=e,this.preload_||"disabled"===n||0!==this.cues.length||tW(this.src,this),this.stopTracking(),"disabled"!==n&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?r:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(0===this.cues.length)return a;const e=this.tech_.currentTime(),t=[];for(let n=0,i=this.cues.length;n<i;n++){const i=this.cues[n];i.startTime<=e&&i.endTime>=e&&t.push(i)}if(s=!1,t.length!==this.activeCues_.length)s=!0;else for(let n=0;n<t.length;n++)-1===this.activeCues_.indexOf(t[n])&&(s=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set(){}}}),t.src?(this.src=t.src,this.preload_||(this.loaded_=!0),(this.preload_||"subtitles"!==t.kind&&"captions"!==t.kind)&&tW(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let t=e;if(!("getCueAsHTML"in t)){t=new GF.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const n in e)n in t||(t[n]=e[n]);t.id=e.id,t.originalCue_=e}const n=this.tech_.textTracks();for(let i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}toJSON(){return RH(this)}removeCue(e){let t=this.cues_.length;for(;t--;){const n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}}nW.prototype.allowedEvents_={cuechange:"cuechange"};class iW extends XH{constructor(e={}){const t=_q(e,{kind:HH[e.kind]||""});super(t);let n=!1;Object.defineProperty(this,"enabled",{get:()=>n,set(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}}class rW extends XH{constructor(e={}){const t=_q(e,{kind:zH[e.kind]||""});super(t);let n=!1;Object.defineProperty(this,"selected",{get:()=>n,set(e){"boolean"==typeof e&&e!==n&&(n=e,this.trigger("selectedchange"))}}),t.selected&&(this.selected=t.selected)}}class aW extends eH{constructor(e={}){let t;super();const n=new nW(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get:()=>t},track:{get:()=>n}}),t=aW.NONE,n.addEventListener("loadeddata",()=>{t=aW.LOADED,this.trigger({type:"load",target:this})})}}aW.prototype.allowedEvents_={load:"load"},aW.NONE=0,aW.LOADING=1,aW.LOADED=2,aW.ERROR=3;const sW={audio:{ListClass:FH,TrackClass:iW,capitalName:"Audio"},video:{ListClass:$H,TrackClass:rW,capitalName:"Video"},text:{ListClass:VH,TrackClass:nW,capitalName:"Text"}};Object.keys(sW).forEach(function(e){sW[e].getterName=`${e}Tracks`,sW[e].privateName=`${e}Tracks_`});const oW={remoteText:{ListClass:VH,TrackClass:nW,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:class{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}addTrackElement_(e){const t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let t;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t}removeTrackElement_(e){for(let t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}}},TrackClass:aW,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},lW=Object.assign({},sW,oW);oW.names=Object.keys(oW),sW.names=Object.keys(sW),lW.names=[].concat(oW.names).concat(sW.names);class cW extends vH{constructor(e={},t=function(){}){e.reportTouchActivity=!1,super(null,e,t),this.onDurationChange_=e=>this.onDurationChange(e),this.trackProgress_=e=>this.trackProgress(e),this.trackCurrentTime_=e=>this.trackCurrentTime(e),this.stopTrackingCurrentTime_=e=>this.stopTrackingCurrentTime(e),this.disposeSourceHandler_=e=>this.disposeSourceHandler(e),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),lW.names.forEach(t=>{const n=lW[t];e&&e[n.getterName]&&(this[n.privateName]=e[n.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(t=>{!1===e[`native${t}Tracks`]&&(this[`featuresNative${t}Tracks`]=!1)}),!1===e.nativeCaptions||!1===e.nativeTextTracks?this.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=!1!==e.preloadTextTracks,this.autoRemoteTextTracks_=new lW.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Yz(this,function(){const e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return _H(0,0)}bufferedPercent(){return CH(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(sW.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){(e=[].concat(e)).forEach(e=>{const t=this[`${e}Tracks`]()||[];let n=t.length;for(;n--;){const i=t[n];"text"===e&&this.removeRemoteTextTrack(i),t.removeTrack(i)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let t=e.length;for(;t--;){const n=e[t];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return void 0!==e&&(this.error_=new EH(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?_H(0,0):_H()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){sW.names.forEach(e=>{const t=sW[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[t.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!GF.WebVTT)if(ZF.body.contains(this.el())){if(!this.options_["vtt.js"]&&bq(CU)&&Object.keys(CU).length>0)return void this.trigger("vttjsloaded");const e=ZF.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),GF.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),t=this.remoteTextTracks(),n=t=>e.addTrack(t.track),i=t=>e.removeTrack(t.track);t.on("addtrack",n),t.on("removetrack",i),this.addWebVttScript_();const r=()=>this.trigger("texttrackchange"),a=()=>{r();for(let t=0;t<e.length;t++){const n=e[t];n.removeEventListener("cuechange",r),"showing"===n.mode&&n.addEventListener("cuechange",r)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){t.off("addtrack",n),t.off("removetrack",i),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let t=0;t<e.length;t++)e[t].removeEventListener("cuechange",r)})}addTextTrack(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,n,i,r={}){const a=e.textTracks();r.kind=t,n&&(r.label=n),i&&(r.language=i),r.tech=e;const s=new lW.text.TrackClass(r);return a.addTrack(s),s}(this,e,t,n)}createRemoteTextTrack(e){const t=_q(e,{tech:this});return new oW.remoteTextEl.TrackClass(t)}addRemoteTextTrack(e={},t){const n=this.createRemoteTextTrack(e);return"boolean"!=typeof t&&(t=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!1===t&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const t=jz();return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",()=>{this.queuedHanders_.has(t)&&(this.queuedHanders_.delete(t),e())})):this.requestNamedAnimationFrame(t,e),t}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,t){return cW.canPlayType(e.type)}static isTech(e){return e.prototype instanceof cW||e instanceof cW||e===cW}static registerTech(e,t){if(cW.techs_||(cW.techs_={}),!cW.isTech(t))throw new Error(`Tech ${e} must be a Tech`);if(!cW.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!cW.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=fH(e),cW.techs_[e]=t,cW.techs_[pH(e)]=t,"Tech"!==e&&cW.defaultTechOrder_.push(e),t}static getTech(e){if(e)return cW.techs_&&cW.techs_[e]?cW.techs_[e]:(e=fH(e),GF&&GF.videojs&&GF.videojs[e]?(hq.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),GF.videojs[e]):void 0)}}lW.names.forEach(function(e){const t=lW[e];cW.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),cW.prototype.featuresVolumeControl=!0,cW.prototype.featuresMuteControl=!0,cW.prototype.featuresFullscreenResize=!1,cW.prototype.featuresPlaybackRate=!1,cW.prototype.featuresProgressEvents=!1,cW.prototype.featuresSourceset=!1,cW.prototype.featuresTimeupdateEvents=!1,cW.prototype.featuresNativeTextTracks=!1,cW.prototype.featuresVideoFrameCallback=!1,cW.withSourceHandlers=function(e){e.registerSourceHandler=function(t,n){let i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),void 0===n&&(n=i.length),i.splice(n,0,t)},e.canPlayType=function(t){const n=e.sourceHandlers||[];let i;for(let e=0;e<n.length;e++)if(i=n[e].canPlayType(t),i)return i;return""},e.selectSourceHandler=function(t,n){const i=e.sourceHandlers||[];let r;for(let e=0;e<i.length;e++)if(r=i[e].canHandleSource(t,n),r)return i[e];return null},e.canPlaySource=function(t,n){const i=e.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""},["seekable","seeking","duration"].forEach(function(e){const t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(t){let n=e.selectSourceHandler(t,this.options_);n||(e.nativeSourceHandler?n=e.nativeSourceHandler:hq.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},vH.registerComponent("Tech",cW),cW.registerTech("Tech",cW),cW.defaultTechOrder_=[];const uW={},dW={},hW={};function pW(e,t,n){e.setTimeout(()=>bW(t,uW[t.type],n,e),1)}function fW(e,t,n,i=null){const r="call"+fH(n),a=e.reduce(yW(r),i),s=a===hW,o=s?null:t[n](a);return function(e,t,n,i){for(let r=e.length-1;r>=0;r--){const a=e[r];a[t]&&a[t](i,n)}}(e,n,o,s),o}const mW={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},gW={setCurrentTime:1,setMuted:1,setVolume:1},vW={play:1,pause:1};function yW(e){return(t,n)=>t===hW?hW:n[e]?n[e](t):t}function bW(e={},t=[],n,i,r=[],a=!1){const[s,...o]=t;if("string"==typeof s)bW(e,uW[s],n,i,r,a);else if(s){const t=function(e,t){const n=dW[e.id()];let i=null;if(null==n)return i=t(e),dW[e.id()]=[[t,i]],i;for(let r=0;r<n.length;r++){const[e,a]=n[r];e===t&&(i=a)}return null===i&&(i=t(e),n.push([t,i])),i}(i,s);if(!t.setSource)return r.push(t),bW(e,o,n,i,r,a);t.setSource(Object.assign({},e),function(s,l){if(s)return bW(e,o,n,i,r,a);r.push(t),bW(l,e.type===l.type?o:uW[l.type],n,i,r,a)})}else o.length?bW(e,o,n,i,r,a):a?n(e,r):bW(e,uW["*"],n,i,r,!0)}const _W={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},TW=function(e=""){const t=QH(e);return _W[t.toLowerCase()]||""},SW=function(e){if(Array.isArray(e)){let t=[];e.forEach(function(e){e=SW(e),Array.isArray(e)?t=t.concat(e):yq(e)&&t.push(e)}),e=t}else e="string"==typeof e&&e.trim()?[wW({src:e})]:yq(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[wW(e)]:[];return e};function wW(e){if(!e.type){const t=TW(e.src);t&&(e.type=t)}return e}const AW=Uq?10009:$q?461:8,kW={codes:{play:415,pause:19,ff:417,rw:412,back:AW},names:{415:"play",19:"pause",417:"ff",412:"rw",[AW]:"back"},isEventKey(e,t){return t=t.toLowerCase(),!(!this.names[e.keyCode]||this.names[e.keyCode]!==t)},getEventName(e){if(this.names[e.keyCode])return this.names[e.keyCode];if(this.codes[e.code]){const t=this.codes[e.code];return this.names[t]}return null}};class xW extends eH{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const t=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){if(this.isPaused_)return;t.preventDefault();const e=t.key.substring(5).toLowerCase();this.move(e)}else if(kW.isEventKey(t,"play")||kW.isEventKey(t,"pause")||kW.isEventKey(t,"ff")||kW.isEventKey(t,"rw")){t.preventDefault();const e=kW.getEventName(t);this.performMediaAction_(e)}else kW.isEventKey(t,"Back")&&e.target&&"function"==typeof e.target.closeable&&e.target.closeable()&&(t.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+5);break;case"rw":this.userSeek_(this.player_.currentTime()-5)}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const t=e.relatedTarget;let n=null;const i=this.getCurrentComponent(e.target);t&&(n=Boolean(t.closest(".video-js")),t.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(e.currentTarget.contains(e.relatedTarget)||n)&&t||(i&&"CloseButton"===i.name()?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,t=[];function n(e){for(const i of e)i.hasOwnProperty("el_")&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())&&t.push(i),i.hasOwnProperty("children_")&&i.children_.length>0&&n(i.children_)}return e.children_.forEach(e=>{if(e.hasOwnProperty("el_")){if(e.getIsFocusable&&e.getIsAvailableToBeFocused&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el()))return void t.push(e);e.hasOwnProperty("children_")&&e.children_.length>0?n(e.children_):e.hasOwnProperty("items")&&e.items.length>0?n(e.items):this.findSuitableDOMChild(e)&&t.push(e)}if("ErrorDisplay"===e.name_&&e.opened_){const n=e.el_.querySelector(".vjs-errors-ok-button-container");n&&n.querySelectorAll("button").forEach((e,n)=>{t.push({name:()=>"ModalButton"+(n+1),el:()=>e,getPositions:()=>{const t=e.getBoundingClientRect();return{boundingClientRect:{x:t.x,y:t.y,width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left},center:{x:t.left+t.width/2,y:t.top+t.height/2,width:0,height:0,top:t.top+t.height/2,right:t.left+t.width/2,bottom:t.top+t.height/2,left:t.left+t.width/2}}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:e=>!0,focus:()=>e.focus()})})}}),this.focusableComponents=t,this.focusableComponents}findSuitableDOMChild(e){return e.el()?function t(n){if(e.getIsFocusable(n)&&e.getIsAvailableToBeFocused(n))return n;for(let e=0;e<n.children.length;e++){const i=t(n.children[e]);if(i)return i}return null}(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const t=e||document.activeElement;if(this.focusableComponents.length)for(const n of this.focusableComponents)if(n.el()===t)return n}add(e){const t=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&t.push(e),this.focusableComponents=t,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let t=0;t<this.focusableComponents.length;t++)if(this.focusableComponents[t].name()===e.name())return this.focusableComponents.splice(t,1),void this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const t=this.getCurrentComponent();if(!t)return;const n=t.getPositions(),i=this.focusableComponents.filter(i=>i!==t&&this.isInDirection_(n.boundingClientRect,i.getPositions().boundingClientRect,e)),r=this.findBestCandidate_(n.center,i,e);r?this.focus(r):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:t})}findBestCandidate_(e,t,n){let i=1/0,r=null;for(const a of t){const t=a.getPositions().center,s=this.calculateDistance_(e,t,n);s<i&&(i=s,r=a)}return r}isInDirection_(e,t,n){switch(n){case"right":return t.left>=e.right;case"left":return t.right<=e.left;case"down":return t.top>=e.bottom;case"up":return t.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name())return void this.focus(this.focusableComponents[e])}else this.focus(this.updateFocusableComponents()[0])}focus(e){"object"==typeof e&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,t,n){const i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);let a;switch(n){case"right":case"left":a=i+100*r;break;case"up":a=2*r+.5*i;break;case"down":a=5*r+i;break;default:a=i+r}return a}searchForTrackSelect_(){const e=this;for(const t of e.updateFocusableComponents())if("TextTrackSelect"===t.constructor.name){e.focus(t);break}}}vH.registerComponent("MediaLoader",class extends vH{constructor(e,t,n){if(super(e,_q({createEl:!1},t),n),t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(let i=0,r=t.playerOptions.techOrder;i<r.length;i++){const t=fH(r[i]);let n=cW.getTech(t);if(t||(n=vH.getComponent(t)),n&&n.isSupported()){e.loadTech_(t);break}}}});class CW extends vH{constructor(e,t){super(e,t),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=e=>this.handleMouseOver(e),this.handleMouseOut_=e=>this.handleMouseOut(e),this.handleClick_=e=>this.handleClick(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.emitTapEvents(),this.enable()}createEl(e="div",t={},n={}){t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&hq.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=t.tabIndex;const i=Zq(e,t,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(Zq("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=Zq("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,t=this.el()){if(void 0===e)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,ez(this.controlTextEl_,n),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){" "===e.key||"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}vH.registerComponent("ClickableComponent",CW);class EW extends CW{constructor(e,t){super(e,t),this.update(),this.update_=e=>this.update(e),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return Zq("div",{className:"vjs-poster"})}crossOrigin(e){if(void 0===e)return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null===e||"anonymous"===e||"use-credentials"===e?this.$("img")&&(this.$("img").crossOrigin=e):this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}update(e){const t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}setSrc(e){e?(this.$("img")||this.el_.appendChild(Zq("picture",{className:"vjs-poster",tabIndex:-1},{},Zq("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e):this.el_.textContent=""}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?IH(this.player_.play()):this.player_.pause())}}EW.prototype.crossorigin=EW.prototype.crossOrigin,vH.registerComponent("PosterImage",EW);const OW="#222",IW="#ccc",DW={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function PW(e,t){let n;if(4===e.length)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");n=e.slice(1)}return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function LW(e,t,n){try{e.style[t]=n}catch(xZ){return}}function RW(e){return e?`${e}px`:""}vH.registerComponent("TextTrackDisplay",class extends vH{constructor(e,t,n){super(e,t,n);const i=e=>this.updateDisplay(e),r=e=>{this.updateDisplayOverlay(),this.updateDisplay(e)};e.on("loadstart",e=>this.toggleDisplay(e)),e.on("useractive",i),e.on("userinactive",i),e.on("texttrackchange",i),e.on("loadedmetadata",e=>{this.updateDisplayOverlay(),this.preselectTrack(e)}),e.ready(Yz(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)return void this.hide();e.on("fullscreenchange",r),e.on("playerresize",r);const t=GF.screen.orientation||GF,n=GF.screen.orientation?"change":"orientationchange";t.addEventListener(n,r),e.on("dispose",()=>t.removeEventListener(n,r));const i=this.options_.playerOptions.tracks||[];for(let e=0;e<i.length;e++)this.player_.addRemoteTextTrack(i[e],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,r,a;for(let s=0;s<t.length;s++){const o=t[s];n&&n.enabled&&n.language&&n.language===o.language&&o.kind in e?o.kind===n.kind?a=o:a||(a=o):n&&!n.enabled?(a=null,i=null,r=null):o.default&&("descriptions"!==o.kind||i?o.kind in e&&!r&&(r=o):i=o)}a?a.mode="showing":r?r.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){"function"==typeof GF.WebVTT&&GF.WebVTT.processCues(GF,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){const t=[];for(let n=0;n<e.length;++n){const i=e[n];"showing"===i.mode&&t.push(i)}return void this.updateForTrack(t)}let n=null,i=null,r=e.length;for(;r--;){const t=e[r];"showing"===t.mode&&("descriptions"===t.kind?n=t:i=t)}if(i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n)),!GF.CSS.supports("inset","10px")){const e=this.el_,t=e.querySelectorAll(".vjs-text-track-cue"),n=this.player_.controlBar.el_.getBoundingClientRect().height,i=this.player_.el_.getBoundingClientRect().height;e.style="",LW(e,"position","relative"),LW(e,"height",i-n+"px"),LW(e,"top","unset"),LW(e,"bottom",Vq?i+"px":"0px"),t.length>0&&t.forEach(e=>{if(e.style.inset){const t=e.style.inset.split(" ");3===t.length&&Object.assign(e.style,{top:t[0],right:t[1],bottom:t[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!GF.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),t=this.player_.currentHeight(),n=e/t,i=this.player_.videoWidth()/this.player_.videoHeight();let r=0,a=0;Math.abs(n-i)>.1&&(n>i?r=Math.round((e-t*i)/2):a=Math.round((t-e/i)/2)),LW(this.el_,"insetInline",RW(r)),LW(this.el_,"insetBlock",RW(a))}updateDisplayState(e){const t=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const e=n[i];if(!e)continue;const r=e.displayState;if(t.color&&(r.firstChild.style.color=t.color),t.textOpacity&&LW(r.firstChild,"color",PW(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(r.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&LW(r.firstChild,"backgroundColor",PW(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?LW(r,"backgroundColor",PW(t.windowColor,t.windowOpacity)):r.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?r.firstChild.style.textShadow=`2px 2px 3px ${OW}, 2px 2px 4px ${OW}, 2px 2px 5px ${OW}`:"raised"===t.edgeStyle?r.firstChild.style.textShadow=`1px 1px ${OW}, 2px 2px ${OW}, 3px 3px ${OW}`:"depressed"===t.edgeStyle?r.firstChild.style.textShadow=`1px 1px ${IW}, 0 1px ${IW}, -1px -1px ${OW}, 0 -1px ${OW}`:"uniform"===t.edgeStyle&&(r.firstChild.style.textShadow=`0 0 4px ${OW}, 0 0 4px ${OW}, 0 0 4px ${OW}, 0 0 4px ${OW}`)),t.fontPercent&&1!==t.fontPercent){const e=GF.parseFloat(r.style.fontSize);r.style.fontSize=e*t.fontPercent+"px",r.style.height="auto",r.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=DW[t.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),"function"!=typeof GF.WebVTT||e.every(e=>!e.activeCues))return;const t=[];for(let n=0;n<e.length;++n){const i=e[n];for(let e=0;e<i.activeCues.length;++e)t.push(i.activeCues[e])}GF.WebVTT.processCues(GF,t,this.el_);for(let n=0;n<e.length;++n){const t=e[n];for(let e=0;e<t.activeCues.length;++e){const i=t.activeCues[e].displayState;iz(i,"vjs-text-track-cue","vjs-text-track-cue-"+(t.language?t.language:n)),t.language&&cz(i,"lang",t.language)}this.player_.textTrackSettings&&this.updateDisplayState(t)}}}),vH.registerComponent("LoadingSpinner",class extends vH{createEl(){const e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),n=Zq("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}});class MW extends CW{createEl(e,t={},n={}){const i=Zq("button",t=Object.assign({className:this.buildCSSClass()},t),n=Object.assign({type:"button"},n));return this.player_.options_.experimentalSvgIcons||i.appendChild(Zq("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,t={}){const n=this.constructor.name;return hq.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),vH.prototype.addChild.call(this,e,t)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){" "!==e.key&&"Enter"!==e.key?super.handleKeyDown(e):e.stopPropagation()}}vH.registerComponent("Button",MW);class NW extends MW{constructor(e,t){super(e,t),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",e=>this.handleMouseDown(e))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const t=this.player_.play();if("tap"===e.type||this.mouseused_&&"clientX"in e&&"clientY"in e)return IH(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i)return void this.player_.tech(!0).focus();const r=()=>i.focus();OH(t)?t.then(r,()=>{}):this.setTimeout(r,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}NW.prototype.controlText_="Play Video",vH.registerComponent("BigPlayButton",NW),vH.registerComponent("CloseButton",class extends MW{constructor(e,t){super(e,t),this.setIcon("cancel"),this.controlText(t&&t.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){"Escape"===e.key?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}});class jW extends MW{constructor(e,t={}){super(e,t),t.replay=void 0===t.replay||t.replay,this.setIcon("play"),this.on(e,"play",e=>this.handlePlay(e)),this.on(e,"pause",e=>this.handlePause(e)),t.replay&&this.on(e,"ended",e=>this.handleEnded(e))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?IH(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",e=>this.handleSeeked(e))}}jW.prototype.controlText_="Play",vH.registerComponent("PlayToggle",jW);class BW extends vH{constructor(e,t){super(e,t),this.on(e,["timeupdate","ended","seeking"],e=>this.update(e)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),t=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=Zq("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return t.appendChild(n),this.contentEl_=Zq("span",{className:`${e}-display`},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){(this.player_.options_.enableSmoothSeeking||"seeking"!==e.type)&&this.updateContent(e)}updateTextNode_(e=0){e=kH(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let e=this.textNode_;e&&this.contentEl_.firstChild!==e&&(e=null,hq.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=ZF.createTextNode(this.formattedTime_),this.textNode_&&(e?this.contentEl_.replaceChild(this.textNode_,e):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}BW.prototype.labelText_="Time",BW.prototype.controlText_="Time",vH.registerComponent("TimeDisplay",BW);class FW extends BW{buildCSSClass(){return"vjs-current-time"}updateContent(e){let t;t=this.player_.ended()?this.player_.duration():e&&e.target&&"function"==typeof e.target.pendingSeekTime?e.target.pendingSeekTime():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}}FW.prototype.labelText_="Current Time",FW.prototype.controlText_="Current Time",vH.registerComponent("CurrentTimeDisplay",FW);class UW extends BW{constructor(e,t){super(e,t);const n=e=>this.updateContent(e);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const t=this.player_.duration();this.updateTextNode_(t)}}UW.prototype.labelText_="Duration",UW.prototype.controlText_="Duration",vH.registerComponent("DurationDisplay",UW),vH.registerComponent("TimeDivider",class extends vH{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return t.appendChild(n),e.appendChild(t),e}});class $W extends BW{constructor(e,t){super(e,t),this.on(e,"durationchange",e=>this.updateContent(e))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return!1!==this.options_.displayNegative&&e.insertBefore(Zq("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if("number"!=typeof this.player_.duration())return;let t;t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t)}}$W.prototype.labelText_="Remaining Time",$W.prototype.controlText_="Remaining Time",vH.registerComponent("RemainingTimeDisplay",$W),vH.registerComponent("LiveDisplay",class extends vH{constructor(e,t){super(e,t),this.updateShowing(),this.on(this.player(),"durationchange",e=>this.updateShowing(e))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Zq("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Zq("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(ZF.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}});class VW extends MW{constructor(e,t){super(e,t),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=e=>this.updateLiveEdgeStatus(e),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=Zq("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}function qW(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))}VW.prototype.controlText_="Seek to live, currently playing live",vH.registerComponent("SeekToLive",VW);var zW=Object.freeze({__proto__:null,clamp:qW});class HW extends vH{constructor(e,t){super(e,t),this.handleMouseDown_=e=>this.handleMouseDown(e),this.handleMouseUp_=e=>this.handleMouseUp(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.handleClick_=e=>this.handleClick(e),this.handleMouseMove_=e=>this.handleMouseMove(e),this.update_=e=>this.update(e),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,t={},n={}){return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,t,n)}handleMouseDown(e){const t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||Dq||e.preventDefault(),dz(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const t=this.bar.el_.ownerDocument;hz(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const t=this.vertical()?"height":"width";this.bar.el().style[t]=(100*e).toFixed(2)+"%"})),e}getProgress(){return Number(qW(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const t=mz(this.el_,e);return this.vertical()?t.y:t.x}handleKeyDown(e){const t=this.options_.playerOptions.spatialNavigation,n=t&&t.enabled,i=t&&t.horizontalSeek;n?i&&"ArrowLeft"===e.key||!i&&"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&"ArrowRight"===e.key||!i&&"ArrowUp"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(this.pendingSeekTime()&&(this.pendingSeekTime(null),this.userSeek_(this.player_.currentTime())),super.handleKeyDown(e)):"ArrowLeft"===e.key||"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepBack()):"ArrowUp"===e.key||"ArrowRight"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}vH.registerComponent("Slider",HW);const WW=(e,t)=>qW(e/t*100,0,100).toFixed(2)+"%";vH.registerComponent("LoadProgressBar",class extends vH{constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",e=>this.update(e))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),t=Zq("span",{className:"vjs-control-text"}),n=Zq("span",{textContent:this.localize("Loaded")}),i=ZF.createTextNode(": ");return this.percentageEl_=Zq("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(n),t.appendChild(i),t.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const e=this.player_.liveTracker,t=this.player_.buffered(),n=e&&e.isLive()?e.seekableEnd():this.player_.duration(),i=this.player_.bufferedEnd(),r=this.partEls_,a=WW(i,n);this.percent_!==a&&(this.el_.style.width=a,ez(this.percentageEl_,a),this.percent_=a);for(let s=0;s<t.length;s++){const e=t.start(s),n=t.end(s);let a=r[s];a||(a=this.el_.appendChild(Zq()),r[s]=a),a.dataset.start===e&&a.dataset.end===n||(a.dataset.start=e,a.dataset.end=n,a.style.left=WW(e,i),a.style.width=WW(n-e,i))}for(let s=r.length;s>t.length;s--)this.el_.removeChild(r[s-1]);r.length=t.length})}}),vH.registerComponent("TimeTooltip",class extends vH{constructor(e,t){super(e,t),this.update=Kz(Yz(this,this.update),Xz)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,t,n){const i=fz(this.el_),r=pz(this.player_.el()),a=e.width*t;if(!r||!i)return;let s=e.left-r.left+a,o=e.width-a+(r.right-e.right);o||(o=e.width-a,s=a);let l=i.width/2;s<l?l+=l-s:o<l&&(l=o),l<0?l=0:l>i.width&&(l=i.width),l=Math.round(l),this.el_.style.right=`-${l}px`,this.write(n)}write(e){ez(this.el_,e)}updateTime(e,t,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let r;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const e=this.player_.liveTracker.liveWindow(),n=e-t*e;r=(n<1?"":"-")+kH(n,e)}else r=kH(n,a);this.update(e,t,r),i&&i()})}});class GW extends vH{constructor(e,t){super(e,t),this.setIcon("circle"),this.update=Kz(Yz(this,this.update),Xz)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,t,n){const i=this.getChild("timeTooltip");if(!i)return;const r=n&&n.target&&"function"==typeof n.target.pendingSeekTime?n.target.pendingSeekTime():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,t,r)}}GW.prototype.options_={children:[]},Hq||Cq||GW.prototype.options_.children.push("timeTooltip"),vH.registerComponent("PlayProgressBar",GW);class XW extends vH{constructor(e,t){super(e,t),this.update=Kz(Yz(this,this.update),Xz)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){const n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,()=>{this.el_.style.left=e.width*t+"px"})}}XW.prototype.options_={children:["timeTooltip"]},vH.registerComponent("MouseTimeDisplay",XW);class YW extends HW{constructor(e,t){(t=_q(YW.prototype.options_,t)).children=[...t.children];const n=e.options_.disableSeekWhileScrubbingOnMobile&&(Hq||Cq)||e.options_.disableSeekWhileScrubbingOnSTV;(!Hq&&!Cq||n)&&t.children.splice(1,0,"mouseTimeDisplay"),super(e,t),this.shouldDisableSeekWhileScrubbing_=n,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=Yz(this,this.update),this.update=Kz(this.update_,Xz),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ZF&&"visibilityState"in ZF&&this.on(ZF,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){"hidden"===ZF.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Xz))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if("hidden"===ZF.visibilityState)return;const t=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let r=this.player_.duration();i&&i.isLive()&&(r=this.player_.liveTracker.liveCurrentTime()),this.percent_!==t&&(this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.percent_=t),this.currentTime_===n&&this.duration_===r||(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[kH(n,r),kH(r,r)],"{1} of {2}")),this.currentTime_=n,this.duration_=r),this.bar&&this.bar.update(pz(this.el()),this.getProgress(),e)}),t}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}pendingSeekTime(e){if(void 0!==e)if(null!==e){const t=this.player_.duration();this.pendingSeekTime_=Math.max(0,Math.min(e,t))}else this.pendingSeekTime_=null;return this.pendingSeekTime_}getPercent(){if(null!==this.pendingSeekTime())return this.pendingSeekTime()/this.player_.duration();const e=this.getCurrentTime_();let t;const n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t}handleMouseDown(e){Tz(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbing_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,t=!1){if(!Tz(e)||isNaN(this.player_.duration()))return;let n;t||this.player_.scrubbing()||this.player_.scrubbing(!0);const i=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(i>=.99)return void r.seekToLiveEdge();const e=r.seekableStart(),t=r.liveCurrentTime();if(n=e+i*r.liveWindow(),n>=t&&(n=t),n<=e&&(n=e+.1),n===1/0)return}else n=i*this.player_.duration(),n===this.player_.duration()&&(n-=.1);this.shouldDisableSeekWhileScrubbing_?this.pendingSeekTime(n):this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),null!==this.pendingSeekTime()&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?IH(this.player_.play()):this.update_()}handlePendingSeek_(e){this.player_.paused()||this.player_.pause();const t=null!==this.pendingSeekTime()?this.pendingSeekTime():this.player_.currentTime();this.pendingSeekTime(t+e),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}stepForward(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(this.options().stepSeconds):this.userSeek_(this.player_.currentTime()+this.options().stepSeconds)}stepBack(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(-this.options().stepSeconds):this.userSeek_(this.player_.currentTime()-this.options().stepSeconds)}handleAction(e){null!==this.pendingSeekTime()&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const t=this.player_.liveTracker;if(" "===e.key||"Enter"===e.key)e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if("Home"===e.key)e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if("End"===e.key)e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const n=.1*parseInt(e.key,10);t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else"PageDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-this.options().stepSeconds*this.options().pageMultiplier)):"PageUp"===e.key?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+this.options().stepSeconds*this.options().pageMultiplier)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ZF&&"visibilityState"in ZF&&this.off(ZF,"visibilitychange",this.toggleVisibility_),super.dispose()}}YW.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar",stepSeconds:5,pageMultiplier:12},vH.registerComponent("SeekBar",YW);class KW extends vH{constructor(e,t){super(e,t),this.handleMouseMove=Kz(Yz(this,this.handleMouseMove),Xz),this.throttledHandleMouseSeek=Kz(Yz(this,this.handleMouseSeek),Xz),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.handleMouseDownHandler_=e=>this.handleMouseDown(e),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const t=this.getChild("seekBar");if(!t)return;const n=t.getChild("playProgressBar"),i=t.getChild("mouseTimeDisplay");if(!n&&!i)return;const r=t.el(),a=fz(r);let s=mz(r,e).x;s=qW(s,0,1),i&&i.update(a,s),n&&n.update(a,t.getProgress())}handleMouseSeek(e){const t=this.getChild("seekBar");t&&t.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&IH(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}KW.prototype.options_={children:["seekBar"]},vH.registerComponent("ProgressControl",KW);class QW extends MW{constructor(e,t){super(e,t),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],e=>this.handlePictureInPictureChange(e)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],e=>this.handlePictureInPictureEnabledChange(e)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){"audio"===this.player_.currentType().substring(0,5)||this.player_.audioPosterMode()||this.player_.audioOnlyMode()?(this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()):this.show()}handlePictureInPictureEnabledChange(){ZF.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in GF?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){"function"==typeof ZF.exitPictureInPicture&&super.show()}}QW.prototype.controlText_="Picture-in-Picture",vH.registerComponent("PictureInPictureToggle",QW);class JW extends MW{constructor(e,t){super(e,t),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",e=>this.handleFullscreenChange(e)),!1===ZF[e.fsApi_.fullscreenEnabled]&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}JW.prototype.controlText_="Fullscreen",vH.registerComponent("FullscreenToggle",JW),vH.registerComponent("VolumeLevel",class extends vH{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}),vH.registerComponent("VolumeLevelTooltip",class extends vH{constructor(e,t){super(e,t),this.update=Kz(Yz(this,this.update),Xz)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,t,n,i){if(!n){const n=pz(this.el_),i=pz(this.player_.el()),r=e.width*t;if(!i||!n)return;const a=e.left-i.left+r,s=e.width-r+(i.right-e.right);let o=n.width/2;a<o?o+=o-a:s<o&&(o=s),o<0?o=0:o>n.width&&(o=n.width),this.el_.style.right=`-${o}px`}this.write(`${i}%`)}write(e){ez(this.el_,e)}updateVolume(e,t,n,i,r){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,t,n,i.toFixed(0)),r&&r()})}});class ZW extends vH{constructor(e,t){super(e,t),this.update=Kz(Yz(this,this.update),Xz)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t,n){const i=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,i,()=>{n?this.el_.style.bottom=e.height*t+"px":this.el_.style.left=e.width*t+"px"})}}ZW.prototype.options_={children:["volumeLevelTooltip"]},vH.registerComponent("MouseVolumeLevelDisplay",ZW);class eG extends HW{constructor(e,t){super(e,t),this.on("slideractive",e=>this.updateLastVolume_(e)),this.on(e,"volumechange",e=>this.updateARIAAttributes(e)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Tz(e)&&super.handleMouseDown(e)}handleMouseMove(e){const t=this.getChild("mouseVolumeLevelDisplay");if(t){const n=this.el(),i=pz(n),r=this.vertical();let a=mz(n,e);a=r?a.y:a.x,a=qW(a,0,1),t.update(i,a,r)}Tz(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(100*this.player_.volume())}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{0===this.player_.volume()&&this.player_.lastVolume_(e)})}}eG.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Hq||Cq||eG.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),eG.prototype.playerEvent="volumechange",vH.registerComponent("VolumeBar",eG);class tG extends vH{constructor(e,t={}){t.vertical=t.vertical||!1,(void 0===t.volumeBar||bq(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}(this,e),this.throttledHandleMouseMove=Kz(Yz(this,this.handleMouseMove),Xz),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.on("mousedown",e=>this.handleMouseDown(e)),this.on("touchstart",e=>this.handleMouseDown(e)),this.on("mousemove",e=>this.handleMouseMove(e)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}tG.prototype.options_={children:["volumeBar"]},vH.registerComponent("VolumeControl",tG);class nG extends MW{constructor(e,t){super(e,t),function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})}(this,e),this.on(e,["loadstart","volumechange"],e=>this.update(e))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.volume(),n=this.player_.lastVolume_();if(0===t){const e=n<.1?.1:n;this.player_.volume(e),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let t=3;this.setIcon("volume-high"),Hq&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?(this.setIcon("volume-mute"),t=0):e<.33?(this.setIcon("volume-low"),t=1):e<.67&&(this.setIcon("volume-medium"),t=2),rz(this.el_,[0,1,2,3].reduce((e,t)=>e+`${t?" ":""}vjs-vol-${t}`,"")),iz(this.el_,`vjs-vol-${t}`)}updateControlText_(){const e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}}nG.prototype.controlText_="Mute",vH.registerComponent("MuteToggle",nG);class iG extends vH{constructor(e,t={}){void 0!==t.inline?t.inline=t.inline:t.inline=!0,(void 0===t.volumeControl||bq(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),super(e,t),this.handleKeyPressHandler_=e=>this.handleKeyPress(e),this.on(e,["loadstart"],e=>this.volumePanelState_(e)),this.on(this.muteToggle,"keyup",e=>this.handleKeyPress(e)),this.on(this.volumeControl,"keyup",e=>this.handleVolumeControlKeyUp(e)),this.on("keydown",e=>this.handleKeyPress(e)),this.on("mouseover",e=>this.handleMouseOver(e)),this.on("mouseout",e=>this.handleMouseOut(e)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){"Escape"===e.key&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),Vz(ZF,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),qz(ZF,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){"Escape"===e.key&&this.handleMouseOut()}}iG.prototype.options_={children:["muteToggle","volumeControl"]},vH.registerComponent("VolumePanel",iG);class rG extends MW{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const t=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let r;r=t+this.skipTime<=i?t+this.skipTime:i,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}rG.prototype.controlText_="Skip Forward",vH.registerComponent("SkipForward",rG);class aG extends MW{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let r;r=i&&t-this.skipTime<=i?i:t>=this.skipTime?t-this.skipTime:0,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}aG.prototype.controlText_="Skip Backward",vH.registerComponent("SkipBackward",aG);class sG extends vH{constructor(e,t){super(e,t),t&&(this.menuButton_=t.menuButton),this.focusedChild_=-1,this.on("keydown",e=>this.handleKeyDown(e)),this.boundHandleBlur_=e=>this.handleBlur(e),this.boundHandleTapClick_=e=>this.handleTapClick(e)}addEventListenerForItem(e){e instanceof vH&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof vH&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const t=this.addChild(e);t&&this.addEventListenerForItem(t)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=Zq(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const t=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),Vz(t,"click",function(e){e.preventDefault(),e.stopImmediatePropagation()}),t}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const t=e.relatedTarget||ZF.activeElement;if(!this.children().some(e=>e.el()===t)){const e=this.menuButton_;e&&e.buttonPressed_&&t!==e.el().firstChild&&e.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const t=this.children();if(!Array.isArray(t))return;const n=t.filter(t=>t.el()===e.target)[0];if(!n)return;"CaptionSettingsMenuItem"!==n.name()&&this.menuButton_.focus()}}handleKeyDown(e){"ArrowLeft"===e.key||"ArrowDown"===e.key?(e.preventDefault(),e.stopPropagation(),this.stepForward()):"ArrowRight"!==e.key&&"ArrowUp"!==e.key||(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())}}vH.registerComponent("Menu",sG);class oG extends vH{constructor(e,t={}){super(e,t),this.menuButton_=new MW(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=MW.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=e=>this.handleClick(e);this.handleMenuKeyUp_=e=>this.handleMenuKeyUp(e),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",e=>this.handleKeyDown(e)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),Vz(ZF,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",e=>this.handleMouseLeave(e)),this.on("keydown",e=>this.handleSubmenuKeyDown(e))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new sG(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const t=Zq("li",{className:"vjs-menu-title",textContent:fH(this.options_.title),tabIndex:-1}),n=new vH(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${MW.prototype.buildCSSClass()} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,t=this.menuButton_.el()){return this.menuButton_.controlText(e,t)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),qz(ZF,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){"Escape"===e.key||"Tab"===e.key?(this.buttonPressed_&&this.unpressButton(),"Tab"===!e.key&&(e.preventDefault(),this.menuButton_.focus())):"Up"!==e.key&&("Down"!==e.key||this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)||this.buttonPressed_||(e.preventDefault(),this.pressButton())}handleMenuKeyUp(e){"Escape"!==e.key&&"Tab"!==e.key||this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){"Escape"!==e.key&&"Tab"!==e.key||(this.buttonPressed_&&this.unpressButton(),"Tab"===!e.key&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Hq&&Qq())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}vH.registerComponent("MenuButton",oG);class lG extends oG{constructor(e,t){const n=t.tracks;if(super(e,t),this.items.length<=1&&this.hide(),!n)return;const i=Yz(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)})}}vH.registerComponent("TrackButton",lG);class cG extends CW{constructor(e,t){super(e,t),this.selectable=t.selectable,this.isSelected_=t.selected||!1,this.multiSelectable=t.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,t,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),n),r=Zq("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(r):i.replaceChild(r,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}vH.registerComponent("MenuItem",cG);class uG extends cG{constructor(e,t){const n=t.track,i=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected="showing"===n.mode,super(e,t),this.track=n,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean);const r=(...e)=>{this.handleTracksChange.apply(this,e)},a=(...e)=>{this.handleSelectedLanguageChange.apply(this,e)};if(e.on(["loadstart","texttrackchange"],r),i.addEventListener("change",r),i.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],r),i.removeEventListener("change",r),i.removeEventListener("selectedlanguagechange",a)}),void 0===i.onchange){let e;this.on(["tap","click"],function(){if("object"!=typeof GF.Event)try{e=new GF.Event("change")}catch(RT){}e||(e=ZF.createEvent("Event"),e.initEvent("change",!0,!0)),i.dispatchEvent(e)})}this.handleTracksChange()}handleClick(e){const t=this.track,n=this.player_.textTracks();if(super.handleClick(e),n)for(let i=0;i<n.length;i++){const e=n[i];-1!==this.kinds.indexOf(e.kind)&&(e===t?"showing"!==e.mode&&(e.mode="showing"):"disabled"!==e.mode&&(e.mode="disabled"))}}handleTracksChange(e){const t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)}handleSelectedLanguageChange(e){if("showing"===this.track.mode){const e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}vH.registerComponent("TextTrackMenuItem",uG);class dG extends uG{constructor(e,t){t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,super(e,t)}handleTracksChange(e){const t=this.player().textTracks();let n=!0;for(let i=0,r=t.length;i<r;i++){const e=t[i];if(this.options_.kinds.indexOf(e.kind)>-1&&"showing"===e.mode){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const t=this.player().textTracks();let n=!0;for(let i=0,r=t.length;i<r;i++){const e=t[i];if(["captions","descriptions","subtitles"].indexOf(e.kind)>-1&&"showing"===e.mode){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}vH.registerComponent("OffTextTrackMenuItem",dG);class hG extends lG{constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}createItems(e=[],t=uG){let n;this.label_&&(n=`${this.label_} off`),e.push(new dG(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let r=0;r<i.length;r++){const n=i[r];if(this.kinds_.indexOf(n.kind)>-1){const i=new t(this.player_,{track:n,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});i.addClass(`vjs-${n.kind}-menu-item`),e.push(i)}}return e}}vH.registerComponent("TextTrackButton",hG);class pG extends cG{constructor(e,t){const n=t.track,i=t.cue,r=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=i.text,t.selected=i.startTime<=r&&r<i.endTime,super(e,t),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}vH.registerComponent("ChaptersTrackMenuItem",pG);class fG extends hG{constructor(e,t,n){super(e,t,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(e=>{e.selected(this.track_.activeCues[0]===e.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&"chapters"!==e.track.kind)return;const t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),super.update()):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(fH(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const t=this.track_.cues;if(!t)return e;for(let n=0,i=t.length;n<i;n++){const i=t[n],r=new pG(this.player_,{track:this.track_,cue:i});e.push(r)}return e}}fG.prototype.kind_="chapters",fG.prototype.controlText_="Chapters",vH.registerComponent("ChaptersButton",fG);class mG extends hG{constructor(e,t,n){super(e,t,n),this.setIcon("audio-description");const i=e.textTracks(),r=Yz(this,this.handleTracksChange);i.addEventListener("change",r),this.on("dispose",function(){i.removeEventListener("change",r)})}handleTracksChange(e){const t=this.player().textTracks();let n=!1;for(let i=0,r=t.length;i<r;i++){const e=t[i];if(e.kind!==this.kind_&&"showing"===e.mode){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}mG.prototype.kind_="descriptions",mG.prototype.controlText_="Descriptions",vH.registerComponent("DescriptionsButton",mG);class gG extends hG{constructor(e,t,n){super(e,t,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}gG.prototype.kind_="subtitles",gG.prototype.controlText_="Subtitles",vH.registerComponent("SubtitlesButton",gG);class vG extends uG{constructor(e,t){t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",super(e,t),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+t.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}vH.registerComponent("CaptionSettingsMenuItem",vG);class yG extends hG{constructor(e,t,n){super(e,t,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new vG(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}yG.prototype.kind_="captions",yG.prototype.controlText_="Captions",vH.registerComponent("CaptionsButton",yG);class bG extends uG{createEl(e,t,n){const i=super.createEl(e,t,n),r=i.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):r.appendChild(Zq("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(Zq("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}vH.registerComponent("SubsCapsMenuItem",bG);class _G extends hG{constructor(e,t={}){super(e,t),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(fH(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new vG(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,bG),e}}_G.prototype.kinds_=["captions","subtitles"],_G.prototype.controlText_="Subtitles",vH.registerComponent("SubsCapsButton",_G);class TG extends cG{constructor(e,t){const n=t.track,i=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled,super(e,t),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const r=(...e)=>{this.handleTracksChange.apply(this,e)};i.addEventListener("change",r),this.on("dispose",()=>{i.removeEventListener("change",r)})}createEl(e,t,n){const i=super.createEl(e,t,n),r=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(r.appendChild(Zq("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(Zq("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const e=this.player_.audioTracks();for(let t=0;t<e.length;t++){const n=e[t];n!==this.track&&(n.enabled=n===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}vH.registerComponent("AudioTrackMenuItem",TG);class SG extends lG{constructor(e,t={}){t.tracks=e.audioTracks(),super(e,t),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const t=this.player_.audioTracks();for(let n=0;n<t.length;n++){const i=t[n];e.push(new TG(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}}SG.prototype.controlText_="Audio Track",vH.registerComponent("AudioTrackButton",SG);class wG extends cG{constructor(e,t){const n=t.rate,i=parseFloat(n,10);t.label=n,t.selected=i===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,super(e,t),this.label=n,this.rate=i,this.on(e,"ratechange",e=>this.update(e))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}wG.prototype.contentElType="button",vH.registerComponent("PlaybackRateMenuItem",wG);class AG extends oG{constructor(e,t){super(e,t),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",e=>this.updateVisibility(e)),this.on(e,"ratechange",e=>this.updateLabel(e)),this.on(e,"playbackrateschange",e=>this.handlePlaybackRateschange(e))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Zq("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),t=[];for(let n=e.length-1;n>=0;n--)t.push(new wG(this.player(),{rate:e[n]+"x"}));return t}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}AG.prototype.controlText_="Playback Rate",vH.registerComponent("PlaybackRateMenuButton",AG);class kG extends vH{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",t={},n={}){return t.className||(t.className=this.buildCSSClass()),super.createEl(e,t,n)}}vH.registerComponent("Spacer",kG),vH.registerComponent("CustomControlSpacer",class extends kG{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}});class xG extends vH{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}xG.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},vH.registerComponent("ControlBar",xG);class CG extends NH{constructor(e,t){super(e,t),this.on(e,"error",e=>{this.open(e)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}CG.prototype.options_=Object.assign({},NH.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),vH.registerComponent("ErrorDisplay",CG);class EG extends vH{constructor(e,t={}){super(e,t),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),Zq("select",{id:this.options_.id},{},this.options_.SelectOptions.map(e=>{const t=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${jz()}`)+"-"+e[1].replace(/\W+/g,""),n=Zq("option",{id:t,value:this.localize(e[0]),textContent:this.localize(e[1])});return n.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${t}`),n}))}}vH.registerComponent("TextTrackSelect",EG);class OG extends vH{constructor(e,t={}){super(e,t);const n=Zq("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(n);const i=this.options_.selects;for(const r of i){const t=this.options_.selectConfigs[r],n=t.className,i=t.id.replace("%s",this.options_.id_);let a=null;const s=`vjs_select_${jz()}`;if("colors"===this.options_.type){a=Zq("span",{className:n});const e=Zq("label",{id:i,className:"vjs-label",textContent:this.localize(t.label)});e.setAttribute("for",s),a.appendChild(e)}const o=new EG(e,{SelectOptions:t.options,legendId:this.options_.legendId,id:s,labelId:i});this.addChild(o),"colors"===this.options_.type&&(a.appendChild(o.el()),this.el().appendChild(a))}}createEl(){return Zq("fieldset",{className:this.options_.className})}}vH.registerComponent("TextTrackFieldset",OG);class IG extends vH{constructor(e,t={}){super(e,t);const n=this.options_.textTrackComponentid,i=new OG(e,{id_:n,legendId:`captions-text-legend-${n}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const r=new OG(e,{id_:n,legendId:`captions-background-${n}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(r);const a=new OG(e,{id_:n,legendId:`captions-window-${n}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return Zq("div",{className:"vjs-track-settings-colors"})}}vH.registerComponent("TextTrackSettingsColors",IG);class DG extends vH{constructor(e,t={}){super(e,t);const n=this.options_.textTrackComponentid,i=new OG(e,{id_:n,legendId:`captions-font-size-${n}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const r=new OG(e,{id_:n,legendId:`captions-edge-style-${n}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(r);const a=new OG(e,{id_:n,legendId:`captions-font-family-${n}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return Zq("div",{className:"vjs-track-settings-font"})}}vH.registerComponent("TextTrackSettingsFont",DG);class PG extends vH{constructor(e,t={}){super(e,t);const n=new MW(e,{controlText:this.localize("restore all settings to the default values"),className:"vjs-default-button"});n.el().classList.remove("vjs-control","vjs-button"),n.el().textContent=this.localize("Reset"),this.addChild(n);const i=this.localize("Done"),r=new MW(e,{controlText:i,className:"vjs-done-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=i,this.addChild(r)}createEl(){return Zq("div",{className:"vjs-track-settings-controls"})}}vH.registerComponent("TrackSettingsControls",PG);const LG="vjs-text-track-settings",RG=["#000","Black"],MG=["#00F","Blue"],NG=["#0FF","Cyan"],jG=["#0F0","Green"],BG=["#F0F","Magenta"],FG=["#F00","Red"],UG=["#FFF","White"],$G=["#FF0","Yellow"],VG=["1","Opaque"],qG=["0.5","Semi-Transparent"],zG=["0","Transparent"],HG={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[RG,UG,FG,jG,MG,$G,BG,NG],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[VG,qG,zG],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[UG,RG,FG,jG,MG,$G,BG,NG],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:e=>"1.00"===e?null:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[VG,qG],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[zG,qG,VG],className:"vjs-window-opacity vjs-opacity"}};function WG(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}HG.windowColor.options=HG.backgroundColor.options,vH.registerComponent("TextTrackSettings",class extends NH{constructor(e,t){t.temporary=!1,super(e,t),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=Zq("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),void 0===t.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const t=new IG(e,{textTrackComponentid:this.id_,selectConfigs:HG,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(t);const n=new DG(e,{textTrackComponentid:this.id_,selectConfigs:HG,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(n);const i=new PG(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),gq(HG,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return vq(HG,(e,t,n)=>{const i=(r=this.$(t.selector),a=t.parser,WG(r.options[r.options.selectedIndex].value,a));var r,a;return void 0!==i&&(e[n]=i),e},{})}setValues(e){gq(HG,(t,n)=>{!function(e,t,n){if(t)for(let i=0;i<e.options.length;i++)if(WG(e.options[i].value,n)===t){e.selectedIndex=i;break}}(this.$(t.selector),e[n],t.parser)})}setDefaults(){gq(HG,e=>{const t=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=t})}restoreSettings(){let e;try{e=JSON.parse(GF.localStorage.getItem(LG))}catch(RT){hq.warn(RT)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?GF.localStorage.setItem(LG,JSON.stringify(e)):GF.localStorage.removeItem(LG)}catch(RT){hq.warn(RT)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}),vH.registerComponent("ResizeManager",class extends vH{constructor(e,t){let n=t.ResizeObserver||GF.ResizeObserver;null===t.ResizeObserver&&(n=!1),super(e,_q({createEl:!n,reportTouchActivity:!1},t)),this.ResizeObserver=t.ResizeObserver||GF.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=Qz(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const e=this.debouncedHandler_;let t=this.unloadListener_=function(){qz(this,"resize",e),qz(this,"unload",t),t=null};Vz(this.el_.contentWindow,"unload",t),Vz(this.el_.contentWindow,"resize",e)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}});const GG={trackingThreshold:20,liveTolerance:15};vH.registerComponent("LiveTracker",class extends vH{constructor(e,t){super(e,_q(GG,t,{createEl:!1})),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=e=>this.handlePlay(e),this.handleFirstTimeupdate_=e=>this.handleFirstTimeupdate(e),this.handleSeeked_=e=>this.handleSeeked(e),this.seekToLiveEdge_=e=>this.seekToLiveEdge(e),this.reset_(),this.on(this.player_,"durationchange",e=>this.handleDurationchange(e)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const t=Number(GF.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),r=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-r)>this.options_.liveTolerance;this.timeupdateSeen_&&i!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Xz),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),t=[];let n=e?e.length:0;for(;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),t=[];let n=e?e.length:0;for(;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return"number"==typeof this.trackingInterval_}seekToLiveEdge(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}),vH.registerComponent("TitleBar",class extends vH{constructor(e,t){super(e,t),this.on("statechanged",e=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:Zq("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${jz()}`}),description:Zq("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${jz()}`})},Zq("div",{className:"vjs-title-bar"},{},Tq(this.els))}updateDom_(){const e=this.player_.tech_,t=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(e=>{const i=this.state[e],r=this.els[e],a=n[e];vz(r),i&&ez(r,i),t&&(t.removeAttribute(a),i&&t.setAttribute(a,r.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,t=e&&e.el_;t&&(t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-describedby")),super.dispose(),this.els=null}});const XG={initialDisplay:4e3,position:[],takeFocus:!1};vH.registerComponent("TransientButton",class extends MW{constructor(e,t){super(e,t=_q(XG,t)),this.controlText(t.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],e=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=Zq("button",{},{type:"button",class:this.buildCSSClass()},Zq("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}});const YG=e=>{const t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;const n=e.$$("source"),i=[];let r="";if(!n.length)return!1;for(let a=0;a<n.length;a++){const e=n[a].src;e&&-1===i.indexOf(e)&&i.push(e)}return!!i.length&&(1===i.length&&(r=i[0]),e.triggerSourceset(r),!0)},KG=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(e){const t=ZF.createElement(this.nodeName.toLowerCase());t.innerHTML=e;const n=ZF.createDocumentFragment();for(;t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",GF.Element.prototype.appendChild.call(this,n),this.innerHTML}}),QG=(e,t)=>{let n={};for(let i=0;i<e.length&&(n=Object.getOwnPropertyDescriptor(e[i],t),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},JG=function(e){const t=e.el();if(t.resetSourceWatch_)return;const n={},i=(e=>QG([e.el(),GF.HTMLMediaElement.prototype,GF.Element.prototype,KG],"innerHTML"))(e),r=n=>(...i)=>{const r=n.apply(t,i);return YG(e),r};["append","appendChild","insertAdjacentHTML"].forEach(e=>{t[e]&&(n[e]=t[e],t[e]=r(n[e]))}),Object.defineProperty(t,"innerHTML",_q(i,{set:r(i.set)})),t.resetSourceWatch_=()=>{t.resetSourceWatch_=null,Object.keys(n).forEach(e=>{t[e]=n[e]}),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)},ZG=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?KH(GF.Element.prototype.getAttribute.call(this,"src")):""},set(e){return GF.Element.prototype.setAttribute.call(this,"src",e),e}}),eX=function(e){if(!e.featuresSourceset)return;const t=e.el();if(t.resetSourceset_)return;const n=(e=>QG([e.el(),GF.HTMLMediaElement.prototype,ZG],"src"))(e),i=t.setAttribute,r=t.load;Object.defineProperty(t,"src",_q(n,{set:i=>{const r=n.set.call(t,i);return e.triggerSourceset(t.src),r}})),t.setAttribute=(n,r)=>{const a=i.call(t,n,r);return/src/i.test(n)&&e.triggerSourceset(t.src),a},t.load=()=>{const n=r.call(t);return YG(e)||(e.triggerSourceset(""),JG(e)),n},t.currentSrc?e.triggerSourceset(t.currentSrc):YG(e)||JG(e),t.resetSourceset_=()=>{t.resetSourceset_=null,t.load=r,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}};class tX extends cW{constructor(e,t){super(e,t);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&"VIDEO"===this.el_.tagName,n&&(this.el_.currentSrc!==n.src||e.tag&&3===e.tag.initNetworkState_)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const e=this.el_.childNodes;let t=e.length;const n=[];for(;t--;){const r=e[t];"track"===r.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),this.textTracks().addTrack(r.track),i||this.el_.hasAttribute("crossorigin")||!JH(r.src)||(i=!0)):n.push(r))}for(let i=0;i<n.length;i++)this.el_.removeChild(n[i])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&hq.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(qq||Fq)&&!0===e.nativeControlsForTouch&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),tX.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){eX(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let t;const n=()=>{t=[];for(let n=0;n<e.length;n++){const i=e[n];"metadata"===i.kind&&t.push({track:i,storedMode:i.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const i=()=>{for(let e=0;e<t.length;e++){const n=t[e];"disabled"===n.track.mode&&n.track.mode!==n.storedMode&&(n.track.mode=n.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})}overrideNative_(e,t){if(t!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach(e=>{this.el()[`${n}Tracks`].removeEventListener(e,this[`${n}TracksListeners_`][e])}),this[`featuresNative${e}Tracks`]=!t,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const t=sW[e],n=this.el()[t.getterName],i=this[t.getterName]();if(!this[`featuresNative${t.capitalName}Tracks`]||!n||!n.addEventListener)return;const r={change:t=>{const n={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(n),"text"===e&&this[oW.remoteText.getterName]().trigger(n)},addtrack(e){i.addTrack(e.track)},removetrack(e){i.removeTrack(e.track)}},a=function(){const e=[];for(let t=0;t<i.length;t++){let r=!1;for(let e=0;e<n.length;e++)if(n[e]===i[t]){r=!0;break}r||e.push(i[t])}for(;e.length;)i.removeTrack(e.shift())};this[t.getterName+"Listeners_"]=r,Object.keys(r).forEach(e=>{const t=r[e];n.addEventListener(e,t),this.on("dispose",i=>n.removeEventListener(e,t))}),this.on("loadstart",a),this.on("dispose",e=>this.off("loadstart",a))}proxyNativeTracks_(){sW.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){const t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),tX.disposeMediaElement(e),e=t}else{e=ZF.createElement("video");const t=_q({},this.options_.tag&&oz(this.options_.tag));qq&&!0===this.options_.nativeControlsForTouch||delete t.controls,sz(e,Object.assign(t,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&cz(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const t=["loop","muted","playsinline","autoplay"];for(let n=0;n<t.length;n++){const i=t[n],r=this.options_[i];void 0!==r&&(r?cz(e,i,i):uz(e,i),e[i]=r)}return e}handleLateInit_(e){if(0===e.networkState||3===e.networkState)return;if(0===e.readyState){let e=!1;const t=function(){e=!0};this.on("loadstart",t);const n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",t),this.off("loadedmetadata",n),e||this.trigger("loadstart")})}const t=["loadstart"];t.push("loadedmetadata"),e.readyState>=2&&t.push("loadeddata"),e.readyState>=3&&t.push("canplay"),e.readyState>=4&&t.push("canplaythrough"),this.ready(function(){t.forEach(function(e){this.trigger(e)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&Wq?this.el_.fastSeek(e):this.el_.currentTime=e}catch(xZ){hq(xZ,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Cq&&Dq&&0===this.el_.currentTime){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",t),this.on("dispose",()=>{this.off("webkitbeginfullscreen",t),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return"function"==typeof this.el_.webkitEnterFullScreen}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)IH(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(xZ){this.trigger("fullscreenerror",xZ)}},0);else try{e.webkitEnterFullScreen()}catch(xZ){this.trigger("fullscreenerror",xZ)}}exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(void 0===e)return this.el_.src;this.setSrc(e)}addSourceElement(e,t){if(!e)return hq.error("Invalid source URL."),!1;const n={src:e};t&&(n.type=t);const i=Zq("source",{},n);return this.el_.appendChild(i),!0}removeSourceElement(e){if(!e)return hq.error("Source URL is required to remove the source element."),!1;const t=this.el_.querySelectorAll("source");for(const n of t)if(n.src===e)return this.el_.removeChild(n),!0;return hq.warn(`No matching source element found with src: ${e}`),!1}reset(){tX.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):super.addTextTrack(e,t,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const t=ZF.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}addRemoteTextTrack(e,t){const n=super.addRemoteTextTrack(e,t);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const t=this.$$("track");let n=t.length;for(;n--;)e!==t[n]&&e!==t[n].track||this.el().removeChild(t[n])}}getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();const e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),GF.performance&&(e.creationTime=GF.performance.now()),e}}Sq(tX,"TEST_VID",function(){if(!Yq())return;const e=ZF.createElement("video"),t=ZF.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e}),tX.isSupported=function(){try{tX.TEST_VID.volume=.5}catch(xZ){return!1}return!(!tX.TEST_VID||!tX.TEST_VID.canPlayType)},tX.canPlayType=function(e){return tX.TEST_VID.canPlayType(e)},tX.canPlaySource=function(e,t){return tX.canPlayType(e.type)},tX.canControlVolume=function(){try{const e=tX.TEST_VID.volume;tX.TEST_VID.volume=e/2+.1;const t=e!==tX.TEST_VID.volume;return t&&Hq?(GF.setTimeout(()=>{tX&&tX.prototype&&(tX.prototype.featuresVolumeControl=e!==tX.TEST_VID.volume)}),!1):t}catch(xZ){return!1}},tX.canMuteVolume=function(){try{const e=tX.TEST_VID.muted;return tX.TEST_VID.muted=!e,tX.TEST_VID.muted?cz(tX.TEST_VID,"muted","muted"):uz(tX.TEST_VID,"muted"),e!==tX.TEST_VID.muted}catch(xZ){return!1}},tX.canControlPlaybackRate=function(){if(Cq&&Dq&&Lq<58)return!1;try{const e=tX.TEST_VID.playbackRate;return tX.TEST_VID.playbackRate=e/2+.1,e!==tX.TEST_VID.playbackRate}catch(xZ){return!1}},tX.canOverrideAttributes=function(){try{const e=()=>{};Object.defineProperty(ZF.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(ZF.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(ZF.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(ZF.createElement("audio"),"innerHTML",{get:e,set:e})}catch(xZ){return!1}return!0},tX.supportsNativeTextTracks=function(){return Wq||Hq&&Dq},tX.supportsNativeVideoTracks=function(){return!(!tX.TEST_VID||!tX.TEST_VID.videoTracks)},tX.supportsNativeAudioTracks=function(){return!(!tX.TEST_VID||!tX.TEST_VID.audioTracks)},tX.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([e,t]){Sq(tX.prototype,e,()=>tX[t](),!0)}),tX.prototype.featuresVolumeControl=tX.canControlVolume(),tX.prototype.movingMediaElementInDOM=!Hq,tX.prototype.featuresFullscreenResize=!0,tX.prototype.featuresProgressEvents=!0,tX.prototype.featuresTimeupdateEvents=!0,tX.prototype.featuresVideoFrameCallback=!(!tX.TEST_VID||!tX.TEST_VID.requestVideoFrameCallback),tX.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(xZ){}}()}},tX.resetMediaElement=function(e){if(!e)return;const t=e.querySelectorAll("source");let n=t.length;for(;n--;)e.removeChild(t[n]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(xZ){}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){tX.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){tX.prototype["set"+fH(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(e){tX.prototype[e]=function(){return this.el_[e]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(e){tX.prototype["set"+fH(e)]=function(t){this.el_[e]=t}}),["pause","load","play"].forEach(function(e){tX.prototype[e]=function(){return this.el_[e]()}}),cW.withSourceHandlers(tX),tX.nativeSourceHandler={},tX.nativeSourceHandler.canPlayType=function(e){try{return tX.TEST_VID.canPlayType(e)}catch(xZ){return""}},tX.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return tX.nativeSourceHandler.canPlayType(e.type);if(e.src){const t=QH(e.src);return tX.nativeSourceHandler.canPlayType(`video/${t}`)}return""},tX.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)},tX.nativeSourceHandler.dispose=function(){},tX.registerSourceHandler(tX.nativeSourceHandler),cW.registerTech("Html5",tX);const nX=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],iX={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},rX=["tiny","xsmall","small","medium","large","xlarge","huge"],aX={};rX.forEach(e=>{const t="x"===e.charAt(0)?`x-${e.substring(1)}`:e;aX[e]=`vjs-layout-${t}`});const sX={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class oX extends vH{constructor(e,t,n){if(e.id=e.id||t.id||`vjs_video_${jz()}`,(t=Object.assign(oX.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language){const n=e.closest("[lang]");n&&(t.language=n.getAttribute("lang"))}if(super(null,t,n),this.boundDocumentFullscreenChange_=e=>this.documentFullscreenChange_(e),this.boundFullWindowOnEscKey_=e=>this.fullWindowOnEscKey(e),this.boundUpdateStyleEl_=e=>this.updateStyleEl_(e),this.boundApplyInitTime_=e=>this.applyInitTime_(e),this.boundUpdateCurrentBreakpoint_=e=>this.updateCurrentBreakpoint_(e),this.boundHandleTechClick_=e=>this.handleTechClick_(e),this.boundHandleTechDoubleClick_=e=>this.handleTechDoubleClick_(e),this.boundHandleTechTouchStart_=e=>this.handleTechTouchStart_(e),this.boundHandleTechTouchMove_=e=>this.handleTechTouchMove_(e),this.boundHandleTechTouchEnd_=e=>this.handleTechTouchEnd_(e),this.boundHandleTechTap_=e=>this.handleTechTap_(e),this.boundUpdatePlayerHeightOnAudioOnlyMode_=e=>this.updatePlayerHeightOnAudioOnlyMode_(e),this.isFullscreen_=!1,this.log=pq(this.id_),this.fsApi_=oq,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&oz(e),this.language(this.options_.language),t.languages){const e={};Object.getOwnPropertyNames(t.languages).forEach(function(n){e[n.toLowerCase()]=t.languages[n]}),this.languages_=e}else this.languages_=oX.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(e=>{if("function"!=typeof this[e])throw new Error(`plugin "${e}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),uH(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(Vz(ZF,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=_q(this.options_);if(t.plugins&&Object.keys(t.plugins).forEach(e=>{this[e](t.plugins[e])}),t.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(t.playbackRates),t.experimentalSvgIcons){const e=(new GF.DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play">\n      <path d="M16 10v28l22-14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">\n      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">\n      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">\n      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">\n      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">\n      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">\n      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">\n      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">\n      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">\n      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">\n      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">\n      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">\n      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">\n      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>\n    </symbol>\n    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">\n      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">\n      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">\n      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">\n      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-share">\n      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">\n      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-square">\n      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">\n      <circle cx="24" cy="24" r="20"></circle>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">\n      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">\n      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">\n      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">\n      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">\n      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">\n      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">\n      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">\n      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">\n      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>\n    </symbol>\n    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">\n      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>\n      <path fill="none" d="M-1-3h24v24H-1z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">\n      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">\n      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">\n      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">\n      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>\n    </symbol>\n    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">\n      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>\n    </symbol>\n  </defs>\n</svg>',"image/svg+xml");if(e.querySelector("parsererror"))hq.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const t=e.documentElement;t.style.display="none",this.el_.appendChild(t),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio("audio"===e.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),t.spatialNavigation&&t.spatialNavigation.enabled&&(this.spatialNavigation=new xW(this),this.addClass("vjs-spatial-navigation-enabled")),qq&&this.addClass("vjs-touch-enabled"),Hq||this.addClass("vjs-workinghover"),oX.players[this.id_]=this;const r=iq.split(".")[0];this.addClass(`vjs-v${r}`),this.userActive(!0),this.reportUserActivity(),this.one("play",e=>this.listenForUserActivity_(e)),this.on("keydown",e=>this.handleKeyDown(e)),this.on("languagechange",e=>this.handleLanguagechange(e)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){var e;this.trigger("dispose"),this.off("dispose"),qz(ZF,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),qz(ZF,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),oX.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),e=this,dW.hasOwnProperty(e.id())&&delete dW[e.id()],lW.names.forEach(e=>{const t=this[lW[e].getterName]();t&&t.off&&t.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e,t=this.tag,n=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");const i="video-js"===this.tag.tagName.toLowerCase();n?e=this.el_=t.parentNode:i||(e=this.el_=super.createEl("div"));const r=oz(t);if(i){for(e=this.el_=t,t=this.tag=ZF.createElement("video");e.children.length;)t.appendChild(e.firstChild);nz(e,"video-js")||iz(e,"video-js"),e.appendChild(t),n=this.playerElIngest_=e,Object.keys(e).forEach(n=>{try{t[n]=e[n]}catch(xZ){}})}t.setAttribute("tabindex","-1"),r.tabindex="-1",Dq&&jq&&(t.setAttribute("role","application"),r.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach(function(n){i&&"class"===n||e.setAttribute(n,r[n]),i&&t.setAttribute(n,r[n])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(e=>Gq[e]).map(e=>"vjs-device-"+e.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),!0!==GF.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Pz("vjs-styles-dimensions");const e=Sz(".vjs-styles-defaults"),t=Sz("head");t.insertBefore(this.styleEl_,e?e.nextSibling:t.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const s=t.getElementsByTagName("a");for(let o=0;o<s.length;o++){const e=s.item(o);iz(e,"vjs-hidden"),e.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!n&&t.parentNode.insertBefore(e,t),tz(t,e),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e,e}crossOrigin(e){if(void 0===e)return this.techGet_("crossOrigin");null===e||"anonymous"===e||"use-credentials"===e?(this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)):hq.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,t){const n=e+"_";if(void 0===t)return this[n]||0;if(""===t||"auto"===t)return this[n]=void 0,void this.updateStyleEl_();const i=parseFloat(t);isNaN(i)?hq.error(`Improper value "${t}" supplied for for ${e}`):(this[n]=i,this.updateStyleEl_())}fluid(e){if(void 0===e)return!!this.fluid_;var t,n;this.fluid_=!!e,nH(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),n=()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)},nH(t=this)?n():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(n))):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(!0===GF.VIDEOJS_NO_DYNAMIC_STYLE){const e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,n=this.tech_&&this.tech_.el();return void(n&&(e>=0&&(n.width=e),t>=0&&(n.height=t)))}let e,t,n,i;n=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";const r=n.split(":"),a=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/a:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*a,i=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(i),Lz(this.styleEl_,`\n      .${i} {\n        width: ${e}px;\n        height: ${t}px;\n      }\n\n      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ${100*a}%;\n      }\n    `)}loadTech_(e,t){this.tech_&&this.unloadTech_();const n=fH(e),i=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==n&&this.tag&&(cW.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let r=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(r=!1);const a={source:t,autoplay:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};lW.names.forEach(e=>{const t=lW[e];a[t.getterName]=this[t.privateName]}),Object.assign(a,this.options_[n]),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const s=cW.getTech(e);if(!s)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new s(a),this.tech_.ready(Yz(this,this.handleTechReady_),!0),LH(this.textTracksJson_||[],this.tech_),nX.forEach(e=>{this.on(this.tech_,e,t=>this[`handleTech${fH(e)}_`](t))}),Object.keys(iX).forEach(e=>{this.on(this.tech_,e,t=>{0===this.tech_.playbackRate()&&this.tech_.seeking()?this.queuedCallbacks_.push({callback:this[`handleTech${iX[e]}_`].bind(this),event:t}):this[`handleTech${iX[e]}_`](t)})}),this.on(this.tech_,"loadstart",e=>this.handleTechLoadStart_(e)),this.on(this.tech_,"sourceset",e=>this.handleTechSourceset_(e)),this.on(this.tech_,"waiting",e=>this.handleTechWaiting_(e)),this.on(this.tech_,"ended",e=>this.handleTechEnded_(e)),this.on(this.tech_,"seeking",e=>this.handleTechSeeking_(e)),this.on(this.tech_,"play",e=>this.handleTechPlay_(e)),this.on(this.tech_,"pause",e=>this.handleTechPause_(e)),this.on(this.tech_,"durationchange",e=>this.handleTechDurationChange_(e)),this.on(this.tech_,"fullscreenchange",(e,t)=>this.handleTechFullscreenChange_(e,t)),this.on(this.tech_,"fullscreenerror",(e,t)=>this.handleTechFullscreenError_(e,t)),this.on(this.tech_,"enterpictureinpicture",e=>this.handleTechEnterPictureInPicture_(e)),this.on(this.tech_,"leavepictureinpicture",e=>this.handleTechLeavePictureInPicture_(e)),this.on(this.tech_,"error",e=>this.handleTechError_(e)),this.on(this.tech_,"posterchange",e=>this.handleTechPosterChange_(e)),this.on(this.tech_,"textdata",e=>this.handleTechTextData_(e)),this.on(this.tech_,"ratechange",e=>this.handleTechRateChange_(e)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||tz(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){lW.names.forEach(e=>{const t=lW[e];this[t.privateName]=this[t.getterName]()}),this.textTracksJson_=PH(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return void 0===e&&hq.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}version(){return{"video.js":iq}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||"string"!=typeof e)return;const t=()=>{const e=this.muted();this.muted(!0);const t=()=>{this.muted(e)};this.playTerminatedQueue_.push(t);const n=this.play();if(OH(n))return n.catch(e=>{throw t(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${e||""}`)})};let n;return"any"!==e||this.muted()?n="muted"!==e||this.muted()?this.play():t():(n=this.play(),OH(n)&&(n=n.catch(t))),OH(n)?n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})}):void 0}updateSourceCaches_(e=""){let t=e,n="";"string"!=typeof t&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=((e,t)=>{if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;const n=e.cache_.sources.filter(e=>e.src===t);if(n.length)return n[0].type;const i=e.$$("source");for(let r=0;r<i.length;r++){const e=i[r];if(e.type&&e.src&&e.src===t)return e.type}return TW(t)})(this,t)),this.cache_.source=_q({},e,{src:t,type:n});const i=this.cache_.sources.filter(e=>e.src&&e.src===t),r=[],a=this.$$("source"),s=[];for(let o=0;o<a.length;o++){const e=oz(a[o]);r.push(e),e.src&&e.src===t&&s.push(e.src)}s.length&&!i.length?this.cache_.sources=r:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}handleTechSourceset_(e){if(!this.changingSrc_){let t=e=>this.updateSourceCaches_(e);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(t=()=>{}),t(i),e.src||this.tech_.any(["sourceset","loadstart"],e=>{if("sourceset"===e.type)return;const t=this.techGet_("currentSrc");this.lastSource_.tech=t,this.updateSourceCaches_(t)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeupdate",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?IH(this.play()):this.pause()))}handleTechDoubleClick_(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),t=>t.contains(e.target))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!ZF.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const t=e.target.player;if(t&&t!==this)return;const n=this.el();let i=ZF[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,t){t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(t.isFullscreen))}handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,t){this.ready(function(){if(e in gW)return function(e,t,n,i){return t[n](e.reduce(yW(n),i))}(this.middleware_,this.tech_,e,t);if(e in vW)return fW(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(xZ){throw hq(xZ),xZ}},!0)}techGet_(e){if(this.tech_&&this.tech_.isReady_){if(e in mW)return function(e,t,n){return e.reduceRight(yW(n),t[n]())}(this.middleware_,this.tech_,e);if(e in vW)return fW(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(xZ){if(void 0===this.tech_[e])throw hq(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,xZ),xZ;if("TypeError"===xZ.name)throw hq(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,xZ),this.tech_.isReady_=!1,xZ;throw hq(xZ),xZ}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=IH){this.playCallbacks_.push(e);const t=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),n=Boolean(Wq||Hq);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t)return this.waitToPlay_=e=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!t&&n&&this.load());const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===i?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(e){e()})}runPlayCallbacks_(e){const t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(t){t(e)})}pause(){this.techCall_("pause")}paused(){return!1!==this.techGet_("paused")}played(){return this.techGet_("played")||_H(0,0)}scrubbing(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){return void 0===e?(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime):(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),this.cache_.initTime=0,void(isFinite(e)&&(this.cache_.currentTime=Number(e)))):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_)))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return e&&e.length||(e=_H(0,0)),e}seekable(){let e=this.techGet_("seekable");return e&&e.length||(e=_H(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return CH(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),t=this.duration();let n=e.end(e.length-1);return n>t&&(n=t),n}volume(e){let t;return void 0!==e?(t=Math.max(0,Math.min(1,e)),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)}muted(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)}defaultMuted(e){return void 0!==e&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(void 0!==e){const t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const t=this;return new Promise((n,i)=>{function r(){t.off("fullscreenerror",s),t.off("fullscreenchange",a)}function a(){r(),n()}function s(e,t){r(),i(t)}t.one("fullscreenchange",a),t.one("fullscreenerror",s);const o=t.requestFullscreenHelper_(e);o&&(o.then(r,r),o.then(n,i))})}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){const e=this.el_[this.fsApi_.requestFullscreen](t);return e&&e.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),e}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((t,n)=>{function i(){e.off("fullscreenerror",a),e.off("fullscreenchange",r)}function r(){i(),t()}function a(e,t){i(),n(t)}e.one("fullscreenchange",r),e.one("fullscreenerror",a);const s=e.exitFullscreenHelper_();s&&(s.then(i,i),s.then(t,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=ZF[this.fsApi_.exitFullscreen]();return e&&IH(e.then(()=>this.isFullscreen(!1))),e}this.tech_.supportsFullScreen()&&1==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=ZF.documentElement.style.overflow,Vz(ZF,"keydown",this.boundFullWindowOnEscKey_),ZF.documentElement.style.overflow="hidden",iz(ZF.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){"Escape"===e.key&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,qz(ZF,"keydown",this.boundFullWindowOnEscKey_),ZF.documentElement.style.overflow=this.docOrigOverflow,rz(ZF.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&GF.documentPictureInPicture){const e=ZF.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(Zq("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),GF.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(t=>(kz(t),this.el_.parentNode.insertBefore(e,this.el_),t.document.body.appendChild(this.el_),t.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:t}),t.addEventListener("pagehide",t=>{const n=t.target.querySelector(".video-js");e.parentNode.replaceChild(n,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),t))}return"pictureInPictureEnabled"in ZF&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){return GF.documentPictureInPicture&&GF.documentPictureInPicture.window?(GF.documentPictureInPicture.window.close(),Promise.resolve()):"pictureInPictureEnabled"in ZF?ZF.exitPictureInPicture():void 0}handleKeyDown(e){const{userActions:t}=this.options_;t&&t.hotkeys&&((e=>{const t=e.tagName.toLowerCase();return!!e.isContentEditable||("input"===t?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(t))})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e)))}handleHotkeys(e){const t=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=t=>"f"===e.key.toLowerCase(),muteKey:i=t=>"m"===e.key.toLowerCase(),playPauseKey:r=t=>"k"===e.key.toLowerCase()||" "===e.key.toLowerCase()}=t;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const t=vH.getComponent("FullscreenToggle");!1!==ZF[this.fsApi_.fullscreenEnabled]&&t.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),vH.getComponent("MuteToggle").prototype.handleClick.call(this,e)):r.call(this,e)&&(e.preventDefault(),e.stopPropagation(),vH.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let t;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const r=i[n];let a=cW.getTech(r);if(a||(a=vH.getComponent(r)),a){if(a.isSupported()&&(t=a.canPlayType(e),t))return t}else hq.error(`The "${r}" tech is undefined. Skipped browser support check for that tech.`)}return""}selectSource(e){const t=this.options_.techOrder.map(e=>[e,cW.getTech(e)]).filter(([e,t])=>t?t.isSupported():(hq.error(`The "${e}" tech is undefined. Skipped browser support check for that tech.`),!1)),n=function(e,t,n){let i;return e.some(e=>t.some(t=>{if(i=n(e,t),i)return!0})),i};let i;const r=([e,t],n)=>{if(t.canPlaySource(n,this.options_[e.toLowerCase()]))return{source:n,tech:e}};var a;return i=this.options_.sourceOrder?n(e,t,(a=r,(e,t)=>a(t,e))):n(t,e,r),i||!1}handleSrc_(e,t){if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=SW(e);if(n.length){if(this.changingSrc_=!0,t||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),pW(this,n[0],(e,i)=>{if(this.middleware_=i,t||(this.cache_.sources=n),this.updateSourceCaches_(e),this.src_(e))return n.length>1?this.handleSrc_(n.slice(1)):(this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),void this.triggerReady());var r,a;r=i,a=this.tech_,r.forEach(e=>e.setTech&&e.setTech(a))}),n.length>1){const e=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},t=()=>{this.off("error",e)};this.one("error",e),this.one("playing",t),this.resetRetryOnError_=()=>{this.off("error",e),this.off("playing",t)}}}else this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0)}src(e){return this.handleSrc_(e,!1)}src_(e){const t=this.selectSource([e]);return!t||(mH(t.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1))}addSourceElement(e,t){return!!this.tech_&&this.tech_.addSourceElement(e,t)}removeSourceElement(e){return!!this.tech_&&this.tech_.removeSourceElement(e)}load(){this.tech_&&this.tech_.vhs?this.src(this.currentSource()):this.techCall_("load")}reset(){this.paused()?this.doReset_():IH(this.play().then(()=>this.doReset_()))}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),nH(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:t,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:r}=n||{};e&&e.updateContent(),t&&t.updateContent(),i&&i.updateContent(),r&&(r.update(),r.loadProgressBar&&r.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")}autoplay(e){if(void 0===e)return this.options_.autoplay||!1;let t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}playsinline(e){return void 0!==e&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")}poster(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(void 0===e)return this.error_||null;if(aq("beforeerror").forEach(t=>{const n=t(this,e);yq(n)&&!Array.isArray(n)||"string"==typeof n||"number"==typeof n||null===n?e=n:this.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&e&&4===e.code){const t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",function(){this.off(["click","touchstart"],t)})}if(null===e)return this.error_=null,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new EH(e),this.addClass("vjs-error"),hq.error(`(CODE:${this.error_.code} ${EH.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),aq("error").forEach(e=>e(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,t,n;const i=Yz(this,this.reportUserActivity),r=function(t){i(),this.clearInterval(e)};this.on("mousedown",function(){i(),this.clearInterval(e),e=this.setInterval(i,250)}),this.on("mousemove",function(e){e.screenX===t&&e.screenY===n||(t=e.screenX,n=e.screenY,i())}),this.on("mouseup",r),this.on("mouseleave",r);const a=this.getChild("controlBar");let s;!a||Hq||Cq||(a.on("mouseenter",function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),a.on("mouseleave",function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i),this.setInterval(function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);const e=this.options_.inactivityTimeout;e<=0||(s=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},e))},250)}playbackRate(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)}defaultPlaybackRate(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");e&&this.audioOnlyCache_.controlBarHeight!==e.currentHeight()&&(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),t=this.getChild("ControlBar"),n=t&&t.currentHeight();e.forEach(e=>{e!==t&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),this.audioOnlyCache_.hiddenChildren.push(e))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=n,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const e=[];return this.isInPictureInPicture()&&e.push(this.exitPictureInPicture()),this.isFullscreen()&&e.push(this.exitFullscreen()),this.audioPosterMode()&&e.push(this.audioPosterMode(!1)),Promise.all(e).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return"boolean"!=typeof e||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)}addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}removeRemoteTextTrack(e={}){let{track:t}=e;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),nH(this)&&this.trigger("languagechange"))}languages(){return _q(oX.prototype.options_.languages,this.languages_)}toJSON(){const e=_q(this.options_),t=e.tracks;e.tracks=[];for(let n=0;n<t.length;n++){let i=t[n];i=_q(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,t){(t=t||{}).content=e||"";const n=new NH(this,t);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),t=this.currentWidth();for(let n=0;n<rX.length;n++){const i=rX[n];if(t<=this.breakpoints_[i]){if(e===i)return;e&&this.removeClass(aX[e]),this.addClass(aX[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Object.assign({},sX,e),this.updateCurrentBreakpoint_()),Object.assign(this.breakpoints_)}responsive(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return aX[this.breakpoint_]||""}loadMedia(e,t){if(!e||"object"!=typeof e)return;const n=this.crossOrigin();this.reset(),this.cache_.media=_q(e);const{artist:i,artwork:r,description:a,poster:s,src:o,textTracks:l,title:c}=this.cache_.media;!r&&s&&(this.cache_.media.artwork=[{src:s,type:TW(s)}]),n&&this.crossOrigin(n),o&&this.src(o),s&&this.poster(s),Array.isArray(l)&&l.forEach(e=>this.addRemoteTextTrack(e,!1)),this.titleBar&&this.titleBar.update({title:c,description:a||i||""}),this.ready(t)}getMedia(){if(!this.cache_.media){const e=this.poster(),t=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),e=>({kind:e.kind,label:e.label,language:e.language,src:e.src})),i={src:t,textTracks:n};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:TW(i.poster)}]),i}return _q(this.cache_.media)}static getTagSettings(e){const t={sources:[],tracks:[]},n=oz(e),i=n["data-setup"];if(nz(e,"vjs-fill")&&(n.fill=!0),nz(e,"vjs-fluid")&&(n.fluid=!0),null!==i)try{Object.assign(n,JSON.parse(i||"{}"))}catch(xZ){hq.error("data-setup",xZ)}if(Object.assign(t,n),e.hasChildNodes()){const n=e.childNodes;for(let e=0,i=n.length;e<i;e++){const i=n[e],r=i.nodeName.toLowerCase();"source"===r?t.sources.push(oz(i)):"track"===r&&t.tracks.push(oz(i))}}return t}debug(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every(e=>"number"==typeof e)&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}oX.prototype.videoTracks=()=>{},oX.prototype.audioTracks=()=>{},oX.prototype.textTracks=()=>{},oX.prototype.remoteTextTracks=()=>{},oX.prototype.remoteTextTrackEls=()=>{},lW.names.forEach(function(e){const t=lW[e];oX.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),oX.prototype.crossorigin=oX.prototype.crossOrigin,oX.players={};const lX=GF.navigator;oX.prototype.options_={techOrder:cW.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:lX&&(lX.languages&&lX.languages[0]||lX.userLanguage||lX.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1,disableSeekWhileScrubbingOnSTV:!1},nX.forEach(function(e){oX.prototype[`handleTech${fH(e)}_`]=function(){return this.trigger(e)}}),vH.registerComponent("Player",oX);const cX="plugin",uX="activePlugins_",dX={},hX=e=>dX.hasOwnProperty(e),pX=e=>hX(e)?dX[e]:void 0,fX=(e,t)=>{e[uX]=e[uX]||{},e[uX][t]=!0},mX=(e,t,n)=>{const i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},gX=(e,t)=>(t.prototype.name=e,function(...n){mX(this,{name:e,plugin:t,instance:null},!0);const i=new t(...[this,...n]);return this[e]=()=>i,mX(this,i.getEventHash()),i});class vX{constructor(e){if(this.constructor===vX)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),uH(this),delete this.trigger,hH(this,this.constructor.defaultState),fX(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,t={}){return zz(this.eventBusEl_,e,this.getEventHash(t))}handleStateChanged(e){}dispose(){const{name:e,player:t}=this;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[uX][e]=!1,this.player=this.state=null,t[e]=gX(e,dX[e])}static isBasic(e){const t="string"==typeof e?pX(e):e;return"function"==typeof t&&!vX.prototype.isPrototypeOf(t.prototype)}static registerPlugin(e,t){if("string"!=typeof e)throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(hX(e))hq.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(oX.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if("function"!=typeof t)throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof t}.`);return dX[e]=t,e!==cX&&(vX.isBasic(t)?oX.prototype[e]=function(e,t){const n=function(){mX(this,{name:e,plugin:t,instance:null},!0);const n=t.apply(this,arguments);return fX(this,e),mX(this,{name:e,plugin:t,instance:n}),n};return Object.keys(t).forEach(function(e){n[e]=t[e]}),n}(e,t):oX.prototype[e]=gX(e,t)),t}static deregisterPlugin(e){if(e===cX)throw new Error("Cannot de-register base plugin.");hX(e)&&(delete dX[e],delete oX.prototype[e])}static getPlugins(e=Object.keys(dX)){let t;return e.forEach(e=>{const n=pX(e);n&&(t=t||{},t[e]=n)}),t}static getPluginVersion(e){const t=pX(e);return t&&t.VERSION||""}}function yX(e,t,n,i){return function(e,t){let n=!1;return function(...i){return n||hq.warn(e),n=!0,t.apply(this,i)}}(`${t} is deprecated and will be removed in ${e}.0; please use ${n} instead.`,i)}vX.getPlugin=pX,vX.BASE_PLUGIN_NAME=cX,vX.registerPlugin(cX,vX),oX.prototype.usingPlugin=function(e){return!!this[uX]&&!0===this[uX][e]},oX.prototype.hasPlugin=function(e){return!!hX(e)};const bX=e=>0===e.indexOf("#")?e.slice(1):e;function _X(e,t,n){let i=_X.getPlayer(e);if(i)return t&&hq.warn(`Player "${e}" is already initialised. Options will not be applied.`),n&&i.ready(n),i;const r="string"==typeof e?Sz("#"+bX(e)):e;if(!Kq(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a="getRootNode"in r&&r.getRootNode()instanceof GF.ShadowRoot?r.getRootNode():r.ownerDocument.body;r.ownerDocument.defaultView&&a.contains(r)||hq.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),aq("beforesetup").forEach(e=>{const n=e(r,_q(t));yq(n)&&!Array.isArray(n)?t=_q(t,n):hq.error("please return an object in beforesetup hooks")});const s=vH.getComponent("Player");return i=new s(r,t,n),aq("setup").forEach(e=>e(i)),i}if(_X.hooks_=rq,_X.hooks=aq,_X.hook=function(e,t){aq(e,t)},_X.hookOnce=function(e,t){aq(e,[].concat(t).map(t=>{const n=(...i)=>(sq(e,n),t(...i));return n}))},_X.removeHook=sq,!0!==GF.VIDEOJS_NO_DYNAMIC_STYLE&&Yq()){let e=Sz(".vjs-styles-defaults");if(!e){e=Pz("vjs-styles-defaults");const t=Sz("head");t&&t.insertBefore(e,t.firstChild),Lz(e,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}Iz(1,_X),_X.VERSION=iq,_X.options=oX.prototype.options_,_X.getPlayers=()=>oX.players,_X.getPlayer=e=>{const t=oX.players;let n;if("string"==typeof e){const i=bX(e),r=t[i];if(r)return r;n=Sz("#"+i)}else n=e;if(Kq(n)){const{player:e,playerId:i}=n;if(e||t[i])return e||t[i]}},_X.getAllPlayers=()=>Object.keys(oX.players).map(e=>oX.players[e]).filter(Boolean),_X.players=oX.players,_X.getComponent=vH.getComponent,_X.registerComponent=(e,t)=>(cW.isTech(t)&&hq.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),vH.registerComponent.call(vH,e,t)),_X.getTech=cW.getTech,_X.registerTech=cW.registerTech,_X.use=function(e,t){uW[e]=uW[e]||[],uW[e].push(t)},Object.defineProperty(_X,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(_X.middleware,"TERMINATOR",{value:hW,writeable:!1,enumerable:!0}),_X.browser=Gq,_X.obj=wq,_X.mergeOptions=yX(9,"videojs.mergeOptions","videojs.obj.merge",_q),_X.defineLazyProperty=yX(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Sq),_X.bind=yX(9,"videojs.bind","native Function.prototype.bind",Yz),_X.registerPlugin=vX.registerPlugin,_X.deregisterPlugin=vX.deregisterPlugin,_X.plugin=(e,t)=>(hq.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),vX.registerPlugin(e,t)),_X.getPlugins=vX.getPlugins,_X.getPlugin=vX.getPlugin,_X.getPluginVersion=vX.getPluginVersion,_X.addLanguage=function(e,t){return e=(""+e).toLowerCase(),_X.options.languages=_q(_X.options.languages,{[e]:t}),_X.options.languages[e]},_X.log=hq,_X.createLogger=pq,_X.time=xH,_X.createTimeRange=yX(9,"videojs.createTimeRange","videojs.time.createTimeRanges",_H),_X.createTimeRanges=yX(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",_H),_X.formatTime=yX(9,"videojs.formatTime","videojs.time.formatTime",kH),_X.setFormatTime=yX(9,"videojs.setFormatTime","videojs.time.setFormatTime",wH),_X.resetFormatTime=yX(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",AH),_X.parseUrl=yX(9,"videojs.parseUrl","videojs.url.parseUrl",YH),_X.isCrossOrigin=yX(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",JH),_X.EventTarget=eH,_X.any=Wz,_X.on=Vz,_X.one=Hz,_X.off=qz,_X.trigger=zz,_X.xhr=mU,_X.TrackList=jH,_X.TextTrack=nW,_X.TextTrackList=VH,_X.AudioTrack=iW,_X.AudioTrackList=FH,_X.VideoTrack=rW,_X.VideoTrackList=$H,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(e=>{_X[e]=function(){return hq.warn(`videojs.${e}() is deprecated; use videojs.dom.${e}() instead`),xz[e].apply(null,arguments)}}),_X.computedStyle=yX(9,"videojs.computedStyle","videojs.dom.computedStyle",Az),_X.dom=xz,_X.fn=Jz,_X.num=zW,_X.str=gH,_X.url=ZH,_X.Error={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */
class TX{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRate,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get:()=>t.enabled_(),set(e){t.enabled_(e)}}),t}}class SX extends _X.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get:()=>e.selectedIndex_}),Object.defineProperty(e,"length",{get:()=>e.levels_.length}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;const n=this.levels_.length;return t=new TX(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,n=this.length;t<n;t++){const n=this[t];if(n.id===e)return n}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}SX.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const e in SX.prototype.allowedEvents_)SX.prototype["on"+e]=null;var wX="4.1.0";const AX=function(e){return function(e){const t=e.qualityLevels,n=new SX,i=function(){n.dispose(),e.qualityLevels=t,e.off("dispose",i)};return e.on("dispose",i),e.qualityLevels=()=>n,e.qualityLevels.VERSION=wX,n}(this,_X.obj.merge({},e))};_X.registerPlugin("qualityLevels",AX),AX.VERSION=wX;/*! @name @videojs/http-streaming @version 3.17.2 @license Apache-2.0 */
const kX=IU,xX=(e,t)=>t&&t.responseURL&&e!==t.responseURL?t.responseURL:e,CX=e=>_X.log.debug?_X.log.debug.bind(_X,"VHS:",`${e} >`):function(){};function EX(...e){const t=_X.obj||_X;return(t.merge||t.mergeOptions).apply(t,e)}function OX(...e){const t=_X.time||_X;return(t.createTimeRanges||t.createTimeRanges).apply(t,e)}const IX=1/30,DX=.1,PX=function(e,t){const n=[];let i;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return OX(n)},LX=function(e,t){return PX(e,function(e,n){return e-DX<=t&&n+DX>=t})},RX=function(e,t){return PX(e,function(e){return e-IX>=t})},MX=e=>{const t=[];if(!e||!e.length)return"";for(let n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},NX=e=>{const t=[];for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},jX=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},BX=function(e,t){let n=0;if(!e||!e.length)return n;for(let i=0;i<e.length;i++){const r=e.start(i),a=e.end(i);t>a||(n+=t>r&&t<=a?a-t:a-r)}return n},FX=(e,t)=>{if(!t.preload)return t.duration;let n=0;return(t.parts||[]).forEach(function(e){n+=e.duration}),(t.preloadHints||[]).forEach(function(t){"PART"===t.type&&(n+=e.partTargetDuration)}),n},UX=e=>(e.segments||[]).reduce((e,t,n)=>(t.parts?t.parts.forEach(function(i,r){e.push({duration:i.duration,segmentIndex:n,partIndex:r,part:i,segment:t})}):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e),[]),$X=e=>{const t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},VX=({preloadSegment:e})=>{if(!e)return;const{parts:t,preloadHints:n}=e;let i=(n||[]).reduce((e,t)=>e+("PART"===t.type?1:0),0);return i+=t&&t.length?t.length:0,i},qX=(e,t)=>{if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;const n=$X(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},zX=function(e,t,n){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;const i=function(e,t){let n=0,i=t-e.mediaSequence,r=e.segments[i];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;i--;){if(r=e.segments[i],void 0!==r.end)return{result:n+r.end,precise:!0};if(n+=FX(e,r),void 0!==r.start)return{result:n+r.start,precise:!0}}return{result:n,precise:!1}}(e,t);if(i.precise)return i.result;const r=function(e,t){let n,i=0,r=t-e.mediaSequence;for(;r<e.segments.length;r++){if(n=e.segments[r],void 0!==n.start)return{result:n.start-i,precise:!0};if(i+=FX(e,n),void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t);return r.precise?r.result:i.result+n},HX=function(e,t,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return GF.Infinity}return zX(e,t,n)},WX=function({defaultDuration:e,durationList:t,startIndex:n,endIndex:i}){let r=0;if(n>i&&([n,i]=[i,n]),n<0){for(let t=n;t<Math.min(0,i);t++)r+=e;n=0}for(let a=n;a<i;a++)r+=t[a].duration;return r},GX=function(e,t,n,i){if(!e||!e.segments)return null;if(e.endList)return HX(e);if(null===t)return null;t=t||0;let r=zX(e,e.mediaSequence+e.segments.length,t);return n&&(r-=i="number"==typeof i?i:qX(null,e)),Math.max(0,r)},XX=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},YX=function(e){return e.excludeUntil&&e.excludeUntil===1/0},KX=function(e){const t=XX(e);return!e.disabled&&!t},QX=function(e,t){return t.attributes&&t.attributes[e]},JX=(e,t)=>{if(1===e.playlists.length)return!0;const n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(e=>!!KX(e)&&(e.attributes.BANDWIDTH||0)<n).length},ZX=(e,t)=>!(!e&&!t||!e&&t||e&&!t||e!==t&&(!e.id||!t.id||e.id!==t.id)&&(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)&&(!e.uri||!t.uri||e.uri!==t.uri)),eY=function(e,t){const n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{};let i=!1;for(const r in n){for(const e in n[r])if(i=t(n[r][e]),i)break;if(i)break}return!!i},tY=e=>{if(!e||!e.playlists||!e.playlists.length)return eY(e,e=>e.playlists&&e.playlists.length||e.uri);for(let t=0;t<e.playlists.length;t++){const n=e.playlists[t],i=n.attributes&&n.attributes.CODECS;if((!i||!i.split(",").every(e=>GU(e)))&&!eY(e,e=>ZX(n,e)))return!1}return!0};var nY={liveEdgeDelay:qX,duration:HX,seekable:function(e,t,n){const i=t||0;let r=GX(e,t,!0,n);return null===r?OX():(r<i&&(r=i),OX(i,r))},getMediaInfoForTime:function({playlist:e,currentTime:t,startingSegmentIndex:n,startingPartIndex:i,startTime:r,exactManifestTimings:a}){let s=t-r;const o=UX(e);let l=0;for(let c=0;c<o.length;c++){const e=o[c];if(n===e.segmentIndex&&("number"!=typeof i||"number"!=typeof e.partIndex||i===e.partIndex)){l=c;break}}if(s<0){if(l>0)for(let t=l-1;t>=0;t--){const n=o[t];if(s+=n.duration,a){if(s<0)continue}else if(s+IX<=0)continue;return{partIndex:n.partIndex,segmentIndex:n.segmentIndex,startTime:r-WX({defaultDuration:e.targetDuration,durationList:o,startIndex:l,endIndex:t})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:t}}if(l<0){for(let n=l;n<0;n++)if(s-=e.targetDuration,s<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:t};l=0}for(let c=l;c<o.length;c++){const t=o[c];s-=t.duration;const n=t.duration>IX;if(0!==s&&!(n&&s+IX>=0)||c===o.length-1){if(a){if(s>0)continue}else if(s-IX>=0)continue;return{partIndex:t.partIndex,segmentIndex:t.segmentIndex,startTime:r+WX({defaultDuration:e.targetDuration,durationList:o,startIndex:l,endIndex:c})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:t}},isEnabled:KX,isDisabled:function(e){return e.disabled},isExcluded:XX,isIncompatible:YX,playlistEnd:GX,isAes:function(e){for(let t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:QX,estimateSegmentRequestTime:function(e,t,n,i=0){return QX("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-8*i)/t:NaN},isLowestEnabledRendition:JX,isAudioOnly:tY,playlistMatch:ZX,segmentDurationWithParts:FX};const{log:iY}=_X,rY=(e,t)=>`${e}-${t}`,aY=(e,t,n)=>`placeholder-uri-${e}-${t}-${n}`,sY=(e,t)=>{e.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(e.mediaGroups[n])for(const i in e.mediaGroups[n])for(const r in e.mediaGroups[n][i]){const a=e.mediaGroups[n][i][r];t(a,n,i,r)}})},oY=({playlist:e,uri:t,id:n})=>{e.id=n,e.playlistErrors_=0,t&&(e.uri=t),e.attributes=e.attributes||{}},lY=(e,t,n=aY)=>{e.uri=t;for(let r=0;r<e.playlists.length;r++)if(!e.playlists[r].uri){const t=`placeholder-uri-${r}`;e.playlists[r].uri=t}const i=tY(e);sY(e,(t,r,a,s)=>{if(!t.playlists||!t.playlists.length){if(i&&"AUDIO"===r&&!t.uri)for(let t=0;t<e.playlists.length;t++){const n=e.playlists[t];if(n.attributes&&n.attributes.AUDIO&&n.attributes.AUDIO===a)return}t.playlists=[EU({},t)]}t.playlists.forEach(function(t,i){const o=n(r,a,s,t),l=rY(i,o);t.uri?t.resolvedUri=t.resolvedUri||kX(e.uri,t.uri):(t.uri=0===i?o:l,t.resolvedUri=t.uri),t.id=t.id||l,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t})}),(e=>{let t=e.playlists.length;for(;t--;){const n=e.playlists[t];oY({playlist:n,id:rY(t,n.uri)}),n.resolvedUri=kX(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||iY.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}})(e),(e=>{sY(e,t=>{t.uri&&(t.resolvedUri=kX(e.uri,t.uri))})})(e)};class cY{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(null!==this.offset_)return;if(!e.length)return;const[t]=e;void 0!==t.programDateTime&&(this.offset_=t.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[t]=e,n=t.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((e,t)=>(e.set(t.id,t),e),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(null===this.offset_)return[];const e={},t=[];this.pendingDateRanges_.forEach((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),t.push(n),n.class))if(e[n.class]){const t=e[n.class].push(n);n.classListIndex=t-1}else e[n.class]=[n],n.classListIndex=0});for(const n of t){const t=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&t[n.classListIndex+1]?n.endTime=t[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return t}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((t,n)=>{t.startDate.getTime()<e&&this.processedDateRanges_.delete(n)})}}const uY=({requestType:e,request:t,error:n,parseFailure:i})=>{const r=t.status<200||t.status>299,a=t.status>=400&&t.status<=499,s={uri:t.uri,requestType:e},o=r&&!a||i;if(n&&a)s.error=EU({},n),s.errorType=_X.Error.NetworkRequestFailed;else if(t.aborted)s.errorType=_X.Error.NetworkRequestAborted;else if(t.timedout)s.errorType=_X.Error.NetworkRequestTimeout;else if(o){const e=i?_X.Error.NetworkBodyParserFailed:_X.Error.NetworkBadStatus;s.errorType=e,s.status=t.status,s.headers=t.headers}return s},dY=CX("CodecUtils"),hY=function(e){const t=e.attributes||{};if(t.CODECS)return WU(t.CODECS)},pY=(e,t)=>{const n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},fY=function(e){const t={};return e.forEach(({mediaType:e,type:n,details:i})=>{t[e]=t[e]||[],t[e].push(HU(`${n}${i}`))}),Object.keys(t).forEach(function(e){if(t[e].length>1)return dY(`multiple ${e} codecs found as attributes: ${t[e].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),void(t[e]=null);t[e]=t[e][0]}),t},mY=function(e){let t=0;return e.audio&&t++,e.video&&t++,t},gY=function(e,t){const n=t.attributes||{},i=fY(hY(t)||[]);if(pY(e,t)&&!i.audio&&!((e,t)=>{if(!pY(e,t))return!0;const n=t.attributes||{},i=e.mediaGroups.AUDIO[n.AUDIO];for(const r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1})(e,t)){const t=fY(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return WU(r.playlists[0].attributes.CODECS)}return null}(e,n.AUDIO)||[]);t.audio&&(i.audio=t.audio)}return i},{EventTarget:vY}=_X,yY=(e,t)=>{if(!e)return t;const n=EX(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(let i=0;i<t.parts.length;i++)e.parts&&e.parts[i]&&(n.parts[i]=EX(e.parts[i],t.parts[i]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},bY=(e,t)=>{!e.resolvedUri&&e.uri&&(e.resolvedUri=kX(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=kX(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=kX(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=kX(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(e=>{e.resolvedUri||(e.resolvedUri=kX(t,e.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(e=>{e.resolvedUri||(e.resolvedUri=kX(t,e.uri))})},_Y=function(e){const t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints)for(let e=0;e<n.preloadHints.length;e++)if("MAP"===n.preloadHints[e].type)return t;n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},TY=(e,t)=>e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment,SY=(e,t,n=TY)=>{const i=EX(e,{}),r=i.playlists[t.id];if(!r)return null;if(n(r,t))return null;t.segments=_Y(t);const a=EX(r,t);if(a.preloadSegment&&!t.preloadSegment&&delete a.preloadSegment,r.segments){if(t.skip){t.segments=t.segments||[];for(let e=0;e<t.skip.skippedSegments;e++)t.segments.unshift({skipped:!0})}a.segments=((e,t,n)=>{const i=e.slice(),r=t.slice();n=n||0;const a=[];let s;for(let o=0;o<r.length;o++){const e=i[o+n],t=r[o];e?(s=e.map||s,a.push(yY(e,t))):(s&&!t.map&&(t.map=s),a.push(t))}return a})(r.segments,t.segments,t.mediaSequence-r.mediaSequence)}a.segments.forEach(e=>{bY(e,a.resolvedUri)});for(let s=0;s<i.playlists.length;s++)i.playlists[s].id===t.id&&(i.playlists[s]=a);return i.playlists[t.id]=a,i.playlists[t.uri]=a,sY(e,(e,n,i,r)=>{if(e.playlists)for(let s=0;s<e.playlists.length;s++)t.id===e.playlists[s].id&&(e.playlists[s]=a)}),i},wY=(e,t)=>{const n=e.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],a=r&&r.duration||i&&i.duration;return t&&a?1e3*a:500*(e.partTargetDuration||e.targetDuration||10)},AY=(e,t,n)=>{if(!e)return;const i=[];return e.forEach(e=>{if(!e.attributes)return;const{BANDWIDTH:t,RESOLUTION:n,CODECS:r}=e.attributes;i.push({id:e.id,bandwidth:t,resolution:n,codecs:r})}),{type:t,isLive:n,renditions:i}};class kY extends vY{constructor(e,t,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=CX("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=t,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const r=t.options_;this.customTagParsers=r&&r.customTagParsers||[],this.customTagMappers=r&&r.customTagMappers||[],this.llhls=r&&r.llhls,this.dateRangesStorage_=new cY,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const t=this.dateRangesStorage_.getDateRangesToProcess();t.length&&this.addDateRangesToTextTrack_&&this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if("HAVE_METADATA"!==this.state)return;const e=this.media();let t=kX(this.main.uri,e.uri);this.llhls&&(t=((e,t)=>{if(t.endList||!t.serverControl)return e;const n={};if(t.serverControl.canBlockReload){const{preloadSegment:e}=t;let i=t.mediaSequence+t.segments.length;if(e){const r=e.parts||[],a=VX(t)-1;a>-1&&a!==r.length-1&&(n._HLS_part=a),(a>-1||r.length)&&i--}n._HLS_msn=i}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const t=new GF.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(e){n.hasOwnProperty(e)&&t.searchParams.set(e,n[e])}),e=t.toString()}return e})(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials,requestType:"hls-playlist"},(e,t)=>{if(this.request)return e?this.playlistRequestError(this.request,this.media(),"HAVE_METADATA"):void this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})})}playlistRequestError(e,t,n){const{uri:i,id:r}=t;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[r],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:uY({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:t}){try{const n=(({onwarn:e,oninfo:t,manifestString:n,customTagParsers:i=[],customTagMappers:r=[],llhls:a})=>{const s=new $U;e&&s.on("warn",e),t&&s.on("info",t),i.forEach(e=>s.addParser(e)),r.forEach(e=>s.addTagMapper(e)),s.push(n),s.end();const o=s.manifest;if(a||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(e){o.hasOwnProperty(e)&&delete o[e]}),o.segments&&o.segments.forEach(function(e){["parts","preloadHints"].forEach(function(t){e.hasOwnProperty(t)&&delete e[t]})})),!o.targetDuration){let t=10;o.segments&&o.segments.length&&(t=o.segments.reduce((e,t)=>Math.max(e,t.duration),0)),e&&e({message:`manifest has no targetDuration defaulting to ${t}`}),o.targetDuration=t}const l=$X(o);if(l.length&&!o.partTargetDuration){const t=l.reduce((e,t)=>Math.max(e,t.duration),0);e&&(e({message:`manifest has no partTargetDuration defaulting to ${t}`}),iY.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=t}return o})({onwarn:({message:t})=>this.logger_(`m3u8-parser warn for ${e}: ${t}`),oninfo:({message:t})=>this.logger_(`m3u8-parser info for ${e}: ${t}`),manifestString:t,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls});return n.playlists&&n.playlists.length?(this.excludeAudioOnlyVariants(n.playlists),n):n}catch(n){this.error=n,this.error.metadata={errorType:_X.Error.StreamingHlsPlaylistParserError,error:n}}}excludeAudioOnlyVariants(e){const t=e=>{const t=e.attributes||{},{width:n,height:i}=t.RESOLUTION||{};if(n&&i)return!0;const r=hY(e)||[],a=fY(r);return Boolean(a.video)};e.some(t)&&e.forEach(e=>{t(e)||(e.excludeUntil=1/0)})}haveMetadata({playlistString:e,playlistObject:t,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const r={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:r});const a=t||this.parseManifest_({url:n,manifestString:e});a.lastRequest=Date.now(),oY({playlist:a,uri:n,id:i});const s=SY(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,s?(this.main=s,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(wY(this.media(),!!s)),r.parsedPlaylist=AY(this.main.playlists,r.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:r}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),GF.clearTimeout(this.mediaUpdateTimeout),GF.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new cY,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,t){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(GF.clearTimeout(this.finalRenditionTimeout),t){const t=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;return void(this.finalRenditionTimeout=GF.setTimeout(this.media.bind(this,e,!1),t))}const n=this.state,i=!this.media_||e.id!==this.media_.id,r=this.main.playlists[e.id];if(r&&r.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),"HAVE_MAIN_MANIFEST"===n?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(wY(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(t,i)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=xX(e.resolvedUri,i),t)return this.playlistRequestError(this.request,e,n);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:i.responseText,url:e.uri,id:e.id}),"HAVE_MAIN_MANIFEST"===n?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(GF.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(GF.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const t=this.media();if(e){const e=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3;return void(this.mediaUpdateTimeout=GF.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},e))}this.started?t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(GF.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=GF.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=GF.location.href),this.src.resolvedUri=this.src.uri,void setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(t,n)=>{if(!this.request)return;if(this.request=null,t)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:uY({requestType:n.requestType,request:n,error:t})},"HAVE_NOTHING"===this.state&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=xX(this.src,n),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:n.responseText,url:this.src});e.parsedPlaylist=AY(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)})}srcUri(){return"string"==typeof this.src?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists)return this.main=e,lY(this.main,this.srcUri()),e.playlists.forEach(e=>{e.segments=_Y(e),e.segments.forEach(t=>{bY(t,e.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.main.playlists[0]));const t=this.srcUri()||GF.location.href;this.main=((e,t)=>{const n=rY(0,t),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:GF.location.href,resolvedUri:GF.location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[t]=i.playlists[0],i})(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,t){const n=this.main,i=e.ID;let r=n.playlists.length;for(;r--;){const a=n.playlists[r];if(a.attributes["PATHWAY-ID"]===i){const s=a.resolvedUri,o=a.id;if(t){const t=this.createCloneURI_(a.resolvedUri,e),s=rY(i,t),o=this.createCloneAttributes_(i,a.attributes),l=this.createClonePlaylist_(a,s,e,o);n.playlists[r]=l,n.playlists[s]=l,n.playlists[t]=l}else n.playlists.splice(r,1);delete n.playlists[o],delete n.playlists[s]}}this.updateOrDeleteCloneMedia(e,t)}updateOrDeleteCloneMedia(e,t){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{if(n.mediaGroups[e]&&n.mediaGroups[e][i])for(const t in n.mediaGroups[e])if(t===i){for(const i in n.mediaGroups[e][t])n.mediaGroups[e][t][i].playlists.forEach((e,t)=>{const i=n.playlists[e.id],r=i.id,a=i.resolvedUri;delete n.playlists[r],delete n.playlists[a]});delete n.mediaGroups[e][t]}}),t&&this.createClonedMediaGroups_(e)}addClonePathway(e,t={}){const n=this.main,i=n.playlists.length,r=this.createCloneURI_(t.resolvedUri,e),a=rY(e.ID,r),s=this.createCloneAttributes_(e.ID,t.attributes),o=this.createClonePlaylist_(t,a,e,s);n.playlists[i]=o,n.playlists[a]=o,n.playlists[r]=o,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const t=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(r=>{if(i.mediaGroups[r]&&!i.mediaGroups[r][t])for(const a in i.mediaGroups[r])if(a===n){i.mediaGroups[r][t]={};for(const n in i.mediaGroups[r][a]){const s=i.mediaGroups[r][a][n];i.mediaGroups[r][t][n]=EU({},s);const o=i.mediaGroups[r][t][n],l=this.createCloneURI_(s.resolvedUri,e);o.resolvedUri=l,o.uri=l,o.playlists=[],s.playlists.forEach((a,s)=>{const l=i.playlists[a.id],c=aY(r,t,n),u=rY(t,c);if(l&&!i.playlists[u]){const t=this.createClonePlaylist_(l,u,e),n=t.resolvedUri;i.playlists[u]=t,i.playlists[n]=t}o.playlists[s]=this.createClonePlaylist_(a,u,e)})}}})}createClonePlaylist_(e,t,n,i){const r=this.createCloneURI_(e.resolvedUri,n),a={resolvedUri:r,uri:r,id:t};return e.segments&&(a.segments=[]),i&&(a.attributes=i),EX(e,a)}createCloneURI_(e,t){const n=new URL(e);n.hostname=t["URI-REPLACEMENT"].HOST;const i=t["URI-REPLACEMENT"].PARAMS;for(const r of Object.keys(i))n.searchParams.set(r,i[r]);return n.href}createCloneAttributes_(e,t){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{t[i]&&(n[i]=e)}),n}getKeyIdSet(e){const t=new Set;if(!e||!e.contentProtection)return t;for(const n in e.contentProtection)if(e.contentProtection[n]&&e.contentProtection[n].attributes&&e.contentProtection[n].attributes.keyId){const i=e.contentProtection[n].attributes.keyId;t.add(i.toLowerCase())}return t}}const xY=function(e,t,n,i){const r="arraybuffer"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===n.statusCode||206===n.statusCode||0===n.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(r||e.responseText)))),i(t,e)},CY=function(){const e=function e(t,n){t=EX({timeout:45e3},t);const i=e.beforeRequest||_X.Vhs.xhr.beforeRequest,r=e._requestCallbackSet||_X.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||_X.Vhs.xhr._responseCallbackSet;i&&"function"==typeof i&&(_X.log.warn("beforeRequest is deprecated, use onRequest instead."),r.add(i));const s=!0===_X.Vhs.xhr.original?_X.xhr:_X.Vhs.xhr,o=((e,t)=>{if(!e||!e.size)return;let n=t;return e.forEach(e=>{n=e(n)}),n})(r,t);r.delete(i);const l=s(o||t,function(e,t){return((e,t,n,i)=>{e&&e.size&&e.forEach(e=>{e(t,n,i)})})(a,l,e,t),xY(l,e,t,n)}),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=t.uri,l.requestType=t.requestType,l.requestTime=Date.now(),l};return e.original=!0,e},EY=function(e){const t={};return e.byterange&&(t.Range=function(e){let t;const n=e.offset;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?GF.BigInt(e.offset)+GF.BigInt(e.length)-GF.BigInt(1):e.offset+e.length-1,"bytes="+n+"-"+t}(e.byterange)),t},OY=function(e,t){return e.start(t)+"-"+e.end(t)},IY=function(e,t){const n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},DY=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},PY=function(e){const t={};return Object.keys(e).forEach(n=>{const i=e[n];t$(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i}),t},LY=function(e){const t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},RY=function(e){return e.resolvedUri},MY=e=>{const t=Array.prototype.slice.call(e),n=16;let i,r,a="";for(let s=0;s<t.length/n;s++)i=t.slice(s*n,s*n+n).map(IY).join(""),r=t.slice(s*n,s*n+n).map(DY).join(""),a+=i+" "+r+"\n";return a};var NY=Object.freeze({__proto__:null,createTransferableMessage:PY,initSegmentId:LY,segmentKeyId:RY,hexDump:MY,tagDump:({bytes:e})=>MY(e),textRanges:e=>{let t,n="";for(t=0;t<e.length;t++)n+=OY(e,t)+" ";return n}});const jY=({playlist:e,time:t,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===t)return n({message:"getProgramTime: playlist and time must be provided"});const i=((e,t)=>{if(!t||!t.segments||0===t.segments.length)return null;let n,i=0;for(let a=0;a<t.segments.length&&(n=t.segments[a],i=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration,!(e<=i));a++);const r=t.segments[t.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>i){if(e>i+.25*r.duration)return null;n=r}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}})(t,e);if(!i)return n({message:"valid programTime was not found"});if("estimate"===i.type)return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const r={mediaSeconds:t},a=((e,t)=>{if(!t.dateTimeObject)return null;const n=t.videoTimingInfo.transmuxerPrependedSeconds,i=e-(t.videoTimingInfo.transmuxedPresentationStart+n);return new Date(t.dateTimeObject.getTime()+1e3*i)})(t,i.segment);return a&&(r.programDateTime=a.toISOString()),n(null,r)},BY=({programTime:e,playlist:t,retryCount:n=2,seekTo:i,pauseAfterSeek:r=!0,tech:a,callback:s})=>{if(!s)throw new Error("seekToProgramTime: callback must be provided");if(void 0===e||!t||!i)return s({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!a.hasStarted_)return s({message:"player must be playing a live stream to start buffering"});if(!(e=>{if(!e.segments||0===e.segments.length)return!1;for(let t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0})(t))return s({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri});const o=((e,t)=>{let n;try{n=new Date(e)}catch(xZ){return null}if(!t||!t.segments||0===t.segments.length)return null;let i=t.segments[0];if(n<new Date(i.dateTimeObject))return null;for(let l=0;l<t.segments.length-1&&(i=t.segments[l],!(n<new Date(t.segments[l+1].dateTimeObject)));l++);const r=t.segments[t.segments.length-1],a=r.dateTimeObject,s=r.videoTimingInfo?(o=r.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:r.duration+.25*r.duration;var o;return n>new Date(a.getTime()+1e3*s)?null:(n>new Date(a)&&(i=r),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:nY.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})})(e,t);if(!o)return s({message:`${e} was not found in the stream`});const l=o.segment,c=((e,t)=>{let n,i;try{n=new Date(e),i=new Date(t)}catch(xZ){}const r=n.getTime();return(i.getTime()-r)/1e3})(l.dateTimeObject,e);if("estimate"===o.type)return 0===n?s({message:`${e} is not buffered yet. Try again`}):(i(o.estimatedStart+c),void a.one("seeked",()=>{BY({programTime:e,playlist:t,retryCount:n-1,seekTo:i,pauseAfterSeek:r,tech:a,callback:s})}));const u=l.start+c;a.one("seeked",()=>s(null,a.currentTime())),r&&a.pause(),i(u)},FY=(e,t)=>{if(4===e.readyState)return t()},UY=(e,t,n,i)=>{let r,a=[],s=!1;const o=function(e,t,i,r){return t.abort(),s=!0,n(e,t,i,r)},l=function(e,t){if(s)return;if(e)return e.metadata=uY({requestType:i,request:t,error:e}),o(e,t,"",a);const n=t.responseText.substring(a&&a.byteLength||0,t.responseText.length);if(a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter(function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e}),t.length<=1)return n$(t[0]);var i=t.reduce(function(e,t,n){return e+(t.byteLength||t.length)},0),r=new Uint8Array(i),a=0;return t.forEach(function(e){e=n$(e),r.set(e,a),a+=e.byteLength}),r}(a,c$(n,!0)),r=r||MV(a),a.length<10||r&&a.length<r+2)return FY(t,()=>o(e,t,"",a));const l=tq(a);return"ts"===l&&a.length<188||!l&&a.length<376?FY(t,()=>o(e,t,"",a)):o(null,t,l,a)},c={uri:e,beforeSend(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",function({total:t,loaded:n}){return xY(e,null,{statusCode:e.status},l)})}},u=t(c,function(e,t){return xY(u,e,t,l)});return u},{EventTarget:$Y}=_X,VY=function(e,t){if(!TY(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(let n=0;n<e.segments.length;n++){const i=e.segments[n],r=t.segments[n];if(i.uri!==r.uri)return!1;if(!i.byterange&&!r.byterange)continue;const a=i.byterange,s=r.byterange;if(a&&!s||!a&&s)return!1;if(a.offset!==s.offset||a.length!==s.length)return!1}return!0},qY=(e,t,n,i)=>`placeholder-uri-${e}-${t}-${i.attributes.NAME||n}`,zY=(e,t,n)=>{let i=!0,r=EX(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts});for(let a=0;a<t.playlists.length;a++){const e=t.playlists[a];if(e.sidx){const t=K$(e.sidx);n&&n[t]&&n[t].sidx&&q$(e,n[t].sidx,e.sidx.resolvedUri)}const s=SY(r,e,VY);s&&(r=s,i=!1)}return sY(t,(e,t,n,a)=>{if(e.playlists&&e.playlists.length){const s=e.playlists[0].id,o=SY(r,e.playlists[0],VY);o&&(r=o,a in r.mediaGroups[t][n]||(r.mediaGroups[t][n][a]=e),r.mediaGroups[t][n][a].playlists[0]=r.playlists[s],i=!1)}}),((e,t)=>{sY(e,(n,i,r,a)=>{t.mediaGroups[i][r]&&a in t.mediaGroups[i][r]||delete e.mediaGroups[i][r][a]})})(r,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(i=!1),i?null:r},HY=(e,t)=>(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length,WY=(e,t)=>{const n={};for(const i in e){const r=e[i].sidx;if(r){const e=K$(r);if(!t[e])break;const i=t[e].sidxInfo;HY(i,r)&&(n[e]=t[e])}}return n};class GY extends $Y{constructor(e,t,n={},i){super(),this.isPaused_=!0,this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:r=!1}=n;if(this.vhs_=t,this.withCredentials=r,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=CX("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,t,n){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2,metadata:e.metadata}:e,n&&(this.state=n),this.trigger("error"),!0):void 0)}addSidxSegments_(e,t,n){const i=e.sidx&&K$(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i])return GF.clearTimeout(this.mediaRequest_),void(this.mediaRequest_=GF.setTimeout(()=>n(!1),0));const r=xX(e.sidx.resolvedUri),a=(r,a)=>{if(this.requestErrored_(r,a,t))return;const s=this.mainPlaylistLoader_.sidxMapping_,{requestType:o}=a;let l;try{l=LV(n$(a.response).subarray(8))}catch(xZ){return xZ.metadata=uY({requestType:o,request:a,parseFailure:!0}),void this.requestErrored_(xZ,a,t)}return s[i]={sidxInfo:e.sidx,sidx:l},q$(e,l,e.sidx.resolvedUri),n(!0)};this.request=UY(r,this.vhs_.xhr,(t,n,i,s)=>{if(t)return a(t,n);if(!i||"mp4"!==i){const t=i||"unknown";return a({status:n.status,message:`Unsupported ${t} container type for sidx segment at URL: ${r}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},n)}const{offset:o,length:l}=e.sidx.byterange;if(s.length>=l+o)return a(t,{response:s.subarray(o,o+l),status:n.status,uri:n.uri});this.request=this.vhs_.xhr({uri:r,responseType:"arraybuffer",requestType:"dash-sidx",headers:EY({byterange:e.sidx.byterange})},a)},"dash-sidx")}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},GF.clearTimeout(this.minimumUpdatePeriodTimeout_),GF.clearTimeout(this.mediaRequest_),GF.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);const t=this.state;if("string"==typeof e){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,t,n=>{this.haveMetadata({startingState:t,playlist:e})}))}haveMetadata({startingState:e,playlist:t}){this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,GF.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(t.id),"HAVE_MAIN_MANIFEST"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),GF.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(GF.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)}load(e){this.isPaused_=!1,GF.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const t=this.media();if(e){const e=t?t.targetDuration/2*1e3:5e3;return void(this.mediaUpdateTimeout=GF.setTimeout(()=>this.load(),e))}this.started?t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()}start(){if(this.started=!0,!this.isMain_)return GF.clearTimeout(this.mediaRequest_),void(this.mediaRequest_=GF.setTimeout(()=>this.haveMain_(),0));this.requestMain_((e,t)=>{this.haveMain_(),this.hasPendingRequest()||this.media_||this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:t}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(n,i)=>{if(n){const{requestType:e}=i;n.metadata=uY({requestType:e,request:i,error:n})}if(this.requestErrored_(n,i))return void("HAVE_NOTHING"===this.state&&(this.started=!1));this.trigger({type:"manifestrequestcomplete",metadata:t});const r=i.responseText!==this.mainPlaylistLoader_.mainXml_;return this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=xX(this.mainPlaylistLoader_.srcUrl,i),r?(this.handleMain_(),void this.syncClientServerClock_(()=>e(i,r))):e(i,r)})}syncClientServerClock_(e){const t=CV(this.mainPlaylistLoader_.mainXml_);return null===t?(this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()):"DIRECT"===t.method?(this.mainPlaylistLoader_.clientOffset_=t.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:kX(this.mainPlaylistLoader_.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(n,i)=>{if(!this.request)return;if(n){const{requestType:t}=i;return this.error.metadata=uY({requestType:t,request:i,error:n}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let r;r="HEAD"===t.method?i.responseHeaders&&i.responseHeaders.date?Date.parse(i.responseHeaders.date):this.mainLoaded_:Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=r-Date.now(),e()}))}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){GF.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};let n;this.trigger({type:"manifestparsestart",metadata:t});try{n=(({mainXml:e,srcUrl:t,clientOffset:n,sidxMapping:i,previousManifest:r})=>{const a=xV(e,{manifestUri:t,clientOffset:n,sidxMapping:i,previousManifest:r});return lY(a,t,qY),a})({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(r){this.error=r,this.error.metadata={errorType:_X.Error.StreamingDashManifestParserError,error:r},this.trigger("error")}e&&(n=zY(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),n){const{duration:e,endList:i}=n,r=[];n.playlists.forEach(e=>{r.push({id:e.id,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS})});const a={duration:e,isLive:!i,renditions:r};t.parsedManifest=a,this.trigger({type:"manifestparsecomplete",metadata:t})}return Boolean(n)}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(GF.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`):this.createMUPTimeout_(t)}createMUPTimeout_(e){const t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=GF.setTimeout(()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,t)=>{t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=((e,t)=>{let n=WY(e.playlists,t);return sY(e,(e,i,r,a)=>{if(e.playlists&&e.playlists.length){const i=e.playlists;n=EX(n,WY(i,t))}}),n})(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,e=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const t=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==t[e];if(n?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const e=()=>{this.media().endList||(this.mediaUpdateTimeout=GF.setTimeout(()=>{this.trigger("mediaupdatetimeout"),e()},wY(this.media(),Boolean(n))))};e()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const e=this.mainPlaylistLoader_.main.eventStream.map(e=>({cueTime:e.start,frames:[{data:e.messageData}]}));this.addMetadataToTextTrack("EventStream",e,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&t.add(i.replace(/-/g,"").toLowerCase())}return t}}}var XY={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const YY=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},KY=function(e){return function(){const t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(xZ){const n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}}(e),n=YY(new Worker(t));n.objURL=t;const i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),i.call(this)},n}},QY=function(e){return`var browserWorkerPolyFill = ${YY.toString()};\nbrowserWorkerPolyFill(self);\n`+e},JY=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},ZY=QY(JY(function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,a;if(n=e[t])if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(a=[],i=arguments.length,i=1;i<arguments.length;++i)a.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},this.dispose=function(){e={}}}};t.prototype.pipe=function(e){return this.on("data",function(t){e.push(t)}),this.on("done",function(t){e.flush(t)}),this.on("partialdone",function(t){e.partialFlush(t)}),this.on("endedtimeline",function(t){e.endTimeline(t)}),this.on("reset",function(t){e.reset(t)}),e},t.prototype.push=function(e){this.trigger("data",e)},t.prototype.flush=function(e){this.trigger("done",e)},t.prototype.partialFlush=function(e){this.trigger("partialdone",e)},t.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},t.prototype.reset=function(e){this.trigger("reset",e)};var n,i,r,a,s,o,l,c,u,d,h,p,f,m,g,v,y,b,_,T,S,w,A,k,x,C,E,O,I,D,P,L,R,M,N,j,B,F,U,$,V=t,q=Math.pow(2,32),z={getUint64:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.getBigUint64?(t=n.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:n.getUint32(0)*q+n.getUint32(4)},MAX_UINT32:q},H=z.MAX_UINT32;!function(){var e;if(w={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in w)w.hasOwnProperty(e)&&(w[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);A=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),x=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),k=new Uint8Array([0,0,0,1]),C=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),E=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),O={video:C,audio:E},P=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),D=new Uint8Array([0,0,0,0,0,0,0,0]),L=new Uint8Array([0,0,0,0,0,0,0,0]),R=L,M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=L,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),n=function(e){var t,n,i=[],r=0;for(t=1;t<arguments.length;t++)i.push(arguments[t]);for(t=i.length;t--;)r+=i[t].byteLength;for(n=new Uint8Array(r+8),new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,n.byteLength),n.set(e,4),t=0,r=8;t<i.length;t++)n.set(i[t],r),r+=i[t].byteLength;return n},i=function(){return n(w.dinf,n(w.dref,P))},r=function(e){return n(w.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return n(w.hdlr,O[e])},m=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),n(w.mdhd,t)},f=function(e){return n(w.mdia,m(e),g(e.type),o(e))},s=function(e){return n(w.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},o=function(e){return n(w.minf,"video"===e.type?n(w.vmhd,I):n(w.smhd,D),i(),y(e))},l=function(e,t){for(var i=[],r=t.length;r--;)i[r]=_(t[r]);return n.apply(null,[w.moof,s(e)].concat(i))},c=function(e){for(var t=e.length,i=[];t--;)i[t]=h(e[t]);return n.apply(null,[w.moov,d(4294967295)].concat(i).concat(u(e)))},u=function(e){for(var t=e.length,i=[];t--;)i[t]=T(e[t]);return n.apply(null,[w.mvex].concat(i))},d=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return n(w.mvhd,t)},v=function(e){var t,i,r=e.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)t=r[i].flags,a[i+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return n(w.sdtp,a)},y=function(e){return n(w.stbl,b(e),n(w.stts,N),n(w.stsc,R),n(w.stsz,M),n(w.stco,L))},b=function(e){return n(w.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?j(e):B(e))},j=function(e){var t,i,r=e.sps||[],a=e.pps||[],s=[],o=[];for(t=0;t<r.length;t++)s.push((65280&r[t].byteLength)>>>8),s.push(255&r[t].byteLength),s=s.concat(Array.prototype.slice.call(r[t]));for(t=0;t<a.length;t++)o.push((65280&a[t].byteLength)>>>8),o.push(255&a[t].byteLength),o=o.concat(Array.prototype.slice.call(a[t]));if(i=[w.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),n(w.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],s,[a.length],o))),n(w.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],c=e.sarRatio[1];i.push(n(w.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return n.apply(null,i)},B=function(e){return n(w.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))},p=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return n(w.tkhd,t)},_=function(e){var t,i,r,a,s,o;return t=n(w.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/H),o=Math.floor(e.baseMediaDecodeTime%H),i=n(w.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),"audio"===e.type?(r=S(e,92),n(w.traf,t,i,r)):(a=v(e),r=S(e,a.length+92),n(w.traf,t,i,r,a))},h=function(e){return e.duration=e.duration||4294967295,n(w.trak,p(e),f(e))},T=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),n(w.trex,t)},$=function(e,t){var n=0,i=0,r=0,a=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},U=function(e,t){var i,r,a,s,o,l;for(t+=20+16*(s=e.samples||[]).length,a=$(s,t),(r=new Uint8Array(a.length+16*s.length)).set(a),i=a.length,l=0;l<s.length;l++)o=s[l],r[i++]=(4278190080&o.duration)>>>24,r[i++]=(16711680&o.duration)>>>16,r[i++]=(65280&o.duration)>>>8,r[i++]=255&o.duration,r[i++]=(4278190080&o.size)>>>24,r[i++]=(16711680&o.size)>>>16,r[i++]=(65280&o.size)>>>8,r[i++]=255&o.size,r[i++]=o.flags.isLeading<<2|o.flags.dependsOn,r[i++]=o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,r[i++]=61440&o.flags.degradationPriority,r[i++]=15&o.flags.degradationPriority,r[i++]=(4278190080&o.compositionTimeOffset)>>>24,r[i++]=(16711680&o.compositionTimeOffset)>>>16,r[i++]=(65280&o.compositionTimeOffset)>>>8,r[i++]=255&o.compositionTimeOffset;return n(w.trun,r)},F=function(e,t){var i,r,a,s,o,l;for(t+=20+8*(s=e.samples||[]).length,a=$(s,t),(i=new Uint8Array(a.length+8*s.length)).set(a),r=a.length,l=0;l<s.length;l++)o=s[l],i[r++]=(4278190080&o.duration)>>>24,i[r++]=(16711680&o.duration)>>>16,i[r++]=(65280&o.duration)>>>8,i[r++]=255&o.duration,i[r++]=(4278190080&o.size)>>>24,i[r++]=(16711680&o.size)>>>16,i[r++]=(65280&o.size)>>>8,i[r++]=255&o.size;return n(w.trun,i)},S=function(e,t){return"audio"===e.type?F(e,t):U(e,t)};var W,G,X,Y,K,Q,J,Z,ee={ftyp:a=function(){return n(w.ftyp,A,k,A,x)},mdat:function(e){return n(w.mdat,e)},moof:l,moov:c,initSegment:function(e){var t,n=a(),i=c(e);return(t=new Uint8Array(n.byteLength+i.byteLength)).set(n),t.set(i,n.byteLength),t}},te=function(e,t){var n={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},ne={groupNalsIntoFrames:function(e){var t,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(n=e[t]).nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),(i=[n]).byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},groupFramesIntoGops:function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(n=e[t]).keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),(i=[n]).nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var n,i,r,a,s,o=t||0,l=[];for(n=0;n<e.length;n++)for(a=e[n],i=0;i<a.length;i++)s=a[i],o+=(r=te(s,o)).size,l.push(r);return l},concatenateNalData:function(e){var t,n,i,r,a,s,o=0,l=e.byteLength,c=e.nalCount,u=new Uint8Array(l+4*c),d=new DataView(u.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)s=a[i],d.setUint32(o,s.data.byteLength),o+=4,u.set(s.data,o),o+=s.data.byteLength;return u},generateSampleTableForFrame:function(e,t){var n,i=[];return n=te(e,t||0),i.push(n),i},concatenateNalDataForFrame:function(e){var t,n,i=0,r=e.byteLength,a=e.length,s=new Uint8Array(r+4*a),o=new DataView(s.buffer);for(t=0;t<e.length;t++)n=e[t],o.setUint32(i,n.data.byteLength),i+=4,s.set(n.data,i),i+=n.data.byteLength;return s}},ie=[33,16,5,32,164,27],re=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ae=function(e){for(var t=[];e--;)t.push(0);return t},se=9e4;Q=function(e,t){return G(K(e,t))},J=function(e,t){return X(Y(e),t)},Z=function(e,t,n){return Y(n?e:e-t)};var oe={ONE_SECOND_IN_TS:se,secondsToVideoTs:G=function(e){return e*se},secondsToAudioTs:X=function(e,t){return e*t},videoTsToSeconds:Y=function(e){return e/se},audioTsToSeconds:K=function(e,t){return e/t},audioTsToVideoTs:Q,videoTsToAudioTs:J,metadataTsToSeconds:Z},le=function(){if(!W){var e={96e3:[ie,[227,64],ae(154),[56]],88200:[ie,[231],ae(170),[56]],64e3:[ie,[248,192],ae(240),[56]],48e3:[ie,[255,192],ae(268),[55,148,128],ae(54),[112]],44100:[ie,[255,192],ae(268),[55,163,128],ae(84),[112]],32e3:[ie,[255,192],ae(268),[55,234],ae(226),[112]],24e3:[ie,[255,192],ae(268),[55,255,128],ae(268),[111,112],ae(126),[224]],16e3:[ie,[255,192],ae(268),[55,255,128],ae(268),[111,255],ae(269),[223,108],ae(195),[1,192]],12e3:[re,ae(268),[3,127,248],ae(268),[6,255,240],ae(268),[13,255,224],ae(268),[27,253,128],ae(259),[56]],11025:[re,ae(268),[3,127,248],ae(268),[6,255,240],ae(268),[13,255,224],ae(268),[27,255,192],ae(268),[55,175,128],ae(108),[112]],8e3:[re,ae(268),[3,121,16],ae(47),[7]]};t=e,W=Object.keys(t).reduce(function(e,n){return e[n]=new Uint8Array(t[n].reduce(function(e,t){return e.concat(t)},[])),e},{})}var t;return W},ce=oe,ue={prefixWithSilence:function(e,t,n,i){var r,a,s,o,l,c=0,u=0,d=0;if(t.length&&(r=ce.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(ce.ONE_SECOND_IN_TS/(e.samplerate/1024)),n&&i&&(c=r-Math.max(n,i),d=(u=Math.floor(c/a))*a),!(u<1||d>ce.ONE_SECOND_IN_TS/2))){for((s=le()[e.samplerate])||(s=t[0].data),o=0;o<u;o++)l=t[0],t.splice(0,0,{data:s,dts:l.dts-a,pts:l.pts-a});return e.baseMediaDecodeTime-=Math.floor(ce.videoTsToAudioTs(d,e.samplerate)),d}},trimAdtsFramesByEarliestDts:function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter(function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)}))},generateSampleTable:function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},concatenateFrameData:function(e){var t,n,i=0,r=new Uint8Array(function(e){var t,n=0;for(t=0;t<e.length;t++)n+=e[t].data.byteLength;return n}(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r}},de=oe.ONE_SECOND_IN_TS,he={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var n,i=e.minSegmentDts;return t||(i-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=i,n=Math.max(0,n),"audio"===e.type&&(n*=e.samplerate/de,n=Math.floor(n)),n},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}},pe={parseSei:function(e){for(var t=0,n={payloadType:-1,payloadSize:0},i=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)i+=255,t++;for(i+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!n.payload&&4===i){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){n.payloadType=i,n.payloadSize=r,n.payload=e.subarray(t,t+r);break}n.payload=void 0}t+=r,i=0,r=0}return n},parseUserData:function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var n,i,r,a,s=[];if(!(64&t[0]))return s;for(i=31&t[0],n=0;n<i;n++)a={type:3&t[2+(r=3*n)],pts:e},4&t[r+2]&&(a.ccData=t[r+3]<<8|t[r+4],s.push(a));return s},discardEmulationPreventionBytes:function(e){for(var t,n,i=e.byteLength,r=[],a=1;a<i-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var s=0;for(a=0;a<t;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=e[s];return n},USER_DATA_REGISTERED_ITU_T_T35:4},fe=V,me=pe,ge=function(e){e=e||{},ge.prototype.init.call(this),this.parse708captions_="boolean"!=typeof e.parse708captions||e.parse708captions,this.captionPackets_=[],this.ccStreams_=[new xe(0,0),new xe(0,1),new xe(1,0),new xe(1,1)],this.parse708captions_&&(this.cc708Stream_=new Te({captionServices:e.captionServices})),this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};ge.prototype=new fe,ge.prototype.push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=me.parseSei(e.escapedRBSP)).payload&&t.payloadType===me.USER_DATA_REGISTERED_ITU_T_T35&&(n=me.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=me.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},ge.prototype.flushCCStreams=function(e){this.ccStreams_.forEach(function(t){return"flush"===e?t.flush():t.partialFlush()},this)},ge.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)},this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},ge.prototype.flush=function(){return this.flushStream("flush")},ge.prototype.partialFlush=function(){return this.flushStream("partialFlush")},ge.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},ge.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},ge.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},ge.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},ge.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},ge.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var ve={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},ye=function(e){return 32<=e&&e<=127||160<=e&&e<=255},be=function(e){this.windowNum=e,this.reset()};be.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},be.prototype.getText=function(){return this.rows.join("\n")},be.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},be.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},be.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},be.prototype.addText=function(e){this.rows[this.rowIdx]+=e},be.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var _e=function(e,t,n){this.serviceNum=e,this.text="",this.currentWindow=new be(-1),this.windows=[],this.stream=n,"string"==typeof t&&this.createTextDecoder(t)};_e.prototype.init=function(e,t){this.startPts=e;for(var n=0;n<8;n++)this.windows[n]=new be(n),"function"==typeof t&&(this.windows[n].beforeRowOverflow=t)},_e.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},_e.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var Te=function(e){e=e||{},Te.prototype.init.call(this);var t,n=this,i=e.captionServices||{},r={};Object.keys(i).forEach(e=>{t=i[e],/^SERVICE/.test(e)&&(r[e]=t.encoding)}),this.serviceEncodings=r,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(n.new708Packet(),n.add708Bytes(e)):(null===n.current708Packet&&n.new708Packet(),n.add708Bytes(e))}};Te.prototype=new fe,Te.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Te.prototype.add708Bytes=function(e){var t=e.ccData,n=t>>>8,i=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(n),this.current708Packet.data.push(i)},Te.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,n=null,i=null,r=0,a=t[r++];for(e.seq=a>>6,e.sizeCode=63&a;r<t.length;r++)i=31&(a=t[r++]),7==(n=a>>5)&&i>0&&(n=a=t[r++]),this.pushServiceBlock(n,r,i),i>0&&(r+=i-1)},Te.prototype.pushServiceBlock=function(e,t,n){var i,r=t,a=this.current708Packet.data,s=this.services[e];for(s||(s=this.initService(e,r));r<t+n&&r<a.length;r++)i=a[r],ye(i)?r=this.handleText(r,s):24===i?r=this.multiByteCharacter(r,s):16===i?r=this.extendedCommands(r,s):128<=i&&i<=135?r=this.setCurrentWindow(r,s):152<=i&&i<=159?r=this.defineWindow(r,s):136===i?r=this.clearWindows(r,s):140===i?r=this.deleteWindows(r,s):137===i?r=this.displayWindows(r,s):138===i?r=this.hideWindows(r,s):139===i?r=this.toggleWindows(r,s):151===i?r=this.setWindowAttributes(r,s):144===i?r=this.setPenAttributes(r,s):145===i?r=this.setPenColor(r,s):146===i?r=this.setPenLocation(r,s):143===i?s=this.reset(r,s):8===i?s.currentWindow.backspace():12===i?s.currentWindow.clearText():13===i?s.currentWindow.pendingNewLine=!0:14===i?s.currentWindow.clearText():141===i&&r++},Te.prototype.extendedCommands=function(e,t){var n=this.current708Packet.data[++e];return ye(n)&&(e=this.handleText(e,t,{isExtended:!0})),e},Te.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Te.prototype.initService=function(e,t){var n,i,r=this;return(n="SERVICE"+e)in this.serviceEncodings&&(i=this.serviceEncodings[n]),this.services[e]=new _e(e,i,r),this.services[e].init(this.getPts(t),function(t){r.flushDisplayed(t,r.services[e])}),this.services[e]},Te.prototype.handleText=function(e,t,n){var i,r,a,s,o=n&&n.isExtended,l=n&&n.isMultiByte,c=this.current708Packet.data,u=o?4096:0,d=c[e],h=c[e+1],p=t.currentWindow;if(l?(r=[d,h],e++):r=[d],t.textDecoder_&&!o)i=t.textDecoder_.decode(new Uint8Array(r));else if(l){const e=r.map(e=>("0"+(255&e).toString(16)).slice(-2)).join("");i=String.fromCharCode(parseInt(e,16))}else s=ve[a=u|d]||a,i=4096&a&&a===s?"":String.fromCharCode(s);return p.pendingNewLine&&!p.isEmpty()&&p.newLine(this.getPts(e)),p.pendingNewLine=!1,p.addText(i),e},Te.prototype.multiByteCharacter=function(e,t){var n=this.current708Packet.data,i=n[e+1],r=n[e+2];return ye(i)&&ye(r)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},Te.prototype.setCurrentWindow=function(e,t){var n=7&this.current708Packet.data[e];return t.setCurrentWindow(n),e},Te.prototype.defineWindow=function(e,t){var n=this.current708Packet.data,i=n[e],r=7&i;t.setCurrentWindow(r);var a=t.currentWindow;return i=n[++e],a.visible=(32&i)>>5,a.rowLock=(16&i)>>4,a.columnLock=(8&i)>>3,a.priority=7&i,i=n[++e],a.relativePositioning=(128&i)>>7,a.anchorVertical=127&i,i=n[++e],a.anchorHorizontal=i,i=n[++e],a.anchorPoint=(240&i)>>4,a.rowCount=15&i,i=n[++e],a.columnCount=63&i,i=n[++e],a.windowStyle=(56&i)>>3,a.penStyle=7&i,a.virtualRowCount=a.rowCount+1,e},Te.prototype.setWindowAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.winAttr;return i=n[++e],r.fillOpacity=(192&i)>>6,r.fillRed=(48&i)>>4,r.fillGreen=(12&i)>>2,r.fillBlue=3&i,i=n[++e],r.borderType=(192&i)>>6,r.borderRed=(48&i)>>4,r.borderGreen=(12&i)>>2,r.borderBlue=3&i,i=n[++e],r.borderType+=(128&i)>>5,r.wordWrap=(64&i)>>6,r.printDirection=(48&i)>>4,r.scrollDirection=(12&i)>>2,r.justify=3&i,i=n[++e],r.effectSpeed=(240&i)>>4,r.effectDirection=(12&i)>>2,r.displayEffect=3&i,e},Te.prototype.flushDisplayed=function(e,t){for(var n=[],i=0;i<8;i++)t.windows[i].visible&&!t.windows[i].isEmpty()&&n.push(t.windows[i].getText());t.endPts=e,t.text=n.join("\n\n"),this.pushCaption(t),t.startPts=e},Te.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},Te.prototype.displayWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=1);return e},Te.prototype.hideWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible=0);return e},Te.prototype.toggleWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&(t.windows[r].visible^=1);return e},Te.prototype.clearWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].clearText();return e},Te.prototype.deleteWindows=function(e,t){var n=this.current708Packet.data[++e],i=this.getPts(e);this.flushDisplayed(i,t);for(var r=0;r<8;r++)n&1<<r&&t.windows[r].reset();return e},Te.prototype.setPenAttributes=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penAttr;return i=n[++e],r.textTag=(240&i)>>4,r.offset=(12&i)>>2,r.penSize=3&i,i=n[++e],r.italics=(128&i)>>7,r.underline=(64&i)>>6,r.edgeType=(56&i)>>3,r.fontStyle=7&i,e},Te.prototype.setPenColor=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penColor;return i=n[++e],r.fgOpacity=(192&i)>>6,r.fgRed=(48&i)>>4,r.fgGreen=(12&i)>>2,r.fgBlue=3&i,i=n[++e],r.bgOpacity=(192&i)>>6,r.bgRed=(48&i)>>4,r.bgGreen=(12&i)>>2,r.bgBlue=3&i,i=n[++e],r.edgeRed=(48&i)>>4,r.edgeGreen=(12&i)>>2,r.edgeBlue=3&i,e},Te.prototype.setPenLocation=function(e,t){var n=this.current708Packet.data,i=n[e],r=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,i=n[++e],r.row=15&i,i=n[++e],r.column=63&i,e},Te.prototype.reset=function(e,t){var n=this.getPts(e);return this.flushDisplayed(n,t),this.initService(t.serviceNum,e)};var Se={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},we=function(e){return null===e?"":(e=Se[e]||e,String.fromCharCode(e))},Ae=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ke=function(){for(var e=[],t=15;t--;)e.push({text:"",indent:0,offset:0});return e},xe=function(e,t){xe.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=ke();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ke();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=ke()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))a=we((i=(3&i)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),a=we((i=(3&i)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14&~r||this.addFormatting(e.pts,["i"]),1&~r||this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r)){const e=3&r;this.nonDisplayed_[this.row_].offset=e,this.column_+=e}else if(this.isPAC(i,r)){var s=Ae.indexOf(7968&t);if("rollUp"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(e.pts,s)),s!==this.row_&&s>=0&&s<=14&&(this.clearFormatting(e.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),!(16&~t)){const e=(14&t)>>1;this.column_=4*e,this.nonDisplayed_[this.row_].indent+=e}this.isColorPAC(r)&&(14&~r||this.addFormatting(e.pts,["i"]))}else this.isNormalChar(i)&&(0===r&&(r=null),a=we(i),a+=we(r),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};xe.prototype=new fe,xe.prototype.flushDisplayed=function(e){const t=e=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+e+"."})},n=[];this.displayed_.forEach((e,i)=>{if(e&&e.text&&e.text.length){try{e.text=e.text.trim()}catch(xZ){t(i)}e.text.length&&n.push({text:e.text,line:i+1,position:10+Math.min(70,10*e.indent)+2.5*e.offset})}else null==e&&t(i)}),n.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,content:n,stream:this.name_})},xe.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ke(),this.nonDisplayed_=ke(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},xe.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},xe.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},xe.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},xe.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},xe.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},xe.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},xe.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},xe.prototype.isNormalChar=function(e){return e>=32&&e<=127},xe.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=ke(),this.displayed_=ke()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]={text:"",indent:0,offset:0};void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},xe.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,n)},xe.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},xe.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_].text;n+=t,this.nonDisplayed_[this.row_].text=n},xe.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_].text;n+=t,this.displayed_[this.row_].text=n},xe.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.row_+1;e<15;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},xe.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_].text;n+=t,this.displayed_[this.row_].text=n};var Ce={CaptionStream:ge,Cea608Stream:xe,Cea708Stream:Te},Ee={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Oe=V,Ie="shared",De=function(e,t){var n=1;for(e>t&&(n=-1);Math.abs(t-e)>4294967296;)e+=8589934592*n;return e},Pe=function(e){var t,n;Pe.prototype.init.call(this),this.type_=e||Ie,this.push=function(e){"metadata"!==e.type?this.type_!==Ie&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=De(e.dts,n),e.pts=De(e.pts,n),t=e.dts,this.trigger("data",e)):this.trigger("data",e)},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Pe.prototype=new Oe;var Le,Re={TimestampRolloverStream:Pe,handleRollover:De},Me=(e,t,n)=>{if(!e)return-1;for(var i=n;i<e.length;i++)if(e[i]===t)return i;return-1},Ne=Me,je=3,Be=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},Fe=function(e,t,n){return decodeURIComponent(Be(e,t,n))},Ue=function(e,t,n){return unescape(Be(e,t,n))},$e=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Ve={APIC:function(e){var t,n,i=1;e.data[0]===je&&((t=Ne(e.data,0,i))<0||(e.mimeType=Ue(e.data,i,t),i=t+1,e.pictureType=e.data[i],i++,(n=Ne(e.data,0,i))<0||(e.description=Fe(e.data,i,n),i=n+1,"--\x3e"===e.mimeType?e.url=Ue(e.data,i,e.data.length):e.pictureData=e.data.subarray(i,e.data.length))))},"T*":function(e){e.data[0]===je&&(e.value=Fe(e.data,1,e.data.length).replace(/\0*$/,""),e.values=e.value.split("\0"))},TXXX:function(e){var t;e.data[0]===je&&-1!==(t=Ne(e.data,0,1))&&(e.description=Fe(e.data,1,t),e.value=Fe(e.data,t+1,e.data.length).replace(/\0*$/,""),e.data=e.value)},"W*":function(e){e.url=Ue(e.data,0,e.data.length).replace(/\0.*$/,"")},WXXX:function(e){var t;e.data[0]===je&&-1!==(t=Ne(e.data,0,1))&&(e.description=Fe(e.data,1,t),e.url=Ue(e.data,t+1,e.data.length).replace(/\0.*$/,""))},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=Ue(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}},qe={parseId3Frames:function(e){var t,n=10,i=0,r=[];if(!(e.length<10||e[0]!=="I".charCodeAt(0)||e[1]!=="D".charCodeAt(0)||e[2]!=="3".charCodeAt(0))){i=$e(e.subarray(6,10)),i+=10,64&e[5]&&(n+=4,n+=$e(e.subarray(10,14)),i-=$e(e.subarray(16,20)));do{if((t=$e(e.subarray(n+4,n+8)))<1)break;var a={id:String.fromCharCode(e[n],e[n+1],e[n+2],e[n+3]),data:e.subarray(n+10,n+t+10)};a.key=a.id,Ve[a.id]?Ve[a.id](a):"T"===a.id[0]?Ve["T*"](a):"W"===a.id[0]&&Ve["W*"](a),r.push(a),n+=10,n+=t}while(n<i);return r}},parseSyncSafeInteger:$e,frameParsers:Ve},ze=V,He=Ee,We=qe;Le=function(e){var t,n={descriptor:e&&e.descriptor},i=0,r=[],a=0;if(Le.prototype.init.call(this),this.dispatchType=He.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,n,s,o,l;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(a=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(r.push(e),a+=e.data.byteLength,1===r.length&&(i=We.parseSyncSafeInteger(e.data.subarray(6,10)),i+=10),!(a<i)){for(t={data:new Uint8Array(i),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<i;)t.data.set(r[0].data.subarray(0,i-l),l),l+=r[0].data.byteLength,a-=r[0].data.byteLength,r.shift();n=10,64&t.data[5]&&(n+=4,n+=We.parseSyncSafeInteger(t.data.subarray(10,14)),i-=We.parseSyncSafeInteger(t.data.subarray(16,20)));do{if((s=We.parseSyncSafeInteger(t.data.subarray(n+4,n+8)))<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if((o={id:String.fromCharCode(t.data[n],t.data[n+1],t.data[n+2],t.data[n+3]),data:t.data.subarray(n+10,n+s+10)}).key=o.id,We.frameParsers[o.id]?We.frameParsers[o.id](o):"T"===o.id[0]?We.frameParsers["T*"](o):"W"===o.id[0]&&We.frameParsers["W*"](o),"com.apple.streaming.transportStreamTimestamp"===o.owner){var c=o.data,u=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;u*=4,u+=3&c[7],o.timeStamp=u,void 0===t.pts&&void 0===t.dts&&(t.pts=o.timeStamp,t.dts=o.timeStamp),this.trigger("timestamp",o)}t.frames.push(o),n+=10,n+=s}while(n<i);this.trigger("data",t)}}},Le.prototype=new ze;var Ge,Xe,Ye,Ke=Le,Qe=V,Je=Ce,Ze=Ee,et=Re.TimestampRolloverStream,tt=188;(Ge=function(){var e=new Uint8Array(tt),t=0;Ge.prototype.init.call(this),this.push=function(n){var i,r=0,a=tt;for(t?((i=new Uint8Array(n.byteLength+t)).set(e.subarray(0,t)),i.set(n,t),t=0):i=n;a<i.byteLength;)71!==i[r]||71!==i[a]?(r++,a++):(this.trigger("data",i.subarray(r,a)),r+=tt,a+=tt);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){t===tt&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}}).prototype=new Qe,Xe=function(){var e,t,n,i;Xe.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var r=0;i.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===i.type?t(e.subarray(r),i):n(e.subarray(r),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,r;if(1&e[5]){for(i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<n;){var a=e[r],s=(31&e[r+1])<<8|e[r+2];a===Ze.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=s:a===Ze.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=s:a===Ze.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][s]=a),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid)for(n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=Ze.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=Ze.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},Xe.prototype=new Qe,Xe.STREAM_TYPES={h264:27,adts:15},Ye=function(){var e,t=this,n=!1,i={data:[],size:0},r={data:[],size:0},a={data:[],size:0},s=function(e,n,i){var r,a,s=new Uint8Array(e.size),o={type:n},l=0,c=0;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,l=0;l<e.data.length;l++)a=e.data[l],s.set(a.data,c),c+=a.data.byteLength;!function(e,t){var n;const i=e[0]<<16|e[1]<<8|e[2];t.data=new Uint8Array,1===i&&(t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=!!(4&e[6]),192&(n=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8]))}(s,o),r="video"===n||o.packetLength<=e.size,(i||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",o)}};Ye.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,t;switch(o.streamType){case Ze.H264_STREAM_TYPE:e=i,t="video";break;case Ze.ADTS_STREAM_TYPE:e=r,t="audio";break;case Ze.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};null!==(e=o.programMapTable).video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),n=!0,t.trigger("data",i)}})[o.type]()},this.reset=function(){i.size=0,i.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(i,"video"),s(r,"audio"),s(a,"timed-metadata")},this.flush=function(){if(!n&&e){var i={type:"metadata",tracks:[]};null!==e.video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",i)}n=!1,this.flushStreams_(),this.trigger("done")}},Ye.prototype=new Qe;var nt={PAT_PID:0,MP2T_PACKET_LENGTH:tt,TransportPacketStream:Ge,TransportParseStream:Xe,ElementaryStream:Ye,TimestampRolloverStream:et,CaptionStream:Je.CaptionStream,Cea608Stream:Je.Cea608Stream,Cea708Stream:Je.Cea708Stream,MetadataStream:Ke};for(var it in Ze)Ze.hasOwnProperty(it)&&(nt[it]=Ze[it]);var rt,at=nt,st=V,ot=oe.ONE_SECOND_IN_TS,lt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];rt=function(e){var t,n=0;rt.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:`adts skiping bytes ${e} to ${t} in frame ${n} outside syncword`})},this.push=function(i){var r,a,s,o,l,c=0;if(e||(n=0),"audio"===i.type){var u;for(t&&t.length?(s=t,(t=new Uint8Array(s.byteLength+i.data.byteLength)).set(s),t.set(i.data,s.byteLength)):t=i.data;c+7<t.length;)if(255===t[c]&&240==(246&t[c+1])){if("number"==typeof u&&(this.skipWarn_(u,c),u=null),a=2*(1&~t[c+1]),r=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,l=(o=1024*(1+(3&t[c+6])))*ot/lt[(60&t[c+2])>>>2],t.byteLength-c<r)break;this.trigger("data",{pts:i.pts+n*l,dts:i.dts+n*l,sampleCount:o,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:lt[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+a,c+r)}),n++,c+=r}else"number"!=typeof u&&(u=c),c++;"number"==typeof u&&(this.skipWarn_(u,c),u=null),t=t.subarray(c)}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},rt.prototype=new st;var ct,ut=rt;ct=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,a=new Uint8Array(4),s=Math.min(4,t);if(0===s)throw new Error("no bytes available");a.set(e.subarray(r,r+s)),n=new DataView(a.buffer).getUint32(0),i=8*s,t-=s},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),a=n>>>32-r;return(i-=r)>0?n<<=r:t>0&&this.loadWord(),(r=e-r)>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(n&2147483648>>>e)return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var dt,ht,pt,ft=V,mt=ct;(ht=function(){var e,t,n=0;ht.prototype.init.call(this),this.push=function(i){var r;t?((r=new Uint8Array(t.byteLength+i.data.byteLength)).set(t),r.set(i.data,t.byteLength),t=r):t=i.data;for(var a=t.byteLength;n<a-3;n++)if(1===t[n+2]){e=n+5;break}for(;e<a;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<a);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new ft,pt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},dt=function(){var e,t,n,i,r,a,s,o=new ht;dt.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,i=e.dts,o.push(e))},o.on("data",function(s){var o={trackId:t,pts:n,dts:i,data:s,nalUnitTypeCode:31&s[0]};switch(o.nalUnitTypeCode){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp",o.escapedRBSP=r(s.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp",o.escapedRBSP=r(s.subarray(1)),o.config=a(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",o)}),o.on("done",function(){e.trigger("done")}),o.on("partialdone",function(){e.trigger("partialdone")}),o.on("reset",function(){e.trigger("reset")}),o.on("endedtimeline",function(){e.trigger("endedtimeline")}),this.flush=function(){o.flush()},this.partialFlush=function(){o.partialFlush()},this.reset=function(){o.reset()},this.endTimeline=function(){o.endTimeline()},s=function(e,t){var n,i=8,r=8;for(n=0;n<e;n++)0!==r&&(r=(i+t.readExpGolomb()+256)%256),i=0===r?i:r},r=function(e){for(var t,n,i=e.byteLength,r=[],a=1;a<i-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var s=0;for(a=0;a<t;s++,a++)s===r[0]&&(s++,r.shift()),n[a]=e[s];return n},a=function(e){var t,n,i,r,a,o,l,c,u,d,h,p,f=0,m=0,g=0,v=0,y=[1,1];if(n=(t=new mt(e)).readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),pt[n]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==a?8:12,p=0;p<h;p++)t.readBoolean()&&s(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(o=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===o)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),p=0;p<l;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===(d=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(f=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),v=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:y=[1,1];break;case 2:y=[12,11];break;case 3:y=[10,11];break;case 4:y=[16,11];break;case 5:y=[40,33];break;case 6:y=[24,11];break;case 7:y=[20,11];break;case 8:y=[32,11];break;case 9:y=[80,33];break;case 10:y=[18,11];break;case 11:y=[15,11];break;case 12:y=[64,33];break;case 13:y=[160,99];break;case 14:y=[4,3];break;case 15:y=[3,2];break;case 16:y=[2,1];break;case 255:y=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}y&&(y[0],y[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:16*(c+1)-2*f-2*m,height:(2-d)*(u+1)*16-2*g-2*v,sarRatio:y}}},dt.prototype=new ft;var gt,vt={H264Stream:dt},yt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],bt=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return n=n>=0?n:0,(16&e[t+5])>>4?n+20:n+10},_t=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=bt(e,t),_t(e,t))},Tt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},St=function(e,t,n){return unescape(function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r}(e,t,n))},wt={isLikelyAacData:function(e){var t=_t(e,0);return e.length>=t+2&&!(255&~e[t])&&!(240&~e[t+1])&&16==(22&e[t+1])},parseId3TagSize:bt,parseAdtsSize:function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3;return 6144&e[t+3]|i|n},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&!(240&~e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return yt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,n,i;t=10,64&e[5]&&(t+=4,t+=Tt(e.subarray(10,14)));do{if((n=Tt(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){i=e.subarray(t+10,t+n+10);for(var r=0;r<i.byteLength;r++)if(0===i[r]){if("com.apple.streaming.transportStreamTimestamp"===St(i,0,r)){var a=i.subarray(r+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return s*=4,s+=3&a[7]}break}}t+=10,t+=n}while(t<e.byteLength);return null}},At=wt;(gt=function(){var e=new Uint8Array,t=0;gt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,r,a,s,o=0,l=0;for(e.length?(s=e.length,(e=new Uint8Array(n.byteLength+s)).set(e.subarray(0,s)),e.set(n,s)):e=n;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255&~e[l]||240&~e[l+1])l++;else{if(e.length-l<7)break;if(l+(o=At.parseAdtsSize(e,l))>e.length)break;a={type:"audio",data:e.subarray(l,l+o),pts:t,dts:t},this.trigger("data",a),l+=o}else{if(e.length-l<10)break;if(l+(o=At.parseId3TagSize(e,l))>e.length)break;r={type:"timed-metadata",data:e.subarray(l,l+o)},this.trigger("data",r),l+=o}i=e.length-l,e=i>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new V;var kt,xt,Ct,Et,Ot=V,It=ee,Dt=ne,Pt=ue,Lt=he,Rt=at,Mt=oe,Nt=ut,jt=vt.H264Stream,Bt=gt,Ft=wt.isLikelyAacData,Ut=oe.ONE_SECOND_IN_TS,$t=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Vt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],qt=function(e,t){t.stream=e,this.trigger("log",t)},zt=function(e,t){for(var n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];"headOfPipeline"!==r&&t[r].on&&t[r].on("log",qt.bind(e,r))}},Ht=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Wt=function(e,t,n,i,r,a){return{start:{dts:e,pts:e+(n-t)},end:{dts:e+(i-t),pts:e+(r-n)},prependedContentDuration:a,baseMediaDecodeTime:e}};xt=function(e,t){var n,i=[],r=0,a=0,s=1/0;n=(t=t||{}).firstSequenceNumber||0,xt.prototype.init.call(this),this.push=function(t){Lt.collectDtsInfo(e,t),e&&$t.forEach(function(n){e[n]=t[n]}),i.push(t)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var o,l,c,u,d,h,p;0!==i.length?(o=Pt.trimAdtsFramesByEarliestDts(i,e,r),e.baseMediaDecodeTime=Lt.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),p=Pt.prefixWithSilence(e,o,a,s),e.samples=Pt.generateSampleTable(o),c=It.mdat(Pt.concatenateFrameData(o)),i=[],l=It.moof(n,[e]),u=new Uint8Array(l.byteLength+c.byteLength),n++,u.set(l),u.set(c,l.byteLength),Lt.clearDtsInfo(e),d=Math.ceil(1024*Ut/e.samplerate),o.length&&(h=o.length*d,this.trigger("segmentTimingInfo",Wt(Mt.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),o[0].dts,o[0].pts,o[0].dts+h,o[0].pts+h,p||0)),this.trigger("timingInfo",{start:o[0].pts,end:o[0].pts+h})),this.trigger("data",{track:e,boxes:u}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Lt.clearDtsInfo(e),i=[],this.trigger("reset")}},xt.prototype=new Ot,kt=function(e,t){var n,i,r,a=[],s=[];n=(t=t||{}).firstSequenceNumber||0,kt.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Lt.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.config,e.sps=[t.data],Vt.forEach(function(t){e[t]=i[t]},this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),a.push(t)},this.flush=function(){for(var i,r,o,l,c,u,d,h,p=0;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=Dt.groupNalsIntoFrames(a),(o=Dt.groupFramesIntoGops(i))[0][0].keyFrame||((r=this.getGopForFusion_(a[0],e))?(p=r.duration,o.unshift(r),o.byteLength+=r.byteLength,o.nalCount+=r.nalCount,o.pts=r.pts,o.dts=r.dts,o.duration+=r.duration):o=Dt.extendFirstKeyFrame(o)),s.length){var f;if(!(f=t.alignGopsAtEnd?this.alignGopsAtEnd_(o):this.alignGopsAtStart_(o)))return this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Lt.clearDtsInfo(e),o=f}Lt.collectDtsInfo(e,o),e.samples=Dt.generateSampleTable(o),c=It.mdat(Dt.concatenateNalData(o)),e.baseMediaDecodeTime=Lt.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",o.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),d=o[0],h=o[o.length-1],this.trigger("segmentTimingInfo",Wt(e.baseMediaDecodeTime,d.dts,d.pts,h.dts+h.duration,h.pts+h.duration,p)),this.trigger("timingInfo",{start:o[0].pts,end:o[o.length-1].pts+o[o.length-1].duration}),this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=It.moof(n,[e]),u=new Uint8Array(l.byteLength+c.byteLength),n++,u.set(l),u.set(c,l.byteLength),this.trigger("data",{track:e,boxes:u}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),a=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){Lt.clearDtsInfo(e),i=void 0,r=void 0},this.getGopForFusion_=function(t){var n,i,r,a,s,o=1/0;for(s=0;s<this.gopCache_.length;s++)r=(a=this.gopCache_[s]).gop,e.pps&&Ht(e.pps[0],a.pps[0])&&e.sps&&Ht(e.sps[0],a.sps[0])&&(r.dts<e.timelineStartInfo.dts||(n=t.dts-r.dts-r.duration)>=-1e4&&n<=45e3&&(!i||o>n)&&(i=a,o=n));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,r,a,o,l,c;for(a=e.byteLength,o=e.nalCount,l=e.duration,t=n=0;t<s.length&&n<e.length&&(i=s[t],r=e[n],i.pts!==r.pts);)r.pts>i.pts?t++:(n++,a-=r.byteLength,o-=r.nalCount,l-=r.duration);return 0===n?e:n===e.length?null:((c=e.slice(n)).byteLength=a,c.duration=l,c.nalCount=o,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,n,i,r,a,o,l;for(t=s.length-1,n=e.length-1,a=null,o=!1;t>=0&&n>=0;){if(i=s[t],r=e[n],i.pts===r.pts){o=!0;break}i.pts>r.pts?t--:(t===s.length-1&&(a=n),n--)}if(!o&&null===a)return null;if(0===(l=o?n:a))return e;var c=e.slice(l),u=c.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return c.byteLength=u.byteLength,c.duration=u.duration,c.nalCount=u.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){s=e}},kt.prototype=new Ot,Et=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Et.prototype.init.call(this),this.push=function(e){return e.content||e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},Et.prototype=new Ot,Et.prototype.flush=function(e){var t,n,i,r,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,Vt.forEach(function(e){s.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,$t.forEach(function(e){s.info[e]=this.audioTrack[e]},this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,i=It.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(i.byteLength),s.initSegment.set(i),s.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)s.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=Mt.metadataTsToSeconds(t.startPts,o,this.keepOriginalTimestamps),t.endTime=Mt.metadataTsToSeconds(t.endPts,o,this.keepOriginalTimestamps),s.captionStreams[t.stream]=!0,s.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(n=this.pendingMetadata[r]).cueTime=Mt.metadataTsToSeconds(n.pts,o,this.keepOriginalTimestamps),s.metadata.push(n);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),r=0;r<s.captions.length;r++)t=s.captions[r],this.trigger("caption",t);for(r=0;r<s.metadata.length;r++)n=s.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Et.prototype.setRemux=function(e){this.remuxTracks=e},(Ct=function(e){var t,n,i=this,r=!0;Ct.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new Rt.MetadataStream,r.aacStream=new Bt,r.audioTimestampRolloverStream=new Rt.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new Rt.TimestampRolloverStream("timed-metadata"),r.adtsStream=new Nt,r.coalesceStream=new Et(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",function(e){r.aacStream.setTimestamp(e.timeStamp)}),r.aacStream.on("data",function(a){"timed-metadata"!==a.type&&"audio"!==a.type||r.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:i.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new xt(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),zt(this,r)},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new Rt.MetadataStream,r.packetStream=new Rt.TransportPacketStream,r.parseStream=new Rt.TransportParseStream,r.elementaryStream=new Rt.ElementaryStream,r.timestampRolloverStream=new Rt.TimestampRolloverStream,r.adtsStream=new Nt,r.h264Stream=new jt,r.captionStream=new Rt.CaptionStream(e),r.coalesceStream=new Et(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",function(a){var s;if("metadata"===a.type){for(s=a.tracks.length;s--;)t||"video"!==a.tracks[s].type?n||"audio"!==a.tracks[s].type||((n=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime):(t=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=i.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new kt(t,e),r.videoSegmentStream.on("log",i.getLogTrigger_("videoSegmentStream")),r.videoSegmentStream.on("timelineStartInfo",function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts-i.baseMediaDecodeTime))}),r.videoSegmentStream.on("processedGopsInfo",i.trigger.bind(i,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",function(e){n&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),r.videoSegmentStream.on("timingInfo",i.trigger.bind(i,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),n&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new xt(n,e),r.audioSegmentStream.on("log",i.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",i.trigger.bind(i,"audioTimingInfo")),r.audioSegmentStream.on("segmentTimingInfo",i.trigger.bind(i,"audioSegmentTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),i.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}}),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",function(e){e.dispatchType=r.metadataStream.dispatchType,i.trigger("id3Frame",e)}),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),zt(this,r)},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,Lt.clearDtsInfo(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Lt.clearDtsInfo(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(n){n.stream=e,t.trigger("log",n)}},this.push=function(e){if(r){var t=Ft(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new Ot;var Gt,Xt,Yt,Kt,Qt,Jt,Zt,en={Transmuxer:Ct},tn=function(e){return e>>>0},nn=function(e){return("00"+e.toString(16)).slice(-2)},rn=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},an=tn,sn=rn,on=function(e,t){var n,i,r,a,s,o=[];if(!t.length)return null;for(n=0;n<e.byteLength;)i=an(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),r=sn(e.subarray(n+4,n+8)),a=i>1?n+i:e.byteLength,r===t[0]&&(1===t.length?o.push(e.subarray(n+8,a)):(s=on(e.subarray(n+8,a),t.slice(1))).length&&(o=o.concat(s))),n=a;return o},ln=on,cn=tn,un=z.getUint64,dn=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=un(e.subarray(4)):t.baseMediaDecodeTime=cn(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},hn=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],a=2&i.flags[2],s=8&i.flags[2],o=16&i.flags[2],l=32&i.flags[2],c=65536&i.flags[0],u=131072&i.flags[0];return t=8,r&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),a&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),s&&(i.defaultSampleDuration=n.getUint32(t),t+=4),o&&(i.defaultSampleSize=n.getUint32(t),t+=4),l&&(i.defaultSampleFlags=n.getUint32(t)),c&&(i.durationIsEmpty=!0),!r&&u&&(i.baseDataOffsetIsMoof=!0),i},pn=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},fn=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&n.flags[2],a=4&n.flags[2],s=1&n.flags[1],o=2&n.flags[1],l=4&n.flags[1],c=8&n.flags[1],u=i.getUint32(4),d=8;for(r&&(n.dataOffset=i.getInt32(d),d+=4),a&&u&&(t={flags:pn(e.subarray(d,d+4))},d+=4,s&&(t.duration=i.getUint32(d),d+=4),o&&(t.size=i.getUint32(d),d+=4),c&&(1===n.version?t.compositionTimeOffset=i.getInt32(d):t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t),u--);u--;)t={},s&&(t.duration=i.getUint32(d),d+=4),o&&(t.size=i.getUint32(d),d+=4),l&&(t.flags=pn(e.subarray(d,d+4)),d+=4),c&&(1===n.version?t.compositionTimeOffset=i.getInt32(d):t.compositionTimeOffset=i.getUint32(d),d+=4),n.samples.push(t);return n},mn={tfdt:dn,trun:fn},gn={parseTfdt:mn.tfdt,parseTrun:mn.trun},vn=function(e){for(var t=0,n=String.fromCharCode(e[t]),i="";"\0"!==n;)i+=n,t++,n=String.fromCharCode(e[t]);return i+=n},yn=vn,bn=z.getUint64,_n=function(e,t){var n="\0"!==t.scheme_id_uri,i=0===e&&Tn(t.presentation_time_delta)&&n,r=1===e&&Tn(t.presentation_time)&&n;return!(e>1)&&i||r},Tn=function(e){return void 0!==e||null!==e},Sn={parseEmsgBox:function(e){var t,n,i,r,a,s,o,l=4,c=e[0];if(0===c)l+=(t=yn(e.subarray(l))).length,l+=(n=yn(e.subarray(l))).length,i=(u=new DataView(e.buffer)).getUint32(l),l+=4,a=u.getUint32(l),l+=4,s=u.getUint32(l),l+=4,o=u.getUint32(l),l+=4;else if(1===c){var u;i=(u=new DataView(e.buffer)).getUint32(l),l+=4,r=bn(e.subarray(l)),l+=8,s=u.getUint32(l),l+=4,o=u.getUint32(l),l+=4,l+=(t=yn(e.subarray(l))).length,l+=(n=yn(e.subarray(l))).length}var d={scheme_id_uri:t,value:n,timescale:i||1,presentation_time:r,presentation_time_delta:a,event_duration:s,id:o,message_data:new Uint8Array(e.subarray(l,e.byteLength))};return _n(c,d)?d:void 0},scaleTime:function(e,t,n,i){return e||0===e?e/t:i+n/t}},wn="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},An=tn,kn=nn,xn=ln,Cn=rn,En=Sn,On=hn,In=fn,Dn=dn,Pn=z.getUint64,Ln=wn,Rn=qe.parseId3Frames;Gt=function(e){return xn(e,["moov","trak"]).reduce(function(e,t){var n,i,r,a,s;return(n=xn(t,["tkhd"])[0])?(i=n[0],a=An(n[r=0===i?12:20]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),(s=xn(t,["mdia","mdhd"])[0])?(r=0===(i=s[0])?12:20,e[a]=An(s[r]<<24|s[r+1]<<16|s[r+2]<<8|s[r+3]),e):null):null},{})},Xt=function(e,t){var n=xn(t,["moof","traf"]).reduce(function(t,n){var i,r=xn(n,["tfhd"])[0],a=An(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),s=e[a]||9e4,o=xn(n,["tfdt"])[0],l=new DataView(o.buffer,o.byteOffset,o.byteLength);let c;return"bigint"==typeof(i=1===o[0]?Pn(o.subarray(4,12)):l.getUint32(4))?c=i/Ln.BigInt(s):"number"!=typeof i||isNaN(i)||(c=i/s),c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),c<t&&(t=c),t},1/0);return"bigint"==typeof n||isFinite(n)?n:0},Yt=function(e,t){var n,i=xn(t,["moof","traf"]),r=0,a=0;if(i&&i.length){var s=xn(i[0],["tfhd"])[0],o=xn(i[0],["trun"])[0],l=xn(i[0],["tfdt"])[0];if(s&&(n=On(s).trackId),l&&(r=Dn(l).baseMediaDecodeTime),o){var c=In(o);c.samples&&c.samples.length&&(a=c.samples[0].compositionTimeOffset||0)}}var u=e[n]||9e4;"bigint"==typeof r&&(a=Ln.BigInt(a),u=Ln.BigInt(u));var d=(r+a)/u;return"bigint"==typeof d&&d<Number.MAX_SAFE_INTEGER&&(d=Number(d)),d},Kt=function(e){var t=xn(e,["moov","trak"]),n=[];return t.forEach(function(e){var t=xn(e,["mdia","hdlr"]),i=xn(e,["tkhd"]);t.forEach(function(e,t){var r,a,s=Cn(e.subarray(8,12)),o=i[t];"vide"===s&&(a=0===(r=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0)?r.getUint32(12):r.getUint32(20),n.push(a))})}),n},Jt=function(e){var t=0===e[0]?12:20;return An(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},Qt=function(e){var t=xn(e,["moov","trak"]),n=[];return t.forEach(function(e){var t,i,r={},a=xn(e,["tkhd"])[0];a&&(i=(t=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0),r.id=0===i?t.getUint32(12):t.getUint32(20));var s=xn(e,["mdia","hdlr"])[0];if(s){var o=Cn(s.subarray(8,12));r.type="vide"===o?"video":"soun"===o?"audio":o}var l=xn(e,["mdia","minf","stbl","stsd"])[0];if(l){var c=l.subarray(8);r.codec=Cn(c.subarray(4,8));var u,d=xn(c,[r.codec])[0];d&&(/^[asm]vc[1-9]$/i.test(r.codec)?(u=d.subarray(78),"avcC"===Cn(u.subarray(4,8))&&u.length>11?(r.codec+=".",r.codec+=kn(u[9]),r.codec+=kn(u[10]),r.codec+=kn(u[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)?(u=d.subarray(28),"esds"===Cn(u.subarray(4,8))&&u.length>20&&0!==u[19]?(r.codec+="."+kn(u[19]),r.codec+="."+kn(u[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"):r.codec=r.codec.toLowerCase())}var h=xn(e,["mdia","mdhd"])[0];h&&(r.timescale=Jt(h)),n.push(r)}),n},Zt=function(e,t=0){return xn(e,["emsg"]).map(e=>{var n=En.parseEmsgBox(new Uint8Array(e)),i=Rn(n.message_data);return{cueTime:En.scaleTime(n.presentation_time,n.timescale,n.presentation_time_delta,t),duration:En.scaleTime(n.event_duration,n.timescale),frames:i}})};var Mn={findBox:xn,parseType:Cn,timescale:Gt,startTime:Xt,compositionStartTime:Yt,videoTrackIds:Kt,tracks:Qt,getTimescaleFromMediaHeader:Jt,getEmsgID3:Zt};const{parseTrun:Nn}=gn,{findBox:jn}=Mn;var Bn=wn,Fn={getMdatTrafPairs:function(e){var t=jn(e,["moof","traf"]),n=jn(e,["mdat"]),i=[];return n.forEach(function(e,n){var r=t[n];i.push({mdat:e,traf:r})}),i},parseSamples:function(e,t,n){var i=t,r=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,s=n.trackId,o=[];return e.forEach(function(e){var t=Nn(e).samples;t.forEach(function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=a),e.trackId=s,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof i?(e.pts=i+Bn.BigInt(e.compositionTimeOffset),i+=Bn.BigInt(e.duration)):(e.pts=i+e.compositionTimeOffset,i+=e.duration)}),o=o.concat(t)}),o}},Un=pe.discardEmulationPreventionBytes,$n=Ce.CaptionStream,Vn=ln,qn=dn,zn=hn,{getMdatTrafPairs:Hn,parseSamples:Wn}=Fn,Gn=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null},Xn=function(e,t){var n={};return Hn(e).forEach(function(e){var i,r=e.mdat,a=e.traf,s=Vn(a,["tfhd"]),o=zn(s[0]),l=o.trackId,c=Vn(a,["tfdt"]),u=c.length>0?qn(c[0]).baseMediaDecodeTime:0,d=Vn(a,["trun"]);t===l&&d.length>0&&(i=function(e,t,n){var i,r,a,s,o=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(r=0;r+4<e.length;r+=a)if(a=o.getUint32(r),r+=4,!(a<=0))switch(31&e[r]){case 6:var c=e.subarray(r+1,r+1+a),u=Gn(r,t);if(i={nalUnitType:"sei_rbsp",size:a,data:c,escapedRBSP:Un(c),trackId:n},u)i.pts=u.pts,i.dts=u.dts,s=u;else{if(!s){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+r+" for trackId "+n+". See mux.js#223."});break}i.pts=s.pts,i.dts=s.dts}l.seiNals.push(i)}return l}(r,Wn(d,u,o),l),n[l]||(n[l]={seiNals:[],logs:[]}),n[l].seiNals=n[l].seiNals.concat(i.seiNals),n[l].logs=n[l].logs.concat(i.logs))}),n},Yn=function(){var e,t,n,i,r,a,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new $n,s=!0,a=!!t&&t.isPartial,e.on("data",function(e){e.startTime=e.startPts/i,e.endTime=e.endPts/i,r.captions.push(e),r.captionStreams[e.stream]=!0}),e.on("log",function(e){r.logs.push(e)})},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length||n===e[0]&&i===t[n])},this.parse=function(e,a,s){var o;if(!this.isInitialized())return null;if(!a||!s)return null;if(this.isNewInit(a,s))n=a[0],i=s[n];else if(null===n||!i)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,a,s)}return o=function(e,t,n){if(null===t)return null;var i=Xn(e,t)[t]||{};return{seiNals:i.seiNals,logs:i.logs,timescale:n}}(e,n,i),o&&o.logs&&(r.logs=r.logs.concat(o.logs)),null!==o&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach(function(t){e.push(t)})},this.flushStream=function(){if(!this.isInitialized())return null;a?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={},r.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()};const{parseTfdt:Kn}=gn,Qn=ln,{getTimescaleFromMediaHeader:Jn}=Mn,{parseSamples:Zn,getMdatTrafPairs:ei}=Fn;var ti=function(){let e=9e4;this.init=function(t){const n=Qn(t,["moov","trak","mdia","mdhd"])[0];n&&(e=Jn(n))},this.parseSegment=function(t){const n=[],i=ei(t);let r=0;return i.forEach(function(t){const i=t.mdat,a=t.traf,s=Qn(a,["tfdt"])[0],o=Qn(a,["tfhd"])[0],l=Qn(a,["trun"]);if(s){const e=Kn(s);r=e.baseMediaDecodeTime}if(l.length&&o){const t=Zn(l,r,o);let a=0;t.forEach(function(t){const r=new TextDecoder("utf-8"),s=i.slice(a,a+t.size);Qn(s,["vtte"])[0]||Qn(s,["vttc"]).forEach(function(i){const a=Qn(i,["payl"])[0],s=Qn(i,["sttg"])[0],o=t.pts/e,l=(t.pts+t.duration)/e;let c,u;if(a)try{c=r.decode(a)}catch(xZ){console.error(xZ)}if(s)try{u=r.decode(s)}catch(xZ){console.error(xZ)}t.duration&&c&&n.push({cueText:c,start:o,end:l,settings:u})}),a+=t.size})}}),n}},ni=Ee,ii=function(e){var t=31&e[1];return t<<=8,t|=e[2]},ri=function(e){return!!(64&e[1])},ai=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},si=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},oi={parseType:function(e,t){var n=ii(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},parsePat:function(e){var t=ri(e),n=4+ai(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},parsePmt:function(e){var t={},n=ri(e),i=4+ai(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r;r=3+((15&e[i+1])<<8|e[i+2])-4;for(var a=12+((15&e[i+10])<<8|e[i+11]);a<r;){var s=i+a;t[(31&e[s+1])<<8|e[s+2]]=e[s],a+=5+((15&e[s+3])<<8|e[s+4])}return t}},parsePayloadUnitStartIndicator:ri,parsePesType:function(e,t){switch(t[ii(e)]){case ni.H264_STREAM_TYPE:return"video";case ni.ADTS_STREAM_TYPE:return"audio";case ni.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!ri(e))return null;var t=4+ai(e);if(t>=e.byteLength)return null;var n,i=null;return 192&(n=e[t+7])&&((i={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,i.pts*=4,i.pts+=(6&e[t+13])>>>1,i.dts=i.pts,64&n&&(i.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,i.dts*=4,i.dts+=(6&e[t+18])>>>1)),i},videoPacketContainsKeyFrame:function(e){for(var t=4+ai(e),n=e.subarray(t),i=0,r=0,a=!1;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}r+3!==i-2&&"slice_layer_without_partitioning_rbsp_idr"===si(31&n[r+3])&&(a=!0);do{i++}while(1!==n[i]&&i<n.length);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}"slice_layer_without_partitioning_rbsp_idr"===si(31&n[r+3])&&(a=!0),r=i-2,i+=3;break;default:i+=3}return n=n.subarray(r),i-=r,r=0,n&&n.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===si(31&n[r+3])&&(a=!0),a}},li=Ee,ci=Re.handleRollover,ui={};ui.ts=oi,ui.aac=wt;var di=oe.ONE_SECOND_IN_TS,hi=188,pi=71,fi=function(e,t,n){for(var i,r,a,s,o=0,l=hi,c=!1;l<=e.byteLength;)if(e[o]!==pi||e[l]!==pi&&l!==e.byteLength)o++,l++;else{if(i=e.subarray(o,l),"pes"===ui.ts.parseType(i,t.pid)&&(r=ui.ts.parsePesType(i,t.table),a=ui.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=ui.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),c=!0)),c)break;o+=hi,l+=hi}for(o=(l=e.byteLength)-hi,c=!1;o>=0;)if(e[o]!==pi||e[l]!==pi&&l!==e.byteLength)o--,l--;else{if(i=e.subarray(o,l),"pes"===ui.ts.parseType(i,t.pid)&&(r=ui.ts.parsePesType(i,t.table),a=ui.ts.parsePayloadUnitStartIndicator(i),"audio"===r&&a&&(s=ui.ts.parsePesTime(i))&&(s.type="audio",n.audio.push(s),c=!0)),c)break;o-=hi,l-=hi}},mi=function(e,t,n){for(var i,r,a,s,o,l,c,u=0,d=hi,h=!1,p={data:[],size:0};d<e.byteLength;)if(e[u]!==pi||e[d]!==pi)u++,d++;else{if(i=e.subarray(u,d),"pes"===ui.ts.parseType(i,t.pid)&&(r=ui.ts.parsePesType(i,t.table),a=ui.ts.parsePayloadUnitStartIndicator(i),"video"===r&&(a&&!h&&(s=ui.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),h=!0),!n.firstKeyFrame))){if(a&&0!==p.size){for(o=new Uint8Array(p.size),l=0;p.data.length;)c=p.data.shift(),o.set(c,l),l+=c.byteLength;if(ui.ts.videoPacketContainsKeyFrame(o)){var f=ui.ts.parsePesTime(o);f?(n.firstKeyFrame=f,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p.size=0}p.data.push(i),p.size+=i.byteLength}if(h&&n.firstKeyFrame)break;u+=hi,d+=hi}for(u=(d=e.byteLength)-hi,h=!1;u>=0;)if(e[u]!==pi||e[d]!==pi)u--,d--;else{if(i=e.subarray(u,d),"pes"===ui.ts.parseType(i,t.pid)&&(r=ui.ts.parsePesType(i,t.table),a=ui.ts.parsePayloadUnitStartIndicator(i),"video"===r&&a&&(s=ui.ts.parsePesTime(i))&&(s.type="video",n.video.push(s),h=!0)),h)break;u-=hi,d-=hi}},gi=function(e){var t={pid:null,table:null},n={};for(var i in function(e,t){for(var n,i=0,r=hi;r<e.byteLength;)if(e[i]!==pi||e[r]!==pi)i++,r++;else{switch(n=e.subarray(i,r),ui.ts.parseType(n,t.pid)){case"pat":t.pid=ui.ts.parsePat(n);break;case"pmt":var a=ui.ts.parsePmt(n);t.table=t.table||{},Object.keys(a).forEach(function(e){t.table[e]=a[e]})}i+=hi,r+=hi}}(e,t),t.table)if(t.table.hasOwnProperty(i))switch(t.table[i]){case li.H264_STREAM_TYPE:n.video=[],mi(e,t,n),0===n.video.length&&delete n.video;break;case li.ADTS_STREAM_TYPE:n.audio=[],fi(e,t,n),0===n.audio.length&&delete n.audio}return n},vi=function(e,t){var n;return n=ui.aac.isLikelyAacData(e)?function(e){for(var t,n=!1,i=0,r=null,a=null,s=0,o=0;e.length-o>=3;){switch(ui.aac.parseType(e,o)){case"timed-metadata":if(e.length-o<10){n=!0;break}if((s=ui.aac.parseId3TagSize(e,o))>e.length){n=!0;break}null===a&&(t=e.subarray(o,o+s),a=ui.aac.parseAacTimestamp(t)),o+=s;break;case"audio":if(e.length-o<7){n=!0;break}if((s=ui.aac.parseAdtsSize(e,o))>e.length){n=!0;break}null===r&&(t=e.subarray(o,o+s),r=ui.aac.parseSampleRate(t)),i++,o+=s;break;default:o++}if(n)return null}if(null===r||null===a)return null;var l=di/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*i*l,pts:a+1024*i*l}]}}(e):gi(e),n&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var n=t;(void 0===n||isNaN(n))&&(n=e.audio[0].dts),e.audio.forEach(function(e){e.dts=ci(e.dts,n),e.pts=ci(e.pts,n),e.dtsTime=e.dts/di,e.ptsTime=e.pts/di})}if(e.video&&e.video.length){var i=t;if((void 0===i||isNaN(i))&&(i=e.video[0].dts),e.video.forEach(function(e){e.dts=ci(e.dts,i),e.pts=ci(e.pts,i),e.dtsTime=e.dts/di,e.ptsTime=e.pts/di}),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=ci(r.dts,i),r.pts=ci(r.pts,i),r.dtsTime=r.dts/di,r.ptsTime=r.pts/di}}}(n,t),n):null};class yi{constructor(e,t){this.options=t||{},this.self=e,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new en.Transmuxer(this.options),function(e,t){t.on("data",function(t){const n=t.initSegment;t.initSegment={data:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength};const i=t.data;t.data=i.buffer,e.postMessage({action:"data",segment:t,byteOffset:i.byteOffset,byteLength:i.byteLength},[t.data])}),t.on("done",function(t){e.postMessage({action:"done"})}),t.on("gopInfo",function(t){e.postMessage({action:"gopInfo",gopInfo:t})}),t.on("videoSegmentTimingInfo",function(t){const n={start:{decode:oe.videoTsToSeconds(t.start.dts),presentation:oe.videoTsToSeconds(t.start.pts)},end:{decode:oe.videoTsToSeconds(t.end.dts),presentation:oe.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:oe.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=oe.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:n})}),t.on("audioSegmentTimingInfo",function(t){const n={start:{decode:oe.videoTsToSeconds(t.start.dts),presentation:oe.videoTsToSeconds(t.start.pts)},end:{decode:oe.videoTsToSeconds(t.end.dts),presentation:oe.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:oe.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(n.prependedContentDuration=oe.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:n})}),t.on("id3Frame",function(t){e.postMessage({action:"id3Frame",id3Frame:t})}),t.on("caption",function(t){e.postMessage({action:"caption",caption:t})}),t.on("trackinfo",function(t){e.postMessage({action:"trackinfo",trackInfo:t})}),t.on("audioTimingInfo",function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:oe.videoTsToSeconds(t.start),end:oe.videoTsToSeconds(t.end)}})}),t.on("videoTimingInfo",function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:oe.videoTsToSeconds(t.start),end:oe.videoTsToSeconds(t.end)}})}),t.on("log",function(t){e.postMessage({action:"log",log:t})})}(this.self,this.transmuxer)}pushMp4Captions(e){this.captionParser||(this.captionParser=new Yn,this.captionParser.init());const t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:n&&n.captions||[],logs:n&&n.logs||[],data:t.buffer},[t.buffer])}initMp4WebVttParser(e){this.webVttParser||(this.webVttParser=new ti);const t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.webVttParser.init(t)}getMp4WebVttText(e){this.webVttParser||(this.webVttParser=new ti);const t=new Uint8Array(e.data,e.byteOffset,e.byteLength),n=this.webVttParser.parseSegment(t);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:n||[],data:t.buffer},[t.buffer])}probeMp4StartTime({timescales:e,data:t}){const n=Mn.startTime(e,t);this.self.postMessage({action:"probeMp4StartTime",startTime:n,data:t},[t.buffer])}probeMp4Tracks({data:e}){const t=Mn.tracks(e);this.self.postMessage({action:"probeMp4Tracks",tracks:t,data:e},[e.buffer])}probeEmsgID3({data:e,offset:t}){const n=Mn.getEmsgID3(e,t);this.self.postMessage({action:"probeEmsgID3",id3Frames:n,emsgData:e},[e.buffer])}probeTs({data:e,baseStartTime:t}){const n="number"!=typeof t||isNaN(t)?void 0:t*oe.ONE_SECOND_IN_TS,i=vi(e,n);let r=null;i&&(r={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1},r.hasVideo&&(r.videoStart=i.video[0].ptsTime),r.hasAudio&&(r.audioStart=i.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:r,data:e},[e.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(e){const t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}reset(){this.transmuxer.reset()}setTimestampOffset(e){const t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(oe.secondsToVideoTs(t)))}setAudioAppendStart(e){this.transmuxer.setAudioAppendStart(Math.ceil(oe.secondsToVideoTs(e.appendStart)))}setRemux(e){this.transmuxer.setRemux(e.remux)}flush(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new yi(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new yi(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}));var eK=KY(ZY);const tK=e=>{const{transmuxer:t,bytes:n,audioAppendStart:i,gopsToAlignWith:r,remux:a,onData:s,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:c,onVideoSegmentTimingInfo:u,onAudioSegmentTimingInfo:d,onId3:h,onCaptions:p,onDone:f,onEndedTimeline:m,onTransmuxerLog:g,isEndOfTimeline:v,segment:y,triggerSegmentEventFn:b}=e,_={buffer:[]};let T=v;if(t.onmessage=n=>{t.currentTransmux===e&&("data"===n.data.action&&((e,t,n)=>{const{type:i,initSegment:r,captions:a,captionStreams:s,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:c}=e.data.segment;t.buffer.push({captions:a,captionStreams:s,metadata:o});const u=e.data.segment.boxes||{data:e.data.segment.data},d={type:i,data:new Uint8Array(u.data,u.data.byteOffset,u.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};void 0!==l&&(d.videoFrameDtsTime=l),void 0!==c&&(d.videoFramePtsTime=c),n(d)})(n,_,s),"trackinfo"===n.data.action&&o(n.data.trackInfo),"gopInfo"===n.data.action&&((e,t)=>{t.gopInfo=e.data.gopInfo})(n,_),"audioTimingInfo"===n.data.action&&l(n.data.audioTimingInfo),"videoTimingInfo"===n.data.action&&c(n.data.videoTimingInfo),"videoSegmentTimingInfo"===n.data.action&&u(n.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===n.data.action&&d(n.data.audioSegmentTimingInfo),"id3Frame"===n.data.action&&h([n.data.id3Frame],n.data.id3Frame.dispatchType),"caption"===n.data.action&&p(n.data.caption),"endedtimeline"===n.data.action&&(T=!1,m()),"log"===n.data.action&&g(n.data.log),"transmuxed"===n.data.type&&(T||(t.onmessage=null,(({transmuxedData:e,callback:t})=>{e.buffer=[],t(e)})({transmuxedData:_,callback:f}),nK(t))))},t.onerror=()=>{const e={message:"Received an error message from the transmuxer worker",metadata:{errorType:_X.Error.StreamingFailedToTransmuxSegment,segmentInfo:HK({segment:y})}};f(null,e)},i&&t.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==a&&t.postMessage({action:"setRemux",remux:a}),n.byteLength){const e=n instanceof ArrayBuffer?n:n.buffer,i=n instanceof ArrayBuffer?0:n.byteOffset;b({type:"segmenttransmuxingstart",segment:y}),t.postMessage({action:"push",data:e,byteOffset:i,byteLength:n.byteLength},[e])}v&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},nK=e=>{e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():tK(e.currentTransmux))},iK=(e,t)=>{e.postMessage({action:t}),nK(e)},rK=(e,t)=>{if(!t.currentTransmux)return t.currentTransmux=e,void iK(t,e);t.transmuxQueue.push(iK.bind(null,t,e))},aK=e=>{if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void tK(e);e.transmuxer.transmuxQueue.push(e)};var sK=e=>{rK("reset",e)},oK=e=>{const t=new eK;t.currentTransmux=null,t.transmuxQueue=[];const n=t.terminate;return t.terminate=()=>(t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)),t.postMessage({action:"init",options:e}),t};const lK=function(e){const t=e.transmuxer,n=e.endAction||e.action,i=e.callback,r=EU({},e,{endAction:null,transmuxer:null,callback:null}),a=r=>{r.data.action===n&&(t.removeEventListener("message",a),r.data.data&&(r.data.data=new Uint8Array(r.data.data,e.byteOffset||0,e.byteLength||r.data.data.byteLength),e.data&&(e.data=r.data.data)),i(r.data))};if(t.addEventListener("message",a),e.data){const n=e.data instanceof ArrayBuffer;r.byteOffset=n?0:e.data.byteOffset,r.byteLength=e.data.byteLength;const i=[n?e.data:e.data.buffer];t.postMessage(r,i)}else t.postMessage(r)},cK=2,uK=-101,dK=-102,hK="wvtt",pK=e=>{e.forEach(e=>{e.abort()})},fK=(e,t)=>{const{requestType:n}=t,i=uY({requestType:n,request:t,error:e});return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:uK,xhr:t,metadata:i}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:dK,xhr:t,metadata:i}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:cK,xhr:t,metadata:i}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:cK,xhr:t,metadata:i}:null},mK=(e,t,n,i)=>(r,a)=>{const s=a.response,o=fK(r,a);if(o)return n(o,e);if(16!==s.byteLength)return n({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:cK,xhr:a},e);const l=new DataView(s),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let e=0;e<t.length;e++)t[e].bytes=c;const u={uri:a.uri};return i({type:"segmentkeyloadcomplete",segment:e,keyInfo:u}),n(null,e)},gK=(e,t)=>{const n=tq(e.map.bytes);if("mp4"!==n){const i=e.map.resolvedUri||e.map.uri,r=n||"unknown";return t({internal:!0,message:`Found unsupported ${r} container for initialization segment at URL: ${i}`,code:cK,metadata:{mediaType:r}})}lK({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:({tracks:n,data:i})=>(e.map.bytes=i,n.forEach(function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale),"text"===t.type&&((e,t)=>{t===hK&&e.transmuxer.postMessage({action:"initMp4WebVttParser",data:e.map.bytes})})(e,t.codec))}),t(null))})},vK=({segment:e,finishProcessingFn:t,responseType:n,triggerSegmentEventFn:i})=>(r,a)=>{const s=fK(r,a);if(s)return t(s,e);i({type:"segmentloaded",segment:e});const o="arraybuffer"!==n&&a.responseText?(e=>{const t=new Uint8Array(new ArrayBuffer(e.length));for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer})(a.responseText.substring(e.lastReachedChar||0)):a.response;return e.stats=(e=>({bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}))(a),e.key?e.encryptedBytes=new Uint8Array(o):e.bytes=new Uint8Array(o),t(null,e)},yK=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{const f=e.map&&e.map.tracks||{},m=Boolean(f.audio&&f.video);let g=i.bind(null,e,"audio","start");const v=i.bind(null,e,"audio","end");let y=i.bind(null,e,"video","start");const b=i.bind(null,e,"video","end");lK({action:"probeTs",transmuxer:e.transmuxer,data:t,baseStartTime:e.baseStartTime,callback:i=>{e.bytes=t=i.data;const f=i.result;f&&(n(e,{hasAudio:f.hasAudio,hasVideo:f.hasVideo,isMuxed:m}),n=null),aK({bytes:t,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:m,onData:t=>{t.type="combined"===t.type?"video":t.type,u(e,t)},onTrackInfo:t=>{n&&(m&&(t.isMuxed=!0),n(e,t))},onAudioTimingInfo:e=>{g&&void 0!==e.start&&(g(e.start),g=null),v&&void 0!==e.end&&v(e.end)},onVideoTimingInfo:e=>{y&&void 0!==e.start&&(y(e.start),y=null),b&&void 0!==e.end&&b(e.end)},onVideoSegmentTimingInfo:t=>{const n={pts:{start:t.start.presentation,end:t.end.presentation},dts:{start:t.start.decode,end:t.end.decode}};p({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:n}),r(t)},onAudioSegmentTimingInfo:t=>{const n={pts:{start:t.start.pts,end:t.end.pts},dts:{start:t.start.dts,end:t.end.dts}};p({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:n}),a(t)},onId3:(t,n)=>{s(e,t,n)},onCaptions:t=>{o(e,[t])},isEndOfTimeline:l,onEndedTimeline:()=>{c()},onTransmuxerLog:h,onDone:(t,n)=>{d&&(t.type="combined"===t.type?"video":t.type,p({type:"segmenttransmuxingcomplete",segment:e}),d(n,e,t))},segment:e,triggerSegmentEventFn:p})}})},bK=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{let f=new Uint8Array(t);if(function(e){return jV(e,["moof"]).length>0}(f)){e.isFmp4=!0;const{tracks:r}=e.map;if(r.text&&(!r.audio||!r.video))return u(e,{data:f,type:"text"}),void((e,t,n)=>{t===hK&&lK({action:"getMp4WebVttText",data:e.bytes,transmuxer:e.transmuxer,callback:({data:t,mp4VttCues:i})=>{e.bytes=t,n(null,e,{mp4VttCues:i})}})})(e,r.text.codec,d);const a={isFmp4:!0,hasVideo:!!r.video,hasAudio:!!r.audio};r.audio&&r.audio.codec&&"enca"!==r.audio.codec&&(a.audioCodec=r.audio.codec),r.video&&r.video.codec&&"encv"!==r.video.codec&&(a.videoCodec=r.video.codec),r.video&&r.audio&&(a.isMuxed=!0),n(e,a);const l=(t,n)=>{u(e,{data:f,type:a.hasAudio&&!a.isMuxed?"audio":"video"}),n&&n.length&&s(e,n),t&&t.length&&o(e,t),d(null,e,{})};return void lK({action:"probeMp4StartTime",timescales:e.map.timescales,data:f,transmuxer:e.transmuxer,callback:({data:n,startTime:s})=>{t=n.buffer,e.bytes=f=n,a.hasAudio&&!a.isMuxed&&i(e,"audio","start",s),a.hasVideo&&i(e,"video","start",s),lK({action:"probeEmsgID3",data:f,transmuxer:e.transmuxer,offset:s,callback:({emsgData:n,id3Frames:i})=>{t=n.buffer,e.bytes=f=n,r.video&&n.byteLength&&e.transmuxer?lK({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:f,timescales:e.map.timescales,trackIds:[r.video.id],callback:n=>{t=n.data.buffer,e.bytes=f=n.data,n.logs.forEach(function(e){h(EX(e,{stream:"mp4CaptionParser"}))}),l(n.captions,i)}}):l(void 0,i)}})}})}if(e.transmuxer){if(void 0===e.container&&(e.container=tq(f)),"ts"!==e.container&&"aac"!==e.container)return n(e,{hasAudio:!1,hasVideo:!1}),void d(null,e,{});yK({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:p})}else d(null,e,{})},_K=function({id:e,key:t,encryptedBytes:n,decryptionWorker:i,segment:r,doneFn:a},s){const o=t=>{if(t.data.source===e){i.removeEventListener("message",o);const e=t.data.decrypted;s(new Uint8Array(e.bytes,e.byteOffset,e.byteLength))}};let l;i.onerror=()=>{const e="An error occurred in the decryption worker",t=HK({segment:r}),n={message:e,metadata:{error:new Error(e),errorType:_X.Error.StreamingFailedToDecryptSegment,segmentInfo:t,keyInfo:{uri:r.key.resolvedUri||r.map.key.resolvedUri}}};a(n,r)},i.addEventListener("message",o),l=t.bytes.slice?t.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.bytes)),i.postMessage(PY({source:e,encrypted:n,key:l,iv:t.iv}),[n.buffer,l.buffer])},TK=({activeXhrs:e,decryptionWorker:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{let f=0,m=!1;return(g,v)=>{if(!m){if(g)return m=!0,pK(e),d(g,v);if(f+=1,f===e.length){const f=function(){if(v.encryptedBytes)return(({decryptionWorker:e,segment:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:p})=>{p({type:"segmentdecryptionstart"}),_K({id:t.requestId,key:t.key,encryptedBytes:t.encryptedBytes,decryptionWorker:e,segment:t,doneFn:d},e=>{t.bytes=e,p({type:"segmentdecryptioncomplete",segment:t}),bK({segment:t,bytes:t.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:p})})})({decryptionWorker:t,segment:v,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:p});bK({segment:v,bytes:v.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:p})};if(v.endOfAllRequests=Date.now(),v.map&&v.map.encryptedBytes&&!v.map.bytes)return p({type:"segmentdecryptionstart",segment:v}),_K({decryptionWorker:t,id:v.requestId+"-init",encryptedBytes:v.map.encryptedBytes,key:v.map.key,segment:v,doneFn:d},t=>{v.map.bytes=t,p({type:"segmentdecryptioncomplete",segment:v}),gK(v,t=>{if(t)return pK(e),d(t,v);f()})});f()}}}},SK=({segment:e,progressFn:t,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u})=>n=>{if(!n.target.aborted)return e.stats=EX(e.stats,(e=>{const t=e.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n})(n)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(n,e)},wK=({xhr:e,xhrOptions:t,decryptionWorker:n,segment:i,abortFn:r,progressFn:a,trackInfoFn:s,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:p,dataFn:f,doneFn:m,onTransmuxerLog:g,triggerSegmentEventFn:v})=>{const y=[],b=TK({activeXhrs:y,decryptionWorker:n,trackInfoFn:s,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:p,dataFn:f,doneFn:m,onTransmuxerLog:g,triggerSegmentEventFn:v});if(i.key&&!i.key.bytes){const n=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&n.push(i.map.key);const r=EX(t,{uri:i.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),a=mK(i,n,b,v);v({type:"segmentkeyloadstart",segment:i,keyInfo:{uri:i.key.resolvedUri}});const s=e(r,a);y.push(s)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const n=EX(t,{uri:i.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),r=mK(i,[i.map.key],b,v);v({type:"segmentkeyloadstart",segment:i,keyInfo:{uri:i.map.key.resolvedUri}});const a=e(n,r);y.push(a)}const n=EX(t,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:EY(i.map),requestType:"segment-media-initialization"}),r=(({segment:e,finishProcessingFn:t,triggerSegmentEventFn:n})=>(i,r)=>{const a=fK(i,r);if(a)return t(a,e);const s=new Uint8Array(r.response);if(n({type:"segmentloaded",segment:e}),e.map.key)return e.map.encryptedBytes=s,t(null,e);e.map.bytes=s,gK(e,function(n){if(n)return n.xhr=r,n.status=r.status,t(n,e);t(null,e)})})({segment:i,finishProcessingFn:b,triggerSegmentEventFn:v});v({type:"segmentloadstart",segment:i});const a=e(n,r);y.push(a)}const _=EX(t,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:EY(i),requestType:"segment"}),T=vK({segment:i,finishProcessingFn:b,responseType:_.responseType,triggerSegmentEventFn:v});v({type:"segmentloadstart",segment:i});const S=e(_,T);S.addEventListener("progress",SK({segment:i,progressFn:a,trackInfoFn:s,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:p,dataFn:f})),y.push(S);const w={};return y.forEach(e=>{e.addEventListener("loadend",(({loadendState:e,abortFn:t})=>n=>{n.target.aborted&&t&&!e.calledAbortFn&&(t(),e.calledAbortFn=!0)})({loadendState:w,abortFn:r}))}),()=>pK(y)},AK=CX("PlaylistSelector"),kK=function(e){if(!e||!e.playlist)return;const t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})},xK=function(e,t){if(!e)return"";const n=GF.getComputedStyle(e);return n?n[t]:""},CK=function(e,t){const n=e.slice();e.sort(function(e,i){const r=t(e,i);return 0===r?n.indexOf(e)-n.indexOf(i):r})},EK=function(e,t){let n,i;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||GF.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||GF.Number.MAX_VALUE,n-i};let OK=function(e){const{main:t,bandwidth:n,playerWidth:i,playerHeight:r,playerObjectFit:a,limitRenditionByPlayerDimensions:s,playlistController:o}=e;if(!t)return;const l={bandwidth:n,width:i,height:r,limitRenditionByPlayerDimensions:s};let c=t.playlists;nY.isAudioOnly(t)&&(c=o.getAudioTrackPlaylists_(),l.audioOnly=!0);let u=c.map(e=>{let t;const n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return t=e.attributes&&e.attributes.BANDWIDTH,t=t||GF.Number.MAX_VALUE,{bandwidth:t,width:n,height:i,playlist:e}});CK(u,(e,t)=>e.bandwidth-t.bandwidth),u=u.filter(e=>!nY.isIncompatible(e.playlist));let d=u.filter(e=>nY.isEnabled(e.playlist));d.length||(d=u.filter(e=>!nY.isDisabled(e.playlist)));const h=d.filter(e=>e.bandwidth*XY.BANDWIDTH_VARIANCE<n);let p=h[h.length-1];const f=h.filter(e=>e.bandwidth===p.bandwidth)[0];if(!1===s){const e=f||d[0]||u[0];if(e&&e.playlist){let t="sortedPlaylistReps";return f&&(t="bandwidthBestRep"),d[0]&&(t="enabledPlaylistReps"),AK(`choosing ${kK(e)} using ${t} with options`,l),e.playlist}return AK("could not choose a playlist with options",l),null}const m=h.filter(e=>e.width&&e.height);CK(m,(e,t)=>e.width-t.width);const g=m.filter(e=>e.width===i&&e.height===r);p=g[g.length-1];const v=g.filter(e=>e.bandwidth===p.bandwidth)[0];let y,b,_,T;if(v||(y=m.filter(e=>"cover"===a?e.width>i&&e.height>r:e.width>i||e.height>r),b=y.filter(e=>e.width===y[0].width&&e.height===y[0].height),p=b[b.length-1],_=b.filter(e=>e.bandwidth===p.bandwidth)[0]),o.leastPixelDiffSelector){const e=m.map(e=>(e.pixelDiff=Math.abs(e.width-i)+Math.abs(e.height-r),e));CK(e,(e,t)=>e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff),T=e[0]}const S=T||_||v||f||d[0]||u[0];if(S&&S.playlist){let e="sortedPlaylistReps";return T?e="leastPixelDiffRep":_?e="resolutionPlusOneRep":v?e="resolutionBestRep":f?e="bandwidthBestRep":d[0]&&(e="enabledPlaylistReps"),AK(`choosing ${kK(S)} using ${e} with options`,l),S.playlist}return AK("could not choose a playlist with options",l),null};const IK=function(){let e=this.useDevicePixelRatio&&GF.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(e=this.customPixelRatio),OK({main:this.playlists.main,bandwidth:this.systemBandwidth,playerWidth:parseInt(xK(this.tech_.el(),"width"),10)*e,playerHeight:parseInt(xK(this.tech_.el(),"height"),10)*e,playerObjectFit:this.usePlayerObjectFit?xK(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})};function DK(e){try{return new URL(e).pathname.split("/").slice(-2).join("/")}catch(xZ){return""}}const PK=({inbandTextTracks:e,metadataArray:t,timestampOffset:n,videoDuration:i})=>{if(!t)return;const r=GF.WebKitDataCue||GF.VTTCue,a=e.metadataTrack_;if(!a)return;if(t.forEach(e=>{const t=e.cueTime+n;!("number"!=typeof t||GF.isNaN(t)||t<0)&&t<1/0&&e.frames&&e.frames.length&&e.frames.forEach(e=>{const n=new r(t,t,e.value||e.url||e.data||"");n.frame=e,n.value=e,function(e){Object.defineProperties(e.frame,{id:{get:()=>(_X.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key)},value:{get:()=>(_X.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data)},privateData:{get:()=>(_X.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data)}})}(n),a.addCue(n)})}),!a.cues||!a.cues.length)return;const s=a.cues,o=[];for(let u=0;u<s.length;u++)s[u]&&o.push(s[u]);const l=o.reduce((e,t)=>{const n=e[t.startTime]||[];return n.push(t),e[t.startTime]=n,e},{}),c=Object.keys(l).sort((e,t)=>Number(e)-Number(t));c.forEach((e,t)=>{const n=l[e],r=isFinite(i)?i:e,a=Number(c[t+1])||r;n.forEach(e=>{e.endTime=a})})},LK={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},RK=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),MK=(e,t,n)=>{e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,_X.browser.IS_ANY_SAFARI||(e.metadataTrack_.inBandMetadataTrackDispatchType=t))},NK=function(e,t,n){let i,r;if(n&&n.cues)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime>=e&&r.endTime<=t&&n.removeCue(r)},jK=e=>"number"==typeof e&&isFinite(e),BK=1/60,FK=e=>{const{startOfSegment:t,duration:n,segment:i,part:r,playlist:{mediaSequence:a,id:s,segments:o=[]},mediaIndex:l,partIndex:c,timeline:u}=e,d=o.length-1;let h="mediaIndex/partIndex increment";e.getMediaInfoForTime?h=`getMediaInfoForTime (${e.getMediaInfoForTime})`:e.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(h+=` with independent ${e.independent}`);const p="number"==typeof c,f=e.segment.uri?"segment":"pre-segment",m=p?VX({preloadSegment:i})-1:0;return`${f} [${a+l}/${a+d}]`+(p?` part [${c}/${m}]`:"")+` segment start/end [${i.start} => ${i.end}]`+(p?` part start/end [${r.start} => ${r.end}]`:"")+` startOfSegment [${t}]`+` duration [${n}]`+` timeline [${u}]`+` selected by [${h}]`+` playlist [${s}]`},UK=e=>`${e}TimingInfo`,$K=({timelineChangeController:e,currentTimeline:t,segmentTimeline:n,loaderType:i,audioDisabled:r})=>{if(t===n)return!1;if("audio"===i){const t=e.lastTimelineChange({type:"main"});return!t||t.to!==n}if("main"===i&&r){const t=e.pendingTimelineChange({type:"audio"});return!t||t.to!==n}return!1},VK=e=>{const t=e.pendingSegment_;if(t&&$K({timelineChangeController:e.timelineChangeController_,currentTimeline:e.currentTimeline_,segmentTimeline:t.timeline,loaderType:e.loaderType_,audioDisabled:e.audioDisabled_})&&(e=>{if(!e)return!1;const t=e.pendingTimelineChange({type:"audio"}),n=e.pendingTimelineChange({type:"main"}),i=t&&n,r=i&&t.to!==n.to;return!(!i||-1===t.from||-1===n.from||!r)})(e.timelineChangeController_)){if((e=>{const t=e.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=e.timelineChangeController_.pendingTimelineChange({type:"main"});return t&&n&&t.to<n.to})(e))return void e.timelineChangeController_.trigger("audioTimelineBehind");e.timelineChangeController_.trigger("fixBadTimelineChange")}},qK=({segmentDuration:e,maxDuration:t})=>!!e&&Math.round(e)>t+IX,zK=(e,t)=>{if("hls"!==t)return null;const n=(e=>{let t=0;return["video","audio"].forEach(function(n){const i=e[`${n}TimingInfo`];if(!i)return;const{start:r,end:a}=i;let s;"bigint"==typeof r||"bigint"==typeof a?s=GF.BigInt(a)-GF.BigInt(r):"number"==typeof r&&"number"==typeof a&&(s=a-r),void 0!==s&&s>t&&(t=s)}),"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t})({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;const i=e.playlist.targetDuration,r=qK({segmentDuration:n,maxDuration:2*i}),a=qK({segmentDuration:n,maxDuration:i}),s=`Segment with index ${e.mediaIndex} from playlist ${e.playlist.id} has a duration of ${n} when the reported duration is ${e.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return r||a?{severity:r?"warn":"info",message:s}:null},HK=({type:e,segment:t})=>{if(!t)return;const n=Boolean(t.key||t.map&&t.map.ke),i=Boolean(t.map&&!t.map.bytes),r=void 0===t.startOfSegment?t.start:t.startOfSegment;return{type:e||t.type,uri:t.resolvedUri||t.uri,start:r,duration:t.duration,isEncrypted:n,isMediaInitialization:i}};class WK extends _X.EventTarget{constructor(e,t={}){if(super(),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=CX(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(e){e!==this.state_&&(this.logger_(`${this.state_} -> ${e}`),this.state_=e,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():VK(this)}),this.sourceUpdater_.on("codecschange",e=>{this.trigger(EU({type:"codecschange"},e))}),"main"===this.loaderType_&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():VK(this)}),"audio"===this.loaderType_&&this.timelineChangeController_.on("timelinechange",e=>{this.trigger(EU({type:"timelinechange"},e)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():VK(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():VK(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return oK({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&GF.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if("WAITING"!==this.state)return this.pendingSegment_&&(this.pendingSegment_=null),void this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,GF.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)}error(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&sK(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return OX();if("main"===this.loaderType_){const{hasAudio:t,hasVideo:n,isMuxed:i}=e;if(n&&t&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;const n=LY(e);let i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,t=!1){if(!e)return null;const n=RY(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const r={resolvedUri:(i||e).resolvedUri};return i&&(r.bytes=i.bytes),r}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,t={}){if(!e)return;if(this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));let r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_(`playlist update [${r} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:\ncurrentTime: ${this.currentTime_()}\nbufferedEnd: ${jX(this.buffered_())}\n`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri)return null!==this.mediaIndex&&(e.endList||"number"!=typeof e.partTargetDuration?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");const a=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${a}]`),null!==this.mediaIndex)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const e=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!e.parts||!e.parts.length||!e.parts[this.partIndex])){const e=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=e}}i&&(i.mediaIndex-=a,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(GF.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return null===this.checkBufferTimeout_}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&sK(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;"hls"===this.sourceType_&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t,n=()=>{},i=!1){if(t===1/0&&(t=this.duration_()),t<=e)return void this.logger_("skipping remove because end ${end} is <= start ${start}");if(!this.sourceUpdater_||!this.getMediaInfo_())return void this.logger_("skipping remove because no source updater or starting media info");let r=1;const a=()=>{r--,0===r&&n()};!i&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,a)),(i||"main"===this.loaderType_)&&(this.gopBuffer_=((e,t,n,i)=>{const r=Math.ceil((t-i)*nq.ONE_SECOND_IN_TS),a=Math.ceil((n-i)*nq.ONE_SECOND_IN_TS),s=e.slice();let o=e.length;for(;o--&&!(e[o].pts<=a););if(-1===o)return s;let l=o+1;for(;l--&&!(e[l].pts<=r););return l=Math.max(l,0),s.splice(l,o-l+1),s})(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,a));for(const s in this.inbandTextTracks_)NK(e,t,this.inbandTextTracks_[s]);NK(e,t,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&GF.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=GF.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&GF.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=GF.setTimeout(this.monitorBufferTick_.bind(this),500)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const t={segmentInfo:HK({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:t}),"number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,n=this.partIndex){if(!t||!this.mediaSource_)return!1;const i="number"==typeof e&&t.segments[e],r=e+1===t.segments.length,a=!i||!i.parts||n+1===i.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&r&&a}chooseNextRequest_(){const e=this.buffered_(),t=jX(e)||0,n=BX(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,r=n>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||i||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const s={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(s.isSyncRequest)s.mediaIndex=function(e,t,n){t=t||[];const i=[];let r=0;for(let a=0;a<t.length;a++){const s=t[a];if(e===s.timeline&&(i.push(a),r+=s.duration,r>n))return a}return 0===i.length?0:i[i.length-1]}(this.currentTimeline_,a,t),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${s.mediaIndex}`);else if(null!==this.mediaIndex){const e=a[this.mediaIndex],n="number"==typeof this.partIndex?this.partIndex:-1;s.startOfSegment=e.end?e.end:t,e.parts&&e.parts[n+1]?(s.mediaIndex=this.mediaIndex,s.partIndex=n+1):s.mediaIndex=this.mediaIndex+1}else{let e,n,i;const r=this.fetchAtBuffer_?t:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:\nFor TargetTime: ${r}.\nCurrentTime: ${this.currentTime_()}\nBufferedEnd: ${t}\nFetch At Buffer: ${this.fetchAtBuffer_}\n`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const t=this.getSyncInfoFromMediaSequenceSync_(r);if(!t){const e="No sync info found while using media sequence sync";return this.error({message:e,metadata:{errorType:_X.Error.StreamingFailedToSelectNextSegment,error:new Error(e)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${t.start} --\x3e ${t.end})`),e=t.segmentIndex,n=t.partIndex,i=t.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const t=nY.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:r,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});e=t.segmentIndex,n=t.partIndex,i=t.startTime}s.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${r}`:`currentTime ${r}`,s.mediaIndex=e,s.startOfSegment=i,s.partIndex=n,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${s.mediaIndex} `)}const o=a[s.mediaIndex];let l=o&&"number"==typeof s.partIndex&&o.parts&&o.parts[s.partIndex];if(!o||"number"==typeof s.partIndex&&!l)return null;"number"!=typeof s.partIndex&&o.parts&&(s.partIndex=0,l=o.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&l&&!c&&!l.independent)if(0===s.partIndex){const e=a[s.mediaIndex-1],t=e.parts&&e.parts.length&&e.parts[e.parts.length-1];t&&t.independent&&(s.mediaIndex-=1,s.partIndex=e.parts.length-1,s.independent="previous segment")}else o.parts[s.partIndex-1].independent&&(s.partIndex-=1,s.independent="previous part");const u=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return s.mediaIndex>=a.length-1&&u&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,s.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(s))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const t=Math.max(e,this.mediaSequenceSync_.start);e!==t&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${t}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(t);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:t,playlist:n,mediaIndex:i,startOfSegment:r,isSyncRequest:a,partIndex:s,forceTimestampOffset:o,getMediaInfoForTime:l}=e,c=n.segments[i],u="number"==typeof s&&c.parts[s],d={requestId:"segment-loader-"+Math.random(),uri:u&&u.resolvedUri||c.resolvedUri,mediaIndex:i,partIndex:u?s:null,isSyncRequest:a,startOfSegment:r,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:u&&u.duration||c.duration,segment:c,part:u,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},h=void 0!==o?o:this.isPendingTimestampOffset_;d.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:h});const p=jX(this.sourceUpdater_.audioBuffered());return"number"==typeof p&&(d.audioAppendStart=p-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(d.gopsToAlignWith=((e,t,n)=>{if(null==t||!e.length)return[];const i=Math.ceil((t-n+3)*nq.ONE_SECOND_IN_TS);let r;for(r=0;r<e.length&&!(e[r].pts>i);r++);return e.slice(r)})(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),d}timestampOffsetForSegment_(e){return(({segmentTimeline:e,currentTimeline:t,startOfSegment:n,buffered:i,overrideCheck:r})=>r||e!==t?e<t?n:i.length?i.end(i.length-1):n:null)(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,r=nY.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),a=function(e,t,n=1){return((e.length?e.end(e.length-1):0)-t)/n}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(r<=a)return;const s=function(e){const{main:t,currentTime:n,bandwidth:i,duration:r,segmentDuration:a,timeUntilRebuffer:s,currentTimeline:o,syncController:l}=e,c=t.playlists.filter(e=>!nY.isIncompatible(e));let u=c.filter(nY.isEnabled);u.length||(u=c.filter(e=>!nY.isDisabled(e)));const d=u.filter(nY.hasAttribute.bind(null,"BANDWIDTH")).map(e=>{const t=l.getSyncPoint(e,r,o,n)?1:2;return{playlist:e,rebufferingImpact:nY.estimateSegmentRequestTime(a,i,e)*t-s}}),h=d.filter(e=>e.rebufferingImpact<=0);return CK(h,(e,t)=>EK(t.playlist,e.playlist)),h.length?h[0]:(CK(d,(e,t)=>e.rebufferingImpact-t.rebufferingImpact),d[0]||null)}({main:this.vhs_.playlists.main,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!s)return;const o=r-a-s.rebufferingImpact;let l=.5;a<=IX&&(l=1),!s.playlist||s.playlist.uri===this.playlist_.uri||o<l||(this.bandwidth=s.playlist.attributes.BANDWIDTH*XY.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${FK(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")}handleTrackInfo_(e,t){const{hasAudio:n,hasVideo:i}=t,r={segmentInfo:HK({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:n,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:r}),this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;const n=Object.keys(e).sort(),i=Object.keys(t).sort();if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++){const a=n[r];if(a!==i[r])return!1;if(e[a]!==t[a])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()?this.processCallQueue_():VK(this)))}handleTimingInfo_(e,t,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const r=this.pendingSegment_,a=UK(t);r[a]=r[a]||{},r[a][n]=i,this.logger_(`timinginfo: ${t} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():VK(this)}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(0===t.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));const n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),i={};t.forEach(e=>{i[e.stream]=i[e.stream]||{startTime:1/0,captions:[],endTime:0};const t=i[e.stream];t.startTime=Math.min(t.startTime,e.startTime+n),t.endTime=Math.max(t.endTime,e.endTime+n),t.captions.push(e)}),Object.keys(i).forEach(e=>{const{startTime:t,endTime:r,captions:a}=i[e],s=this.inbandTextTracks_;this.logger_(`adding cues from ${t} -> ${r} for ${e}`),function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"});let i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);const r=t.textTracks().getTrackById(i);if(r)e[n]=r;else{let r=n,a=n,s=!1;const o=(t.options_.vhs&&t.options_.vhs.captionServices||{})[i];o&&(r=o.label,a=o.language,s=o.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:i,default:s,label:r,language:a},!1).track}}}(s,this.vhs_.tech_,e),NK(t,r,s[e]),function({inbandTextTracks:e,captionArray:t,timestampOffset:n}){if(!t)return;const i=GF.WebKitDataCue||GF.VTTCue;t.forEach(t=>{const r=t.stream;t.content?t.content.forEach(a=>{const s=new i(t.startTime+n,t.endTime+n,a.text);s.line=a.line,s.align="left",s.position=a.position,s.positionAlign="line-left",e[r].addCue(s)}):e[r].addCue(new i(t.startTime+n,t.endTime+n,t.text))})}({captionArray:a,inbandTextTracks:s,timestampOffset:n})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,n){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||(this.pendingSegment_.hasAppendedData_?this.addMetadataToTextTrack(n,t,this.duration_()):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n)))}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(e=>e())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(e=>e())}hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;const e=this.pendingSegment_;return!(!e||this.getCurrentMediaInfo_()&&$K({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;const{hasAudio:n,hasVideo:i,isMuxed:r}=t;return!(i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!r&&!e.audioTimingInfo||$K({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return VK(this),void this.callQueue_.push(this.handleData_.bind(this,e,t));const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[UK(t.type)].start;else{const e=this.getCurrentMediaInfo_(),t="main"===this.loaderType_&&e&&e.hasVideo;let i;t&&(i=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:t,firstVideoFrameTimeForData:i,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});const e=this.chooseNextRequest_();if(e.mediaIndex!==n.mediaIndex||e.partIndex!==n.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}updateAppendInitSegmentStatus(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:t,map:n,playlist:i}){if(n){const e=LY(n);if(this.activeInitSegmentId_===e)return null;t=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=e}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n},i){const r=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();r.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+NX(r).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+NX(a).join(", "));const s=r.length?r.start(0):0,o=r.length?r.end(r.length-1):0,l=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0;if(o-s<=1&&c-l<=1)return this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${NX(r).join(", ")}, video buffer: ${NX(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:t,bytes:n}));const u=this.currentTime_()-1;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${u}`),this.remove(0,u,()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=GF.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},1e3)},!0)}handleAppendError_({segmentInfo:e,type:t,bytes:n},i){i&&(22!==i.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${t} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:_X.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n}))}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:n,data:i,bytes:r}){if(!r){const e=[i];let t=i.byteLength;n&&(e.unshift(n),t+=n.byteLength),r=(e=>{let t,n=0;return e.bytes&&(t=new Uint8Array(e.bytes),e.segments.forEach(e=>{t.set(e,n),n+=e.byteLength})),t})({bytes:t,segments:e})}const a={segmentInfo:HK({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:r},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:r}))}handleSegmentTimingInfo_(e,t,n){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,r=`${e}TimingInfo`;i[r]||(i[r]={}),i[r].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[r].transmuxedPresentationStart=n.start.presentation,i[r].transmuxedDecodeStart=n.start.decode,i[r].transmuxedPresentationEnd=n.end.presentation,i[r].transmuxedDecodeEnd=n.end.decode,i[r].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,t){const{type:n,data:i}=t;if(!i||!i.byteLength)return;if("audio"===n&&this.audioDisabled_)return;const r=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_())return VK(this),void this.loadQueue_.push(()=>{const t=EU({},e,{forceTimestampOffset:!0});EU(e,this.generateSegmentInfo_(t)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const t=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=null!==this.mediaIndex,r=e.timeline!==this.currentTimeline_&&e.timeline>0,a=n||i&&r;this.logger_(`Requesting\n${DK(e.uri)}\n${FK(e)}`),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=wK({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:t,level:n,stream:i})=>{this.logger_(`${FK(e)} logged from transmuxer stream ${i} as a ${n}: ${t}`)},triggerSegmentEventFn:({type:e,segment:t,keyInfo:n,trackInfo:i,timingInfo:r})=>{const a={segmentInfo:HK({segment:t})};n&&(a.keyInfo=n),i&&(a.trackInfo=i),r&&(a.timingInfo=r),this.trigger({type:e,metadata:a})}})}trimBackBuffer_(e){const t=((e,t,n)=>{let i=t-XY.BACK_BUFFER_LENGTH;e.length&&(i=Math.max(i,e.start(0)));const r=t-n;return Math.min(r,i)})(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}createSimplifiedSegmentObj_(e){const t=e.segment,n=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,r=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:r},s=e.playlist.segments[e.mediaIndex-1];if(s&&s.timeline===t.timeline&&(s.videoTimingInfo?a.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd:s.audioTimingInfo&&(a.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd)),t.key){const n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(t.key),a.key.iv=n}return t.map&&(a.map=this.initSegmentForMap(t.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){if(this.pendingSegment_.byteLength=t.bytesReceived,e<BK)return void this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record 0.016666666666666666`);const n={bandwidthInfo:{from:this.bandwidth,to:t.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:n}),this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,n){if(this.callQueue_.length)return void this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return;if(t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===dK)return;return this.pause(),e.code===uK?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),i.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=((e,t,n)=>{if(!t.length)return e;if(n)return t.slice();const i=t[0].pts;let r=0;for(;r<e.length&&!(e[r].pts>=i);r++);return e.slice(0,r).concat(t)})(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:r,useVideoTimingInfo:a,videoTimingInfo:s,audioTimingInfo:o}){if(void 0!==e)return e;if(!a)return o.start;const l=t.segments[n-1];return 0!==n&&l&&void 0!==l.start&&l.end===i+r?s.start:i}waitForAppendsToComplete_(e){const t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),void this.trigger("error");const{hasAudio:n,hasVideo:i,isMuxed:r}=t,a="main"===this.loaderType_&&i,s=!this.audioDisabled_&&n&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);a&&e.waitingOnAppends++,s&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),s&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const t=((e,t,n)=>"main"===e&&t&&n?n.hasAudio||n.hasVideo?t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null)(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,playlistExclusionDuration:1/0}),this.trigger("error"),!0)}updateSourceBufferTimestampOffset_(e){if(null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_)return;let t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&"number"==typeof e.transmuxedDecodeStart?e.transmuxedDecodeStart:t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const t=this.getMediaInfo_(),n="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end="number"==typeof n.end?n.end:n.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const e={segmentInfo:HK({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:e})}if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});const t=zK(e,this.sourceType_);if(t&&("warn"===t.severity?_X.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_))return void this.logger_(`Throwing away un-appended sync request ${FK(e)}`);this.logger_(`Appended ${FK(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,r=n.end&&this.currentTime_()-n.end>3*e.playlist.targetDuration,a=i&&i.end&&this.currentTime_()-i.end>3*e.playlist.partTargetDuration;if(r||a)return this.logger_(`bad ${r?"segment":"part"} ${FK(e)}`),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<BK)return void this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record 0.016666666666666666`);const t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const t=e.segment,n=t.start,i=t.end;if(!jK(n)||!jK(i))return;NK(n,i,this.segmentMetadataTrack_);const r=GF.WebKitDataCue||GF.VTTCue,a={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,programDateTime:t.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},s=new r(n,i,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}function GK(){}const XK=function(e){return"string"!=typeof e?e:e.replace(/./,e=>e.toUpperCase())},YK=["video","audio"],KK=(e,t)=>{const n=t[`${e}Buffer`];return n&&n.updating||t.queuePending[e]},QK=(e,t)=>{if(0===t.queue.length)return;let n=0,i=t.queue[n];if("mediaSource"!==i.type){if("mediaSource"!==e&&t.ready()&&"closed"!==t.mediaSource.readyState&&!KK(e,t)){if(i.type!==e){if(n=((e,t)=>{for(let n=0;n<t.length;n++){const i=t[n];if("mediaSource"===i.type)return null;if(i.type===e)return n}return null})(e,t.queue),null===n)return;i=t.queue[n]}return t.queue.splice(n,1),t.queuePending[e]=i,i.action(e,t),i.doneFn?void 0:(t.queuePending[e]=null,void QK(e,t))}}else t.updating()||"closed"===t.mediaSource.readyState||(t.queue.shift(),i.action(t),i.doneFn&&i.doneFn(),QK("audio",t),QK("video",t))},JK=(e,t)=>{const n=t[`${e}Buffer`],i=XK(e);n&&(n.removeEventListener("updateend",t[`on${i}UpdateEnd_`]),n.removeEventListener("error",t[`on${i}Error_`]),t.codecs[e]=null,t[`${e}Buffer`]=null)},ZK=(e,t)=>e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t),eQ=(e,t,n)=>(i,r)=>{const a=r[`${i}Buffer`];if(ZK(r.mediaSource,a)){r.logger_(`Appending segment ${t.mediaIndex}'s ${e.length} bytes to ${i}Buffer`);try{a.appendBuffer(e)}catch(xZ){r.logger_(`Error with code ${xZ.code} `+(22===xZ.code?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${t.mediaIndex} to ${i}Buffer`),r.queuePending[i]=null,n(xZ)}}},tQ=(e,t)=>(n,i)=>{const r=i[`${n}Buffer`];if(ZK(i.mediaSource,r)){i.logger_(`Removing ${e} to ${t} from ${n}Buffer`);try{r.remove(e,t)}catch(xZ){i.logger_(`Remove ${e} to ${t} from ${n}Buffer failed`)}}},nQ=e=>(t,n)=>{const i=n[`${t}Buffer`];ZK(n.mediaSource,i)&&(n.logger_(`Setting ${t}timestampOffset to ${e}`),i.timestampOffset=e)},iQ=e=>(t,n)=>{e()},rQ=e=>t=>{if("open"===t.mediaSource.readyState){t.logger_(`Calling mediaSource endOfStream(${e||""})`);try{t.mediaSource.endOfStream(e)}catch(xZ){_X.log.warn("Failed to call media source endOfStream",xZ)}}},aQ=e=>t=>{t.logger_(`Setting mediaSource duration to ${e}`);try{t.mediaSource.duration=e}catch(xZ){_X.log.warn("Failed to set media source duration",xZ)}},sQ=()=>(e,t)=>{if("open"!==t.mediaSource.readyState)return;const n=t[`${e}Buffer`];if(ZK(t.mediaSource,n)){t.logger_(`calling abort on ${e}Buffer`);try{n.abort()}catch(xZ){_X.log.warn(`Failed to abort on ${e}Buffer`,xZ)}}},oQ=(e,t)=>n=>{const i=XK(e),r=XU(t);n.logger_(`Adding ${e}Buffer with codec ${t} to mediaSource`);const a=n.mediaSource.addSourceBuffer(r);a.addEventListener("updateend",n[`on${i}UpdateEnd_`]),a.addEventListener("error",n[`on${i}Error_`]),n.codecs[e]=t,n[`${e}Buffer`]=a},lQ=e=>t=>{const n=t[`${e}Buffer`];if(JK(e,t),ZK(t.mediaSource,n)){t.logger_(`Removing ${e}Buffer with codec ${t.codecs[e]} from mediaSource`);try{t.mediaSource.removeSourceBuffer(n)}catch(xZ){_X.log.warn(`Failed to removeSourceBuffer ${e}Buffer`,xZ)}}},cQ=e=>(t,n)=>{const i=n[`${t}Buffer`],r=XU(e);if(!ZK(n.mediaSource,i))return;const a=e.substring(0,e.indexOf(".")),s=n.codecs[t];if(s.substring(0,s.indexOf("."))===a)return;const o={codecsChangeInfo:{from:s,to:e}};n.trigger({type:"codecschange",metadata:o}),n.logger_(`changing ${t}Buffer codec from ${s} to ${e}`);try{i.changeType(r),n.codecs[t]=e}catch(xZ){o.errorType=_X.Error.StreamingCodecsChangeError,o.error=xZ,xZ.metadata=o,n.error_=xZ,n.trigger("error"),_X.log.warn(`Failed to changeType on ${t}Buffer`,xZ)}},uQ=({type:e,sourceUpdater:t,action:n,doneFn:i,name:r})=>{t.queue.push({type:e,action:n,doneFn:i,name:r}),QK(e,t)},dQ=(e,t)=>n=>{const i=function(e){if(0===e.length)return"Buffered Ranges are empty";let t="Buffered Ranges: \n";for(let n=0;n<e.length;n++){const i=e.start(n),r=e.end(n);t+=`${i} --\x3e ${r}. Duration (${r-i})\n`}return t}(t[`${e}Buffered`]());if(t.logger_(`received "updateend" event for ${e} Source Buffer: `,i),t.queuePending[e]){const n=t.queuePending[e].doneFn;t.queuePending[e]=null,n&&n(t[`${e}Error_`])}QK(e,t)};class hQ extends _X.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>QK("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=CX("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=dQ("video",this),this.onAudioUpdateEnd_=dQ("audio",this),this.onVideoError_=e=>{this.videoError_=e},this.onAudioError_=e=>{this.audioError_=e},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){uQ({type:"mediaSource",sourceUpdater:this,action:oQ(e,t),name:"addSourceBuffer"})}abort(e){uQ({type:e,sourceUpdater:this,action:sQ(e),name:"abort"})}removeSourceBuffer(e){this.canRemoveSourceBuffer()?uQ({type:"mediaSource",sourceUpdater:this,action:lQ(e),name:"removeSourceBuffer"}):_X.log.error("removeSourceBuffer is not supported!")}canRemoveSourceBuffer(){return!_X.browser.IS_FIREFOX&&GF.MediaSource&&GF.MediaSource.prototype&&"function"==typeof GF.MediaSource.prototype.removeSourceBuffer}static canChangeType(){return GF.SourceBuffer&&GF.SourceBuffer.prototype&&"function"==typeof GF.SourceBuffer.prototype.changeType}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){this.canChangeType()?uQ({type:e,sourceUpdater:this,action:cQ(t),name:"changeType"}):_X.log.error("changeType is not supported!")}addOrChangeSourceBuffers(e){if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(t=>{const n=e[t];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(t,n);this.canChangeType()&&this.changeType(t,n)})}appendBuffer(e,t){const{segmentInfo:n,type:i,bytes:r}=e;if(this.processedAppend_=!0,"audio"===i&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_(`delayed audio append of ${r.length} until video append`);if(uQ({type:i,sourceUpdater:this,action:eQ(r,n||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===i){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const e=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${e.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,e.forEach(e=>{this.appendBuffer.apply(this,e)})}}audioBuffered(){return ZK(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:OX()}videoBuffered(){return ZK(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:OX()}buffered(){const e=ZK(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=ZK(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){let n=null,i=null,r=0;const a=[],s=[];if(!(e&&e.length&&t&&t.length))return OX();let o=e.length;for(;o--;)a.push({time:e.start(o),type:"start"}),a.push({time:e.end(o),type:"end"});for(o=t.length;o--;)a.push({time:t.start(o),type:"start"}),a.push({time:t.end(o),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),o=0;o<a.length;o++)"start"===a[o].type?(r++,2===r&&(n=a[o].time)):"end"===a[o].type&&(r--,1===r&&(i=a[o].time)),null!==n&&null!==i&&(s.push([n,i]),n=null,i=null);return OX(s)}(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=GK){uQ({type:"mediaSource",sourceUpdater:this,action:aQ(e),name:"duration",doneFn:t})}endOfStream(e=null,t=GK){"string"!=typeof e&&(e=void 0),uQ({type:"mediaSource",sourceUpdater:this,action:rQ(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,n=GK){this.audioBuffered().length&&0!==this.audioBuffered().end(0)?uQ({type:"audio",sourceUpdater:this,action:tQ(e,t),doneFn:n,name:"remove"}):n()}removeVideo(e,t,n=GK){this.videoBuffered().length&&0!==this.videoBuffered().end(0)?uQ({type:"video",sourceUpdater:this,action:tQ(e,t),doneFn:n,name:"remove"}):n()}updating(){return!(!KK("audio",this)&&!KK("video",this))}audioTimestampOffset(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(uQ({type:"audio",sourceUpdater:this,action:nQ(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(uQ({type:"video",sourceUpdater:this,action:nQ(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&uQ({type:"audio",sourceUpdater:this,action:iQ(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&uQ({type:"video",sourceUpdater:this,action:iQ(e),name:"callback"})}dispose(){this.trigger("dispose"),YK.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>JK(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const pQ=e=>decodeURIComponent(escape(String.fromCharCode.apply(null,e))),fQ=new Uint8Array("\n\n".split("").map(e=>e.charCodeAt(0)));class mQ extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class gQ extends WK{constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return OX();const e=this.subtitlesTrack_.cues;return OX([[e[0].startTime,e[e.length-1].startTime]])}initSegmentForMap(e,t=!1){if(!e)return null;const n=LY(e);let i=this.initSegments_[n];if(t&&!i&&e.bytes){const t=fQ.byteLength+e.bytes.byteLength,r=new Uint8Array(t);r.set(e.bytes),r.set(fQ,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:r}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}remove(e,t){NK(e,t,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){const e=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};return this.syncController_.one("timestampoffset",e),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,n){if(!this.subtitlesTrack_)return void(this.state="READY");if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===uK&&this.handleTimeout_(),e.code===dK?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);const i=this.pendingSegment_,r=n.mp4VttCues&&n.mp4VttCues.length;r&&(i.mp4VttCues=n.mp4VttCues),this.saveBandwidthRelatedStats_(i.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");const a=i.segment;if(a.map&&(a.map.bytes=t.map.bytes),i.bytes=t.bytes,"function"!=typeof GF.WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then(()=>this.segmentRequestFinished_(e,t,n),()=>this.stopForError({message:"Error loading vtt.js"}));a.requested=!0;try{this.parseVTTCues_(i)}catch(xZ){return void this.stopForError({message:xZ.message,metadata:{errorType:_X.Error.StreamingVttParserError,error:xZ}})}if(r||this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,i.cues.forEach(e=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new GF.VTTCue(e.startTime,e.endTime,e.text):e)}),function(e){const t=e.cues;if(!t)return;const n={};for(let i=t.length-1;i>=0;i--){const r=t[i],a=`${r.startTime}-${r.endTime}-${r.text}`;n[a]?e.removeCue(r):n[a]=r}}(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,t){const n=e&&"vtt"===e.type,i=t&&"text"===t.type;n&&i&&super.handleData_(e,t)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const t=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(n=>{const i=n.start+t,r=n.end+t,a=new GF.VTTCue(i,r,n.cueText);n.settings&&n.settings.split(" ").forEach(e=>{const t=e.split(":"),n=t[0],i=t[1];a[n]=isNaN(i)?i:Number(i)}),e.cues.push(a)})}parseVTTCues_(e){let t,n=!1;if("function"!=typeof GF.WebVTT)throw new mQ;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues)return void this.parseMp4VttCues_(e);"function"==typeof GF.TextDecoder?t=new GF.TextDecoder("utf8"):(t=GF.WebVTT.StringDecoder(),n=!0);const i=new GF.WebVTT.Parser(GF,GF.vttjs,t);if(i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=t=>{e.timestampmap=t},i.onparsingerror=e=>{_X.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){let t=e.segment.map.bytes;n&&(t=pQ(t)),i.parse(t)}let r=e.bytes;n&&(r=pQ(r)),i.parse(r),i.flush()}updateTimeMapping_(e,t,n){const i=e.segment;if(!t)return;if(!e.cues.length)return void(i.empty=!0);const{MPEGTS:r,LOCAL:a}=e.timestampmap,s=r/nq.ONE_SECOND_IN_TS-a+t.mapping;if(e.cues.forEach(e=>{const n=e.endTime-e.startTime,i=this.handleRollover_(e.startTime+s,t.time);e.startTime=Math.max(i,0),e.endTime=Math.max(i+n,0)}),!n.syncInfo){const t=e.cues[0].startTime,r=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(t,r-i.duration)}}}handleRollover_(e,t){if(null===t)return e;let n=e*nq.ONE_SECOND_IN_TS;const i=t*nq.ONE_SECOND_IN_TS;let r;for(r=i<n?-8589934592:8589934592;Math.abs(n-i)>4294967296;)n+=r;return n/nq.ONE_SECOND_IN_TS}}const vQ=function(e,t){const n=e.cues;for(let i=0;i<n.length;i++){const e=n[i];if(t>=e.adStartTime&&t<=e.adEndTime)return e}return null};class yQ{constructor({start:e,end:t,segmentIndex:n,partIndex:i=null,appended:r=!1}){this.start_=e,this.end_=t,this.segmentIndex_=n,this.partIndex_=i,this.appended_=r}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class bQ{constructor(e,t=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=t}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class _Q{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,t){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,i,t))}getSyncInfoForTime(e){for(const{segmentSyncInfo:t,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const i of n)if(i.isInRange(e))return i}else if(t.isInRange(e))return t;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,t,n){const i=new Map;let r="\n",a=n,s=t;this.start_=a,e.forEach((e,t)=>{const n=this.storage_.get(s),o=a,l=o+e.duration,c=Boolean(n&&n.segmentSyncInfo&&n.segmentSyncInfo.isAppended),u=new yQ({start:o,end:l,appended:c,segmentIndex:t});e.syncInfo=u;let d=a;const h=(e.parts||[]).map((e,i)=>{const a=d,o=d+e.duration,l=Boolean(n&&n.partsSyncInfo&&n.partsSyncInfo[i]&&n.partsSyncInfo[i].isAppended),c=new yQ({start:a,end:o,appended:l,segmentIndex:t,partIndex:i});return d=o,r+=`Media Sequence: ${s}.${i} | Range: ${a} --\x3e ${o} | Appended: ${l}\n`,e.syncInfo=c,c});i.set(s,new bQ(u,h)),r+=`${DK(e.resolvedUri)} | Media Sequence: ${s} | Range: ${o} --\x3e ${l} | Appended: ${c}\n`,s++,a=l}),this.end_=a,this.storage_=i,this.diagnostics_=r}calculateBaseTime_(e,t,n){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const i=Math.min(...this.storage_.keys());if(e<i){const n=i-e;let r=this.storage_.get(i).segmentSyncInfo.start;for(let e=0;e<n;e++)r-=t[e].duration;return r}return n}isReliablePlaylist_(e,t){return null!=e&&Array.isArray(t)&&t.length}}class TQ extends _Q{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,t,n){if(!this.storage_.size){const t=this.parent_.getSyncInfoForMediaSequence(e);return t?t.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,t,n)}}const SQ=[{name:"VOD",run:(e,t,n,i,r)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(e,t,n,i,r,a)=>{const s=e.getMediaSequenceSync(a);if(!s)return null;if(!s.isReliable)return null;const o=s.getSyncInfoForTime(r);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(e,t,n,i,r)=>{if(!Object.keys(e.timelineToDatetimeMappings).length)return null;let a=null,s=null;const o=UX(t);r=r||0;for(let l=0;l<o.length;l++){const n=o[t.endList||0===r?l:o.length-(l+1)],i=n.segment,c=e.timelineToDatetimeMappings[i.timeline];if(!c||!i.dateTimeObject)continue;let u=i.dateTimeObject.getTime()/1e3+c;if(i.parts&&"number"==typeof n.partIndex)for(let e=0;e<n.partIndex;e++)u+=i.parts[e].duration;const d=Math.abs(r-u);if(null!==s&&(0===d||s<d))break;s=d,a={time:u,segmentIndex:n.segmentIndex,partIndex:n.partIndex}}return a}},{name:"Segment",run:(e,t,n,i,r)=>{let a=null,s=null;r=r||0;const o=UX(t);for(let l=0;l<o.length;l++){const e=o[t.endList||0===r?l:o.length-(l+1)],n=e.segment,c=e.part&&e.part.start||n&&n.start;if(n.timeline===i&&void 0!==c){const t=Math.abs(r-c);if(null!==s&&s<t)break;(!a||null===s||s>=t)&&(s=t,a={time:c,segmentIndex:e.segmentIndex,partIndex:e.partIndex})}}return a}},{name:"Discontinuity",run:(e,t,n,i,r)=>{let a=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length){let n=null;for(let i=0;i<t.discontinuityStarts.length;i++){const s=t.discontinuityStarts[i],o=t.discontinuitySequence+i+1,l=e.discontinuities[o];if(l){const e=Math.abs(r-l.time);if(null!==n&&n<e)break;(!a||null===n||n>=e)&&(n=e,a={time:l.time,segmentIndex:s,partIndex:null})}}}return a}},{name:"Playlist",run:(e,t,n,i,r)=>t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}];class wQ extends _X.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const t=new _Q,n=new TQ(t),i=new TQ(t);this.mediaSequenceStorage_={main:t,audio:n,vtt:i},this.logger_=CX("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,t,n,i,r){if(t!==1/0){const n=SQ.find(({name:e})=>"VOD"===e);return n.run(this,e,t)}const a=this.runStrategies_(e,t,n,i,r);if(!a.length)return null;for(const s of a){const{syncPoint:t,strategy:n}=s,{segmentIndex:r,time:a}=t;if(r<0)continue;const o=a,l=o+e.segments[r].duration;if(this.logger_(`Strategy: ${n}. Current time: ${i}. selected segment: ${r}. Time: [${o} -> ${l}]}`),i>=o&&i<l)return this.logger_("Found sync point with exact match: ",t),t}return this.selectSyncPoint_(a,{key:"time",value:i})}getExpiredTime(e,t){if(!e||!e.segments)return null;const n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+WX({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,t,n,i,r){const a=[];for(let s=0;s<SQ.length;s++){const o=SQ[s],l=o.run(this,e,t,n,i,r);l&&(l.strategy=o.name,a.push({strategy:o.name,syncPoint:l}))}return a}selectSyncPoint_(e,t){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy;for(let a=1;a<e.length;a++){const s=Math.abs(e[a].syncPoint[t.key]-t.value);s<i&&(i=s,n=e[a].syncPoint,r=e[a].strategy)}return this.logger_(`syncPoint for [${t.key}: ${t.value}] chosen with strategy [${r}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+("number"==typeof n.partIndex?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,t){const n=t.mediaSequence-e.mediaSequence;if(n>86400)_X.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);else for(let i=n-1;i>=0;i--){const n=e.segments[i];if(n&&void 0!==n.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:n.start},this.logger_(`playlist refresh sync: [time:${t.syncInfo.time}, mediaSequence: ${t.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const r=i.dateTimeObject;i.discontinuity&&t&&r&&(this.timelineToDatetimeMappings[i.timeline]=-r.getTime()/1e3)}timestampOffsetForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].time}mappingForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,n){const i=e.segment,r=e.part;let a,s,o=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)o={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${o.time}] [mapping: ${o.mapping}]`)),a=e.startOfSegment,s=t.end+o.mapping;else{if(!o)return!1;a=t.start+o.mapping,s=t.end+o.mapping}return r&&(r.start=a,r.end=s),(!i.start||a<i.start)&&(i.start=a),i.end=s,!0}saveDiscontinuitySyncInfo_(e){const t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(let i=0;i<t.discontinuityStarts.length;i++){const r=t.discontinuityStarts[i],a=t.discontinuitySequence+i+1,s=r-e.mediaIndex,o=Math.abs(s);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>o){let i;i=s<0?n.start-WX({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:r}):n.end+WX({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[a]={time:i,accuracy:o}}}}dispose(){this.trigger("dispose"),this.off()}}class AQ extends _X.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:n}){return"number"==typeof t&&"number"==typeof n&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:t,to:n}){if("number"==typeof t&&"number"==typeof n){this.lastTimelineChanges_[e]={type:e,from:t,to:n},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:t,to:n}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const kQ=QY(JY(function(){var e=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var n=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(n,1),n>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=t.length,s=0;s<a;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",function(t){e.push(t)})},e}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */let t=null;class n{constructor(e){let n,i,r;t||(t=function(){const e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],n=e[1],i=t[4],r=n[4];let a,s,o;const l=[],c=[];let u,d,h,p,f,m;for(a=0;a<256;a++)c[(l[a]=a<<1^283*(a>>7))^a]=a;for(s=o=0;!i[s];s^=u||1,o=c[o]||1)for(p=o^o<<1^o<<2^o<<3^o<<4,p=p>>8^255&p^99,i[s]=p,r[p]=s,h=l[d=l[u=l[s]]],m=16843009*h^65537*d^257*u^16843008*s,f=257*l[p]^16843008*p,a=0;a<4;a++)t[a][s]=f=f<<24^f>>>8,n[a][p]=m=m<<24^m>>>8;for(a=0;a<5;a++)t[a]=t[a].slice(0),n[a]=n[a].slice(0);return e}()),this._tables=[[t[0][0].slice(),t[0][1].slice(),t[0][2].slice(),t[0][3].slice(),t[0][4].slice()],[t[1][0].slice(),t[1][1].slice(),t[1][2].slice(),t[1][3].slice(),t[1][4].slice()]];const a=this._tables[0][4],s=this._tables[1],o=e.length;let l=1;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size");const c=e.slice(0),u=[];for(this._key=[c,u],n=o;n<4*o+28;n++)r=c[n-1],(n%o===0||8===o&&n%o===4)&&(r=a[r>>>24]<<24^a[r>>16&255]<<16^a[r>>8&255]<<8^a[255&r],n%o===0&&(r=r<<8^r>>>24^l<<24,l=l<<1^283*(l>>7))),c[n]=c[n-o]^r;for(i=0;n;i++,n--)r=c[3&i?n:n-4],u[i]=n<=4||i<4?r:s[0][a[r>>>24]]^s[1][a[r>>16&255]]^s[2][a[r>>8&255]]^s[3][a[255&r]]}decrypt(e,t,n,i,r,a){const s=this._key[1];let o,l,c,u=e^s[0],d=i^s[1],h=n^s[2],p=t^s[3];const f=s.length/4-2;let m,g=4;const v=this._tables[1],y=v[0],b=v[1],_=v[2],T=v[3],S=v[4];for(m=0;m<f;m++)o=y[u>>>24]^b[d>>16&255]^_[h>>8&255]^T[255&p]^s[g],l=y[d>>>24]^b[h>>16&255]^_[p>>8&255]^T[255&u]^s[g+1],c=y[h>>>24]^b[p>>16&255]^_[u>>8&255]^T[255&d]^s[g+2],p=y[p>>>24]^b[u>>16&255]^_[d>>8&255]^T[255&h]^s[g+3],g+=4,u=o,d=l,h=c;for(m=0;m<4;m++)r[(3&-m)+a]=S[u>>>24]<<24^S[d>>16&255]<<16^S[h>>8&255]<<8^S[255&p]^s[g++],o=u,u=d,d=h,h=p,p=o}}class i extends e{constructor(){super(e),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const r=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24};class a{constructor(e,t,n,s){const o=a.STEP,l=new Int32Array(e.buffer),c=new Uint8Array(e.byteLength);let u=0;for(this.asyncStream_=new i,this.asyncStream_.push(this.decryptChunk_(l.subarray(u,u+o),t,n,c)),u=o;u<l.length;u+=o)n=new Uint32Array([r(l[u-4]),r(l[u-3]),r(l[u-2]),r(l[u-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(u,u+o),t,n,c));this.asyncStream_.push(function(){var e;/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */s(null,(e=c).subarray(0,e.byteLength-e[e.byteLength-1]))})}static get STEP(){return 32e3}decryptChunk_(e,t,i,a){return function(){const s=function(e,t,i){const a=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),s=new n(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),l=new Int32Array(o.buffer);let c,u,d,h,p,f,m,g,v;for(c=i[0],u=i[1],d=i[2],h=i[3],v=0;v<a.length;v+=4)p=r(a[v]),f=r(a[v+1]),m=r(a[v+2]),g=r(a[v+3]),s.decrypt(p,f,m,g,l,v),l[v]=r(l[v]^c),l[v+1]=r(l[v+1]^u),l[v+2]=r(l[v+2]^d),l[v+3]=r(l[v+3]^h),c=p,u=f,d=m,h=g;return o}(e,t,i);a.set(s,e.byteOffset)}}}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=("undefined"!=typeof window?window:void 0!==s?s:"undefined"!=typeof self?self:{}).BigInt||Number;o("0x1"),o("0x100"),o("0x10000"),o("0x1000000"),o("0x100000000"),o("0x10000000000"),o("0x1000000000000"),o("0x100000000000000"),o("0x10000000000000000"),function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}();const l=function(e){const t={};return Object.keys(e).forEach(n=>{const i=e[n];var r;r=i,("function"===ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i}),t};self.onmessage=function(e){const t=e.data,n=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),i=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),r=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new a(n,i,r,function(e,n){self.postMessage(l({source:t.source,decrypted:n}),[n.buffer])})}}));var xQ=KY(kQ);const CQ=e=>{let t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},EQ=(e,t)=>{e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},OQ=(e,t)=>{t.activePlaylistLoader=e,e.load()},IQ={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:n},excludePlaylist:i}=t,r=n.activeTrack(),a=n.activeGroup(),s=(a.filter(e=>e.default)[0]||a[0]).id,o=n.tracks[s];if(r!==o){_X.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const e in n.tracks)n.tracks[e].enabled=n.tracks[e]===o;n.onTrackChanged()}else i({error:{message:"Problem encountered loading the default audio track."}})},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:n}}=t;_X.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}},DQ={AUDIO:(e,t,n)=>{if(!t)return;const{tech:i,requestOptions:r,segmentLoaders:{[e]:a}}=n;t.on("loadedmetadata",()=>{const e=t.media();a.playlist(e,r),(!i.paused()||e.endList&&"none"!==i.preload())&&a.load()}),t.on("loadedplaylist",()=>{a.playlist(t.media(),r),i.paused()||a.load()}),t.on("error",IQ[e](e,n))},SUBTITLES:(e,t,n)=>{const{tech:i,requestOptions:r,segmentLoaders:{[e]:a},mediaTypes:{[e]:s}}=n;t.on("loadedmetadata",()=>{const e=t.media();a.playlist(e,r),a.track(s.activeTrack()),(!i.paused()||e.endList&&"none"!==i.preload())&&a.load()}),t.on("loadedplaylist",()=>{a.playlist(t.media(),r),i.paused()||a.load()}),t.on("error",IQ[e](e,n))}},PQ={AUDIO:(e,t)=>{const{vhs:n,sourceType:i,segmentLoaders:{[e]:r},requestOptions:a,main:{mediaGroups:s},mediaTypes:{[e]:{groups:o,tracks:l,logger_:c}},mainPlaylistLoader:u}=t,d=tY(u.main);s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}},d&&(s[e].main.default.playlists=u.main.playlists));for(const h in s[e]){o[h]||(o[h]=[]);for(const r in s[e][h]){let p,f=s[e][h][r];if(d?(c(`AUDIO group '${h}' label '${r}' is a main playlist`),f.isMainPlaylist=!0,p=null):p="vhs-json"===i&&f.playlists?new kY(f.playlists[0],n,a):f.resolvedUri?new kY(f.resolvedUri,n,a):f.playlists&&"dash"===i?new GY(f.playlists[0],n,a,u):null,f=EX({id:r,playlistLoader:p},f),DQ[e](e,f.playlistLoader,t),o[h].push(f),void 0===l[r]){const e=new _X.AudioTrack({id:r,kind:CQ(f),enabled:!1,language:f.language,default:f.default,label:r});l[r]=e}}}r.on("error",IQ[e](e,t))},SUBTITLES:(e,t)=>{const{tech:n,vhs:i,sourceType:r,segmentLoaders:{[e]:a},requestOptions:s,main:{mediaGroups:o},mediaTypes:{[e]:{groups:l,tracks:c}},mainPlaylistLoader:u}=t;for(const d in o[e]){l[d]||(l[d]=[]);for(const a in o[e][d]){if(!i.options_.useForcedSubtitles&&o[e][d][a].forced)continue;let h,p=o[e][d][a];if("hls"===r)h=new kY(p.resolvedUri,i,s);else if("dash"===r){const e=p.playlists.filter(e=>e.excludeUntil!==1/0);if(!e.length)return;h=new GY(p.playlists[0],i,s,u)}else"vhs-json"===r&&(h=new kY(p.playlists?p.playlists[0]:p.resolvedUri,i,s));if(p=EX({id:a,playlistLoader:h},p),DQ[e](e,p.playlistLoader,t),l[d].push(p),void 0===c[a]){const e=n.addRemoteTextTrack({id:a,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:a},!1).track;c[a]=e}}}a.on("error",IQ[e](e,t))},"CLOSED-CAPTIONS":(e,t)=>{const{tech:n,main:{mediaGroups:i},mediaTypes:{[e]:{groups:r,tracks:a}}}=t;for(const s in i[e]){r[s]||(r[s]=[]);for(const t in i[e][s]){const o=i[e][s][t];if(!/^(?:CC|SERVICE)/.test(o.instreamId))continue;const l=n.options_.vhs&&n.options_.vhs.captionServices||{};let c={label:t,language:o.language,instreamId:o.instreamId,default:o.default&&o.autoselect};if(l[c.instreamId]&&(c=EX(c,l[c.instreamId])),void 0===c.default&&delete c.default,r[s].push(EX({id:t},o)),void 0===a[t]){const e=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;a[t]=e}}}}},LQ=(e,t)=>{for(let n=0;n<e.length;n++){if(ZX(t,e[n]))return!0;if(e[n].playlists&&LQ(e[n].playlists,t))return!0}return!1},RQ={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const e in n)if(n[e].enabled)return n[e];return null},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const e in n)if("showing"===n[e].mode||"hidden"===n[e].mode)return n[e];return null}},MQ=e=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(t=>{PQ[t](t,e)});const{mediaTypes:t,mainPlaylistLoader:n,tech:i,vhs:r,segmentLoaders:{AUDIO:a,main:s}}=e;["AUDIO","SUBTITLES"].forEach(n=>{t[n].activeGroup=((e,t)=>n=>{const{mainPlaylistLoader:i,mediaTypes:{[e]:{groups:r}}}=t,a=i.media();if(!a)return null;let s=null;a.attributes[e]&&(s=r[a.attributes[e]]);const o=Object.keys(r);if(!s)if("AUDIO"===e&&o.length>1&&tY(t.main))for(let e=0;e<o.length;e++){const t=r[o[e]];if(LQ(t,a)){s=t;break}}else r.main?s=r.main:1===o.length&&(s=r[o[0]]);return void 0===n?s:null!==n&&s&&s.filter(e=>e.id===n.id)[0]||null})(n,e),t[n].activeTrack=RQ[n](n,e),t[n].onGroupChanged=((e,t)=>()=>{const{segmentLoaders:{[e]:n,main:i},mediaTypes:{[e]:r}}=t,a=r.activeTrack(),s=r.getActiveGroup(),o=r.activePlaylistLoader,l=r.lastGroup_;s&&l&&s.id===l.id||(r.lastGroup_=s,r.lastTrack_=a,EQ(n,r),s&&!s.isMainPlaylist&&(s.playlistLoader?(n.resyncLoader(),OQ(s.playlistLoader,r)):o&&i.resetEverything()))})(n,e),t[n].onGroupChanging=((e,t)=>()=>{const{segmentLoaders:{[e]:n},mediaTypes:{[e]:i}}=t;i.lastGroup_=null,n.abort(),n.pause()})(n,e),t[n].onTrackChanged=((e,t)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[e]:i,main:r},mediaTypes:{[e]:a}}=t,s=a.activeTrack(),o=a.getActiveGroup(),l=a.activePlaylistLoader,c=a.lastTrack_;if((!c||!s||c.id!==s.id)&&(a.lastGroup_=o,a.lastTrack_=s,EQ(i,a),o)){if(o.isMainPlaylist){if(!s||!c||s.id===c.id)return;const e=t.vhs.playlistController_,i=e.selectPlaylist();if(e.media()===i)return;return a.logger_(`track change. Switching main audio from ${c.id} to ${s.id}`),n.pause(),r.resetEverything(),void e.fastQualityChange_(i)}if("AUDIO"===e){if(!o.playlistLoader)return r.setAudio(!0),void r.resetEverything();i.setAudio(!0),r.setAudio(!1)}l!==o.playlistLoader?(i.track&&i.track(s),i.resetEverything(),OQ(o.playlistLoader,a)):OQ(o.playlistLoader,a)}})(n,e),t[n].getActiveGroup=((e,{mediaTypes:t})=>()=>{const n=t[e].activeTrack();return n?t[e].activeGroup(n):null})(n,e)});const o=t.AUDIO.activeGroup();if(o){const e=(o.filter(e=>e.default)[0]||o[0]).id;t.AUDIO.tracks[e].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),a.setAudio(!0)):s.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(e=>t[e].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(e=>t[e].onGroupChanging())});const l=()=>{t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",l),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",()=>{i.audioTracks().removeEventListener("change",l),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(const c in t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[c])};class NQ{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){1===e&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=kX(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(e=>[e.ID,e])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class jQ extends _X.EventTarget{constructor(e,t){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new NQ,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=CX("Content Steering"),this.xhr_=e,this.getBandwidth_=t}assignTagProperties(e,t){this.manifestType_=t.serverUri?"HLS":"DASH";const n=t.serverUri||t.serverURL;if(!n)return this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),void this.trigger("error");n.startsWith("data:")?this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1)):(this.steeringManifest.reloadUri=kX(e,n),this.defaultPathway=t.pathwayId||t.defaultServiceLocation,this.queryBeforeStart=t.queryBeforeStart,this.proxyServerUrl_=t.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering"))}requestSteeringManifest(e){const t=this.steeringManifest.reloadUri;if(!t)return;const n=e?t:this.getRequestURI(t);if(!n)return this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),void this.dispose();const i={contentSteeringInfo:{uri:n}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},(e,t)=>{if(e){if(410===t.status)return this.logger_(`manifest request 410 ${e}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),void this.excludedSteeringManifestURLs.add(n);if(429===t.status){const n=t.responseHeaders["retry-after"];return this.logger_(`manifest request 429 ${e}.`),this.logger_(`content steering will retry in ${n} seconds.`),void this.startTTLTimeout_(parseInt(n,10))}return this.logger_(`manifest failed to load ${e}.`),void this.startTTLTimeout_()}let r;this.trigger({type:"contentsteeringloadcomplete",metadata:i});try{r=JSON.parse(this.request_.responseText)}catch(s){const e={errorType:_X.Error.StreamingContentSteeringParserError,error:s};this.trigger({type:"error",metadata:e})}this.assignSteeringProperties_(r);const a={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:a}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const t=new GF.URL(e),n=new GF.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(t.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const t=JSON.parse(GF.atob(e));this.assignSteeringProperties_(t)}setSteeringParams_(e){const t=new GF.URL(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const e=`_${this.manifestType_}_pathway`;t.searchParams.set(e,n)}if(i){const e=`_${this.manifestType_}_throughput`;t.searchParams.set(e,i)}return t.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version)return this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),void this.trigger("error");this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const t=(e=>{for(const t of e)if(this.availablePathways_.has(t))return t;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==t&&(this.currentPathway=t,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const t=e=>this.excludedSteeringManifestURLs.has(e);if(this.proxyServerUrl_){const n=this.setProxyServerUrl_(e);if(!t(n))return n}const n=this.setSteeringParams_(e);return t(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const t=1e3*e;this.ttlTimeout_=GF.setTimeout(()=>{this.requestSteeringManifest()},t)}clearTTLTimeout_(){GF.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new NQ}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,t){return!t&&this.steeringManifest.reloadUri||t&&(kX(e,t.serverURL)!==this.steeringManifest.reloadUri||t.defaultServiceLocation!==this.defaultPathway||t.queryBeforeStart!==this.queryBeforeStart||t.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}let BQ;const FQ=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],UQ=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]};class $Q extends _X.EventTarget{constructor(e){super(),this.fastQualityChange_=((e,t)=>{let n=null;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(null,i)},t)}})(this.fastQualityChange_.bind(this),100);const{src:t,withCredentials:n,tech:i,bandwidth:r,externVhs:a,useCueTags:s,playlistExclusionDuration:o,enableLowInitialPlaylist:l,sourceType:c,cacheEncryptionKeys:u,bufferBasedABR:d,leastPixelDiffSelector:h,captionServices:p,experimentalUseMMS:f}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:m}=e;null==m&&(m=1/0),BQ=a,this.bufferBasedABR=Boolean(d),this.leastPixelDiffSelector=Boolean(h),this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=c,this.useCueTags_=s,this.playlistExclusionDuration=o,this.maxPlaylistRetries=m,this.enableLowInitialPlaylist=l,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:m,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=(()=>{const e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(t=>{e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:GK,activeTrack:GK,getActiveGroup:GK,onGroupChanged:GK,onTrackChanged:GK,lastTrack_:null,logger_:CX(`MediaGroups[${t}]`)}}),e})(),f&&GF.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new GF.ManagedMediaSource,this.usingManagedMediaSource_=!0,_X.log("Using ManagedMediaSource")):GF.MediaSource&&(this.mediaSource=new GF.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=OX(),this.hasPlayed_=!1,this.syncController_=new wQ(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.segmentMetadataTrack_.mode="hidden",this.decrypter_=new xQ,this.sourceUpdater_=new hQ(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new AQ,this.keyStatusMap_=new Map;const g={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:p,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:r,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:u,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_="dash"===this.sourceType_?new GY(t,this.vhs_,EX(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new kY(t,this.vhs_,EX(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new WK(EX(g,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new WK(EX(g,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new gQ(EX(g,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((e,t)=>{function n(){i.off("vttjserror",r),e()}function r(){i.off("vttjsloaded",n),t()}i.one("vttjsloaded",n),i.one("vttjserror",r),i.addWebVttScript_()})}),e),this.contentSteeringController_=new jQ(this.vhs_.xhr,()=>this.mainSegmentLoader_.bandwidth),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),FQ.forEach(e=>{this[e+"_"]=UQ.bind(this,e)}),this.logger_=CX("pc"),this.triggeredFmp4Usage=!1,"none"===this.tech_.preload()?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const v="none"===this.tech_.preload()?"play":"loadstart";this.tech_.one(v,()=>{const e=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-e,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,n){const i=this.media(),r=i&&(i.id||i.uri),a=e&&(e.id||e.uri);if(r&&r!==a){this.logger_(`switch media ${r} -> ${a} from ${t}`);const n={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:t};this.trigger({type:"renditionselected",metadata:n}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${t}`})}this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const t=this.mediaTypes_[e],n=t?t.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const t=(n.length?n[0].playlists:n.playlists).filter(e=>e.attributes.serviceLocation===i);t.length&&this.mediaTypes_[e].activePlaylistLoader.media(t[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=GF.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(GF.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let r;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{const e=n.main||i.length&&n[i[0]];for(const t in e)if(e[t].default){r={label:t};break}}if(!r)return t;const a=[];for(const s in n)if(n[s][r.label]){const t=n[s][r.label];if(t.playlists&&t.playlists.length)a.push.apply(a,t.playlists);else if(t.uri)a.push(t);else if(e.playlists.length)for(let n=0;n<e.playlists.length;n++){const t=e.playlists[n];t.attributes&&t.attributes.AUDIO&&t.attributes.AUDIO===s&&a.push(t)}}return a.length?a:t}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;JX(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,e.endList&&"none"!==this.tech_.preload()&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),MQ({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){let t;if(this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_(),this.enableLowInitialPlaylist&&(t=this.selectInitialPlaylist()),t||(t=this.selectPlaylist()),!t||!this.shouldSwitchToMedia_(t))return;if(this.initialMedia_=t,this.switchMedia_(this.initialMedia_,"initial"),"vhs-json"!==this.sourceType_||!this.initialMedia_.segments)return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;JX(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,"dash"===this.sourceType_&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();"playlist-unchanged"!==e.lastExcludeReason_&&this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(e=>{this.mainPlaylistLoader_.on(e,e=>{this.player_.trigger(EU({},e))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){const n=e.mediaGroups||{};let i=!0;const r=Object.keys(n.AUDIO);for(const a in n.AUDIO)for(const e in n.AUDIO[a])n.AUDIO[a][e].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),BQ.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),r=this.bufferHighWaterLine();return function({currentPlaylist:e,buffered:t,currentTime:n,nextPlaylist:i,bufferLowWaterLine:r,bufferHighWaterLine:a,duration:s,bufferBasedABR:o,log:l}){if(!i)return _X.log.warn("We received no playlist to switch to. Please check your stream."),!1;const c=`allowing switch ${e&&e.id||"null"} -> ${i.id}`;if(!e)return l(`${c} as current playlist is not set`),!0;if(i.id===e.id)return!1;const u=Boolean(LX(t,n).length);if(!e.endList)return u||"number"!=typeof e.partTargetDuration?(l(`${c} as current playlist is live`),!0):(l(`not ${c} as current playlist is live llhls, but currentTime isn't in buffered.`),!1);const d=BX(t,n),h=o?XY.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:XY.MAX_BUFFER_LOW_WATER_LINE;if(s<h)return l(`${c} as duration < max low water line (${s} < ${h})`),!0;const p=i.attributes.BANDWIDTH,f=e.attributes.BANDWIDTH;if(p<f&&(!o||d<a)){let e=`${c} as next bandwidth < current bandwidth (${p} < ${f})`;return o&&(e+=` and forwardBuffer < bufferHighWaterLine (${d} < ${a})`),l(e),!0}if((!o||p>f)&&d>=r){let e=`${c} as forwardBuffer >= bufferLowWaterLine (${d} >= ${r})`;return o&&(e+=` and next bandwidth > current bandwidth (${p} > ${f})`),l(e),!0}return l(`not ${c} as no switching criteria met`),!1}({buffered:this.tech_.buffered(),currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:r,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const e=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const e=this.audioSegmentLoader_.pendingSegment_;if(!e||!e.segment||!e.segment.syncInfo)return;const t=e.segment.syncInfo.end+.01;this.tech_.setCurrentTime(t)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",e=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:10}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const e=this.getCodecsOrExclude_();e&&this.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(e=>{this.mainSegmentLoader_.on(e,e=>{this.player_.trigger(EU({},e))}),this.audioSegmentLoader_.on(e,e=>{this.player_.trigger(EU({},e))}),this.subtitleSegmentLoader_.on(e,e=>{this.player_.trigger(EU({},e))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){e&&e===this.mainPlaylistLoader_.media()?this.logger_("skipping fastQualityChange because new media is same as old"):(this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0)}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const t=this.seekable();if(!t.length)return!1;const n=t.end(0);let i=n;if(e.start){const r=e.start.timeOffset;i=r<0?Math.max(n+r,t.start(0)):Math.min(n,r)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,e=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;const n=BQ.Playlist.playlistEnd(e,t),i=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return n-i<=DX;const a=r.end(r.length-1);return a-i<=DX&&n-a<=DX}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||t.playlistExclusionDuration||this.playlistExclusionDuration,!e)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,r=i.filter(KX),a=1===r.length&&r[0]===e;if(1===i.length&&n!==1/0)return _X.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const t=this.pathwayAttribute_(e),n=1e3*this.contentSteeringController_.steeringManifest.ttl;return this.contentSteeringController_.excludePathway(t),this.excludeThenChangePathway_(),void setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(t)},n)}let t=!1;i.forEach(n=>{if(n===e)return;const i=n.excludeUntil;void 0!==i&&i!==1/0&&(t=!0,delete n.excludeUntil)}),t&&(_X.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let s;s=e.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*n,e.excludeUntil=s,t.reason&&(e.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const o=this.selectPlaylist();if(!o)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");const l=t.internal?this.logger_:_X.log.warn,c=t.message?" "+t.message:"";l(`${t.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${o.id}.`),o.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),o.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const u=o.targetDuration/2*1e3||5e3,d="number"==typeof o.lastRequest&&Date.now()-o.lastRequest<=u;return this.switchMedia_(o,"exclude",a||d)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,t){const n=[],i="all"===e;(i||"main"===e)&&n.push(this.mainPlaylistLoader_);const r=[];(i||"audio"===e)&&r.push("AUDIO"),(i||"subtitle"===e)&&(r.push("CLOSED-CAPTIONS"),r.push("SUBTITLES")),r.forEach(e=>{const t=this.mediaTypes_[e]&&this.mediaTypes_[e].activePlaylistLoader;t&&n.push(t)}),["main","audio","subtitle"].forEach(t=>{const i=this[`${t}SegmentLoader_`];!i||e!==t&&"all"!==e||n.push(i)}),n.forEach(e=>t.forEach(t=>{"function"==typeof e[t]&&e[t]()}))}setCurrentTime(e){const t=LX(this.tech_.buffered(),e);return this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media()&&this.mainPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),void this.load()):0}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:BQ.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,t){const n=e.media();if(!n)return null;const i=this.syncController_.getMediaSequenceSync(t);if(i&&i.isReliable){const e=i.start,t=i.end;if(!isFinite(e)||!isFinite(t))return null;const r=BQ.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,n);return OX([[e,Math.max(e,t-r)]])}const r=this.syncController_.getExpiredTime(n,this.duration());if(null===r)return null;const a=BQ.Playlist.seekable(n,r,BQ.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,n));return a.length?a:null}computeFinalSeekable_(e,t){if(!t)return e;const n=e.start(0),i=e.end(0),r=t.start(0),a=t.end(0);return r>i||n>a?e:OX([[Math.max(n,r),Math.min(i,a)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let t;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!t))return;const n=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,t),!this.seekable_)return;if(n&&n.length&&this.seekable_.length&&n.start(0)===this.seekable_.start(0)&&n.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${MX(this.seekable_)}]`);const i={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:i}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){const e=this.seekable();if(!e.length)return;return void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1)))}const t=this.tech_.buffered();let n=BQ.Playlist.duration(this.mainPlaylistLoader_.media());t.length>0&&(n=Math.max(n,t.end(t.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const t=this.mediaTypes_[e].groups;for(const n in t)t[n].forEach(e=>{e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=gY(this.main(),t),i={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||"avc1.4d400d"),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||QU}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||QU,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video)return void this.excludePlaylist({playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});const a=(e,t)=>e?YU(t,this.usingManagedMediaSource_):KU(t),s={};let o;if(["video","audio"].forEach(function(t){if(i.hasOwnProperty(t)&&!a(e[t].isFmp4,i[t])){const n=e[t].isFmp4?"browser":"muxer";s[n]=s[n]||[],s[n].push(i[t]),"audio"===t&&(o=n)}}),r&&o&&t.attributes.AUDIO){const e=t.attributes.AUDIO;this.main().playlists.forEach(n=>{(n.attributes&&n.attributes.AUDIO)===e&&n!==t&&(n.excludeUntil=1/0)}),this.logger_(`excluding audio group ${e} as ${o} does not support codec(s): "${i.audio}"`)}if(Object.keys(s).length){const e=Object.keys(s).reduce((e,t)=>(e&&(e+=", "),e+=`${t} does not support codec(s): "${s[t].join(",")}"`),"")+".";return void this.excludePlaylist({playlistToExclude:t,error:{internal:!0,message:e},playlistExclusionDuration:1/0})}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const e=[];if(["video","audio"].forEach(t=>{const n=(WU(this.sourceUpdater_.codecs[t]||"")[0]||{}).type,r=(WU(i[t]||"")[0]||{}).type;n&&r&&n.toLowerCase()!==r.toLowerCase()&&e.push(`"${this.sourceUpdater_.codecs[t]}" -> "${i[t]}"`)}),e.length)return void this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${e.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0})}return i}tryToCreateSourceBuffers_(){if("open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers())return;if(!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}excludeUnsupportedVariants_(){const e=this.main().playlists,t=[];Object.keys(e).forEach(n=>{const i=e[n];if(-1!==t.indexOf(i.id))return;t.push(i.id);const r=gY(this.main,i),a=[];!r.audio||KU(r.audio)||YU(r.audio,this.usingManagedMediaSource_)||a.push(`audio codec ${r.audio}`),!r.video||KU(r.video)||YU(r.video,this.usingManagedMediaSource_)||a.push(`video codec ${r.video}`),r.text&&"stpp.ttml.im1t"===r.text&&a.push(`text codec ${r.text}`),a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const t=[],n=this.main().playlists,i=fY(WU(e)),r=mY(i),a=i.video&&WU(i.video)[0]||null,s=i.audio&&WU(i.audio)[0]||null;Object.keys(n).forEach(e=>{const i=n[e];if(-1!==t.indexOf(i.id)||i.excludeUntil===1/0)return;t.push(i.id);const o=[],l=gY(this.mainPlaylistLoader_.main,i),c=mY(l);if(l.audio||l.video){if(c!==r&&o.push(`codec count "${c}" !== "${r}"`),!this.sourceUpdater_.canChangeType()){const e=l.video&&WU(l.video)[0]||null,t=l.audio&&WU(l.audio)[0]||null;e&&a&&e.type.toLowerCase()!==a.type.toLowerCase()&&o.push(`video codec "${e.type}" !== "${a.type}"`),t&&s&&t.type.toLowerCase()!==s.type.toLowerCase()&&o.push(`audio codec "${t.type}" !== "${s.type}"`)}o.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id}: ${o.join(" && ")}`))}})}updateAdCues_(e){let t=0;const n=this.seekable();n.length&&(t=n.start(0)),function(e,t,n=0){if(!e.segments)return;let i,r=n;for(let a=0;a<e.segments.length;a++){const n=e.segments[a];if(i||(i=vQ(t,r+n.duration/2)),i){if("cueIn"in n){i.endTime=r,i.adEndTime=r,r+=n.duration,i=null;continue}if(r<i.endTime){r+=n.duration;continue}i.endTime+=n.duration}else if("cueOut"in n&&(i=new GF.VTTCue(r,r+n.duration,n.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(n.cueOut),t.addCue(i)),"cueOutCont"in n){const[e,a]=n.cueOutCont.split("/").map(parseFloat);i=new GF.VTTCue(r,r+n.duration,""),i.adStartTime=r-e,i.adEndTime=i.adStartTime+a,t.addCue(i)}r+=n.duration}}(e,this.cueTagsTrack_,t)}goalBufferLength(){const e=this.tech_.currentTime(),t=XY.GOAL_BUFFER_LENGTH,n=XY.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,XY.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),t=XY.BUFFER_LOW_WATER_LINE,n=XY.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,XY.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,XY.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.bufferBasedABR?r:i)}bufferHighWaterLine(){return XY.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){MK(this.inbandTextTracks_,"com.apple.streaming",this.tech_),(({inbandTextTracks:e,dateRanges:t})=>{const n=e.metadataTrack_;if(!n)return;const i=GF.WebKitDataCue||GF.VTTCue;t.forEach(e=>{for(const t of Object.keys(e)){if(RK.has(t))continue;const r=new i(e.startTime,e.endTime,"");r.id=e.id,r.type="com.apple.quicktime.HLS",r.value={key:LK[t],data:e[t]},"scte35Out"!==t&&"scte35In"!==t||(r.value.data=new Uint8Array(r.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(r)}e.processDateRange()})})({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,t,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();MK(this.inbandTextTracks_,e,this.tech_),PK({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const t of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(t));this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart?this.contentSteeringController_.requestSteeringManifest(!0):this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(e=>{this.contentSteeringController_.on(e,e=>{this.trigger(EU({},e))})}),"dash"===this.sourceType_&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const e=this.main();(this.contentSteeringController_.didDASHTagChange(e.uri,e.contentSteering)||(()=>{const t=this.contentSteeringController_.getAvailablePathways(),n=[];for(const i of e.playlists){const e=i.attributes.serviceLocation;if(e&&(n.push(e),!t.has(e)))return!0}return!(n.length||!t.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const t=this.main().playlists,n=new Set;let i=!1;Object.keys(t).forEach(r=>{const a=t[r],s=this.pathwayAttribute_(a),o=s&&e!==s;a.excludeUntil===1/0&&"content-steering"===a.lastExcludeReason_&&!o&&(delete a.excludeUntil,delete a.lastExcludeReason_,i=!0);const l=!a.excludeUntil&&a.excludeUntil!==1/0;!n.has(a.id)&&o&&l&&(n.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),"DASH"===this.contentSteeringController_.manifestType_&&Object.keys(this.mediaTypes_).forEach(t=>{const n=this.mediaTypes_[t];if(n.activePlaylistLoader){const t=n.activePlaylistLoader.media_;t&&t.attributes.serviceLocation!==e&&(i=!0)}}),i&&this.changeSegmentPathway_()}handlePathwayClones_(){const e=this.main().playlists,t=this.contentSteeringController_.currentPathwayClones,n=this.contentSteeringController_.nextPathwayClones;if(t&&t.size||n&&n.size){for(const[e,i]of t.entries())n.get(e)||(this.mainPlaylistLoader_.updateOrDeleteClone(i),this.contentSteeringController_.excludePathway(e));for(const[i,r]of n.entries()){const n=t.get(i);if(!n){const t=e.filter(e=>e.attributes["PATHWAY-ID"]===r["BASE-ID"]);t.forEach(e=>{this.mainPlaylistLoader_.addClonePathway(r,e)}),this.contentSteeringController_.addAvailablePathway(i);continue}this.equalPathwayClones_(n,r)||(this.mainPlaylistLoader_.updateOrDeleteClone(r,!0),this.contentSteeringController_.addAvailablePathway(i))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...n])))}}equalPathwayClones_(e,t){if(e["BASE-ID"]!==t["BASE-ID"]||e.ID!==t.ID||e["URI-REPLACEMENT"].HOST!==t["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=t["URI-REPLACEMENT"].PARAMS;for(const r in n)if(n[r]!==i[r])return!1;for(const r in i)if(n[r]!==i[r])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),"DASH"===this.contentSteeringController_.manifestType_&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const t="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);i&&i.size&&i.forEach(i=>{const r="usable",a=this.keyStatusMap_.has(i)&&this.keyStatusMap_.get(i)===r,s=n.lastExcludeReason_===t&&n.excludeUntil===1/0;a?a&&s&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${i} is ${r}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==t&&(n.excludeUntil=1/0,n.lastExcludeReason_=t,this.logger_(`excluding playlist ${n.id} because the key ID ${i} doesn't exist in the keyStatusMap or is not ${r}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(e=>{const n=e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height<720,i=e.excludeUntil===1/0&&e.lastExcludeReason_===t;n&&i&&(delete e.excludeUntil,_X.log.warn(`enabling non-HD playlist ${e.id} because all playlists were excluded due to ${t} key IDs`))})}addKeyStatus_(e,t){const n=("string"==typeof e?e:(e=>{const t=new Uint8Array(e);return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")})(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${t}' with key ID ${n} added to the keyStatusMap`),this.keyStatusMap_.set(n,t)}updatePlaylistByKeyStatus(e,t){this.addKeyStatus_(e,t),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}class VQ{constructor(e,t,n){const{playlistController_:i}=e,r=i.fastQualityChange_.bind(i);if(t.attributes){const e=t.attributes.RESOLUTION;this.width=e&&e.width,this.height=e&&e.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}var a,s,o;this.codecs=gY(i.main(),t),this.playlist=t,this.id=n,this.enabled=(a=e.playlists,s=t.id,o=r,e=>{const t=a.main.playlists[s],n=YX(t),i=KX(t);if(void 0===e)return i;e?delete t.disabled:t.disabled=!0;const r={renditionInfo:{id:s,bandwidth:t.attributes.BANDWIDTH,resolution:t.attributes.RESOLUTION,codecs:t.attributes.CODECS},cause:"fast-quality"};return e===i||n||(e?(o(t),a.trigger({type:"renditionenabled",metadata:r})):a.trigger({type:"renditiondisabled",metadata:r})),e})}}const qQ=["seeking","seeked","pause","playing","error"];class zQ extends _X.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=CX("PlaybackWatcher"),this.logger_("initialize");const t=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),r=()=>this.resetTimeUpdate_(),a=this.playlistController_,s=["main","subtitle","audio"],o={};s.forEach(e=>{o[e]={reset:()=>this.resetSegmentDownloads_(e),updateend:()=>this.checkSegmentDownloads_(e)},a[`${e}SegmentLoader_`].on("appendsdone",o[e].updateend),a[`${e}SegmentLoader_`].on("playlistupdate",o[e].reset),this.tech_.on(["seeked","seeking"],o[e].reset)});const l=e=>{["main","audio"].forEach(t=>{a[`${t}SegmentLoader_`][e]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),l("off"))},this.clearSeekingAppendCheck_=()=>l("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),l("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(qQ,r),this.tech_.on("canplay",n),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(qQ,r),this.tech_.off("canplay",n),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),s.forEach(e=>{a[`${e}SegmentLoader_`].off("appendsdone",o[e].updateend),a[`${e}SegmentLoader_`].off("playlistupdate",o[e].reset),this.tech_.off(["seeked","seeking"],o[e].reset)}),this.checkCurrentTimeTimeout_&&GF.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&GF.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=GF.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const t=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=t.buffered_()}checkSegmentDownloads_(e){const t=this.playlistController_,n=t[`${e}SegmentLoader_`],i=n.buffered_(),r=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1}(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,r){const n={bufferedRanges:i};return t.trigger({type:"bufferedrangeschanged",metadata:n}),void this.resetSegmentDownloads_(e)}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:NX(i)}),this[`${e}StalledDownloads_`]<10||(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),"subtitle"!==e&&t.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+DX>=t.end(t.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(OX([this.lastRecordedTime,e]));const t={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:t}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const e=this.seekable(),t=this.tech_.currentTime();let n;if(this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(n=e.end(e.length-1)),this.beforeSeekableWindow_(e,t)){const t=e.start(0);n=t+(t===e.end(0)?0:DX)}if(void 0!==n)return this.logger_(`Trying to seek outside of seekable at time ${t} with seekable range ${MX(e)}. Seeking to ${n}.`),this.tech_.setCurrentTime(n),!0;const i=this.playlistController_.sourceUpdater_,r=this.tech_.buffered(),a=i.audioBuffer?i.audioBuffered():null,s=i.videoBuffer?i.videoBuffered():null,o=this.media(),l=o.partTargetDuration?o.partTargetDuration:2*(o.targetDuration-IX),c=[a,s];for(let d=0;d<c.length;d++)if(c[d]&&BX(c[d],t)<l)return!1;const u=RX(r,t);return 0!==u.length&&(n=u.start(0)+DX,this.logger_(`Buffered region starts (${u.start(0)})  just beyond seek point (${t}). Seeking to ${n}.`),this.tech_.setCurrentTime(n),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),t=this.tech_.buffered(),n=LX(t,e);return n.length&&e+3<=n.end(0)?(this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),void this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"})):void 0}techWaiting_(){const e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){const n=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${t}. Seeking to live point (seekable end) ${n}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const r=RX(i,t);return r.length>0&&(this.logger_(`Stopped at ${t} and seeking to ${r.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(t),!0)}afterSeekableWindow_(e,t,n,i=!1){if(!e.length)return!1;let r=e.end(e.length-1)+DX;const a=!n.endList,s="number"==typeof n.partTargetDuration;return a&&(s||i)&&(r=e.end(e.length-1)+3*n.targetDuration),t>r}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:t,currentTime:n}){if(!e)return;let i;if(e.length&&t.length){const r=LX(e,n-3),a=LX(e,n),s=LX(t,n);s.length&&!a.length&&r.length&&(i={start:r.end(0),end:s.end(0)})}else RX(e,n).length||(i=this.gapFromVideoUnderflow_(e,n));return!!i&&(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0)}skipTheGap_(e){const t=this.tech_.buffered(),n=this.tech_.currentTime(),i=RX(t,n);if(this.resetTimeUpdate_(),0===i.length||n!==e)return;this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+IX);const r={gapInfo:{from:n,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:r}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,t){const n=function(e){if(e.length<2)return OX();const t=[];for(let n=1;n<e.length;n++){const i=e.end(n-1),r=e.start(n);t.push([i,r])}return OX(t)}(e);for(let i=0;i<n.length;i++){const e=n.start(i),r=n.end(i);if(t-e<4&&t-e>2)return{start:e,end:r}}return null}}const HQ={errorInterval:30,getSource(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},WQ=function(e,t){let n=0,i=0;const r=EX(HQ,t);e.ready(()=>{e.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const a=function(){i&&e.currentTime(i)},s=function(t){null!=t&&(i=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.play())},o=function(){if(Date.now()-n<1e3*r.errorInterval)e.trigger({type:"usage",name:"vhs-error-reload-canceled"});else{if(r.getSource&&"function"==typeof r.getSource)return n=Date.now(),r.getSource.call(e,s);_X.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},l=function(){e.off("loadedmetadata",a),e.off("error",o),e.off("dispose",l)};e.on("error",o),e.on("dispose",l),e.reloadSourceOnError=function(t){l(),WQ(e,t)}},GQ=function(e){WQ(this,e)};var XQ="3.17.2";const YQ={PlaylistLoader:kY,Playlist:nY,utils:NY,STANDARD_PLAYLIST_SELECTOR:IK,INITIAL_PLAYLIST_SELECTOR:function(){const e=this.playlists.main.playlists.filter(nY.isEnabled);return CK(e,(e,t)=>EK(e,t)),e.filter(e=>!!gY(this.playlists.main,e).video)[0]||null},lastBandwidthSelector:IK,movingAverageBandwidthSelector:function(e){let t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let i=this.useDevicePixelRatio&&GF.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),OK({main:this.playlists.main,bandwidth:t,playerWidth:parseInt(xK(this.tech_.el(),"width"),10)*i,playerHeight:parseInt(xK(this.tech_.el(),"height"),10)*i,playerObjectFit:this.usePlayerObjectFit?xK(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})}},comparePlaylistBandwidth:EK,comparePlaylistResolution:function(e,t){let n,i;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||GF.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||GF.Number.MAX_VALUE,n===i&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},xhr:CY()};Object.keys(XY).forEach(e=>{Object.defineProperty(YQ,e,{get:()=>(_X.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),XY[e]),set(t){_X.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),"number"!=typeof t||t<0?_X.log.warn(`value of Vhs.${e} must be greater than or equal to 0`):XY[e]=t}})});const KQ="videojs-vhs",QQ=function(e,t){const n=t.media();let i=-1;for(let r=0;r<e.length;r++)if(e[r].id===n.id){i=r;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})};YQ.canPlaySource=function(){return _X.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const JQ=({player:e,sourceKeySystems:t,audioMedia:n,mainPlaylists:i})=>{if(!e.eme.initializeMediaKeys)return Promise.resolve();const r=((e,t)=>e.reduce((e,n)=>{if(!n.contentProtection)return e;const i=t.reduce((e,t)=>{const i=n.contentProtection[t];return i&&i.pssh&&(e[t]={pssh:i.pssh}),e},{});return Object.keys(i).length&&e.push(i),e},[]))(n?i.concat([n]):i,Object.keys(t)),a=[],s=[];return r.forEach(t=>{s.push(new Promise((t,n)=>{e.tech_.one("keysessioncreated",t)})),a.push(new Promise((n,i)=>{e.eme.initializeMediaKeys({keySystems:t},e=>{e?i(e):n()})}))}),Promise.race([Promise.all(a),Promise.race(s)])},ZQ=({player:e,sourceKeySystems:t,media:n,audioMedia:i})=>{const r=((e,t,n)=>{if(!e)return e;let i={};t&&t.attributes&&t.attributes.CODECS&&(i=fY(WU(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);const r=XU(i.video),a=XU(i.audio),s={};for(const o in e)s[o]={},a&&(s[o].audioContentType=a),r&&(s[o].videoContentType=r),t.contentProtection&&t.contentProtection[o]&&t.contentProtection[o].pssh&&(s[o].pssh=t.contentProtection[o].pssh),"string"==typeof e[o]&&(s[o].url=e[o]);return EX(e,s)})(t,n,i);return!(!r||(e.currentSource().keySystems=r,r&&!e.eme&&(_X.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1)))},eJ=()=>{if(!GF.localStorage)return null;const e=GF.localStorage.getItem(KQ);if(!e)return null;try{return JSON.parse(e)}catch(xZ){return null}},tJ=(e,t)=>{e._requestCallbackSet||(e._requestCallbackSet=new Set),e._requestCallbackSet.add(t)},nJ=(e,t)=>{e._responseCallbackSet||(e._responseCallbackSet=new Set),e._responseCallbackSet.add(t)},iJ=(e,t)=>{e._requestCallbackSet&&(e._requestCallbackSet.delete(t),e._requestCallbackSet.size||delete e._requestCallbackSet)},rJ=(e,t)=>{e._responseCallbackSet&&(e._responseCallbackSet.delete(t),e._responseCallbackSet.size||delete e._responseCallbackSet)};YQ.supportsNativeHls=function(){if(!ZF||!ZF.createElement)return!1;const e=ZF.createElement("video");return!!_X.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),YQ.supportsNativeDash=!!(ZF&&ZF.createElement&&_X.getTech("Html5").isSupported())&&/maybe|probably/i.test(ZF.createElement("video").canPlayType("application/dash+xml")),YQ.supportsTypeNatively=e=>"hls"===e?YQ.supportsNativeHls:"dash"===e&&YQ.supportsNativeDash,YQ.isSupported=function(){return _X.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},YQ.xhr.onRequest=function(e){tJ(YQ.xhr,e)},YQ.xhr.onResponse=function(e){nJ(YQ.xhr,e)},YQ.xhr.offRequest=function(e){iJ(YQ.xhr,e)},YQ.xhr.offResponse=function(e){rJ(YQ.xhr,e)};const aJ=_X.getComponent("Component");class sJ extends aJ{constructor(e,t,n){if(super(t,n.vhs),"number"==typeof n.initialBandwidth&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=CX("VhsHandler"),t.options_&&t.options_.playerId){const e=_X.getPlayer(t.options_.playerId);this.player_=e}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(ZF,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],e=>{const t=ZF.fullscreenElement||ZF.webkitFullscreenElement||ZF.mozFullScreenElement||ZF.msFullscreenElement;t&&t.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=EX(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.usePlayerObjectFit=this.options_.usePlayerObjectFit||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=void 0===this.options_.useNetworkInformationApi||this.options_.useNetworkInformationApi,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!=typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=60),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){const e=eJ();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=XY.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===XY.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","usePlayerObjectFit","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(e=>{void 0!==this.source_[e]&&(this.options_[e]=this.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio,this.usePlayerObjectFit=this.options_.usePlayerObjectFit;const t=this.options_.customPixelRatio;"number"==typeof t&&t>=0&&(this.customPixelRatio=t)}setOptions(e={}){this.setOptions_(e)}src(e,t){if(!e)return;var n;this.setOptions_(),this.options_.src=0===(n=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(n.substring(n.indexOf(",")+1)):n,this.options_.tech=this.tech_,this.options_.externVhs=YQ,this.options_.sourceType=e$(t),this.options_.seekTo=e=>{this.tech_.setCurrentTime(e)},this.options_.player_=this.player_,this.playlistController_=new $Q(this.options_);const i=EX({liveRangeSafeTimeDelta:DX},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new zQ(i),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const e=_X.players[this.tech_.options_.playerId];let t=this.playlistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)});const r=this.options_.bufferBasedABR?YQ.movingAverageBandwidthSelector(.55):YQ.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=YQ.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(e){this.playlistController_.selectPlaylist=e.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(e){this.playlistController_.mainSegmentLoader_.throughput.rate=e,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let e=this.playlistController_.mainSegmentLoader_.bandwidth;const t=GF.navigator.connection||GF.navigator.mozConnection||GF.navigator.webkitConnection,n=1e7;if(this.options_.useNetworkInformationApi&&t){const i=1e3*t.downlink*1e3;e=i>=n&&e>=n?Math.max(e,i):i}return e},set(e){this.playlistController_.mainSegmentLoader_.bandwidth=e,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const e=1/(this.bandwidth||1);let t;return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set(){_X.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>NX(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>NX(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&(e=>{if(!GF.localStorage)return!1;let t=eJ();t=t?EX(t,e):e;try{GF.localStorage.setItem(KQ,JSON.stringify(t))}catch(xZ){return!1}})({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{var e;(e=this).representations=()=>{const t=e.playlistController_.main(),n=tY(t)?e.playlistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter(e=>!YX(e)).map((t,n)=>new VQ(e,t,t.id)):[]}}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=GF.URL.createObjectURL(this.playlistController_.mediaSource),(_X.browser.IS_ANY_SAFARI||_X.browser.IS_IOS)&&this.options_.overrideNative&&"hls"===this.options_.sourceType&&"function"==typeof this.tech_.addSourceElement?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),JQ({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(e=>{this.logger_("error while creating EME key session",e),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=ZQ({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",e=>{this.playlistController_.updatePlaylistByKeyStatus(e.keyId,e.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),t?this.createKeySessions_():this.playlistController_.sourceUpdater_.initializedEme()}setupQualityLevels_(){const e=_X.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{!function(e,t){t.representations().forEach(t=>{e.addQualityLevel(t)}),QQ(e,t.playlists)}(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{QQ(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":XQ,"mux.js":"7.1.0","mpd-parser":"1.3.1","m3u8-parser":"7.2.0","aes-decrypter":"4.0.2"}}version(){return this.constructor.version()}canChangeType(){return hQ.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&GF.URL.revokeObjectURL&&(GF.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return jY({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,n=!0,i=2){return BY({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{tJ(this.xhr,e)},this.xhr.onResponse=e=>{nJ(this.xhr,e)},this.xhr.offRequest=e=>{iJ(this.xhr,e)},this.xhr.offResponse=e=>{rJ(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(e=>{this.playlistController_.on(e,e=>{this.player_.trigger(EU({},e))})}),["gapjumped","playedrangeschanged"].forEach(e=>{this.playbackWatcher_.on(e,e=>{this.player_.trigger(EU({},e))})})}}const oJ={name:"videojs-http-streaming",VERSION:XQ,canHandleSource(e,t={}){const n=EX(_X.options,t);return!(!n.vhs.experimentalUseMMS&&!YU("avc1.4d400d,mp4a.40.2",!1))&&oJ.canPlayType(e.type,n)},handleSource(e,t,n={}){const i=EX(_X.options,n);return t.vhs=new sJ(e,t,i),t.vhs.xhr=CY(),t.vhs.setupXhrHooks_(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){const n=e$(e);if(!n)return"";const i=oJ.getOverrideNative(t);return!YQ.supportsTypeNatively(n)||i?"maybe":""},getOverrideNative(e={}){const{vhs:t={}}=e,n=!(_X.browser.IS_ANY_SAFARI||_X.browser.IS_IOS),{overrideNative:i=n}=t;return i}};function lJ(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}YU("avc1.4d400d,mp4a.40.2",!0)&&_X.getTech("Html5").registerSourceHandler(oJ,0),_X.VhsHandler=sJ,_X.VhsSourceHandler=oJ,_X.Vhs=YQ,_X.use||_X.registerComponent("Vhs",YQ),_X.options.vhs=_X.options.vhs||{},_X.getPlugin&&_X.getPlugin("reloadSourceOnError")||_X.registerPlugin("reloadSourceOnError",GQ);var cJ={src:{type:String,onChange:function(e,t){return e.src(t)}},width:{type:Number,onChange:function(e,t){return e.width(t)},onEvent:function(e,t){e.on(["playerresize","resize"],function(){return t(e.width())})}},height:{type:Number,onChange:function(e,t){return e.height(t)},onEvent:function(e,t){e.on(["playerresize","resize"],function(){return t(e.height())})}},preload:{type:String,onChange:function(e,t){return e.preload(t)}},loop:{type:Boolean,onChange:function(e,t){return e.loop(t)}},muted:{type:Boolean,onChange:function(e,t){return e.muted(t)},onEvent:function(e,t){return e.on("volumechange",function(){return t(e.muted())})}},poster:{type:String,onChange:function(e,t){return e.poster(t)},onEvent:function(e,t){return e.on("posterchange",function(){return t(e.poster())})}},controls:{type:Boolean,onChange:function(e,t){return e.controls(t)},onEvent:function(e,t){e.on("controlsenabled",function(){return t(!0)}),e.on("controlsdisabled",function(){return t(!1)})}},autoplay:{type:[Boolean,String],onChange:function(e,t){return e.autoplay(t)}},crossorigin:{type:String,onChange:function(e,t){return e.crossOrigin(t)}},crossOrigin:{type:String,onChange:function(e,t){return e.crossOrigin(t)}},playsinline:{type:Boolean,onChange:function(e,t){return e.playsinline(t)}},playsInline:{type:Boolean,onChange:function(e,t){return e.playsinline(t)}}},uJ={id:{type:String},sources:{type:Array,onChange:function(e,t){return e.src(t)}},tracks:{type:Array,onChange:function(e,t){for(var n=e.remoteTextTracks(),i=(null==n?void 0:n.length)||0;i--;)e.removeRemoteTextTrack(n[i]);e.ready(function(){t.forEach(function(t){return e.addRemoteTextTrack(t,!1)})})}},textTrackSettings:{type:Object,onChange:function(e,t){return e.textTrackSettings.options(t)}},language:{type:String,onChange:function(e,t){return e.language(t)},onEvent:function(e,t){return e.on("languagechange",function(){return t(e.language())})}},languages:{type:Object},playbackRates:{type:Array,onChange:function(e,t){return e.playbackRates(null!=t?t:[])},onEvent:function(e,t){e.on("playbackrateschange",function(){return t(e.playbackRates())})}},audioOnlyMode:{type:Boolean,onChange:function(e,t){return e.audioOnlyMode(t)}},audioPosterMode:{type:Boolean,onChange:function(e,t){return e.audioPosterMode(t)}},responsive:{type:Boolean,onChange:function(e,t){return e.responsive(t)}},breakpoints:{type:Object,onChange:function(e,t){return e.breakpoints(t)}},fluid:{type:Boolean,onChange:function(e,t){return e.fluid(t)}},fill:{type:Boolean,onChange:function(e,t){return e.fill(t)}},aspectRatio:{type:String,onChange:function(e,t){return e.aspectRatio(t)}},fullscreen:{type:Object},liveui:{type:Boolean},liveTracker:{type:Object},disablePictureInPicture:{type:Boolean,onChange:function(e,t){return e.disablePictureInPicture(t)}},notSupportedMessage:{type:String},normalizeAutoplay:{type:Boolean},noUITitleAttributes:{type:Boolean},preferFullWindow:{type:Boolean},suppressNotSupportedError:{type:Boolean},techCanOverridePoster:{type:Boolean},reportTouchActivity:{type:Boolean},techOrder:{type:Array},inactivityTimeout:{type:Number},userActions:{type:Object},plugins:{type:Object},restoreEl:{type:[Boolean,Object]},"vtt.js":{type:String}},dJ={children:{type:[Array,Object]},controlBar:{type:Object,onChange:function(e,t){return e.controlBar.options(t)}}},hJ={html5:{type:Object}},pJ={volume:{type:Number,onChange:function(e,t){return e.volume(t)},onEvent:function(e,t){return e.on("volumechange",function(){return t(e.volume())})}},playbackRate:{type:Number,onChange:function(e,t){e.playbackRate(t),e.defaultPlaybackRate(t)},onEvent:function(e,t){e.on("ratechange",function(){t(e.playbackRate())})}},options:{type:Object}},fJ=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},cJ),uJ),dJ),hJ),pJ),mJ=Object.keys(fJ),gJ=Object.assign(Object.assign(Object.assign(Object.assign({},{loadstart:"onLoadStart",suspend:"onSuspend",abort:"onAbort",error:"onError",emptied:"onEmptied",stalled:"onStalled",loadedmetadata:"onLoadedMetadata",loadeddata:"onLoadedData",canplay:"onCanPlay",canplaythrough:"onCanPlayThrough",playing:"onPlaying",waiting:"onWaiting",seeking:"onSeeking",seeked:"onSeeked",ended:"onEnded",durationchange:"onDurationChange",timeupdate:"onTimeUpdate",progress:"onProgress",play:"onPlay",pause:"onpause",ratechange:"onRateChange",resize:"onResize",volumechange:"onVolumeChange"}),{posterchange:"onPosterChange",languagechange:"onLanguageChange",fullscreenchange:"onFullscreenChange",playbackrateschange:"onPlaybackRatesChange",controlsdisabled:"onControlsDisabled",controlsenabled:"onControlsEnabled",enterFullWindow:"onEnterFullWindow",exitFullWindow:"onExitFullWindow",enterpictureinpicture:"onEnterPictureInPicture",leavepictureinpicture:"onLeavePictureInPicture",sourceset:"onSourceSet",texttrackchange:"onTextTrackChange",textdata:"onTextData",useractive:"onUserActive",userinactive:"onUserInactive",usingcustomcontrols:"onUsingCustomControls",usingnativecontrols:"onUsingNativeControls",dispose:"onDispose"}),{beforepluginsetup:"onBeforePluginSetup",pluginsetup:"onPluginSetup"}),{componentresize:"onComponentResize",playerresize:"onPlayerResize",ready:"onReady",tap:"onTap"}),vJ=Object.keys(gJ);Object.values(gJ);var yJ=function(e){var t,n=null==e?void 0:e.trim().replace(/\s+/g," ");return n&&null!==(t=n.split(" "))&&void 0!==t?t:[]},bJ={src:{getter:function(e){return e.src()}},currentSrc:{getter:function(e){return e.currentSrc()}},currentSource:{getter:function(e){return e.currentSource()}},width:{events:["resize","playerresize"],getter:function(e){return e.width()}},height:{events:["resize","playerresize"],getter:function(e){return e.height()}},currentWidth:{events:["resize","playerresize"],getter:function(e){return e.currentWidth()}},currentHeight:{events:["resize","playerresize"],getter:function(e){return e.currentHeight()}},videoWidth:{events:["resize","playerresize"],getter:function(e){return e.videoWidth()}},videoHeight:{events:["resize","playerresize"],getter:function(e){return e.videoHeight()}},controls:{events:["controlsdisabled","controlsenabled"],getter:function(e){return e.controls()}},volume:{events:["volumechange"],getter:function(e){return e.volume()}},muted:{events:["volumechange"],getter:function(e){return e.muted()}},poster:{events:["posterchange"],getter:function(e){return e.poster()}},seeking:{events:["seeking"],getter:function(e){return e.seeking()}},paused:{events:["pause","play","playing"],getter:function(e){return e.paused()}},ended:{events:["ended","play"],getter:function(e){return e.ended()}},currentTime:{events:["timeupdate"],getter:function(e){return e.currentTime()}},duration:{events:["durationchange"],getter:function(e){return e.duration()}},playbackRate:{events:["ratechange"],getter:function(e){return e.playbackRate()}},playbackRates:{events:["playbackrateschange"],getter:function(e){return e.playbackRates()}},isFullscreen:{events:["fullscreenchange"],getter:function(e){return e.isFullscreen()}},isInPictureInPicture:{events:["enterpictureinpicture","leavepictureinpicture"],getter:function(e){return e.isInPictureInPicture()}},isLive:{getter:function(e){var t;return null===(t=e.liveTracker)||void 0===t?void 0:t.isLive()}},language:{events:["languagechange"],getter:function(e){return e.language()}},userActive:{events:["useractive","userinactive"],getter:function(e){return e.userActive()}},readyState:{events:["loadeddata"],getter:function(e){return e.readyState()}},networkState:{events:["loadeddata","error"],getter:function(e){return e.networkState()}},error:{events:["loadeddata","error"],getter:function(e){return e.error()}},buffered:{events:["progress"],getter:function(e){return e.buffered()}},bufferedPercent:{events:["progress"],getter:function(e){return e.bufferedPercent()}},played:{events:["timeupdate"],getter:function(e){return e.played()}},seekable:{events:["progress","seeked"],getter:function(e){return e.seekable()}},audioTracks:{getter:function(e){var t;return null===(t=e.audioTracks)||void 0===t?void 0:t.call(e)}},videoTracks:{getter:function(e){var t;return null===(t=e.videoTracks)||void 0===t?void 0:t.call(e)}},textTracks:{getter:function(e){var t;return null===(t=e.textTracks)||void 0===t?void 0:t.call(e)}}},_J=mJ.filter(function(e){return Boolean(fJ[e].onEvent)}),TJ=function(e){return"update:"+e},SJ=vJ.concat(_J.map(TJ)),wJ=mJ.reduce(function(e,t){var n,i=fJ[t],r=Array.isArray(i.type)?i.type:[i.type],a=Object.assign({},i);return r.includes(Boolean)&&(a.default=void 0),Object.assign(Object.assign({},e),((n={})[t]=a,n))},{}),AJ=Bn({name:"VueVideoPlayer",props:Object.assign(Object.assign({},wJ),{class:[String,Object,Array]}),emits:SJ.concat(["mounted"],["unmounted"]),setup:function(e,t){var n=vt(e),i=n.class,r=lJ(n,["class"]),a=wt(!1),s=wt(null),o=wt(null),l=Sa(function(){return o.value?o.value.player:null}),c=St(null),u=Sa(function(){return c.value?dt(c.value):null});return ai(function(){var n,i=function(e){var t,n=e.props,i=e.element,r=e.className,a=e.onEvent,s=n.options;void 0===s&&(s={});var o=lJ(n,["options"]),l={};Object.keys(o).forEach(function(e){var t=o[e];void 0!==t&&(l[e]=t)});var c=Object.assign(Object.assign({},l),s),u=c.volume,d=c.playbackRate,h=lJ(c,["volume","playbackRate"]),p=_X(i,Object.assign(Object.assign({},h),{playsinline:null!==(t=h.playsinline)&&void 0!==t?t:h.playsInline}),function(){var e=this;vJ.forEach(function(t){e.on(t,function(e){a(t,e)})}),h.src&&!h.sources&&this.src(h.src),u&&Number.isFinite(u)&&this.volume(u),d&&Number.isFinite(d)&&(this.defaultPlaybackRate(d),setTimeout(function(){e.playbackRate(d)},0))});r&&yJ(r).map(function(e){return p.addClass(e)});var f=function(e){var t;null===(t=p.options)||void 0===t||t.call(p,null!=e?e:{})};return{player:p,dispose:function(){return p.dispose()},updateClassNames:function(e,t){yJ(e).map(function(e){return p.removeClass(e)}),yJ(t).map(function(e){return p.addClass(e)})},updateOptions:f,updatePropOption:function(e,t){var n,i,r;f(((n={})[e]=t,n)),null===(r=null===(i=fJ[e])||void 0===i?void 0:i.onChange)||void 0===r||r.call(i,p,t)}}}({element:s.value,props:r,onEvent:t.emit});n={player:i.player,onEvent:t.emit},_J.forEach(function(e){var t,i;null===(i=null===(t=fJ[e])||void 0===t?void 0:t.onEvent)||void 0===i||i.call(t,n.player,function(t){n.onEvent(TJ(e),t)})}),_r(function(){return e.class},function(e,t){var n=H(t),r=H(e);i.updateClassNames(n,r)},{immediate:!0}),_r(function(){return e.options},function(e){return i.updateOptions(null!=e?e:{})},{deep:!0}),mJ.filter(function(e){return"options"!==e}).forEach(function(t){_r(function(){return e[t]},function(e){return i.updatePropOption(t,e)},{deep:!0})}),function(e,t){var n=Object.keys(bJ),i=n.reduce(function(t,n){var i;return Object.assign(Object.assign({},t),((i={})[n]=bJ[n].getter(e),i))},{playing:!1,waiting:!1}),r=function(e,n){i[e]=n,t.onUpdate(e,n,Object.assign({},i))};e.on(["pause","ended"],function(){r("playing",!1)}),e.on(["play","playing"],function(){r("playing",!0)}),e.on("waiting",function(){r("waiting",!0);var t=e.currentTime(),n=function(){t!==e.currentTime()&&(r("waiting",!1),e.off("timeupdate",n))};e.on("timeupdate",n)}),n.forEach(function(t){var n,i=bJ[t];e.on(["loadstart","loadedmetadata"].concat(null!==(n=i.events)&&void 0!==n?n:[]),function(){r(t,i.getter(e))})}),t.onInit(Object.assign({},i))}(i.player,{onInit:function(e){c.value=e},onUpdate:function(e,t){c.value&&(c.value[e]=t)}}),o.value=i,a.value=!0,t.emit("mounted",{video:s.value,player:l.value,state:u.value})}),li(function(){o.value&&(o.value.dispose(),o.value=null,c.value=null,t.emit("unmounted"))}),function(){var e,n;return wa("div",{"data-vjs-player":"",class:H(i)},[wa("video",{class:["video-js","v-video-player"],ref:s}),a.value&&(null===(n=(e=t.slots).default)||void 0===n?void 0:n.call(e,{video:s.value,player:l.value,state:u.value}))])}}}),kJ={VideoPlayer:AJ,install:function(e){e.component("VideoPlayer",AJ),e.component(AJ.name,AJ)}};const xJ=function(e){return"[object Object]"===Object.prototype.toString.call(e)},CJ=function(e){return"string"==typeof e},EJ=function(e){return"number"==typeof e},OJ={print:(e,t,n)=>CJ(t)||"boolean"==typeof n,pretty:(e,t,n)=>CJ(t)&&CJ(e)||"string"==typeof n,primary:(e,t)=>CJ(e)||"boolean"==typeof t,success:(e,t)=>CJ(e)||"boolean"==typeof t,info:(e,t)=>CJ(e)||"boolean"==typeof t,warning:(e,t)=>CJ(e)||"boolean"==typeof t,danger:(e,t)=>CJ(e)||"boolean"==typeof t};function IJ(e="default"){let t="";switch(e){case"primary":t="#2d8cf0";break;case"success":t="#19be6b";break;case"info":t="#909399";break;case"warning":t="#ff9900";break;case"danger":t="#ff4d4f";break;case"default":t="#35495E";break;default:t=e}return t}OJ.print=function(e,t="default",n=!1){return"object"==typeof e?(console.dir(e),!0):(n?console.log(`%c ${e} `,`background:${IJ(t)}; padding: 2px; border-radius: 4px;color: #fff;`):console.log(`%c ${e} `,`color: ${IJ(t)};`),!0)},OJ.pretty=function(e,t,n="primary"){return console.log(`%c ${e} %c ${t} %c`,`background:${IJ(n)};border:1px solid ${IJ(n)}; padding: 1px; border-radius: 4px 0 0 4px; color: #fff;`,`border:1px solid ${IJ(n)}; padding: 1px; border-radius: 0 4px 4px 0; color: ${IJ(n)};`,"background:transparent"),!0},OJ.primary=function(e,t=!1){return this.print&&this.print(e,"primary",t),!0},OJ.success=function(e,t=!1){return this.print&&this.print(e,"success",t),!0},OJ.info=function(e,t=!1){return this.print&&this.print(e,"info",t),!0},OJ.warning=function(e,t=!1){return this.print&&this.print(e,"warning",t),!0},OJ.danger=function(e,t=!1){return this.print&&this.print(e,"danger",t),!0};var DJ={async install(e){e.config.globalProperties.$log=OJ,OJ.pretty("[vue3-tree-org] 4.2.2","success")}};const PJ=function(){let e=!1;return{get:()=>e,set:t=>{e=t}}}(),LJ=function(e,t,n){const{id:i,children:r}=t;if(e[i]===n)return e;if(Array.isArray(e[r])){const i=e[r];for(let e=0,r=i.length;e<r;e++){const r=i[e],a=LJ(r,t,n);if(a)return a}}},RJ=function(e,t){const{parenNode:n,onlyOneNode:i,cloneNodeDrag:r}=t;if(n.value){const{keys:a}=t,{id:s,pid:o,children:l}=a,c=n.value.$$data,u=JSON.parse(JSON.stringify(e.$$data));r?(function(e,t){const{children:n}=t;if(xJ(e))i(e);else if(Array.isArray(e))for(let r=0,a=e.length;r<a;r++)i(e[r]);function i(e){if(function(e){"string"==typeof e[s]&&-1!==e[s].indexOf("clone-node")&&(e[s]=`clone-node-${e[s]}`)}(e),Array.isArray(e[n])){const t=e[n];for(let e=0,n=t.length;e<n;e++)i(t[e])}}}(u,a),i&&Array.isArray(u[l])&&(u[l]=[]),u[a.pid]=c[a.id],c[l]?c[l].push(u):c[l]=[u]):(function(e,t){const{keys:n,data:i,onlyOneNode:r}=t,{id:a,pid:s,children:o}=n,l=LJ(i,n,e[s]),c=l[o];let u;for(let h=0,p=c.length;h<p;h++)if(c[h][a]===e[a]){c.splice(h,1),u=h;break}const d=e[o];r&&void 0!==u&&d&&(e[o]=[],d.forEach(e=>{e[s]=l[a]}),l[o].splice(u,0,...d))}(u,t),u[o]=c[s],c[l]?c[l].push(u):c[l]=[].concat(u))}},MJ={beforeMount(e,t){const{l:n,t:i}=t.modifiers,{drag:r,dragData:a,node:s,emit:o,beforeDragEnd:l,initNodes:c}=t.value,{value:u}=t,d={...a};e.addEventListener("mousedown",function(e){const t=e.target;if(!1===r||0!==e.button||s.focused||s.$$data.noDragging||t.className.indexOf("tree-org-node-btn")>-1)return!1;(function(e){e.stopPropagation(),m=e.screenX,g=e.screenY,p=0,d.contextmenu.value=!1;const{keys:t,onlyOneNode:n}=d;if(n){const{children:e}=t,n={...s.$$data};n[e]=[],d.cloneData.value=c(n)}else d.cloneData.value=c(s.$$data)})(e),document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),_("start")});let h,p=0,f=!1,m=0,g=0;function v(t){return t.preventDefault(),!(Math.abs(t.screenX-m)<5&&Math.abs(t.screenY-g)<5)&&(f||(f=!0,function(t){PJ.set(!0),d.nodeMoving.value=!0,s.moving=!0;let n=e;for(;!n.classList.contains("tree-org-node");)p+=n.offsetLeft,n=n.offsetParent;p+=2,h=document.querySelector("#clone-tree-org"),h&&(h.style.width=`${n.clientWidth}px`,h.style.opacity="0.8",h.style.left=t.clientX-p+"px",h.style.top=t.clientY+2+"px")}(t)),n&&i&&u?(h&&(h.style.left=t.clientX-p+"px",h.style.top=t.clientY+2+"px"),void _("move")):n&&u?(e.style.left=t.clientX-p+"px",void _("move")):void(i&&u&&(e.style.top=t.clientY+"px",_("move"))))}function y(e){if(document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),f){if("function"==typeof l){const t=l(s,d.parenNode.value);t&&t.then?t.then(()=>{b(e)},()=>{}):!1!==t&&b(e)}else b(e);f=!1,h=null,s.moving=!1,d.nodeMoving.value=!1,setTimeout(()=>{PJ.set(!1)},200)}}function b(e){const t=document.querySelector(".tree-org-node__moving");if(t&&t.contains(e.target))return _("end"),!1;RJ(s,d),_("end")}function _(e){"start"!==e?"move"!==e?"end"===e&&o("on-node-drag-end",s,d.parenNode.value):o("on-node-drag",s):o("on-node-drag-start",s)}}},NJ={onClick:"onNodeClick",onDblclick:"onNodeDblclick",onContextmenu:"onNodeContextmenu",onMouseenter:"onNodeMouseenter",onMouseleave:"onNodeMouseleave"};function jJ(e,t){if("function"==typeof e)return function(n){n.target.className.indexOf("org-tree-node-btn")>-1||e(n,t)}}const BJ=(e,t,n)=>!(Array.isArray(e[t])&&e[t].length>0)&&!n||e.isLeaf,FJ=(e,t,n)=>{const{attrs:i}=n,r=["tree-org-node"],a=[],{expand:s,children:o,id:l}=t;return BJ(t,"children",i.lazy)?r.push("is-leaf"):i.collapsable&&!s&&r.push("collapsed"),t.moving&&r.push("tree-org-node__moving"),a.push(UJ(e,t,n)),i.collapsable&&!s||a.push($J(e,o,n)),un(e("div",{class:r,key:l},a),[[Ja,!t.hidden]])},UJ=(e,t,n)=>{const{attrs:i}=n,r=i.props,a=i.renderContent,{label:s}=t,o=[];if(n.slots.default)o.push(n.slots.default({node:t}));else if("function"==typeof a){OJ.warning("scoped-slot header is easier to use. We recommend users to use scoped-slot header.");const n=a(e,t);n&&o.push(n)}else o.push(e("div",{class:"tree-org-node__text"},s));i.collapsable&&!BJ(t,"children",i.lazy)&&o.push(((e,t,n)=>{const{attrs:i}=n,r=i.onOnExpand,a=["tree-org-node__expand"];t.expand&&a.push("expanded");const s=[];return n.slots.expand?s.push(n.slots.expand({node:t})):s.push(e("span",{class:"tree-org-node__expand-btn"})),e("span",{class:a,onMousedown:e=>{e.stopPropagation()},onDblclick:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),r&&r(e,t)}},s)})(e,t,n));const l=["tree-org-node__inner"];let{labelStyle:c,labelClassName:u,selectedClassName:d,selectedKey:h}=i;"function"==typeof u&&(u=u(t)),u&&l.push(u),t.className&&l.push(t.className),"function"==typeof d&&(d=d(t)),void 0!==h&&(h=Array.isArray(h)?h:[h]),d&&h&&h.includes(t.id)&&l.push(d);const p=["tree-org-node__content"];t.$$root&&p.push(`is-root_${i.suffix}`),t.label||p.push("is-empty"),t.$$focused&&p.push("is-edit");const f=bi("nodedrag"),m=[];i.vNodedrag&&f&&!t.$$root&&m.push([f,Object.assign({node:t},i.vNodedrag),"",{l:!0,t:!0}]);const g={};for(const T in NJ)if(Object.prototype.hasOwnProperty.call(NJ,T)){const e=i[NJ[T]];e&&(g[T]=jJ(e,t))}const v=i.onNodeFocus,y=i.onNodeBlur,b=bi("focus"),_=[[Ja,t.$$focused]];return b&&_.push([b,t.$$focused]),e("div",{class:p},[un(e("div",{class:l,style:t.style?t.style:c,...g},o),m),un(e("textarea",{class:"tree-org-node__textarea",placeholder:"",value:t.label,onFocus:e=>{v&&v(e,t.$$data,t)},onInput:e=>{t.label=e.target.value},onBlur:e=>{void 0!==t.$$data.focused&&(t.$$data.focused=!1),t.$$data[r.label]=e.target.value,t.$$focused=!1,y&&y(e,t.$$data,t)},onClick:e=>e.stopPropagation()}),_)])},$J=(e,t,n)=>{if(Array.isArray(t)&&t.length){const i=t.filter(e=>!e.$$hidden).map(t=>FJ(e,t,n));return e("div",{class:"tree-org-node__children"},i)}return""},VJ=(e,t)=>e.data&&0!==Object.keys(e.data).length?(e.data.$$root=!e.isClone,FJ(wa,e.data,t)):"";VJ.directives={focus:{mounted(e,{value:t}){t&&e.focus()},updated(e,{value:t}){t&&e.focus()}},nodedrag:MJ};var qJ=Bn({props:{scale:String,tools:Object},setup(e,{emit:t}){const n=St(!1),i=St(!1);function r(e){i.value=!i.value,t("onFullscreen",e)}function a(){document.isFullScreen||document.mozIsFullScreen||document.webkitIsFullScreen||!i.value||r("esc")}const s=Sa(()=>n.value?"":""),o=Sa(()=>i.value?"":"");return ai(()=>{window.addEventListener("resize",a)}),li(()=>{window.removeEventListener("resize",a)}),{expanded:n,fullscreen:i,expandTitle:s,fullTiltle:o,handleExpand:function(){n.value=!n.value,t("onExpand")},handleScale:function(e){"out"===e?t("onScale",.1):"in"===e?t("onScale",-.1):t("onRestore")},handleFullscreen:r}}});const zJ={class:"zm-tree-handle"},HJ={key:0,class:"zm-tree-percent"},WJ=["title"],GJ={class:"zm-tree-svg"},XJ=[Kr("span",{class:"zm-tree-icon"},"+",-1)],YJ=[Kr("span",{class:"zm-tree-icon"},"-",-1)],KJ=[Kr("span",{class:"zm-tree-restore"},null,-1)],QJ=["title"],JJ={class:"zm-tree-svg"};function ZJ(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function eZ(e,t,n,i=1){return{deltaX:Math.round(t/i/e[0])*e[0],deltaY:Math.round(n/i/e[1])*e[1]}}function tZ(e,t,n){return e<t?t:n<e?n:e}qJ.render=function(e,t,n,i,r,a){return Ur(),zr("div",zJ,[e.tools.scale?(Ur(),zr("div",HJ,Y(e.scale),1)):ta("v-if",!0),e.tools.expand?(Ur(),zr("div",{key:1,onClick:t[0]||(t[0]=(...t)=>e.handleExpand&&e.handleExpand(...t)),title:e.expandTitle,class:"zm-tree-handle-item"},[Kr("span",GJ,[Kr("i",{class:H(["treefont",e.expanded?"icon-collapse":"icon-expand"])},null,2)])],8,WJ)):ta("v-if",!0),e.tools.zoom?(Ur(),zr("div",{key:2,onClick:t[1]||(t[1]=t=>e.handleScale("out")),title:"",class:"zm-tree-handle-item zoom-out"},XJ)):ta("v-if",!0),e.tools.zoom?(Ur(),zr("div",{key:3,onClick:t[2]||(t[2]=t=>e.handleScale("in")),title:"",class:"zm-tree-handle-item zoom-in"},YJ)):ta("v-if",!0),e.tools.restore?(Ur(),zr("div",{key:4,onClick:t[3]||(t[3]=t=>e.handleScale("restore")),title:"",class:"zm-tree-handle-item"},KJ)):ta("v-if",!0),e.tools.fullscreen?(Ur(),zr("div",{key:5,onClick:t[4]||(t[4]=(...t)=>e.handleFullscreen&&e.handleFullscreen(...t)),title:e.fullTiltle,class:"zm-tree-handle-item"},[Kr("span",JJ,[Kr("i",{class:H(["treefont",e.fullscreen?"icon-unfullscreen":"icon-fullscreen"])},null,2)])],8,QJ)):ta("v-if",!0)])},qJ.__file="src/components/tools/tools.vue";const nZ=function(e,t,n,i=!1){e&&t&&n&&e.addEventListener(t,n,i)},iZ=function(e,t,n,i=!1){e&&t&&n&&e.removeEventListener(t,n,i)},rZ=Symbol("wrapper");function aZ(e,t){if(null===(n=e)||"object"!=typeof n||e.__elPropsReservedKey)return e;var n;const{values:i,required:r,default:a,type:s,validator:o}=e,l=i||o?e=>{let n=!1,r=[];if(i&&(r=[...i,a],n=n||r.includes(e)),o&&(n=n||o(e)),!n&&r.length>0){const n=[...new Set(r)].map(e=>JSON.stringify(e)).join(", ");ka(`Invalid prop: validation failed${t?` for prop "${t}"`:""}. Expected one of [${n}], got value ${JSON.stringify(e)}.`)}return n}:void 0;return{type:"object"==typeof s&&Object.getOwnPropertySymbols(s).includes(rZ)?s[rZ]:s,validator:l,__elPropsReservedKey:!0,default:a,required:!!r}}const sZ=e=>function(e){let t=-1;const n=e?e.length:0,i={};for(;++t<n;){const n=e[t];i[n[0]]=n[1]}return i}(Object.entries(e).map(([e,t])=>[e,aZ(t,e)])),oZ=e=>({[rZ]:e});var lZ=Bn({replace:!0,name:"Draggable",props:sZ({className:{type:String,default:"zm-draggable"},classNameDraggable:{type:String,default:"draggable"},classNameDragging:{type:String,default:"dragging"},classNameActive:{type:String,default:"active"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:e=>"string"==typeof e?"auto"===e:e>=0},dragCancel:String,axis:{type:String,default:"both",validator:e=>["x","y","both"].includes(e)},grid:{type:Array,default:()=>[1,1]},parent:{type:Boolean,default:!1},scale:{type:Number,default:1,validator:e=>e>0}}),emits:{activated:()=>!0,deactivated:()=>!0,dragging:(e,t)=>EJ(e)&&EJ(t),dragstop:(e,t)=>EJ(e)&&EJ(t),"update:active":e=>"boolean"==typeof e},setup(e,t){const n=St(),i=((e,{emit:t},n)=>{const i={start:"mousedown",move:"mousemove",stop:"mouseup"},r={start:"touchstart",move:"touchmove",stop:"touchend"},a={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},s={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let o=i;const l=St(e.x),c=St(e.y),u=St(e.z),d=St(e.active),h=St(!1),p=St(0),f=St(0),m=St(0),g=St(0),v=St(0),y=St(0);let b={},_={};function T(){b={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},_={minLeft:-1/0,maxLeft:1/0,minRight:-1/0,maxRight:1/0,minTop:-1/0,maxTop:1/0,minBottom:-1/0,maxBottom:1/0}}function S(){if(e.parent){const[e,t]=w();v.value=e||0,y.value=t||0}}function w(){if(e.parent&&n.eleRef.value){const e=window.getComputedStyle(n.eleRef.value.parentNode,null);return[parseInt(e.getPropertyValue("width"),10),parseInt(e.getPropertyValue("height"),10)]}return[0,0]}function A(i){if(i instanceof MouseEvent&&1!==i.which)return;const r=i.target||i.srcElement;if(r&&n.eleRef.value&&n.eleRef.value.contains(r)){if(e.dragCancel&&function(e,t,n){let i=e;const r=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(e=>i&&ZJ(i[e]))||"";if(!ZJ(i[r]))return!1;do{if(i[r](t))return!0;if(i===n)return!1;i=i.parentNode}while(i);return!1}(r,e.dragCancel,n.eleRef.value))return void(h.value=!1);d.value||(d.value=!0,t("activated"),t("update:active",!0)),e.draggable&&(h.value=!0),i instanceof MouseEvent?(b.mouseX=i.pageX,b.mouseY=i.pageY):(b.mouseX=i.touches[0].pageX,b.mouseY=i.touches[0].pageY),b.left=l.value,b.right=p.value,b.top=c.value,b.bottom=f.value,e.parent&&(_=k()),nZ(document.documentElement,o.move,C),nZ(document.documentElement,o.stop,E)}}function k(){const t=e.grid;return{minLeft:l.value%t[0],maxLeft:Math.floor((v.value-m.value-l.value)/t[0])*t[0]+l.value,minRight:p.value%t[0],maxRight:Math.floor((v.value-m.value-p.value)/t[0])*t[0]+p.value,minTop:c.value%t[1],maxTop:Math.floor((y.value-g.value-c.value)/t[1])*t[1]+c.value,minBottom:f.value%t[1],maxBottom:Math.floor((y.value-g.value-f.value)/t[1])*t[1]+f.value}}function x(i){const r=i.target||i.srcElement;n.eleRef.value&&!n.eleRef.value.contains(r)&&d.value&&!e.preventDeactivation&&(d.value=!1,t("deactivated"),t("update:active",!1))}function C(n){h.value&&function(n){const i=e.axis,r=e.grid;let a=0,s=0;n instanceof MouseEvent?(a=n.pageX,s=n.pageY):(a=n.touches[0].pageX,s=n.touches[0].pageY);const o=i&&"y"!==i?b.mouseX-a:0,u=i&&"x"!==i?b.mouseY-s:0,{deltaX:d,deltaY:h}=eZ(r,o,u,e.scale),m=tZ(b.left-d,_.minLeft,_.maxLeft),g=tZ(b.top-h,_.minTop,_.maxTop),v=tZ(b.right+d,_.minRight,_.maxRight),y=tZ(b.bottom+h,_.minBottom,_.maxBottom);l.value=m,c.value=g,p.value=v,f.value=y,t("dragging",l.value,c.value)}(n)}function E(){T(),h.value&&(h.value=!1,t("dragstop",l.value,c.value))}ri(()=>{T()}),ai(()=>{!e.enableNativeDrag&&n.eleRef.value&&(n.eleRef.value.ondragstart=()=>!1);const[t,i]=w();if(v.value=t,y.value=i,n.eleRef.value){const[e,t]=function(e){const t=window.getComputedStyle(e);return[parseFloat(t.getPropertyValue("width")),parseFloat(t.getPropertyValue("height"))]}(n.eleRef.value);m.value=e,g.value=t,p.value=v.value-m.value-l.value,f.value=y.value-g.value-c.value}nZ(document.documentElement,"mousedown",x),nZ(document.documentElement,"touchend touchcancel",x),nZ(window,"resize",S)}),ci(()=>{iZ(document.documentElement,"mousedown",x),iZ(document.documentElement,"touchstart",E),iZ(document.documentElement,"mousemove",C),iZ(document.documentElement,"touchmove",C),iZ(document.documentElement,"mouseup",E),iZ(document.documentElement,"touchend touchcancel",x),iZ(window,"resize",S)});const O=Sa(()=>({transform:`translate(${l.value}px, ${c.value}px)`,zIndex:u.value,...h.value&&e.disableUserSelect?a:s}));return _r(()=>e.active,e=>{d.value=e,t(e?"activated":"deactivated")}),_r(()=>e.z,e=>{(e>=0||"auto"===e)&&(u.value=e)}),_r(()=>e.x,t=>{h.value||(e.parent&&(_=k()),function(t){const{deltaX:n}=eZ(e.grid,t,c.value,e.scale),i=tZ(n,_.minLeft,_.maxLeft);l.value=i,p.value=v.value-m.value-i}(t))}),_r(()=>e.y,t=>{h.value||(e.parent&&(_=k()),function(t){const{deltaY:n}=eZ(e.grid,l.value,t,e.scale),i=tZ(n,_.minTop,_.maxTop);c.value=i,f.value=y.value-g.value-i}(t))}),{enabled:d,dragging:h,style:O,resetBoundsAndMouseState:T,elementTouchDown:function(e){o=r,A(e)},elementMouseDown:function(e){o=i,A(e)}}})(e,t,{eleRef:n});return{top:top,eleRef:n,...i}}});lZ.render=function(e,t,n,i,r,a){return Ur(),zr("div",{style:U(e.style),class:H([{[e.classNameActive]:e.enabled,[e.classNameDragging]:e.dragging,[e.classNameDraggable]:e.draggable},e.className]),ref:"eleRef",onMousedown:t[0]||(t[0]=(...t)=>e.elementMouseDown&&e.elementMouseDown(...t)),onTouchstart:t[1]||(t[1]=(...t)=>e.elementTouchDown&&e.elementTouchDown(...t))},[Ai(e.$slots,"default")],38)},lZ.__file="src/components/draggable/src/draggable.vue";var cZ=Bn({components:{TreeOrgNode:VJ},props:sZ({data:{type:Object,required:!0},props:{type:oZ(Object)},modelValue:Boolean,horizontal:Boolean,selectedKey:String,collapsable:Boolean,renderContent:Function,labelStyle:Object,labelClassName:{type:[Function,String]}}),setup:(e,t)=>({defaultSlot:!!t.slots.default,expandSlot:!!t.slots.expand})});cZ.render=function(e,t,n,i,r,a){const s=gi("tree-org-node");return Ur(),Hr(Tn,{to:"body"},[un(Kr("div",{id:"clone-tree-org",class:H(["clone-tree-org tree-org",{horizontal:e.horizontal,collapsable:e.collapsable}])},[Qr(s,{data:e.data,props:e.props,isClone:!1,horizontal:e.horizontal,labelStyle:e.labelStyle,collapsable:e.collapsable,renderContent:e.renderContent,labelClassName:e.labelClassName},wi({_:2},[e.defaultSlot?{name:"default",fn:cn(({node:t})=>[Ai(e.$slots,"default",{node:t})])}:void 0,e.expandSlot?{name:"expand",fn:cn(({node:t})=>[Ai(e.$slots,"expand",{node:t})])}:void 0]),1032,["data","props","horizontal","labelStyle","collapsable","renderContent","labelClassName"])],2),[[Ja,e.modelValue]])])},cZ.__file="src/components/clone-org/clone-org.vue";const uZ=(e,{emit:t},n)=>{const i=St("");function r(e,t,n){if(e[t.id]===n)return e;if(Array.isArray(e[t.children])){const i=e[t.children];for(let e=0,a=i.length;e<a;e++){const a=r(i[e],t,n);if(a)return a}}}function a(){const{props:n,data:i,node:a}=e;if(e.nodeDelete)return void e.nodeDelete(a.$$data);if(a.$$root)return void OJ.pretty("[] ","","danger");const{id:s,children:o}=n,l=r(i,n,a.pid);if(l){const e=l[o];for(let n=0,i=e.length;n<i;n++)if(e[n][s]===a.id){e.splice(n,1),t("onNodeDelete",a.$$data,a);break}}}function s(){const{nodeEdit:n,node:i}=e;n?n(i.$$data):(i.$$focused=!0,t("onNodeFocus",i.$$data))}function o(i){if(e.modelValue){if(n.eleRef.value&&n.eleRef.value.contains(i.target))return!1;t("update:modelValue",!1)}}const l=Sa(()=>({left:`${e.x}px`,top:`${e.y}px`})),c=Sa(()=>!e.disabled&&!e.node.disabled);return ai(()=>{document.addEventListener("mousedown",o)}),ci(()=>{document.removeEventListener("mousedown",o)}),{position:l,editable:c,handleMenu:function(r){const o=r.target;if("zm-tree-menu-item"===o.className){const r=o.getAttribute("action");switch(r){case"copy":e.nodeCopy?e.nodeCopy(e.node.$$data):(i.value=e.node.label,Jt(()=>{n.inputRef&&n.inputRef.value&&(n.inputRef&&n.inputRef.value.select(),navigator.clipboard.writeText(i.value).then(function(){OJ.pretty("[] ","","success")},function(){OJ.pretty("[] ","","danger")}),t("onNodeCopy",i.value))}));break;case"add":!function(){if(e.nodeAdd)return void e.nodeAdd(e.node.$$data);const{id:n,pid:i,label:r,expand:a,children:s}=e.props,{node:o}=e,l={[n]:String((new Date).getTime()),[i]:o.id,[r]:"",[a]:!1,[s]:[],newNode:!0,focused:!0};Array.isArray(o.children)?o.$$data[s].push(l):o.$$data[s]=[l],t("onNodeFocus",l)}();break;case"edit":s();break;case"delete":a()}t("contextmenu",{command:r,node:e.node,data:e.node.$$data}),t("update:modelValue",!1)}},handleEdit:s,handleClose:o,afterEnter:function(){t("opened")},afterLeave:function(){t("closed")}}};var dZ=Bn({name:"Contextmenu",props:sZ({modelValue:{type:Boolean,required:!0},data:{type:Object,required:!0},node:{type:oZ(Object),required:!0},props:{type:oZ(Object)},x:Number,y:Number,menus:{type:oZ(Array)},nodeAdd:Function,nodeDelete:Function,nodeEdit:Function,nodeCopy:Function,disabled:Boolean}),emits:{onNodeDelete:(e,t)=>xJ(e)&&xJ(t),onNodeCopy:e=>CJ(e),contextmenu:e=>xJ(e),onNodeFocus:e=>xJ(e),opened:()=>!0,closed:()=>!0,"update:modelValue":e=>"boolean"==typeof e},setup(e,t){const n=St(),i=St();return{eleRef:i,inputRef:n,copyText:St(""),oldData:ct({}),...uZ(e,t,{inputRef:n,eleRef:i})}}});const hZ=["action"];dZ.render=function(e,t,n,i,r,a){return Ur(),Hr(Tn,{to:"body"},[Qr(Ba,{name:"dialog-fade",onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,persisted:""},{default:cn(()=>[un(Kr("div",{style:U(e.position),onClick:t[1]||(t[1]=(...t)=>e.handleMenu&&e.handleMenu(...t)),ref:"eleRef",class:"zm-tree-contextmenu"},[Kr("ul",null,[(Ur(!0),zr(Rr,null,Si(e.menus,t=>(Ur(),zr(Rr,null,[e.editable||!["add","edit","delete"].includes(t.command)?(Ur(),zr("li",{class:"zm-tree-menu-item",action:t.command,key:t.command},Y(t.name),9,hZ)):ta("v-if",!0)],64))),256))]),un(Kr("textarea",{class:"copy-textarea",ref:"inputRef","onUpdate:modelValue":t[0]||(t[0]=t=>e.copyText=t)},null,512),[[Ss,e.copyText]])],4),[[Ja,e.modelValue]])]),_:1},8,["onAfterEnter","onAfterLeave"])])},dZ.__file="src/components/contextmenu/src/contextmenu.vue";const pZ=[{name:"",command:"copy"},{name:"",command:"add"},{name:"",command:"edit"},{name:"",command:"delete"}],fZ=sZ({data:{type:Object,required:!0},center:Boolean,props:{type:oZ(Object),default:()=>({id:"id",pid:"pid",label:"label",expand:"expand",children:"children"})},toolBar:{type:[Object,Boolean],default:()=>({expand:!0,scale:!0,zoom:!0,restore:!0,fullscreen:!0})},disabled:{type:Boolean,default:!1},scalable:{type:Boolean,default:!0},draggable:{type:Boolean,default:!0},draggableOnNode:{type:Boolean,default:!1},nodeDraggable:{type:Boolean,default:!0},cloneNodeDrag:{type:Boolean,default:!0},onlyOneNode:{type:Boolean,default:!0},clickDelay:{type:Number,default:260},lazy:Boolean,load:{type:oZ(Function)},defaultExpandLevel:Number,defaultExpandKeys:{type:Array,default:()=>[]},beforeDragEnd:Function,horizontal:Boolean,selectedKey:{type:[Array,String,Number]},collapsable:Boolean,renderContent:Function,labelStyle:Object,labelClassName:{type:[Function,String]},selectedClassName:{type:[Function,String]},defineMenus:{type:oZ([Array,Function]),default:()=>pZ},nodeAdd:Function,nodeDelete:Function,nodeEdit:Function,nodeCopy:Function,filterNodeMethod:Function}),mZ=(e,{emit:t},n)=>{const i=St(0),r=St(0),a=St(!1);function s(t,a){const s=n.zoomRef.value,o=n.treeRef.value;let l=s.clientWidth/2;const c=s.clientHeight/2;let u=s.clientHeight-o.clientHeight,d=s.clientWidth-o.clientWidth;if(u>0&&(u=0),d>0&&(d=0),e.center){const e=(s.clientWidth-o.clientWidth)/2;d-=e,l-=e}i.value=t>l?l:t<d?d:t,r.value=a<u?u:a>c?c:a}function o(e,n){s(e,n),setTimeout(()=>{PJ.set(!1)},200),t("on-drag-stop",{x:e,y:n})}const l=St(!1),c=ct({value:{}}),u=St(!1),d=St(0),h=St(0),p=St({}),f=St([]),m=St(1);function g(t){if(!e.scalable)return;const n=Number((Number(m.value)+t).toFixed(1));m.value=t>0?Math.min(3,n):Math.max(.3,n)}function v(t,n,o){if(a.value=!0,console.log(e.center,e.horizontal,t.offsetLeft,n),!e.center||e.horizontal){const e=t.offsetLeft-n;i.value-=e}const l=t.offsetTop-o;r.value-=l,s(i.value,r.value)}let y;const b=ct(Object.assign({id:"id",pid:"pid",label:"label",expand:"expand",children:"children",isLeaf:"isLeaf"},e.props)),_=St(!1);function T(e){e.forEach(e=>{e.expand&&(e.expand=!1,P.delete(e.id)),e.children&&T(e.children)})}const S=St(!1);function w(e,t){Array.isArray(e)?e.forEach(e=>{t&&P.add(e.id),e.expand=t,t&&P.add(e.id),e.children&&w(e.children,t)}):(t&&P.add(e.id),e.expand=t,t&&P.add(e.id),e.children&&w(e.children,t))}function A(e){R.value=L(e)}const k=Sa(()=>({width:100/m.value+"%",height:100/m.value+"%",transform:`scale(${m.value})`})),x=Sa(()=>`${Math.round(100*m.value)}%`),C=Sa(()=>e.draggableOnNode&&!e.nodeDraggable?"":`.tree-org-node__content:not(.is-root_${N})>.tree-org-node__inner`),E=Sa(()=>S.value?"":""),O=Sa(()=>S.value?"":""),I=St({}),D=Sa(()=>{const{cloneNodeDrag:n,onlyOneNode:i,data:r}=e;return{drag:e.nodeDraggable,dragData:{keys:b,nodeMoving:l,stopClick:PJ,parenNode:c,cloneNodeDrag:n,onlyOneNode:i,contextmenu:u,cloneData:I,data:r},beforeDragEnd:e.beforeDragEnd,initNodes:L,emit:t}});_r(()=>e.horizontal,()=>{Jt(()=>{o(i.value,r.value)})});let P=new Set(e.defaultExpandKeys);function L(t){const{defaultExpandLevel:n=0}=e,i=(e,t)=>{const{id:r,label:a,pid:s,expand:o,children:l,isLeaf:c}=b,u={};Object.keys(e).map(t=>{["hidden","disabled","className","style"].includes(t)&&(u[t]=e[t])});const d=e[l],h=t+1,p=e[o],f=e[r];return(p||void 0===p&&t<n)&&P.add(f),{...u,id:f,label:e[a],pid:e[s],expand:P.has(f),children:d?d.map(e=>i(e,h)):void 0,isLeaf:e[c],$$level:t,$$data:e,$$focused:e.focused||!1}};return i(t,0)}const R=St(L(e.data));_r(()=>e.data,(t,n)=>{t!==n&&(P=new Set(e.defaultExpandKeys)),A(e.data)},{deep:!0});const M=ct({visible:!0,data:{expand:!0,scale:!0,zoom:!0,restore:!0,fullscreen:!0}});ri(()=>{"object"==typeof e.toolBar?Object.assign(M.data,e.toolBar):e.toolBar||(M.visible=!1)});const N=function(e){e=e||32;const t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678";let n="";for(let i=0;i<e;i++)n+=t.charAt(Math.floor(48*Math.random()));return n}(6);return{keys:b,left:i,top:r,menuX:d,menuY:h,suffix:N,nodeMoving:l,zoomStyle:k,tools:M,zoomPercent:x,dragCancel:C,expandTitle:E,fullTiltle:O,nodeargs:D,expanded:S,fullscreen:_,treeData:R,autoDragging:a,contextmenu:u,nodeMenus:f,menuData:p,cloneData:I,filter:function(t){const n=e.filterNodeMethod;if(!n)throw new Error("[Tree] filterNodeMethod is required when filter");const i=function(e){const r=e.children||[];if(r.forEach(e=>{e.$$hidden=!n.call(e,t,e),i(e)}),e.$$hidden&&r.length){let t=!0;t=r.some(e=>!e.$$hidden),e.$$hidden=!t}t&&!e.$$hidden&&e.children&&(e.expand=!0)};i(R.value)},setData:A,zoomWheel:function(n){e.scalable&&(n.preventDefault(),n.deltaY<0?g(.1):g(-.1),t("on-zoom",m.value))},onDrag:function(e,n){PJ.set(!0),a.value=!1,i.value=e,r.value=n,t("on-drag",{x:e,y:n})},onDragStop:o,expandChange:function(){S.value=!S.value,S.value||(P.clear(),Jt(()=>{o(i.value,r.value)})),w(R.value,S.value),t("on-expand-all",S.value)},handleFullscreen:function(e){_.value=!_.value,"esc"!==e&&(_.value?function(){const e=n.eleRef.value;e.requestFullscreen&&e.requestFullscreen()}():document.exitFullscreen&&document.exitFullscreen())},zoomOrgchart:g,restoreOrgchart:function(){m.value=1,i.value=0,r.value=0,t("on-restore")},handleExpand:function(n,i){n.stopPropagation();const r=document.querySelector(`.is-root_${N}`);if(r){const s=r.offsetLeft,o=r.offsetTop;i.expand=!i.expand;let l=!0;i.expand?(P.add(i.id),e.lazy&&e.load&&(l=!1,a=i,(0,e.load)(a,(e,t)=>{const{children:n}=b;a.isLeaf=!e.length,e.length&&(a.$$data[n]=e,t&&Jt(()=>{v(r,s,o)}))}))):!i.expand&&i.children&&(P.delete(i.id),T(i.children)),Jt(()=>{l&&v(r,s,o)}),t("on-expand",n,i.$$data,i)}var a},getExpandKeys:function(){return[...P]},setExpandKeys:function(t){P=new Set(t),A(e.data)},nodeMouseenter:function(e,n){return l.value&&(c.value=n),t("on-node-mouseenter",e,n.$$data,n),!0},nodeMouseleave:function(e,n){return l.value&&(c.value=null),t("on-node-mouseleave",e,n.$$data,n),!0},nodeContextmenu:function(t,n){t.stopPropagation(),t.preventDefault();const{defineMenus:i}=e;Array.isArray(i)?f.value=i:"function"==typeof i&&(f.value=i(t,n)||[]),u.value=!0,d.value=t.clientX,h.value=t.clientY,p.value=n},handleFocus:function(e,n,i){t("on-node-focus",e,n,i)},handleBlur:function(e,n,i){const{id:r,label:a}=b,s=p.value.children||[];for(let t=s.length;t>0;t--){const e=s[t-1];if(""===e[r]&&""===e[a]){s.splice(t-1,1);break}}t("on-node-blur",e,n,i)},handleClick:function(n,i){PJ.get()||(clearTimeout(y),y=setTimeout(()=>{t("on-node-click",n,i.$$data,i)},e.clickDelay))},handleDblclick:function(e,n){clearTimeout(y),t("on-node-dblclick",e,n.$$data,n)}}};var gZ=Bn({name:"vue3TreeOrg",components:{Tools:qJ,CloneOrg:cZ,Draggable:lZ,Contextmenu:dZ,TreeOrgNode:VJ},directives:{nodedrag:MJ},props:fZ,emits:{"on-drag":({x:e,y:t})=>EJ(e)&&EJ(t),"on-drag-stop":({x:e,y:t})=>EJ(e)&&EJ(t),"on-restore":()=>!0,"on-zoom":e=>EJ(e),"on-expand":(e,t,n)=>e instanceof MouseEvent&&xJ(n)&&xJ(t),"on-expand-all":e=>"boolean"==typeof e,"on-node-blur":(e,t,n)=>e instanceof FocusEvent&&xJ(n)&&xJ(t),"on-node-click":(e,t,n)=>e instanceof MouseEvent&&xJ(n)&&xJ(t),"on-node-dblclick":(e,t,n)=>e instanceof MouseEvent&&xJ(n)&&xJ(t),"on-node-mouseenter":(e,t,n)=>e instanceof MouseEvent&&xJ(n)&&xJ(t),"on-node-mouseleave":(e,t,n)=>e instanceof MouseEvent&&xJ(n)&&xJ(t),"on-contextmenu":e=>xJ(e),"on-node-copy":e=>CJ(e),"on-node-delete":e=>xJ(e),"on-node-drag-start":e=>xJ(e),"on-node-drag":e=>xJ(e),"on-node-drag-end":(e,t)=>xJ(e)&&xJ(t),"on-node-focus":(e,t,n)=>e instanceof FocusEvent&&xJ(n)&&xJ(t)},setup(e,t){const n=!!t.slots.default,i=!!t.slots.expand,r=St(),a=St(),s=St();return{eleRef:r,treeRef:a,zoomRef:s,defaultSlot:n,expandSlot:i,...mZ(e,t,{eleRef:r,treeRef:a,zoomRef:s})}}});const vZ={ref:"eleRef",class:"zm-tree-org"},yZ={class:"tree-org-node__text"},bZ=Kr("span",{class:"tree-org-node__expand-btn"},null,-1),_Z={class:"tree-org-node__text"},TZ=Kr("span",{class:"tree-org-node__expand-btn"},null,-1);gZ.render=function(e,t,n,i,r,a){const s=gi("tree-org-node"),o=gi("Draggable"),l=gi("Tools"),c=gi("clone-org"),u=gi("Contextmenu");return Ur(),zr("div",vZ,[Kr("div",{ref:"zoomRef",class:H(["zoom-container",{"is-center":e.center&&!e.horizontal}]),style:U(e.zoomStyle),onWheel:t[0]||(t[0]=(...t)=>e.zoomWheel&&e.zoomWheel(...t))},[Qr(o,{x:e.left,y:e.top,class:H({dragging:e.autoDragging}),onDragging:e.onDrag,onDragstop:e.onDragStop,draggable:e.draggable,"drag-cancel":e.dragCancel},{default:cn(()=>[Kr("div",{ref:"treeRef",class:H(["tree-org",{horizontal:e.horizontal,collapsable:e.collapsable}])},[Qr(s,{data:e.treeData,props:e.keys,lazy:e.lazy,suffix:e.suffix,horizontal:e.horizontal,labelStyle:e.labelStyle,collapsable:e.collapsable,renderContent:e.renderContent,selectedKey:e.selectedKey,defaultExpandLevel:e.defaultExpandLevel,selectedClassName:e.selectedClassName,labelClassName:e.labelClassName,vNodedrag:e.nodeargs,onOnExpand:e.handleExpand,onNodeClick:e.handleClick,onNodeDblclick:e.handleDblclick,onNodeMouseenter:e.nodeMouseenter,onNodeMouseleave:e.nodeMouseleave,onNodeContextmenu:e.nodeContextmenu,onNodeFocus:e.handleFocus,onNodeBlur:e.handleBlur},wi({_:2},[e.defaultSlot?{name:"default",fn:cn(({node:t})=>[Ai(e.$slots,"default",{node:t},()=>[Kr("div",yZ,[Kr("span",null,Y(t.label),1)])])])}:void 0,e.expandSlot?{name:"expand",fn:cn(({node:t})=>[Ai(e.$slots,"expand",{node:t},()=>[bZ])])}:void 0]),1032,["data","props","lazy","suffix","horizontal","labelStyle","collapsable","renderContent","selectedKey","defaultExpandLevel","selectedClassName","labelClassName","vNodedrag","onOnExpand","onNodeClick","onNodeDblclick","onNodeMouseenter","onNodeMouseleave","onNodeContextmenu","onNodeFocus","onNodeBlur"])],2)]),_:3},8,["x","y","class","onDragging","onDragstop","draggable","drag-cancel"])],38),e.tools.visible?(Ur(),Hr(l,{key:0,tools:e.tools.data,scale:e.zoomPercent,onOnExpand:e.expandChange,onOnScale:e.zoomOrgchart,onOnRestore:e.restoreOrgchart,onOnFullscreen:e.handleFullscreen},null,8,["tools","scale","onOnExpand","onOnScale","onOnRestore","onOnFullscreen"])):ta("v-if",!0),e.nodeDraggable?(Ur(),Hr(c,{key:1,modelValue:e.nodeMoving,"onUpdate:modelValue":t[1]||(t[1]=t=>e.nodeMoving=t),props:e.keys,data:e.cloneData,horizontal:e.horizontal,"label-style":e.labelStyle,collapsable:e.collapsable,"render-content":e.renderContent,"label-class-name":e.labelClassName},wi({_:2},[e.defaultSlot?{name:"default",fn:cn(({node:t})=>[Ai(e.$slots,"default",{node:t},()=>[Kr("div",_Z,[Kr("span",null,Y(t[e.keys.label]),1)])])])}:void 0,e.expandSlot?{name:"expand",fn:cn(({node:t})=>[Ai(e.$slots,"expand",{node:t},()=>[TZ])])}:void 0]),1032,["modelValue","props","data","horizontal","label-style","collapsable","render-content","label-class-name"])):ta("v-if",!0),e.nodeMenus.length?(Ur(),Hr(u,{key:2,modelValue:e.contextmenu,"onUpdate:modelValue":t[2]||(t[2]=t=>e.contextmenu=t),x:e.menuX,y:e.menuY,node:e.menuData,data:e.data,props:e.keys,menus:e.nodeMenus,disabled:e.disabled,"node-add":e.nodeAdd,"node-delete":e.nodeDelete,"node-edit":e.nodeEdit,"node-copy":e.nodeCopy,onContextmenu:t[3]||(t[3]=t=>{e.$emit("on-contextmenu",t)}),onOnNodeCopy:t[4]||(t[4]=t=>{e.$emit("on-node-copy",t)}),onOnNodeDelete:t[5]||(t[5]=t=>{e.$emit("on-node-delete",t)})},null,8,["modelValue","x","y","node","data","props","menus","disabled","node-add","node-delete","node-edit","node-copy"])):ta("v-if",!0)],512)},gZ.__file="src/components/tree-org/src/tree.vue",gZ.install=function(e){e.component(gZ.name,gZ)};const SZ=[gZ];var wZ={install:function(e){SZ.forEach(t=>{e.component(t.name,t)}),e.use(DJ)},Vue3TreeOrg:gZ};const AZ=Is(fB),kZ=function(e={}){const t=function(e={}){const t=e.domOptions?.render||cA;e.document=e.document||("undefined"!=typeof window?document:void 0);const n=e.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return lA({...e,plugins:[...e.plugins||[],{key:"client",hooks:{"entries:updated":t}}],init:[!!n&&JSON.parse(n),...e.init||[]]})}({domOptions:{render:uA(()=>cA(t),e=>setTimeout(e,0))},...e});return t.install=function(e){const t={install(t){t.config.globalProperties.$unhead=e,t.config.globalProperties.$head=e,t.provide(hA,e)}};return t.install}(t),t}();Iw.component("v-datetime-picker",kB),Iw.component("v-collapse",xB),Iw.component("v-sub-input",CB),Iw.component("v-group-button",vF),Iw.component("v-treeselect",CF),Iw.component("v-inputselect",BF),Iw.component("v-label",UF),Iw.component("v-cascader",qF),AZ.use(kZ),AZ.use(LO),AZ.use(qO),AZ.use(bB),AZ.use(W_),AZ.use(Iw),AZ.use(kJ),AZ.use(wZ),AZ.mount("#app")}}});
