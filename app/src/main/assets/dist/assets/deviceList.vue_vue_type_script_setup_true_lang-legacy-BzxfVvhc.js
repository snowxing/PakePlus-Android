System.register(["./index-legacy-CK9unWWd.js","./equipmentLedger-legacy-BWGYp9AO.js","./index-legacy-DKq8HLyK.js"],function(e,a){"use strict";var l,t,n,o,u,r,s,c,m,i,d,f,p,_,v,b,y,g,h,j,V;return{setters:[e=>{l=e.d,t=e.j,n=e.r,o=e.l,u=e.w,r=e.o,s=e.g,c=e.a,m=e.h,i=e.T,d=e.B,f=e.F,p=e.k,_=e.c,v=e.m,b=e.au,y=e.b,g=e.I,h=e._},e=>{j=e.g},e=>{V=e.g}],execute:function(){const a=e("_",l({__name:"SearchForm",props:{form:{default:{}}},emits:["update:form"],setup(e,{emit:a}){const l=e,p=a;t();const _=n([]),v=o({...l.form});return u(v,e=>{p("update:form",e)},{deep:!0}),r(()=>{!async function(){const e=await V();_.value=e.data||[]}()}),(e,a)=>{const l=i,t=d;return c(),s(f,null,[m(l,{"model-value":v.set_etp_id,"form-create-inject":{options:_.value},placeholder:"请选择公司","onUpdate:modelValue":a[0]||(a[0]=e=>v.set_etp_id=e)},null,8,["model-value","form-create-inject"]),m(t,{modelValue:v.start_date,"onUpdate:modelValue":a[1]||(a[1]=e=>v.start_date=e),label:"开始时间"},null,8,["modelValue"]),m(t,{modelValue:v.end_date,"onUpdate:modelValue":a[2]||(a[2]=e=>v.end_date=e),label:"结束时间"},null,8,["modelValue"])],64)}}}));e("a",l({__name:"deviceList",setup(e){async function l({pageNum:e,form:a}){const l=await j({page:e,...a});return{total:Number(l.count),data:l.data}}const{routerPush:t}=p(),o=n({start_date:"",end_date:"",doc_type:"2",set_etp_id:""}),u=[{icon:"search",key:"search"}];function r(e){const a=[{label:"名称",value:e.name},{label:"所在区域",value:e.area_name},{label:"具体位置",value:e.location},{label:"责任部门",value:e.department_name},{label:"责任人",value:e.staff_name},{label:"状态",value:e.status},{label:"规格",value:e.specification},{label:"检验时间",value:e.inspection_cycle},{label:"有限期限",value:e.mdate},{label:"检验部门",value:e.mdepartment_name},{label:"检验人员",value:e.mperson},{label:"下次检验日期",value:e.mdate},{label:"检验周期",value:e.cycle},{label:"报警阀值",value:e.alarm_threshold},{label:"安装日期",value:e.install_date},{label:"备注",value:e.note},{label:"附件",value:e.files?JSON.parse(e.files):"",renderType:"image"}];t("siteDetail",{detail:JSON.stringify(a)})}const s=[{title:"名称",key:"name"},{title:"责任人",key:"staff_name"},{title:"状态",key:"status"}];return(e,t)=>{const n=g,i=h;return c(),_(i,{form:y(o),"onUpdate:form":t[1]||(t[1]=e=>b(o)?o.value=e:null),columns:s,request:l,floating:u,onOnRowClick:r},{"cell-files":v(({row:e})=>[m(n,{"class-prefix":"iconfujian",class:"iconfont menu-icon",name:"extra",alt:e.files},null,8,["alt"])]),searchForm:v(()=>[m(a,{form:y(o),"onUpdate:form":t[0]||(t[0]=e=>b(o)?o.value=e:null)},null,8,["form"])]),_:1},8,["form"])}}}))}}});
